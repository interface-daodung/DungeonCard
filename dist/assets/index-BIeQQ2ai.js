var QW=Object.defineProperty;var jW=(wt,V,K)=>V in wt?QW(wt,V,{enumerable:!0,configurable:!0,writable:!0,value:K}):wt[V]=K;var Xs=(wt,V,K)=>jW(wt,typeof V!="symbol"?V+"":V,K);(function(){const V=document.createElement("link").relList;if(V&&V.supports&&V.supports("modulepreload"))return;for(const ot of document.querySelectorAll('link[rel="modulepreload"]'))ht(ot);new MutationObserver(ot=>{for(const pt of ot)if(pt.type==="childList")for(const C of pt.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&ht(C)}).observe(document,{childList:!0,subtree:!0});function K(ot){const pt={};return ot.integrity&&(pt.integrity=ot.integrity),ot.referrerPolicy&&(pt.referrerPolicy=ot.referrerPolicy),ot.crossOrigin==="use-credentials"?pt.credentials="include":ot.crossOrigin==="anonymous"?pt.credentials="omit":pt.credentials="same-origin",pt}function ht(ot){if(ot.ep)return;ot.ep=!0;const pt=K(ot);fetch(ot.href,pt)}})();var XS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function YS(wt){return wt&&wt.__esModule&&Object.prototype.hasOwnProperty.call(wt,"default")?wt.default:wt}var HS={exports:{}};(function(wt,V){(function(ht,ot){wt.exports=ot()})(XS,()=>(()=>{var K={50792:C=>{var A=Object.prototype.hasOwnProperty,s="~";function g(){}Object.create&&(g.prototype=Object.create(null),new g().__proto__||(s=!1));function y(r,h,u){this.fn=r,this.context=h,this.once=u||!1}function f(r,h,u,a,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var c=new y(u,a||r,d),p=s?s+h:h;return r._events[p]?r._events[p].fn?r._events[p]=[r._events[p],c]:r._events[p].push(c):(r._events[p]=c,r._eventsCount++),r}function l(r,h){--r._eventsCount===0?r._events=new g:delete r._events[h]}function o(){this._events=new g,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],u,a;if(this._eventsCount===0)return h;for(a in u=this._events)A.call(u,a)&&h.push(s?a.slice(1):a);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(u)):h},o.prototype.listeners=function(h){var u=s?s+h:h,a=this._events[u];if(!a)return[];if(a.fn)return[a.fn];for(var d=0,c=a.length,p=new Array(c);d<c;d++)p[d]=a[d].fn;return p},o.prototype.listenerCount=function(h){var u=s?s+h:h,a=this._events[u];return a?a.fn?1:a.length:0},o.prototype.emit=function(h,u,a,d,c,p){var v=s?s+h:h;if(!this._events[v])return!1;var m=this._events[v],T=arguments.length,E,P;if(m.fn){switch(m.once&&this.removeListener(h,m.fn,void 0,!0),T){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,a),!0;case 4:return m.fn.call(m.context,u,a,d),!0;case 5:return m.fn.call(m.context,u,a,d,c),!0;case 6:return m.fn.call(m.context,u,a,d,c,p),!0}for(P=1,E=new Array(T-1);P<T;P++)E[P-1]=arguments[P];m.fn.apply(m.context,E)}else{var w=m.length,R;for(P=0;P<w;P++)switch(m[P].once&&this.removeListener(h,m[P].fn,void 0,!0),T){case 1:m[P].fn.call(m[P].context);break;case 2:m[P].fn.call(m[P].context,u);break;case 3:m[P].fn.call(m[P].context,u,a);break;case 4:m[P].fn.call(m[P].context,u,a,d);break;default:if(!E)for(R=1,E=new Array(T-1);R<T;R++)E[R-1]=arguments[R];m[P].fn.apply(m[P].context,E)}}return!0},o.prototype.on=function(h,u,a){return f(this,h,u,a,!1)},o.prototype.once=function(h,u,a){return f(this,h,u,a,!0)},o.prototype.removeListener=function(h,u,a,d){var c=s?s+h:h;if(!this._events[c])return this;if(!u)return l(this,c),this;var p=this._events[c];if(p.fn)p.fn===u&&(!d||p.once)&&(!a||p.context===a)&&l(this,c);else{for(var v=0,m=[],T=p.length;v<T;v++)(p[v].fn!==u||d&&!p[v].once||a&&p[v].context!==a)&&m.push(p[v]);m.length?this._events[c]=m.length===1?m[0]:m:l(this,c)}return this},o.prototype.removeAllListeners=function(h){var u;return h?(u=s?s+h:h,this._events[u]&&l(this,u)):(this._events=new g,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,C.exports=o},11517:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(38829),y=function(f,l,o,r){for(var h=f[0],u=1;u<f.length;u++){var a=f[u];g(a,h,l,o,r),h=a}return f};C.exports=y},80318:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,o,r,h){return g(f,"angle",l,o,r,h)};C.exports=y},60757:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){for(var f=0;f<s.length;f++){var l=s[f];g.call(y,l)}return s};C.exports=A},69927:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){y===void 0&&(y=0);for(var f=y;f<s.length;f++){var l=s[f],o=!0;for(var r in g)l[r]!==g[r]&&(o=!1);if(o)return l}return null};C.exports=A},32265:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){y===void 0&&(y=0);for(var f=s.length-1;f>=y;f--){var l=s[f],o=!0;for(var r in g)l[r]!==g[r]&&(o=!1);if(o)return l}return null};C.exports=A},94420:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(11879),y=s(60461),f=s(95540),l=s(29747),o=s(41481),r=new o({sys:{queueDepthSort:l,events:{once:l}}},0,0,1,1).setOrigin(0,0),h=function(u,a){a===void 0&&(a={});var d=a.hasOwnProperty("width"),c=a.hasOwnProperty("height"),p=f(a,"width",-1),v=f(a,"height",-1),m=f(a,"cellWidth",1),T=f(a,"cellHeight",m),E=f(a,"position",y.TOP_LEFT),P=f(a,"x",0),w=f(a,"y",0),R=0,L=0,O=p*m,I=v*T;r.setPosition(P,w),r.setSize(m,T);for(var F=0;F<u.length;F++)if(g(u[F],r,E),d&&p===-1)r.x+=m;else if(c&&v===-1)r.y+=T;else if(c&&!d){if(L+=T,r.y+=T,L===I&&(L=0,R+=m,r.y=w,r.x+=m,R===O))break}else if(R+=m,r.x+=m,R===O&&(R=0,L+=T,r.x=P,r.y+=T,L===I))break;return u};C.exports=h},41721:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,o,r,h){return g(f,"alpha",l,o,r,h)};C.exports=y},67285:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,o,r,h){return g(f,"x",l,o,r,h)};C.exports=y},9074:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,o,r,h,u,a){return o==null&&(o=l),g(f,"x",l,r,u,a),g(f,"y",o,h,u,a)};C.exports=y},75222:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,o,r,h){return g(f,"y",l,o,r,h)};C.exports=y},22983:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y===void 0&&(y=0),f===void 0&&(f=6.28);for(var l=y,o=(f-y)/s.length,r=g.x,h=g.y,u=g.radius,a=0;a<s.length;a++)s[a].x=r+u*Math.cos(l),s[a].y=h+u*Math.sin(l),l+=o;return s};C.exports=A},95253:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y===void 0&&(y=0),f===void 0&&(f=6.28);for(var l=y,o=(f-y)/s.length,r=g.width/2,h=g.height/2,u=0;u<s.length;u++)s[u].x=g.x+r*Math.cos(l),s[u].y=g.y+h*Math.sin(l),l+=o;return s};C.exports=A},88505:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(15258),y=s(26708),f=function(l,o,r){var h;r?h=y(o,r,l.length):h=g(o,l.length);for(var u=0;u<l.length;u++){var a=l[u],d=h[u];a.x=d.x,a.y=d.y}return l};C.exports=f},41346:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(14649),y=s(86003),f=s(49498),l=function(o,r,h){h===void 0&&(h=0);var u=g(r,!1,o.length);h>0?y(u,h):h<0&&f(u,Math.abs(h));for(var a=0;a<o.length;a++)o[a].x=u[a].x,o[a].y=u[a].y;return o};C.exports=l},11575:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(84993),y=function(f,l,o){var r=g({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},o),h=g({x1:l.x2,y1:l.y2,x2:l.x3,y2:l.y3},o),u=g({x1:l.x3,y1:l.y3,x2:l.x1,y2:l.y1},o);r.pop(),h.pop(),u.pop(),r=r.concat(h,u);for(var a=r.length/f.length,d=0,c=0;c<f.length;c++){var p=f[c],v=r[Math.floor(d)];p.x=v.x,p.y=v.y,d+=a}return f};C.exports=y},29953:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){for(var f=0;f<s.length;f++){var l=s[f];l.anims&&l.anims.play(g,y)}return s};C.exports=A},66979:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,o){f===void 0&&(f=0),l===void 0&&(l=0),o===void 0&&(o=1);var r,h=0,u=s.length;if(o===1)for(r=l;r<u;r++)s[r][g]+=y+h*f,h++;else for(r=l;r>=0;r--)s[r][g]+=y+h*f,h++;return s};C.exports=A},43967:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,o){f===void 0&&(f=0),l===void 0&&(l=0),o===void 0&&(o=1);var r,h=0,u=s.length;if(o===1)for(r=l;r<u;r++)s[r][g]=y+h*f,h++;else for(r=l;r>=0;r--)s[r][g]=y+h*f,h++;return s};C.exports=A},88926:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(28176),y=function(f,l){for(var o=0;o<f.length;o++)g(l,f[o]);return f};C.exports=y},33286:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(24820),y=function(f,l){for(var o=0;o<f.length;o++)g(l,f[o]);return f};C.exports=y},96e3:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65822),y=function(f,l){for(var o=0;o<f.length;o++)g(l,f[o]);return f};C.exports=y},28789:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26597),y=function(f,l){for(var o=0;o<f.length;o++)g(l,f[o]);return f};C.exports=y},97154:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(90260),y=function(f,l){for(var o=0;o<f.length;o++)g(l,f[o]);return f};C.exports=y},20510:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,o,r,h){return g(f,"rotation",l,o,r,h)};C.exports=y},91051:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(1163),y=s(20339),f=function(l,o,r){for(var h=o.x,u=o.y,a=0;a<l.length;a++){var d=l[a];g(d,h,u,r,Math.max(1,y(d.x,d.y,h,u)))}return l};C.exports=f},76332:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(1163),y=function(f,l,o,r){var h=l.x,u=l.y;if(r===0)return f;for(var a=0;a<f.length;a++)g(f[a],h,u,o,r);return f};C.exports=y},61619:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,o,r,h){return g(f,"scaleX",l,o,r,h)};C.exports=y},94868:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,o,r,h,u,a){return o==null&&(o=l),g(f,"scaleX",l,r,u,a),g(f,"scaleY",o,h,u,a)};C.exports=y},95532:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,o,r,h){return g(f,"scaleY",l,o,r,h)};C.exports=y},8689:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h){return g(f,"alpha",l,o,r,h)};C.exports=y},2645:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r){return g(f,"blendMode",l,0,o,r)};C.exports=y},32372:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h){return g(f,"depth",l,o,r,h)};C.exports=y},85373:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){for(var f=0;f<s.length;f++)s[f].setInteractive(g,y);return s};C.exports=A},81583:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h,u,a){return o==null&&(o=l),g(f,"originX",l,r,u,a),g(f,"originY",o,h,u,a),f.forEach(function(d){d.updateDisplayOrigin()}),f};C.exports=y},79939:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h){return g(f,"rotation",l,o,r,h)};C.exports=y},2699:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h,u,a){return o==null&&(o=l),g(f,"scaleX",l,r,u,a),g(f,"scaleY",o,h,u,a)};C.exports=y},98739:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h){return g(f,"scaleX",l,o,r,h)};C.exports=y},98476:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h){return g(f,"scaleY",l,o,r,h)};C.exports=y},6207:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h,u,a){return o==null&&(o=l),g(f,"scrollFactorX",l,r,u,a),g(f,"scrollFactorY",o,h,u,a)};C.exports=y},6607:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h){return g(f,"scrollFactorX",l,o,r,h)};C.exports=y},72248:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h){return g(f,"scrollFactorY",l,o,r,h)};C.exports=y},14036:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){for(var o=0;o<s.length;o++)s[o].setTint(g,y,f,l);return s};C.exports=A},50159:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r){return g(f,"visible",l,0,o,r)};C.exports=y},77597:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h){return g(f,"x",l,o,r,h)};C.exports=y},83194:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h,u,a){return o==null&&(o=l),g(f,"x",l,r,u,a),g(f,"y",o,h,u,a)};C.exports=y},67678:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,o,r,h){return g(f,"y",l,o,r,h)};C.exports=y},35850:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r,h){r===void 0&&(r=0),h===void 0&&(h=new g);var u,a,d=f.length;if(d===1)u=f[0].x,a=f[0].y,f[0].x=l,f[0].y=o;else{var c=1,p=0;r===0&&(p=d-1,c=d-2),u=f[p].x,a=f[p].y,f[p].x=l,f[p].y=o;for(var v=0;v<d;v++)if(!(c>=d||c===-1)){var m=f[c],T=m.x,E=m.y;m.x=u,m.y=a,u=T,a=E,r===0?c--:c++}}return h.x=u,h.y=a,h};C.exports=y},8628:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33680),y=function(f){return g(f)};C.exports=y},21837:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7602),y=function(f,l,o,r,h){h===void 0&&(h=!1);var u=Math.abs(r-o)/f.length,a;if(h)for(a=0;a<f.length;a++)f[a][l]+=g(a*u,o,r);else for(a=0;a<f.length;a++)f[a][l]=g(a*u,o,r);return f};C.exports=y},21910:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54261),y=function(f,l,o,r,h){h===void 0&&(h=!1);var u=Math.abs(r-o)/f.length,a;if(h)for(a=0;a<f.length;a++)f[a][l]+=g(a*u,o,r);else for(a=0;a<f.length;a++)f[a][l]=g(a*u,o,r);return f};C.exports=y},62054:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){if(l===void 0&&(l=!1),s.length===0)return s;if(s.length===1)return l?s[0][g]+=(f+y)/2:s[0][g]=(f+y)/2,s;var o=Math.abs(f-y)/(s.length-1),r;if(l)for(r=0;r<s.length;r++)s[r][g]+=r*o+y;else for(r=0;r<s.length;r++)s[r][g]=r*o+y;return s};C.exports=A},79815:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=0;g<s.length;g++)s[g].visible=!s[g].visible;return s};C.exports=A},39665:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(15994),y=function(f,l,o){o===void 0&&(o=0);for(var r=0;r<f.length;r++){var h=f[r];h.x=g(h.x,l.left-o,l.right+o),h.y=g(h.y,l.top-o,l.bottom+o)}return f};C.exports=y},61061:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AlignTo:s(11517),Angle:s(80318),Call:s(60757),GetFirst:s(69927),GetLast:s(32265),GridAlign:s(94420),IncAlpha:s(41721),IncX:s(67285),IncXY:s(9074),IncY:s(75222),PlaceOnCircle:s(22983),PlaceOnEllipse:s(95253),PlaceOnLine:s(88505),PlaceOnRectangle:s(41346),PlaceOnTriangle:s(11575),PlayAnimation:s(29953),PropertyValueInc:s(66979),PropertyValueSet:s(43967),RandomCircle:s(88926),RandomEllipse:s(33286),RandomLine:s(96e3),RandomRectangle:s(28789),RandomTriangle:s(97154),Rotate:s(20510),RotateAround:s(91051),RotateAroundDistance:s(76332),ScaleX:s(61619),ScaleXY:s(94868),ScaleY:s(95532),SetAlpha:s(8689),SetBlendMode:s(2645),SetDepth:s(32372),SetHitArea:s(85373),SetOrigin:s(81583),SetRotation:s(79939),SetScale:s(2699),SetScaleX:s(98739),SetScaleY:s(98476),SetScrollFactor:s(6207),SetScrollFactorX:s(6607),SetScrollFactorY:s(72248),SetTint:s(14036),SetVisible:s(50159),SetX:s(77597),SetXY:s(83194),SetY:s(67678),ShiftPosition:s(35850),Shuffle:s(8628),SmootherStep:s(21910),SmoothStep:s(21837),Spread:s(62054),ToggleVisible:s(79815),WrapInRectangle:s(39665)}},42099:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(74943),l=s(81957),o=s(41138),r=s(35154),h=s(90126),u=new y({initialize:function(d,c,p){this.manager=d,this.key=c,this.type="frame",this.frames=this.getFrames(d.textureManager,r(p,"frames",[]),r(p,"defaultTextureKey",null),r(p,"sortFrames",!0)),this.frameRate=r(p,"frameRate",null),this.duration=r(p,"duration",null),this.msPerFrame,this.skipMissedFrames=r(p,"skipMissedFrames",!0),this.delay=r(p,"delay",0),this.repeat=r(p,"repeat",0),this.repeatDelay=r(p,"repeatDelay",0),this.yoyo=r(p,"yoyo",!1),this.showBeforeDelay=r(p,"showBeforeDelay",!1),this.showOnStart=r(p,"showOnStart",!1),this.hideOnComplete=r(p,"hideOnComplete",!1),this.randomFrame=r(p,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(a,d,c,p){c===null&&p===null?(a.frameRate=24,a.duration=24/d*1e3):c&&p===null?(a.duration=c,a.frameRate=d/(c/1e3)):(a.frameRate=p,a.duration=d/p*1e3),a.msPerFrame=1e3/a.frameRate},addFrame:function(a){return this.addFrameAt(this.frames.length,a)},addFrameAt:function(a,d){var c=this.getFrames(this.manager.textureManager,d);if(c.length>0){if(a===0)this.frames=c.concat(this.frames);else if(a===this.frames.length)this.frames=this.frames.concat(c);else{var p=this.frames.slice(0,a),v=this.frames.slice(a);this.frames=p.concat(c,v)}this.updateFrameSequence()}return this},checkFrame:function(a){return a>=0&&a<this.frames.length},getFirstTick:function(a){a.accumulator=0,a.nextTick=a.frameRate===a.currentAnim.frameRate&&a.currentFrame.duration||a.msPerFrame},getFrameAt:function(a){return this.frames[a]},getFrames:function(a,d,c,p){p===void 0&&(p=!0);var v=[],m,T,E=1,P,w;if(typeof d=="string"){if(w=d,!a.exists(w))return console.warn('Texture "%s" not found',w),v;var R=a.get(w),L=R.getFrameNames();p&&h(L),d=[],L.forEach(function(z){d.push({key:w,frame:z})})}if(!Array.isArray(d)||d.length===0)return v;for(P=0;P<d.length;P++){var O=d[P],I=r(O,"key",c);if(I){var F=r(O,"frame",0),B=a.getFrame(I,F);if(!B){console.warn('Texture "%s" not found',I);continue}T=new o(I,F,E,B),T.duration=r(O,"duration",0),T.isFirst=!m,m&&(m.nextFrame=T,T.prevFrame=m),v.push(T),m=T,E++}}if(v.length>0){T.isLast=!0,T.nextFrame=v[0],v[0].prevFrame=T;var G=1/(v.length-1);for(P=0;P<v.length;P++)v[P].progress=P*G}return v},getNextTick:function(a){a.accumulator-=a.nextTick,a.nextTick=a.frameRate===a.currentAnim.frameRate&&a.currentFrame.duration||a.msPerFrame},getFrameByProgress:function(a){return a=g(a,0,1),l(a,this.frames,"progress")},nextFrame:function(a){var d=a.currentFrame;d.isLast?a.yoyo?this.handleYoyoFrame(a,!1):a.repeatCounter>0?a.inReverse&&a.forward?a.forward=!1:this.repeatAnimation(a):a.complete():this.updateAndGetNextTick(a,d.nextFrame)},handleYoyoFrame:function(a,d){if(d||(d=!1),a.inReverse===!d&&a.repeatCounter>0){(a.repeatDelay===0||a.pendingRepeat)&&(a.forward=d),this.repeatAnimation(a);return}if(a.inReverse!==d&&a.repeatCounter===0){a.complete();return}a.forward=d;var c=d?a.currentFrame.nextFrame:a.currentFrame.prevFrame;this.updateAndGetNextTick(a,c)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(a){var d=a.currentFrame;d.isFirst?a.yoyo?this.handleYoyoFrame(a,!0):a.repeatCounter>0?a.inReverse&&!a.forward?this.repeatAnimation(a):(a.forward=!0,this.repeatAnimation(a)):a.complete():this.updateAndGetNextTick(a,d.prevFrame)},updateAndGetNextTick:function(a,d){a.setCurrentFrame(d),this.getNextTick(a)},removeFrame:function(a){var d=this.frames.indexOf(a);return d!==-1&&this.removeFrameAt(d),this},removeFrameAt:function(a){return this.frames.splice(a,1),this.updateFrameSequence(),this},repeatAnimation:function(a){if(a._pendingStop===2){if(a._pendingStopValue===0)return a.stop();a._pendingStopValue--}a.repeatDelay>0&&!a.pendingRepeat?(a.pendingRepeat=!0,a.accumulator-=a.nextTick,a.nextTick+=a.repeatDelay):(a.repeatCounter--,a.forward?a.setCurrentFrame(a.currentFrame.nextFrame):a.setCurrentFrame(a.currentFrame.prevFrame),a.isPlaying&&(this.getNextTick(a),a.handleRepeat()))},toJSON:function(){var a={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(d){a.frames.push(d.toJSON())}),a},updateFrameSequence:function(){for(var a=this.frames.length,d=1/(a-1),c,p=0;p<a;p++)c=this.frames[p],c.index=p+1,c.isFirst=!1,c.isLast=!1,c.progress=p*d,p===0?(c.isFirst=!0,a===1?(c.isLast=!0,c.nextFrame=c,c.prevFrame=c):(c.isLast=!1,c.prevFrame=this.frames[a-1],c.nextFrame=this.frames[p+1])):p===a-1&&a>1?(c.isLast=!0,c.prevFrame=this.frames[a-2],c.nextFrame=this.frames[0]):a>1&&(c.prevFrame=this.frames[p-1],c.nextFrame=this.frames[p+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var a=0;a<this.frames.length;a++)this.frames[a].destroy();this.frames=[],this.manager=null}});C.exports=u},41138:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r,h,u){u===void 0&&(u=!1),this.textureKey=l,this.textureFrame=o,this.index=r,this.frame=h,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=u},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});C.exports=y},60848:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(42099),y=s(83419),f=s(90330),l=s(50792),o=s(74943),r=s(8443),h=s(95540),u=s(35154),a=s(36383),d=s(20283),c=s(41836),p=new y({Extends:l,initialize:function(m){l.call(this),this.game=m,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",m.events.once(r.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(r.DESTROY,this.destroy,this)},addMix:function(v,m,T){var E=this.anims,P=this.mixes,w=typeof v=="string"?v:v.key,R=typeof m=="string"?m:m.key;if(E.has(w)&&E.has(R)){var L=P.get(w);L||(L={}),L[R]=T,P.set(w,L)}return this},removeMix:function(v,m){var T=this.mixes,E=typeof v=="string"?v:v.key,P=T.get(E);if(P)if(m){var w=typeof m=="string"?m:m.key;P.hasOwnProperty(w)&&delete P[w]}else m||T.delete(E);return this},getMix:function(v,m){var T=this.mixes,E=typeof v=="string"?v:v.key,P=typeof m=="string"?m:m.key,w=T.get(E);return w&&w.hasOwnProperty(P)?w[P]:0},add:function(v,m){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(m.key=v,this.anims.set(v,m),this.emit(o.ADD_ANIMATION,v,m),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,m,T){var E=[],P=this.game.cache.json.get(v);if(!P)return console.warn("No Aseprite data found for: "+v),E;var w=this,R=u(P,"meta",null),L=u(P,"frames",null);if(R&&L){var O=u(R,"frameTags",[]);O.forEach(function(I){var F=[],B=h(I,"name",null),G=h(I,"from",0),z=h(I,"to",0),Y=h(I,"direction","forward");if(B&&(!m||m&&m.indexOf(B)>-1)){for(var J=0,$=G;$<=z;$++){var j=$.toString(),X=L[j];if(X){var H=h(X,"duration",a.MAX_SAFE_INTEGER);F.push({key:v,frame:j,duration:H}),J+=H}}Y==="reverse"&&(F=F.reverse());var N={key:B,frames:F,duration:J,yoyo:Y==="pingpong"},Q;T?T.anims&&(Q=T.anims.create(N)):Q=w.create(N),Q&&E.push(Q)}})}return E},create:function(v){var m=v.key,T=!1;return m&&(T=this.get(m),T?console.warn("AnimationManager key already exists: "+m):(T=new g(this,m,v),this.anims.set(m,T),this.emit(o.ADD_ANIMATION,m,T))),T},fromJSON:function(v,m){m===void 0&&(m=!1),m&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var T=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var E=0;E<v.anims.length;E++)T.push(this.create(v.anims[E]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&T.push(this.create(v));return T},generateFrameNames:function(v,m){var T=u(m,"prefix",""),E=u(m,"start",0),P=u(m,"end",0),w=u(m,"suffix",""),R=u(m,"zeroPad",0),L=u(m,"outputArray",[]),O=u(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),L;var I=this.textureManager.get(v);if(!I)return L;var F;if(m)for(O||(O=d(E,P)),F=0;F<O.length;F++){var B=T+c(O[F],R,"0",1)+w;I.has(B)?L.push({key:v,frame:B}):console.warn('Frame "%s" not found in texture "%s"',B,v)}else for(O=I.getFrameNames(),F=0;F<O.length;F++)L.push({key:v,frame:O[F]});return L},generateFrameNumbers:function(v,m){var T=u(m,"start",0),E=u(m,"end",-1),P=u(m,"first",!1),w=u(m,"outputArray",[]),R=u(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),w;var L=this.textureManager.get(v);if(!L)return w;P&&L.has(P)&&w.push({key:v,frame:P}),R||(E===-1&&(E=L.frameTotal-2),R=d(T,E));for(var O=0;O<R.length;O++){var I=R[O];L.has(I)?w.push({key:v,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,v)}return w},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var m=this.textureManager.get(v),T=m.key,E=this.anims.getArray(),P=[],w=0;w<E.length;w++)for(var R=E[w],L=R.frames,O=0;O<L.length;O++)if(L[O].textureKey===T){P.push(R.key);break}return P},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(v,m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)m[T].anims.play(v);return this},staggerPlay:function(v,m,T,E){T===void 0&&(T=0),E===void 0&&(E=!0),Array.isArray(m)||(m=[m]);var P=m.length;E||P--;for(var w=0;w<m.length;w++){var R=T<0?Math.abs(T)*(P-w):T*w;m[w].anims.playAfterDelay(v,R)}return this},remove:function(v){var m=this.get(v);return m&&(this.emit(o.REMOVE_ANIMATION,v,m),this.anims.delete(v),this.removeMix(v)),m},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},toJSON:function(v){var m={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?m.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(T,E){m.anims.push(E.toJSON())}),m},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});C.exports=p},9674:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(42099),y=s(30976),f=s(83419),l=s(90330),o=s(74943),r=s(95540),h=new f({initialize:function(a){this.parent=a,this.animationManager=a.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(u){var a=this.parent;if(u===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,a;Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var c=u[d];this.nextAnim?this.nextAnimsQueue.push(c):this.nextAnim=c}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(u){this.isPlaying&&this.stop();var a=this.animationManager,d=typeof u=="string"?u:r(u,"key",null),c=this.exists(d)?this.get(d):a.get(d);if(!c)console.warn("Missing animation: "+d);else{this.currentAnim=c;var p=c.getTotalFrames(),v=r(u,"frameRate",c.frameRate),m=r(u,"duration",c.duration);c.calculateDuration(this,p,m,v),this.delay=r(u,"delay",c.delay),this.repeat=r(u,"repeat",c.repeat),this.repeatDelay=r(u,"repeatDelay",c.repeatDelay),this.yoyo=r(u,"yoyo",c.yoyo),this.showBeforeDelay=r(u,"showBeforeDelay",c.showBeforeDelay),this.showOnStart=r(u,"showOnStart",c.showOnStart),this.hideOnComplete=r(u,"hideOnComplete",c.hideOnComplete),this.skipMissedFrames=r(u,"skipMissedFrames",c.skipMissedFrames),this.randomFrame=r(u,"randomFrame",c.randomFrame),this.timeScale=r(u,"timeScale",this.timeScale);var T=r(u,"startFrame",0);T>p&&(T=0),this.randomFrame&&(T=y(0,p-1));var E=c.frames[T];T===0&&!this.forward&&(E=c.getLastFrame()),this.currentFrame=E}return this.parent},pause:function(u){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),u!==void 0&&this.setCurrentFrame(u),this.parent},resume:function(u){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),u!==void 0&&this.setCurrentFrame(u),this.parent},playAfterDelay:function(u,a){if(!this.isPlaying)this.delayCounter=a,this.play(u,!0);else{var d=this.nextAnim,c=this.nextAnimsQueue;d&&c.unshift(d),this.nextAnim=u,this._pendingStop=1,this._pendingStopValue=a}return this.parent},playAfterRepeat:function(u,a){if(a===void 0&&(a=1),!this.isPlaying)this.play(u);else{var d=this.nextAnim,c=this.nextAnimsQueue;d&&c.unshift(d),this.repeatCounter!==-1&&a>this.repeatCounter&&(a=this.repeatCounter),this.nextAnim=u,this._pendingStop=2,this._pendingStopValue=a}return this.parent},play:function(u,a){a===void 0&&(a=!1);var d=this.currentAnim,c=this.parent,p=typeof u=="string"?u:u.key;if(a&&this.isPlaying&&d.key===p)return c;if(d&&this.isPlaying){var v=this.animationManager.getMix(d.key,u);if(v>0)return this.playAfterDelay(u,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(u)},playReverse:function(u,a){a===void 0&&(a=!1);var d=typeof u=="string"?u:u.key;return a&&this.isPlaying&&this.currentAnim.key===d?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(u))},startAnimation:function(u){this.load(u);var a=this.currentAnim,d=this.parent;return a&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,a.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),d},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(u,a){var d=this.currentAnim;if(d){var c=this.currentFrame,p=this.parent,v=c.textureFrame;p.emit(u,d,c,p,v),a&&p.emit(a+d.key,d,c,p,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var u=this.currentFrame;if(!u)return 0;var a=u.progress;return this.inReverse&&(a*=-1),a},setProgress:function(u){return this.forward||(u=1-u),this.setCurrentFrame(this.currentAnim.getFrameByProgress(u)),this.parent},setRepeat:function(u){return this.repeatCounter=u===-1?Number.MAX_VALUE:u,this.parent},globalRemove:function(u,a){a===void 0&&(a=this.currentAnim),this.isPlaying&&a.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(u,a){u===void 0&&(u=!1),a===void 0&&(a=!1);var d=this.currentAnim,c=this.parent;return d?(a&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),d.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!u,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(d.frames[0]),this.parent):c},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var u=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(u)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var u=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(u)}return this.parent},stopAfterDelay:function(u){return this._pendingStop=1,this._pendingStopValue=u,this.parent},stopAfterRepeat:function(u){return u===void 0&&(u=1),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=u,this.parent},stopOnFrame:function(u){return this._pendingStop=3,this._pendingStopValue=u,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(u,a){var d=this.currentAnim;if(!(!this.isPlaying||!d||d.paused)){if(this.accumulator+=a*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=a,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?d.nextFrame(this):d.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var c=0;do this.forward?d.nextFrame(this):d.previousFrame(this),c++;while(this.isPlaying&&this.accumulator>this.nextTick&&c<60)}}},setCurrentFrame:function(u){var a=this.parent;return this.currentFrame=u,a.texture=u.frame.texture,a.frame=u.frame,a.isCropped&&a.frame.updateCropUVs(a._crop,a.flipX,a.flipY),u.setAlpha&&(a.alpha=u.alpha),a.setSizeToFrame(),a._originComponent&&(u.frame.customPivot?a.setOrigin(u.frame.pivotX,u.frame.pivotY):a.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===u&&this.stop()),a},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(u){return this.anims?this.anims.get(u):null},exists:function(u){return this.anims?this.anims.has(u):!1},create:function(u){var a=u.key,d=!1;return a&&(d=this.get(a),d?console.warn("Animation key already exists: "+a):(d=new g(this,a,u),this.anims||(this.anims=new l),this.anims.set(a,d))),d},createFromAseprite:function(u,a){return this.animationManager.createFromAseprite(u,a,this.parent)},generateFrameNames:function(u,a){return this.animationManager.generateFrameNames(u,a)},generateFrameNumbers:function(u,a){return this.animationManager.generateFrameNumbers(u,a)},remove:function(u){var a=this.get(u);return a&&(this.currentAnim===a&&this.stop(),this.anims.delete(u)),a},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});C.exports=h},57090:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="add"},25312:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationcomplete"},89580:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationcomplete-"},52860:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationrepeat"},63850:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationrestart"},99085:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationstart"},28087:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationstop"},1794:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationupdate"},52562:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pauseall"},57953:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="remove"},68339:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resumeall"},74943:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADD_ANIMATION:s(57090),ANIMATION_COMPLETE:s(25312),ANIMATION_COMPLETE_KEY:s(89580),ANIMATION_REPEAT:s(52860),ANIMATION_RESTART:s(63850),ANIMATION_START:s(99085),ANIMATION_STOP:s(28087),ANIMATION_UPDATE:s(1794),PAUSE_ALL:s(52562),REMOVE_ANIMATION:s(57953),RESUME_ALL:s(68339)}},60421:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Animation:s(42099),AnimationFrame:s(41138),AnimationManager:s(60848),AnimationState:s(9674),Events:s(74943)}},2161:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(90330),f=s(50792),l=s(24736),o=new g({initialize:function(){this.entries=new y,this.events=new f},add:function(r,h){return this.entries.set(r,h),this.events.emit(l.ADD,this,r,h),this},has:function(r){return this.entries.has(r)},exists:function(r){return this.entries.has(r)},get:function(r){return this.entries.get(r)},remove:function(r){var h=this.get(r);return h&&(this.entries.delete(r),this.events.emit(l.REMOVE,this,r,h.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});C.exports=o},24047:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2161),y=s(83419),f=s(8443),l=new y({initialize:function(r){this.game=r,this.binary=new g,this.bitmapFont=new g,this.json=new g,this.physics=new g,this.shader=new g,this.audio=new g,this.video=new g,this.text=new g,this.html=new g,this.obj=new g,this.tilemap=new g,this.xml=new g,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(o){return this.custom.hasOwnProperty(o)||(this.custom[o]=new g),this.custom[o]},destroy:function(){for(var o=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],r=0;r<o.length;r++)this[o[r]].destroy(),this[o[r]]=null;for(var h in this.custom)this.custom[h].destroy();this.custom=null,this.game=null}});C.exports=l},51464:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="add"},59261:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="remove"},24736:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADD:s(51464),REMOVE:s(59261)}},83388:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BaseCache:s(2161),CacheManager:s(24047),Events:s(24736)}},71911:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(39506),l=s(50792),o=s(19715),r=s(87841),h=s(61340),u=s(80333),a=s(26099),d=new g({Extends:l,Mixins:[y.AlphaSingle,y.Visible],initialize:function(p,v,m,T){p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),l.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new r,this.dirty=!0,this._x=p,this._y=v,this._width=m,this._height=T,this._bounds=new r,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new h,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new a(m/2,T/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(c){this.renderList.push(c)},setOrigin:function(c,p){return c===void 0&&(c=.5),p===void 0&&(p=c),this.originX=c,this.originY=p,this},getScroll:function(c,p,v){v===void 0&&(v=new a);var m=this.width*.5,T=this.height*.5;return v.x=c-m,v.y=p-T,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(c){var p=this.width*.5;return this.midPoint.x=c,this.scrollX=c-p,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(c){var p=this.height*.5;return this.midPoint.y=c,this.scrollY=c-p,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(c,p){return this.centerOnX(c),this.centerOnY(p),this},centerToBounds:function(){if(this.useBounds){var c=this._bounds,p=this.width*.5,v=this.height*.5;this.midPoint.set(c.centerX,c.centerY),this.scrollX=c.centerX-p,this.scrollY=c.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(c){if(this.disableCull)return c;var p=this.matrix.matrix,v=p[0],m=p[1],T=p[2],E=p[3],P=v*E-m*T;if(!P)return c;var w=p[4],R=p[5],L=this.scrollX,O=this.scrollY,I=this.width,F=this.height,B=this.y,G=B+F,z=this.x,Y=z+I,J=this.culledObjects,$=c.length;P=1/P,J.length=0;for(var j=0;j<$;++j){var X=c[j];if(!X.hasOwnProperty("width")||X.parentContainer){J.push(X);continue}var H=X.width,N=X.height,Q=X.x-L*X.scrollFactorX-H*X.originX,U=X.y-O*X.scrollFactorY-N*X.originY,q=Q*v+U*T+w,et=Q*m+U*E+R,it=(Q+H)*v+(U+N)*T+w,rt=(Q+H)*m+(U+N)*E+R;it>z&&q<Y&&rt>B&&et<G&&J.push(X)}return J},getWorldPoint:function(c,p,v){v===void 0&&(v=new a);var m=this.matrix.matrix,T=m[0],E=m[1],P=m[2],w=m[3],R=m[4],L=m[5],O=T*w-E*P;if(!O)return v.x=c,v.y=p,v;O=1/O;var I=w*O,F=-E*O,B=-P*O,G=T*O,z=(P*L-w*R)*O,Y=(E*R-T*L)*O,J=Math.cos(this.rotation),$=Math.sin(this.rotation),j=this.zoomX,X=this.zoomY,H=this.scrollX,N=this.scrollY,Q=c+(H*J-N*$)*j,U=p+(H*$+N*J)*X;return v.x=Q*I+U*B+z,v.y=Q*F+U*G+Y,v},ignore:function(c){var p=this.id;Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var m=c[v];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=p}return this},clampX:function(c){var p=this._bounds,v=this.displayWidth,m=p.x+(v-this.width)/2,T=Math.max(m,m+p.width-v);return c<m?c=m:c>T&&(c=T),c},clampY:function(c){var p=this._bounds,v=this.displayHeight,m=p.y+(v-this.height)/2,T=Math.max(m,m+p.height-v);return c<m?c=m:c>T&&(c=T),c},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(c){return c===void 0&&(c=0),this.rotation=f(c),this},setBackgroundColor:function(c){return c===void 0&&(c="rgba(0,0,0,0)"),this.backgroundColor=u(c),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(c,p,v,m,T){return T===void 0&&(T=!1),this._bounds.setTo(c,p,v,m),this.dirty=!0,this.useBounds=!0,T?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(c){c===void 0&&(c=new r);var p=this._bounds;return c.setTo(p.x,p.y,p.width,p.height),c},setName:function(c){return c===void 0&&(c=""),this.name=c,this},setPosition:function(c,p){return p===void 0&&(p=c),this.x=c,this.y=p,this},setRotation:function(c){return c===void 0&&(c=0),this.rotation=c,this},setRoundPixels:function(c){return this.roundPixels=c,this},setScene:function(c,p){p===void 0&&(p=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=c,this.isSceneCamera=p;var v=c.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(c,p){return p===void 0&&(p=c),this.scrollX=c,this.scrollY=p,this},setSize:function(c,p){return p===void 0&&(p=c),this.width=c,this.height=p,this},setViewport:function(c,p,v,m){return this.x=c,this.y=p,this.width=v,this.height=m,this},setZoom:function(c,p){return c===void 0&&(c=1),p===void 0&&(p=c),c===0&&(c=.001),p===0&&(p=.001),this.zoomX=c,this.zoomY=p,this},setMask:function(c,p){return p===void 0&&(p=!0),this.mask=c,this._maskCamera=p?this.cameraManager.default:this,this},clearMask:function(c){return c===void 0&&(c=!1),c&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var c={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(c.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),c},update:function(){},setIsSceneCamera:function(c){return this.isSceneCamera=c,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var c=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,p=this.sceneManager;c&&!this._customViewport?p.customViewports++:!c&&this._customViewport&&p.customViewports--,this.dirty=!0,this._customViewport=c}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(c){this._x=c,this.updateSystem()}},y:{get:function(){return this._y},set:function(c){this._y=c,this.updateSystem()}},width:{get:function(){return this._width},set:function(c){this._width=c,this.updateSystem()}},height:{get:function(){return this._height},set:function(c){this._height=c,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(c){c!==this._scrollX&&(this._scrollX=c,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(c){c!==this._scrollY&&(this._scrollY=c,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(c){this._zoomX=c,this._zoomY=c,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(c){this._zoomX=c,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(c){this._zoomY=c,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});C.exports=d},38058:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(71911),y=s(67502),f=s(45319),l=s(83419),o=s(31401),r=s(20052),h=s(19715),u=s(28915),a=s(87841),d=s(26099),c=new l({Extends:g,Mixins:[o.PostPipeline],initialize:function(v,m,T,E){g.call(this,v,m,T,E),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new r.Fade(this),this.flashEffect=new r.Flash(this),this.shakeEffect=new r.Shake(this),this.panEffect=new r.Pan(this),this.rotateToEffect=new r.RotateTo(this),this.zoomEffect=new r.Zoom(this),this.lerp=new d(1,1),this.followOffset=new d,this.deadzone=null,this._follow=null},setDeadzone:function(p,v){if(p===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=p,this.deadzone.height=v):this.deadzone=new a(0,0,p,v),this._follow){var m=this.width/2,T=this.height/2,E=this._follow.x-this.followOffset.x,P=this._follow.y-this.followOffset.y;this.midPoint.set(E,P),this.scrollX=E-m,this.scrollY=P-T}y(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(p,v,m,T,E,P){return this.fadeEffect.start(!1,p,v,m,T,!0,E,P)},fadeOut:function(p,v,m,T,E,P){return this.fadeEffect.start(!0,p,v,m,T,!0,E,P)},fadeFrom:function(p,v,m,T,E,P,w){return this.fadeEffect.start(!1,p,v,m,T,E,P,w)},fade:function(p,v,m,T,E,P,w){return this.fadeEffect.start(!0,p,v,m,T,E,P,w)},flash:function(p,v,m,T,E,P,w){return this.flashEffect.start(p,v,m,T,E,P,w)},shake:function(p,v,m,T,E){return this.shakeEffect.start(p,v,m,T,E)},pan:function(p,v,m,T,E,P,w){return this.panEffect.start(p,v,m,T,E,P,w)},rotateTo:function(p,v,m,T,E,P,w){return this.rotateToEffect.start(p,v,m,T,E,P,w)},zoomTo:function(p,v,m,T,E,P){return this.zoomEffect.start(p,v,m,T,E,P)},preRender:function(){this.renderList.length=0;var p=this.width,v=this.height,m=p*.5,T=v*.5,E=this.zoomX,P=this.zoomY,w=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(E)&&Number.isInteger(P);var R=p*this.originX,L=v*this.originY,O=this._follow,I=this.deadzone,F=this.scrollX,B=this.scrollY;I&&y(I,this.midPoint.x,this.midPoint.y);var G=!1;if(O&&!this.panEffect.isRunning){var z=this.lerp,Y=O.x-this.followOffset.x,J=O.y-this.followOffset.y;I?(Y<I.x?F=u(F,F-(I.x-Y),z.x):Y>I.right&&(F=u(F,F+(Y-I.right),z.x)),J<I.y?B=u(B,B-(I.y-J),z.y):J>I.bottom&&(B=u(B,B+(J-I.bottom),z.y))):(F=u(F,Y-R,z.x),B=u(B,J-L,z.y)),G=!0}this.roundPixels&&(F=Math.floor(F),B=Math.floor(B)),this.useBounds&&(F=this.clampX(F),B=this.clampY(B)),this.scrollX=F,this.scrollY=B;var $=F+m,j=B+T;this.midPoint.set($,j);var X=Math.floor(p/E+.5),H=Math.floor(v/P+.5),N=Math.floor($-X/2+.5),Q=Math.floor(j-H/2+.5);this.worldView.setTo(N,Q,X,H),w.applyITRS(Math.floor(this.x+R+.5),Math.floor(this.y+L+.5),this.rotation,E,P),w.translate(-R,-L),this.shakeEffect.preRender(),G&&this.emit(h.FOLLOW_UPDATE,this,O)},setLerp:function(p,v){return p===void 0&&(p=1),v===void 0&&(v=p),this.lerp.set(p,v),this},setFollowOffset:function(p,v){return p===void 0&&(p=0),v===void 0&&(v=0),this.followOffset.set(p,v),this},startFollow:function(p,v,m,T,E,P){v===void 0&&(v=!1),m===void 0&&(m=1),T===void 0&&(T=m),E===void 0&&(E=0),P===void 0&&(P=E),this._follow=p,this.roundPixels=v,m=f(m,0,1),T=f(T,0,1),this.lerp.set(m,T),this.followOffset.set(E,P);var w=this.width/2,R=this.height/2,L=p.x-E,O=p.y-P;return this.midPoint.set(L,O),this.scrollX=L-w,this.scrollY=O-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(p,v){this.visible&&(this.rotateToEffect.update(p,v),this.panEffect.update(p,v),this.zoomEffect.update(p,v),this.shakeEffect.update(p,v),this.flashEffect.update(p,v),this.fadeEffect.update(p,v))},destroy:function(){this.resetFX(),g.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});C.exports=c},32743:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(38058),y=s(83419),f=s(95540),l=s(37277),o=s(37303),r=s(97480),h=s(44594),u=new y({initialize:function(d){this.scene=d,this.systems=d.sys,this.roundPixels=d.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,d.sys.events.once(h.BOOT,this.boot,this),d.sys.events.on(h.START,this.start,this)},boot:function(){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new g(0,0,a.scale.width,a.scale.height).setScene(this.scene),a.game.scale.on(r.RESIZE,this.onResize,this),this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){if(!this.main){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0]}var d=this.systems.events;d.on(h.UPDATE,this.update,this),d.once(h.SHUTDOWN,this.shutdown,this)},add:function(a,d,c,p,v,m){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=this.scene.sys.scale.width),p===void 0&&(p=this.scene.sys.scale.height),v===void 0&&(v=!1),m===void 0&&(m="");var T=new g(a,d,c,p);return T.setName(m),T.setScene(this.scene),T.setRoundPixels(this.roundPixels),T.id=this.getNextID(),this.cameras.push(T),v&&(this.main=T),T},addExisting:function(a,d){d===void 0&&(d=!1);var c=this.cameras.indexOf(a);return c===-1?(a.id=this.getNextID(),a.setRoundPixels(this.roundPixels),this.cameras.push(a),d&&(this.main=a),a):null},getNextID:function(){for(var a=this.cameras,d=1,c=0;c<32;c++){for(var p=!1,v=0;v<a.length;v++){var m=a[v];if(m&&m.id===d){p=!0;continue}}if(p)d=d<<1;else return d}return 0},getTotal:function(a){a===void 0&&(a=!1);for(var d=0,c=this.cameras,p=0;p<c.length;p++){var v=c[p];(!a||a&&v.visible)&&d++}return d},fromJSON:function(a){Array.isArray(a)||(a=[a]);for(var d=this.scene.sys.scale.width,c=this.scene.sys.scale.height,p=0;p<a.length;p++){var v=a[p],m=f(v,"x",0),T=f(v,"y",0),E=f(v,"width",d),P=f(v,"height",c),w=this.add(m,T,E,P);w.name=f(v,"name",""),w.zoom=f(v,"zoom",1),w.rotation=f(v,"rotation",0),w.scrollX=f(v,"scrollX",0),w.scrollY=f(v,"scrollY",0),w.roundPixels=f(v,"roundPixels",!1),w.visible=f(v,"visible",!0);var R=f(v,"backgroundColor",!1);R&&w.setBackgroundColor(R);var L=f(v,"bounds",null);if(L){var O=f(L,"x",0),I=f(L,"y",0),F=f(L,"width",d),B=f(L,"height",c);w.setBounds(O,I,F,B)}}return this},getCamera:function(a){for(var d=this.cameras,c=0;c<d.length;c++)if(d[c].name===a)return d[c];return null},getCamerasBelowPointer:function(a){for(var d=this.cameras,c=a.x,p=a.y,v=[],m=0;m<d.length;m++){var T=d[m];T.visible&&T.inputEnabled&&o(T,c,p)&&v.unshift(T)}return v},remove:function(a,d){d===void 0&&(d=!0),Array.isArray(a)||(a=[a]);for(var c=0,p=this.cameras,v=0;v<a.length;v++){var m=p.indexOf(a[v]);m!==-1&&(d?p[m].destroy():p[m].renderList=[],p.splice(m,1),c++)}return!this.main&&p[0]&&(this.main=p[0]),c},render:function(a,d){for(var c=this.scene,p=this.cameras,v=0;v<p.length;v++){var m=p[v];if(m.visible&&m.alpha>0){m.preRender();var T=this.getVisibleChildren(d.getChildren(),m);a.render(c,T,m)}}},getVisibleChildren:function(a,d){return a.filter(function(c){return c.willRender(d)})},resetAll:function(){for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(a,d){for(var c=0;c<this.cameras.length;c++)this.cameras[c].update(a,d)},onResize:function(a,d,c,p,v){for(var m=0;m<this.cameras.length;m++){var T=this.cameras[m];T._x===0&&T._y===0&&T._width===p&&T._height===v&&T.setSize(d.width,d.height)}},resize:function(a,d){for(var c=0;c<this.cameras.length;c++)this.cameras[c].setSize(a,d)},shutdown:function(){this.main=void 0;for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();this.cameras=[];var d=this.systems.events;d.off(h.UPDATE,this.update,this),d.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(h.START,this.start,this),this.systems.events.off(h.DESTROY,this.destroy,this),this.systems.game.scale.off(r.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});l.register("CameraManager",u,"cameras"),C.exports=u},5020:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(19715),l=new y({initialize:function(r){this.camera=r,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,r,h,u,a,d,c,p){if(o===void 0&&(o=!0),r===void 0&&(r=1e3),h===void 0&&(h=0),u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),!d&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=r,this.direction=o,this.progress=0,this.red=h,this.green=u,this.blue=a,this.alpha=o?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p;var v=o?f.FADE_OUT_START:f.FADE_IN_START;return this.camera.emit(v,this.camera,this,r,h,u,a),this.camera},update:function(o,r){this.isRunning&&(this._elapsed+=r,this.progress=g(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(o){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(r.x,r.y,r.width,r.height),!0},postRenderWebGL:function(o,r){if(!this.isRunning&&!this.isComplete)return!1;var h=this.camera,u=this.red/255,a=this.green/255,d=this.blue/255;return o.drawFillRect(h.x,h.y,h.width,h.height,r(d,a,u,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var o=this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE;this.camera.emit(o,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=l},10662:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(19715),l=new y({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(o,r,h,u,a,d,c){return o===void 0&&(o=250),r===void 0&&(r=255),h===void 0&&(h=255),u===void 0&&(u=255),a===void 0&&(a=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene),!a&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,this.red=r,this.green=h,this.blue=u,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c,this.camera.emit(f.FLASH_START,this.camera,this,o,r,h,u),this.camera)},update:function(o,r){this.isRunning&&(this._elapsed+=r,this.progress=g(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(o){if(!this.isRunning)return!1;var r=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(r.x,r.y,r.width,r.height),!0},postRenderWebGL:function(o,r){if(!this.isRunning)return!1;var h=this.camera,u=this.red/255,a=this.green/255,d=this.blue/255;return o.drawFillRect(h.x,h.y,h.width,h.height,r(d,a,u,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=l},20359:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(62640),l=s(19715),o=s(26099),r=new y({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(h,u,a,d,c,p,v){a===void 0&&(a=1e3),d===void 0&&(d=f.Linear),c===void 0&&(c=!1),p===void 0&&(p=null),v===void 0&&(v=this.camera.scene);var m=this.camera;return!c&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(h,u),m.getScroll(h,u,this.current),typeof d=="string"&&f.hasOwnProperty(d)?this.ease=f[d]:typeof d=="function"&&(this.ease=d),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=v,this.camera.emit(l.PAN_START,this.camera,this,a,h,u)),m},update:function(h,u){if(this.isRunning){this._elapsed+=u;var a=g(this._elapsed/this.duration,0,1);this.progress=a;var d=this.camera;if(this._elapsed<this.duration){var c=this.ease(a);d.getScroll(this.destination.x,this.destination.y,this.current);var p=this.source.x+(this.current.x-this.source.x)*c,v=this.source.y+(this.current.y-this.source.y)*c;d.setScroll(p,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,a,p,v)}else d.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,a,d.scrollX,d.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});C.exports=r},34208:(C,A,s)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var g=s(45319),y=s(83419),f=s(19715),l=s(62640),o=new y({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(r,h,u,a,d,c,p){u===void 0&&(u=1e3),a===void 0&&(a=l.Linear),d===void 0&&(d=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),h===void 0&&(h=!1),this.shortestPath=h;var v=r;r<0?(v=-1*r,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;v=v-Math.floor(v/m)*m;var T=this.camera;if(!d&&this.isRunning)return T;if(this.isRunning=!0,this.duration=u,this.progress=0,this.source=T.rotation,this.destination=v,typeof a=="string"&&l.hasOwnProperty(a)?this.ease=l[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.shortestPath){var E=0,P=0;this.destination>this.source?E=Math.abs(this.destination-this.source):E=Math.abs(this.destination+m)-this.source,this.source>this.destination?P=Math.abs(this.source-this.destination):P=Math.abs(this.source+m)-this.destination,E<P?this.clockwise=!0:E>P&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,u,v),T},update:function(r,h){if(this.isRunning){this._elapsed+=h;var u=g(this._elapsed/this.duration,0,1);this.progress=u;var a=this.camera;if(this._elapsed<this.duration){var d=this.ease(u);this.current=a.rotation;var c=0,p=360*Math.PI/180,v=this.destination,m=this.current;this.clockwise===!1&&(v=this.current,m=this.destination),v>=m?c=Math.abs(v-m):c=Math.abs(v+p)-m;var T=0;this.clockwise?T=a.rotation+c*d:T=a.rotation-c*d,a.rotation=T,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,u,T)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,u,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});C.exports=o},30330:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(19715),l=s(26099),o=new y({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.intensity=new l,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(r,h,u,a,d){return r===void 0&&(r=100),h===void 0&&(h=.05),u===void 0&&(u=!1),a===void 0&&(a=null),d===void 0&&(d=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,typeof h=="number"?this.intensity.set(h):this.intensity.set(h.x,h.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=d,this.camera.emit(f.SHAKE_START,this.camera,this,r,h),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(r,h){if(this.isRunning)if(this._elapsed+=h,this.progress=g(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var u=this.intensity,a=this.camera.width,d=this.camera.height,c=this.camera.zoom;this._offsetX=(Math.random()*u.x*a*2-u.x*a)*c,this._offsetY=(Math.random()*u.y*d*2-u.y*d)*c,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});C.exports=o},45641:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(62640),l=s(19715),o=new y({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,h,u,a,d,c){h===void 0&&(h=1e3),u===void 0&&(u=f.Linear),a===void 0&&(a=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene);var p=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.source=p.zoom,this.destination=r,typeof u=="string"&&f.hasOwnProperty(u)?this.ease=f[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c,this.camera.emit(l.ZOOM_START,this.camera,this,h,r)),p},update:function(r,h){this.isRunning&&(this._elapsed+=h,this.progress=g(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=o},20052:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Fade:s(5020),Flash:s(10662),Pan:s(20359),Shake:s(30330),RotateTo:s(34208),Zoom:s(45641)}},16438:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="cameradestroy"},32726:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerafadeincomplete"},87807:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerafadeinstart"},45917:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerafadeoutcomplete"},95666:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerafadeoutstart"},47056:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="cameraflashcomplete"},91261:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="cameraflashstart"},45047:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="followupdate"},81927:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerapancomplete"},74264:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerapanstart"},54419:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postrender"},79330:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prerender"},93183:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerarotatecomplete"},80112:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerarotatestart"},62252:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerashakecomplete"},86017:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerashakestart"},539:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerazoomcomplete"},51892:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerazoomstart"},19715:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={DESTROY:s(16438),FADE_IN_COMPLETE:s(32726),FADE_IN_START:s(87807),FADE_OUT_COMPLETE:s(45917),FADE_OUT_START:s(95666),FLASH_COMPLETE:s(47056),FLASH_START:s(91261),FOLLOW_UPDATE:s(45047),PAN_COMPLETE:s(81927),PAN_START:s(74264),POST_RENDER:s(54419),PRE_RENDER:s(79330),ROTATE_COMPLETE:s(93183),ROTATE_START:s(80112),SHAKE_COMPLETE:s(62252),SHAKE_START:s(86017),ZOOM_COMPLETE:s(539),ZOOM_START:s(51892)}},87969:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Camera:s(38058),BaseCamera:s(71911),CameraManager:s(32743),Effects:s(20052),Events:s(19715)}},63091:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(35154),f=new g({initialize:function(o){this.camera=y(o,"camera",null),this.left=y(o,"left",null),this.right=y(o,"right",null),this.up=y(o,"up",null),this.down=y(o,"down",null),this.zoomIn=y(o,"zoomIn",null),this.zoomOut=y(o,"zoomOut",null),this.zoomSpeed=y(o,"zoomSpeed",.01),this.minZoom=y(o,"minZoom",.001),this.maxZoom=y(o,"maxZoom",1e3),this.speedX=0,this.speedY=0;var r=y(o,"speed",null);typeof r=="number"?(this.speedX=r,this.speedY=r):(this.speedX=y(o,"speed.x",0),this.speedY=y(o,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var o=this.camera;this.up&&this.up.isDown?o.scrollY-=this.speedY*l|0:this.down&&this.down.isDown&&(o.scrollY+=this.speedY*l|0),this.left&&this.left.isDown?o.scrollX-=this.speedX*l|0:this.right&&this.right.isDown&&(o.scrollX+=this.speedX*l|0),this.zoomIn&&this.zoomIn.isDown?(o.zoom-=this.zoomSpeed,o.zoom<this.minZoom&&(o.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(o.zoom+=this.zoomSpeed,o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});C.exports=f},58818:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(35154),f=new g({initialize:function(o){this.camera=y(o,"camera",null),this.left=y(o,"left",null),this.right=y(o,"right",null),this.up=y(o,"up",null),this.down=y(o,"down",null),this.zoomIn=y(o,"zoomIn",null),this.zoomOut=y(o,"zoomOut",null),this.zoomSpeed=y(o,"zoomSpeed",.01),this.minZoom=y(o,"minZoom",.001),this.maxZoom=y(o,"maxZoom",1e3),this.accelX=0,this.accelY=0;var r=y(o,"acceleration",null);typeof r=="number"?(this.accelX=r,this.accelY=r):(this.accelX=y(o,"acceleration.x",0),this.accelY=y(o,"acceleration.y",0)),this.dragX=0,this.dragY=0;var h=y(o,"drag",null);typeof h=="number"?(this.dragX=h,this.dragY=h):(this.dragX=y(o,"drag.x",0),this.dragY=y(o,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var u=y(o,"maxSpeed",null);typeof u=="number"?(this.maxSpeedX=u,this.maxSpeedY=u):(this.maxSpeedX=y(o,"maxSpeed.x",0),this.maxSpeedY=y(o,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var o=this.camera;this._speedX>0?(this._speedX-=this.dragX*l,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*l,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*l,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*l,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(o.scrollX-=this._speedX*l|0),this._speedY!==0&&(o.scrollY-=this._speedY*l|0),this._zoom!==0&&(o.zoom+=this._zoom,o.zoom<this.minZoom?o.zoom=this.minZoom:o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});C.exports=f},38865:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={FixedKeyControl:s(63091),SmoothedKeyControl:s(58818)}},26638:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Controls:s(38865),Scene2D:s(87969)}},8054:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:s(10312),ScaleModes:s(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};C.exports=g},69547:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(8054),f=s(42363),l=s(82264),o=s(95540),r=s(35154),h=s(41212),u=s(29747),a=s(75508),d=s(36060),c=s(80333),p=new g({initialize:function(m){m===void 0&&(m={});var T=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],E="#ffffff",P=r(m,"scale",null);this.width=r(P,"width",1024,m),this.height=r(P,"height",768,m),this.zoom=r(P,"zoom",1,m),this.parent=r(P,"parent",void 0,m),this.scaleMode=r(P,P?"mode":"scaleMode",0,m),this.expandParent=r(P,"expandParent",!0,m),this.autoRound=r(P,"autoRound",!1,m),this.autoCenter=r(P,"autoCenter",0,m),this.resizeInterval=r(P,"resizeInterval",500,m),this.fullscreenTarget=r(P,"fullscreenTarget",null,m),this.minWidth=r(P,"min.width",0,m),this.maxWidth=r(P,"max.width",0,m),this.minHeight=r(P,"min.height",0,m),this.maxHeight=r(P,"max.height",0,m),this.snapWidth=r(P,"snap.width",0,m),this.snapHeight=r(P,"snap.height",0,m),this.renderType=r(m,"type",y.AUTO),this.canvas=r(m,"canvas",null),this.context=r(m,"context",null),this.canvasStyle=r(m,"canvasStyle",null),this.customEnvironment=r(m,"customEnvironment",!1),this.sceneConfig=r(m,"scene",null),this.seed=r(m,"seed",[(Date.now()*Math.random()).toString()]),a.RND=new a.RandomDataGenerator(this.seed),this.gameTitle=r(m,"title",""),this.gameURL=r(m,"url","https://phaser.io/"+y.LOG_VERSION),this.gameVersion=r(m,"version",""),this.autoFocus=r(m,"autoFocus",!0),this.stableSort=r(m,"stableSort",-1),this.stableSort===-1&&(this.stableSort=l.browser.es2019?1:0),l.features.stableSort=this.stableSort,this.domCreateContainer=r(m,"dom.createContainer",!1),this.domPointerEvents=r(m,"dom.pointerEvents","none"),this.inputKeyboard=r(m,"input.keyboard",!0),this.inputKeyboardEventTarget=r(m,"input.keyboard.target",window),this.inputKeyboardCapture=r(m,"input.keyboard.capture",[]),this.inputMouse=r(m,"input.mouse",!0),this.inputMouseEventTarget=r(m,"input.mouse.target",null),this.inputMousePreventDefaultDown=r(m,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=r(m,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=r(m,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=r(m,"input.mouse.preventDefaultWheel",!0),this.inputTouch=r(m,"input.touch",l.input.touch),this.inputTouchEventTarget=r(m,"input.touch.target",null),this.inputTouchCapture=r(m,"input.touch.capture",!0),this.inputActivePointers=r(m,"input.activePointers",1),this.inputSmoothFactor=r(m,"input.smoothFactor",0),this.inputWindowEvents=r(m,"input.windowEvents",!0),this.inputGamepad=r(m,"input.gamepad",!1),this.inputGamepadEventTarget=r(m,"input.gamepad.target",window),this.disableContextMenu=r(m,"disableContextMenu",!1),this.audio=r(m,"audio",{}),this.hideBanner=r(m,"banner",null)===!1,this.hidePhaser=r(m,"banner.hidePhaser",!1),this.bannerTextColor=r(m,"banner.text",E),this.bannerBackgroundColor=r(m,"banner.background",T),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=r(m,"fps",null),this.disablePreFX=r(m,"disablePreFX",!1),this.disablePostFX=r(m,"disablePostFX",!1);var w=r(m,"render",null);this.pipeline=r(w,"pipeline",null,m),this.autoMobilePipeline=r(w,"autoMobilePipeline",!0,m),this.defaultPipeline=r(w,"defaultPipeline",d.MULTI_PIPELINE,m),this.antialias=r(w,"antialias",!0,m),this.antialiasGL=r(w,"antialiasGL",!0,m),this.mipmapFilter=r(w,"mipmapFilter","",m),this.desynchronized=r(w,"desynchronized",!1,m),this.roundPixels=r(w,"roundPixels",!1,m),this.pixelArt=r(w,"pixelArt",this.zoom!==1,m),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=r(w,"transparent",!1,m),this.clearBeforeRender=r(w,"clearBeforeRender",!0,m),this.preserveDrawingBuffer=r(w,"preserveDrawingBuffer",!1,m),this.premultipliedAlpha=r(w,"premultipliedAlpha",!0,m),this.failIfMajorPerformanceCaveat=r(w,"failIfMajorPerformanceCaveat",!1,m),this.powerPreference=r(w,"powerPreference","default",m),this.batchSize=r(w,"batchSize",4096,m),this.maxTextures=r(w,"maxTextures",-1,m),this.maxLights=r(w,"maxLights",10,m);var R=r(m,"backgroundColor",0);this.backgroundColor=c(R),this.transparent&&(this.backgroundColor=c(0),this.backgroundColor.alpha=0),this.preBoot=r(m,"callbacks.preBoot",u),this.postBoot=r(m,"callbacks.postBoot",u),this.physics=r(m,"physics",{}),this.defaultPhysicsSystem=r(this.physics,"default",!1),this.loaderBaseURL=r(m,"loader.baseURL",""),this.loaderPath=r(m,"loader.path",""),this.loaderMaxParallelDownloads=r(m,"loader.maxParallelDownloads",l.os.android?6:32),this.loaderCrossOrigin=r(m,"loader.crossOrigin",void 0),this.loaderResponseType=r(m,"loader.responseType",""),this.loaderAsync=r(m,"loader.async",!0),this.loaderUser=r(m,"loader.user",""),this.loaderPassword=r(m,"loader.password",""),this.loaderTimeout=r(m,"loader.timeout",0),this.loaderMaxRetries=r(m,"loader.maxRetries",2),this.loaderWithCredentials=r(m,"loader.withCredentials",!1),this.loaderImageLoadType=r(m,"loader.imageLoadType","XHR"),this.loaderLocalScheme=r(m,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=r(m,"fx.glow.quality",.1),this.glowFXDistance=r(m,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var L=r(m,"plugins",null),O=f.DefaultScene;L&&(Array.isArray(L)?this.defaultPlugins=L:h(L)&&(this.installGlobalPlugins=o(L,"global",[]),this.installScenePlugins=o(L,"scene",[]),Array.isArray(L.default)?O=L.default:Array.isArray(L.defaultMerge)&&(O=O.concat(L.defaultMerge)))),this.defaultPlugins=O;var I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=r(m,"images.default",I+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=r(m,"images.missing",I+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=r(m,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=y.WEBGL:window.FORCE_CANVAS&&(this.renderType=y.CANVAS))}});C.exports=p},86054:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20623),y=s(27919),f=s(8054),l=s(89357),o=function(r){var h=r.config;if((h.customEnvironment||h.canvas)&&h.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!h.customEnvironment&&!h.canvas&&h.renderType!==f.HEADLESS)if(h.renderType===f.AUTO&&(h.renderType=l.webGL?f.WEBGL:f.CANVAS),h.renderType===f.WEBGL){if(!l.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(h.renderType===f.CANVAS){if(!l.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+h.renderType);h.antialias||y.disableSmoothing();var u=r.scale.baseSize,a=u.width,d=u.height;if(h.canvas?(r.canvas=h.canvas,r.canvas.width=a,r.canvas.height=d):r.canvas=y.create(r,a,d,h.renderType),h.canvasStyle&&(r.canvas.style=h.canvasStyle),h.antialias||g.setCrisp(r.canvas),h.renderType!==f.HEADLESS){var c,p;c=s(68627),p=s(74797),h.renderType===f.WEBGL?r.renderer=new p(r):(r.renderer=new c(r),r.context=r.renderer.gameContext)}};C.exports=o},96391:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8054),y=function(f){var l=f.config;if(!l.hideBanner){var o="WebGL";l.renderType===g.CANVAS?o="Canvas":l.renderType===g.HEADLESS&&(o="Headless");var r=l.audio,h=f.device.audio,u;if(h.webAudio&&!r.disableWebAudio?u="Web Audio":r.noAudio||!h.webAudio&&!h.audioData?u="No Audio":u="HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+g.VERSION+" / https://phaser.io");else{var a="",d=[a];if(Array.isArray(l.bannerBackgroundColor)){var c;l.bannerBackgroundColor.forEach(function(v){a=a.concat("%c "),d.push("background: "+v),c=v}),d[d.length-1]="color: "+l.bannerTextColor+"; background: "+c}else a=a.concat("%c "),d.push("color: "+l.bannerTextColor+"; background: "+l.bannerBackgroundColor);d.push("background: transparent"),l.gameTitle&&(a=a.concat(l.gameTitle),l.gameVersion&&(a=a.concat(" v"+l.gameVersion)),l.hidePhaser||(a=a.concat(" / ")));var p="";l.hidePhaser||(a=a.concat("Phaser v"+g.VERSION+p+" ("+o+" | "+u+")")),a=a.concat(" %c "+l.gameURL),d[0]=a,console.log.apply(console,d)}}};C.exports=y},50127:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40366),y=s(60848),f=s(24047),l=s(27919),o=s(83419),r=s(69547),h=s(83719),u=s(86054),a=s(45893),d=s(96391),c=s(82264),p=s(57264),v=s(50792),m=s(8443),T=s(7003),E=s(37277),P=s(77332),w=s(76531),R=s(60903),L=s(69442),O=s(17130),I=s(65898),F=s(51085),B=s(14747),G=new o({initialize:function(Y){this.config=new r(Y),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new y(this),this.textures=new O(this),this.cache=new f(this),this.registry=new a(this,new v),this.input=new T(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=c,this.scale=new w(this,this.config),this.sound=null,this.sound=B.create(this),this.loop=new I(this,this.config.fps),this.plugins=new P(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,p(this.boot.bind(this))},boot:function(){if(!E.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),u(this),h(this),d(this),g(this.canvas,this.config.parent),this.textures.once(L.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var z=this.events;z.on(m.HIDDEN,this.onHidden,this),z.on(m.VISIBLE,this.onVisible,this),z.on(m.BLUR,this.onBlur,this),z.on(m.FOCUS,this.onFocus,this)},step:function(z,Y){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var J=this.events;J.emit(m.PRE_STEP,z,Y),J.emit(m.STEP,z,Y),this.scene.update(z,Y),J.emit(m.POST_STEP,z,Y);var $=this.renderer;$.preRender(),J.emit(m.PRE_RENDER,$,z,Y),this.scene.render($),$.postRender(),J.emit(m.POST_RENDER,$,z,Y)}},headlessStep:function(z,Y){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var J=this.events;J.emit(m.PRE_STEP,z,Y),J.emit(m.STEP,z,Y),this.scene.update(z,Y),J.emit(m.POST_STEP,z,Y),this.scene.isProcessing=!1,J.emit(m.PRE_RENDER,null,z,Y),J.emit(m.POST_RENDER,null,z,Y)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var z=this.isPaused;this.isPaused=!0,z||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME,this.loop.pauseDuration)},resume:function(){var z=this.isPaused;this.isPaused=!1,z&&this.events.emit(m.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(z,Y){Y===void 0&&(Y=!1),this.pendingDestroy=!0,this.removeCanvas=z,this.noReturn=Y},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(l.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});C.exports=G},65898:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(35154),f=s(29747),l=s(43092),o=new g({initialize:function(h,u){this.game=h,this.raf=new l,this.started=!1,this.running=!1,this.minFps=y(u,"min",5),this.targetFps=y(u,"target",60),this.fpsLimit=y(u,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=y(u,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=y(u,"deltaHistory",10),this.panicMax=y(u,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=y(u,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var r=window.performance.now();this.time=r,this.lastTime=r,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0;for(var h=0;h<this.deltaSmoothingMax;h++)this.deltaHistory[h]=Math.min(this._target,this.deltaHistory[h]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(r){if(this.started)return this;this.started=!0,this.running=!0;for(var h=0;h<this.deltaSmoothingMax;h++)this.deltaHistory[h]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=r;var u=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(u,this.forceSetTimeOut,this._target)},smoothDelta:function(r){var h=this.deltaIndex,u=this.deltaHistory,a=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,r=Math.min(r,this._target)),r>this._min&&(r=u[h],r=Math.min(r,this._min)),u[h]=r,this.deltaIndex++,this.deltaIndex>=a&&(this.deltaIndex=0);for(var d=0,c=0;c<a;c++)d+=u[c];return d/=a,d},updateFPS:function(r){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0},stepLimitFPS:function(r){this.now=r;var h=Math.max(0,r-this.lastTime);this.rawDelta=h,this.time+=this.rawDelta,this.smoothStep&&(h=this.smoothDelta(h)),this.delta+=h,r>=this.nextFpsUpdate&&this.updateFPS(r),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(r,this.delta),this.delta=0),this.lastTime=r,this.frame++},step:function(r){this.now=r;var h=Math.max(0,r-this.lastTime);this.rawDelta=h,this.time+=this.rawDelta,this.smoothStep&&(h=this.smoothDelta(h)),this.delta=h,r>=this.nextFpsUpdate&&this.updateFPS(r),this.framesThisSecond++,this.callback(r,h),this.lastTime=r,this.frame++},tick:function(){var r=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(r):this.step(r)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(r){r===void 0&&(r=!1);var h=window.performance.now();if(!this.running){r&&(this.startTime+=-this.lastTime+(this.lastTime+h));var u=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(u,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=h+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});C.exports=o},51085:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8443),y=function(f){var l,o=f.events;if(document.hidden!==void 0)l="visibilitychange";else{var r=["webkit","moz","ms"];r.forEach(function(u){document[u+"Hidden"]!==void 0&&(document.hidden=function(){return document[u+"Hidden"]},l=u+"visibilitychange")})}var h=function(u){document.hidden||u.type==="pause"?o.emit(g.HIDDEN):o.emit(g.VISIBLE)};l&&document.addEventListener(l,h,!1),window.onblur=function(){o.emit(g.BLUR)},window.onfocus=function(){o.emit(g.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()};C.exports=y},97217:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="blur"},47548:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="boot"},19814:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="contextlost"},68446:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},41700:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="focus"},25432:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="hidden"},65942:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},59211:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postrender"},47789:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="poststep"},39066:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prerender"},460:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prestep"},16175:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="ready"},42331:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},11966:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="step"},32969:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="systemready"},94830:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="visible"},8443:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BLUR:s(97217),BOOT:s(47548),CONTEXT_LOST:s(19814),DESTROY:s(68446),FOCUS:s(41700),HIDDEN:s(25432),PAUSE:s(65942),POST_RENDER:s(59211),POST_STEP:s(47789),PRE_RENDER:s(39066),PRE_STEP:s(460),READY:s(16175),RESUME:s(42331),STEP:s(11966),SYSTEM_READY:s(32969),VISIBLE:s(94830)}},42857:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Config:s(69547),CreateRenderer:s(86054),DebugHeader:s(96391),Events:s(8443),TimeStep:s(65898),VisibilityHandler:s(51085)}},99584:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(5290),y=s(27919),f=s(35154),l=function(o){var r=f(o,"data",[]),h=f(o,"canvas",null),u=f(o,"palette",g),a=f(o,"pixelWidth",1),d=f(o,"pixelHeight",a),c=f(o,"resizeCanvas",!0),p=f(o,"clearCanvas",!0),v=f(o,"preRender",null),m=f(o,"postRender",null),T=Math.floor(Math.abs(r[0].length*a)),E=Math.floor(Math.abs(r.length*d));h||(h=y.create2D(this,T,E),c=!1,p=!1),c&&(h.width=T,h.height=E);var P=h.getContext("2d",{willReadFrequently:!0});p&&P.clearRect(0,0,T,E),v&&v(h,P);for(var w=0;w<r.length;w++)for(var R=r[w],L=0;L<R.length;L++){var O=R[L];O!=="."&&O!==" "&&(P.fillStyle=u[O],P.fillRect(L*a,w*d,a,d))}return m&&m(h,P),h};C.exports=l},15822:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={GenerateTexture:s(99584),Palettes:s(57763)}},5290:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ARNE16:s(5290),C64:s(23816),CGA:s(9866),JMP:s(77552),MSX:s(92259)}},46728:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(36316),f=s(80021),l=s(26099),o=new g({Extends:f,initialize:function(h,u,a,d){f.call(this,"CubicBezierCurve"),Array.isArray(h)&&(d=new l(h[6],h[7]),a=new l(h[4],h[5]),u=new l(h[2],h[3]),h=new l(h[0],h[1])),this.p0=h,this.p1=u,this.p2=a,this.p3=d},getStartPoint:function(r){return r===void 0&&(r=new l),r.copy(this.p0)},getResolution:function(r){return r},getPoint:function(r,h){h===void 0&&(h=new l);var u=this.p0,a=this.p1,d=this.p2,c=this.p3;return h.set(y(r,u.x,a.x,d.x,c.x),y(r,u.y,a.y,d.y,c.y))},draw:function(r,h){h===void 0&&(h=32);var u=this.getPoints(h);r.beginPath(),r.moveTo(this.p0.x,this.p0.y);for(var a=1;a<u.length;a++)r.lineTo(u[a].x,u[a].y);return r.strokePath(),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(r){var h=r.points,u=new l(h[0],h[1]),a=new l(h[2],h[3]),d=new l(h[4],h[5]),c=new l(h[6],h[7]);return new o(u,a,d,c)},C.exports=o},80021:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(19217),f=s(87841),l=s(26099),o=new g({initialize:function(h){this.type=h,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new l,this._tmpVec2B=new l},draw:function(r,h){return h===void 0&&(h=32),r.strokePoints(this.getPoints(h))},getBounds:function(r,h){r||(r=new f),h===void 0&&(h=16);var u=this.getLength();h>u&&(h=u/2);var a=Math.max(1,Math.round(u/h));return y(this.getSpacedPoints(a),r)},getDistancePoints:function(r){var h=this.getLength(),u=Math.max(1,h/r);return this.getSpacedPoints(u)},getEndPoint:function(r){return r===void 0&&(r=new l),this.getPointAt(1,r)},getLength:function(){var r=this.getLengths();return r[r.length-1]},getLengths:function(r){if(r===void 0&&(r=this.arcLengthDivisions),this.cacheArcLengths.length===r+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var h=[],u,a=this.getPoint(0,this._tmpVec2A),d=0;h.push(0);for(var c=1;c<=r;c++)u=this.getPoint(c/r,this._tmpVec2B),d+=u.distance(a),h.push(d),a.copy(u);return this.cacheArcLengths=h,h},getPointAt:function(r,h){var u=this.getUtoTmapping(r);return this.getPoint(u,h)},getPoints:function(r,h,u){u===void 0&&(u=[]),r||(h?r=this.getLength()/h:r=this.defaultDivisions);for(var a=0;a<=r;a++)u.push(this.getPoint(a/r));return u},getRandomPoint:function(r){return r===void 0&&(r=new l),this.getPoint(Math.random(),r)},getSpacedPoints:function(r,h,u){u===void 0&&(u=[]),r||(h?r=this.getLength()/h:r=this.defaultDivisions);for(var a=0;a<=r;a++){var d=this.getUtoTmapping(a/r,null,r);u.push(this.getPoint(d))}return u},getStartPoint:function(r){return r===void 0&&(r=new l),this.getPointAt(0,r)},getTangent:function(r,h){h===void 0&&(h=new l);var u=1e-4,a=r-u,d=r+u;return a<0&&(a=0),d>1&&(d=1),this.getPoint(a,this._tmpVec2A),this.getPoint(d,h),h.subtract(this._tmpVec2A).normalize()},getTangentAt:function(r,h){var u=this.getUtoTmapping(r);return this.getTangent(u,h)},getTFromDistance:function(r,h){return r<=0?0:this.getUtoTmapping(0,r,h)},getUtoTmapping:function(r,h,u){var a=this.getLengths(u),d=0,c=a.length,p;h?p=Math.min(h,a[c-1]):p=r*a[c-1];for(var v=0,m=c-1,T;v<=m;)if(d=Math.floor(v+(m-v)/2),T=a[d]-p,T<0)v=d+1;else if(T>0)m=d-1;else{m=d;break}if(d=m,a[d]===p)return d/(c-1);var E=a[d],P=a[d+1],w=P-E,R=(p-E)/w;return(d+R)/(c-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});C.exports=o},73825:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(80021),f=s(39506),l=s(35154),o=s(43396),r=s(26099),h=new g({Extends:y,initialize:function(a,d,c,p,v,m,T,E){if(typeof a=="object"){var P=a;a=l(P,"x",0),d=l(P,"y",0),c=l(P,"xRadius",0),p=l(P,"yRadius",c),v=l(P,"startAngle",0),m=l(P,"endAngle",360),T=l(P,"clockwise",!1),E=l(P,"rotation",0)}else p===void 0&&(p=c),v===void 0&&(v=0),m===void 0&&(m=360),T===void 0&&(T=!1),E===void 0&&(E=0);y.call(this,"EllipseCurve"),this.p0=new r(a,d),this._xRadius=c,this._yRadius=p,this._startAngle=f(v),this._endAngle=f(m),this._clockwise=T,this._rotation=f(E)},getStartPoint:function(u){return u===void 0&&(u=new r),this.getPoint(0,u)},getResolution:function(u){return u*2},getPoint:function(u,a){a===void 0&&(a=new r);for(var d=Math.PI*2,c=this._endAngle-this._startAngle,p=Math.abs(c)<Number.EPSILON;c<0;)c+=d;for(;c>d;)c-=d;c<Number.EPSILON&&(p?c=0:c=d),this._clockwise&&!p&&(c===d?c=-d:c=c-d);var v=this._startAngle+u*c,m=this.p0.x+this._xRadius*Math.cos(v),T=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var E=Math.cos(this._rotation),P=Math.sin(this._rotation),w=m-this.p0.x,R=T-this.p0.y;m=w*E-R*P+this.p0.x,T=w*P+R*E+this.p0.y}return a.set(m,T)},setXRadius:function(u){return this.xRadius=u,this},setYRadius:function(u){return this.yRadius=u,this},setWidth:function(u){return this.xRadius=u/2,this},setHeight:function(u){return this.yRadius=u/2,this},setStartAngle:function(u){return this.startAngle=u,this},setEndAngle:function(u){return this.endAngle=u,this},setClockwise:function(u){return this.clockwise=u,this},setRotation:function(u){return this.rotation=u,this},x:{get:function(){return this.p0.x},set:function(u){this.p0.x=u}},y:{get:function(){return this.p0.y},set:function(u){this.p0.y=u}},xRadius:{get:function(){return this._xRadius},set:function(u){this._xRadius=u}},yRadius:{get:function(){return this._yRadius},set:function(u){this._yRadius=u}},startAngle:{get:function(){return o(this._startAngle)},set:function(u){this._startAngle=f(u)}},endAngle:{get:function(){return o(this._endAngle)},set:function(u){this._endAngle=f(u)}},clockwise:{get:function(){return this._clockwise},set:function(u){this._clockwise=u}},angle:{get:function(){return o(this._rotation)},set:function(u){this._rotation=f(u)}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});h.fromJSON=function(u){return new h(u)},C.exports=h},33951:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(80021),f=s(19217),l=s(87841),o=s(26099),r=new g({Extends:y,initialize:function(u,a){y.call(this,"LineCurve"),Array.isArray(u)&&(a=new o(u[2],u[3]),u=new o(u[0],u[1])),this.p0=u,this.p1=a,this.arcLengthDivisions=1},getBounds:function(h){return h===void 0&&(h=new l),f([this.p0,this.p1],h)},getStartPoint:function(h){return h===void 0&&(h=new o),h.copy(this.p0)},getResolution:function(h){return h===void 0&&(h=1),h},getPoint:function(h,u){return u===void 0&&(u=new o),h===1?u.copy(this.p1):(u.copy(this.p1).subtract(this.p0).scale(h).add(this.p0),u)},getPointAt:function(h,u){return this.getPoint(h,u)},getTangent:function(h,u){return u===void 0&&(u=new o),u.copy(this.p1).subtract(this.p0).normalize(),u},getUtoTmapping:function(h,u,a){var d;if(u){var c=this.getLengths(a),p=c[c.length-1],v=Math.min(u,p);d=v/p}else d=h;return d},draw:function(h){return h.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),h},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});r.fromJSON=function(h){var u=h.points,a=new o(u[0],u[1]),d=new o(u[2],u[3]);return new r(a,d)},C.exports=r},14744:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(80021),f=s(32112),l=s(26099),o=new g({Extends:y,initialize:function(h,u,a){y.call(this,"QuadraticBezierCurve"),Array.isArray(h)&&(a=new l(h[4],h[5]),u=new l(h[2],h[3]),h=new l(h[0],h[1])),this.p0=h,this.p1=u,this.p2=a},getStartPoint:function(r){return r===void 0&&(r=new l),r.copy(this.p0)},getResolution:function(r){return r},getPoint:function(r,h){h===void 0&&(h=new l);var u=this.p0,a=this.p1,d=this.p2;return h.set(f(r,u.x,a.x,d.x),f(r,u.y,a.y,d.y))},draw:function(r,h){h===void 0&&(h=32);var u=this.getPoints(h);r.beginPath(),r.moveTo(this.p0.x,this.p0.y);for(var a=1;a<u.length;a++)r.lineTo(u[a].x,u[a].y);return r.strokePath(),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(r){var h=r.points,u=new l(h[0],h[1]),a=new l(h[2],h[3]),d=new l(h[4],h[5]);return new o(u,a,d)},C.exports=o},42534:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87842),y=s(83419),f=s(80021),l=s(26099),o=new y({Extends:f,initialize:function(h){h===void 0&&(h=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(h)},addPoints:function(r){for(var h=0;h<r.length;h++){var u=new l;typeof r[h]=="number"?(u.x=r[h],u.y=r[h+1],h++):Array.isArray(r[h])?(u.x=r[h][0],u.y=r[h][1]):(u.x=r[h].x,u.y=r[h].y),this.points.push(u)}return this},addPoint:function(r,h){var u=new l(r,h);return this.points.push(u),u},getStartPoint:function(r){return r===void 0&&(r=new l),r.copy(this.points[0])},getResolution:function(r){return r*this.points.length},getPoint:function(r,h){h===void 0&&(h=new l);var u=this.points,a=(u.length-1)*r,d=Math.floor(a),c=a-d,p=u[d===0?d:d-1],v=u[d],m=u[d>u.length-2?u.length-1:d+1],T=u[d>u.length-3?u.length-1:d+2];return h.set(g(c,p.x,v.x,m.x,T.x),g(c,p.y,v.y,m.y,T.y))},toJSON:function(){for(var r=[],h=0;h<this.points.length;h++)r.push(this.points[h].x),r.push(this.points[h].y);return{type:this.type,points:r}}});o.fromJSON=function(r){return new o(r.points)},C.exports=o},25410:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Path:s(46669),MoveTo:s(68618),CubicBezier:s(46728),Curve:s(80021),Ellipse:s(73825),Line:s(33951),QuadraticBezier:s(14744),Spline:s(42534)}},68618:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(26099),f=new g({initialize:function(o,r){this.active=!1,this.p0=new y(o,r)},getPoint:function(l,o){return o===void 0&&(o=new y),o.copy(this.p0)},getPointAt:function(l,o){return this.getPoint(l,o)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});C.exports=f},46669:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(46728),f=s(73825),l=s(39429),o=s(33951),r=s(68618),h=s(14744),u=s(87841),a=s(42534),d=s(26099),c=s(36383),p=new g({initialize:function(m,T){m===void 0&&(m=0),T===void 0&&(T=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new d,this._tmpVec2A=new d,this._tmpVec2B=new d,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,T)},add:function(v){return this.curves.push(v),this},circleTo:function(v,m,T){return m===void 0&&(m=!1),this.ellipseTo(v,v,0,360,m,T)},closePath:function(){var v=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return v.equals(m)||this.curves.push(new o(m,v)),this},cubicBezierTo:function(v,m,T,E,P,w){var R=this.getEndPoint(),L,O,I;return v instanceof d?(L=v,O=m,I=T):(L=new d(T,E),O=new d(P,w),I=new d(v,m)),this.add(new y(R,L,O,I))},quadraticBezierTo:function(v,m,T,E){var P=this.getEndPoint(),w,R;return v instanceof d?(w=v,R=m):(w=new d(T,E),R=new d(v,m)),this.add(new h(P,w,R))},draw:function(v,m){for(var T=0;T<this.curves.length;T++){var E=this.curves[T];E.active&&E.draw(v,m)}return v},ellipseTo:function(v,m,T,E,P,w){var R=new f(0,0,v,m,T,E,P,w),L=this.getEndPoint(this._tmpVec2A),O=R.getStartPoint(this._tmpVec2B);return L.subtract(O),R.x=L.x,R.y=L.y,this.add(R)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var m=0;m<v.curves.length;m++){var T=v.curves[m];switch(T.type){case"LineCurve":this.add(o.fromJSON(T));break;case"EllipseCurve":this.add(f.fromJSON(T));break;case"SplineCurve":this.add(a.fromJSON(T));break;case"CubicBezierCurve":this.add(y.fromJSON(T));break;case"QuadraticBezierCurve":this.add(h.fromJSON(T));break}}return this},getBounds:function(v,m){v===void 0&&(v=new u),m===void 0&&(m=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var T=new u,E=c.MIN_SAFE_INTEGER,P=c.MIN_SAFE_INTEGER,w=0;w<this.curves.length;w++){var R=this.curves[w];R.active&&(R.getBounds(T,m),v.x=Math.min(v.x,T.x),v.y=Math.min(v.y,T.y),E=Math.max(E,T.right),P=Math.max(P,T.bottom))}return v.right=E,v.bottom=P,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],m=0,T=0;T<this.curves.length;T++)m+=this.curves[T].getLength(),v.push(m);return this.cacheLengths=v,v},getCurveAt:function(v){for(var m=v*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=m)return this.curves[E];E++}return null},getEndPoint:function(v){return v===void 0&&(v=new d),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,m){m===void 0&&(m=new d);for(var T=v*this.getLength(),E=this.getCurveLengths(),P=0;P<E.length;){if(E[P]>=T){var w=E[P]-T,R=this.curves[P],L=R.getLength(),O=L===0?0:1-w/L;return R.getPointAt(O,m)}P++}return null},getPoints:function(v,m){!v&&!m&&(v=this.defaultDivisions);for(var T=[],E,P=0;P<this.curves.length;P++){var w=this.curves[P];if(w.active)for(var R=w.getResolution(v),L=w.getPoints(R,m),O=0;O<L.length;O++){var I=L[O];E&&E.equals(I)||(T.push(I),E=I)}}return this.autoClose&&T.length>1&&!T[T.length-1].equals(T[0])&&T.push(T[0]),T},getRandomPoint:function(v){return v===void 0&&(v=new d),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var m=[],T=0;T<=v;T++)m.push(this.getPoint(T/v));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(v){return v===void 0&&(v=new d),v.copy(this.startPoint)},getTangent:function(v,m){m===void 0&&(m=new d);for(var T=v*this.getLength(),E=this.getCurveLengths(),P=0;P<E.length;){if(E[P]>=T){var w=E[P]-T,R=this.curves[P],L=R.getLength(),O=L===0?0:1-w/L;return R.getTangentAt(O,m)}P++}return null},lineTo:function(v,m){v instanceof d?this._tmpVec2B.copy(v):typeof v=="object"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,m);var T=this.getEndPoint(this._tmpVec2A);return this.add(new o([T.x,T.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new a(v))},moveTo:function(v,m){return v instanceof d?this.add(new r(v.x,v.y)):this.add(new r(v,m))},toJSON:function(){for(var v=[],m=0;m<this.curves.length;m++)v.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});l.register("path",function(v,m){return new p(v,m)}),C.exports=p},45893:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(24882),f=new g({initialize:function(o,r){this.parent=o,this.events=r,r||(this.events=o.events?o.events:o),this.list={},this.values={},this._frozen=!1,!o.hasOwnProperty("sys")&&this.events&&this.events.once(y.DESTROY,this.destroy,this)},get:function(l){var o=this.list;if(Array.isArray(l)){for(var r=[],h=0;h<l.length;h++)r.push(o[l[h]]);return r}else return o[l]},getAll:function(){var l={};for(var o in this.list)this.list.hasOwnProperty(o)&&(l[o]=this.list[o]);return l},query:function(l){var o={};for(var r in this.list)this.list.hasOwnProperty(r)&&r.match(l)&&(o[r]=this.list[r]);return o},set:function(l,o){if(this._frozen)return this;if(typeof l=="string")return this.setValue(l,o);for(var r in l)this.setValue(r,l[r]);return this},inc:function(l,o){if(this._frozen)return this;o===void 0&&(o=1);var r=this.get(l);return r===void 0&&(r=0),this.set(l,r+o),this},toggle:function(l){return this._frozen?this:(this.set(l,!this.get(l)),this)},setValue:function(l,o){if(this._frozen)return this;if(this.has(l))this.values[l]=o;else{var r=this,h=this.list,u=this.events,a=this.parent;Object.defineProperty(this.values,l,{enumerable:!0,configurable:!0,get:function(){return h[l]},set:function(d){if(!r._frozen){var c=h[l];h[l]=d,u.emit(y.CHANGE_DATA,a,l,d,c),u.emit(y.CHANGE_DATA_KEY+l,a,d,c)}}}),h[l]=o,u.emit(y.SET_DATA,a,l,o)}return this},each:function(l,o){for(var r=[this.parent,null,void 0],h=1;h<arguments.length;h++)r.push(arguments[h]);for(var u in this.list)r[1]=u,r[2]=this.list[u],l.apply(o,r);return this},merge:function(l,o){o===void 0&&(o=!0);for(var r in l)l.hasOwnProperty(r)&&(o||!o&&!this.has(r))&&this.setValue(r,l[r]);return this},remove:function(l){if(this._frozen)return this;if(Array.isArray(l))for(var o=0;o<l.length;o++)this.removeValue(l[o]);else return this.removeValue(l);return this},removeValue:function(l){if(this.has(l)){var o=this.list[l];delete this.list[l],delete this.values[l],this.events.emit(y.REMOVE_DATA,this.parent,l,o)}return this},pop:function(l){var o=void 0;return!this._frozen&&this.has(l)&&(o=this.list[l],delete this.list[l],delete this.values[l],this.events.emit(y.REMOVE_DATA,this.parent,l,o)),o},has:function(l){return this.list.hasOwnProperty(l)},setFreeze:function(l){return this._frozen=l,this},reset:function(){for(var l in this.list)delete this.list[l],delete this.values[l];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(y.CHANGE_DATA),this.events.off(y.SET_DATA),this.events.off(y.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(l){this._frozen=!!l}},count:{get:function(){var l=0;for(var o in this.list)this.list[o]!==void 0&&l++;return l}}});C.exports=f},63646:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(45893),f=s(37277),l=s(44594),o=new g({Extends:y,initialize:function(h){y.call(this,h,h.sys.events),this.scene=h,this.systems=h.sys,h.sys.events.once(l.BOOT,this.boot,this),h.sys.events.on(l.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){y.prototype.destroy.call(this),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",o,"data"),C.exports=o},10700:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="changedata"},93608:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="changedata-"},60883:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},69780:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedata"},22166:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="setdata"},24882:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CHANGE_DATA:s(10700),CHANGE_DATA_KEY:s(93608),DESTROY:s(60883),REMOVE_DATA:s(69780),SET_DATA:s(22166)}},44965:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={DataManager:s(45893),DataManagerPlugin:s(63646),Events:s(24882)}},7098:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(84148),y={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return y;y.audioData=!!window.Audio,y.webAudio=!!(window.AudioContext||window.webkitAudioContext);var l=document.createElement("audio"),o=!!l.canPlayType;try{if(o){var r=function(a,d){var c=l.canPlayType("audio/"+a).replace(/^no$/,"");return d?!!(c||l.canPlayType("audio/"+d).replace(/^no$/,"")):!!c};if(y.ogg=r('ogg; codecs="vorbis"'),y.opus=r('ogg; codecs="opus"',"opus"),y.mp3=r("mpeg"),y.wav=r("wav"),y.m4a=r("x-m4a"),y.aac=r("aac"),y.flac=r("flac","x-flac"),y.webm=r('webm; codecs="vorbis"'),l.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(g.edge)y.dolby=!0;else if(g.safari&&g.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var h=parseInt(RegExp.$1,10),u=parseInt(RegExp.$2,10);(h===10&&u>=11||h>10)&&(y.dolby=!0)}}}}catch{}return y}C.exports=f()},84148:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25892),y={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var l=navigator.userAgent;return/Edg\/\d+/.test(l)?(y.edge=!0,y.es2019=!0):/OPR/.test(l)?(y.opera=!0,y.es2019=!0):/Chrome\/(\d+)/.test(l)&&!g.windowsPhone?(y.chrome=!0,y.chromeVersion=parseInt(RegExp.$1,10),y.es2019=y.chromeVersion>69):/Firefox\D+(\d+)/.test(l)?(y.firefox=!0,y.firefoxVersion=parseInt(RegExp.$1,10),y.es2019=y.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(l)&&g.iOS?(y.mobileSafari=!0,y.es2019=!0):/MSIE (\d+\.\d+);/.test(l)?(y.ie=!0,y.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(l)&&!g.windowsPhone?(y.safari=!0,y.safariVersion=parseInt(RegExp.$1,10),y.es2019=y.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(l)&&(y.ie=!0,y.trident=!0,y.tridentVersion=parseInt(RegExp.$1,10),y.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(l)&&(y.silk=!0),y}C.exports=f()},89289:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",h="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",u=new Image;return u.onload=function(){var a=new Image;a.onload=function(){var d=g.create2D(a,6),c=d.getContext("2d",{willReadFrequently:!0});if(c.globalCompositeOperation="multiply",c.drawImage(u,0,0),c.drawImage(a,2,0),!c.getImageData(2,0,1,1))return!1;var p=c.getImageData(2,0,1,1).data;g.remove(a),y.supportNewBlendModes=p[0]===255&&p[1]===0&&p[2]===0},a.src=r+"/wCKxvRF"+h},u.src=r+"AP804Oa6"+h,!1}function l(){var r=g.create2D(this,2),h=r.getContext("2d",{willReadFrequently:!0});h.fillStyle="rgba(10, 20, 30, 0.5)",h.fillRect(0,0,1,1);var u=h.getImageData(0,0,1,1);if(u===null)return!1;h.putImageData(u,1,0);var a=h.getImageData(1,0,1,1),d=a.data[0]===u.data[0]&&a.data[1]===u.data[1]&&a.data[2]===u.data[2]&&a.data[3]===u.data[3];return g.remove(this),d}function o(){return typeof importScripts!="function"&&document!==void 0&&(y.supportNewBlendModes=f(),y.supportInverseAlpha=l()),y}C.exports=o()},89357:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25892),y=s(84148),f=s(27919),l={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function o(){var h=new ArrayBuffer(4),u=new Uint8Array(h),a=new Uint32Array(h);return u[0]=161,u[1]=178,u[2]=195,u[3]=212,a[0]===3569595041?!0:a[0]===2712847316?!1:null}function r(){if(typeof importScripts=="function")return l;l.canvas=!!window.CanvasRenderingContext2D;try{l.localStorage=!!localStorage.getItem}catch{l.localStorage=!1}l.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,l.fileSystem=!!window.requestFileSystem;var h=!1,u=function(){if(window.WebGLRenderingContext)try{var a=f.createWebGL(this),d=a.getContext("webgl")||a.getContext("experimental-webgl"),c=f.create2D(this),p=c.getContext("2d",{willReadFrequently:!0}),v=p.createImageData(1,1);return h=v.data instanceof Uint8ClampedArray,f.remove(a),f.remove(c),!!d}catch{return!1}return!1};return l.webGL=u(),l.worker=!!window.Worker,l.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,l.getUserMedia=l.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,y.firefox&&y.firefoxVersion<21&&(l.getUserMedia=!1),!g.iOS&&(y.ie||y.firefox||y.chrome)&&(l.canvasBitBltShift=!0),(y.safari||y.mobileSafari)&&(l.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(l.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(l.littleEndian=o()),l.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&l.littleEndian!==null&&h,l}C.exports=r()},91639:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={available:!1,cancel:"",keyboard:!1,request:""};function s(){if(typeof importScripts=="function")return A;var g,y="Fullscreen",f="FullScreen",l=["request"+y,"request"+f,"webkitRequest"+y,"webkitRequest"+f,"msRequest"+y,"msRequest"+f,"mozRequest"+f,"mozRequest"+y];for(g=0;g<l.length;g++)if(document.documentElement[l[g]]){A.available=!0,A.request=l[g];break}var o=["cancel"+f,"exit"+y,"webkitCancel"+f,"webkitExit"+y,"msCancel"+f,"msExit"+y,"mozCancel"+f,"mozExit"+y];if(A.available){for(g=0;g<o.length;g++)if(document[o[g]]){A.cancel=o[g];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(A.keyboard=!0),Object.defineProperty(A,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),A}C.exports=s()},31784:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(84148),y={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(y.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(y.mspointer=!0),navigator.getGamepads&&(y.gamepads=!0),"onwheel"in window||g.ie&&"WheelEvent"in window?y.wheelEvent="wheel":"onmousewheel"in window?y.wheelEvent="mousewheel":g.firefox&&"MouseScrollEvent"in window&&(y.wheelEvent="DOMMouseScroll")),y}C.exports=f()},25892:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return A;var g=navigator.userAgent;/Windows/.test(g)?A.windows=!0:/Mac OS/.test(g)&&!/like Mac OS/.test(g)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(A.iOS=!0,A.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),A.iOSVersion=parseInt(RegExp.$1,10)):A.macOS=!0:/Android/.test(g)?A.android=!0:/Linux/.test(g)?A.linux=!0:/iP[ao]d|iPhone/i.test(g)?(A.iOS=!0,navigator.appVersion.match(/OS (\d+)/),A.iOSVersion=parseInt(RegExp.$1,10),A.iPhone=g.toLowerCase().indexOf("iphone")!==-1,A.iPad=g.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(g)||/\bKF[A-Z][A-Z]+/.test(g)||/Silk.*Mobile Safari/.test(g)?A.kindle=!0:/CrOS/.test(g)&&(A.chromeOS=!0),(/Windows Phone/i.test(g)||/IEMobile/i.test(g))&&(A.android=!1,A.iOS=!1,A.macOS=!1,A.windows=!0,A.windowsPhone=!0);var y=/Silk/.test(g);return(A.windows||A.macOS||A.linux&&!y||A.chromeOS)&&(A.desktop=!0),(A.windowsPhone||/Windows NT/i.test(g)&&/Touch/i.test(g))&&(A.desktop=!1),navigator.standalone&&(A.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(A.cordova=!0),window.ejecta!==void 0&&(A.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(A.node=!0),A.node&&typeof process.versions=="object"&&(A.nodeWebkit=!!process.versions["node-webkit"],A.electron=!!process.versions.electron),/Crosswalk/.test(g)&&(A.crosswalk=!0),A.pixelRatio=window.devicePixelRatio||1,A}C.exports=s()},43267:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return y;var l=document.createElement("video"),o=!!l.canPlayType,r=/^no$/;try{o&&(l.canPlayType('video/ogg; codecs="theora"').replace(r,"")&&(y.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(r,"")&&(y.h264=!0,y.mp4=!0),l.canPlayType("video/x-m4v").replace(r,"")&&(y.m4v=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(r,"")&&(y.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(r,"")&&(y.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(r,"")&&(y.hls=!0))}catch{}return l.parentNode&&l.parentNode.removeChild(l),y.getVideoURL=function(h){Array.isArray(h)||(h=[h]);for(var u=0;u<h.length;u++){var a=g(h[u],"url",h[u]);if(a.indexOf("blob:")===0)return{url:a,type:""};var d;if(a.indexOf("data:")===0?d=a.split(",")[0].match(/\/(.*?);/):d=a.match(/\.([a-zA-Z0-9]+)($|\?)/),d=g(h[u],"type",d?d[1]:"").toLowerCase(),y[d])return{url:a,type:d}}return null},y}C.exports=f()},82264:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={os:s(25892),browser:s(84148),features:s(89357),input:s(31784),audio:s(7098),video:s(43267),fullscreen:s(91639),canvasFeatures:s(89289)}},89422:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new Float32Array(20),f=new g({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(l){return this._matrix.set(l),this._dirty=!0,this},reset:function(){var l=this._matrix;return l.fill(0),l[0]=1,l[6]=1,l[12]=1,l[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var l=this._data;return this._dirty&&(l.set(this._matrix),l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,this._dirty=!1),l},brightness:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1);var r=l;return this.multiply([r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0],o)},saturate:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1);var r=l*2/3+1,h=(r-1)*-.5;return this.multiply([r,h,h,0,0,h,r,h,0,0,h,h,r,0,0,0,0,0,1,0],o)},desaturate:function(l){return l===void 0&&(l=!1),this.saturate(-1,l)},hue:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1),l=l/180*Math.PI;var r=Math.cos(l),h=Math.sin(l),u=.213,a=.715,d=.072;return this.multiply([u+r*(1-u)+h*-u,a+r*-a+h*-a,d+r*-d+h*(1-d),0,0,u+r*-u+h*.143,a+r*(1-a)+h*.14,d+r*-d+h*-.283,0,0,u+r*-u+h*-.787,a+r*-a+h*a,d+r*(1-d)+h*d,0,0,0,0,0,1,0],o)},grayscale:function(l,o){return l===void 0&&(l=1),o===void 0&&(o=!1),this.saturate(-l,o)},blackWhite:function(l){return l===void 0&&(l=!1),this.multiply(f.BLACK_WHITE,l)},contrast:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1);var r=l+1,h=-.5*(r-1);return this.multiply([r,0,0,0,h,0,r,0,0,h,0,0,r,0,h,0,0,0,1,0],o)},negative:function(l){return l===void 0&&(l=!1),this.multiply(f.NEGATIVE,l)},desaturateLuminance:function(l){return l===void 0&&(l=!1),this.multiply(f.DESATURATE_LUMINANCE,l)},sepia:function(l){return l===void 0&&(l=!1),this.multiply(f.SEPIA,l)},night:function(l,o){return l===void 0&&(l=.1),o===void 0&&(o=!1),this.multiply([l*-2,-l,0,0,0,-l,0,l,0,0,0,l,l*2,0,0,0,0,0,1,0],o)},lsd:function(l){return l===void 0&&(l=!1),this.multiply(f.LSD,l)},brown:function(l){return l===void 0&&(l=!1),this.multiply(f.BROWN,l)},vintagePinhole:function(l){return l===void 0&&(l=!1),this.multiply(f.VINTAGE,l)},kodachrome:function(l){return l===void 0&&(l=!1),this.multiply(f.KODACHROME,l)},technicolor:function(l){return l===void 0&&(l=!1),this.multiply(f.TECHNICOLOR,l)},polaroid:function(l){return l===void 0&&(l=!1),this.multiply(f.POLAROID,l)},shiftToBGR:function(l){return l===void 0&&(l=!1),this.multiply(f.SHIFT_BGR,l)},multiply:function(l,o){o===void 0&&(o=!1),o||this.reset();var r=this._matrix,h=y;return h.set(r),r.set([h[0]*l[0]+h[1]*l[5]+h[2]*l[10]+h[3]*l[15],h[0]*l[1]+h[1]*l[6]+h[2]*l[11]+h[3]*l[16],h[0]*l[2]+h[1]*l[7]+h[2]*l[12]+h[3]*l[17],h[0]*l[3]+h[1]*l[8]+h[2]*l[13]+h[3]*l[18],h[0]*l[4]+h[1]*l[9]+h[2]*l[14]+h[3]*l[19]+h[4],h[5]*l[0]+h[6]*l[5]+h[7]*l[10]+h[8]*l[15],h[5]*l[1]+h[6]*l[6]+h[7]*l[11]+h[8]*l[16],h[5]*l[2]+h[6]*l[7]+h[7]*l[12]+h[8]*l[17],h[5]*l[3]+h[6]*l[8]+h[7]*l[13]+h[8]*l[18],h[5]*l[4]+h[6]*l[9]+h[7]*l[14]+h[8]*l[19]+h[9],h[10]*l[0]+h[11]*l[5]+h[12]*l[10]+h[13]*l[15],h[10]*l[1]+h[11]*l[6]+h[12]*l[11]+h[13]*l[16],h[10]*l[2]+h[11]*l[7]+h[12]*l[12]+h[13]*l[17],h[10]*l[3]+h[11]*l[8]+h[12]*l[13]+h[13]*l[18],h[10]*l[4]+h[11]*l[9]+h[12]*l[14]+h[13]*l[19]+h[14],h[15]*l[0]+h[16]*l[5]+h[17]*l[10]+h[18]*l[15],h[15]*l[1]+h[16]*l[6]+h[17]*l[11]+h[18]*l[16],h[15]*l[2]+h[16]*l[7]+h[17]*l[12]+h[18]*l[17],h[15]*l[3]+h[16]*l[8]+h[17]*l[13]+h[18]*l[18],h[15]*l[4]+h[16]*l[9]+h[17]*l[14]+h[18]*l[19]+h[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],C.exports=f},51767:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(29747),f=new g({initialize:function(o,r,h){this._rgb=[0,0,0],this.onChangeCallback=y,this.dirty=!1,this.set(o,r,h)},set:function(l,o,r){return l===void 0&&(l=0),o===void 0&&(o=0),r===void 0&&(r=0),this._rgb=[l,o,r],this.onChange(),this},equals:function(l,o,r){var h=this._rgb;return h[0]===l&&h[1]===o&&h[2]===r},onChange:function(){this.dirty=!0;var l=this._rgb;this.onChangeCallback.call(this,l[0],l[1],l[2])},r:{get:function(){return this._rgb[0]},set:function(l){this._rgb[0]=l,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(l){this._rgb[1]=l,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(l){this._rgb[2]=l,this.onChange()}},destroy:function(){this.onChangeCallback=null}});C.exports=f},60461:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};C.exports=A},54312:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(35893),f=s(86327),l=s(88417),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(h)+u),f(r,g(h)+a),r};C.exports=o},46768:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(26541),f=s(86327),l=s(385),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(h)-u),f(r,g(h)+a),r};C.exports=o},35827:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(54380),f=s(86327),l=s(40136),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(h)+u),f(r,g(h)+a),r};C.exports=o},46871:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66786),y=s(35893),f=s(7702),l=function(o,r,h,u){return h===void 0&&(h=0),u===void 0&&(u=0),g(o,y(r)+h,f(r)+u),o};C.exports=l},5198:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7702),y=s(26541),f=s(20786),l=s(385),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(h)-u),f(r,g(h)+a),r};C.exports=o},11879:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(60461),y=[];y[g.BOTTOM_CENTER]=s(54312),y[g.BOTTOM_LEFT]=s(46768),y[g.BOTTOM_RIGHT]=s(35827),y[g.CENTER]=s(46871),y[g.LEFT_CENTER]=s(5198),y[g.RIGHT_CENTER]=s(80503),y[g.TOP_CENTER]=s(89698),y[g.TOP_LEFT]=s(922),y[g.TOP_RIGHT]=s(21373),y[g.LEFT_BOTTOM]=y[g.BOTTOM_LEFT],y[g.LEFT_TOP]=y[g.TOP_LEFT],y[g.RIGHT_BOTTOM]=y[g.BOTTOM_RIGHT],y[g.RIGHT_TOP]=y[g.TOP_RIGHT];var f=function(l,o,r,h,u){return y[r](l,o,h,u)};C.exports=f},80503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7702),y=s(54380),f=s(20786),l=s(40136),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(h)+u),f(r,g(h)+a),r};C.exports=o},89698:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35893),y=s(17717),f=s(88417),l=s(66737),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,g(h)+u),l(r,y(h)-a),r};C.exports=o},922:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26541),y=s(17717),f=s(385),l=s(66737),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,g(h)-u),l(r,y(h)-a),r};C.exports=o},21373:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54380),y=s(17717),f=s(40136),l=s(66737),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,g(h)+u),l(r,y(h)-a),r};C.exports=o},91660:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BottomCenter:s(54312),BottomLeft:s(46768),BottomRight:s(35827),Center:s(46871),LeftCenter:s(5198),QuickSet:s(11879),RightCenter:s(80503),TopCenter:s(89698),TopLeft:s(922),TopRight:s(21373)}},71926:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(60461),y=s(79291),f={In:s(91660),To:s(16694)};f=y(!1,f,g),C.exports=f},21578:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(35893),f=s(88417),l=s(66737),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,y(h)+u),l(r,g(h)+a),r};C.exports=o},10210:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(26541),f=s(385),l=s(66737),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,y(h)-u),l(r,g(h)+a),r};C.exports=o},82341:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(54380),f=s(40136),l=s(66737),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,y(h)+u),l(r,g(h)+a),r};C.exports=o},87958:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(26541),f=s(86327),l=s(40136),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(h)-u),f(r,g(h)+a),r};C.exports=o},40080:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7702),y=s(26541),f=s(20786),l=s(40136),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(h)-u),f(r,g(h)+a),r};C.exports=o},88466:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26541),y=s(17717),f=s(40136),l=s(66737),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,g(h)-u),l(r,y(h)-a),r};C.exports=o},38829:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(60461),y=[];y[g.BOTTOM_CENTER]=s(21578),y[g.BOTTOM_LEFT]=s(10210),y[g.BOTTOM_RIGHT]=s(82341),y[g.LEFT_BOTTOM]=s(87958),y[g.LEFT_CENTER]=s(40080),y[g.LEFT_TOP]=s(88466),y[g.RIGHT_BOTTOM]=s(19211),y[g.RIGHT_CENTER]=s(34609),y[g.RIGHT_TOP]=s(48741),y[g.TOP_CENTER]=s(49440),y[g.TOP_LEFT]=s(81288),y[g.TOP_RIGHT]=s(61323);var f=function(l,o,r,h,u){return y[r](l,o,h,u)};C.exports=f},19211:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(54380),f=s(86327),l=s(385),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(h)+u),f(r,g(h)+a),r};C.exports=o},34609:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7702),y=s(54380),f=s(20786),l=s(385),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(h)+u),f(r,g(h)+a),r};C.exports=o},48741:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54380),y=s(17717),f=s(385),l=s(66737),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,g(h)+u),l(r,y(h)-a),r};C.exports=o},49440:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35893),y=s(17717),f=s(86327),l=s(88417),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,g(h)+u),f(r,y(h)-a),r};C.exports=o},81288:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26541),y=s(17717),f=s(86327),l=s(385),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,g(h)-u),f(r,y(h)-a),r};C.exports=o},61323:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54380),y=s(17717),f=s(86327),l=s(40136),o=function(r,h,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,g(h)+u),f(r,y(h)-a),r};C.exports=o},16694:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BottomCenter:s(21578),BottomLeft:s(10210),BottomRight:s(82341),LeftBottom:s(87958),LeftCenter:s(40080),LeftTop:s(88466),QuickSet:s(38829),RightBottom:s(19211),RightCenter:s(34609),RightTop:s(48741),TopCenter:s(49440),TopLeft:s(81288),TopRight:s(61323)}},66786:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(88417),y=s(20786),f=function(l,o,r){return g(l,o),y(l,r)};C.exports=f},62235:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.y+s.height-s.height*s.originY};C.exports=A},72873:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(26541),f=s(54380),l=s(17717),o=s(87841),r=function(h,u){u===void 0&&(u=new o);var a=y(h),d=l(h);return u.x=a,u.y=d,u.width=f(h)-a,u.height=g(h)-d,u};C.exports=r},35893:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x-s.width*s.originX+s.width*.5};C.exports=A},7702:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.y-s.height*s.originY+s.height*.5};C.exports=A},26541:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x-s.width*s.originX};C.exports=A},87431:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.width*s.originX};C.exports=A},46928:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.height*s.originY};C.exports=A},54380:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x+s.width-s.width*s.originX};C.exports=A},17717:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.y-s.height*s.originY};C.exports=A},86327:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.y=g-s.height+s.height*s.originY,s};C.exports=A},88417:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.width*s.originX;return s.x=g+y-s.width*.5,s};C.exports=A},20786:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.height*s.originY;return s.y=g+y-s.height*.5,s};C.exports=A},385:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x=g+s.width*s.originX,s};C.exports=A},40136:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x=g-s.width+s.width*s.originX,s};C.exports=A},66737:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.y=g+s.height*s.originY,s};C.exports=A},58724:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CenterOn:s(66786),GetBottom:s(62235),GetBounds:s(72873),GetCenterX:s(35893),GetCenterY:s(7702),GetLeft:s(26541),GetOffsetX:s(87431),GetOffsetY:s(46928),GetRight:s(54380),GetTop:s(17717),SetBottom:s(86327),SetCenterX:s(88417),SetCenterY:s(20786),SetLeft:s(385),SetRight:s(40136),SetTop:s(66737)}},20623:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setCrisp:function(s){var g=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return g.forEach(function(y){s.style["image-rendering"]=y}),s.style.msInterpolationMode="nearest-neighbor",s},setBicubic:function(s){return s.style["image-rendering"]="auto",s.style.msInterpolationMode="bicubic",s}};C.exports=A},27919:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8054),y=s(68703),f=[],l=!1,o=function(){var r=function(T,E,P,w,R){E===void 0&&(E=1),P===void 0&&(P=1),w===void 0&&(w=g.CANVAS),R===void 0&&(R=!1);var L,O=a(w);return O===null?(O={parent:T,canvas:document.createElement("canvas"),type:w},w===g.CANVAS&&f.push(O),L=O.canvas):(O.parent=T,L=O.canvas),R&&(O.parent=L),L.width=E,L.height=P,l&&w===g.CANVAS&&y.disable(L.getContext("2d",{willReadFrequently:!1})),L},h=function(T,E,P){return r(T,E,P,g.CANVAS)},u=function(T,E,P){return r(T,E,P,g.WEBGL)},a=function(T){if(T===void 0&&(T=g.CANVAS),T===g.WEBGL)return null;for(var E=0;E<f.length;E++){var P=f[E];if(!P.parent&&P.type===T)return P}return null},d=function(T){var E=T instanceof HTMLCanvasElement;f.forEach(function(P){(E&&P.canvas===T||!E&&P.parent===T)&&(P.parent=null,P.canvas.width=1,P.canvas.height=1)})},c=function(){var T=0;return f.forEach(function(E){E.parent&&T++}),T},p=function(){return f.length-c()},v=function(){l=!0},m=function(){l=!1};return{create2D:h,create:r,createWebGL:u,disableSmoothing:v,enableSmoothing:m,first:a,free:p,pool:f,remove:d,total:c}};C.exports=o()},68703:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A="",s=function(){var g=function(o){for(var r=["i","webkitI","msI","mozI","oI"],h=0;h<r.length;h++){var u=r[h]+"mageSmoothingEnabled";if(u in o)return u}return null},y=function(o){return A===""&&(A=g(o)),A&&(o[A]=!0),o},f=function(o){return A===""&&(A=g(o)),A&&(o[A]=!1),o},l=function(o){return A!==null?o[A]:null};return{disable:f,enable:y,getPrefix:g,isEnabled:l}};C.exports=s()},65208:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g="none"),s.style.msTouchAction=g,s.style["ms-touch-action"]=g,s.style["touch-action"]=g,s};C.exports=A},91610:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g="none");var y=["-webkit-","-khtml-","-moz-","-ms-",""];return y.forEach(function(f){s.style[f+"user-select"]=g}),s.style["-webkit-touch-callout"]=g,s.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",s};C.exports=A},26253:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CanvasInterpolation:s(20623),CanvasPool:s(27919),Smoothing:s(68703),TouchAction:s(65208),UserSelect:s(91610)}},40987:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(37589),f=s(1e3),l=s(7537),o=s(87837),r=new g({initialize:function(u,a,d,c){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(u,a,d,c)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(h,u,a,d,c){return d===void 0&&(d=255),c===void 0&&(c=!0),this._locked=!0,this.red=h,this.green=u,this.blue=a,this.alpha=d,this._locked=!1,this.update(c)},setGLTo:function(h,u,a,d){return d===void 0&&(d=1),this._locked=!0,this.redGL=h,this.greenGL=u,this.blueGL=a,this.alphaGL=d,this._locked=!1,this.update(!0)},setFromRGB:function(h){return this._locked=!0,this.red=h.r,this.green=h.g,this.blue=h.b,h.hasOwnProperty("a")&&(this.alpha=h.a),this._locked=!1,this.update(!0)},setFromHSV:function(h,u,a){return l(h,u,a,this)},update:function(h){if(h===void 0&&(h=!1),this._locked)return this;var u=this.r,a=this.g,d=this.b,c=this.a;return this._color=y(u,a,d),this._color32=f(u,a,d,c),this._rgba="rgba("+u+","+a+","+d+","+c/255+")",h&&o(u,a,d,this),this},updateHSV:function(){var h=this.r,u=this.g,a=this.b;return o(h,u,a,this),this},clone:function(){return new r(this.r,this.g,this.b,this.a)},gray:function(h){return this.setTo(h,h,h)},random:function(h,u){h===void 0&&(h=0),u===void 0&&(u=255);var a=Math.floor(h+Math.random()*(u-h)),d=Math.floor(h+Math.random()*(u-h)),c=Math.floor(h+Math.random()*(u-h));return this.setTo(a,d,c)},randomGray:function(h,u){h===void 0&&(h=0),u===void 0&&(u=255);var a=Math.floor(h+Math.random()*(u-h));return this.setTo(a,a,a)},saturate:function(h){return this.s+=h/100,this},desaturate:function(h){return this.s-=h/100,this},lighten:function(h){return this.v+=h/100,this},darken:function(h){return this.v-=h/100,this},brighten:function(h){var u=this.r,a=this.g,d=this.b;return u=Math.max(0,Math.min(255,u-Math.round(255*-(h/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(h/100)))),d=Math.max(0,Math.min(255,d-Math.round(255*-(h/100)))),this.setTo(u,a,d)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(h){this.gl[0]=Math.min(Math.abs(h),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(h){this.gl[1]=Math.min(Math.abs(h),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(h){this.gl[2]=Math.min(Math.abs(h),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(h){this.gl[3]=Math.min(Math.abs(h),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(h){h=Math.floor(Math.abs(h)),this.r=Math.min(h,255),this.gl[0]=h/255,this.update(!0)}},green:{get:function(){return this.g},set:function(h){h=Math.floor(Math.abs(h)),this.g=Math.min(h,255),this.gl[1]=h/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(h){h=Math.floor(Math.abs(h)),this.b=Math.min(h,255),this.gl[2]=h/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(h){h=Math.floor(Math.abs(h)),this.a=Math.min(h,255),this.gl[3]=h/255,this.update()}},h:{get:function(){return this._h},set:function(h){this._h=h,l(h,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(h){this._s=h,l(this._h,h,this._v,this)}},v:{get:function(){return this._v},set:function(h){this._v=h,l(this._h,this._s,h,this)}}});C.exports=r},92728:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37589),y=function(f){f===void 0&&(f=1024);var l=[],o=255,r,h=255,u=0,a=0;for(r=0;r<=o;r++)l.push({r:h,g:r,b:a,color:g(h,r,a)});for(u=255,r=o;r>=0;r--)l.push({r,g:u,b:a,color:g(r,u,a)});for(h=0,r=0;r<=o;r++,u--)l.push({r:h,g:u,b:r,color:g(h,u,r)});for(u=0,a=255,r=0;r<=o;r++,a--,h++)l.push({r:h,g:u,b:a,color:g(h,u,a)});if(f===1024)return l;var d=[],c=0,p=1024/f;for(r=0;r<f;r++)d.push(l[Math.floor(c)]),c+=p;return d};C.exports=y},91588:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g={r:s>>16&255,g:s>>8&255,b:s&255,a:255};return s>16777215&&(g.a=s>>>24),g};C.exports=A},62957:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=s.toString(16);return g.length===1?"0"+g:g};C.exports=A},37589:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s<<16|g<<8|y};C.exports=A},1e3:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return f<<24|s<<16|g<<8|y};C.exports=A},62183:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987),y=s(89528),f=function(l,o,r){var h=r,u=r,a=r;if(o!==0){var d=r<.5?r*(1+o):r+o-r*o,c=2*r-d;h=y(c,d,l+1/3),u=y(c,d,l),a=y(c,d,l-1/3)}var p=new g;return p.setGLTo(h,u,a,1)};C.exports=f},27939:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7537),y=function(f,l){f===void 0&&(f=1),l===void 0&&(l=1);for(var o=[],r=0;r<=359;r++)o.push(g(r/359,f,l));return o};C.exports=y},7537:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37589);function y(l,o,r,h){var u=(l+o*6)%6,a=Math.min(u,4-u,1);return Math.round(255*(h-h*r*Math.max(0,a)))}var f=function(l,o,r,h){o===void 0&&(o=1),r===void 0&&(r=1);var u=y(5,l,o,r),a=y(3,l,o,r),d=y(1,l,o,r);return h?h.setTo?h.setTo(u,a,d,h.alpha,!0):(h.r=u,h.g=a,h.b=d,h.color=g(u,a,d),h):{r:u,g:a,b:d,color:g(u,a,d)}};C.exports=f},70238:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987),y=function(f){var l=new g;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,d,c,p){return d+d+c+c+p+p});var o=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(o){var r=parseInt(o[1],16),h=parseInt(o[2],16),u=parseInt(o[3],16);l.setTo(r,h,u)}return l};C.exports=y},89528:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y<0&&(y+=1),y>1&&(y-=1),y<.16666666666666666?s+(g-s)*6*y:y<.5?g:y<.6666666666666666?s+(g-s)*(.6666666666666666-y)*6:s};C.exports=A},30100:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987),y=s(90664),f=function(l){var o=y(l);return new g(o.r,o.g,o.b,o.a)};C.exports=f},90664:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s>16777215?{a:s>>>24,r:s>>16&255,g:s>>8&255,b:s&255}:{a:255,r:s>>16&255,g:s>>8&255,b:s&255}};C.exports=A},13699:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(28915),y=s(37589),f=function(r,h,u,a,d,c,p,v){p===void 0&&(p=100),v===void 0&&(v=0);var m=v/p,T=g(r,a,m),E=g(h,d,m),P=g(u,c,m);return{r:T,g:E,b:P,a:255,color:y(T,E,P)}},l=function(r,h,u,a){return u===void 0&&(u=100),a===void 0&&(a=0),f(r.r,r.g,r.b,h.r,h.g,h.b,u,a)},o=function(r,h,u,a,d,c){return d===void 0&&(d=100),c===void 0&&(c=0),f(r.r,r.g,r.b,h,u,a,d,c)};C.exports={RGBWithRGB:f,ColorWithRGB:o,ColorWithColor:l}},68957:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987),y=function(f){return new g(f.r,f.g,f.b,f.a)};C.exports=y},87388:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987),y=function(f){var l=new g,o=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(o){var r=parseInt(o[1],10),h=parseInt(o[2],10),u=parseInt(o[3],10),a=o[4]!==void 0?parseFloat(o[4]):1;l.setTo(r,h,u,a*255)}return l};C.exports=y},87837:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){f===void 0&&(f={h:0,s:0,v:0}),s/=255,g/=255,y/=255;var l=Math.min(s,g,y),o=Math.max(s,g,y),r=o-l,h=0,u=o===0?0:r/o,a=o;return o!==l&&(o===s?h=(g-y)/r+(g<y?6:0):o===g?h=(y-s)/r+2:o===y&&(h=(s-g)/r+4),h/=6),f.hasOwnProperty("_h")?(f._h=h,f._s=u,f._v=a):(f.h=h,f.s=u,f.v=a),f};C.exports=A},75723:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62957),y=function(f,l,o,r,h){return r===void 0&&(r=255),h===void 0&&(h="#"),h==="#"?"#"+((1<<24)+(f<<16)+(l<<8)+o).toString(16).slice(1,7):"0x"+g(r)+g(f)+g(l)+g(o)};C.exports=y},85386:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30976),y=s(40987),f=function(l,o){return l===void 0&&(l=0),o===void 0&&(o=255),new y(g(l,o),g(l,o),g(l,o))};C.exports=f},80333:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70238),y=s(30100),f=s(68957),l=s(87388),o=function(r){var h=typeof r;switch(h){case"string":return r.substr(0,3).toLowerCase()==="rgb"?l(r):g(r);case"number":return y(r);case"object":return f(r)}};C.exports=o},3956:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987);g.ColorSpectrum=s(92728),g.ColorToRGBA=s(91588),g.ComponentToHex=s(62957),g.GetColor=s(37589),g.GetColor32=s(1e3),g.HexStringToColor=s(70238),g.HSLToColor=s(62183),g.HSVColorWheel=s(27939),g.HSVToRGB=s(7537),g.HueToComponent=s(89528),g.IntegerToColor=s(30100),g.IntegerToRGB=s(90664),g.Interpolate=s(13699),g.ObjectToColor=s(68957),g.RandomRGB=s(85386),g.RGBStringToColor=s(87388),g.RGBToHSV=s(87837),g.RGBToString=s(75723),g.ValueToColor=s(80333),C.exports=g},27460:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Align:s(71926),BaseShader:s(73894),Bounds:s(58724),Canvas:s(26253),Color:s(3956),ColorMatrix:s(89422),Masks:s(69781),RGB:s(51767)}},6858:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(39429),f=new g({initialize:function(o,r,h,u,a,d){r||(r=o.sys.make.image({x:h,y:u,key:a,frame:d,add:!1})),this.bitmapMask=r,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(l){this.bitmapMask=l},preRenderWebGL:function(l,o,r){l.pipelines.BITMAPMASK_PIPELINE.beginMask(this,o,r)},postRenderWebGL:function(l,o,r){l.pipelines.BITMAPMASK_PIPELINE.endMask(this,o,r)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});y.register("bitmapMask",function(l,o,r,h,u){return new f(this.scene,l,o,r,h,u)}),C.exports=f},80661:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o){this.geometryMask=o,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,l,o){var r=f.gl;f.flush(),f.maskStack.length===0&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:o}),this.applyStencil(f,o,!0),f.maskCount++},applyStencil:function(f,l,o){var r=f.gl,h=this.geometryMask,u=f.maskCount,a=255;r.colorMask(!1,!1,!1,!1),o?(r.stencilFunc(r.EQUAL,u,a),r.stencilOp(r.KEEP,r.KEEP,r.INCR),u++):(r.stencilFunc(r.EQUAL,u+1,a),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),this.level=u,h.renderWebGL(f,h,l),f.flush(),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),this.invertAlpha?r.stencilFunc(r.NOTEQUAL,u,a):r.stencilFunc(r.EQUAL,u,a)},postRenderWebGL:function(f){var l=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var o=f.currentMask;if(f.maskStack.length===0)o.mask=null,l.disable(l.STENCIL_TEST);else{var r=f.maskStack[f.maskStack.length-1];r.mask.applyStencil(f,r.camera,!1),f.currentCameraMask.mask!==r.mask?(o.mask=r.mask,o.camera=r.camera):o.mask=null}},preRenderCanvas:function(f,l,o){var r=this.geometryMask;f.currentContext.save(),r.renderCanvas(f,r,o,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});C.exports=y},69781:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BitmapMask:s(6858),GeometryMask:s(80661)}},73894:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r,h){(!o||o==="")&&(o=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!r||r==="")&&(r=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),h===void 0&&(h=null),this.key=l,this.fragmentSrc=o,this.vertexSrc=r,this.uniforms=h}});C.exports=y},40366:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y;if(g)typeof g=="string"?y=document.getElementById(g):typeof g=="object"&&g.nodeType===1&&(y=g);else if(s.parentElement||g===null)return s;return y||(y=document.body),y.appendChild(s),s};C.exports=A},83719:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40366),y=function(f){var l=f.config;if(!(!l.parent||!l.domCreateContainer)){var o=document.createElement("div");o.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+l.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=o,g(o,l.parent)}};C.exports=y},57264:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25892),y=function(f){if(document.readyState==="complete"||document.readyState==="interactive"){f();return}var l=function(){document.removeEventListener("deviceready",l,!0),document.removeEventListener("DOMContentLoaded",l,!0),window.removeEventListener("load",l,!0),f()};document.body?g.cordova?document.addEventListener("deviceready",l,!1):(document.addEventListener("DOMContentLoaded",l,!0),window.addEventListener("load",l,!0)):window.setTimeout(l,20)};C.exports=y},57811:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){if(!s)return window.innerHeight;var g=Math.abs(window.orientation),y={w:0,h:0},f=document.createElement("div");return f.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(f),y.w=g===90?f.offsetHeight:window.innerWidth,y.h=g===90?window.innerWidth:f.offsetHeight,document.documentElement.removeChild(f),f=null,Math.abs(window.orientation)!==90?y.h:y.w};C.exports=A},45818:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13560),y=function(f,l){var o=window.screen,r=o?o.orientation||o.mozOrientation||o.msOrientation:!1;if(r&&typeof r.type=="string")return r.type;if(typeof r=="string")return r;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?g.ORIENTATION.PORTRAIT:g.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return g.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return g.ORIENTATION.LANDSCAPE}else return l>f?g.ORIENTATION.PORTRAIT:g.ORIENTATION.LANDSCAPE};C.exports=y},74403:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g;return s!==""&&(typeof s=="string"?g=document.getElementById(s):s&&s.nodeType===1&&(g=s)),g||(g=document.body),g};C.exports=A},56836:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g="";try{if(window.DOMParser){var y=new DOMParser;g=y.parseFromString(s,"text/xml")}else g=new ActiveXObject("Microsoft.XMLDOM"),g.loadXML(s)}catch{g=null}return!g||!g.documentElement||g.getElementsByTagName("parsererror").length?null:g};C.exports=A},35846:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){s.parentNode&&s.parentNode.removeChild(s)};C.exports=A},43092:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(29747),f=new g({initialize:function(){this.isRunning=!1,this.callback=y,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var o=this;this.step=function r(h){o.callback(h),o.isRunning&&(o.timeOutID=window.requestAnimationFrame(r))},this.stepTimeout=function r(){o.isRunning&&(o.timeOutID=window.setTimeout(r,o.delay)),o.callback(window.performance.now())}},start:function(l,o,r){this.isRunning||(this.callback=l,this.isSetTimeOut=o,this.delay=r,this.isRunning=!0,this.timeOutID=o?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=y}});C.exports=f},84902:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={AddToDOM:s(40366),DOMContentLoaded:s(57264),GetInnerHeight:s(57811),GetScreenOrientation:s(45818),GetTarget:s(74403),ParseXML:s(56836),RemoveFromDOM:s(35846),RequestAnimationFrame:s(43092)};C.exports=g},47565:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(37277),l=new g({Extends:y,initialize:function(){y.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",l,"events"),C.exports=l},93055:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={EventEmitter:s(47565)}},20122:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h){h===void 0&&(h=1),y.call(this,f.BARREL,r),this.amount=h}});C.exports=l},32251:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a,d,c,p){u===void 0&&(u=1),a===void 0&&(a=1),d===void 0&&(d=1),c===void 0&&(c=1),p===void 0&&(p=4),y.call(this,f.BLOOM,r),this.steps=p,this.offsetX=u,this.offsetY=a,this.blurStrength=d,this.strength=c,this.glcolor=[1,1,1],h!=null&&(this.color=h)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var r=this.glcolor;r[0]=(o>>16&255)/255,r[1]=(o>>8&255)/255,r[2]=(o&255)/255}}});C.exports=l},9047:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a,d,c,p){h===void 0&&(h=0),u===void 0&&(u=2),a===void 0&&(a=2),d===void 0&&(d=1),p===void 0&&(p=4),y.call(this,f.BLUR,r),this.quality=h,this.x=u,this.y=a,this.steps=p,this.strength=d,this.glcolor=[1,1,1],c!=null&&(this.color=c)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var r=this.glcolor;r[0]=(o>>16&255)/255,r[1]=(o>>8&255)/255,r[2]=(o&255)/255}}});C.exports=l},27885:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a,d,c,p,v){h===void 0&&(h=.5),u===void 0&&(u=1),a===void 0&&(a=.2),d===void 0&&(d=!1),c===void 0&&(c=1),p===void 0&&(p=1),v===void 0&&(v=1),y.call(this,f.BOKEH,r),this.radius=h,this.amount=u,this.contrast=a,this.isTiltShift=d,this.strength=v,this.blurX=c,this.blurY=p}});C.exports=l},12578:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a,d,c){h===void 0&&(h=8),d===void 0&&(d=1),c===void 0&&(c=.005),y.call(this,f.CIRCLE,r),this.scale=d,this.feather=c,this.thickness=h,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],u!=null&&(this.color=u),a!=null&&(this.backgroundColor=a)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var r=this.glcolor;r[0]=(o>>16&255)/255,r[1]=(o>>8&255)/255,r[2]=(o&255)/255}},backgroundColor:{get:function(){var o=this.glcolor2;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var r=this.glcolor2;r[0]=(o>>16&255)/255,r[1]=(o>>8&255)/255,r[2]=(o&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(o){this.glcolor2[3]=o}}});C.exports=l},15802:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(89422),f=s(14811),l=new g({Extends:y,initialize:function(r){y.call(this),this.type=f.COLOR_MATRIX,this.gameObject=r,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});C.exports=l},72898:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o){this.type=l,this.gameObject=o,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});C.exports=y},44553:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a){h===void 0&&(h="__WHITE"),u===void 0&&(u=.005),a===void 0&&(a=.005),y.call(this,f.DISPLACEMENT,r),this.x=u,this.y=a,this.glTexture,this.setTexture(h)},setTexture:function(o){var r=this.gameObject.scene.sys.textures.getFrame(o);return r&&(this.glTexture=r.glTexture),this}});C.exports=l},68531:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a,d){u===void 0&&(u=4),a===void 0&&(a=0),d===void 0&&(d=!1),y.call(this,f.GLOW,r),this.outerStrength=u,this.innerStrength=a,this.knockout=d,this.glcolor=[1,1,1,1],h!==void 0&&(this.color=h)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var r=this.glcolor;r[0]=(o>>16&255)/255,r[1]=(o>>8&255)/255,r[2]=(o&255)/255}}});C.exports=l},37102:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a,d,c,p,v,m){a===void 0&&(a=.2),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=1),m===void 0&&(m=0),y.call(this,f.GRADIENT,r),this.alpha=a,this.size=m,this.fromX=d,this.fromY=c,this.toX=p,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],h!=null&&(this.color1=h),u!=null&&(this.color2=u)},color1:{get:function(){var o=this.glcolor1;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var r=this.glcolor1;r[0]=o>>16&255,r[1]=o>>8&255,r[2]=o&255}},color2:{get:function(){var o=this.glcolor2;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var r=this.glcolor2;r[0]=o>>16&255,r[1]=o>>8&255,r[2]=o&255}}});C.exports=l},86886:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h){h===void 0&&(h=1),y.call(this,f.PIXELATE,r),this.amount=h}});C.exports=l},92322:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a,d,c,p,v){h===void 0&&(h=0),u===void 0&&(u=0),a===void 0&&(a=.1),d===void 0&&(d=1),p===void 0&&(p=6),v===void 0&&(v=1),y.call(this,f.SHADOW,r),this.x=h,this.y=u,this.decay=a,this.power=d,this.glcolor=[0,0,0,1],this.samples=p,this.intensity=v,c!==void 0&&(this.color=c)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var r=this.glcolor;r[0]=(o>>16&255)/255,r[1]=(o>>8&255)/255,r[2]=(o&255)/255}}});C.exports=l},39563:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a,d){h===void 0&&(h=.5),u===void 0&&(u=.5),a===void 0&&(a=3),d===void 0&&(d=!1),y.call(this,f.SHINE,r),this.speed=h,this.lineWidth=u,this.gradient=a,this.reveal=d}});C.exports=l},56448:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a,d){h===void 0&&(h=.5),u===void 0&&(u=.5),a===void 0&&(a=.5),d===void 0&&(d=.5),y.call(this,f.VIGNETTE,r),this.x=h,this.y=u,this.radius=a,this.strength=d}});C.exports=l},38433:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,h,u,a,d){h===void 0&&(h=.1),u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=!1),y.call(this,f.WIPE,r),this.progress=0,this.wipeWidth=h,this.direction=u,this.axis=a,this.reveal=d}});C.exports=l},14811:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};C.exports=A},66064:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=s(14811),f={Barrel:s(20122),Controller:s(72898),Bloom:s(32251),Blur:s(9047),Bokeh:s(27885),Circle:s(12578),ColorMatrix:s(15802),Displacement:s(44553),Glow:s(68531),Gradient:s(37102),Pixelate:s(86886),Shadow:s(92322),Shine:s(39563),Vignette:s(56448),Wipe:s(38433)};f=g(!1,f,y),C.exports=f},25305:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(23568),f=function(l,o,r){o.x=y(r,"x",0),o.y=y(r,"y",0),o.depth=y(r,"depth",0),o.flipX=y(r,"flipX",!1),o.flipY=y(r,"flipY",!1);var h=y(r,"scale",null);typeof h=="number"?o.setScale(h):h!==null&&(o.scaleX=y(h,"x",1),o.scaleY=y(h,"y",1));var u=y(r,"scrollFactor",null);typeof u=="number"?o.setScrollFactor(u):u!==null&&(o.scrollFactorX=y(u,"x",1),o.scrollFactorY=y(u,"y",1)),o.rotation=y(r,"rotation",0);var a=y(r,"angle",null);a!==null&&(o.angle=a),o.alpha=y(r,"alpha",1);var d=y(r,"origin",null);if(typeof d=="number")o.setOrigin(d);else if(d!==null){var c=y(d,"x",.5),p=y(d,"y",.5);o.setOrigin(c,p)}o.blendMode=y(r,"blendMode",g.NORMAL),o.visible=y(r,"visible",!0);var v=y(r,"add",!0);return v&&l.sys.displayList.add(o),o.preUpdate&&l.sys.updateList.add(o),o};C.exports=f},13059:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23568),y=function(f,l){var o=g(l,"anims",null);if(o===null)return f;if(typeof o=="string")f.anims.play(o);else if(typeof o=="object"){var r=f.anims,h=g(o,"key",void 0);if(h){var u=g(o,"startFrame",void 0),a=g(o,"delay",0),d=g(o,"repeat",0),c=g(o,"repeatDelay",0),p=g(o,"yoyo",!1),v=g(o,"play",!1),m=g(o,"delayedPlay",0),T={key:h,delay:a,repeat:d,repeatDelay:c,yoyo:p,startFrame:u};v?r.play(T):m>0?r.playAfterDelay(T,m):r.load(T)}}return f};C.exports=y},8050:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(73162),f=s(37277),l=s(51708),o=s(44594),r=s(19186),h=new g({Extends:y,initialize:function(a){y.call(this,a),this.sortChildrenFlag=!1,this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},addChildCallback:function(u){u.displayList&&u.displayList!==this&&u.removeFromDisplayList(),u.parentContainer&&u.parentContainer.remove(u),u.displayList||(this.queueDepthSort(),u.displayList=this,u.emit(l.ADDED_TO_SCENE,u,this.scene),this.events.emit(o.ADDED_TO_SCENE,u,this.scene))},removeChildCallback:function(u){this.queueDepthSort(),u.displayList=null,u.emit(l.REMOVED_FROM_SCENE,u,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,u,this.scene)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(r(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(u,a){return u._depth-a._depth},getChildren:function(){return this.list},shutdown:function(){for(var u=this.list,a=u.length;a--;)u[a]&&u[a].destroy(!0);u.length=0,this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",h,"displayList"),C.exports=h},95643:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(53774),f=s(45893),l=s(50792),o=s(51708),r=s(44594),h=new g({Extends:l,initialize:function(a,d){l.call(this),this.scene=a,this.displayList=null,this.type=d,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this),a.sys.queueDepthSort()},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},setState:function(u){return this.state=u,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(u,a){return this.data||(this.data=new f(this)),this.data.set(u,a),this},incData:function(u,a){return this.data||(this.data=new f(this)),this.data.inc(u,a),this},toggleData:function(u){return this.data||(this.data=new f(this)),this.data.toggle(u),this},getData:function(u){return this.data||(this.data=new f(this)),this.data.get(u)},setInteractive:function(u,a,d){return this.scene.sys.input.enable(this,u,a,d),this},disableInteractive:function(u){return u===void 0&&(u=!1),this.scene.sys.input.disable(this,u),this},removeInteractive:function(u){return u===void 0&&(u=!1),this.scene.sys.input.clear(this),u&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return y(this)},willRender:function(u){var a=this.displayList&&this.displayList.active?this.displayList.willRender(u):!0;return!(!a||h.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},getIndexList:function(){for(var u=this,a=this.parentContainer,d=[];a&&(d.unshift(a.getIndex(u)),u=a,a.parentContainer);)a=a.parentContainer;return this.displayList?d.unshift(this.displayList.getIndex(u)):d.unshift(this.scene.sys.displayList.getIndex(u)),d},addToDisplayList:function(u){return u===void 0&&(u=this.scene.sys.displayList),this.displayList&&this.displayList!==u&&this.removeFromDisplayList(),u.exists(this)||(this.displayList=u,u.add(this,!0),u.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),u.events.emit(r.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var u=this.displayList||this.scene.sys.displayList;return u&&u.exists(this)&&(u.remove(this,!0),u.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),u.events.emit(r.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var u=null;return this.parentContainer?u=this.parentContainer.list:this.displayList&&(u=this.displayList.list),u},destroy:function(u){!this.scene||this.ignoreDestroy||(u===void 0&&(u=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this,u),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});h.RENDER_MASK=15,C.exports=h},44603:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(37277),f=s(44594),l=new g({initialize:function(r){this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(o,r){l.prototype.hasOwnProperty(o)||(l.prototype[o]=r)},l.remove=function(o){l.prototype.hasOwnProperty(o)&&delete l.prototype[o]},y.register("GameObjectCreator",l,"make"),C.exports=l},39429:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(37277),f=s(44594),l=new g({initialize:function(r){this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(o){return(o.renderCanvas||o.renderWebGL)&&this.displayList.add(o),o.preUpdate&&this.updateList.add(o),o},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(o,r){l.prototype.hasOwnProperty(o)||(l.prototype[o]=r)},l.remove=function(o){l.prototype.hasOwnProperty(o)&&delete l.prototype[o]},y.register("GameObjectFactory",l,"add"),C.exports=l},91296:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61340),y=new g,f=new g,l=new g,o={camera:y,sprite:f,calc:l},r=function(h,u,a){var d=y,c=f,p=l;return c.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),d.copyFrom(u.matrix),a?(d.multiplyWithOffset(a,-u.scrollX*h.scrollFactorX,-u.scrollY*h.scrollFactorY),c.e=h.x,c.f=h.y):(c.e-=u.scrollX*h.scrollFactorX,c.f-=u.scrollY*h.scrollFactorY),d.multiply(c,p),o};C.exports=r},45027:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(25774),f=s(37277),l=s(44594),o=new g({Extends:y,initialize:function(h){y.call(this),this.checkQueue=!0,this.scene=h,this.systems=h.sys,h.sys.events.once(l.BOOT,this.boot,this),h.sys.events.on(l.START,this.start,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){var r=this.systems.events;r.on(l.PRE_UPDATE,this.update,this),r.on(l.UPDATE,this.sceneUpdate,this),r.once(l.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(r,h){for(var u=this._active,a=u.length,d=0;d<a;d++){var c=u[d];c.active&&c.preUpdate.call(c,r,h)}},shutdown:function(){for(var r=this._active.length;r--;)this._active[r].destroy(!0);for(r=this._pending.length;r--;)this._pending[r].destroy(!0);for(r=this._destroy.length;r--;)this._destroy[r].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var h=this.systems.events;h.off(l.PRE_UPDATE,this.update,this),h.off(l.UPDATE,this.sceneUpdate,this),h.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",o,"updateList"),C.exports=o},3217:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,o,r,h,u,a,d,c,p,v,m){var T=y.x-g.displayOriginX+l,E=y.y-g.displayOriginY+o,P=T+y.w,w=E+y.h,R=r.a,L=r.b,O=r.c,I=r.d,F=r.e,B=r.f,G=T*R+E*O+F,z=T*L+E*I+B,Y=T*R+w*O+F,J=T*L+w*I+B,$=P*R+w*O+F,j=P*L+w*I+B,X=P*R+E*O+F,H=P*L+E*I+B;h&&(G=Math.round(G),z=Math.round(z),Y=Math.round(Y),J=Math.round(J),$=Math.round($),j=Math.round(j),X=Math.round(X),H=Math.round(H)),s.batchQuad(g,G,z,Y,J,$,j,X,H,f.u0,f.v0,f.u1,f.v1,u,a,d,c,p,v,m)};C.exports=A},53048:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){if(y===void 0&&(y=!1),f===void 0)return f={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},f;var l=s.text,o=l.length,r=s.maxWidth,h=s.wordWrapCharCode,u=Number.MAX_VALUE,a=Number.MAX_VALUE,d=0,c=0,p=s.fontData.chars,v=s.fontData.lineHeight,m=s.letterSpacing,T=s.lineSpacing,E=0,P=0,w=0,R=null,L=s._align,O=0,I=0,F=s.fontSize/s.fontData.size,B=F*s.scaleX,G=F*s.scaleY,z=null,Y=0,J=[],$=Number.MAX_VALUE,j=0,X=0,H=0,N,Q,U,q=[],et=[],it=null,rt=function(fe,be){for(var $t=0,le=0;le<fe.length;le++){var kt=fe.charCodeAt(le),ve=be.chars[kt];ve&&($t+=ve.xAdvance)}return $t*B};if(r>0){U=l.split(`
`);var lt=[];for(N=0;N<U.length;N++){var ft=U[N],gt="",vt="",xt="",yt="";for(Q=0;Q<ft.length;Q++)if(w=ft.charCodeAt(Q),gt+=ft[Q],w===h||Q===ft.length-1){yt=xt+gt;var Ct=rt(yt,s.fontData);Ct<=r?xt=yt:(vt=vt.slice(0,-1),vt+=(vt?`
`:"")+xt,xt=gt),gt=""}vt=vt.slice(0,-1),vt+=(vt?`
`:"")+xt,lt.push(vt)}l=lt.join(`
`),f.wrappedText=l,o=l.length}var Rt=0;for(N=0;N<o;N++){if(w=l.charCodeAt(N),w===10){it!==null&&(q.push({word:it.word,i:it.i,x:it.x*B,y:it.y*G,w:it.w*B,h:it.h*G}),it=null),z=null,J[X]=H,H>j&&(j=H),H<$&&($=H),X++,H=0,E=0,P=(v+T)*X;continue}if(R=p[w],!!R){if(O=E,I=P,z!==null){var bt=R.kerning[Y];O+=bt!==void 0?bt:0}u>O&&(u=O),a>I&&(a=I);var Lt=O+R.xAdvance,St=I+v;d<Lt&&(d=Lt),c<St&&(c=St);var Et=R.xOffset+R.xAdvance+(bt!==void 0?bt:0);w===h?it!==null&&(q.push({word:it.word,i:it.i,x:it.x*B,y:it.y*G,w:it.w*B,h:it.h*G}),it=null):(it===null&&(it={word:"",i:Rt,x:E,y:P,w:0,h:v}),it.word=it.word.concat(l[N]),it.w+=Et),et.push({i:Rt,idx:N,char:l[N],code:w,x:(R.xOffset+O)*F,y:(R.yOffset+P)*F,w:R.width*F,h:R.height*F,t:P*F,r:Lt*F,b:v*F,line:X,glyph:R}),E+=R.xAdvance+m+(bt!==void 0?bt:0),z=R,Y=w,H=Lt*F,Rt++}}if(it!==null&&q.push({word:it.word,i:it.i,x:it.x*B,y:it.y*G,w:it.w*B,h:it.h*G}),J[X]=H,H>j&&(j=H),H<$&&($=H),L>0)for(var Mt=0;Mt<et.length;Mt++){var Vt=et[Mt];if(L===1){var Kt=(j-J[Vt.line])/2;Vt.x+=Kt,Vt.r+=Kt}else if(L===2){var oe=j-J[Vt.line];Vt.x+=oe,Vt.r+=oe}}var Jt=f.local,Qt=f.global;return U=f.lines,Jt.x=u*F,Jt.y=a*F,Jt.width=d*F,Jt.height=c*F,Qt.x=s.x-s._displayOriginX+u*B,Qt.y=s.y-s._displayOriginY+a*G,Qt.width=d*B,Qt.height=c*G,U.shortest=$,U.longest=j,U.lengths=J,g&&(Jt.x=Math.ceil(Jt.x),Jt.y=Math.ceil(Jt.y),Jt.width=Math.ceil(Jt.width),Jt.height=Math.ceil(Jt.height),Qt.x=Math.ceil(Qt.x),Qt.y=Math.ceil(Qt.y),Qt.width=Math.ceil(Qt.width),Qt.height=Math.ceil(Qt.height),U.shortest=Math.ceil($),U.longest=Math.ceil(j)),y&&(s._displayOriginX=s.originX*Jt.width,s._displayOriginY=s.originY*Jt.height,Qt.x=s.x-s._displayOriginX*s.scaleX,Qt.y=s.y-s._displayOriginY*s.scaleY,g&&(Qt.x=Math.ceil(Qt.x),Qt.y=Math.ceil(Qt.y))),f.words=q,f.characters=et,f.lines.height=v,f.scale=F,f.scaleX=s.scaleX,f.scaleY=s.scaleY,f};C.exports=A},61327:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(21859),y=function(f,l,o,r,h,u,a){var d=f.sys.textures.get(o),c=d.get(r),p=f.sys.cache.xml.get(h);if(c&&p){var v=g(p,c,u,a,d);return f.sys.cache.bitmapFont.add(l,{data:v,texture:o,frame:r,fromAtlas:!0}),!0}else return!1};C.exports=y},6925:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35154),y=function(f,l){var o=l.width,r=l.height,h=Math.floor(o/2),u=Math.floor(r/2),a=g(l,"chars","");if(a!==""){var d=g(l,"image",""),c=f.sys.textures.getFrame(d),p=c.cutX,v=c.cutY,m=c.source.width,T=c.source.height,E=g(l,"offset.x",0),P=g(l,"offset.y",0),w=g(l,"spacing.x",0),R=g(l,"spacing.y",0),L=g(l,"lineSpacing",0),O=g(l,"charsPerRow",null);O===null&&(O=m/o,O>a.length&&(O=a.length));for(var I=E,F=P,B={retroFont:!0,font:d,size:o,lineHeight:r+L,chars:{}},G=0,z=0;z<a.length;z++){var Y=a.charCodeAt(z),J=(p+I)/m,$=(v+F)/T,j=(p+I+o)/m,X=(v+F+r)/T;B.chars[Y]={x:I,y:F,width:o,height:r,centerX:h,centerY:u,xOffset:0,yOffset:0,xAdvance:o,data:{},kerning:{},u0:J,v0:$,u1:j,v1:X},G++,G===O?(G=0,I=E,F+=r+R):I+=o+w}var H={data:B,frame:null,texture:d};return H}};C.exports=y},21859:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(g,y){return parseInt(g.getAttribute(y),10)}var s=function(g,y,f,l,o){f===void 0&&(f=0),l===void 0&&(l=0);var r=y.cutX,h=y.cutY,u=y.source.width,a=y.source.height,d=y.sourceIndex,c={},p=g.getElementsByTagName("info")[0],v=g.getElementsByTagName("common")[0];c.font=p.getAttribute("face"),c.size=A(p,"size"),c.lineHeight=A(v,"lineHeight")+l,c.chars={};var m=g.getElementsByTagName("char"),T=y!==void 0&&y.trimmed;if(T)var E=y.height,P=y.width;for(var w=0;w<m.length;w++){var R=m[w],L=A(R,"id"),O=String.fromCharCode(L),I=A(R,"x"),F=A(R,"y"),B=A(R,"width"),G=A(R,"height");T&&(I<P&&(P=I),F<E&&(E=F)),T&&E!==0&&P!==0&&(I-=y.x,F-=y.y);var z=(r+I)/u,Y=(h+F)/a,J=(r+I+B)/u,$=(h+F+G)/a;if(c.chars[L]={x:I,y:F,width:B,height:G,centerX:Math.floor(B/2),centerY:Math.floor(G/2),xOffset:A(R,"xoffset"),yOffset:A(R,"yoffset"),xAdvance:A(R,"xadvance")+f,data:{},kerning:{},u0:z,v0:Y,u1:J,v1:$},o&&B!==0&&G!==0){var j=o.add(O,d,I,F,B,G);j&&j.setUVs(B,G,z,Y,J,$)}}var X=g.getElementsByTagName("kerning");for(w=0;w<X.length;w++){var H=X[w],N=A(H,"first"),Q=A(H,"second"),U=A(H,"amount");c.chars[Q].kerning[N]=U}return c};C.exports=s},196:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87662),y=s(79291),f={Parse:s(6925)};f=y(!1,f,g),C.exports=f},87662:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};C.exports=A},2638:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22186),y=s(83419),f=s(12310),l=new y({Extends:g,Mixins:[f],initialize:function(r,h,u,a,d,c,p){g.call(this,r,h,u,a,d,c,p),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(o,r){return this.cropWidth=o,this.cropHeight=r,this},setDisplayCallback:function(o){return this.displayCallback=o,this},setScrollX:function(o){return this.scrollX=o,this},setScrollY:function(o){return this.scrollY=o,this}});C.exports=l},86741:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20926),y=function(f,l,o,r){var h=l._text,u=h.length,a=f.currentContext;if(!(u===0||!g(f,a,l,o,r))){o.addToRenderList(l);var d=l.fromAtlas?l.frame:l.texture.frames.__BASE,c=l.displayCallback,p=l.callbackData,v=l.fontData.chars,m=l.fontData.lineHeight,T=l._letterSpacing,E=0,P=0,w=0,R=null,L=0,O=0,I=0,F=0,B=0,G=0,z=null,Y=0,J=l.frame.source.image,$=d.cutX,j=d.cutY,X=0,H=0,N=l._fontSize/l.fontData.size,Q=l._align,U=0,q=0;l.getTextBounds(!1);var et=l._bounds.lines;Q===1?q=(et.longest-et.lengths[0])/2:Q===2&&(q=et.longest-et.lengths[0]),a.translate(-l.displayOriginX,-l.displayOriginY);var it=o.roundPixels;l.cropWidth>0&&l.cropHeight>0&&(a.beginPath(),a.rect(0,0,l.cropWidth,l.cropHeight),a.clip());for(var rt=0;rt<u;rt++){if(H=N,X=0,w=h.charCodeAt(rt),w===10){U++,Q===1?q=(et.longest-et.lengths[U])/2:Q===2&&(q=et.longest-et.lengths[U]),E=0,P+=m,z=null;continue}if(R=v[w],!!R){if(L=$+R.x,O=j+R.y,I=R.width,F=R.height,B=R.xOffset+E-l.scrollX,G=R.yOffset+P-l.scrollY,z!==null){var lt=R.kerning[Y];B+=lt!==void 0?lt:0}if(c){p.index=rt,p.charCode=w,p.x=B,p.y=G,p.scale=H,p.rotation=X,p.data=R.data;var ft=c(p);B=ft.x,G=ft.y,H=ft.scale,X=ft.rotation}B*=H,G*=H,B+=q,E+=R.xAdvance+T+(lt!==void 0?lt:0),z=R,Y=w,!(I===0||F===0||w===32)&&(it&&(B=Math.round(B),G=Math.round(G)),a.save(),a.translate(B,G),a.rotate(X),a.scale(H,H),a.drawImage(J,L,O,I,F,0,0,I,F),a.restore())}}a.restore()}};C.exports=y},11164:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2638),y=s(25305),f=s(44603),l=s(23568);f.register("dynamicBitmapText",function(o,r){o===void 0&&(o={});var h=l(o,"font",""),u=l(o,"text",""),a=l(o,"size",!1),d=new g(this.scene,0,0,h,u,a);return r!==void 0&&(o.add=r),y(this.scene,d,o),d})},72566:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2638),y=s(39429);y.register("dynamicBitmapText",function(f,l,o,r,h){return this.displayList.add(new g(this.scene,f,l,o,r,h))})},12310:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(73482),f=s(86741),C.exports={renderWebGL:y,renderCanvas:f}},73482:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(61340),f=s(70554),l=new y,o=function(r,h,u,a){var d=h.text,c=d.length;if(c!==0){u.addToRenderList(h);var p=r.pipelines.set(h.pipeline,h),v=g(h,u,a);r.pipelines.preBatch(h);var m=v.sprite,T=v.calc,E=l,P=h.cropWidth>0||h.cropHeight>0;P&&(p.flush(),r.pushScissor(T.tx,T.ty,h.cropWidth*T.scaleX,h.cropHeight*T.scaleY));var w=h.frame,R=w.glTexture,L=h.tintFill,O=f.getTintAppendFloatAlpha(h.tintTopLeft,u.alpha*h._alphaTL),I=f.getTintAppendFloatAlpha(h.tintTopRight,u.alpha*h._alphaTR),F=f.getTintAppendFloatAlpha(h.tintBottomLeft,u.alpha*h._alphaBL),B=f.getTintAppendFloatAlpha(h.tintBottomRight,u.alpha*h._alphaBR),G=p.setGameObject(h),z=0,Y=0,J=0,$=0,j=h.letterSpacing,X,H=0,N=0,Q,U=h.scrollX,q=h.scrollY,et=h.fontData,it=et.chars,rt=et.lineHeight,lt=h.fontSize/et.size,ft=0,gt=h._align,vt=0,xt=0,yt=h.getTextBounds(!1);h.maxWidth>0&&(d=yt.wrappedText,c=d.length);var Ct=h._bounds.lines;gt===1?xt=(Ct.longest-Ct.lengths[0])/2:gt===2&&(xt=Ct.longest-Ct.lengths[0]);for(var Rt=u.roundPixels,bt=h.displayCallback,Lt=h.callbackData,St=0;St<c;St++){if(J=d.charCodeAt(St),J===10){vt++,gt===1?xt=(Ct.longest-Ct.lengths[vt])/2:gt===2&&(xt=Ct.longest-Ct.lengths[vt]),z=0,Y+=rt,Q=null;continue}if(X=it[J],!!X){H=X.width,N=X.height;var Et=X.xOffset+z-U,Mt=X.yOffset+Y-q;if(Q!==null){var Vt=X.kerning[$]||0;Et+=Vt,z+=Vt}if(z+=X.xAdvance+j,Q=X,$=J,!(H===0||N===0||J===32)){if(lt=h.fontSize/h.fontData.size,ft=0,bt){Lt.color=0,Lt.tint.topLeft=O,Lt.tint.topRight=I,Lt.tint.bottomLeft=F,Lt.tint.bottomRight=B,Lt.index=St,Lt.charCode=J,Lt.x=Et,Lt.y=Mt,Lt.scale=lt,Lt.rotation=ft,Lt.data=X.data;var Kt=bt(Lt);Et=Kt.x,Mt=Kt.y,lt=Kt.scale,ft=Kt.rotation,Kt.color?(O=Kt.color,I=Kt.color,F=Kt.color,B=Kt.color):(O=Kt.tint.topLeft,I=Kt.tint.topRight,F=Kt.tint.bottomLeft,B=Kt.tint.bottomRight),O=f.getTintAppendFloatAlpha(O,u.alpha*h._alphaTL),I=f.getTintAppendFloatAlpha(I,u.alpha*h._alphaTR),F=f.getTintAppendFloatAlpha(F,u.alpha*h._alphaBL),B=f.getTintAppendFloatAlpha(B,u.alpha*h._alphaBR)}Et*=lt,Mt*=lt,Et-=h.displayOriginX,Mt-=h.displayOriginY,Et+=xt,E.applyITRS(Et,Mt,ft,lt,lt),T.multiply(E,m);var oe=X.u0,Jt=X.v0,Qt=X.u1,fe=X.v1,be=H,$t=N,le=m.e,kt=m.f,ve=$t*m.c+m.e,Mi=$t*m.d+m.f,rs=be*m.a+$t*m.c+m.e,Ts=be*m.b+$t*m.d+m.f,Ps=be*m.a+m.e,oi=be*m.b+m.f;Rt&&(le=Math.round(le),kt=Math.round(kt),ve=Math.round(ve),Mi=Math.round(Mi),rs=Math.round(rs),Ts=Math.round(Ts),Ps=Math.round(Ps),oi=Math.round(oi)),p.shouldFlush(6)&&(p.flush(),G=p.setGameObject(h)),p.batchQuad(h,le,kt,ve,Mi,rs,Ts,Ps,oi,oe,Jt,Qt,fe,O,I,F,B,L,R,G)}}}P&&(p.flush(),r.popScissor()),r.pipelines.postBatch(h)}};C.exports=o},22186:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(45319),f=s(31401),l=s(95643),o=s(53048),r=s(61327),h=s(21859),u=s(87841),a=s(18658),d=new g({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,a],initialize:function(p,v,m,T,E,P,w){E===void 0&&(E=""),w===void 0&&(w=0),l.call(this,p,"BitmapText"),this.font=T;var R=this.scene.sys.cache.bitmapFont.get(T);if(!R)throw new Error("Invalid BitmapText key: "+T);this.fontData=R.data,this._text="",this._fontSize=P||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=w,this._bounds=o(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(v,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(E)},setLeftAlign:function(){return this._align=d.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=d.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=d.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(c){return this._fontSize=c,this._dirty=!0,this},setLetterSpacing:function(c){return c===void 0&&(c=0),this._letterSpacing=c,this._dirty=!0,this},setLineSpacing:function(c){return c===void 0&&(c=0),this.lineSpacing=c,this},setText:function(c){return!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this.text&&(this._text=c.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(c,p,v,m){return c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=.5),this.dropShadowX=c,this.dropShadowY=p,this.dropShadowColor=v,this.dropShadowAlpha=m,this},setCharacterTint:function(c,p,v,m,T,E,P){c===void 0&&(c=0),p===void 0&&(p=1),v===void 0&&(v=!1),m===void 0&&(m=-1),T===void 0&&(T=m,E=m,P=m);var w=this.text.length;p===-1&&(p=w),c<0&&(c=w+c),c=y(c,0,w-1);for(var R=y(c+p,c,w),L=this.charColors,O=c;O<R;O++){var I=L[O];if(m===-1)L[O]=null;else{var F=v?1:0;I?(I.tintEffect=F,I.tintTL=m,I.tintTR=T,I.tintBL=E,I.tintBR=P):L[O]={tintEffect:F,tintTL:m,tintTR:T,tintBL:E,tintBR:P}}}return this},setWordTint:function(c,p,v,m,T,E,P){p===void 0&&(p=1);for(var w=this.getTextBounds(),R=w.words,L=typeof c=="number",O=0,I=0;I<R.length;I++){var F=R[I];if((L&&I===c||!L&&F.word===c)&&(this.setCharacterTint(F.i,F.word.length,v,m,T,E,P),O++,O===p))return this}return this},getTextBounds:function(c){var p=this._bounds;return(this._dirty||c||this.scaleX!==p.scaleX||this.scaleY!==p.scaleY)&&(o(this,c,!0,p),this._dirty=!1),p},getCharacterAt:function(c,p,v){for(var m=this.getLocalPoint(c,p,null,v),T=this.getTextBounds(),E=T.characters,P=new u,w=0;w<E.length;w++){var R=E[w];if(P.setTo(R.x,R.t,R.r-R.x,R.b),P.contains(m.x,m.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(c,p,v){p===void 0&&(p=this._fontSize),v===void 0&&(v=this._align);var m=this.scene.sys.cache.bitmapFont.get(c);return m&&(this.font=c,this.fontData=m.data,this._fontSize=p,this._align=v,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),o(this,!1,!0,this._bounds)),this},setMaxWidth:function(c,p){return this._maxWidth=c,this._dirty=!0,p!==void 0&&(this.wordWrapCharCode=p),this},setDisplaySize:function(c,p){this.setScale(1,1),this.getTextBounds(!1);var v=c/this.width,m=p/this.height;return this.setScale(v,m),this},align:{set:function(c){this._align=c,this._dirty=!0},get:function(){return this._align}},text:{set:function(c){this.setText(c)},get:function(){return this._text}},fontSize:{set:function(c){this._fontSize=c,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(c){this._letterSpacing=c,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(c){this._lineSpacing=c,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(c){this._maxWidth=c,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(c){this.setScaleX(1),this.getTextBounds(!1);var p=c/this.width;this.setScaleX(p)},get:function(){return this.width}},displayHeight:{set:function(c){this.setScaleY(1),this.getTextBounds(!1);var p=c/this.height;this.setScaleY(p)},get:function(){return this.height}},toJSON:function(){var c=f.ToJSON(this),p={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return c.data=p,c},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});d.ALIGN_LEFT=0,d.ALIGN_CENTER=1,d.ALIGN_RIGHT=2,d.ParseFromAtlas=r,d.ParseXMLBitmapFont=h,C.exports=d},37289:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20926),y=function(f,l,o,r){var h=l._text,u=h.length,a=f.currentContext;if(!(u===0||!g(f,a,l,o,r))){o.addToRenderList(l);var d=l.fromAtlas?l.frame:l.texture.frames.__BASE,c=l.fontData.chars,p=l.fontData.lineHeight,v=l._letterSpacing,m=l._lineSpacing,T=0,E=0,P=0,w=null,R=0,L=0,O=0,I=0,F=0,B=0,G=null,z=0,Y=d.source.image,J=d.cutX,$=d.cutY,j=l._fontSize/l.fontData.size,X=l._align,H=0,N=0,Q=l.getTextBounds(!1);l.maxWidth>0&&(h=Q.wrappedText,u=h.length);var U=l._bounds.lines;X===1?N=(U.longest-U.lengths[0])/2:X===2&&(N=U.longest-U.lengths[0]),a.translate(-l.displayOriginX,-l.displayOriginY);for(var q=o.roundPixels,et=0;et<u;et++){if(P=h.charCodeAt(et),P===10){H++,X===1?N=(U.longest-U.lengths[H])/2:X===2&&(N=U.longest-U.lengths[H]),T=0,E+=p+m,G=null;continue}if(w=c[P],!!w){if(R=J+w.x,L=$+w.y,O=w.width,I=w.height,F=w.xOffset+T,B=w.yOffset+E,G!==null){var it=w.kerning[z];F+=it!==void 0?it:0}F*=j,B*=j,F+=N,T+=w.xAdvance+v+(it!==void 0?it:0),G=w,z=P,!(O===0||I===0||P===32)&&(q&&(F=Math.round(F),B=Math.round(B)),a.save(),a.translate(F,B),a.scale(j,j),a.drawImage(Y,R,L,O,I,0,0,O,I),a.restore())}}a.restore()}};C.exports=y},57336:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22186),y=s(25305),f=s(44603),l=s(23568),o=s(35154);f.register("bitmapText",function(r,h){r===void 0&&(r={});var u=o(r,"font",""),a=l(r,"text",""),d=l(r,"size",!1),c=o(r,"align",0),p=new g(this.scene,0,0,u,a,d,c);return h!==void 0&&(r.add=h),y(this.scene,p,r),p})},34914:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22186),y=s(39429);y.register("bitmapText",function(f,l,o,r,h,u){return this.displayList.add(new g(this.scene,f,l,o,r,h,u))})},18658:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(33590),f=s(37289),C.exports={renderWebGL:y,renderCanvas:f}},33590:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(3217),y=s(91296),f=s(70554),l=function(o,r,h,u){var a=r._text,d=a.length;if(d!==0){h.addToRenderList(r);var c=o.pipelines.set(r.pipeline,r),p=y(r,h,u).calc;o.pipelines.preBatch(r);var v=h.roundPixels,m=h.alpha,T=r.charColors,E=r.tintFill,P=f.getTintAppendFloatAlpha,w=P(r.tintTopLeft,m*r._alphaTL),R=P(r.tintTopRight,m*r._alphaTR),L=P(r.tintBottomLeft,m*r._alphaBL),O=P(r.tintBottomRight,m*r._alphaBR),I=r.frame.glTexture,F=c.setGameObject(r),B=r.getTextBounds(!1),G,z,Y,J=B.characters,$=r.dropShadowX,j=r.dropShadowY,X=$!==0||j!==0;if(X){var H=r.dropShadowColor,N=r.dropShadowAlpha,Q=P(H,m*N*r._alphaTL),U=P(H,m*N*r._alphaTR),q=P(H,m*N*r._alphaBL),et=P(H,m*N*r._alphaBR);for(G=0;G<J.length;G++)z=J[G],Y=z.glyph,!(z.code===32||Y.width===0||Y.height===0)&&g(c,r,z,Y,$,j,p,v,Q,U,q,et,1,I,F)}for(G=0;G<J.length;G++)if(z=J[G],Y=z.glyph,!(z.code===32||Y.width===0||Y.height===0))if(c.shouldFlush(6)&&(c.flush(),F=c.setGameObject(r)),T[z.i]){var it=T[z.i],rt=it.tintEffect,lt=P(it.tintTL,m*r._alphaTL),ft=P(it.tintTR,m*r._alphaTR),gt=P(it.tintBL,m*r._alphaBL),vt=P(it.tintBR,m*r._alphaBR);g(c,r,z,Y,0,0,p,v,lt,ft,gt,vt,rt,I,F)}else g(c,r,z,Y,0,0,p,v,w,R,L,O,E,I,F);o.pipelines.postBatch(r)}};C.exports=l},6107:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(48011),y=s(46590),f=s(83419),l=s(31401),o=s(4327),r=s(95643),h=s(73162),u=new f({Extends:r,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.Texture,l.Transform,l.Visible,g],initialize:function(d,c,p,v,m){r.call(this,d,"Blitter"),this.setTexture(v,m),this.setPosition(c,p),this.initPipeline(),this.initPostPipeline(),this.children=new h,this.renderList=[],this.dirty=!1},create:function(a,d,c,p,v){p===void 0&&(p=!0),v===void 0&&(v=this.children.length),c===void 0?c=this.frame:c instanceof o||(c=this.texture.get(c));var m=new y(this,a,d,c,p);return this.children.addAt(m,v,!1),this.dirty=!0,m},createFromCallback:function(a,d,c,p){for(var v=this.createMultiple(d,c,p),m=0;m<v.length;m++){var T=v[m];a.call(this,T,m)}return v},createMultiple:function(a,d,c){d===void 0&&(d=this.frame.name),c===void 0&&(c=!0),Array.isArray(d)||(d=[d]);var p=[],v=this;return d.forEach(function(m){for(var T=0;T<a;T++)p.push(v.create(0,0,m,c))}),p},childCanRender:function(a){return a.visible&&a.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});C.exports=u},72396:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=g.getRenderList();if(l.length!==0){var o=s.currentContext,r=y.alpha*g.alpha;if(r!==0){y.addToRenderList(g),o.globalCompositeOperation=s.blendModes[g.blendMode],o.imageSmoothingEnabled=!g.frame.source.scaleMode;var h=g.x-y.scrollX*g.scrollFactorX,u=g.y-y.scrollY*g.scrollFactorY;o.save(),f&&f.copyToContext(o);for(var a=y.roundPixels,d=0;d<l.length;d++){var c=l[d],p=c.flipX||c.flipY,v=c.frame,m=v.canvasData,T=v.x,E=v.y,P=1,w=1,R=c.alpha*r;R!==0&&(o.globalAlpha=R,p?(c.flipX&&(P=-1,T-=m.width),c.flipY&&(w=-1,E-=m.height),m.width>0&&m.height>0&&(o.save(),o.translate(c.x+h,c.y+u),o.scale(P,w),o.drawImage(v.source.image,m.x,m.y,m.width,m.height,T,E,m.width,m.height),o.restore())):(a&&(T=Math.round(T),E=Math.round(E)),m.width>0&&m.height>0&&o.drawImage(v.source.image,m.x,m.y,m.width,m.height,T+c.x+h,E+c.y+u,m.width,m.height)))}o.restore()}}};C.exports=A},9403:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6107),y=s(25305),f=s(44603),l=s(23568);f.register("blitter",function(o,r){o===void 0&&(o={});var h=l(o,"key",null),u=l(o,"frame",null),a=new g(this.scene,0,0,h,u);return r!==void 0&&(o.add=r),y(this.scene,a,o),a})},12709:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6107),y=s(39429);y.register("blitter",function(f,l,o,r){return this.displayList.add(new g(this.scene,f,l,o,r))})},48011:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(99485),f=s(72396),C.exports={renderWebGL:y,renderCanvas:f}},99485:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61340),y=s(70554),f=new g,l=function(o,r,h,u){var a=r.getRenderList(),d=h.alpha*r.alpha;if(!(a.length===0||d===0)){h.addToRenderList(r);var c=o.pipelines.set(this.pipeline,r),p=h.scrollX*r.scrollFactorX,v=h.scrollY*r.scrollFactorY,m=f.copyFrom(h.matrix);u&&(m.multiplyWithOffset(u,-p,-v),p=0,v=0);var T=r.x-p,E=r.y-v,P=-1,w=!1,R=h.roundPixels;o.pipelines.preBatch(r);for(var L=0;L<a.length;L++){var O=a[L],I=O.frame,F=O.alpha*d;if(F!==0){var B=I.width,G=I.height,z=T+O.x+I.x,Y=E+O.y+I.y;O.flipX&&(B*=-1,z+=I.width),O.flipY&&(G*=-1,Y+=I.height);var J=m.setQuad(z,Y,z+B,Y+G,R),$=y.getTintAppendFloatAlpha(O.tint,F);if(I.sourceIndex!==P){var j=c.setGameObject(r,I);P=I.sourceIndex}c.batchQuad(r,J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7],I.u0,I.v0,I.u1,I.v1,$,$,$,$,w,I.glTexture,j)&&(P=-1)}}o.pipelines.postBatch(r)}};C.exports=l},46590:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(4327),f=new g({initialize:function(o,r,h,u,a){this.parent=o,this.x=r,this.y=h,this.frame=u,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(l){return l===void 0?this.frame=this.parent.frame:l instanceof y&&l.texture===this.parent.texture?this.frame=l:this.frame=this.parent.texture.get(l),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(l,o,r){return this.x=l,this.y=o,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,r&&this.setFrame(r),this},setPosition:function(l,o){return this.x=l,this.y=o,this},setFlipX:function(l){return this.flipX=l,this},setFlipY:function(l){return this.flipY=l,this},setFlip:function(l,o){return this.flipX=l,this.flipY=o,this},setVisible:function(l){return this.visible=l,this},setAlpha:function(l){return this.alpha=l,this},setTint:function(l){return this.tint=l,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(l){this.parent.dirty|=this._visible!==l,this._visible=l}},alpha:{get:function(){return this._alpha},set:function(l){this.parent.dirty|=this._alpha>0!=l>0,this._alpha=l}}});C.exports=f},16005:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l,o,r,h){return l===void 0&&(l=1),o===void 0?this.alpha=l:(this._alphaTL=g(l,0,1),this._alphaTR=g(o,0,1),this._alphaBL=g(r,0,1),this._alphaBR=g(h,0,1)),this},alpha:{get:function(){return this._alpha},set:function(l){var o=g(l,0,1);this._alpha=o,this._alphaTL=o,this._alphaTR=o,this._alphaBL=o,this._alphaBR=o,o===0?this.renderFlags&=~y:this.renderFlags|=y}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(l){var o=g(l,0,1);this._alphaTL=o,o!==0&&(this.renderFlags|=y)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(l){var o=g(l,0,1);this._alphaTR=o,o!==0&&(this.renderFlags|=y)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(l){var o=g(l,0,1);this._alphaBL=o,o!==0&&(this.renderFlags|=y)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(l){var o=g(l,0,1);this._alphaBR=o,o!==0&&(this.renderFlags|=y)}}};C.exports=f},88509:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l){return l===void 0&&(l=1),this.alpha=l,this},alpha:{get:function(){return this._alpha},set:function(l){var o=g(l,0,1);this._alpha=o,o===0?this.renderFlags&=~y:this.renderFlags|=y}}};C.exports=f},90065:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y={_blendMode:g.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=g[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};C.exports=y},94215:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,g){return this.width=s,this.height=g,this},setDisplaySize:function(s,g){return this.displayWidth=s,this.displayHeight=g,this}};C.exports=A},61683:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={texture:null,frame:null,isCropped:!1,setCrop:function(s,g,y,f){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,g,y,f,this.flipX,this.flipY);else{var l=s;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};C.exports=A},89272:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37105),y={_depth:0,depth:{get:function(){return this._depth},set:function(f){this.displayList&&this.displayList.queueDepthSort(),this._depth=f}},setDepth:function(f){return f===void 0&&(f=0),this.depth=f,this},setToTop:function(){var f=this.getDisplayList();return f&&g.BringToTop(f,this),this},setToBack:function(){var f=this.getDisplayList();return f&&g.SendToBack(f,this),this},setAbove:function(f){var l=this.getDisplayList();return l&&f&&g.MoveAbove(l,this,f),this},setBelow:function(f){var l=this.getDisplayList();return l&&f&&g.MoveBelow(l,this,f),this}};C.exports=y},47059:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(66064),f=s(19133),l=new g({initialize:function(r,h){this.gameObject=r,this.isPost=h,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(o){return o===void 0&&(o=0),this.padding=o,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(o){if(!this.isPost){var r=this.gameObject.scene.sys.renderer;r&&r.pipelines?(this.gameObject.pipeline=r.pipelines.FX_PIPELINE,o!==void 0&&(this.padding=o),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var o=this.list,r=0;r<o.length;r++)o[r].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(o){var r;if(this.isPost){var h=this.gameObject.getPostPipeline(String(o.type));for(Array.isArray(h)||(h=[h]),r=0;r<h.length;r++){var u=h[r];if(u.controller===o){this.gameObject.removePostPipeline(u),o.destroy();break}}}else{var a=this.list;for(r=0;r<a.length;r++)a[r]===o&&(f(a,r),o.destroy())}return this.gameObject},disable:function(o){return o===void 0&&(o=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,o&&this.clear(),this.gameObject},add:function(o,r){if(this.isPost){var h=String(o.type);this.gameObject.setPostPipeline(h,r);var u=this.gameObject.getPostPipeline(h);if(u)return Array.isArray(u)&&(u=u.pop()),u&&(u.controller=o),o}else return this.enabled||this.enable(),this.list.push(o),o},addGlow:function(o,r,h,u,a,d){return this.add(new y.Glow(this.gameObject,o,r,h,u),{quality:a,distance:d})},addShadow:function(o,r,h,u,a,d,c){return this.add(new y.Shadow(this.gameObject,o,r,h,u,a,d,c))},addPixelate:function(o){return this.add(new y.Pixelate(this.gameObject,o))},addVignette:function(o,r,h,u){return this.add(new y.Vignette(this.gameObject,o,r,h,u))},addShine:function(o,r,h,u){return this.add(new y.Shine(this.gameObject,o,r,h,u))},addBlur:function(o,r,h,u,a,d){return this.add(new y.Blur(this.gameObject,o,r,h,u,a,d))},addGradient:function(o,r,h,u,a,d,c,p){return this.add(new y.Gradient(this.gameObject,o,r,h,u,a,d,c,p))},addBloom:function(o,r,h,u,a,d){return this.add(new y.Bloom(this.gameObject,o,r,h,u,a,d))},addColorMatrix:function(){return this.add(new y.ColorMatrix(this.gameObject))},addCircle:function(o,r,h,u,a){return this.add(new y.Circle(this.gameObject,o,r,h,u,a))},addBarrel:function(o){return this.add(new y.Barrel(this.gameObject,o))},addDisplacement:function(o,r,h){return this.add(new y.Displacement(this.gameObject,o,r,h))},addWipe:function(o,r,h){return this.add(new y.Wipe(this.gameObject,o,r,h))},addReveal:function(o,r,h){return this.add(new y.Wipe(this.gameObject,o,r,h,!0))},addBokeh:function(o,r,h){return this.add(new y.Bokeh(this.gameObject,o,r,h))},addTiltShift:function(o,r,h,u,a,d){return this.add(new y.Bokeh(this.gameObject,o,r,h,!0,u,a,d))},destroy:function(){this.clear(),this.gameObject=null}});C.exports=l},54434:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,g){return this.flipX=s,this.flipY=g,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};C.exports=A},8004:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=s(11520),f=s(26099),l={prepareBoundsOutput:function(o,r){if(r===void 0&&(r=!1),this.rotation!==0&&y(o,this.x,this.y,this.rotation),r&&this.parentContainer){var h=this.parentContainer.getBoundsTransformMatrix();h.transformPoint(o.x,o.y,o)}return o},getCenter:function(o,r){return o===void 0&&(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,r)},getTopLeft:function(o,r){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,r)},getTopCenter:function(o,r){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,r)},getTopRight:function(o,r){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,r)},getLeftCenter:function(o,r){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,r)},getRightCenter:function(o,r){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,r)},getBottomLeft:function(o,r){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,r)},getBottomCenter:function(o,r){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,r)},getBottomRight:function(o,r){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,r)},getBounds:function(o){o===void 0&&(o=new g);var r,h,u,a,d,c,p,v;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(o),m.transformPoint(o.x,o.y,o),r=o.x,h=o.y,this.getTopRight(o),m.transformPoint(o.x,o.y,o),u=o.x,a=o.y,this.getBottomLeft(o),m.transformPoint(o.x,o.y,o),d=o.x,c=o.y,this.getBottomRight(o),m.transformPoint(o.x,o.y,o),p=o.x,v=o.y}else this.getTopLeft(o),r=o.x,h=o.y,this.getTopRight(o),u=o.x,a=o.y,this.getBottomLeft(o),d=o.x,c=o.y,this.getBottomRight(o),p=o.x,v=o.y;return o.x=Math.min(r,u,d,p),o.y=Math.min(h,a,c,v),o.width=Math.max(r,u,d,p)-o.x,o.height=Math.max(h,a,c,v)-o.y,o}};C.exports=l},8573:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6858),y=s(80661),f={mask:null,setMask:function(l){return this.mask=l,this},clearMask:function(l){return l===void 0&&(l=!1),l&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(l,o,r,h,u){return l===void 0&&(this.texture||this.shader||this.geom)&&(l=this),new g(this.scene,l,o,r,h,u)},createGeometryMask:function(l){return l===void 0&&(this.type==="Graphics"||this.geom)&&(l=this),new y(this.scene,l)}};C.exports=f},27387:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(s){this._displayOriginX=s,this.originX=s/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(s){this._displayOriginY=s,this.originY=s/this.height}},setOrigin:function(s,g){return s===void 0&&(s=.5),g===void 0&&(g=s),this.originX=s,this.originY=g,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(s,g){return s===void 0&&(s=0),g===void 0&&(g=s),this.displayOriginX=s,this.displayOriginY=g,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};C.exports=A},37640:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39506),y=s(57355),f=s(35154),l=s(86353),o=s(26099),r={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:l.PLAYING_FORWARD,setPath:function(h,u){u===void 0&&(u=this.pathConfig);var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this.path=h,u&&this.startFollow(u),this},setRotateToPath:function(h,u){return u===void 0&&(u=0),this.rotateToPath=h,this.pathRotationOffset=u,this},isFollowing:function(){var h=this.pathTween;return h&&h.isPlaying()},startFollow:function(h,u){h===void 0&&(h={}),u===void 0&&(u=0);var a=this.pathTween;a&&a.isPlaying()&&a.stop(),typeof h=="number"&&(h={duration:h}),h.from=f(h,"from",0),h.to=f(h,"to",1);var d=y(h,"positionOnPath",!1);this.rotateToPath=y(h,"rotateToPath",!1),this.pathRotationOffset=f(h,"rotationOffset",0);var c=f(h,"startAt",u);if(c&&(h.onStart=function(v){var m=v.data[0];m.progress=c,m.elapsed=m.duration*c;var T=m.ease(m.progress);m.current=m.start+(m.end-m.start)*T,m.setTargetValue()}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),h.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(h),this.path.getStartPoint(this.pathOffset),d&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=l.PLAYING_FORWARD,this.rotateToPath){var p=this.path.getPoint(.1);this.rotation=Math.atan2(p.y-this.y,p.x-this.x)+g(this.pathRotationOffset)}return this.pathConfig=h,this},pauseFollow:function(){var h=this.pathTween;return h&&h.isPlaying()&&h.pause(),this},resumeFollow:function(){var h=this.pathTween;return h&&h.isPaused()&&h.resume(),this},stopFollow:function(){var h=this.pathTween;return h&&h.isPlaying()&&h.stop(),this},pathUpdate:function(){var h=this.pathTween;if(h&&h.data){var u=h.data[0],a=this.pathDelta,d=this.pathVector;if(a.copy(d).negate(),u.state===l.COMPLETE){this.path.getPoint(u.end,d),a.add(d),d.add(this.pathOffset),this.setPosition(d.x,d.y);return}else if(u.state!==l.PLAYING_FORWARD&&u.state!==l.PLAYING_BACKWARD)return;this.path.getPoint(h.getValue(),d),a.add(d),d.add(this.pathOffset);var c=this.x,p=this.y;this.setPosition(d.x,d.y);var v=this.x-c,m=this.y-p;if(v===0&&m===0)return;if(u.state!==this._prevDirection){this._prevDirection=u.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,v)+g(this.pathRotationOffset))}}};C.exports=r},72699:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62644),y={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var l=this.scene.sys.renderer;if(!l)return!1;var o=l.pipelines;if(o){f===void 0&&(f=o.default);var r=o.get(f);if(r)return this.defaultPipeline=r,this.pipeline=r,!0}return!1},setPipeline:function(f,l,o){var r=this.scene.sys.renderer;if(!r)return this;var h=r.pipelines;if(h){var u=h.get(f);u&&(this.pipeline=u),l&&(this.pipelineData=o?g(l):l)}return this},setPipelineData:function(f,l){var o=this.pipelineData;return l===void 0?delete o[f]:o[f]=l,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};C.exports=y},17581:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62644),y=s(47059),f=s(19133),l={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(o){this.postPipelines=[],this.postPipelineData={},this.postFX=new y(this,!0),o&&(this.preFX=new y(this,!1))},setPostPipeline:function(o,r,h){var u=this.scene.sys.renderer;if(!u)return this;var a=u.pipelines;if(a){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++){var c=a.getPostPipeline(o[d],this,r);c&&this.postPipelines.push(c)}r&&(this.postPipelineData=h?g(r):r)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(o,r){var h=this.postPipelineData;return r===void 0?delete h[o]:h[o]=r,this},getPostPipeline:function(o){for(var r=typeof o=="string",h=this.postPipelines,u=[],a=0;a<h.length;a++){var d=h[a];(r&&d.name===o||!r&&d instanceof o)&&u.push(d)}return u.length===1?u[0]:u},resetPostPipeline:function(o){o===void 0&&(o=!1);for(var r=this.postPipelines,h=0;h<r.length;h++)r[h].destroy();this.postPipelines=[],this.hasPostPipeline=!1,o&&(this.postPipelineData={})},removePostPipeline:function(o){for(var r=typeof o=="string",h=this.postPipelines,u=h.length-1;u>=0;u--){var a=h[u];(r&&a.name===o||!r&&a===o)&&(a.destroy(),f(h,u))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};C.exports=l},80227:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(s,g){return g===void 0&&(g=s),this.scrollFactorX=s,this.scrollFactorY=g,this}};C.exports=A},16736:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(s){this.scaleX=s/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(s){this.scaleY=s/this.frame.realHeight}},setSizeToFrame:function(s){s||(s=this.frame),this.width=s.realWidth,this.height=s.realHeight;var g=this.input;return g&&!g.customHitArea&&(g.hitArea.width=this.width,g.hitArea.height=this.height),this},setSize:function(s,g){return this.width=s,this.height=g,this},setDisplaySize:function(s,g){return this.displayWidth=s,this.displayHeight=g,this}};C.exports=A},37726:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(4327),y=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(l,o,r,h){return this.texture=this.scene.sys.textures.get(l),this.setFrame(o,r,h)},setFrame:function(l,o,r){return o===void 0&&(o=!0),r===void 0&&(r=!0),l instanceof g?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};C.exports=f},79812:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(4327),y=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(l,o,r,h){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l=="number")this.frame.setCropUVs(this._crop,l,o,r,h,this.flipX,this.flipY);else{var u=l;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(l,o){return this.texture=this.scene.sys.textures.get(l),this.setFrame(o)},setFrame:function(l,o,r){return o===void 0&&(o=!0),r===void 0&&(r=!0),l instanceof g?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};C.exports=f},27472:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(s,g,y,f){return s===void 0&&(s=16777215),g===void 0&&(g=s,y=s,f=s),this.tintTopLeft=s,this.tintTopRight=g,this.tintBottomLeft=y,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(s,g,y,f){return this.setTint(s,g,y,f),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(s){this.setTint(s,s,s,s)}},isTinted:{get:function(){var s=16777215;return this.tintFill||this.tintTopLeft!==s||this.tintTopRight!==s||this.tintBottomLeft!==s||this.tintBottomRight!==s}}};C.exports=A},53774:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g={name:s.name,type:s.type,x:s.x,y:s.y,depth:s.depth,scale:{x:s.scaleX,y:s.scaleY},origin:{x:s.originX,y:s.originY},flipX:s.flipX,flipY:s.flipY,rotation:s.rotation,alpha:s.alpha,visible:s.visible,blendMode:s.blendMode,textureKey:"",frameKey:"",data:{}};return s.texture&&(g.textureKey=s.texture.key,g.frameKey=s.frame.name),g};C.exports=A},16901:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(61340),f=s(85955),l=s(86554),o=s(30954),r=s(26099),h=4,u={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this._scaleX=a,this._scaleY=a,a===0?this.renderFlags&=~h:this.renderFlags|=h}},scaleX:{get:function(){return this._scaleX},set:function(a){this._scaleX=a,a===0?this.renderFlags&=~h:this._scaleY!==0&&(this.renderFlags|=h)}},scaleY:{get:function(){return this._scaleY},set:function(a){this._scaleY=a,a===0?this.renderFlags&=~h:this._scaleX!==0&&(this.renderFlags|=h)}},angle:{get:function(){return o(this._rotation*g.RAD_TO_DEG)},set:function(a){this.rotation=o(a)*g.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(a){this._rotation=l(a)}},setPosition:function(a,d,c,p){return a===void 0&&(a=0),d===void 0&&(d=a),c===void 0&&(c=0),p===void 0&&(p=0),this.x=a,this.y=d,this.z=c,this.w=p,this},copyPosition:function(a){return a.x!==void 0&&(this.x=a.x),a.y!==void 0&&(this.y=a.y),a.z!==void 0&&(this.z=a.z),a.w!==void 0&&(this.w=a.w),this},setRandomPosition:function(a,d,c,p){return a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=this.scene.sys.scale.width),p===void 0&&(p=this.scene.sys.scale.height),this.x=a+Math.random()*c,this.y=d+Math.random()*p,this},setRotation:function(a){return a===void 0&&(a=0),this.rotation=a,this},setAngle:function(a){return a===void 0&&(a=0),this.angle=a,this},setScale:function(a,d){return a===void 0&&(a=1),d===void 0&&(d=a),this.scaleX=a,this.scaleY=d,this},setX:function(a){return a===void 0&&(a=0),this.x=a,this},setY:function(a){return a===void 0&&(a=0),this.y=a,this},setZ:function(a){return a===void 0&&(a=0),this.z=a,this},setW:function(a){return a===void 0&&(a=0),this.w=a,this},getLocalTransformMatrix:function(a){return a===void 0&&(a=new y),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(a,d){a===void 0&&(a=new y);var c=this.parentContainer;if(!c)return this.getLocalTransformMatrix(a);var p=!1;for(d||(d=new y,p=!0),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);c;)d.applyITRS(c.x,c.y,c._rotation,c._scaleX,c._scaleY),d.multiply(a,a),c=c.parentContainer;return p&&d.destroy(),a},getLocalPoint:function(a,d,c,p){c||(c=new r),p||(p=this.scene.sys.cameras.main);var v=p.scrollX,m=p.scrollY,T=a+v*this.scrollFactorX-v,E=d+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(T,E,c):f(T,E,this.x,this.y,this.rotation,this.scaleX,this.scaleY,c),this._originComponent&&(c.x+=this._displayOriginX,c.y+=this._displayOriginY),c},getWorldPoint:function(a,d,c){a===void 0&&(a=new r);var p=this.parentContainer;if(!p)return a.x=this.x,a.y=this.y,a;var v=this.getWorldTransformMatrix(d,c);return a.x=v.tx,a.y=v.ty,a},getParentRotation:function(){for(var a=0,d=this.parentContainer;d;)a+=d.rotation,d=d.parentContainer;return a}};C.exports=u},61340:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(36383),f=s(26099),l=new g({initialize:function(r,h,u,a,d,c){r===void 0&&(r=1),h===void 0&&(h=0),u===void 0&&(u=0),a===void 0&&(a=1),d===void 0&&(d=0),c===void 0&&(c=0),this.matrix=new Float32Array([r,h,u,a,d,c,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(o){this.matrix[0]=o}},b:{get:function(){return this.matrix[1]},set:function(o){this.matrix[1]=o}},c:{get:function(){return this.matrix[2]},set:function(o){this.matrix[2]=o}},d:{get:function(){return this.matrix[3]},set:function(o){this.matrix[3]=o}},e:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},f:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},tx:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},ty:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var o=this.matrix,r=o[0],h=o[1],u=o[2],a=o[3];return r||h?h>0?Math.acos(r/this.scaleX):-Math.acos(r/this.scaleX):u||a?y.TAU-(a>0?Math.acos(-u/this.scaleY):-Math.acos(u/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var o=this.matrix;return o[0]=1,o[1]=0,o[2]=0,o[3]=1,o[4]=0,o[5]=0,this},translate:function(o,r){var h=this.matrix;return h[4]=h[0]*o+h[2]*r+h[4],h[5]=h[1]*o+h[3]*r+h[5],this},scale:function(o,r){var h=this.matrix;return h[0]*=o,h[1]*=o,h[2]*=r,h[3]*=r,this},rotate:function(o){var r=Math.sin(o),h=Math.cos(o),u=this.matrix,a=u[0],d=u[1],c=u[2],p=u[3];return u[0]=a*h+c*r,u[1]=d*h+p*r,u[2]=a*-r+c*h,u[3]=d*-r+p*h,this},multiply:function(o,r){var h=this.matrix,u=o.matrix,a=h[0],d=h[1],c=h[2],p=h[3],v=h[4],m=h[5],T=u[0],E=u[1],P=u[2],w=u[3],R=u[4],L=u[5],O=r===void 0?h:r.matrix;return O[0]=T*a+E*c,O[1]=T*d+E*p,O[2]=P*a+w*c,O[3]=P*d+w*p,O[4]=R*a+L*c+v,O[5]=R*d+L*p+m,O},multiplyWithOffset:function(o,r,h){var u=this.matrix,a=o.matrix,d=u[0],c=u[1],p=u[2],v=u[3],m=u[4],T=u[5],E=r*d+h*p+m,P=r*c+h*v+T,w=a[0],R=a[1],L=a[2],O=a[3],I=a[4],F=a[5];return u[0]=w*d+R*p,u[1]=w*c+R*v,u[2]=L*d+O*p,u[3]=L*c+O*v,u[4]=I*d+F*p+E,u[5]=I*c+F*v+P,this},transform:function(o,r,h,u,a,d){var c=this.matrix,p=c[0],v=c[1],m=c[2],T=c[3],E=c[4],P=c[5];return c[0]=o*p+r*m,c[1]=o*v+r*T,c[2]=h*p+u*m,c[3]=h*v+u*T,c[4]=a*p+d*m+E,c[5]=a*v+d*T+P,this},transformPoint:function(o,r,h){h===void 0&&(h={x:0,y:0});var u=this.matrix,a=u[0],d=u[1],c=u[2],p=u[3],v=u[4],m=u[5];return h.x=o*a+r*c+v,h.y=o*d+r*p+m,h},invert:function(){var o=this.matrix,r=o[0],h=o[1],u=o[2],a=o[3],d=o[4],c=o[5],p=r*a-h*u;return o[0]=a/p,o[1]=-h/p,o[2]=-u/p,o[3]=r/p,o[4]=(u*c-a*d)/p,o[5]=-(r*c-h*d)/p,this},copyFrom:function(o){var r=this.matrix;return r[0]=o.a,r[1]=o.b,r[2]=o.c,r[3]=o.d,r[4]=o.e,r[5]=o.f,this},copyFromArray:function(o){var r=this.matrix;return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],this},copyToContext:function(o){var r=this.matrix;return o.transform(r[0],r[1],r[2],r[3],r[4],r[5]),o},setToContext:function(o){return o.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),o},copyToArray:function(o){var r=this.matrix;return o===void 0?o=[r[0],r[1],r[2],r[3],r[4],r[5]]:(o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],o[4]=r[4],o[5]=r[5]),o},setTransform:function(o,r,h,u,a,d){var c=this.matrix;return c[0]=o,c[1]=r,c[2]=h,c[3]=u,c[4]=a,c[5]=d,this},decomposeMatrix:function(){var o=this.decomposedMatrix,r=this.matrix,h=r[0],u=r[1],a=r[2],d=r[3],c=h*d-u*a;if(o.translateX=r[4],o.translateY=r[5],h||u){var p=Math.sqrt(h*h+u*u);o.rotation=u>0?Math.acos(h/p):-Math.acos(h/p),o.scaleX=p,o.scaleY=c/p}else if(a||d){var v=Math.sqrt(a*a+d*d);o.rotation=Math.PI*.5-(d>0?Math.acos(-a/v):-Math.acos(a/v)),o.scaleX=c/v,o.scaleY=v}else o.rotation=0,o.scaleX=0,o.scaleY=0;return o},applyITRS:function(o,r,h,u,a){var d=this.matrix,c=Math.sin(h),p=Math.cos(h);return d[4]=o,d[5]=r,d[0]=p*u,d[1]=c*u,d[2]=-c*a,d[3]=p*a,this},applyInverse:function(o,r,h){h===void 0&&(h=new f);var u=this.matrix,a=u[0],d=u[1],c=u[2],p=u[3],v=u[4],m=u[5],T=1/(a*p+c*-d);return h.x=p*T*o+-c*T*r+(m*c-v*p)*T,h.y=a*T*r+-d*T*o+(-m*a+v*d)*T,h},setQuad:function(o,r,h,u,a,d){a===void 0&&(a=!1),d===void 0&&(d=this.quad);var c=this.matrix,p=c[0],v=c[1],m=c[2],T=c[3],E=c[4],P=c[5],w=o*p+r*m+E,R=o*v+r*T+P,L=o*p+u*m+E,O=o*v+u*T+P,I=h*p+u*m+E,F=h*v+u*T+P,B=h*p+r*m+E,G=h*v+r*T+P;if(a){var z=Math.floor(w+.5),Y=Math.floor(R+.5),J=z-w,$=Y-R;d[0]=z,d[1]=Y,d[2]=L+J,d[3]=O+$,d[4]=I+J,d[5]=F+$,d[6]=B+J,d[7]=G+$}else d[0]=w,d[1]=R,d[2]=L,d[3]=O,d[4]=I,d[5]=F,d[6]=B,d[7]=G;return d},getX:function(o,r){return o*this.a+r*this.c+this.e},getY:function(o,r){return o*this.b+r*this.d+this.f},getXRound:function(o,r,h){var u=this.getX(o,r);return h&&(u=Math.floor(u+.5)),u},getYRound:function(o,r,h){var u=this.getY(o,r);return h&&(u=Math.floor(u+.5)),u},getCSSMatrix:function(){var o=this.matrix;return"matrix("+o[0]+","+o[1]+","+o[2]+","+o[3]+","+o[4]+","+o[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});C.exports=l},59715:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(g){g?(this._visible=!0,this.renderFlags|=A):(this._visible=!1,this.renderFlags&=~A)}},setVisible:function(g){return this.visible=g,this}};C.exports=s},31401:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Alpha:s(16005),AlphaSingle:s(88509),BlendMode:s(90065),ComputedSize:s(94215),Crop:s(61683),Depth:s(89272),Flip:s(54434),FX:s(47059),GetBounds:s(8004),Mask:s(8573),Origin:s(27387),PathFollower:s(37640),Pipeline:s(72699),PostPipeline:s(17581),ScrollFactor:s(80227),Size:s(16736),Texture:s(37726),TextureCrop:s(79812),Tint:s(27472),ToJSON:s(53774),Transform:s(16901),TransformMatrix:s(61340),Visible:s(59715)}},31559:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37105),y=s(10312),f=s(83419),l=s(31401),o=s(51708),r=s(95643),h=s(87841),u=s(29959),a=s(36899),d=s(26099),c=new l.TransformMatrix,p=new f({Extends:r,Mixins:[l.AlphaSingle,l.BlendMode,l.ComputedSize,l.Depth,l.Mask,l.PostPipeline,l.Transform,l.Visible,u],initialize:function(m,T,E,P){r.call(this,m,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new l.TransformMatrix,this._sortKey="",this._sysEvents=m.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(T,E),this.setBlendMode(y.SKIP_CHECK),P&&this.add(P)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new h),v.setTo(this.x,this.y,0,0),this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix(),T=m.transformPoint(this.x,this.y);v.setTo(T.x,T.y,0,0)}if(this.list.length>0){var E=this.list,P=new h,w=!1;v.setEmpty();for(var R=0;R<E.length;R++){var L=E[R];L.getBounds&&(L.getBounds(P),w?a(P,v,v):(v.setTo(P.x,P.y,P.width,P.height),w=!0))}}return v},addHandler:function(v){v.once(o.DESTROY,this.onChildDestroyed,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.parentContainer=this,v.removeFromDisplayList(),v.addedToScene())},removeHandler:function(v){v.off(o.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer=null,v.removedFromScene(),v.addToDisplayList())},pointToContainer:function(v,m){m===void 0&&(m=new d),this.parentContainer?this.parentContainer.pointToContainer(v,m):(m.x=v.x,m.y=v.y);var T=c;return T.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),T.invert(),T.transformPoint(v.x,v.y,m),m},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(c,this.localTransform)},add:function(v){return g.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,m){return g.AddAt(this.list,v,m,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,m){return v?(m===void 0&&(m=function(T,E){return T[v]-E[v]}),g.StableSort(this.list,m),this):this},getByName:function(v){return g.GetFirst(this.list,"name",v)},getRandom:function(v,m){return g.GetRandom(this.list,v,m)},getFirst:function(v,m,T,E){return g.GetFirst(this.list,v,m,T,E)},getAll:function(v,m,T,E){return g.GetAll(this.list,v,m,T,E)},count:function(v,m,T,E){return g.CountAllMatching(this.list,v,m,T,E)},swap:function(v,m){return g.Swap(this.list,v,m),this},moveTo:function(v,m){return g.MoveTo(this.list,v,m),this},moveAbove:function(v,m){return g.MoveAbove(this.list,v,m),this},moveBelow:function(v,m){return g.MoveBelow(this.list,v,m),this},remove:function(v,m){var T=g.Remove(this.list,v,this.removeHandler,this);if(m&&T){Array.isArray(T)||(T=[T]);for(var E=0;E<T.length;E++)T[E].destroy()}return this},removeAt:function(v,m){var T=g.RemoveAt(this.list,v,this.removeHandler,this);return m&&T&&T.destroy(),this},removeBetween:function(v,m,T){var E=g.RemoveBetween(this.list,v,m,this.removeHandler,this);if(T)for(var P=0;P<E.length;P++)E[P].destroy();return this},removeAll:function(v){var m=this.list;if(v){for(var T=0;T<m.length;T++)m[T]&&m[T].scene&&(m[T].off(o.DESTROY,this.onChildDestroyed,this),m[T].destroy());this.list=[]}else g.RemoveBetween(m,0,m.length,this.removeHandler,this);return this},bringToTop:function(v){return g.BringToTop(this.list,v),this},sendToBack:function(v){return g.SendToBack(this.list,v),this},moveUp:function(v){return g.MoveUp(this.list,v),this},moveDown:function(v){return g.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return g.Shuffle(this.list),this},replace:function(v,m,T){var E=g.Replace(this.list,v,m);return E&&(this.addHandler(m),this.removeHandler(v),T&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,m,T,E){return g.SetAll(this.list,v,m,T,E),this},each:function(v,m){var T=[null],E,P=this.list.slice(),w=P.length;for(E=2;E<arguments.length;E++)T.push(arguments[E]);for(E=0;E<w;E++)T[0]=P[E],v.apply(m,T);return this},iterate:function(v,m){var T=[null],E;for(E=2;E<arguments.length;E++)T.push(arguments[E]);for(E=0;E<this.list.length;E++)T[0]=this.list[E],v.apply(m,T);return this},setScrollFactor:function(v,m,T){return m===void 0&&(m=v),T===void 0&&(T=!1),this.scrollFactorX=v,this.scrollFactorY=m,T&&(g.SetAll(this.list,"scrollFactorX",v),g.SetAll(this.list,"scrollFactorY",m)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(v){g.Remove(this.list,v),this.exclusive&&(v.parentContainer=null,v.removedFromScene())}});C.exports=p},53584:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g);var l=g.list;if(l.length!==0){var o=g.localTransform;f?(o.loadIdentity(),o.multiply(f),o.translate(g.x,g.y),o.rotate(g.rotation),o.scale(g.scaleX,g.scaleY)):o.applyITRS(g.x,g.y,g.rotation,g.scaleX,g.scaleY);var r=g.blendMode!==-1;r||s.setBlendMode(0);var h=g._alpha,u=g.scrollFactorX,a=g.scrollFactorY;g.mask&&g.mask.preRenderCanvas(s,null,y);for(var d=0;d<l.length;d++){var c=l[d];if(c.willRender(y)){var p=c.alpha,v=c.scrollFactorX,m=c.scrollFactorY;!r&&c.blendMode!==s.currentBlendMode&&s.setBlendMode(c.blendMode),c.setScrollFactor(v*u,m*a),c.setAlpha(p*h),c.renderCanvas(s,c,y,o),c.setAlpha(p),c.setScrollFactor(v,m)}}g.mask&&g.mask.postRenderCanvas(s)}};C.exports=A},77143:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(31559),f=s(44603),l=s(23568),o=s(95540);f.register("container",function(r,h){r===void 0&&(r={});var u=l(r,"x",0),a=l(r,"y",0),d=o(r,"children",null),c=new y(this.scene,u,a,d);return h!==void 0&&(r.add=h),g(this.scene,c,r),c})},24961:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(31559),y=s(39429);y.register("container",function(f,l,o){return this.displayList.add(new g(this.scene,f,l,o))})},29959:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(72249),f=s(53584),C.exports={renderWebGL:y,renderCanvas:f}},72249:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g);var l=g.list,o=l.length;if(o!==0){var r=g.localTransform;f?(r.loadIdentity(),r.multiply(f),r.translate(g.x,g.y),r.rotate(g.rotation),r.scale(g.scaleX,g.scaleY)):r.applyITRS(g.x,g.y,g.rotation,g.scaleX,g.scaleY),s.pipelines.preBatch(g);var h=g.blendMode!==-1;h||s.setBlendMode(0);for(var u=g.alpha,a=g.scrollFactorX,d=g.scrollFactorY,c=0;c<o;c++){var p=l[c];if(p.willRender(y)){var v,m,T,E;if(p.alphaTopLeft!==void 0)v=p.alphaTopLeft,m=p.alphaTopRight,T=p.alphaBottomLeft,E=p.alphaBottomRight;else{var P=p.alpha;v=P,m=P,T=P,E=P}var w=p.scrollFactorX,R=p.scrollFactorY;!h&&p.blendMode!==s.currentBlendMode&&s.setBlendMode(p.blendMode);var L=p.mask;L&&L.preRenderWebGL(s,p,y);var O=p.type;O!==s.currentType&&(s.newType=!0,s.currentType=O),s.nextTypeMatch=c<o-1?l[c+1].type===s.currentType:!1,p.setScrollFactor(w*a,R*d),p.setAlpha(v*u,m*u,T*u,E*u),p.renderWebGL(s,p,y,r,g),p.setAlpha(v,m,T,E),p.setScrollFactor(w,R),L&&L.postRenderWebGL(s,y),s.newType=!1}}s.pipelines.postBatch(g)}};C.exports=A},47407:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(441),l=s(95643),o=s(41212),r=s(35846),h=s(44594),u=s(61369),a=new g({Extends:l,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Origin,y.ScrollFactor,y.Transform,y.Visible,f],initialize:function(c,p,v,m,T,E){if(l.call(this,c,"DOMElement"),this.parent=c.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=c.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new u,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(p,v),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),T,E):this.createElement(m,T,E):m&&this.setElement(m,T,E),c.sys.events.on(h.SLEEP,this.handleSceneEvent,this),c.sys.events.on(h.WAKE,this.handleSceneEvent,this),c.sys.events.on(h.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(d){var c=this.node,p=c.style;c&&(p.display=d.settings.visible?"block":"none")},setSkew:function(d,c){return d===void 0&&(d=0),c===void 0&&(c=d),this.skewX=d,this.skewY=c,this},setPerspective:function(d){return this.parent.style.perspective=d+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(d){this.parent.style.perspective=d+"px"}},addListener:function(d){if(this.node){d=d.split(" ");for(var c=0;c<d.length;c++)this.node.addEventListener(d[c],this.handler,!1)}return this},removeListener:function(d){if(this.node){d=d.split(" ");for(var c=0;c<d.length;c++)this.node.removeEventListener(d[c],this.handler)}return this},dispatchNativeEvent:function(d){this.emit(d.type,d)},createElement:function(d,c,p){return this.setElement(document.createElement(d),c,p)},setElement:function(d,c,p){this.removeElement();var v;if(typeof d=="string"?(d[0]==="#"&&(d=d.substr(1)),v=document.getElementById(d)):typeof d=="object"&&d.nodeType===1&&(v=d),!v)return this;if(this.node=v,c&&o(c))for(var m in c)v.style[m]=c[m];else typeof c=="string"&&(v.style=c);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent.appendChild(v),p&&(v.innerText=p),this.updateSize()},createFromCache:function(d,c){var p=this.cache.get(d);return p&&this.createFromHTML(p,c),this},createFromHTML:function(d,c){c===void 0&&(c="div"),this.removeElement();var p=document.createElement(c);return this.node=p,p.style.zIndex="0",p.style.display="inline",p.style.position="absolute",p.phaser=this,this.parent.appendChild(p),p.innerHTML=d,this.updateSize()},removeElement:function(){return this.node&&(r(this.node),this.node=null),this},updateSize:function(){var d=this.node;return this.width=d.clientWidth,this.height=d.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(d,c){if(this.node){for(var p=this.node.querySelectorAll("*"),v=0;v<p.length;v++)if(p[v][d]===c)return p[v]}return null},getChildByID:function(d){return this.getChildByProperty("id",d)},getChildByName:function(d){return this.getChildByProperty("name",d)},setClassName:function(d){return this.node&&(this.node.className=d,this.updateSize()),this},setText:function(d){return this.node&&(this.node.innerText=d,this.updateSize()),this},setHTML:function(d){return this.node&&(this.node.innerHTML=d,this.updateSize()),this},preRender:function(){var d=this.parentContainer,c=this.node;c&&d&&!d.willRender()&&(c.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(h.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(h.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(h.PRE_RENDER,this.preRender,this)}});C.exports=a},49381:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(47407),y=s(95643),f=s(61340),l=new f,o=new f,r=new f,h=function(u,a,d,c){if(a.node){var p=a.node.style,v=a.scene.sys.settings;if(!p||!v.visible||y.RENDER_MASK!==a.renderFlags||a.cameraFilter!==0&&a.cameraFilter&d.id||a.parentContainer&&!a.parentContainer.willRender()){p.display="none";return}var m=a.parentContainer,T=d.alpha*a.alpha;m&&(T*=m.alpha);var E=l,P=o,w=r,R=0,L=0,O="0%",I="0%";c?(R=a.width*a.scaleX*a.originX,L=a.height*a.scaleY*a.originY,P.applyITRS(a.x-R,a.y-L,a.rotation,a.scaleX,a.scaleY),E.copyFrom(d.matrix),E.multiplyWithOffset(c,-d.scrollX*a.scrollFactorX,-d.scrollY*a.scrollFactorY),P.e=a.x-R,P.f=a.y-L,E.multiply(P,w)):(R=a.width*a.originX,L=a.height*a.originY,P.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),E.copyFrom(d.matrix),O=100*a.originX+"%",I=100*a.originY+"%",P.e-=d.scrollX*a.scrollFactorX,P.f-=d.scrollY*a.scrollFactorY,E.multiply(P,w),w.e-=R,w.f-=L),a.transformOnly||(p.display="block",p.opacity=T,p.zIndex=a._depth,p.pointerEvents=a.pointerEvents,p.mixBlendMode=g[a._blendMode]),p.transform=w.getCSSMatrix()+" skew("+a.skewX+"rad, "+a.skewY+"rad) rotate3d("+a.rotate3d.x+","+a.rotate3d.y+","+a.rotate3d.z+","+a.rotate3d.w+a.rotate3dAngle+")",p.transformOrigin=O+" "+I}};C.exports=h},2611:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(3069),y=s(39429);y.register("dom",function(f,l,o,r,h){var u=new g(this.scene,f,l,o,r,h);return this.displayList.add(u),u})},441:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(49381),f=s(49381),C.exports={renderWebGL:y,renderCanvas:f}},62980:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addedtoscene"},41337:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},44947:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedfromscene"},49358:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},35163:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="created"},97249:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="error"},19483:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="locked"},56059:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loop"},26772:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="metadata"},64437:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="playing"},83411:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="play"},75780:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="seeked"},67799:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="seeking"},63500:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stalled"},55541:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stop"},53208:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="textureready"},4992:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="unlocked"},12:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="unsupported"},51708:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADDED_TO_SCENE:s(62980),DESTROY:s(41337),REMOVED_FROM_SCENE:s(44947),VIDEO_COMPLETE:s(49358),VIDEO_CREATED:s(35163),VIDEO_ERROR:s(97249),VIDEO_LOCKED:s(19483),VIDEO_LOOP:s(56059),VIDEO_METADATA:s(26772),VIDEO_PLAY:s(83411),VIDEO_PLAYING:s(64437),VIDEO_SEEKED:s(75780),VIDEO_SEEKING:s(67799),VIDEO_STALLED:s(63500),VIDEO_STOP:s(55541),VIDEO_TEXTURE:s(53208),VIDEO_UNLOCKED:s(4992),VIDEO_UNSUPPORTED:s(12)}},42421:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(64993),o=new g({Extends:f,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.Origin,y.ScrollFactor,y.Size,y.Texture,y.Tint,y.Transform,y.Visible,l],initialize:function(h){f.call(this,h,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});C.exports=o},70217:()=>{},56315:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(42421),y=s(39429);y.register("extern",function(){var f=new g(this.scene);return this.displayList.add(f),f})},64993:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(80287),f=s(70217),C.exports={renderWebGL:y,renderCanvas:f}},80287:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=function(f,l,o,r){f.pipelines.clear();var h=g(l,o,r).calc;l.render.call(l,f,o,h),f.pipelines.rebind()};C.exports=y},85592:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(71911),y=s(83419),f=s(85592),l=s(31401),o=s(8497),r=s(95643),h=s(95540),u=s(35154),a=s(36383),d=s(84503),c=new y({Extends:r,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,d],initialize:function(v,m){var T=u(m,"x",0),E=u(m,"y",0);r.call(this,v,"Graphics"),this.setPosition(T,E),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(m)},setDefaultStyles:function(p){return u(p,"lineStyle",null)&&(this.defaultStrokeWidth=u(p,"lineStyle.width",1),this.defaultStrokeColor=u(p,"lineStyle.color",16777215),this.defaultStrokeAlpha=u(p,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),u(p,"fillStyle",null)&&(this.defaultFillColor=u(p,"fillStyle.color",16777215),this.defaultFillAlpha=u(p,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(p,v,m){return m===void 0&&(m=1),this.commandBuffer.push(f.LINE_STYLE,p,v,m),this._lineWidth=p,this},fillStyle:function(p,v){return v===void 0&&(v=1),this.commandBuffer.push(f.FILL_STYLE,p,v),this},fillGradientStyle:function(p,v,m,T,E,P,w,R){return E===void 0&&(E=1),P===void 0&&(P=E),w===void 0&&(w=E),R===void 0&&(R=E),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,E,P,w,R,p,v,m,T),this},lineGradientStyle:function(p,v,m,T,E,P){return P===void 0&&(P=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,p,P,v,m,T,E),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(p){return this.fillCircle(p.x,p.y,p.radius)},strokeCircleShape:function(p){return this.strokeCircle(p.x,p.y,p.radius)},fillCircle:function(p,v,m){return this.beginPath(),this.arc(p,v,m,0,a.PI2),this.fillPath(),this},strokeCircle:function(p,v,m){return this.beginPath(),this.arc(p,v,m,0,a.PI2),this.strokePath(),this},fillRectShape:function(p){return this.fillRect(p.x,p.y,p.width,p.height)},strokeRectShape:function(p){return this.strokeRect(p.x,p.y,p.width,p.height)},fillRect:function(p,v,m,T){return this.commandBuffer.push(f.FILL_RECT,p,v,m,T),this},strokeRect:function(p,v,m,T){var E=this._lineWidth/2,P=p-E,w=p+E;return this.beginPath(),this.moveTo(p,v),this.lineTo(p,v+T),this.strokePath(),this.beginPath(),this.moveTo(p+m,v),this.lineTo(p+m,v+T),this.strokePath(),this.beginPath(),this.moveTo(P,v),this.lineTo(w+m,v),this.strokePath(),this.beginPath(),this.moveTo(P,v+T),this.lineTo(w+m,v+T),this.strokePath(),this},fillRoundedRect:function(p,v,m,T,E){E===void 0&&(E=20);var P=E,w=E,R=E,L=E;typeof E!="number"&&(P=h(E,"tl",20),w=h(E,"tr",20),R=h(E,"bl",20),L=h(E,"br",20));var O=P>=0,I=w>=0,F=R>=0,B=L>=0;return P=Math.abs(P),w=Math.abs(w),R=Math.abs(R),L=Math.abs(L),this.beginPath(),this.moveTo(p+P,v),this.lineTo(p+m-w,v),I?this.arc(p+m-w,v+w,w,-a.TAU,0):this.arc(p+m,v,w,Math.PI,a.TAU,!0),this.lineTo(p+m,v+T-L),B?this.arc(p+m-L,v+T-L,L,0,a.TAU):this.arc(p+m,v+T,L,-a.TAU,Math.PI,!0),this.lineTo(p+R,v+T),F?this.arc(p+R,v+T-R,R,a.TAU,Math.PI):this.arc(p,v+T,R,0,-a.TAU,!0),this.lineTo(p,v+P),O?this.arc(p+P,v+P,P,-Math.PI,-a.TAU):this.arc(p,v,P,a.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(p,v,m,T,E){E===void 0&&(E=20);var P=E,w=E,R=E,L=E,O=Math.min(m,T)/2;typeof E!="number"&&(P=h(E,"tl",20),w=h(E,"tr",20),R=h(E,"bl",20),L=h(E,"br",20));var I=P>=0,F=w>=0,B=R>=0,G=L>=0;return P=Math.min(Math.abs(P),O),w=Math.min(Math.abs(w),O),R=Math.min(Math.abs(R),O),L=Math.min(Math.abs(L),O),this.beginPath(),this.moveTo(p+P,v),this.lineTo(p+m-w,v),this.moveTo(p+m-w,v),F?this.arc(p+m-w,v+w,w,-a.TAU,0):this.arc(p+m,v,w,Math.PI,a.TAU,!0),this.lineTo(p+m,v+T-L),this.moveTo(p+m,v+T-L),G?this.arc(p+m-L,v+T-L,L,0,a.TAU):this.arc(p+m,v+T,L,-a.TAU,Math.PI,!0),this.lineTo(p+R,v+T),this.moveTo(p+R,v+T),B?this.arc(p+R,v+T-R,R,a.TAU,Math.PI):this.arc(p,v+T,R,0,-a.TAU,!0),this.lineTo(p,v+P),this.moveTo(p,v+P),I?this.arc(p+P,v+P,P,-Math.PI,-a.TAU):this.arc(p,v,P,a.TAU,0,!0),this.strokePath(),this},fillPointShape:function(p,v){return this.fillPoint(p.x,p.y,v)},fillPoint:function(p,v,m){return!m||m<1?m=1:(p-=m/2,v-=m/2),this.commandBuffer.push(f.FILL_RECT,p,v,m,m),this},fillTriangleShape:function(p){return this.fillTriangle(p.x1,p.y1,p.x2,p.y2,p.x3,p.y3)},strokeTriangleShape:function(p){return this.strokeTriangle(p.x1,p.y1,p.x2,p.y2,p.x3,p.y3)},fillTriangle:function(p,v,m,T,E,P){return this.commandBuffer.push(f.FILL_TRIANGLE,p,v,m,T,E,P),this},strokeTriangle:function(p,v,m,T,E,P){return this.commandBuffer.push(f.STROKE_TRIANGLE,p,v,m,T,E,P),this},strokeLineShape:function(p){return this.lineBetween(p.x1,p.y1,p.x2,p.y2)},lineBetween:function(p,v,m,T){return this.beginPath(),this.moveTo(p,v),this.lineTo(m,T),this.strokePath(),this},lineTo:function(p,v){return this.commandBuffer.push(f.LINE_TO,p,v),this},moveTo:function(p,v){return this.commandBuffer.push(f.MOVE_TO,p,v),this},strokePoints:function(p,v,m,T){v===void 0&&(v=!1),m===void 0&&(m=!1),T===void 0&&(T=p.length),this.beginPath(),this.moveTo(p[0].x,p[0].y);for(var E=1;E<T;E++)this.lineTo(p[E].x,p[E].y);return v&&this.lineTo(p[0].x,p[0].y),m&&this.closePath(),this.strokePath(),this},fillPoints:function(p,v,m,T){v===void 0&&(v=!1),m===void 0&&(m=!1),T===void 0&&(T=p.length),this.beginPath(),this.moveTo(p[0].x,p[0].y);for(var E=1;E<T;E++)this.lineTo(p[E].x,p[E].y);return v&&this.lineTo(p[0].x,p[0].y),m&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(p,v){v===void 0&&(v=32);var m=p.getPoints(v);return this.strokePoints(m,!0)},strokeEllipse:function(p,v,m,T,E){E===void 0&&(E=32);var P=new o(p,v,m,T),w=P.getPoints(E);return this.strokePoints(w,!0)},fillEllipseShape:function(p,v){v===void 0&&(v=32);var m=p.getPoints(v);return this.fillPoints(m,!0)},fillEllipse:function(p,v,m,T,E){E===void 0&&(E=32);var P=new o(p,v,m,T),w=P.getPoints(E);return this.fillPoints(w,!0)},arc:function(p,v,m,T,E,P,w){return P===void 0&&(P=!1),w===void 0&&(w=0),this.commandBuffer.push(f.ARC,p,v,m,T,E,P,w),this},slice:function(p,v,m,T,E,P,w){return P===void 0&&(P=!1),w===void 0&&(w=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,p,v),this.commandBuffer.push(f.ARC,p,v,m,T,E,P,w),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(p,v){return this.commandBuffer.push(f.TRANSLATE,p,v),this},scaleCanvas:function(p,v){return this.commandBuffer.push(f.SCALE,p,v),this},rotateCanvas:function(p){return this.commandBuffer.push(f.ROTATE,p),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(p,v,m){var T=this.scene.sys,E=T.game.renderer;v===void 0&&(v=T.scale.width),m===void 0&&(m=T.scale.height),c.TargetCamera.setScene(this.scene),c.TargetCamera.setViewport(0,0,v,m),c.TargetCamera.scrollX=this.x,c.TargetCamera.scrollY=this.y;var P,w,R={willReadFrequently:!0};if(typeof p=="string")if(T.textures.exists(p)){P=T.textures.get(p);var L=P.getSourceImage();L instanceof HTMLCanvasElement&&(w=L.getContext("2d",R))}else P=T.textures.createCanvas(p,v,m),w=P.getSourceImage().getContext("2d",R);else p instanceof HTMLCanvasElement&&(w=p.getContext("2d",R));return w&&(this.renderCanvas(E,this,c.TargetCamera,null,w,!1),P&&P.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});c.TargetCamera=new g,C.exports=c},32768:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85592),y=s(20926),f=function(l,o,r,h,u,a){var d=o.commandBuffer,c=d.length,p=u||l.currentContext;if(!(c===0||!y(l,p,o,r,h))){r.addToRenderList(o);var v=1,m=1,T=0,E=0,P=1,w=0,R=0,L=0;p.beginPath();for(var O=0;O<c;++O){var I=d[O];switch(I){case g.ARC:p.arc(d[O+1],d[O+2],d[O+3],d[O+4],d[O+5],d[O+6]),O+=7;break;case g.LINE_STYLE:P=d[O+1],T=d[O+2],v=d[O+3],w=(T&16711680)>>>16,R=(T&65280)>>>8,L=T&255,p.strokeStyle="rgba("+w+","+R+","+L+","+v+")",p.lineWidth=P,O+=3;break;case g.FILL_STYLE:E=d[O+1],m=d[O+2],w=(E&16711680)>>>16,R=(E&65280)>>>8,L=E&255,p.fillStyle="rgba("+w+","+R+","+L+","+m+")",O+=2;break;case g.BEGIN_PATH:p.beginPath();break;case g.CLOSE_PATH:p.closePath();break;case g.FILL_PATH:a||p.fill();break;case g.STROKE_PATH:a||p.stroke();break;case g.FILL_RECT:a?p.rect(d[O+1],d[O+2],d[O+3],d[O+4]):p.fillRect(d[O+1],d[O+2],d[O+3],d[O+4]),O+=4;break;case g.FILL_TRIANGLE:p.beginPath(),p.moveTo(d[O+1],d[O+2]),p.lineTo(d[O+3],d[O+4]),p.lineTo(d[O+5],d[O+6]),p.closePath(),a||p.fill(),O+=6;break;case g.STROKE_TRIANGLE:p.beginPath(),p.moveTo(d[O+1],d[O+2]),p.lineTo(d[O+3],d[O+4]),p.lineTo(d[O+5],d[O+6]),p.closePath(),a||p.stroke(),O+=6;break;case g.LINE_TO:p.lineTo(d[O+1],d[O+2]),O+=2;break;case g.MOVE_TO:p.moveTo(d[O+1],d[O+2]),O+=2;break;case g.LINE_FX_TO:p.lineTo(d[O+1],d[O+2]),O+=5;break;case g.MOVE_FX_TO:p.moveTo(d[O+1],d[O+2]),O+=5;break;case g.SAVE:p.save();break;case g.RESTORE:p.restore();break;case g.TRANSLATE:p.translate(d[O+1],d[O+2]),O+=2;break;case g.SCALE:p.scale(d[O+1],d[O+2]),O+=2;break;case g.ROTATE:p.rotate(d[O+1]),O+=1;break;case g.GRADIENT_FILL_STYLE:O+=5;break;case g.GRADIENT_LINE_STYLE:O+=6;break}}p.restore()}};C.exports=f},87079:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(44603),y=s(43831);g.register("graphics",function(f,l){f===void 0&&(f={}),l!==void 0&&(f.add=l);var o=new y(this.scene,f);return f.add&&this.scene.sys.displayList.add(o),o})},1201:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43831),y=s(39429);y.register("graphics",function(f){return this.displayList.add(new g(this.scene,f))})},84503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(77545),f=s(32768),f=s(32768),C.exports={renderWebGL:y,renderCanvas:f}},77545:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85592),y=s(91296),f=s(61340),l=s(70554),o=function(d,c,p){this.x=d,this.y=c,this.width=p},r=function(d,c,p){this.points=[],this.pointsLength=1,this.points[0]=new o(d,c,p)},h=[],u=new f,a=function(d,c,p,v){if(c.commandBuffer.length!==0){p.addToRenderList(c);var m=d.pipelines.set(c.pipeline,c);d.pipelines.preBatch(c);for(var T=y(c,p,v).calc,E=u.loadIdentity(),P=c.commandBuffer,w=p.alpha*c.alpha,R=1,L=m.fillTint,O=m.strokeTint,I=0,F=0,B=0,G=.01,z=Math.PI*2,Y,J=[],$=0,j=!0,X=null,H=l.getTintAppendFloatAlpha,N=0;N<P.length;N++)switch(Y=P[N],Y){case g.BEGIN_PATH:{J.length=0,X=null,j=!0;break}case g.CLOSE_PATH:{j=!1,X&&X.points.length&&X.points.push(X.points[0]);break}case g.FILL_PATH:{for($=0;$<J.length;$++)m.batchFillPath(J[$].points,E,T);break}case g.STROKE_PATH:{for($=0;$<J.length;$++)m.batchStrokePath(J[$].points,R,j,E,T);break}case g.LINE_STYLE:{R=P[++N];var Q=P[++N],U=P[++N]*w,q=H(Q,U);O.TL=q,O.TR=q,O.BL=q,O.BR=q;break}case g.FILL_STYLE:{var et=P[++N],it=P[++N]*w,rt=H(et,it);L.TL=rt,L.TR=rt,L.BL=rt,L.BR=rt;break}case g.GRADIENT_FILL_STYLE:{var lt=P[++N]*w,ft=P[++N]*w,gt=P[++N]*w,vt=P[++N]*w;L.TL=H(P[++N],lt),L.TR=H(P[++N],ft),L.BL=H(P[++N],gt),L.BR=H(P[++N],vt);break}case g.GRADIENT_LINE_STYLE:{R=P[++N];var xt=P[++N]*w;O.TL=H(P[++N],xt),O.TR=H(P[++N],xt),O.BL=H(P[++N],xt),O.BR=H(P[++N],xt);break}case g.ARC:{var yt=0,Ct=P[++N],Rt=P[++N],bt=P[++N],Lt=P[++N],St=P[++N],Et=P[++N],Mt=P[++N];for(St-=Lt,Et?St<-z?St=-z:St>0&&(St=-z+St%z):St>z?St=z:St<0&&(St=z+St%z),X===null&&(X=new r(Ct+Math.cos(Lt)*bt,Rt+Math.sin(Lt)*bt,R),J.push(X),yt+=G);yt<1+Mt;)B=St*yt+Lt,I=Ct+Math.cos(B)*bt,F=Rt+Math.sin(B)*bt,X.points.push(new o(I,F,R)),yt+=G;B=St+Lt,I=Ct+Math.cos(B)*bt,F=Rt+Math.sin(B)*bt,X.points.push(new o(I,F,R));break}case g.FILL_RECT:{m.batchFillRect(P[++N],P[++N],P[++N],P[++N],E,T);break}case g.FILL_TRIANGLE:{m.batchFillTriangle(P[++N],P[++N],P[++N],P[++N],P[++N],P[++N],E,T);break}case g.STROKE_TRIANGLE:{m.batchStrokeTriangle(P[++N],P[++N],P[++N],P[++N],P[++N],P[++N],R,E,T);break}case g.LINE_TO:{X!==null?X.points.push(new o(P[++N],P[++N],R)):(X=new r(P[++N],P[++N],R),J.push(X));break}case g.MOVE_TO:{X=new r(P[++N],P[++N],R),J.push(X);break}case g.SAVE:{h.push(E.copyToArray());break}case g.RESTORE:{E.copyFromArray(h.pop());break}case g.TRANSLATE:{Ct=P[++N],Rt=P[++N],E.translate(Ct,Rt);break}case g.SCALE:{Ct=P[++N],Rt=P[++N],E.scale(Ct,Rt);break}case g.ROTATE:{E.rotate(P[++N]);break}}d.pipelines.postBatch(c)}};C.exports=a},26479:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61061),y=s(83419),f=s(51708),l=s(50792),o=s(46710),r=s(95540),h=s(35154),u=s(97022),a=s(41212),d=s(88492),c=s(35072),p=s(68287),v=new y({Extends:l,initialize:function(T,E,P){l.call(this),P?E&&!Array.isArray(E)&&(E=[E]):Array.isArray(E)?a(E[0])&&(P=E,E=null):a(E)&&(P=E,E=null),this.scene=T,this.children=new c,this.isParent=!0,this.type="Group",this.classType=r(P,"classType",p),this.name=r(P,"name",""),this.active=r(P,"active",!0),this.maxSize=r(P,"maxSize",-1),this.defaultKey=r(P,"defaultKey",null),this.defaultFrame=r(P,"defaultFrame",null),this.runChildUpdate=r(P,"runChildUpdate",!1),this.createCallback=r(P,"createCallback",null),this.removeCallback=r(P,"removeCallback",null),this.createMultipleCallback=r(P,"createMultipleCallback",null),this.internalCreateCallback=r(P,"internalCreateCallback",null),this.internalRemoveCallback=r(P,"internalRemoveCallback",null),E&&this.addMultiple(E),P&&this.createMultiple(P),this.on(f.ADDED_TO_SCENE,this.addedToScene,this),this.on(f.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(m,T,E,P,w,R){if(m===void 0&&(m=0),T===void 0&&(T=0),E===void 0&&(E=this.defaultKey),P===void 0&&(P=this.defaultFrame),w===void 0&&(w=!0),R===void 0&&(R=!0),this.isFull())return null;var L=new this.classType(this.scene,m,T,E,P);return L.addToDisplayList(this.scene.sys.displayList),L.addToUpdateList(),L.visible=w,L.setActive(R),this.add(L),L},createMultiple:function(m){if(this.isFull())return[];Array.isArray(m)||(m=[m]);var T=[];if(m[0].key)for(var E=0;E<m.length;E++){var P=this.createFromConfig(m[E]);T=T.concat(P)}return T},createFromConfig:function(m){if(this.isFull())return[];this.classType=r(m,"classType",this.classType);var T=r(m,"key",void 0),E=r(m,"frame",null),P=r(m,"visible",!0),w=r(m,"active",!0),R=[];if(T===void 0)return R;Array.isArray(T)||(T=[T]),Array.isArray(E)||(E=[E]);var L=r(m,"repeat",0),O=r(m,"randomKey",!1),I=r(m,"randomFrame",!1),F=r(m,"yoyo",!1),B=r(m,"quantity",!1),G=r(m,"frameQuantity",1),z=r(m,"max",0),Y=d(T,E,{max:z,qty:B||G,random:O,randomB:I,repeat:L,yoyo:F});m.createCallback&&(this.createCallback=m.createCallback),m.removeCallback&&(this.removeCallback=m.removeCallback),m.internalCreateCallback&&(this.internalCreateCallback=m.internalCreateCallback),m.internalRemoveCallback&&(this.internalRemoveCallback=m.internalRemoveCallback);for(var J=0;J<Y.length;J++){var $=this.create(0,0,Y[J].a,Y[J].b,P,w);if(!$)break;R.push($)}if(u(m,"setXY")){var j=h(m,"setXY.x",0),X=h(m,"setXY.y",0),H=h(m,"setXY.stepX",0),N=h(m,"setXY.stepY",0);g.SetXY(R,j,X,H,N)}if(u(m,"setRotation")){var Q=h(m,"setRotation.value",0),U=h(m,"setRotation.step",0);g.SetRotation(R,Q,U)}if(u(m,"setScale")){var q=h(m,"setScale.x",1),et=h(m,"setScale.y",q),it=h(m,"setScale.stepX",0),rt=h(m,"setScale.stepY",0);g.SetScale(R,q,et,it,rt)}if(u(m,"setOrigin")){var lt=h(m,"setOrigin.x",.5),ft=h(m,"setOrigin.y",lt),gt=h(m,"setOrigin.stepX",0),vt=h(m,"setOrigin.stepY",0);g.SetOrigin(R,lt,ft,gt,vt)}if(u(m,"setAlpha")){var xt=h(m,"setAlpha.value",1),yt=h(m,"setAlpha.step",0);g.SetAlpha(R,xt,yt)}if(u(m,"setDepth")){var Ct=h(m,"setDepth.value",0),Rt=h(m,"setDepth.step",0);g.SetDepth(R,Ct,Rt)}if(u(m,"setScrollFactor")){var bt=h(m,"setScrollFactor.x",1),Lt=h(m,"setScrollFactor.y",bt),St=h(m,"setScrollFactor.stepX",0),Et=h(m,"setScrollFactor.stepY",0);g.SetScrollFactor(R,bt,Lt,St,Et)}var Mt=r(m,"hitArea",null),Vt=r(m,"hitAreaCallback",null);Mt&&g.SetHitArea(R,Mt,Vt);var Kt=r(m,"gridAlign",!1);return Kt&&g.GridAlign(R,Kt),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(m,T){if(!(!this.runChildUpdate||this.children.size===0))for(var E=this.children.entries.slice(),P=0;P<E.length;P++){var w=E[P];w.active&&w.update(m,T)}},add:function(m,T){return T===void 0&&(T=!1),this.isFull()?this:(this.children.set(m),this.internalCreateCallback&&this.internalCreateCallback.call(this,m),this.createCallback&&this.createCallback.call(this,m),T&&(m.addToDisplayList(this.scene.sys.displayList),m.addToUpdateList()),m.on(f.DESTROY,this.remove,this),this)},addMultiple:function(m,T){if(T===void 0&&(T=!1),Array.isArray(m))for(var E=0;E<m.length;E++)this.add(m[E],T);return this},remove:function(m,T,E){return T===void 0&&(T=!1),E===void 0&&(E=!1),this.children.contains(m)?(this.children.delete(m),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,m),this.removeCallback&&this.removeCallback.call(this,m),m.off(f.DESTROY,this.remove,this),E?m.destroy():T&&(m.removeFromDisplayList(),m.removeFromUpdateList()),this):this},clear:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1);for(var E=this.children,P=0;P<E.size;P++){var w=E.entries[P];w.off(f.DESTROY,this.remove,this),T?w.destroy():m&&(w.removeFromDisplayList(),w.removeFromUpdateList())}return this.children.clear(),this},contains:function(m){return this.children.contains(m)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(m,T,E,P){return o(this.children.entries,m,T,E,P)},getFirst:function(m,T,E,P,w,R,L){return this.getHandler(!0,1,m,T,E,P,w,R,L)},getFirstNth:function(m,T,E,P,w,R,L,O){return this.getHandler(!0,m,T,E,P,w,R,L,O)},getLast:function(m,T,E,P,w,R,L){return this.getHandler(!1,1,m,T,E,P,w,R,L)},getLastNth:function(m,T,E,P,w,R,L,O){return this.getHandler(!1,m,T,E,P,w,R,L,O)},getHandler:function(m,T,E,P,w,R,L,O,I){E===void 0&&(E=!1),P===void 0&&(P=!1);var F,B,G=0,z=this.children.entries;if(m)for(B=0;B<z.length;B++)if(F=z[B],F.active===E){if(G++,G===T)break}else F=null;else for(B=z.length-1;B>=0;B--)if(F=z[B],F.active===E){if(G++,G===T)break}else F=null;return F?(typeof w=="number"&&(F.x=w),typeof R=="number"&&(F.y=R),F):P?this.create(w,R,L,O,I):null},get:function(m,T,E,P,w){return this.getFirst(!1,!0,m,T,E,P,w)},getFirstAlive:function(m,T,E,P,w,R){return this.getFirst(!0,m,T,E,P,w,R)},getFirstDead:function(m,T,E,P,w,R){return this.getFirst(!1,m,T,E,P,w,R)},playAnimation:function(m,T){return g.PlayAnimation(this.children.entries,m,T),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(m){m===void 0&&(m=!0);for(var T=0,E=0;E<this.children.size;E++)this.children.entries[E].active===m&&T++;return T},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var m=this.getTotalUsed(),T=this.maxSize===-1?999999999999:this.maxSize;return T-m},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},propertyValueSet:function(m,T,E,P,w){return g.PropertyValueSet(this.children.entries,m,T,E,P,w),this},propertyValueInc:function(m,T,E,P,w){return g.PropertyValueInc(this.children.entries,m,T,E,P,w),this},setX:function(m,T){return g.SetX(this.children.entries,m,T),this},setY:function(m,T){return g.SetY(this.children.entries,m,T),this},setXY:function(m,T,E,P){return g.SetXY(this.children.entries,m,T,E,P),this},incX:function(m,T){return g.IncX(this.children.entries,m,T),this},incY:function(m,T){return g.IncY(this.children.entries,m,T),this},incXY:function(m,T,E,P){return g.IncXY(this.children.entries,m,T,E,P),this},shiftPosition:function(m,T,E){return g.ShiftPosition(this.children.entries,m,T,E),this},angle:function(m,T){return g.Angle(this.children.entries,m,T),this},rotate:function(m,T){return g.Rotate(this.children.entries,m,T),this},rotateAround:function(m,T){return g.RotateAround(this.children.entries,m,T),this},rotateAroundDistance:function(m,T,E){return g.RotateAroundDistance(this.children.entries,m,T,E),this},setAlpha:function(m,T){return g.SetAlpha(this.children.entries,m,T),this},setTint:function(m,T,E,P){return g.SetTint(this.children.entries,m,T,E,P),this},setOrigin:function(m,T,E,P){return g.SetOrigin(this.children.entries,m,T,E,P),this},scaleX:function(m,T){return g.ScaleX(this.children.entries,m,T),this},scaleY:function(m,T){return g.ScaleY(this.children.entries,m,T),this},scaleXY:function(m,T,E,P){return g.ScaleXY(this.children.entries,m,T,E,P),this},setDepth:function(m,T){return g.SetDepth(this.children.entries,m,T),this},setBlendMode:function(m){return g.SetBlendMode(this.children.entries,m),this},setHitArea:function(m,T){return g.SetHitArea(this.children.entries,m,T),this},shuffle:function(){return g.Shuffle(this.children.entries),this},kill:function(m){this.children.contains(m)&&m.setActive(!1)},killAndHide:function(m){this.children.contains(m)&&(m.setActive(!1),m.setVisible(!1))},setVisible:function(m,T,E){return g.SetVisible(this.children.entries,m,T,E),this},toggleVisible:function(){return g.ToggleVisible(this.children.entries),this},destroy:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(f.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(T,m),this.scene=void 0,this.children=void 0)}});C.exports=v},94975:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(44603),y=s(26479);g.register("group",function(f){return new y(this.scene,null,f)})},3385:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26479),y=s(39429);y.register("group",function(f,l){return this.updateList.add(new g(this.scene,f,l))})},88571:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(59819),o=new g({Extends:f,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.TextureCrop,y.Tint,y.Transform,y.Visible,l],initialize:function(h,u,a,d,c){f.call(this,h,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,c),this.setPosition(u,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});C.exports=o},40652:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g),s.batchSprite(g,g.frame,y,f)};C.exports=A},82459:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(88571);y.register("image",function(o,r){o===void 0&&(o={});var h=f(o,"key",null),u=f(o,"frame",null),a=new l(this.scene,0,0,h,u);return r!==void 0&&(o.add=r),g(this.scene,a,o),a})},2117:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(88571),y=s(39429);y.register("image",function(f,l,o,r){return this.displayList.add(new g(this.scene,f,l,o,r))})},59819:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(99517),f=s(40652),C.exports={renderWebGL:y,renderCanvas:f}},99517:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g),this.pipeline.batchSprite(g,y,f)};C.exports=A},77856:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={Events:s(51708),DisplayList:s(8050),GameObjectCreator:s(44603),GameObjectFactory:s(39429),UpdateList:s(45027),Components:s(31401),GetCalcMatrix:s(91296),BuildGameObject:s(25305),BuildGameObjectAnimation:s(13059),GameObject:s(95643),BitmapText:s(22186),Blitter:s(6107),Bob:s(46590),Container:s(31559),DOMElement:s(3069),DynamicBitmapText:s(2638),Extern:s(42421),Graphics:s(43831),Group:s(26479),Image:s(88571),Layer:s(93595),Particles:s(18404),PathFollower:s(1159),RenderTexture:s(591),RetroFont:s(196),Rope:s(77757),Sprite:s(68287),Text:s(50171),GetTextSize:s(14220),MeasureText:s(79557),TextStyle:s(35762),TileSprite:s(20839),Zone:s(41481),Video:s(18471),Shape:s(17803),Arc:s(23629),Curve:s(89),Ellipse:s(19921),Grid:s(30479),IsoBox:s(61475),IsoTriangle:s(16933),Line:s(57847),Polygon:s(24949),Rectangle:s(74561),Star:s(55911),Triangle:s(36931),Factories:{Blitter:s(12709),Container:s(24961),DOMElement:s(2611),DynamicBitmapText:s(72566),Extern:s(56315),Graphics:s(1201),Group:s(3385),Image:s(2117),Layer:s(20005),Particles:s(676),PathFollower:s(90145),RenderTexture:s(60505),Rope:s(96819),Sprite:s(46409),StaticBitmapText:s(34914),Text:s(68005),TileSprite:s(91681),Zone:s(84175),Video:s(89025),Arc:s(42563),Curve:s(40511),Ellipse:s(1543),Grid:s(34137),IsoBox:s(3933),IsoTriangle:s(49803),Line:s(2481),Polygon:s(64827),Rectangle:s(87959),Star:s(93697),Triangle:s(45245)},Creators:{Blitter:s(9403),Container:s(77143),DynamicBitmapText:s(11164),Graphics:s(87079),Group:s(94975),Image:s(82459),Layer:s(25179),Particles:s(92730),RenderTexture:s(34495),Rope:s(26209),Sprite:s(15567),StaticBitmapText:s(57336),Text:s(71259),TileSprite:s(14167),Zone:s(95261),Video:s(11511)}};g.Shader=s(20071),g.Mesh=s(4703),g.NineSlice=s(28103),g.PointLight=s(80321),g.Plane=s(33663),g.Factories.Shader=s(74177),g.Factories.Mesh=s(9225),g.Factories.NineSlice=s(47521),g.Factories.PointLight=s(71255),g.Factories.Plane=s(30985),g.Creators.Shader=s(54935),g.Creators.Mesh=s(20527),g.Creators.NineSlice=s(28279),g.Creators.PointLight=s(39829),g.Creators.Plane=s(56015),g.Light=s(41432),g.LightsManager=s(61356),g.LightsPlugin=s(88992),C.exports=g},93595:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(83419),f=s(31401),l=s(53774),o=s(45893),r=s(50792),h=s(51708),u=s(73162),a=s(33963),d=s(44594),c=s(19186),p=new y({Extends:u,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.PostPipeline,f.Visible,r,a],initialize:function(m,T){u.call(this,m),r.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(g.SKIP_CHECK),T&&this.add(T),m.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(v,m){return this.data||(this.data=new o(this)),this.data.set(v,m),this},incData:function(v,m){return this.data||(this.data=new o(this)),this.data.inc(v,m),this},toggleData:function(v){return this.data||(this.data=new o(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new o(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return l(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,m=this.parentContainer,T=[];m&&(T.unshift(m.getIndex(v)),v=m,m.parentContainer);)m=m.parentContainer;return T.unshift(this.displayList.getIndex(v)),T},addChildCallback:function(v){var m=v.displayList;m&&m!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(h.ADDED_TO_SCENE,v,this.scene),this.events.emit(d.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(h.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(d.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(c(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,m){return v._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),v.events.emit(d.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(d.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(h.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});C.exports=p},2956:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=g.list;if(f.length!==0){g.depthSort();var l=g.blendMode!==-1;l||s.setBlendMode(0);var o=g._alpha;g.mask&&g.mask.preRenderCanvas(s,null,y);for(var r=0;r<f.length;r++){var h=f[r];if(h.willRender(y)){var u=h.alpha;!l&&h.blendMode!==s.currentBlendMode&&s.setBlendMode(h.blendMode),h.setAlpha(u*o),h.renderCanvas(s,h,y),h.setAlpha(u)}}g.mask&&g.mask.postRenderCanvas(s)}};C.exports=A},25179:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(93595),f=s(44603),l=s(23568);f.register("layer",function(o,r){o===void 0&&(o={});var h=l(o,"children",null),u=new y(this.scene,h);return r!==void 0&&(o.add=r),g(this.scene,u,o),u})},20005:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(93595),y=s(39429);y.register("layer",function(f){return this.displayList.add(new g(this.scene,f))})},33963:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(15869),f=s(2956),C.exports={renderWebGL:y,renderCanvas:f}},15869:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=g.list,l=f.length;if(l!==0){g.depthSort(),s.pipelines.preBatch(g);var o=g.blendMode!==-1;o||s.setBlendMode(0);for(var r=g.alpha,h=0;h<l;h++){var u=f[h];if(u.willRender(y)){var a,d,c,p;if(u.alphaTopLeft!==void 0)a=u.alphaTopLeft,d=u.alphaTopRight,c=u.alphaBottomLeft,p=u.alphaBottomRight;else{var v=u.alpha;a=v,d=v,c=v,p=v}!o&&u.blendMode!==s.currentBlendMode&&s.setBlendMode(u.blendMode);var m=u.mask;m&&m.preRenderWebGL(s,u,y);var T=u.type;T!==s.currentType&&(s.newType=!0,s.currentType=T),s.nextTypeMatch=h<l-1?f[h+1].type===s.currentType:!1,u.setAlpha(a*r,d*r,c*r,p*r),u.renderWebGL(s,u,y),u.setAlpha(a,d,c,p),m&&m.postRenderWebGL(s,y),s.newType=!1}}s.pipelines.postBatch(g)}};C.exports=A},41432:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(96503),y=s(83419),f=s(31401),l=s(51767),o=s(70554),r=new y({Extends:g,Mixins:[f.Origin,f.ScrollFactor,f.Visible],initialize:function(u,a,d,c,p,v,m){g.call(this,u,a,d),this.color=new l(c,p,v),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(d)},displayWidth:{get:function(){return this.diameter},set:function(h){this.diameter=h}},displayHeight:{get:function(){return this.diameter},set:function(h){this.diameter=h}},width:{get:function(){return this.diameter},set:function(h){this.diameter=h}},height:{get:function(){return this.diameter},set:function(h){this.diameter=h}},willRender:function(h){return!(r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},setColor:function(h){var u=o.getFloatsFromUintRGB(h);return this.color.set(u[0],u[1],u[2]),this},setIntensity:function(h){return this.intensity=h,this},setRadius:function(h){return this.radius=h,this}});r.RENDER_MASK=15,C.exports=r},61356:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(81491),y=s(83419),f=s(20339),l=s(41432),o=s(80321),r=s(51767),h=s(19133),u=s(19186),a=s(70554),d=new y({initialize:function(){this.lights=[],this.ambientColor=new r(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(c,p,v,m,T,E){return this.systems.displayList.add(new o(this.scene,c,p,v,m,T,E))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(c){for(var p=this.lights,v=c.worldView,m=[],T=0;T<p.length;T++){var E=p[T];E.willRender(c)&&g(E,v)&&m.push({light:E,distance:f(E.x,E.y,v.centerX,v.centerY)})}return m.length>this.maxLights&&(u(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(c,p){return c.distance>=p.distance},setAmbientColor:function(c){var p=a.getFloatsFromUintRGB(c);return this.ambientColor.set(p[0],p[1],p[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(c,p,v,m,T){c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=128),m===void 0&&(m=16777215),T===void 0&&(T=1);var E=a.getFloatsFromUintRGB(m),P=new l(c,p,v,E[0],E[1],E[2],T);return this.lights.push(P),P},removeLight:function(c){var p=this.lights.indexOf(c);return p>=0&&h(this.lights,p),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});C.exports=d},88992:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(61356),f=s(37277),l=s(44594),o=new g({Extends:y,initialize:function(h){this.scene=h,this.systems=h.sys,h.sys.settings.isBooted||h.sys.events.once(l.BOOT,this.boot,this),y.call(this)},boot:function(){var r=this.systems.events;r.on(l.SHUTDOWN,this.shutdown,this),r.on(l.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",o,"lights"),C.exports=o},4703:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(39506),l=s(83997),o=s(95643),r=s(34684),h=s(92515),u=s(91296),a=s(37867),d=s(29807),c=s(43396),p=s(19186),v=s(25836),m=s(39318),T=new g({Extends:o,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.Texture,y.Transform,y.Visible,d],initialize:function(P,w,R,L,O,I,F,B,G,z,Y,J){w===void 0&&(w=0),R===void 0&&(R=0),L===void 0&&(L="__WHITE"),o.call(this,P,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new a,this.viewPosition=new v,this.viewMatrix=new a,this.projectionMatrix=new a,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var $=P.sys.renderer;this.setPosition(w,R),this.setTexture(L,O),this.setSize($.width,$.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective($.width,$.height),I&&this.addVertices(I,F,B,G,z,Y,J)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(E){return this.viewPosition.addScale(v.LEFT,E),this.dirtyCache[10]=1,this},panY:function(E){return this.viewPosition.y+=v.DOWN.y*E,this.dirtyCache[10]=1,this},panZ:function(E){return this.viewPosition.z+=E,this.dirtyCache[10]=1,this},setPerspective:function(E,P,w,R,L){return w===void 0&&(w=45),R===void 0&&(R=.01),L===void 0&&(L=1e3),this.fov=w,this.projectionMatrix.perspective(f(w),E/P,R,L),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(E,P,w,R){return E===void 0&&(E=this.scene.sys.renderer.getAspectRatio()),P===void 0&&(P=1),w===void 0&&(w=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-E,E,-P,P,w,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(E){E.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(E,P,w,R,L,O,I,F,B){var G=this.scene.sys.cache.obj.get(E),z;return G&&(z=r(G,this,P,w,R,L,O,I,F,B)),(!z||z.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",E),this},sortByDepth:function(E,P){return E.depth-P.depth},depthSort:function(){return p(this.faces,this.sortByDepth),this},addVertex:function(E,P,w,R,L,O,I){var F=new m(E,P,w,R,L,O,I);return this.vertices.push(F),F},addFace:function(E,P,w){var R=new l(E,P,w);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(E,P,w,R,L,O,I){var F=h(E,P,w,R,L,O,I);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(E){return this.faces[E]},hasFaceAt:function(E,P,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=u(this,w).calc,L=this.faces,O=0;O<L.length;O++){var I=L[O];if(I.contains(E,P,R))return!0}return!1},getFaceAt:function(E,P,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=u(this,w).calc,L=this.faces,O=[],I=0;I<L.length;I++){var F=L[I];F.contains(E,P,R)&&O.push(F)}return p(O,this.sortByDepth)},setDebug:function(E,P){return this.debugGraphic=E,!E&&!P?this.debugCallback=null:P?this.debugCallback=P:this.debugCallback=this.renderDebug,this},isDirty:function(){var E=this.modelPosition,P=this.modelRotation,w=this.modelScale,R=this.dirtyCache,L=E.x,O=E.y,I=E.z,F=P.x,B=P.y,G=P.z,z=w.x,Y=w.y,J=w.z,$=this.getFaceCount(),j=R[0],X=R[1],H=R[2],N=R[3],Q=R[4],U=R[5],q=R[6],et=R[7],it=R[8],rt=R[9];return R[0]=L,R[1]=O,R[2]=I,R[3]=F,R[4]=B,R[5]=G,R[6]=z,R[7]=Y,R[8]=J,R[9]=$,j!==L||X!==O||H!==I||N!==F||Q!==B||U!==G||q!==z||et!==Y||it!==J||rt!==$},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var E=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!E[10]&&!this.isDirty())){var P=this.width,w=this.height,R=this.viewMatrix,L=this.viewPosition;E[10]&&(R.identity(),R.translate(L),R.invert(),E[10]=0);var O=this.transformMatrix;O.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var I=L.z,F=this.faces,B=0;B<F.length;B++)F[B].transformCoordinatesLocal(O,P,w,I);this.depthSort()}},renderDebug:function(E,P){for(var w=E.debugGraphic,R=0;R<P.length;R++){var L=P[R],O=L.vertex1.tx,I=L.vertex1.ty,F=L.vertex2.tx,B=L.vertex2.ty,G=L.vertex3.tx,z=L.vertex3.ty;w.strokeTriangle(O,I,F,B,G,z)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(E){E===void 0&&(E={});var P=(function(w,R,L){for(var O=this.faces,I=0;I<O.length;I++){var F=O[I];if(F.contains(R,L))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,E,P),this},setTint:function(E){E===void 0&&(E=16777215);for(var P=this.vertices,w=0;w<P.length;w++)P[w].color=E;return this},uvScroll:function(E,P){for(var w=this.faces,R=0;R<w.length;R++)w[R].scrollUV(E,P);return this},uvScale:function(E,P){for(var w=this.faces,R=0;R<w.length;R++)w[R].scaleUV(E,P);return this},tint:{set:function(E){this.setTint(E)}},rotateX:{get:function(){return c(this.modelRotation.x)},set:function(E){this.modelRotation.x=f(E)}},rotateY:{get:function(){return c(this.modelRotation.y)},set:function(E){this.modelRotation.y=f(E)}},rotateZ:{get:function(){return c(this.modelRotation.z)},set:function(E){this.modelRotation.z=f(E)}}});C.exports=T},36488:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){};C.exports=A},20527:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(35154),o=s(4703);y.register("mesh",function(r,h){r===void 0&&(r={});var u=f(r,"key",null),a=f(r,"frame",null),d=l(r,"vertices",[]),c=l(r,"uvs",[]),p=l(r,"indicies",[]),v=l(r,"containsZ",!1),m=l(r,"normals",[]),T=l(r,"colors",16777215),E=l(r,"alphas",1),P=new o(this.scene,0,0,u,a,d,c,p,v,m,T,E);return h!==void 0&&(r.add=h),g(this.scene,P,r),P})},9225:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(4703),y=s(39429);y.register("mesh",function(f,l,o,r,h,u,a,d,c,p,v){return this.displayList.add(new g(this.scene,f,l,o,r,h,u,a,d,c,p,v))})},29807:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(48833),f=s(36488),C.exports={renderWebGL:y,renderCanvas:f}},48833:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=function(f,l,o,r){var h=l.faces,u=h.length;if(u!==0){o.addToRenderList(l);var a=f.pipelines.set(l.pipeline,l),d=g(l,o,r).calc;f.pipelines.preBatch(l);for(var c=a.setGameObject(l),p=a.vertexViewF32,v=a.vertexViewU32,m=a.vertexCount*a.currentShader.vertexComponentCount-1,T=l.tintFill,E=[],P=l.debugCallback,w=d.a,R=d.b,L=d.c,O=d.d,I=d.e,F=d.f,B=l.viewPosition.z,G=l.hideCCW,z=o.roundPixels,Y=o.alpha*l.alpha,J=0,$=0;$<u;$++){var j=h[$];j.isInView(o,G,B,Y,w,R,L,O,I,F,z)&&(a.shouldFlush(3)&&(a.flush(),c=a.setGameObject(l),m=a.vertexCount*a.currentShader.vertexComponentCount-1),m=j.load(p,v,m,c,T),J++,a.vertexCount+=3,a.currentBatch.count=a.vertexCount-a.currentBatch.start,P&&E.push(j))}l.totalFrame+=J,P&&P.call(l,l,E),f.pipelines.postBatch(l)}};C.exports=y},28103:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(78023),o=s(39318),r=new g({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,l],initialize:function(u,a,d,c,p,v,m,T,E,P,w){f.call(this,u,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var R=u.textures.getFrame(c,p);this.is3Slice=!P&&!w,R&&R.scale9&&(this.is3Slice=R.is3Slice);for(var L=this.is3Slice?18:54,O=0;O<L;O++)this.vertices.push(new o);this.setPosition(a,d),this.setTexture(c,p),this.setSlices(v,m,T,E,P,w,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(h,u,a,d,c,p,v){a===void 0&&(a=10),d===void 0&&(d=10),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=!1);var m=this.frame,T=!1;if(this.is3Slice&&v&&c!==0&&p!==0&&(T=!0),T)console.warn("Cannot change 9 slice to 3 slice");else{if(m&&m.scale9&&!v){var E=m.data.scale9Borders,P=E.x,w=E.y;a=P,d=m.width-E.w-P,c=w,p=m.height-E.h-w,h===void 0&&(h=m.width),u===void 0&&(u=m.height)}else h===void 0&&(h=256),u===void 0&&(u=256);this._width=h,this._height=u,this.leftWidth=a,this.rightWidth=d,this.topHeight=c,this.bottomHeight=p,this.is3Slice&&(u=m.height,this._height=u,this.topHeight=u,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var h=this.leftWidth,u=this.rightWidth,a=this.topHeight,d=this.bottomHeight,c=this.frame.width,p=this.frame.height;this.updateQuadUVs(0,0,0,h/c,a/p),this.updateQuadUVs(6,h/c,0,1-u/c,a/p),this.updateQuadUVs(12,1-u/c,0,1,a/p),this.is3Slice||(this.updateQuadUVs(18,0,a/p,h/c,1-d/p),this.updateQuadUVs(24,h/c,a/p,1-u/c,1-d/p),this.updateQuadUVs(30,1-u/c,a/p,1,1-d/p),this.updateQuadUVs(36,0,1-d/p,h/c,1),this.updateQuadUVs(42,h/c,1-d/p,1-u/c,1),this.updateQuadUVs(48,1-u/c,1-d/p,1,1))},updateVertices:function(){var h=this.leftWidth,u=this.rightWidth,a=this.topHeight,d=this.bottomHeight,c=this.width,p=this.height;this.updateQuad(0,-.5,.5,-.5+h/c,.5-a/p),this.updateQuad(6,-.5+h/c,.5,.5-u/c,.5-a/p),this.updateQuad(12,.5-u/c,.5,.5,.5-a/p),this.is3Slice||(this.updateQuad(18,-.5,.5-a/p,-.5+h/c,-.5+d/p),this.updateQuad(24,-.5+h/c,.5-a/p,.5-u/c,-.5+d/p),this.updateQuad(30,.5-u/c,.5-a/p,.5,-.5+d/p),this.updateQuad(36,-.5,-.5+d/p,-.5+h/c,-.5),this.updateQuad(42,-.5+h/c,-.5+d/p,.5-u/c,-.5),this.updateQuad(48,.5-u/c,-.5+d/p,.5,-.5))},updateQuad:function(h,u,a,d,c){var p=this.width,v=this.height,m=this.originX,T=this.originY,E=this.vertices;E[h+0].resize(u,a,p,v,m,T),E[h+1].resize(u,c,p,v,m,T),E[h+2].resize(d,a,p,v,m,T),E[h+3].resize(u,c,p,v,m,T),E[h+4].resize(d,c,p,v,m,T),E[h+5].resize(d,a,p,v,m,T)},updateQuadUVs:function(h,u,a,d,c){var p=this.vertices,v=this.frame,m=v.u0,T=v.v0,E=v.u1,P=v.v1;if(m!==0||E!==1){var w=E-m;u=m+u*w,d=m+d*w}if(T!==0||P!==1){var R=P-T;a=T+a*R,c=T+c*R}p[h+0].setUVs(u,a),p[h+1].setUVs(u,c),p[h+2].setUVs(d,a),p[h+3].setUVs(u,c),p[h+4].setUVs(d,c),p[h+5].setUVs(d,a)},clearTint:function(){return this.setTint(16777215),this},setTint:function(h){return h===void 0&&(h=16777215),this.tint=h,this.tintFill=!1,this},setTintFill:function(h){return this.setTint(h),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(h){this._width=Math.max(h,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(h){this.is3Slice||(this._height=Math.max(h,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,u){this.width=h,this.height=u,this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setDisplaySize:function(h,u){return this.displayWidth=h,this.displayHeight=u,this},originX:{get:function(){return this._originX},set:function(h){this._originX=h,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(h){this._originY=h,this.updateVertices()}},setOrigin:function(h,u){return h===void 0&&(h=.5),u===void 0&&(u=h),this._originX=h,this._originY=u,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var h=this.frame.height;this._height=h,this.topHeight=h,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});C.exports=r},28279:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(35154),o=s(28103);y.register("nineslice",function(r,h){r===void 0&&(r={});var u=f(r,"key",null),a=f(r,"frame",null),d=l(r,"width",256),c=l(r,"height",256),p=l(r,"leftWidth",10),v=l(r,"rightWidth",10),m=l(r,"topHeight",0),T=l(r,"bottomHeight",0),E=new o(this.scene,0,0,u,a,d,c,p,v,m,T);return h!==void 0&&(r.add=h),g(this.scene,E,r),E})},47521:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(28103),y=s(39429);y.register("nineslice",function(f,l,o,r,h,u,a,d,c,p){return this.displayList.add(new g(this.scene,f,l,o,r,h,u,a,d,c,p))})},78023:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(52230),C.exports={renderWebGL:y,renderCanvas:f}},52230:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,o,r,h){var u=o.vertices,a=u.length;if(a!==0){r.addToRenderList(o);var d=l.pipelines.set(o.pipeline,o),c=g(o,r,h,!1).calc;l.pipelines.preBatch(o);var p=d.setGameObject(o),v=d.vertexViewF32,m=d.vertexViewU32,T=d.vertexCount*d.currentShader.vertexComponentCount-1,E=r.roundPixels,P=o.tintFill,w=r.alpha*o.alpha,R=y.getTintAppendFloatAlpha(o.tint,w),L=d.vertexAvailable(),O=-1;L<a&&(O=L);for(var I=0;I<a;I++){var F=u[I];I===O&&(d.flush(),p=d.setGameObject(o),T=0),v[++T]=c.getXRound(F.vx,F.vy,E),v[++T]=c.getYRound(F.vx,F.vy,E),v[++T]=F.u,v[++T]=F.v,v[++T]=p,v[++T]=P,m[++T]=R,d.vertexCount++,d.currentBatch.count=d.vertexCount-d.currentBatch.start}l.pipelines.postBatch(o)}};C.exports=f},76472:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(44777),f=s(37589),l=s(6113),o=s(91389),r=s(90664),h=new g({Extends:y,initialize:function(a){y.call(this,a,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var u=this.propertyValue,a=u,d=this.defaultEmit,c=this.defaultUpdate;if(this.method===9){this.start=u[0],this.ease=l("Linear"),this.interpolation=o("linear"),d=this.easedValueEmit,c=this.easeValueUpdate,a=u[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var p=0;p<u.length;p++){var v=r(u[p]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=d,this.onUpdate=c,this.current=a,this},setEase:function(u){this.easeName=u,this.ease=l(u)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(u,a,d){var c=this.ease(d),p=this.interpolation(this.r,c),v=this.interpolation(this.g,c),m=this.interpolation(this.b,c),T=f(p,v,m);return this.current=T,T}});C.exports=h},44777:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30976),y=s(45319),f=s(83419),l=s(99472),o=s(6113),r=s(95540),h=s(91389),u=s(77720),a=s(15994),d=new f({initialize:function(p,v,m){m===void 0&&(m=!1),this.propertyKey=p,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=m,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(c,p){c===void 0&&(c={}),p&&(this.propertyKey=p),this.propertyValue=r(c,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(c){var p;switch(this.method){case 1:case 3:case 8:p=c;break;case 2:this.propertyValue.indexOf(c)>=0&&(p=c);break;case 4:var v=(this.end-this.start)/this.steps;p=u(c,v),this.counter=p;break;case 5:case 6:case 7:p=y(c,this.start,this.end);break;case 9:p=this.start[0];break}return this.current=p,this},getMethod:function(){var c=this.propertyValue;if(c===null)return 0;var p=typeof c;if(p==="number")return 1;if(Array.isArray(c))return 2;if(p==="function")return 3;if(p==="object"){if(this.hasBoth(c,"start","end"))return this.has(c,"steps")?4:5;if(this.hasBoth(c,"min","max"))return 6;if(this.has(c,"random"))return 7;if(this.hasEither(c,"onEmit","onUpdate"))return 8;if(this.hasEither(c,"values","interpolation"))return 9}return 0},setMethods:function(){var c=this.propertyValue,p=c,v=this.defaultEmit,m=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,p=c[0];break;case 3:this._onEmit=c,v=this.proxyEmit,p=this.defaultValue;break;case 4:this.start=c.start,this.end=c.end,this.steps=c.steps,this.counter=this.start,this.yoyo=this.has(c,"yoyo")?c.yoyo:!1,this.direction=0,v=this.steppedEmit,p=this.start;break;case 5:this.start=c.start,this.end=c.end;var T=this.has(c,"ease")?c.ease:"Linear";this.ease=o(T,c.easeParams),v=this.has(c,"random")&&c.random?this.randomRangedValueEmit:this.easedValueEmit,m=this.easeValueUpdate,p=this.start;break;case 6:this.start=c.min,this.end=c.max,v=this.has(c,"int")&&c.int?this.randomRangedIntEmit:this.randomRangedValueEmit,p=this.start;break;case 7:var E=c.random;Array.isArray(E)&&(this.start=E[0],this.end=E[1]),v=this.randomRangedIntEmit,p=this.start;break;case 8:this._onEmit=this.has(c,"onEmit")?c.onEmit:this.defaultEmit,this._onUpdate=this.has(c,"onUpdate")?c.onUpdate:this.defaultUpdate,v=this.proxyEmit,m=this.proxyUpdate,p=this.defaultValue;break;case 9:this.start=c.values;var P=this.has(c,"ease")?c.ease:"Linear";this.ease=o(P,c.easeParams),this.interpolation=h(c.interpolation),v=this.easedValueEmit,m=this.easeValueUpdate,p=this.start[0];break}return this.onEmit=v,this.onUpdate=m,this.current=p,this},has:function(c,p){return c.hasOwnProperty(p)},hasBoth:function(c,p,v){return c.hasOwnProperty(p)&&c.hasOwnProperty(v)},hasEither:function(c,p,v){return c.hasOwnProperty(p)||c.hasOwnProperty(v)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(c,p,v,m){return m},proxyEmit:function(c,p,v){var m=this._onEmit(c,p,v);return this.current=m,m},proxyUpdate:function(c,p,v,m){var T=this._onUpdate(c,p,v,m);return this.current=T,T},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var c=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[c],this.current},randomRangedValueEmit:function(c,p){var v=l(this.start,this.end);return c&&c.data[p]&&(c.data[p].min=v,c.data[p].max=this.end),this.current=v,v},randomRangedIntEmit:function(c,p){var v=g(this.start,this.end);return c&&c.data[p]&&(c.data[p].min=v,c.data[p].max=this.end),this.current=v,v},steppedEmit:function(){var c=this.counter,p=c,v=(this.end-this.start)/this.steps;if(this.yoyo){var m;this.direction===0?(p+=v,p>=this.end&&(m=p-this.end,p=this.end-m,this.direction=1)):(p-=v,p<=this.start&&(m=this.start-p,p=this.start+m,this.direction=0)),this.counter=p}else this.counter=a(p+v,this.start,this.end);return this.current=c,c},easedValueEmit:function(c,p){if(c&&c.data[p]){var v=c.data[p];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(c,p,v){var m=c.data[p],T,E=this.ease(v);return this.interpolation?T=this.interpolation(this.start,E):T=(m.max-m.min)*E+m.min,this.current=T,T},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});C.exports=d},24502:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(20286),l=new g({Extends:f,initialize:function(r,h,u,a,d){if(typeof r=="object"){var c=r;r=y(c,"x",0),h=y(c,"y",0),u=y(c,"power",0),a=y(c,"epsilon",100),d=y(c,"gravity",50)}else r===void 0&&(r=0),h===void 0&&(h=0),u===void 0&&(u=0),a===void 0&&(a=100),d===void 0&&(d=50);f.call(this,r,h,!0),this._gravity=d,this._power=u*d,this._epsilon=a*a},update:function(o,r){var h=this.x-o.x,u=this.y-o.y,a=h*h+u*u;if(a!==0){var d=Math.sqrt(a);a<this._epsilon&&(a=this._epsilon);var c=this._power*r/(a*d)*100;o.velocityX+=h*c,o.velocityY+=u*c}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(o){this._epsilon=o*o}},power:{get:function(){return this._power/this._gravity},set:function(o){this._power=o*this._gravity}},gravity:{get:function(){return this._gravity},set:function(o){var r=this.power;this._gravity=o,this.power=r}}});C.exports=l},56480:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(9674),y=s(45319),f=s(83419),l=s(39506),o=s(87841),r=s(11520),h=s(26099),u=new f({initialize:function(d){this.emitter=d,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new h,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=d.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new g(this)),this.bounds=new o},emit:function(a,d,c,p,v,m){return this.emitter.emit(a,d,c,p,v,m)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(a,d){a===void 0&&(a=0),d===void 0&&(d=0),this.x=a,this.y=d},fire:function(a,d){var c=this.emitter,p=c.ops,v=c.getAnim();if(v?this.anims.play(v):(this.frame=c.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(c.getEmitZone(this),a===void 0?this.x+=p.x.onEmit(this,"x"):p.x.steps>0?this.x+=a+p.x.onEmit(this,"x"):this.x+=a,d===void 0?this.y+=p.y.onEmit(this,"y"):p.y.steps>0?this.y+=d+p.y.onEmit(this,"y"):this.y+=d,this.life=p.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=p.delay.onEmit(this,"delay"),this.holdCurrent=p.hold.onEmit(this,"hold"),this.scaleX=p.scaleX.onEmit(this,"scaleX"),this.scaleY=p.scaleY.active?p.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=p.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),c.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&c.getDeathZone(this))return this.lifeCurrent=0,!1;var m=p.speedX.onEmit(this,"speedX"),T=p.speedY.active?p.speedY.onEmit(this,"speedY"):m;if(c.radial){var E=l(p.angle.onEmit(this,"angle"));this.velocityX=Math.cos(E)*Math.abs(m),this.velocityY=Math.sin(E)*Math.abs(T)}else if(c.moveTo){var P=p.moveToX.onEmit(this,"moveToX"),w=p.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(P-this.x)/R,this.velocityY=(w-this.y)/R}else this.velocityX=m,this.velocityY=T;return c.acceleration&&(this.accelerationX=p.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=p.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=p.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=p.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=p.bounce.onEmit(this,"bounce"),this.alpha=p.alpha.onEmit(this,"alpha"),p.color.active?this.tint=p.color.onEmit(this,"tint"):this.tint=p.tint.onEmit(this,"tint"),!0},update:function(a,d,c){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=a,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=a,!1;this.anims&&this.anims.update(0,a);var p=this.emitter,v=p.ops,m=1-this.lifeCurrent/this.life;if(this.lifeT=m,this.x=v.x.onUpdate(this,"x",m,this.x),this.y=v.y.onUpdate(this,"y",m,this.y),p.moveTo){var T=v.moveToX.onUpdate(this,"moveToX",m,p.moveToX),E=v.moveToY.onUpdate(this,"moveToY",m,p.moveToY),P=this.lifeCurrent/1e3;this.velocityX=(T-this.x)/P,this.velocityY=(E-this.y)/P}return this.computeVelocity(p,a,d,c,m),this.scaleX=v.scaleX.onUpdate(this,"scaleX",m,this.scaleX),v.scaleY.active?this.scaleY=v.scaleY.onUpdate(this,"scaleY",m,this.scaleY):this.scaleY=this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",m,this.angle),this.rotation=l(this.angle),p.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=y(v.alpha.onUpdate(this,"alpha",m,this.alpha),0,1),v.color.active?this.tint=v.color.onUpdate(this,"color",m,this.tint):this.tint=v.tint.onUpdate(this,"tint",m,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(a,d,c,p,v){var m=a.ops,T=this.velocityX,E=this.velocityY,P=m.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),w=m.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),R=m.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),L=m.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=m.bounce.onUpdate(this,"bounce",v,this.bounce),T+=a.gravityX*c+P*c,E+=a.gravityY*c+w*c,T=y(T,-R,R),E=y(E,-L,L),this.velocityX=T,this.velocityY=E,this.x+=T*c,this.y+=E*c,a.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var O=0;O<p.length;O++){var I=p[O];I.active&&I.update(this,d,c,v)}},setSizeToFrame:function(){},getBounds:function(a){a===void 0&&(a=this.emitter.getWorldTransformMatrix());var d=Math.abs(a.scaleX)*this.scaleX,c=Math.abs(a.scaleY)*this.scaleY,p=this.x,v=this.y,m=this.rotation,T=this.frame.width*d/2,E=this.frame.height*c/2,P=this.bounds,w=new h(p-T,v-E),R=new h(p+T,v-E),L=new h(p-T,v+E),O=new h(p+T,v+E);return m!==0&&(r(w,p,v,m),r(R,p,v,m),r(L,p,v,m),r(O,p,v,m)),a.transformPoint(w.x,w.y,w),a.transformPoint(R.x,R.y,R),a.transformPoint(L.x,L.y,L),a.transformPoint(O.x,O.y,O),P.x=Math.min(w.x,R.x,L.x,O.x),P.y=Math.min(w.y,R.y,L.y,O.y),P.width=Math.max(w.x,R.x,L.x,O.x)-P.x,P.height=Math.max(w.y,R.y,L.y,O.y)-P.y,P},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});C.exports=u},69601:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(20286),f=s(87841),l=new g({Extends:y,initialize:function(r,h,u,a,d,c,p,v){d===void 0&&(d=!0),c===void 0&&(c=!0),p===void 0&&(p=!0),v===void 0&&(v=!0),y.call(this,r,h,!0),this.bounds=new f(r,h,u,a),this.collideLeft=d,this.collideRight=c,this.collideTop=p,this.collideBottom=v},update:function(o){var r=this.bounds,h=-o.bounce,u=o.worldPosition;u.x<r.x&&this.collideLeft?(o.x+=r.x-u.x,o.velocityX*=h):u.x>r.right&&this.collideRight&&(o.x-=u.x-r.right,o.velocityX*=h),u.y<r.y&&this.collideTop?(o.y+=r.y-u.y,o.velocityY*=h):u.y>r.bottom&&this.collideBottom&&(o.y-=u.y-r.bottom,o.velocityY*=h)}});C.exports=l},31600:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(53774),l=s(43459),o=s(26388),r=s(19909),h=s(76472),u=s(44777),a=s(20696),d=s(95643),c=s(95540),p=s(26546),v=s(24502),m=s(69036),T=s(1985),E=s(97022),P=s(86091),w=s(73162),R=s(20074),L=s(269),O=s(56480),I=s(69601),F=s(68875),B=s(87841),G=s(59996),z=s(72905),Y=s(90668),J=s(19186),$=s(61340),j=s(26099),X=s(15994),H=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],N=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Q=new g({Extends:d,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,Y],initialize:function(q,et,it,rt,lt){d.call(this,q,"ParticleEmitter"),this.particleClass=O,this.config=null,this.ops={accelerationX:new u("accelerationX",0),accelerationY:new u("accelerationY",0),alpha:new u("alpha",1),angle:new u("angle",{min:0,max:360},!0),bounce:new u("bounce",0),color:new h("color"),delay:new u("delay",0,!0),hold:new u("hold",0,!0),lifespan:new u("lifespan",1e3,!0),maxVelocityX:new u("maxVelocityX",1e4),maxVelocityY:new u("maxVelocityY",1e4),moveToX:new u("moveToX",0),moveToY:new u("moveToY",0),quantity:new u("quantity",1,!0),rotate:new u("rotate",0),scaleX:new u("scaleX",1),scaleY:new u("scaleY",1),speedX:new u("speedX",0,!0),speedY:new u("speedY",0,!0),tint:new u("tint",16777215),x:new u("x",0),y:new u("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new j,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new $,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new w(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(et,it),this.setTexture(rt),lt&&this.setConfig(lt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(U){if(!U)return this;this.config=U;var q=0,et="",it=this.ops;for(q=0;q<N.length;q++)et=N[q],it[et].loadConfig(U);for(q=0;q<H.length;q++)et=H[q],E(U,et)&&(this[et]=c(U,et));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=m(U,["moveToX","moveToY"]),E(U,"speed")&&(it.speedX.loadConfig(U,"speed"),it.speedY.active=!1),(T(U,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),E(U,"scale")&&(it.scaleX.loadConfig(U,"scale"),it.scaleY.active=!1),E(U,"callbackScope")){var rt=c(U,"callbackScope",null);this.emitCallbackScope=rt,this.deathCallbackScope=rt}if(E(U,"emitZone")&&this.addEmitZone(U.emitZone),E(U,"deathZone")&&this.addDeathZone(U.deathZone),E(U,"bounds")){var lt=this.addParticleBounds(U.bounds);lt.collideLeft=c(U,"collideLeft",!0),lt.collideRight=c(U,"collideRight",!0),lt.collideTop=c(U,"collideTop",!0),lt.collideBottom=c(U,"collideBottom",!0)}return E(U,"followOffset")&&this.followOffset.setFromObject(c(U,"followOffset",0)),E(U,"texture")&&this.setTexture(U.texture),E(U,"frame")?this.setEmitterFrame(U.frame):E(U,"anim")&&this.setAnim(U.anim),E(U,"reserve")&&this.reserve(U.reserve),E(U,"advance")&&this.fastForward(U.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(a.START,this),this},updateConfig:function(U){return U&&(this.config?this.setConfig(L(this.config,U)):this.setConfig(U)),this},toJSON:function(){var U=f(this),q=0,et="";for(q=0;q<H.length;q++)et=H[q],U[et]=this[et];var it=this.ops;for(q=0;q<N.length;q++)et=N[q],it[et]&&(U[et]=it[et].toJSON());return it.speedY.active||(delete U.speedX,U.speed=it.speedX.toJSON()),this.scaleX===this.scaleY&&(delete U.scaleX,delete U.scaleY,U.scale=it.scaleX.toJSON()),U},resetCounters:function(U,q){var et=this.counters;et.fill(0),et[0]=U,q&&(et[5]=1)},startFollow:function(U,q,et,it){return q===void 0&&(q=0),et===void 0&&(et=0),it===void 0&&(it=!1),this.follow=U,this.followOffset.set(q,et),this.trackVisible=it,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var U=this.frames,q=U.length,et;return q===1?et=U[0]:this.randomFrame?et=p(U):(et=U[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===q&&(this.currentFrame=0))),this.texture.get(et)},setEmitterFrame:function(U,q,et){q===void 0&&(q=!0),et===void 0&&(et=1),this.randomFrame=q,this.frameQuantity=et,this.currentFrame=0;var it=typeof U;if(this.frames.length=0,Array.isArray(U))this.frames=this.frames.concat(U);else if(it==="string"||it==="number")this.frames.push(U);else if(it==="object"){var rt=U;U=c(rt,"frames",null),U&&(this.frames=this.frames.concat(U));var lt=c(rt,"cycle",!1);this.randomFrame=!lt,this.frameQuantity=c(rt,"quantity",et)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var U=this.anims,q=U.length;if(q===0)return null;if(q===1)return U[0];if(this.randomAnim)return p(U);var et=U[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=X(this.currentAnim+1,0,q)),et},setAnim:function(U,q,et){q===void 0&&(q=!0),et===void 0&&(et=1),this.randomAnim=q,this.animQuantity=et,this.currentAnim=0;var it=typeof U;if(this.anims.length=0,Array.isArray(U))this.anims=this.anims.concat(U);else if(it==="string")this.anims.push(U);else if(it==="object"){var rt=U;U=c(rt,"anims",null),U&&(this.anims=this.anims.concat(U));var lt=c(rt,"cycle",!1);this.randomAnim=!lt,this.animQuantity=c(rt,"quantity",et)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(U){return U===void 0&&(U=!0),this.radial=U,this},addParticleBounds:function(U,q,et,it,rt,lt,ft,gt){if(typeof U=="object"){var vt=U;U=vt.x,q=vt.y,et=E(vt,"w")?vt.w:vt.width,it=E(vt,"h")?vt.h:vt.height}return this.addParticleProcessor(new I(U,q,et,it,rt,lt,ft,gt))},setParticleSpeed:function(U,q){return q===void 0&&(q=U),this.ops.speedX.onChange(U),U===q?this.ops.speedY.active=!1:this.ops.speedY.onChange(q),this.radial=!0,this},setParticleScale:function(U,q){return U===void 0&&(U=1),q===void 0&&(q=U),this.ops.scaleX.onChange(U),this.ops.scaleY.onChange(q),this},setParticleGravity:function(U,q){return this.gravityX=U,this.gravityY=q,this},setParticleAlpha:function(U){return this.ops.alpha.onChange(U),this},setParticleTint:function(U){return this.ops.tint.onChange(U),this},setEmitterAngle:function(U){return this.ops.angle.onChange(U),this},setParticleLifespan:function(U){return this.ops.lifespan.onChange(U),this},setQuantity:function(U){return this.quantity=U,this},setFrequency:function(U,q){return this.frequency=U,this.flowCounter=U>0?U:0,q&&(this.quantity=q),this},addDeathZone:function(U){Array.isArray(U)||(U=[U]);for(var q,et=[],it=0;it<U.length;it++)if(q=U[it],q instanceof o)et.push(q);else if(typeof q.contains=="function")q=new o(q,!0),et.push(q);else{var rt=c(q,"type","onEnter"),lt=c(q,"source",null);if(lt&&typeof lt.contains=="function"){var ft=rt==="onEnter";q=new o(lt,ft),et.push(q)}}return this.deathZones=this.deathZones.concat(et),et},removeDeathZone:function(U){return z(this.deathZones,U),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(U){Array.isArray(U)||(U=[U]);for(var q,et=[],it=0;it<U.length;it++)if(q=U[it],q instanceof F||q instanceof r)et.push(q);else{var rt=c(q,"source",null);if(rt){var lt=c(q,"type","random");if(lt==="random"&&typeof rt.getRandomPoint=="function")q=new F(rt),et.push(q);else if(lt==="edge"&&typeof rt.getPoints=="function"){var ft=c(q,"quantity",1),gt=c(q,"stepRate",0),vt=c(q,"yoyo",!1),xt=c(q,"seamless",!0),yt=c(q,"total",-1);q=new r(rt,ft,gt,vt,xt,yt),et.push(q)}}}return this.emitZones=this.emitZones.concat(et),et},removeEmitZone:function(U){return z(this.emitZones,U),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(U){var q=this.emitZones,et=q.length;if(et!==0){var it=q[this.zoneIndex];it.getPoint(U),it.total>-1&&(this.zoneTotal++,this.zoneTotal===it.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===et&&(this.zoneIndex=0)))}},getDeathZone:function(U){for(var q=this.deathZones,et=0;et<q.length;et++){var it=q[et];if(it.willKill(U))return this.emit(a.DEATH_ZONE,this,U,it),!0}return!1},setEmitZone:function(U){var q;return isFinite(U)?q=U:q=this.emitZones.indexOf(U),q>=0&&(this.zoneIndex=q),this},addParticleProcessor:function(U){return this.processors.exists(U)||(U.emitter&&U.emitter.removeParticleProcessor(U),this.processors.add(U),U.emitter=this),U},removeParticleProcessor:function(U){return this.processors.exists(U)&&(this.processors.remove(U,!0),U.emitter=null),U},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(U){return this.addParticleProcessor(new v(U))},reserve:function(U){var q=this.dead;if(this.maxParticles>0){var et=this.getParticleCount();et+U>this.maxParticles&&(U=this.maxParticles-(et+U))}for(var it=0;it<U;it++)q.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(U,q){return U===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof U=="function"&&(this.emitCallback=U,q&&(this.emitCallbackScope=q)),this},onParticleDeath:function(U,q){return U===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof U=="function"&&(this.deathCallback=U,q&&(this.deathCallbackScope=q)),this},killAll:function(){for(var U=this.dead,q=this.alive;q.length>0;)U.push(q.pop());return this},forEachAlive:function(U,q){for(var et=this.alive,it=et.length,rt=0;rt<it;rt++)U.call(q,et[rt],this);return this},forEachDead:function(U,q){for(var et=this.dead,it=et.length,rt=0;rt<it;rt++)U.call(q,et[rt],this);return this},start:function(U,q){return U===void 0&&(U=0),this.emitting||(U>0&&this.fastForward(U),this.emitting=!0,this.resetCounters(this.frequency,!0),q!==void 0&&(this.duration=Math.abs(q)),this.emit(a.START,this)),this},stop:function(U){return U===void 0&&(U=!1),this.emitting&&(this.emitting=!1,U&&this.killAll(),this.emit(a.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(U,q){return U===void 0&&(U=""),q===void 0&&(q=this.true),this.sortProperty=U,this.sortOrderAsc=q,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(U){return this.sortProperty!==""?U=this.depthSortCallback:U=null,this.sortCallback=U,this},depthSort:function(){return J(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(U,q){var et=this.sortProperty;return this.sortOrderAsc?U[et]-q[et]:q[et]-U[et]},flow:function(U,q,et){return q===void 0&&(q=1),this.emitting=!1,this.frequency=U,this.quantity=q,et!==void 0&&(this.stopAfter=et),this.start()},explode:function(U,q,et){this.frequency=-1,this.resetCounters(-1,!0);var it=this.emitParticle(U,q,et);return this.emit(a.EXPLODE,this,it),it},emitParticleAt:function(U,q,et){return this.emitParticle(et,U,q)},emitParticle:function(U,q,et){if(!this.atLimit()){U===void 0&&(U=this.ops.quantity.onEmit());for(var it=this.dead,rt=this.stopAfter,lt=this.follow?this.follow.x+this.followOffset.x:q,ft=this.follow?this.follow.y+this.followOffset.y:et,gt=0;gt<U;gt++){var vt=it.pop();if(vt||(vt=new this.particleClass(this)),vt.fire(lt,ft)?(this.particleBringToTop?this.alive.push(vt):this.alive.unshift(vt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,vt,this)):this.dead.push(vt),rt>0&&(this.stopCounter++,this.stopCounter>=rt)||this.atLimit())break}return vt}},fastForward:function(U,q){q===void 0&&(q=1e3/60);var et=0;for(this.skipping=!0;et<Math.abs(U);)this.preUpdate(0,q),et+=q;return this.skipping=!1,this},preUpdate:function(U,q){q*=this.timeScale;var et=q/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var it=this.getProcessors(),rt=this.alive,lt=this.dead,ft=0,gt=[],vt=rt.length;for(ft=0;ft<vt;ft++){var xt=rt[ft];xt.update(q,et,it)&&gt.push({index:ft,particle:xt})}if(vt=gt.length,vt>0){var yt=this.deathCallback,Ct=this.deathCallbackScope;for(ft=vt-1;ft>=0;ft--){var Rt=gt[ft];rt.splice(Rt.index,1),lt.push(Rt.particle),yt&&yt.call(Ct,Rt.particle),Rt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&rt.length===0&&(this.completeFlag=0,this.emit(a.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=q;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=q,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(U){for(var q=this.getWorldTransformMatrix(),et=this.alive,it=et.length,rt=[],lt=0;lt<it;lt++){var ft=et[lt];G(U,ft.getBounds(q))&&rt.push(ft)}return rt},getBounds:function(U,q,et,it){U===void 0&&(U=0),q===void 0&&(q=0),et===void 0&&(et=1e3/60),it===void 0&&(it=new B);var rt=this.getWorldTransformMatrix(),lt,ft,gt=this.alive,vt=!1;if(it.setTo(0,0,0,0),q>0){var xt=0;for(this.skipping=!0;xt<Math.abs(q);){for(this.preUpdate(0,et),lt=0;lt<gt.length;lt++)ft=gt[lt].getBounds(rt),vt?R(it,ft):(vt=!0,l(ft,it));xt+=et}this.skipping=!1}else for(lt=0;lt<gt.length;lt++)ft=gt[lt].getBounds(rt),vt?R(it,ft):(vt=!0,l(ft,it));return U>0&&P(it,U,U),it},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(U){this.ops.x.onChange(U)}},particleY:{get:function(){return this.ops.y.current},set:function(U){this.ops.y.onChange(U)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(U){this.ops.accelerationX.onChange(U)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(U){this.ops.accelerationY.onChange(U)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(U){this.ops.maxVelocityX.onChange(U)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(U){this.ops.maxVelocityY.onChange(U)}},speed:{get:function(){return this.ops.speedX.current},set:function(U){this.ops.speedX.onChange(U),this.ops.speedY.onChange(U)}},speedX:{get:function(){return this.ops.speedX.current},set:function(U){this.ops.speedX.onChange(U)}},speedY:{get:function(){return this.ops.speedY.current},set:function(U){this.ops.speedY.onChange(U)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(U){this.ops.moveToX.onChange(U)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(U){this.ops.moveToY.onChange(U)}},bounce:{get:function(){return this.ops.bounce.current},set:function(U){this.ops.bounce.onChange(U)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(U){this.ops.scaleX.onChange(U)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(U){this.ops.scaleY.onChange(U)}},particleColor:{get:function(){return this.ops.color.current},set:function(U){this.ops.color.onChange(U)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(U){this.ops.color.setEase(U)}},particleTint:{get:function(){return this.ops.tint.current},set:function(U){this.ops.tint.onChange(U)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(U){this.ops.alpha.onChange(U)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(U){this.ops.lifespan.onChange(U)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(U){this.ops.angle.onChange(U)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(U){this.ops.rotate.onChange(U)}},quantity:{get:function(){return this.ops.quantity.current},set:function(U){this.ops.quantity.onChange(U)}},delay:{get:function(){return this.ops.delay.current},set:function(U){this.ops.delay.onChange(U)}},hold:{get:function(){return this.ops.hold.current},set:function(U){this.ops.hold.onChange(U)}},flowCounter:{get:function(){return this.counters[0]},set:function(U){this.counters[0]=U}},frameCounter:{get:function(){return this.counters[1]},set:function(U){this.counters[1]=U}},animCounter:{get:function(){return this.counters[2]},set:function(U){this.counters[2]=U}},elapsed:{get:function(){return this.counters[3]},set:function(U){this.counters[3]=U}},stopCounter:{get:function(){return this.counters[4]},set:function(U){this.counters[4]=U}},completeFlag:{get:function(){return this.counters[5]},set:function(U){this.counters[5]=U}},zoneIndex:{get:function(){return this.counters[6]},set:function(U){this.counters[6]=U}},zoneTotal:{get:function(){return this.counters[7]},set:function(U){this.counters[7]=U}},currentFrame:{get:function(){return this.counters[8]},set:function(U){this.counters[8]=U}},currentAnim:{get:function(){return this.counters[9]},set:function(U){this.counters[9]=U}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var U,q=this.ops;for(U=0;U<N.length;U++){var et=N[U];q[et].destroy()}for(U=0;U<this.alive.length;U++)this.alive[U].destroy();for(U=0;U<this.dead.length;U++)this.dead[U].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});C.exports=Q},9871:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(59996),y=s(61340),f=new y,l=new y,o=new y,r=new y,h=function(u,a,d,c){var p=f,v=l,m=o,T=r;c?(T.loadIdentity(),T.multiply(c),T.translate(a.x,a.y),T.rotate(a.rotation),T.scale(a.scaleX,a.scaleY)):T.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var E=u.currentContext,P=d.roundPixels,w=d.alpha,R=a.alpha,L=a.alive,O=L.length,I=a.viewBounds;if(!(!a.visible||O===0||I&&!g(I,d.worldView))){a.sortCallback&&a.depthSort(),d.addToRenderList(a);var F=a.scrollFactorX,B=a.scrollFactorY;E.save(),E.globalCompositeOperation=u.blendModes[a.blendMode];for(var G=0;G<O;G++){var z=L[G],Y=z.alpha*R*w;if(!(Y<=0||z.scaleX===0||z.scaleY===0)){m.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),p.copyFrom(d.matrix),p.multiplyWithOffset(T,-d.scrollX*F,-d.scrollY*B),m.e=z.x,m.f=z.y,p.multiply(m,v);var J=z.frame,$=J.canvasData;if($.width>0&&$.height>0){var j=-J.halfWidth,X=-J.halfHeight;E.globalAlpha=Y,E.save(),v.setToContext(E),P&&(j=Math.round(j),X=Math.round(X)),E.imageSmoothingEnabled=!J.source.scaleMode,E.drawImage(J.source.image,$.x,$.y,$.width,$.height,j,X,$.width,$.height),E.restore()}}}E.restore()}};C.exports=h},92730:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(95540),o=s(31600);y.register("particles",function(r,h){r===void 0&&(r={});var u=f(r,"key",null),a=l(r,"config",null),d=new o(this.scene,0,0,u);return h!==void 0&&(r.add=h),g(this.scene,d,r),a&&d.setConfig(a),d})},676:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(31600);g.register("particles",function(f,l,o,r){return f!==void 0&&typeof f=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new y(this.scene,f,l,o,r))})},90668:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(21188),f=s(9871),C.exports={renderWebGL:y,renderCanvas:f}},21188:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(59996),y=s(61340),f=s(70554),l=new y,o=new y,r=new y,h=new y,u=function(a,d,c,p){var v=a.pipelines.set(d.pipeline),m=l,T=o,E=r,P=h;p?(P.loadIdentity(),P.multiply(p),P.translate(d.x,d.y),P.rotate(d.rotation),P.scale(d.scaleX,d.scaleY)):P.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var w=f.getTintAppendFloatAlpha,R=c.alpha,L=d.alpha;a.pipelines.preBatch(d);var O=d.alive,I=O.length,F=d.viewBounds;if(!(I===0||F&&!g(F,c.worldView))){d.sortCallback&&d.depthSort(),c.addToRenderList(d),m.copyFrom(c.matrix),m.multiplyWithOffset(P,-c.scrollX*d.scrollFactorX,-c.scrollY*d.scrollFactorY),a.setBlendMode(d.blendMode),d.mask&&(d.mask.preRenderWebGL(a,d,c),a.pipelines.set(d.pipeline));for(var B=d.tintFill,G,z,Y=0;Y<I;Y++){var J=O[Y],$=J.alpha*L*R;if(!($<=0||J.scaleX===0||J.scaleY===0)){E.applyITRS(J.x,J.y,J.rotation,J.scaleX,J.scaleY),E.e=J.x,E.f=J.y,m.multiply(E,T);var j=J.frame;j.glTexture!==z&&(z=j.glTexture,G=v.setGameObject(d,j));var X=-j.halfWidth,H=-j.halfHeight,N=T.setQuad(X,H,X+j.width,H+j.height),Q=w(J.tint,$);v.shouldFlush(6)&&(v.flush(),G=v.setGameObject(d,j)),v.batchQuad(d,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],j.u0,j.v0,j.u1,j.v1,Q,Q,Q,Q,B,z,G)}}d.mask&&d.mask.postRenderWebGL(a,c),a.pipelines.postBatch(d)}};C.exports=u},20286:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r){l===void 0&&(l=0),o===void 0&&(o=0),r===void 0&&(r=!0),this.emitter,this.x=l,this.y=o,this.active=r},update:function(){},destroy:function(){this.emitter=null}});C.exports=y},9774:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},812:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="deathzone"},30522:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="explode"},96695:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},18677:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stop"},20696:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={COMPLETE:s(9774),DEATH_ZONE:s(812),EXPLODE:s(30522),START:s(96695),STOP:s(18677)}},18404:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={EmitterColorOp:s(76472),EmitterOp:s(44777),Events:s(20696),GravityWell:s(24502),Particle:s(56480),ParticleBounds:s(69601),ParticleEmitter:s(31600),ParticleProcessor:s(20286),Zones:s(21024)}},26388:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o){this.source=l,this.killOnEnter=o},willKill:function(f){var l=f.worldPosition,o=this.source.contains(l.x,l.y);return o&&this.killOnEnter||!o&&!this.killOnEnter}});C.exports=y},19909:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r,h,u,a){h===void 0&&(h=!1),u===void 0&&(u=!0),a===void 0&&(a=-1),this.source=l,this.points=[],this.quantity=o,this.stepRate=r,this.yoyo=h,this.counter=-1,this.seamless=u,this._length=0,this._direction=0,this.total=a,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],l=this.points[this.points.length-1];f.x===l.x&&f.y===l.y&&this.points.pop()}var o=this._length;return this._length=this.points.length,this._length<o&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var l=this.points[this.counter];l&&(f.x=l.x,f.y=l.y)}});C.exports=y},68875:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(26099),f=new g({initialize:function(o){this.source=o,this._tempVec=new y,this.total=-1},getPoint:function(l){var o=this._tempVec;this.source.getRandomPoint(o),l.x=o.x,l.y=o.y}});C.exports=f},21024:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={DeathZone:s(26388),EdgeZone:s(19909),RandomZone:s(68875)}},1159:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(68287),l=new g({Extends:f,Mixins:[y.PathFollower],initialize:function(r,h,u,a,d,c){f.call(this,r,u,a,d,c),this.path=h},preUpdate:function(o,r){this.anims.update(o,r),this.pathUpdate(o)}});C.exports=l},90145:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(1159);g.register("follower",function(f,l,o,r,h){var u=new y(this.scene,f,l,o,r,h);return this.displayList.add(u),this.updateList.add(u),u})},33663:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(9674),y=s(83419),f=s(48803),l=s(90664),o=s(4703),r=s(45650),h=new y({Extends:o,initialize:function(a,d,c,p,v,m,T,E){p||(p="__DEFAULT"),o.call(this,a,d,c,p,v),this.type="Plane",this.anims=new g(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(m,T,E),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(u,a,d){u===void 0&&(u=8),a===void 0&&(a=8),d===void 0&&(d=!1);var c=!1;return d&&(c=!0),this.gridWidth=u,this.gridHeight=a,this.isTiled=d,this.clear(),f({mesh:this,widthSegments:u,heightSegments:a,isOrtho:!1,tile:d,flipY:c}),this},setSizeToFrame:function(u){u===void 0&&(u=!0);var a=this.frame;if(this.setPerspective(this.width/a.width,this.height/a.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!u)return this;var d=this.gridWidth,c=this.gridHeight,p=this.vertices,v=a.u0,m=a.u1,T=a.v0,E=a.v1,P,w,R=0;if(this.isTiled)for(T=a.v1,E=a.v0,w=0;w<c;w++)for(P=0;P<d;P++)p[R++].setUVs(v,E),p[R++].setUVs(v,T),p[R++].setUVs(m,E),p[R++].setUVs(v,T),p[R++].setUVs(m,T),p[R++].setUVs(m,E);else{var L=d+1,O=c+1,I=m-v,F=E-T,B=[];for(w=0;w<O;w++)for(P=0;P<L;P++){var G=v+I*(P/d),z=T+F*(w/c);B.push(G,z)}for(w=0;w<c;w++)for(P=0;P<d;P++){var Y=(P+L*w)*2,J=(P+L*(w+1))*2,$=(P+1+L*(w+1))*2,j=(P+1+L*w)*2;p[R++].setUVs(B[Y],B[Y+1]),p[R++].setUVs(B[J],B[J+1]),p[R++].setUVs(B[j],B[j+1]),p[R++].setUVs(B[J],B[J+1]),p[R++].setUVs(B[$],B[$+1]),p[R++].setUVs(B[j],B[j+1])}}return this},setViewHeight:function(u){u===void 0&&(u=this.frame.height);var a=this.fov*(Math.PI/180);this.viewPosition.z=this.height/u/Math.tan(a/2),this.dirtyCache[10]=1},createCheckerboard:function(u,a,d,c,p){u===void 0&&(u=16777215),a===void 0&&(a=255),d===void 0&&(d=255),c===void 0&&(c=255),p===void 0&&(p=128);for(var v=l(u),m=l(a),T=[],E=0;E<16;E++)for(var P=0;P<16;P++)E<8&&P<8||E>7&&P>7?T.push(v.r,v.g,v.b,d):T.push(m.r,m.g,m.b,c);var w=this.scene.sys.textures.addUint8Array(r(),new Uint8Array(T),16,16);return this.removeCheckerboard(),this.setTexture(w),this.setSizeToFrame(),this.setViewHeight(p),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(u,a){return this.anims.play(u,a)},playReverse:function(u,a){return this.anims.playReverse(u,a)},playAfterDelay:function(u,a){return this.anims.playAfterDelay(u,a)},playAfterRepeat:function(u,a){return this.anims.playAfterRepeat(u,a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(u){return this.anims.stopAfterDelay(u)},stopAfterRepeat:function(u){return this.anims.stopAfterRepeat(u)},stopOnFrame:function(u){return this.anims.stopOnFrame(u)},preUpdate:function(u,a){o.prototype.preUpdate.call(this,u,a),this.anims.update(u,a)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});C.exports=h},56015:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(13059),f=s(44603),l=s(23568),o=s(35154),r=s(33663);f.register("plane",function(h,u){h===void 0&&(h={});var a=l(h,"key",null),d=l(h,"frame",null),c=o(h,"width",8),p=o(h,"height",8),v=o(h,"tile",!1),m=new r(this.scene,0,0,a,d,c,p,v);u!==void 0&&(h.add=u);var T=o(h,"checkerboard",null);if(T){var E=o(T,"color1",16777215),P=o(T,"color2",255),w=o(T,"alpha1",255),R=o(T,"alpha2",255),L=o(T,"height",128);m.createCheckerboard(E,P,w,R,L)}return g(this.scene,m,h),y(m,h),m})},30985:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33663),y=s(39429);y.register("plane",function(f,l,o,r,h,u,a){return this.displayList.add(new g(this.scene,f,l,o,r,h,u,a))})},80321:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(30100),o=s(36060),r=s(67277),h=new g({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible,r],initialize:function(a,d,c,p,v,m,T){p===void 0&&(p=16777215),v===void 0&&(v=128),m===void 0&&(m=1),T===void 0&&(T=.1),f.call(this,a,"PointLight"),this.initPipeline(o.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(d,c),this.color=l(p),this.intensity=m,this.attenuation=T,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this.width=u*2,this.height=u*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});C.exports=h},39829:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(80321);y.register("pointlight",function(o,r){o===void 0&&(o={});var h=f(o,"color",16777215),u=f(o,"radius",128),a=f(o,"intensity",1),d=f(o,"attenuation",.1),c=new l(this.scene,0,0,h,u,a,d);return r!==void 0&&(o.add=r),g(this.scene,c,o),c})},71255:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(80321);g.register("pointlight",function(f,l,o,r,h,u){return this.displayList.add(new y(this.scene,f,l,o,r,h,u))})},67277:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(57787),C.exports={renderWebGL:y,renderCanvas:f}},57787:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=function(f,l,o,r){o.addToRenderList(l);var h=f.pipelines.set(l.pipeline),u=g(l,o,r).calc,a=l.width,d=l.height,c=-l._radius,p=-l._radius,v=c+a,m=p+d,T=u.getX(0,0),E=u.getY(0,0),P=u.getX(c,p),w=u.getY(c,p),R=u.getX(c,m),L=u.getY(c,m),O=u.getX(v,m),I=u.getY(v,m),F=u.getX(v,p),B=u.getY(v,p);f.pipelines.preBatch(l),h.batchPointLight(l,o,P,w,R,L,O,I,F,B,T,E),f.pipelines.postBatch(l)};C.exports=y},591:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(81320),f=s(88571),l=new g({Extends:f,initialize:function(r,h,u,a,d,c){h===void 0&&(h=0),u===void 0&&(u=0),a===void 0&&(a=32),d===void 0&&(d=32),c===void 0&&(c=!0);var p=new y(r.sys.textures,"",a,d,c);f.call(this,r,h,u,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(o,r){this.width=o,this.height=r,this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=o,h.hitArea.height=r),this},resize:function(o,r,h){return this.texture.setSize(o,r,h),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(o){var r=this.texture;return r.key=o,r.manager.addDynamicTexture(r)&&(this._saved=!0),r},fill:function(o,r,h,u,a,d){return this.texture.fill(o,r,h,u,a,d),this},clear:function(){return this.texture.clear(),this},stamp:function(o,r,h,u,a){return this.texture.stamp(o,r,h,u,a),this},erase:function(o,r,h){return this.texture.erase(o,r,h),this},draw:function(o,r,h,u,a){return this.texture.draw(o,r,h,u,a),this},drawFrame:function(o,r,h,u,a,d){return this.texture.drawFrame(o,r,h,u,a,d),this},repeat:function(o,r,h,u,a,d,c,p,v){return this.texture.repeat(o,r,h,u,a,d,c,p,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(o,r,h,u,a){return this.texture.batchDraw(o,r,h,u,a),this},batchDrawFrame:function(o,r,h,u,a,d){return this.texture.batchDrawFrame(o,r,h,u,a,d),this},endDraw:function(o){return this.texture.endDraw(o),this},snapshotArea:function(o,r,h,u,a,d,c){return this.texture.snapshotArea(o,r,h,u,a,d,c),this},snapshot:function(o,r,h){return this.snapshotArea(0,0,this.width,this.height,o,r,h)},snapshotPixel:function(o,r,h){return this.snapshotArea(o,r,1,1,h,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});C.exports=l},34495:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(591);y.register("renderTexture",function(o,r){o===void 0&&(o={});var h=f(o,"x",0),u=f(o,"y",0),a=f(o,"width",32),d=f(o,"height",32),c=new l(this.scene,h,u,a,d);return r!==void 0&&(o.add=r),g(this.scene,c,o),c})},60505:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(591);g.register("renderTexture",function(f,l,o,r){return this.displayList.add(new y(this.scene,f,l,o,r))})},77757:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(9674),y=s(83419),f=s(31401),l=s(95643),o=s(36060),r=s(38745),h=s(26099),u=new y({Extends:l,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.PostPipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,r],initialize:function(d,c,p,v,m,T,E,P,w){v===void 0&&(v="__DEFAULT"),T===void 0&&(T=2),E===void 0&&(E=!0),l.call(this,d,"Rope"),this.anims=new g(this),this.points=T,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=E,this._flipX=!1,this._flipY=!1,this._perp=new h,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,m),this.setPosition(c,p),this.setSizeToFrame(),this.initPipeline(o.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(T)&&this.resizeArrays(T.length),this.setPoints(T,P,w),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,d){var c=this.anims.currentFrame;this.anims.update(a,d),this.anims.currentFrame!==c&&(this.updateUVs(),this.updateVertices())},play:function(a,d,c){return this.anims.play(a,d,c),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(a,d,c){return a===void 0&&(a=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(a,d,c))},setVertical:function(a,d,c){return a===void 0&&(a=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(a,d,c)):this},setTintFill:function(a){return a===void 0&&(a=!1),this.tintFill=a,this},setAlphas:function(a,d){var c=this.points.length;if(c<1)return this;var p=this.alphas;a===void 0?a=[1]:!Array.isArray(a)&&d===void 0&&(a=[a]);var v,m=0;if(d!==void 0)for(v=0;v<c;v++)m=v*2,p[m]=a,p[m+1]=d;else if(a.length===c)for(v=0;v<c;v++)m=v*2,p[m]=a[v],p[m+1]=a[v];else{var T=a[0];for(v=0;v<c;v++)m=v*2,a.length>m&&(T=a[m]),p[m]=T,a.length>m+1&&(T=a[m+1]),p[m+1]=T}return this},setColors:function(a){var d=this.points.length;if(d<1)return this;var c=this.colors;a===void 0?a=[16777215]:Array.isArray(a)||(a=[a]);var p,v=0;if(a.length===d)for(p=0;p<d;p++)v=p*2,c[v]=a[p],c[v+1]=a[p];else{var m=a[0];for(p=0;p<d;p++)v=p*2,a.length>v&&(m=a[v]),c[v]=m,a.length>v+1&&(m=a[v+1]),c[v+1]=m}return this},setPoints:function(a,d,c){if(a===void 0&&(a=2),typeof a=="number"){var p=a;p<2&&(p=2),a=[];var v,m,T;if(this.horizontal)for(T=-this.frame.halfWidth,m=this.frame.width/(p-1),v=0;v<p;v++)a.push({x:T+v*m,y:0});else for(T=-this.frame.halfHeight,m=this.frame.height/(p-1),v=0;v<p;v++)a.push({x:0,y:T+v*m})}var E=a.length,P=this.points.length;return E<1?(console.warn("Rope: Not enough points given"),this):(E===1&&(a.unshift({x:0,y:0}),E++),P!==E&&this.resizeArrays(E),this.dirty=!0,this.points=a,this.updateUVs(),d!=null&&this.setColors(d),c!=null&&this.setAlphas(c),this)},updateUVs:function(){for(var a=this.uv,d=this.points.length,c=this.frame.u0,p=this.frame.v0,v=this.frame.u1,m=this.frame.v1,T=(v-c)/(d-1),E=(m-p)/(d-1),P=0;P<d;P++){var w=P*4,R,L,O,I;this.horizontal?(this._flipX?(R=v-P*T,O=v-P*T):(R=c+P*T,O=c+P*T),this._flipY?(L=m,I=p):(L=p,I=m)):(this._flipX?(R=c,O=v):(R=v,O=c),this._flipY?(L=m-P*E,I=m-P*E):(L=p+P*E,I=p+P*E)),a[w+0]=R,a[w+1]=L,a[w+2]=O,a[w+3]=I}return this},resizeArrays:function(a){var d=this.colors,c=this.alphas;this.vertices=new Float32Array(a*4),this.uv=new Float32Array(a*4),d=new Uint32Array(a*2),c=new Float32Array(a*2);for(var p=0;p<a*2;p++)d[p]=16777215,c[p]=1;return this.colors=d,this.alphas=c,this.dirty=!0,this},updateVertices:function(){var a=this._perp,d=this.points,c=this.vertices,p=d.length;if(this.dirty=!1,!(p<1)){for(var v,m=d[0],T=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,E=0;E<p;E++){var P=d[E],w=E*4;E<p-1?v=d[E+1]:v=P,a.x=v.y-m.y,a.y=-(v.x-m.x);var R=a.length();a.x/=R,a.y/=R,a.x*=T,a.y*=T,c[w]=P.x+a.x,c[w+1]=P.y+a.y,c[w+2]=P.x-a.x,c[w+3]=P.y-a.y,m=P}return this}},setDebug:function(a,d){return this.debugGraphic=a,!a&&!d?this.debugCallback=null:d?this.debugCallback=d:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(a,d,c){var p=a.debugGraphic,v=c[0],m=c[1],T=c[2],E=c[3];p.lineBetween(v,m,T,E);for(var P=4;P<d;P+=4){var w=c[P+0],R=c[P+1],L=c[P+2],O=c[P+3];p.lineBetween(v,m,w,R),p.lineBetween(T,E,L,O),p.lineBetween(T,E,w,R),p.lineBetween(w,R,L,O),v=w,m=R,T=L,E=O}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(a){return this._flipX=a,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(a){return this._flipY=a,this.updateUVs()}}});C.exports=u},95262:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){};C.exports=A},26209:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(35154),o=s(77757);y.register("rope",function(r,h){r===void 0&&(r={});var u=f(r,"key",null),a=f(r,"frame",null),d=f(r,"horizontal",!0),c=l(r,"points",void 0),p=l(r,"colors",void 0),v=l(r,"alphas",void 0),m=new o(this.scene,0,0,u,a,c,d,p,v);return h!==void 0&&(r.add=h),g(this.scene,m,r),m})},96819:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(77757),y=s(39429);y.register("rope",function(f,l,o,r,h,u,a,d){return this.displayList.add(new g(this.scene,f,l,o,r,h,u,a,d))})},38745:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(20439),f=s(95262),C.exports={renderWebGL:y,renderCanvas:f}},20439:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,o,r,h){r.addToRenderList(o);var u=l.pipelines.set(o.pipeline,o),a=g(o,r,h).calc,d=o.vertices,c=o.uv,p=o.colors,v=o.alphas,m=o.alpha,T=y.getTintAppendFloatAlpha,E=r.roundPixels,P=d.length,w=Math.floor(P*.5);u.flush(),l.pipelines.preBatch(o);var R=u.setGameObject(o),L=u.vertexViewF32,O=u.vertexViewU32,I=u.vertexCount*u.currentShader.vertexComponentCount-1,F=0,B=o.tintFill;o.dirty&&o.updateVertices();for(var G=o.debugCallback,z=[],Y=0;Y<P;Y+=2){var J=d[Y+0],$=d[Y+1],j=J*a.a+$*a.c+a.e,X=J*a.b+$*a.d+a.f;E&&(j=Math.round(j),X=Math.round(X)),L[++I]=j,L[++I]=X,L[++I]=c[Y+0],L[++I]=c[Y+1],L[++I]=R,L[++I]=B,O[++I]=T(p[F],r.alpha*(v[F]*m)),F++,G&&(z[Y+0]=j,z[Y+1]=X)}G&&G.call(o,o,P,z),u.vertexCount+=w,u.currentBatch.count=u.vertexCount-u.currentBatch.start,l.pipelines.postBatch(o)};C.exports=f},20071:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(95540),o=s(79291),r=s(61622),h=s(25479),u=s(61340),a=s(95428),d=s(92503),c=new g({Extends:f,Mixins:[y.ComputedSize,y.Depth,y.GetBounds,y.Mask,y.Origin,y.ScrollFactor,y.Transform,y.Visible,h],initialize:function(v,m,T,E,P,w,R,L){T===void 0&&(T=0),E===void 0&&(E=0),P===void 0&&(P=128),w===void 0&&(w=128),f.call(this,v,"Shader"),this.blendMode=-1,this.shader;var O=v.sys.renderer;this.renderer=O,this.gl=O.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=O.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=O.width,this._rendererHeight=O.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(T,E),this.setSize(P,w),this.setOrigin(.5,.5),this.setShader(m,R,L),this.renderer.on(d.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(p){return this.renderToTexture?!0:!(f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&p.id)},setRenderToTexture:function(p,v){if(!this.renderToTexture){var m=this.width,T=this.height,E=this.renderer;this.glTexture=E.createTextureFromSource(null,m,T,0),this.framebuffer=E.createFramebuffer(m,T,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=T,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),p&&(this.texture=this.scene.sys.textures.addGLTexture(p,this.glTexture))}return this.shader&&(E.pipelines.clear(),this.load(),this.flush(),E.pipelines.rebind()),this},setShader:function(p,v,m){if(this.renderer.contextLost)return this._deferSetShader={key:p,textures:v,textureData:m},this;if(v===void 0&&(v=[]),typeof p=="string"){var T=this.scene.sys.cache.shader;if(!T.has(p))return console.warn("Shader missing: "+p),this;this.shader=T.get(p)}else this.shader=p;var E=this.gl,P=this.renderer;this.program&&P.deleteProgram(this.program);var w=P.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);E.uniformMatrix4fv(E.getUniformLocation(w.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),E.uniformMatrix4fv(E.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),E.uniform2f(E.getUniformLocation(w.webGLProgram,"uResolution"),this.width,this.height),this.program=w;var R=new Date,L={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),R.getHours()*60*60+R.getMinutes()*60+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=o(!0,{},this.shader.uniforms,L):this.uniforms=L;for(var O=0;O<4;O++)v[O]&&this.setSampler2D("iChannel"+O,v[O],O,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(p){return this.pointer=p,this},projOrtho:function(p,v,m,T){if(this.renderer.contextLost){this._deferProjOrtho={left:p,right:v,bottom:m,top:T};return}var E=-1e3,P=1e3,w=1/(p-v),R=1/(m-T),L=1/(E-P),O=this.projectionMatrix;O[0]=-2*w,O[5]=-2*R,O[10]=2*L,O[12]=(p+v)*w,O[13]=(T+m)*R,O[14]=(P+E)*L;var I=this.program,F=this.gl,B=this.renderer;B.setProgram(I),F.uniformMatrix4fv(F.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=m},initUniforms:function(){var p=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var m in this.uniforms){var T=this.uniforms[m],E=T.type,P=p[E];T.uniformLocation=this.renderer.createUniformLocation(v,m),E!=="sampler2D"&&(T.glMatrix=P.matrix,T.glValueLength=P.length,T.glFunc=P.func)}},setSampler2DBuffer:function(p,v,m,T,E,P){E===void 0&&(E=0),P===void 0&&(P={});var w=this.uniforms[p];return w.value=v,P.width=m,P.height=T,w.textureData=P,this._textureCount=E,this.initSampler2D(w),this},setSampler2D:function(p,v,m,T){m===void 0&&(m=0);var E=this.scene.sys.textures;if(E.exists(v)){var P=E.getFrame(v);if(P.glTexture&&P.glTexture.isRenderTexture)return this.setSampler2DBuffer(p,P.glTexture,P.width,P.height,m,T);var w=this.uniforms[p],R=P.source;w.textureKey=v,w.source=R.image,w.value=P.glTexture,R.isGLTexture&&(T||(T={}),T.width=R.width,T.height=R.height),T&&(w.textureData=T),this._textureCount=m,this.initSampler2D(w)}return this},setUniform:function(p,v){return r(this.uniforms,p,v),this},getUniform:function(p){return l(this.uniforms,p,null)},setChannel0:function(p,v){return this.setSampler2D("iChannel0",p,0,v)},setChannel1:function(p,v){return this.setSampler2D("iChannel1",p,1,v)},setChannel2:function(p,v){return this.setSampler2D("iChannel2",p,2,v)},setChannel3:function(p,v){return this.setSampler2D("iChannel3",p,3,v)},initSampler2D:function(p){if(p.value){var v=p.textureData;if(v&&!p.value.isRenderTexture){var m=this.gl,T=p.value,E=m[l(v,"magFilter","linear").toUpperCase()],P=m[l(v,"minFilter","linear").toUpperCase()],w=m[l(v,"wrapS","repeat").toUpperCase()],R=m[l(v,"wrapT","repeat").toUpperCase()],L=m[l(v,"format","rgba").toUpperCase()],O=l(v,"flipY",!1),I=l(v,"width",T.width),F=l(v,"height",T.height),B=l(v,"source",T.pixels);v.repeat&&(w=m.REPEAT,R=m.REPEAT),v.width&&(B=null),T.update(B,I,F,O,w,R,P,E,L)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var p=this.gl,v=this.uniforms,m,T,E,P,w,R=0;for(var L in v)m=v[L],E=m.glFunc,T=m.glValueLength,P=m.uniformLocation,w=m.value,w!==null&&(T===1?m.glMatrix?E.call(p,P.webGLUniformLocation,m.transpose,w):E.call(p,P.webGLUniformLocation,w):T===2?E.call(p,P.webGLUniformLocation,w.x,w.y):T===3?E.call(p,P.webGLUniformLocation,w.x,w.y,w.z):T===4?E.call(p,P.webGLUniformLocation,w.x,w.y,w.z,w.w):m.type==="sampler2D"&&(p.activeTexture(p.TEXTURE0+R),p.bindTexture(p.TEXTURE_2D,w.webGLTexture),p.uniform1i(P.webGLUniformLocation,R),R++))},load:function(p){var v=this.gl,m=this.width,T=this.height,E=this.renderer,P=this.program,w=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,L=-this._displayOriginY;w[0]=p[0],w[1]=p[1],w[4]=p[2],w[5]=p[3],w[8]=p[4],w[9]=p[5],w[12]=w[0]*R+w[4]*L,w[13]=w[1]*R+w[5]*L}v.useProgram(P.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,w),v.uniformMatrix4fv(v.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height);var O=this.uniforms,I=O.resolution;I.value.x=m,I.value.y=T,O.time.value=E.game.loop.getDuration();var F=this.pointer;if(F){var B=O.mouse,G=F.x/m,z=1-F.y/T;B.value.x=G.toFixed(2),B.value.y=z.toFixed(2)}this.syncUniforms()},flush:function(){var p=this.width,v=this.height,m=this.program,T=this.gl,E=this.vertexBuffer,P=this.renderer,w=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(P.setFramebuffer(this.framebuffer),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT)),T.bindBuffer(T.ARRAY_BUFFER,E.webGLBuffer);var R=T.getAttribLocation(m.webGLProgram,"inPosition");R!==-1&&(T.enableVertexAttribArray(R),T.vertexAttribPointer(R,2,T.FLOAT,!1,w,0));var L=this.vertexViewF32;L[3]=v,L[4]=p,L[5]=v,L[8]=p,L[9]=v,L[10]=p;var O=6;T.bufferSubData(T.ARRAY_BUFFER,0,this.bytes.subarray(0,O*w)),T.drawArrays(T.TRIANGLES,0,O),this.renderToTexture&&P.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var p=this._deferSetShader.key,v=this._deferSetShader.textures,m=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(p,v,m)}if(this._deferProjOrtho!==null){var T=this._deferProjOrtho.left,E=this._deferProjOrtho.right,P=this._deferProjOrtho.bottom,w=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(T,E,P,w)}},preDestroy:function(){var p=this.renderer;p.off(d.RESTORE_WEBGL,this.onContextRestored,this),p.deleteProgram(this.program),p.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(p.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),a(this.uniforms,function(v){p.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});C.exports=c},80464:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){};C.exports=A},54935:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(20071);y.register("shader",function(o,r){o===void 0&&(o={});var h=f(o,"key",null),u=f(o,"x",0),a=f(o,"y",0),d=f(o,"width",128),c=f(o,"height",128),p=new l(this.scene,h,u,a,d,c);return r!==void 0&&(o.add=r),g(this.scene,p,o),p})},74177:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20071),y=s(39429);y.register("shader",function(f,l,o,r,h,u,a){return this.displayList.add(new g(this.scene,f,l,o,r,h,u,a))})},25479:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(19257),f=s(80464),C.exports={renderWebGL:y,renderCanvas:f}},19257:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=function(f,l,o,r){if(l.shader){if(o.addToRenderList(l),f.pipelines.clear(),l.renderToTexture)l.load(),l.flush();else{var h=g(l,o,r).calc;(f.width!==l._rendererWidth||f.height!==l._rendererHeight)&&l.projOrtho(0,f.width,f.height,0),l.load(h.matrix),l.flush()}f.pipelines.rebind()}};C.exports=y},10441:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70554),y=function(f,l,o,r,h,u){for(var a=g.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*r),d=o.pathData,c=o.pathIndexes,p=0;p<c.length;p+=3){var v=c[p]*2,m=c[p+1]*2,T=c[p+2]*2,E=d[v+0]-h,P=d[v+1]-u,w=d[m+0]-h,R=d[m+1]-u,L=d[T+0]-h,O=d[T+1]-u,I=l.getX(E,P),F=l.getY(E,P),B=l.getX(w,R),G=l.getY(w,R),z=l.getX(L,O),Y=l.getY(L,O);f.batchTri(o,I,F,B,G,z,Y,0,0,1,1,a,a,a,2)}};C.exports=y},65960:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=y||g.fillColor,o=f||g.fillAlpha,r=(l&16711680)>>>16,h=(l&65280)>>>8,u=l&255;s.fillStyle="rgba("+r+","+h+","+u+","+o+")"};C.exports=A},75177:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=y||g.strokeColor,o=f||g.strokeAlpha,r=(l&16711680)>>>16,h=(l&65280)>>>8,u=l&255;s.strokeStyle="rgba("+r+","+h+","+u+","+o+")",s.lineWidth=g.lineWidth};C.exports=A},17803:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(23031),o=new g({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible],initialize:function(h,u,a){u===void 0&&(u="Shape"),f.call(this,h,u),this.geom=a,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new l,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(r,h){return h===void 0&&(h=1),r===void 0?this.isFilled=!1:(this.fillColor=r,this.fillAlpha=h,this.isFilled=!0),this},setStrokeStyle:function(r,h,u){return u===void 0&&(u=1),r===void 0?this.isStroked=!1:(this.lineWidth=r,this.strokeColor=h,this.strokeAlpha=u,this.isStroked=!0),this},setClosePath:function(r){return this.closePath=r,this},setSize:function(r,h){return this.width=r,this.height=h,this},setDisplaySize:function(r,h){return this.displayWidth=r,this.displayHeight=h,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}}});C.exports=o},34682:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70554),y=function(f,l,o,r,h){var u=f.strokeTint,a=g.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*o);u.TL=a,u.TR=a,u.BL=a,u.BR=a;var d=l.pathData,c=d.length-1,p=l.lineWidth,v=p/2,m=d[0]-r,T=d[1]-h;l.closePath||(c-=2);for(var E=2;E<c;E+=2){var P=d[E]-r,w=d[E+1]-h;f.batchLine(m,T,P,w,v,v,p,E-2,l.closePath?E===c-1:!1),m=P,T=w}};C.exports=y},23629:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13609),y=s(83419),f=s(39506),l=s(94811),o=s(96503),r=s(36383),h=s(17803),u=new y({Extends:h,Mixins:[g],initialize:function(d,c,p,v,m,T,E,P,w){c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=128),m===void 0&&(m=0),T===void 0&&(T=360),E===void 0&&(E=!1),h.call(this,d,"Arc",new o(0,0,v)),this._startAngle=m,this._endAngle=T,this._anticlockwise=E,this._iterations=.01,this.setPosition(c,p);var R=this.geom.radius*2;this.setSize(R,R),P!==void 0&&this.setFillStyle(P,w),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(a){this._iterations=a,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(a){this.geom.radius=a;var d=a*2;this.setSize(d,d),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(a){this._startAngle=a,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(a){this._endAngle=a,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(a){this._anticlockwise=a,this.updateData()}},setRadius:function(a){return this.radius=a,this},setIterations:function(a){return a===void 0&&(a=.01),this.iterations=a,this},setStartAngle:function(a,d){return this._startAngle=a,d!==void 0&&(this._anticlockwise=d),this.updateData()},setEndAngle:function(a,d){return this._endAngle=a,d!==void 0&&(this._anticlockwise=d),this.updateData()},updateData:function(){var a=this._iterations,d=a,c=this.geom.radius,p=f(this._startAngle),v=f(this._endAngle),m=this._anticlockwise,T=c,E=c;v-=p,m?v<-r.PI2?v=-r.PI2:v>0&&(v=-r.PI2+v%r.PI2):v>r.PI2?v=r.PI2:v<0&&(v=r.PI2+v%r.PI2);for(var P=[T+Math.cos(p)*c,E+Math.sin(p)*c],w;d<1;)w=v*d+p,P.push(T+Math.cos(w)*c,E+Math.sin(w)*c),d+=a;return w=v+p,P.push(T+Math.cos(w)*c,E+Math.sin(w)*c),P.push(T+Math.cos(p)*c,E+Math.sin(p)*c),this.pathIndexes=l(P),this.pathData=P,this}});C.exports=u},42542:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39506),y=s(65960),f=s(75177),l=s(20926),o=function(r,h,u,a){u.addToRenderList(h);var d=r.currentContext;if(l(r,d,h,u,a)){var c=h.radius;d.beginPath(),d.arc(c-h.originX*(c*2),c-h.originY*(c*2),c,g(h._startAngle),g(h._endAngle),h.anticlockwise),h.closePath&&d.closePath(),h.isFilled&&(y(d,h),d.fill()),h.isStroked&&(f(d,h),d.stroke()),d.restore()}};C.exports=o},42563:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23629),y=s(39429);y.register("arc",function(f,l,o,r,h,u,a,d){return this.displayList.add(new g(this.scene,f,l,o,r,h,u,a,d))}),y.register("circle",function(f,l,o,r,h){return this.displayList.add(new g(this.scene,f,l,o,0,360,!1,r,h))})},13609:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(41447),f=s(42542),C.exports={renderWebGL:y,renderCanvas:f}},41447:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(10441),f=s(34682),l=function(o,r,h,u){h.addToRenderList(r);var a=o.pipelines.set(r.pipeline),d=g(r,h,u),c=a.calcMatrix.copyFrom(d.calc),p=r._displayOriginX,v=r._displayOriginY,m=h.alpha*r.alpha;o.pipelines.preBatch(r),r.isFilled&&y(a,c,r,m,p,v),r.isStroked&&f(a,r,m,p,v),o.pipelines.postBatch(r)};C.exports=l},89:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(33141),f=s(94811),l=s(87841),o=s(17803),r=new g({Extends:o,Mixins:[y],initialize:function(u,a,d,c,p,v){a===void 0&&(a=0),d===void 0&&(d=0),o.call(this,u,"Curve",c),this._smoothness=32,this._curveBounds=new l,this.closePath=!1,this.setPosition(a,d),p!==void 0&&this.setFillStyle(p,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(h){this._smoothness=h,this.updateData()}},setSmoothness:function(h){return this._smoothness=h,this.updateData()},updateData:function(){var h=this._curveBounds,u=this._smoothness;this.geom.getBounds(h,u),this.setSize(h.width,h.height),this.updateDisplayOrigin();for(var a=[],d=this.geom.getPoints(u),c=0;c<d.length;c++)a.push(d[c].x,d[c].y);return a.push(d[0].x,d[0].y),this.pathIndexes=f(a),this.pathData=a,this}});C.exports=r},3170:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(o,r,h,u){h.addToRenderList(r);var a=o.currentContext;if(f(o,a,r,h,u)){var d=r._displayOriginX+r._curveBounds.x,c=r._displayOriginY+r._curveBounds.y,p=r.pathData,v=p.length-1,m=p[0]-d,T=p[1]-c;a.beginPath(),a.moveTo(m,T),r.closePath||(v-=2);for(var E=2;E<v;E+=2){var P=p[E]-d,w=p[E+1]-c;a.lineTo(P,w)}r.closePath&&a.closePath(),r.isFilled&&(g(a,r),a.fill()),r.isStroked&&(y(a,r),a.stroke()),a.restore()}};C.exports=l},40511:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(89);g.register("curve",function(f,l,o,r,h){return this.displayList.add(new y(this.scene,f,l,o,r,h))})},33141:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(53987),f=s(3170),C.exports={renderWebGL:y,renderCanvas:f}},53987:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10441),y=s(91296),f=s(34682),l=function(o,r,h,u){h.addToRenderList(r);var a=o.pipelines.set(r.pipeline),d=y(r,h,u),c=a.calcMatrix.copyFrom(d.calc),p=r._displayOriginX+r._curveBounds.x,v=r._displayOriginY+r._curveBounds.y,m=h.alpha*r.alpha;o.pipelines.preBatch(r),r.isFilled&&g(a,c,r,m,p,v),r.isStroked&&f(a,r,m,p,v),o.pipelines.postBatch(r)};C.exports=l},19921:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(94811),f=s(54205),l=s(8497),o=s(17803),r=new g({Extends:o,Mixins:[f],initialize:function(u,a,d,c,p,v,m){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=128),p===void 0&&(p=128),o.call(this,u,"Ellipse",new l(c/2,p/2,c,p)),this._smoothness=64,this.setPosition(a,d),this.width=c,this.height=p,v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(h){this._smoothness=h,this.updateData()}},setSize:function(h,u){return this.width=h,this.height=u,this.geom.setPosition(h/2,u/2),this.geom.setSize(h,u),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(h){return this._smoothness=h,this.updateData()},updateData:function(){for(var h=[],u=this.geom.getPoints(this._smoothness),a=0;a<u.length;a++)h.push(u[a].x,u[a].y);return h.push(u[0].x,u[0].y),this.pathIndexes=y(h),this.pathData=h,this}});C.exports=r},7930:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(o,r,h,u){h.addToRenderList(r);var a=o.currentContext;if(f(o,a,r,h,u)){var d=r._displayOriginX,c=r._displayOriginY,p=r.pathData,v=p.length-1,m=p[0]-d,T=p[1]-c;a.beginPath(),a.moveTo(m,T),r.closePath||(v-=2);for(var E=2;E<v;E+=2){var P=p[E]-d,w=p[E+1]-c;a.lineTo(P,w)}a.closePath(),r.isFilled&&(g(a,r),a.fill()),r.isStroked&&(y(a,r),a.stroke()),a.restore()}};C.exports=l},1543:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19921),y=s(39429);y.register("ellipse",function(f,l,o,r,h,u){return this.displayList.add(new g(this.scene,f,l,o,r,h,u))})},54205:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(19467),f=s(7930),C.exports={renderWebGL:y,renderCanvas:f}},19467:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10441),y=s(91296),f=s(34682),l=function(o,r,h,u){h.addToRenderList(r);var a=o.pipelines.set(r.pipeline),d=y(r,h,u),c=a.calcMatrix.copyFrom(d.calc),p=r._displayOriginX,v=r._displayOriginY,m=h.alpha*r.alpha;o.pipelines.preBatch(r),r.isFilled&&g(a,c,r,m,p,v),r.isStroked&&f(a,r,m,p,v),o.pipelines.postBatch(r)};C.exports=l},30479:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(17803),f=s(26015),l=new g({Extends:y,Mixins:[f],initialize:function(r,h,u,a,d,c,p,v,m,T,E){h===void 0&&(h=0),u===void 0&&(u=0),a===void 0&&(a=128),d===void 0&&(d=128),c===void 0&&(c=32),p===void 0&&(p=32),y.call(this,r,"Grid",null),this.cellWidth=c,this.cellHeight=p,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(h,u),this.setSize(a,d),this.setFillStyle(v,m),T!==void 0&&this.setOutlineStyle(T,E),this.updateDisplayOrigin()},setFillStyle:function(o,r){return r===void 0&&(r=1),o===void 0?this.showCells=!1:(this.fillColor=o,this.fillAlpha=r,this.showCells=!0),this},setAltFillStyle:function(o,r){return r===void 0&&(r=1),o===void 0?this.showAltCells=!1:(this.altFillColor=o,this.altFillAlpha=r,this.showAltCells=!0),this},setOutlineStyle:function(o,r){return r===void 0&&(r=1),o===void 0?this.showOutline=!1:(this.outlineFillColor=o,this.outlineFillAlpha=r,this.showOutline=!0),this}});C.exports=l},49912:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(o,r,h,u){h.addToRenderList(r);var a=o.currentContext;if(f(o,a,r,h,u)){var d=-r._displayOriginX,c=-r._displayOriginY,p=h.alpha*r.alpha,v=r.width,m=r.height,T=r.cellWidth,E=r.cellHeight,P=Math.ceil(v/T),w=Math.ceil(m/E),R=T,L=E,O=T-(P*T-v),I=E-(w*E-m),F=r.showCells,B=r.showAltCells,G=r.showOutline,z=0,Y=0,J=0,$=0,j=0;if(G&&(R--,L--,O===T&&O--,I===E&&I--),F&&r.fillAlpha>0)for(g(a,r),Y=0;Y<w;Y++)for(B&&(J=Y%2),z=0;z<P;z++){if(B&&J){J=0;continue}J++,$=z<P-1?R:O,j=Y<w-1?L:I,a.fillRect(d+z*T,c+Y*E,$,j)}if(B&&r.altFillAlpha>0)for(g(a,r,r.altFillColor,r.altFillAlpha*p),Y=0;Y<w;Y++)for(B&&(J=Y%2),z=0;z<P;z++){if(B&&!J){J=1;continue}J=0,$=z<P-1?R:O,j=Y<w-1?L:I,a.fillRect(d+z*T,c+Y*E,$,j)}if(G&&r.outlineFillAlpha>0){for(y(a,r,r.outlineFillColor,r.outlineFillAlpha*p),z=1;z<P;z++){var X=z*T;a.beginPath(),a.moveTo(X+d,c),a.lineTo(X+d,m+c),a.stroke()}for(Y=1;Y<w;Y++){var H=Y*E;a.beginPath(),a.moveTo(d,H+c),a.lineTo(d+v,H+c),a.stroke()}}a.restore()}};C.exports=l},34137:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(30479);g.register("grid",function(f,l,o,r,h,u,a,d,c,p){return this.displayList.add(new y(this.scene,f,l,o,r,h,u,a,d,c,p))})},26015:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(46161),f=s(49912),C.exports={renderWebGL:y,renderCanvas:f}},46161:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,o,r,h){r.addToRenderList(o);var u=l.pipelines.set(o.pipeline),a=g(o,r,h),d=u.calcMatrix.copyFrom(a.calc);d.translate(-o._displayOriginX,-o._displayOriginY);var c=r.alpha*o.alpha,p=o.width,v=o.height,m=o.cellWidth,T=o.cellHeight,E=Math.ceil(p/m),P=Math.ceil(v/T),w=m,R=T,L=m-(E*m-p),O=T-(P*T-v),I,F,B=o.showCells,G=o.showAltCells,z=o.showOutline,Y=0,J=0,$=0,j=0,X=0;if(z&&(w--,R--,L===m&&L--,O===T&&O--),l.pipelines.preBatch(o),B&&o.fillAlpha>0)for(I=u.fillTint,F=y.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*c),I.TL=F,I.TR=F,I.BL=F,I.BR=F,J=0;J<P;J++)for(G&&($=J%2),Y=0;Y<E;Y++){if(G&&$){$=0;continue}$++,j=Y<E-1?w:L,X=J<P-1?R:O,u.batchFillRect(Y*m,J*T,j,X)}if(G&&o.altFillAlpha>0)for(I=u.fillTint,F=y.getTintAppendFloatAlpha(o.altFillColor,o.altFillAlpha*c),I.TL=F,I.TR=F,I.BL=F,I.BR=F,J=0;J<P;J++)for(G&&($=J%2),Y=0;Y<E;Y++){if(G&&!$){$=1;continue}$=0,j=Y<E-1?w:L,X=J<P-1?R:O,u.batchFillRect(Y*m,J*T,j,X)}if(z&&o.outlineFillAlpha>0){var H=u.strokeTint,N=y.getTintAppendFloatAlpha(o.outlineFillColor,o.outlineFillAlpha*c);for(H.TL=N,H.TR=N,H.BL=N,H.BR=N,Y=1;Y<E;Y++){var Q=Y*m;u.batchLine(Q,0,Q,v,o.lineWidth,o.lineWidth,1,0,!1)}for(J=1;J<P;J++){var U=J*T;u.batchLine(0,U,p,U,o.lineWidth,o.lineWidth,1,0,!1)}}l.pipelines.postBatch(o)};C.exports=f},61475:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(99651),y=s(83419),f=s(17803),l=new y({Extends:f,Mixins:[g],initialize:function(r,h,u,a,d,c,p,v){h===void 0&&(h=0),u===void 0&&(u=0),a===void 0&&(a=48),d===void 0&&(d=32),c===void 0&&(c=15658734),p===void 0&&(p=10066329),v===void 0&&(v=13421772),f.call(this,r,"IsoBox",null),this.projection=4,this.fillTop=c,this.fillLeft=p,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(h,u),this.setSize(a,d),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setFaces:function(o,r,h){return o===void 0&&(o=!0),r===void 0&&(r=!0),h===void 0&&(h=!0),this.showTop=o,this.showLeft=r,this.showRight=h,this},setFillStyle:function(o,r,h){return this.fillTop=o,this.fillLeft=r,this.fillRight=h,this.isFilled=!0,this}});C.exports=l},11508:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(20926),f=function(l,o,r,h){r.addToRenderList(o);var u=l.currentContext;if(y(l,u,o,r,h)&&o.isFilled){var a=o.width,d=o.height,c=a/2,p=a/o.projection;o.showTop&&(g(u,o,o.fillTop),u.beginPath(),u.moveTo(-c,-d),u.lineTo(0,-p-d),u.lineTo(c,-d),u.lineTo(c,-1),u.lineTo(0,p-1),u.lineTo(-c,-1),u.lineTo(-c,-d),u.fill()),o.showLeft&&(g(u,o,o.fillLeft),u.beginPath(),u.moveTo(-c,0),u.lineTo(0,p),u.lineTo(0,p-d),u.lineTo(-c,-d),u.lineTo(-c,0),u.fill()),o.showRight&&(g(u,o,o.fillRight),u.beginPath(),u.moveTo(c,0),u.lineTo(0,p),u.lineTo(0,p-d),u.lineTo(c,-d),u.lineTo(c,0),u.fill()),u.restore()}};C.exports=f},3933:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(61475);g.register("isobox",function(f,l,o,r,h,u,a){return this.displayList.add(new y(this.scene,f,l,o,r,h,u,a))})},99651:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(68149),f=s(11508),C.exports={renderWebGL:y,renderCanvas:f}},68149:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,o,r,h){r.addToRenderList(o);var u=l.pipelines.set(o.pipeline),a=g(o,r,h),d=u.calcMatrix.copyFrom(a.calc),c=o.width,p=o.height,v=c/2,m=c/o.projection,T=r.alpha*o.alpha;if(o.isFilled){var E,P,w,R,L,O,I,F,B;l.pipelines.preBatch(o),o.showTop&&(E=y.getTintAppendFloatAlpha(o.fillTop,T),P=d.getX(-v,-p),w=d.getY(-v,-p),R=d.getX(0,-m-p),L=d.getY(0,-m-p),O=d.getX(v,-p),I=d.getY(v,-p),F=d.getX(0,m-p),B=d.getY(0,m-p),u.batchQuad(o,P,w,R,L,O,I,F,B,0,0,1,1,E,E,E,E,2)),o.showLeft&&(E=y.getTintAppendFloatAlpha(o.fillLeft,T),P=d.getX(-v,0),w=d.getY(-v,0),R=d.getX(0,m),L=d.getY(0,m),O=d.getX(0,m-p),I=d.getY(0,m-p),F=d.getX(-v,-p),B=d.getY(-v,-p),u.batchQuad(o,P,w,R,L,O,I,F,B,0,0,1,1,E,E,E,E,2)),o.showRight&&(E=y.getTintAppendFloatAlpha(o.fillRight,T),P=d.getX(v,0),w=d.getY(v,0),R=d.getX(0,m),L=d.getY(0,m),O=d.getX(0,m-p),I=d.getY(0,m-p),F=d.getX(v,-p),B=d.getY(v,-p),u.batchQuad(o,P,w,R,L,O,I,F,B,0,0,1,1,E,E,E,E,2)),l.pipelines.postBatch(o)}};C.exports=f},16933:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(60561),f=s(17803),l=new g({Extends:f,Mixins:[y],initialize:function(r,h,u,a,d,c,p,v,m){h===void 0&&(h=0),u===void 0&&(u=0),a===void 0&&(a=48),d===void 0&&(d=32),c===void 0&&(c=!1),p===void 0&&(p=15658734),v===void 0&&(v=10066329),m===void 0&&(m=13421772),f.call(this,r,"IsoTriangle",null),this.projection=4,this.fillTop=p,this.fillLeft=v,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=c,this.isFilled=!0,this.setPosition(h,u),this.setSize(a,d),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setReversed:function(o){return this.isReversed=o,this},setFaces:function(o,r,h){return o===void 0&&(o=!0),r===void 0&&(r=!0),h===void 0&&(h=!0),this.showTop=o,this.showLeft=r,this.showRight=h,this},setFillStyle:function(o,r,h){return this.fillTop=o,this.fillLeft=r,this.fillRight=h,this.isFilled=!0,this}});C.exports=l},79590:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(20926),f=function(l,o,r,h){r.addToRenderList(o);var u=l.currentContext;if(y(l,u,o,r,h)&&o.isFilled){var a=o.width,d=o.height,c=a/2,p=a/o.projection,v=o.isReversed;o.showTop&&v&&(g(u,o,o.fillTop),u.beginPath(),u.moveTo(-c,-d),u.lineTo(0,-p-d),u.lineTo(c,-d),u.lineTo(0,p-d),u.fill()),o.showLeft&&(g(u,o,o.fillLeft),u.beginPath(),v?(u.moveTo(-c,-d),u.lineTo(0,p),u.lineTo(0,p-d)):(u.moveTo(-c,0),u.lineTo(0,p),u.lineTo(0,p-d)),u.fill()),o.showRight&&(g(u,o,o.fillRight),u.beginPath(),v?(u.moveTo(c,-d),u.lineTo(0,p),u.lineTo(0,p-d)):(u.moveTo(c,0),u.lineTo(0,p),u.lineTo(0,p-d)),u.fill()),u.restore()}};C.exports=f},49803:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(16933);g.register("isotriangle",function(f,l,o,r,h,u,a,d){return this.displayList.add(new y(this.scene,f,l,o,r,h,u,a,d))})},60561:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(51503),f=s(79590),C.exports={renderWebGL:y,renderCanvas:f}},51503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,o,r,h){r.addToRenderList(o);var u=l.pipelines.set(o.pipeline),a=g(o,r,h),d=u.calcMatrix.copyFrom(a.calc),c=o.width,p=o.height,v=c/2,m=c/o.projection,T=o.isReversed,E=r.alpha*o.alpha;if(o.isFilled){l.pipelines.preBatch(o);var P,w,R,L,O,I,F;if(o.showTop&&T){P=y.getTintAppendFloatAlpha(o.fillTop,E),w=d.getX(-v,-p),R=d.getY(-v,-p),L=d.getX(0,-m-p),O=d.getY(0,-m-p),I=d.getX(v,-p),F=d.getY(v,-p);var B=d.getX(0,m-p),G=d.getY(0,m-p);u.batchQuad(o,w,R,L,O,I,F,B,G,0,0,1,1,P,P,P,P,2)}o.showLeft&&(P=y.getTintAppendFloatAlpha(o.fillLeft,E),T?(w=d.getX(-v,-p),R=d.getY(-v,-p),L=d.getX(0,m),O=d.getY(0,m),I=d.getX(0,m-p),F=d.getY(0,m-p)):(w=d.getX(-v,0),R=d.getY(-v,0),L=d.getX(0,m),O=d.getY(0,m),I=d.getX(0,m-p),F=d.getY(0,m-p)),u.batchTri(o,w,R,L,O,I,F,0,0,1,1,P,P,P,2)),o.showRight&&(P=y.getTintAppendFloatAlpha(o.fillRight,E),T?(w=d.getX(v,-p),R=d.getY(v,-p),L=d.getX(0,m),O=d.getY(0,m),I=d.getX(0,m-p),F=d.getY(0,m-p)):(w=d.getX(v,0),R=d.getY(v,0),L=d.getX(0,m),O=d.getY(0,m),I=d.getX(0,m-p),F=d.getY(0,m-p)),u.batchTri(o,w,R,L,O,I,F,0,0,1,1,P,P,P,2)),l.pipelines.postBatch(o)}};C.exports=f},57847:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(17803),f=s(23031),l=s(36823),o=new g({Extends:y,Mixins:[l],initialize:function(h,u,a,d,c,p,v,m,T){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=128),v===void 0&&(v=0),y.call(this,h,"Line",new f(d,c,p,v));var E=Math.max(1,this.geom.right-this.geom.left),P=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(u,a),this.setSize(E,P),m!==void 0&&this.setStrokeStyle(1,m,T),this.updateDisplayOrigin()},setLineWidth:function(r,h){return h===void 0&&(h=r),this._startWidth=r,this._endWidth=h,this.lineWidth=r,this},setTo:function(r,h,u,a){return this.geom.setTo(r,h,u,a),this}});C.exports=o},17440:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(75177),y=s(20926),f=function(l,o,r,h){r.addToRenderList(o);var u=l.currentContext;if(y(l,u,o,r,h)){var a=o._displayOriginX,d=o._displayOriginY;o.isStroked&&(g(u,o),u.beginPath(),u.moveTo(o.geom.x1-a,o.geom.y1-d),u.lineTo(o.geom.x2-a,o.geom.y2-d),u.stroke()),u.restore()}};C.exports=f},2481:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(57847);g.register("line",function(f,l,o,r,h,u,a,d){return this.displayList.add(new y(this.scene,f,l,o,r,h,u,a,d))})},36823:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(77385),f=s(17440),C.exports={renderWebGL:y,renderCanvas:f}},77385:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,o,r,h){r.addToRenderList(o);var u=l.pipelines.set(o.pipeline),a=g(o,r,h);u.calcMatrix.copyFrom(a.calc);var d=o._displayOriginX,c=o._displayOriginY,p=r.alpha*o.alpha;if(l.pipelines.preBatch(o),o.isStroked){var v=u.strokeTint,m=y.getTintAppendFloatAlpha(o.strokeColor,o.strokeAlpha*p);v.TL=m,v.TR=m,v.BL=m,v.BR=m,u.batchLine(o.geom.x1-d,o.geom.y1-c,o.geom.x2-d,o.geom.y2-c,o._startWidth/2,o._endWidth/2,1,0,!1,a.sprite,a.camera)}l.pipelines.postBatch(o)};C.exports=f},24949:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(90273),y=s(83419),f=s(94811),l=s(13829),o=s(25717),r=s(17803),h=s(5469),u=new y({Extends:r,Mixins:[g],initialize:function(d,c,p,v,m,T){c===void 0&&(c=0),p===void 0&&(p=0),r.call(this,d,"Polygon",new o(v));var E=l(this.geom);this.setPosition(c,p),this.setSize(E.width,E.height),m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},smooth:function(a){a===void 0&&(a=1);for(var d=0;d<a;d++)h(this.geom);return this.updateData()},setTo:function(a){this.geom.setTo(a);var d=l(this.geom);return this.setSize(d.width,d.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var a=[],d=this.geom.points,c=0;c<d.length;c++)a.push(d[c].x,d[c].y);return a.push(d[0].x,d[0].y),this.pathIndexes=f(a),this.pathData=a,this}});C.exports=u},38710:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(o,r,h,u){h.addToRenderList(r);var a=o.currentContext;if(f(o,a,r,h,u)){var d=r._displayOriginX,c=r._displayOriginY,p=r.pathData,v=p.length-1,m=p[0]-d,T=p[1]-c;a.beginPath(),a.moveTo(m,T),r.closePath||(v-=2);for(var E=2;E<v;E+=2){var P=p[E]-d,w=p[E+1]-c;a.lineTo(P,w)}r.closePath&&a.closePath(),r.isFilled&&(g(a,r),a.fill()),r.isStroked&&(y(a,r),a.stroke()),a.restore()}};C.exports=l},64827:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(24949);g.register("polygon",function(f,l,o,r,h){return this.displayList.add(new y(this.scene,f,l,o,r,h))})},90273:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(73695),f=s(38710),C.exports={renderWebGL:y,renderCanvas:f}},73695:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10441),y=s(91296),f=s(34682),l=function(o,r,h,u){h.addToRenderList(r);var a=o.pipelines.set(r.pipeline),d=y(r,h,u),c=a.calcMatrix.copyFrom(d.calc),p=r._displayOriginX,v=r._displayOriginY,m=h.alpha*r.alpha;o.pipelines.preBatch(r),r.isFilled&&g(a,c,r,m,p,v),r.isStroked&&f(a,r,m,p,v),o.pipelines.postBatch(r)};C.exports=l},74561:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(94811),f=s(87841),l=s(17803),o=s(95597),r=new g({Extends:l,Mixins:[o],initialize:function(u,a,d,c,p,v,m){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=128),p===void 0&&(p=128),l.call(this,u,"Rectangle",new f(0,0,c,p)),this.radius=20,this.isRounded=!1,this.setPosition(a,d),this.setSize(c,p),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},setRounded:function(h){return h===void 0&&(h=16),this.radius=h,this.isRounded=h>0,this.updateRoundedData()},setSize:function(h,u){this.width=h,this.height=u,this.geom.setSize(h,u),this.updateData(),this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=h,a.hitArea.height=u),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var h=[],u=this.geom,a=this._tempLine;return u.getLineA(a),h.push(a.x1,a.y1,a.x2,a.y2),u.getLineB(a),h.push(a.x2,a.y2),u.getLineC(a),h.push(a.x2,a.y2),u.getLineD(a),h.push(a.x2,a.y2),this.pathData=h,this},updateRoundedData:function(){var h=[],u=this.width/2,a=this.height/2,d=Math.min(u,a),c=Math.min(this.radius,d),p=u,v=a,m=Math.max(1,Math.floor(c/5));return this.arcTo(h,p-u+c,v-a+c,c,Math.PI,Math.PI*1.5,m),h.push(p+u-c,v-a),this.arcTo(h,p+u-c,v-a+c,c,Math.PI*1.5,Math.PI*2,m),h.push(p+u,v+a-c),this.arcTo(h,p+u-c,v+a-c,c,0,Math.PI*.5,m),h.push(p-u+c,v+a),this.arcTo(h,p-u+c,v+a-c,c,Math.PI*.5,Math.PI,m),h.push(p-u,v-a+c),this.pathIndexes=y(h),this.pathData=h,this},arcTo:function(h,u,a,d,c,p,v){for(var m=(p-c)/v,T=0;T<=v;T++){var E=c+m*T;h.push(u+Math.cos(E)*d,a+Math.sin(E)*d)}}});C.exports=r},48682:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(r,h,u,a,d,c){var p=Math.min(a/2,d/2),v=Math.min(c,p);if(v===0){r.rect(h,u,a,d);return}r.moveTo(h+v,u),r.lineTo(h+a-v,u),r.arcTo(h+a,u,h+a,u+v,v),r.lineTo(h+a,u+d-v),r.arcTo(h+a,u+d,h+a-v,u+d,v),r.lineTo(h+v,u+d),r.arcTo(h,u+d,h,u+d-v,v),r.lineTo(h,u+v),r.arcTo(h,u,h+v,u,v),r.closePath()},o=function(r,h,u,a){u.addToRenderList(h);var d=r.currentContext;if(f(r,d,h,u,a)){var c=h._displayOriginX,p=h._displayOriginY;h.isFilled&&(g(d,h),h.isRounded?(d.beginPath(),l(d,-c,-p,h.width,h.height,h.radius),d.fill()):d.fillRect(-c,-p,h.width,h.height)),h.isStroked&&(y(d,h),d.beginPath(),h.isRounded?l(d,-c,-p,h.width,h.height,h.radius):d.rect(-c,-p,h.width,h.height),d.stroke()),d.restore()}};C.exports=o},87959:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(74561);g.register("rectangle",function(f,l,o,r,h,u){return this.displayList.add(new y(this.scene,f,l,o,r,h,u))})},95597:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(52059),f=s(48682),C.exports={renderWebGL:y,renderCanvas:f}},52059:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10441),y=s(91296),f=s(34682),l=s(70554),o=function(r,h,u,a){u.addToRenderList(h);var d=r.pipelines.set(h.pipeline),c=y(h,u,a);d.calcMatrix.copyFrom(c.calc);var p=h._displayOriginX,v=h._displayOriginY,m=u.alpha*h.alpha;if(r.pipelines.preBatch(h),h.isRounded&&h.isFilled)g(d,c.calc,h,m,p,v);else if(h.isFilled){var T=d.fillTint,E=l.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*m);T.TL=E,T.TR=E,T.BL=E,T.BR=E,d.batchFillRect(-p,-v,h.width,h.height)}h.isStroked&&f(d,h,m,p,v),r.pipelines.postBatch(h)};C.exports=o},55911:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(81991),y=s(83419),f=s(94811),l=s(17803),o=new y({Extends:l,Mixins:[g],initialize:function(h,u,a,d,c,p,v,m){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=5),c===void 0&&(c=32),p===void 0&&(p=64),l.call(this,h,"Star",null),this._points=d,this._innerRadius=c,this._outerRadius=p,this.setPosition(u,a),this.setSize(p*2,p*2),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(r){return this._points=r,this.updateData()},setInnerRadius:function(r){return this._innerRadius=r,this.updateData()},setOuterRadius:function(r){return this._outerRadius=r,this.updateData()},points:{get:function(){return this._points},set:function(r){this._points=r,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(r){this._innerRadius=r,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(r){this._outerRadius=r,this.updateData()}},updateData:function(){var r=[],h=this._points,u=this._innerRadius,a=this._outerRadius,d=Math.PI/2*3,c=Math.PI/h,p=a,v=a;r.push(p,v+-a);for(var m=0;m<h;m++)r.push(p+Math.cos(d)*a,v+Math.sin(d)*a),d+=c,r.push(p+Math.cos(d)*u,v+Math.sin(d)*u),d+=c;return r.push(p,v+-a),this.pathIndexes=f(r),this.pathData=r,this}});C.exports=o},64272:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(o,r,h,u){h.addToRenderList(r);var a=o.currentContext;if(f(o,a,r,h,u)){var d=r._displayOriginX,c=r._displayOriginY,p=r.pathData,v=p.length-1,m=p[0]-d,T=p[1]-c;a.beginPath(),a.moveTo(m,T),r.closePath||(v-=2);for(var E=2;E<v;E+=2){var P=p[E]-d,w=p[E+1]-c;a.lineTo(P,w)}a.closePath(),r.isFilled&&(g(a,r),a.fill()),r.isStroked&&(y(a,r),a.stroke()),a.restore()}};C.exports=l},93697:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(55911),y=s(39429);y.register("star",function(f,l,o,r,h,u,a){return this.displayList.add(new g(this.scene,f,l,o,r,h,u,a))})},81991:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(57017),f=s(64272),C.exports={renderWebGL:y,renderCanvas:f}},57017:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10441),y=s(91296),f=s(34682),l=function(o,r,h,u){h.addToRenderList(r);var a=o.pipelines.set(r.pipeline),d=y(r,h,u),c=a.calcMatrix.copyFrom(d.calc),p=r._displayOriginX,v=r._displayOriginY,m=h.alpha*r.alpha;o.pipelines.preBatch(r),r.isFilled&&g(a,c,r,m,p,v),r.isStroked&&f(a,r,m,p,v),o.pipelines.postBatch(r)};C.exports=l},36931:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(17803),f=s(16483),l=s(96195),o=new g({Extends:y,Mixins:[l],initialize:function(h,u,a,d,c,p,v,m,T,E,P){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=128),p===void 0&&(p=64),v===void 0&&(v=0),m===void 0&&(m=128),T===void 0&&(T=128),y.call(this,h,"Triangle",new f(d,c,p,v,m,T));var w=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(u,a),this.setSize(w,R),E!==void 0&&this.setFillStyle(E,P),this.updateDisplayOrigin(),this.updateData()},setTo:function(r,h,u,a,d,c){return this.geom.setTo(r,h,u,a,d,c),this.updateData()},updateData:function(){var r=[],h=this.geom,u=this._tempLine;return h.getLineA(u),r.push(u.x1,u.y1,u.x2,u.y2),h.getLineB(u),r.push(u.x2,u.y2),h.getLineC(u),r.push(u.x2,u.y2),this.pathData=r,this}});C.exports=o},85172:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(o,r,h,u){h.addToRenderList(r);var a=o.currentContext;if(f(o,a,r,h,u)){var d=r._displayOriginX,c=r._displayOriginY,p=r.geom.x1-d,v=r.geom.y1-c,m=r.geom.x2-d,T=r.geom.y2-c,E=r.geom.x3-d,P=r.geom.y3-c;a.beginPath(),a.moveTo(p,v),a.lineTo(m,T),a.lineTo(E,P),a.closePath(),r.isFilled&&(g(a,r),a.fill()),r.isStroked&&(y(a,r),a.stroke()),a.restore()}};C.exports=l},45245:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(36931);g.register("triangle",function(f,l,o,r,h,u,a,d,c,p){return this.displayList.add(new y(this.scene,f,l,o,r,h,u,a,d,c,p))})},96195:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(83253),f=s(85172),C.exports={renderWebGL:y,renderCanvas:f}},83253:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(34682),f=s(70554),l=function(o,r,h,u){h.addToRenderList(r);var a=o.pipelines.set(r.pipeline),d=g(r,h,u);a.calcMatrix.copyFrom(d.calc);var c=r._displayOriginX,p=r._displayOriginY,v=h.alpha*r.alpha;if(o.pipelines.preBatch(r),r.isFilled){var m=a.fillTint,T=f.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*v);m.TL=T,m.TR=T,m.BL=T,m.BR=T;var E=r.geom.x1-c,P=r.geom.y1-p,w=r.geom.x2-c,R=r.geom.y2-p,L=r.geom.x3-c,O=r.geom.y3-p;a.batchFillTriangle(E,P,w,R,L,O,d.sprite,d.camera)}r.isStroked&&y(a,r,v,c,p),o.pipelines.postBatch(r)};C.exports=l},68287:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(9674),y=s(83419),f=s(31401),l=s(95643),o=s(92751),r=new y({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,o],initialize:function(u,a,d,c,p){l.call(this,u,"Sprite"),this._crop=this.resetCropObject(),this.anims=new g(this),this.setTexture(c,p),this.setPosition(a,d),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(h,u){this.anims.update(h,u)},play:function(h,u){return this.anims.play(h,u)},playReverse:function(h,u){return this.anims.playReverse(h,u)},playAfterDelay:function(h,u){return this.anims.playAfterDelay(h,u)},playAfterRepeat:function(h,u){return this.anims.playAfterRepeat(h,u)},chain:function(h){return this.anims.chain(h)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});C.exports=r},76552:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g),s.batchSprite(g,g.frame,y,f)};C.exports=A},15567:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(13059),f=s(44603),l=s(23568),o=s(68287);f.register("sprite",function(r,h){r===void 0&&(r={});var u=l(r,"key",null),a=l(r,"frame",null),d=new o(this.scene,0,0,u,a);return h!==void 0&&(r.add=h),g(this.scene,d,r),y(d,r),d})},46409:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(68287);g.register("sprite",function(f,l,o,r){return this.displayList.add(new y(this.scene,f,l,o,r))})},92751:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(9409),f=s(76552),C.exports={renderWebGL:y,renderCanvas:f}},9409:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g),g.pipeline.batchSprite(g,y,f)};C.exports=A},14220:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=s.canvas,l=s.context,o=s.style,r=[],h=0,u=y.length;o.maxLines>0&&o.maxLines<y.length&&(u=o.maxLines),o.syncFont(f,l);for(var a=s.letterSpacing,d=0;d<u;d++){var c=o.strokeThickness;if(a===0)c+=l.measureText(y[d]).width;else{for(var p=y[d],v=0;v<p.length;v++)c+=l.measureText(p[v]).width;p.length>1&&(c+=a*(p.length-1))}o.wordWrap&&(c-=l.measureText(" ").width),r[d]=Math.ceil(c),h=Math.max(h,r[d])}var m=g.fontSize+o.strokeThickness,T=m*u,E=s.lineSpacing;return u>1&&(T+=E*(u-1)),{width:h,height:T,lines:u,lineWidths:r,lineSpacing:E,lineHeight:m}};C.exports=A},79557:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=function(f){var l=g.create(this),o=l.getContext("2d",{willReadFrequently:!0});f.syncFont(l,o);var r=o.measureText(f.testString);if("actualBoundingBoxAscent"in r){var h=r.actualBoundingBoxAscent,u=r.actualBoundingBoxDescent;return g.remove(l),{ascent:h,descent:u,fontSize:h+u}}var a=Math.ceil(r.width*f.baselineX),d=a,c=2*d;d=d*f.baselineY|0,l.width=a,l.height=c,o.fillStyle="#f00",o.fillRect(0,0,a,c),o.font=f._font,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(f.testString,0,d);var p={ascent:0,descent:0,fontSize:0},v=o.getImageData(0,0,a,c);if(!v)return p.ascent=d,p.descent=d+6,p.fontSize=p.ascent+p.descent,g.remove(l),p;var m=v.data,T=m.length,E=a*4,P,w,R=0,L=!1;for(P=0;P<d;P++){for(w=0;w<E;w+=4)if(m[R+w]!==255){L=!0;break}if(!L)R+=E;else break}for(p.ascent=d-P,R=T-E,L=!1,P=c;P>d;P--){for(w=0;w<E;w+=4)if(m[R+w]!==255){L=!0;break}if(!L)R-=E;else break}return p.descent=P-d,p.fontSize=p.ascent+p.descent,g.remove(l),p};C.exports=y},50171:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40366),y=s(27919),f=s(83419),l=s(31401),o=s(95643),r=s(14220),h=s(35154),u=s(35846),a=s(61771),d=s(35762),c=s(45650),p=new f({Extends:o,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,a],initialize:function(m,T,E,P,w){T===void 0&&(T=0),E===void 0&&(E=0),o.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(T,E),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=y.create(this),this.context,this.style=new d(this,w),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(P),w&&w.padding&&this.setPadding(w.padding),w&&w.lineSpacing&&this.setLineSpacing(w.lineSpacing),w&&w.letterSpacing&&this.setLetterSpacing(w.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",g(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(v){var m=this.style;if(m.wordWrapCallback){var T=m.wordWrapCallback.call(m.wordWrapCallbackScope,v,this);return Array.isArray(T)&&(T=T.join(`
`)),T}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,m,T){for(var E="",P=v.replace(/ +/gi," ").split(this.splitRegExp),w=P.length,R=0;R<w;R++){var L=P[R],O="";L=L.replace(/^ *|\s*$/gi,"");var I=L.length*this.letterSpacing,F=m.measureText(L).width+I;if(F<T){E+=L+`
`;continue}for(var B=T,G=L.split(" "),z=0;z<G.length;z++){var Y=G[z],J=Y+" ",$=J.length*this.letterSpacing,j=m.measureText(J).width+$;if(j>B){if(z===0){for(var X=J;X.length;){X=X.slice(0,-1);var H=X.length*this.letterSpacing;if(j=m.measureText(X).width+H,j<=B)break}if(!X.length)throw new Error("wordWrapWidth < a single character");var N=Y.substr(X.length);G[z]=N,O+=X}var Q=G[z].length?z:z+1,U=G.slice(Q).join(" ").replace(/[ \n]*$/gi,"");P.splice(R+1,0,U),w=P.length;break}else O+=J,B-=j}E+=O.replace(/[ \n]*$/gi,"")+`
`}return E=E.replace(/[\s|\n]*$/gi,""),E},basicWordWrap:function(v,m,T){for(var E="",P=v.split(this.splitRegExp),w=P.length-1,R=m.measureText(" ").width,L=0;L<=w;L++){for(var O=T,I=P[L].split(" "),F=I.length-1,B=0;B<=F;B++){var G=I[B],z=G.length*this.letterSpacing,Y=m.measureText(G).width+z,J=Y;B<F&&(J+=R),J>O&&B>0&&(E+=`
`,O=T),E+=G,B<F?(E+=" ",O-=J):O-=Y}L<w&&(E+=`
`)}return E},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(v);return m.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,m){m===void 0&&(m=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var T=this._text.concat(m?`
`+v:v);return T!==this._text&&(this._text=T,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,m){return this.style.setFixedSize(v,m)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,m){return this.style.setStroke(v,m)},setShadow:function(v,m,T,E,P,w){return this.style.setShadow(v,m,T,E,P,w)},setShadowOffset:function(v,m){return this.style.setShadowOffset(v,m)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,m){return this.style.setWordWrapWidth(v,m)},setWordWrapCallback:function(v,m){return this.style.setWordWrapCallback(v,m)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,m,T,E){if(typeof v=="object"){var P=v,w=h(P,"x",null);w!==null?(v=w,T=w):(v=h(P,"left",0),T=h(P,"right",v));var R=h(P,"y",null);R!==null?(m=R,E=R):(m=h(P,"top",0),E=h(P,"bottom",m))}else v===void 0&&(v=0),m===void 0&&(m=v),T===void 0&&(T=v),E===void 0&&(E=m);return this.padding.left=v,this.padding.top=m,this.padding.right=T,this.padding.bottom=E,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){v===void 0&&(v=!0);var m=this.style;return m.rtl===v?this:(m.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",g(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var v=this.canvas,m=this.context,T=this.style,E=T.resolution,P=T.metrics;T.syncFont(v,m);var w=this._text;(T.wordWrapWidth||T.wordWrapCallback)&&(w=this.runWordWrap(this._text));var R=w.split(this.splitRegExp),L=r(this,P,R),O=this.padding,I;T.fixedWidth===0?(this.width=L.width+O.left+O.right,I=L.width):(this.width=T.fixedWidth,I=this.width-O.left-O.right,I<L.width&&(I=L.width)),T.fixedHeight===0?this.height=L.height+O.top+O.bottom:this.height=T.fixedHeight;var F=this.width,B=this.height;this.updateDisplayOrigin(),F*=E,B*=E,F=Math.max(F,1),B=Math.max(B,1),v.width!==F||v.height!==B?(v.width=F,v.height=B,this.frame.setSize(F,B),T.syncFont(v,m),T.rtl&&(m.direction="rtl")):m.clearRect(0,0,F,B),m.save(),m.scale(E,E),T.backgroundColor&&(m.fillStyle=T.backgroundColor,m.fillRect(0,0,F,B)),T.syncStyle(v,m),m.translate(O.left,O.top);for(var G,z,Y=0;Y<L.lines;Y++){if(G=T.strokeThickness/2,z=T.strokeThickness/2+Y*L.lineHeight+P.ascent,Y>0&&(z+=L.lineSpacing*Y),T.rtl)G=F-G-O.left-O.right;else if(T.align==="right")G+=I-L.lineWidths[Y];else if(T.align==="center")G+=(I-L.lineWidths[Y])/2;else if(T.align==="justify"){var J=.85;if(L.lineWidths[Y]/L.width>=J){var $=L.width-L.lineWidths[Y],j=m.measureText(" ").width,X=R[Y].trim(),H=X.split(" ");$+=(R[Y].length-X.length)*j;for(var N=Math.floor($/j),Q=0;N>0;)H[Q]+=" ",Q=(Q+1)%(H.length-1||1),--N;R[Y]=H.join(" ")}}this.autoRound&&(G=Math.round(G),z=Math.round(z));var U=this.letterSpacing;if(T.strokeThickness&&U===0&&(T.syncShadow(m,T.shadowStroke),m.strokeText(R[Y],G,z)),T.color)if(T.syncShadow(m,T.shadowFill),U!==0)for(var q=0,et=R[Y].split(""),it=0;it<et.length;it++)T.strokeThickness&&(T.syncShadow(m,T.shadowStroke),m.strokeText(et[it],G+q,z),T.syncShadow(m,T.shadowFill)),m.fillText(et[it],G+q,z),q+=m.measureText(et[it]).width+U;else m.fillText(R[Y],G,z)}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var rt=this.input;return rt&&!rt.customHitArea&&(rt.hitArea.width=this.width,rt.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=l.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=m,v},preDestroy:function(){u(this.canvas),y.remove(this.canvas);var v=this.texture;v&&v.destroy()}});C.exports=p},79724:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g.width===0||g.height===0||(y.addToRenderList(g),s.batchSprite(g,g.frame,y,f))};C.exports=A},71259:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(50171);y.register("text",function(o,r){o===void 0&&(o={});var h=f(o,"text",""),u=f(o,"style",null),a=f(o,"padding",null);a!==null&&(u.padding=a);var d=new l(this.scene,0,0,h,u);return r!==void 0&&(o.add=r),g(this.scene,d,o),d.autoRound=f(o,"autoRound",!0),d.resolution=f(o,"resolution",1),d})},68005:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(50171),y=s(39429);y.register("text",function(f,l,o,r){return this.displayList.add(new g(this.scene,f,l,o,r))})},61771:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(34397),f=s(79724),C.exports={renderWebGL:y,renderCanvas:f}},35762:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23568),f=s(35154),l=s(79557),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},r=new g({initialize:function(u,a){this.parent=u,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(a,!1,!0)},setStyle:function(h,u,a){u===void 0&&(u=!0),a===void 0&&(a=!1);for(var d in o){var c=a?o[d][1]:this[d];d==="wordWrapCallback"||d==="wordWrapCallbackScope"?this[d]=f(h,o[d][0],c):h&&d==="fontSize"&&typeof h.fontSize=="number"?this[d]=h.fontSize.toString()+"px":this[d]=y(h,o[d][0],c)}var p=f(h,"font",null);p!==null&&this.setFont(p,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=f(h,"fill",null);v!==null&&(this.color=v);var m=f(h,"metrics",!1);return m?this.metrics={ascent:f(m,"ascent",0),descent:f(m,"descent",0),fontSize:f(m,"fontSize",0)}:(u||!this.metrics)&&(this.metrics=l(this)),u?this.parent.updateText():this.parent},syncFont:function(h,u){u.font=this._font},syncStyle:function(h,u){u.textBaseline="alphabetic",u.fillStyle=this.color,u.strokeStyle=this.stroke,u.lineWidth=this.strokeThickness,u.lineCap="round",u.lineJoin="round"},syncShadow:function(h,u){u?(h.shadowOffsetX=this.shadowOffsetX,h.shadowOffsetY=this.shadowOffsetY,h.shadowColor=this.shadowColor,h.shadowBlur=this.shadowBlur):(h.shadowOffsetX=0,h.shadowOffsetY=0,h.shadowColor=0,h.shadowBlur=0)},update:function(h){return h&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=l(this)),this.parent.updateText()},setFont:function(h,u){u===void 0&&(u=!0);var a=h,d="",c="";if(typeof h!="string")a=f(h,"fontFamily","Courier"),d=f(h,"fontSize","16px"),c=f(h,"fontStyle","");else{var p=h.split(" "),v=0;c=p.length>2?p[v++]:"",d=p[v++]||"16px",a=p[v++]||"Courier"}return(a!==this.fontFamily||d!==this.fontSize||c!==this.fontStyle)&&(this.fontFamily=a,this.fontSize=d,this.fontStyle=c,u&&this.update(!0)),this.parent},setFontFamily:function(h){return this.fontFamily!==h&&(this.fontFamily=h,this.update(!0)),this.parent},setFontStyle:function(h){return this.fontStyle!==h&&(this.fontStyle=h,this.update(!0)),this.parent},setFontSize:function(h){return typeof h=="number"&&(h=h.toString()+"px"),this.fontSize!==h&&(this.fontSize=h,this.update(!0)),this.parent},setTestString:function(h){return this.testString=h,this.update(!0)},setFixedSize:function(h,u){return this.fixedWidth=h,this.fixedHeight=u,h&&(this.parent.width=h),u&&(this.parent.height=u),this.update(!1)},setBackgroundColor:function(h){return this.backgroundColor=h,this.update(!1)},setFill:function(h){return this.color=h,this.update(!1)},setColor:function(h){return this.color=h,this.update(!1)},setResolution:function(h){return this.resolution=h,this.update(!1)},setStroke:function(h,u){return u===void 0&&(u=this.strokeThickness),h===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==h||this.strokeThickness!==u)&&(this.stroke=h,this.strokeThickness=u,this.update(!0)),this.parent},setShadow:function(h,u,a,d,c,p){return h===void 0&&(h=0),u===void 0&&(u=0),a===void 0&&(a="#000"),d===void 0&&(d=0),c===void 0&&(c=!1),p===void 0&&(p=!0),this.shadowOffsetX=h,this.shadowOffsetY=u,this.shadowColor=a,this.shadowBlur=d,this.shadowStroke=c,this.shadowFill=p,this.update(!1)},setShadowOffset:function(h,u){return h===void 0&&(h=0),u===void 0&&(u=h),this.shadowOffsetX=h,this.shadowOffsetY=u,this.update(!1)},setShadowColor:function(h){return h===void 0&&(h="#000"),this.shadowColor=h,this.update(!1)},setShadowBlur:function(h){return h===void 0&&(h=0),this.shadowBlur=h,this.update(!1)},setShadowStroke:function(h){return this.shadowStroke=h,this.update(!1)},setShadowFill:function(h){return this.shadowFill=h,this.update(!1)},setWordWrapWidth:function(h,u){return u===void 0&&(u=!1),this.wordWrapWidth=h,this.wordWrapUseAdvanced=u,this.update(!1)},setWordWrapCallback:function(h,u){return u===void 0&&(u=null),this.wordWrapCallback=h,this.wordWrapCallbackScope=u,this.update(!1)},setAlign:function(h){return h===void 0&&(h="left"),this.align=h,this.update(!1)},setMaxLines:function(h){return h===void 0&&(h=0),this.maxLines=h,this.update(!1)},getTextMetrics:function(){var h=this.metrics;return{ascent:h.ascent,descent:h.descent,fontSize:h.fontSize}},toJSON:function(){var h={};for(var u in o)h[u]=this[u];return h.metrics=this.getTextMetrics(),h},destroy:function(){this.parent=void 0}});C.exports=r},34397:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70554),y=function(f,l,o,r){if(!(l.width===0||l.height===0)){o.addToRenderList(l);var h=l.frame,u=h.width,a=h.height,d=g.getTintAppendFloatAlpha,c=f.pipelines.set(l.pipeline,l),p=c.setTexture2D(h.glTexture,l);c.batchTexture(l,h.glTexture,u,a,l.x,l.y,u/l.style.resolution,a/l.style.resolution,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,u,a,d(l.tintTopLeft,o.alpha*l._alphaTL),d(l.tintTopRight,o.alpha*l._alphaTR),d(l.tintBottomLeft,o.alpha*l._alphaBL),d(l.tintBottomRight,o.alpha*l._alphaBR),l.tintFill,0,0,o,r,!1,p)}};C.exports=y},20839:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=s(83419),f=s(31401),l=s(95643),o=s(98439),r=s(68703),h=s(56295),u=s(45650),a=s(26099),d=8,c=new y({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,h],initialize:function(v,m,T,E,P,w,R){var L=v.sys.renderer;l.call(this,v,"TileSprite");var O=v.sys.textures.get(w),I=O.get(R);I.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),O=v.sys.textures.get("__MISSING"),I=O.get()),O.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),O=v.sys.textures.get("__MISSING"),I=O.get()),!E||!P?(E=E||I.width,P=P||I.height):(E=Math.floor(E),P=Math.floor(P)),this._tilePosition=new a,this._tileScale=new a(1,1),this.dirty=!1,this.renderer=L,this.canvas=g.create(this,E,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=O,this.displayFrame=I,this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=o(I.width),this.potHeight=o(I.height),this.fillCanvas=g.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,T),this.setSize(E,P),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(p,v){return this.displayTexture=this.scene.sys.textures.get(p),this.setFrame(v)},setFrame:function(p){var v=this.displayTexture.get(p);return this.potWidth=o(v.width),this.potHeight=o(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=~d:this.renderFlags|=d,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(p,v){return p!==void 0&&(this.tilePositionX=p),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(p,v){return p===void 0&&(p=this.tileScaleX),v===void 0&&(v=p),this.tileScaleX=p,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var p=this.displayFrame;if(p.source.isRenderTexture||p.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,m=this.fillCanvas,T=this.potWidth,E=this.potHeight;(!this.renderer||!this.renderer.gl)&&(T=p.cutWidth,E=p.cutHeight),v.clearRect(0,0,T,E),m.width=T,m.height=E,v.drawImage(p.source.image,p.cutX,p.cutY,p.cutWidth,p.cutHeight,0,0,T,E),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=v.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var p=this.canvas;if((p.width!==this.width||p.height!==this.height)&&(p.width=this.width,p.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||r.disable(v);var m=this._tileScale.x,T=this._tileScale.y,E=this._tilePosition.x,P=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(m,T),v.translate(-E,-P),v.fillStyle=this.fillPattern,v.fillRect(E,P,this.width/m,this.height/T),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),g.remove(this.canvas),g.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var p=this.texture;p&&p.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(p){this._tilePosition.x=p,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(p){this._tilePosition.y=p,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(p){this._tileScale.x=p,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(p){this._tileScale.y=p,this.dirty=!0}}});C.exports=c},46992:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g.updateCanvas(),y.addToRenderList(g),s.batchSprite(g,g.frame,y,f)};C.exports=A},14167:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(20839);y.register("tileSprite",function(o,r){o===void 0&&(o={});var h=f(o,"x",0),u=f(o,"y",0),a=f(o,"width",512),d=f(o,"height",512),c=f(o,"key",""),p=f(o,"frame",""),v=new l(this.scene,h,u,a,d,c,p);return r!==void 0&&(o.add=r),g(this.scene,v,o),v})},91681:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20839),y=s(39429);y.register("tileSprite",function(f,l,o,r,h,u){return this.displayList.add(new g(this.scene,f,l,o,r,h,u))})},56295:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(18553),f=s(46992),C.exports={renderWebGL:y,renderCanvas:f}},18553:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70554),y=function(f,l,o,r){l.updateCanvas();var h=l.width,u=l.height;if(!(h===0||u===0)){o.addToRenderList(l);var a=g.getTintAppendFloatAlpha,d=f.pipelines.set(l.pipeline,l),c=d.setTexture2D(l.fillPattern,l);d.batchTexture(l,l.fillPattern,l.displayFrame.width*l.tileScaleX,l.displayFrame.height*l.tileScaleY,l.x,l.y,h,u,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.originX*h,l.originY*u,0,0,h,u,a(l.tintTopLeft,o.alpha*l._alphaTL),a(l.tintTopRight,o.alpha*l._alphaTR),a(l.tintBottomLeft,o.alpha*l._alphaBL),a(l.tintBottomRight,o.alpha*l._alphaBR),l.tintFill,l.tilePositionX%l.displayFrame.width/l.displayFrame.width,l.tilePositionY%l.displayFrame.height/l.displayFrame.height,o,r,!1,c)}};C.exports=y},18471:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(31401),l=s(51708),o=s(8443),r=s(95643),h=s(36383),u=s(14463),a=s(45650),d=s(10247),c=new y({Extends:r,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.TextureCrop,f.Tint,f.Transform,f.Visible,d],initialize:function(v,m,T,E){r.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=a(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var P=v.sys.game;this._device=P.device.video,this.setPosition(m,T),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),P.events.on(o.PAUSE,this.globalPause,this),P.events.on(o.RESUME,this.globalResume,this);var w=v.sys.sound;w&&w.on(u.GLOBAL_MUTE,this.globalMute,this),E&&this.load(E)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(p){var v=this.scene.sys.cache.video.get(p);return v?(this.cacheKey=p,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+p),this},changeSource:function(p,v,m,T,E){v===void 0&&(v=!0),m===void 0&&(m=!1),this.cacheKey!==p&&(this.load(p),v&&this.play(m,T,E))},getVideoKey:function(){return this.cacheKey},loadURL:function(p,v,m){v===void 0&&(v=!1);var T=this._device.getVideoURL(p);return T?(this.cacheKey="",this.loadHandler(T.url,v,m)):console.warn("No supported video format found for "+p),this},loadMediaStream:function(p,v,m){return this.loadHandler(null,v,m,p)},loadHandler:function(p,v,m,T){v||(v=!1);var E=this.video;if(E?(this.removeLoadEventHandlers(),this.stop()):(E=document.createElement("video"),E.controls=!1,E.setAttribute("playsinline","playsinline"),E.setAttribute("preload","auto"),E.setAttribute("disablePictureInPicture","true")),v?(E.muted=!0,E.defaultMuted=!0,E.setAttribute("autoplay","autoplay")):(E.muted=!1,E.defaultMuted=!1,E.removeAttribute("autoplay")),m?E.setAttribute("crossorigin",m):E.removeAttribute("crossorigin"),T)if("srcObject"in E)try{E.srcObject=T}catch(w){if(w.name!=="TypeError")throw w;E.src=URL.createObjectURL(T)}else E.src=URL.createObjectURL(T);else E.src=p;this.retry=0,this.video=E,this._playCalled=!1,E.load(),this.addLoadEventHandlers();var P=this.scene.sys.textures.get(this._key);return this.setTexture(P),this},requestVideoFrame:function(p,v){var m=this.video;if(m){var T=v.width,E=v.height,P=this.videoTexture,w=this.videoTextureSource,R=!P||w.source!==m;R?(this._codePaused=m.paused,this._codeMuted=m.muted,P?(w.source=m,w.width=T,w.height=E,P.get().setSize(T,E)):(P=this.scene.sys.textures.create(this._key,m,T,E),P.add("__BASE",0,0,0,T,E),this.setTexture(P),this.videoTexture=P,this.videoTextureSource=P.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(l.VIDEO_TEXTURE,this,P)),this.setSizeToFrame(),this.updateDisplayOrigin()):w.update(),this.isStalled=!1,this.metadata=v;var L=v.mediaTime;R&&(this._lastUpdate=L,this.emit(l.VIDEO_CREATED,this,T,E),this.frameReady||(this.frameReady=!0,this.emit(l.VIDEO_PLAY,this))),this._playingMarker?L>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.emit(l.VIDEO_LOOP,this)):(this.stop(!1),this.emit(l.VIDEO_COMPLETE,this))):L<this._lastUpdate&&this.emit(l.VIDEO_LOOP,this),this._lastUpdate=L,this._getFrame?(this.removeEventHandlers(),m.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(p,v,m){v===void 0&&(v=-1),m===void 0&&(m=h.MAX_SAFE_INTEGER);var T=this.video;return!T||this.isPlaying()?(T||console.warn("Video not loaded"),this):(p===void 0&&(p=T.loop),T.loop=p,this._markerIn=v,this._markerOut=m,this._playingMarker=v>-1&&m>v&&m<h.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=T.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var p=this.video;return!p||this.isPlaying()?(p||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=p.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var p=this.video;p&&(p.addEventListener("error",this._loadCallbackHandler),p.addEventListener("abort",this._loadCallbackHandler),p.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var p=this.video;p&&(p.removeEventListener("error",this._loadCallbackHandler),p.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var p=this.video;if(p){var v=this._callbacks;for(var m in v)p.addEventListener(m,v[m])}},removeEventHandlers:function(){var p=this.video;if(p){var v=this._callbacks;for(var m in v)p.removeEventListener(m,v[m])}},createPlayPromise:function(p){p===void 0&&(p=!0);var v=this.video,m=v.play();if(m!==void 0){var T=this.playSuccess.bind(this),E=this.playError.bind(this);if(!p){var P=this;E=function(){P.failedPlayAttempts++}}m.then(T).catch(E)}else v.addEventListener("playing",this._callbacks.legacy),p||this.failedPlayAttempts++},addMarker:function(p,v,m){return!isNaN(v)&&v>=0&&!isNaN(m)&&m>v&&(this.markers[p]=[v,m]),this},playMarker:function(p,v){var m=this.markers[p];return m&&this.play(v,m[0],m[1]),this},removeMarker:function(p){return delete this.markers[p],this},snapshot:function(p,v){return p===void 0&&(p=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,p,v)},snapshotArea:function(p,v,m,T,E,P){p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=this.width),T===void 0&&(T=this.height),E===void 0&&(E=m),P===void 0&&(P=T);var w=this.video,R=this.snapshotTexture;return R?(R.setSize(E,P),w&&R.context.drawImage(w,p,v,m,T,0,0,E,P)):(R=this.scene.sys.textures.createCanvas(a(),E,P),this.snapshotTexture=R,w&&R.context.drawImage(w,p,v,m,T,0,0,E,P)),R.update()},saveSnapshotTexture:function(p){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,p):this.snapshotTexture=this.scene.sys.textures.createCanvas(p,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(l.VIDEO_UNLOCKED,this));var p=this.scene.sys.sound;p&&p.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(p){var v=p.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(l.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(l.VIDEO_UNSUPPORTED,this,p)):(this.stop(!1),this.emit(l.VIDEO_ERROR,this,p))},legacyPlayHandler:function(){var p=this.video;p&&(this.playSuccess(),p.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(l.VIDEO_PLAYING,this)},loadErrorHandler:function(p){this.stop(!1),this.emit(l.VIDEO_ERROR,this,p)},metadataHandler:function(p){this.emit(l.VIDEO_METADATA,this,p)},setSizeToFrame:function(p){p||(p=this.frame),this.width=p.realWidth,this.height=p.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(p){this.isStalled=!0,this.emit(l.VIDEO_STALLED,this,p)},completeHandler:function(){this._playCalled=!1,this.emit(l.VIDEO_COMPLETE,this)},preUpdate:function(p,v){var m=this.video;!m||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(p){var v=this.video;if(v){var m=v.duration;if(m!==1/0&&!isNaN(m)){var T=m*p;this.setCurrentTime(T)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(p){var v=this.video;if(v){if(typeof p=="string"){var m=p[0],T=parseFloat(p.substr(1));m==="+"?p=v.currentTime+T:m==="-"&&(p=v.currentTime-T)}v.currentTime=p}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(l.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(l.VIDEO_SEEKED,this)},getProgress:function(){var p=this.video;if(p){var v=p.duration;if(v!==1/0&&!isNaN(v))return p.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(p){p===void 0&&(p=!0),this._codeMuted=p;var v=this.video;return v&&(v.muted=this._systemMuted?!0:p),this},isMuted:function(){return this._codeMuted},globalMute:function(p,v){this._systemMuted=v;var m=this.video;m&&(m.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(p){p===void 0&&(p=!0);var v=this.video;return this._codePaused=p,v&&!v.ended&&(p?v.paused||(this.removeEventHandlers(),v.pause()):p||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(p){return p===void 0&&(p=1),this.video&&(this.video.volume=g(p,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(p){return this.video&&(this.video.playbackRate=p),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(p){return p===void 0&&(p=!0),this.video&&(this.video.loop=p),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(p,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,p),this.videoTextureSource.setFlipY(v)),this._key=p,this.flipY=v,!!this.videoTexture},stop:function(p){p===void 0&&(p=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,p&&this.emit(l.VIDEO_STOP,this),this},removeVideoElement:function(){var p=this.video;if(p){for(p.parentNode&&p.parentNode.removeChild(p);p.hasChildNodes();)p.removeChild(p.firstChild);p.removeAttribute("autoplay"),p.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var p=this.scene.sys.game.events;p.off(o.PAUSE,this.globalPause,this),p.off(o.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(u.GLOBAL_MUTE,this.globalMute,this)}});C.exports=c},58352:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g.videoTexture&&(y.addToRenderList(g),s.batchSprite(g,g.frame,y,f))};C.exports=A},11511:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(18471);y.register("video",function(o,r){o===void 0&&(o={});var h=f(o,"key",null),u=new l(this.scene,0,0,h);return r!==void 0&&(o.add=r),g(this.scene,u,o),u})},89025:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(18471),y=s(39429);y.register("video",function(f,l,o){return this.displayList.add(new g(this.scene,f,l,o))})},10247:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(29849),f=s(58352),C.exports={renderWebGL:y,renderCanvas:f}},29849:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g.videoTexture&&(y.addToRenderList(g),g.pipeline.batchSprite(g,y,f))};C.exports=A},41481:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(96503),f=s(87902),l=s(83419),o=s(31401),r=s(95643),h=s(87841),u=s(37303),a=new l({Extends:r,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function(c,p,v,m,T){m===void 0&&(m=1),T===void 0&&(T=m),r.call(this,c,"Zone"),this.setPosition(p,v),this.width=m,this.height=T,this.blendMode=g.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,c,p){p===void 0&&(p=!0),this.width=d,this.height=c,this.updateDisplayOrigin();var v=this.input;return p&&v&&!v.customHitArea&&(v.hitArea.width=d,v.hitArea.height=c),this},setDisplaySize:function(d,c){return this.displayWidth=d,this.displayHeight=c,this},setCircleDropZone:function(d){return this.setDropZone(new y(0,0,d),f)},setRectangleDropZone:function(d,c){return this.setDropZone(new h(0,0,d,c),u)},setDropZone:function(d,c){return this.input||this.setInteractive(d,c,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(d,c,p){p.addToRenderList(c)},renderWebGL:function(d,c,p){p.addToRenderList(c)}});C.exports=a},95261:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(44603),y=s(23568),f=s(41481);g.register("zone",function(l){var o=y(l,"x",0),r=y(l,"y",0),h=y(l,"width",1),u=y(l,"height",h);return new f(this.scene,o,r,h,u)})},84175:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41481),y=s(39429);y.register("zone",function(f,l,o,r){return this.displayList.add(new g(this.scene,f,l,o,r))})},95166:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.radius>0?Math.PI*s.radius*s.radius:0};C.exports=A},96503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(87902),f=s(26241),l=s(79124),o=s(23777),r=s(28176),h=new g({initialize:function(a,d,c){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),this.type=o.CIRCLE,this.x=a,this.y=d,this._radius=c,this._diameter=c*2},contains:function(u,a){return y(this,u,a)},getPoint:function(u,a){return f(this,u,a)},getPoints:function(u,a,d){return l(this,u,a,d)},getRandomPoint:function(u){return r(this,u)},setTo:function(u,a,d){return this.x=u,this.y=a,this._radius=d,this._diameter=d*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(u,a){return a===void 0&&(a=u),this.x=u,this.y=a,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this._diameter=u*2}},diameter:{get:function(){return this._diameter},set:function(u){this._diameter=u,this._radius=u*.5}},left:{get:function(){return this.x-this._radius},set:function(u){this.x=u+this._radius}},right:{get:function(){return this.x+this._radius},set:function(u){this.x=u-this._radius}},top:{get:function(){return this.y-this._radius},set:function(u){this.y=u+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(u){this.y=u-this._radius}}});C.exports=h},71562:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return 2*(Math.PI*s.radius)};C.exports=A},92110:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,o){return o===void 0&&(o=new g),o.x=f.x+f.radius*Math.cos(l),o.y=f.y+f.radius*Math.sin(l),o};C.exports=y},42250:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(96503),y=function(f){return new g(f.x,f.y,f.radius)};C.exports=y},87902:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(s.radius>0&&g>=s.left&&g<=s.right&&y>=s.top&&y<=s.bottom){var f=(s.x-g)*(s.x-g),l=(s.y-y)*(s.y-y);return f+l<=s.radius*s.radius}else return!1};C.exports=A},5698:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87902),y=function(f,l){return g(f,l.x,l.y)};C.exports=y},70588:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87902),y=function(f,l){return g(f,l.x,l.y)&&g(f,l.right,l.y)&&g(f,l.x,l.bottom)&&g(f,l.right,l.bottom)};C.exports=y},26394:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x,s.y,s.radius)};C.exports=A},76278:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x===g.x&&s.y===g.y&&s.radius===g.radius};C.exports=A},2074:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l){return l===void 0&&(l=new g),l.x=f.left,l.y=f.top,l.width=f.diameter,l.height=f.diameter,l};C.exports=y},26241:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(92110),y=s(62945),f=s(36383),l=s(2141),o=function(r,h,u){u===void 0&&(u=new l);var a=y(h,0,f.PI2);return g(r,a,u)};C.exports=o},79124:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(71562),y=s(92110),f=s(62945),l=s(36383),o=function(r,h,u,a){a===void 0&&(a=[]),!h&&u>0&&(h=g(r)/u);for(var d=0;d<h;d++){var c=f(d/h,0,l.PI2);a.push(y(r,c))}return a};C.exports=o},50884:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x+=g,s.y+=y,s};C.exports=A},39212:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x+=g.x,s.y+=g.y,s};C.exports=A},28176:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){l===void 0&&(l=new g);var o=2*Math.PI*Math.random(),r=Math.random()+Math.random(),h=r>1?2-r:r,u=h*Math.cos(o),a=h*Math.sin(o);return l.x=f.x+u*f.radius,l.y=f.y+a*f.radius,l};C.exports=y},88911:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(96503);g.Area=s(95166),g.Circumference=s(71562),g.CircumferencePoint=s(92110),g.Clone=s(42250),g.Contains=s(87902),g.ContainsPoint=s(5698),g.ContainsRect=s(70588),g.CopyFrom=s(26394),g.Equals=s(76278),g.GetBounds=s(2074),g.GetPoint=s(26241),g.GetPoints=s(79124),g.Offset=s(50884),g.OffsetPoint=s(39212),g.Random=s(28176),C.exports=g},23777:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};C.exports=A},78874:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.isEmpty()?0:s.getMajorRadius()*s.getMinorRadius()*Math.PI};C.exports=A},92990:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=s.width/2,y=s.height/2,f=Math.pow(g-y,2)/Math.pow(g+y,2);return Math.PI*(g+y)*(1+3*f/(10+Math.sqrt(4-3*f)))};C.exports=A},79522:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,o){o===void 0&&(o=new g);var r=f.width/2,h=f.height/2;return o.x=f.x+r*Math.cos(l),o.y=f.y+h*Math.sin(l),o};C.exports=y},58102:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8497),y=function(f){return new g(f.x,f.y,f.width,f.height)};C.exports=y},81154:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(s.width<=0||s.height<=0)return!1;var f=(g-s.x)/s.width,l=(y-s.y)/s.height;return f*=f,l*=l,f+l<.25};C.exports=A},46662:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(81154),y=function(f,l){return g(f,l.x,l.y)};C.exports=y},1632:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(81154),y=function(f,l){return g(f,l.x,l.y)&&g(f,l.right,l.y)&&g(f,l.x,l.bottom)&&g(f,l.right,l.bottom)};C.exports=y},65534:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x,s.y,s.width,s.height)};C.exports=A},8497:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(81154),f=s(90549),l=s(48320),o=s(23777),r=s(24820),h=new g({initialize:function(a,d,c,p){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=o.ELLIPSE,this.x=a,this.y=d,this.width=c,this.height=p},contains:function(u,a){return y(this,u,a)},getPoint:function(u,a){return f(this,u,a)},getPoints:function(u,a,d){return l(this,u,a,d)},getRandomPoint:function(u){return r(this,u)},setTo:function(u,a,d,c){return this.x=u,this.y=a,this.width=d,this.height=c,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(u,a){return a===void 0&&(a=u),this.x=u,this.y=a,this},setSize:function(u,a){return a===void 0&&(a=u),this.width=u,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(u){this.x=u+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(u){this.y=u+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});C.exports=h},36146:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x===g.x&&s.y===g.y&&s.width===g.width&&s.height===g.height};C.exports=A},23694:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l){return l===void 0&&(l=new g),l.x=f.left,l.y=f.top,l.width=f.width,l.height=f.height,l};C.exports=y},90549:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79522),y=s(62945),f=s(36383),l=s(2141),o=function(r,h,u){u===void 0&&(u=new l);var a=y(h,0,f.PI2);return g(r,a,u)};C.exports=o},48320:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(92990),y=s(79522),f=s(62945),l=s(36383),o=function(r,h,u,a){a===void 0&&(a=[]),!h&&u>0&&(h=g(r)/u);for(var d=0;d<h;d++){var c=f(d/h,0,l.PI2);a.push(y(r,c))}return a};C.exports=o},73424:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x+=g,s.y+=y,s};C.exports=A},44808:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x+=g.x,s.y+=g.y,s};C.exports=A},24820:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){l===void 0&&(l=new g);var o=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return l.x=f.x+r*Math.cos(o)*f.width/2,l.y=f.y+r*Math.sin(o)*f.height/2,l};C.exports=y},49203:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8497);g.Area=s(78874),g.Circumference=s(92990),g.CircumferencePoint=s(79522),g.Clone=s(58102),g.Contains=s(81154),g.ContainsPoint=s(46662),g.ContainsRect=s(1632),g.CopyFrom=s(65534),g.Equals=s(36146),g.GetBounds=s(23694),g.GetPoint=s(90549),g.GetPoints=s(48320),g.Offset=s(73424),g.OffsetPoint=s(44808),g.Random=s(24820),C.exports=g},55738:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23777),y=s(79291),f={Circle:s(88911),Ellipse:s(49203),Intersects:s(91865),Line:s(2529),Mesh:s(73090),Point:s(43711),Polygon:s(58423),Rectangle:s(93232),Triangle:s(84435)};f=y(!1,f,g),C.exports=f},2044:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20339),y=function(f,l){return g(f.x,f.y,l.x,l.y)<=f.radius+l.radius};C.exports=y},81491:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=g.width/2,f=g.height/2,l=Math.abs(s.x-g.x-y),o=Math.abs(s.y-g.y-f),r=y+s.radius,h=f+s.radius;if(l>r||o>h)return!1;if(l<=y||o<=f)return!0;var u=l-y,a=o-f,d=u*u,c=a*a,p=s.radius*s.radius;return d+c<=p};C.exports=A},63376:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(2044),f=function(l,o,r){if(r===void 0&&(r=[]),y(l,o)){var h=l.x,u=l.y,a=l.radius,d=o.x,c=o.y,p=o.radius,v,m,T,E,P;if(u===c)P=(p*p-a*a-d*d+h*h)/(2*(h-d)),v=1,m=-2*c,T=d*d+P*P-2*d*P+c*c-p*p,E=m*m-4*v*T,E===0?r.push(new g(P,-m/(2*v))):E>0&&(r.push(new g(P,(-m+Math.sqrt(E))/(2*v))),r.push(new g(P,(-m-Math.sqrt(E))/(2*v))));else{var w=(h-d)/(u-c),R=(p*p-a*a-d*d+h*h-c*c+u*u)/(2*(u-c));v=w*w+1,m=2*u*w-2*R*w-2*h,T=h*h+u*u+R*R-a*a-2*u*R,E=m*m-4*v*T,E===0?(P=-m/(2*v),r.push(new g(P,R-P*w))):E>0&&(P=(-m+Math.sqrt(E))/(2*v),r.push(new g(P,R-P*w)),P=(-m-Math.sqrt(E))/(2*v),r.push(new g(P,R-P*w)))}}return r};C.exports=f},97439:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(4042),y=s(81491),f=function(l,o,r){if(r===void 0&&(r=[]),y(l,o)){var h=o.getLineA(),u=o.getLineB(),a=o.getLineC(),d=o.getLineD();g(h,l,r),g(u,l,r),g(a,l,r),g(d,l,r)}return r};C.exports=f},4042:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(80462),f=function(l,o,r){if(r===void 0&&(r=[]),y(l,o)){var h=l.x1,u=l.y1,a=l.x2,d=l.y2,c=o.x,p=o.y,v=o.radius,m=a-h,T=d-u,E=h-c,P=u-p,w=m*m+T*T,R=2*(m*E+T*P),L=E*E+P*P-v*v,O=R*R-4*w*L,I,F;if(O===0){var B=-R/(2*w);I=h+B*m,F=u+B*T,B>=0&&B<=1&&r.push(new g(I,F))}else if(O>0){var G=(-R-Math.sqrt(O))/(2*w);I=h+G*m,F=u+G*T,G>=0&&G<=1&&r.push(new g(I,F));var z=(-R+Math.sqrt(O))/(2*w);I=h+z*m,F=u+z*T,z>=0&&z<=1&&r.push(new g(I,F))}}return r};C.exports=f},36100:(C,A,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25836),y=function(f,l,o,r){o===void 0&&(o=!1);var h=f.x1,u=f.y1,a=f.x2,d=f.y2,c=l.x1,p=l.y1,v=l.x2,m=l.y2,T=a-h,E=d-u,P=v-c,w=m-p,R=T*w-E*P;if(R===0)return null;var L,O,I;if(o){if(L=(T*(p-u)+E*(h-c))/(P*E-w*T),T!==0)O=(c+P*L-h)/T;else if(E!==0)O=(p+w*L-u)/E;else return null;if(O<0||L<0||L>1)return null;I=O}else{if(L=((c-h)*w-(p-u)*P)/R,O=((u-p)*T-(h-c)*E)/R,L<0||L>1||O<0||O>1)return null;I=L}return r===void 0&&(r=new g),r.set(h+T*I,u+E*I,I)};C.exports=y},3073:(C,A,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36100),y=s(23031),f=s(25836),l=new y,o=new f,r=function(h,u,a,d){a===void 0&&(a=!1),d===void 0&&(d=new f);var c=!1;d.set(),o.set();for(var p=u[u.length-1],v=0;v<u.length;v++){var m=u[v];l.setTo(p.x,p.y,m.x,m.y),p=m,g(h,l,a,o)&&(!c||o.z<d.z)&&(d.copy(o),c=!0)}return c?d:null};C.exports=r},56362:(C,A,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25836),y=s(61369),f=s(3073),l=new g,o=function(r,h,u,a){a===void 0&&(a=new y),Array.isArray(h)||(h=[h]);var d=!1;a.set(),l.set();for(var c=0;c<h.length;c++)f(r,h[c].points,u,l)&&(!d||l.z<a.z)&&(a.set(l.x,l.y,l.z,c),d=!0);return d?a:null};C.exports=o},60646:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(76112),f=s(92773),l=function(o,r,h){if(h===void 0&&(h=[]),f(o,r))for(var u=r.getLineA(),a=r.getLineB(),d=r.getLineC(),c=r.getLineD(),p=[new g,new g,new g,new g],v=[y(u,o,p[0]),y(a,o,p[1]),y(d,o,p[2]),y(c,o,p[3])],m=0;m<4;m++)v[m]&&h.push(p[m]);return h};C.exports=l},71147:(C,A,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61369),y=s(56362),f=s(23031),l=new f;function o(u,a,d,c,p){var v=Math.cos(u),m=Math.sin(u);l.setTo(a,d,a+v,d+m);var T=y(l,c,!0);T&&p.push(new g(T.x,T.y,u,T.w))}function r(u,a){return u.z-a.z}var h=function(u,a,d){Array.isArray(d)||(d=[d]);for(var c=[],p=[],v=0;v<d.length;v++)for(var m=d[v].points,T=0;T<m.length;T++){var E=Math.atan2(m[T].y-a,m[T].x-u);p.indexOf(E)===-1&&(o(E,u,a,d,c),o(E-1e-5,u,a,d,c),o(E+1e-5,u,a,d,c),p.push(E))}return c.sort(r)};C.exports=h},68389:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=s(59996),f=function(l,o,r){return r===void 0&&(r=new g),y(l,o)&&(r.x=Math.max(l.x,o.x),r.y=Math.max(l.y,o.y),r.width=Math.min(l.right,o.right)-r.x,r.height=Math.min(l.bottom,o.bottom)-r.y),r};C.exports=f},52784:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(60646),y=s(59996),f=function(l,o,r){if(r===void 0&&(r=[]),y(l,o)){var h=l.getLineA(),u=l.getLineB(),a=l.getLineC(),d=l.getLineD();g(h,o,r),g(u,o,r),g(a,o,r),g(d,o,r)}return r};C.exports=f},26341:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(89265),y=s(60646),f=function(l,o,r){if(r===void 0&&(r=[]),g(l,o)){var h=o.getLineA(),u=o.getLineB(),a=o.getLineC();y(h,l,r),y(u,l,r),y(a,l,r)}return r};C.exports=f},38720:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(4042),y=s(67636),f=function(l,o,r){if(r===void 0&&(r=[]),y(l,o)){var h=l.getLineA(),u=l.getLineB(),a=l.getLineC();g(h,o,r),g(u,o,r),g(a,o,r)}return r};C.exports=f},13882:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(2822),f=s(76112),l=function(o,r,h){if(h===void 0&&(h=[]),y(o,r))for(var u=o.getLineA(),a=o.getLineB(),d=o.getLineC(),c=[new g,new g,new g],p=[f(u,r,c[0]),f(a,r,c[1]),f(d,r,c[2])],v=0;v<3;v++)p[v]&&h.push(c[v]);return h};C.exports=l},75636:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82944),y=s(13882),f=function(l,o,r){if(r===void 0&&(r=[]),g(l,o)){var h=o.getLineA(),u=o.getLineB(),a=o.getLineC();y(l,h,r),y(l,u,r),y(l,a,r)}return r};C.exports=f},80462:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87902),y=s(2141),f=new y,l=function(o,r,h){if(h===void 0&&(h=f),g(r,o.x1,o.y1))return h.x=o.x1,h.y=o.y1,!0;if(g(r,o.x2,o.y2))return h.x=o.x2,h.y=o.y2,!0;var u=o.x2-o.x1,a=o.y2-o.y1,d=r.x-o.x1,c=r.y-o.y1,p=u*u+a*a,v=u,m=a;if(p>0){var T=(d*u+c*a)/p;v*=T,m*=T}h.x=o.x1+v,h.y=o.y1+m;var E=v*v+m*m;return E<=p&&v*u+m*a>=0&&g(r,h.x,h.y)};C.exports=l},76112:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=s.x1,l=s.y1,o=s.x2,r=s.y2,h=g.x1,u=g.y1,a=g.x2,d=g.y2;if(f===o&&l===r||h===a&&u===d)return!1;var c=(d-u)*(o-f)-(a-h)*(r-l);if(c===0)return!1;var p=((a-h)*(l-u)-(d-u)*(f-h))/c,v=((o-f)*(l-u)-(r-l)*(f-h))/c;return p<0||p>1||v<0||v>1?!1:(y&&(y.x=f+p*(o-f),y.y=l+p*(r-l)),!0)};C.exports=A},92773:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.x1,f=s.y1,l=s.x2,o=s.y2,r=g.x,h=g.y,u=g.right,a=g.bottom,d=0;if(y>=r&&y<=u&&f>=h&&f<=a||l>=r&&l<=u&&o>=h&&o<=a)return!0;if(y<r&&l>=r){if(d=f+(o-f)*(r-y)/(l-y),d>h&&d<=a)return!0}else if(y>u&&l<=u&&(d=f+(o-f)*(u-y)/(l-y),d>=h&&d<=a))return!0;if(f<h&&o>=h){if(d=y+(l-y)*(h-f)/(o-f),d>=r&&d<=u)return!0}else if(f>a&&o<=a&&(d=y+(l-y)*(a-f)/(o-f),d>=r&&d<=u))return!0;return!1};C.exports=A},16204:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){y===void 0&&(y=1);var f=g.x1,l=g.y1,o=g.x2,r=g.y2,h=s.x,u=s.y,a=(o-f)*(o-f)+(r-l)*(r-l);if(a===0)return!1;var d=((h-f)*(o-f)+(u-l)*(r-l))/a;if(d<0)return Math.sqrt((f-h)*(f-h)+(l-u)*(l-u))<=y;if(d>=0&&d<=1){var c=((l-u)*(o-f)-(f-h)*(r-l))/a;return Math.abs(c)*Math.sqrt(a)<=y}else return Math.sqrt((o-h)*(o-h)+(r-u)*(r-u))<=y};C.exports=A},14199:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(16204),y=function(f,l){if(!g(f,l))return!1;var o=Math.min(l.x1,l.x2),r=Math.max(l.x1,l.x2),h=Math.min(l.y1,l.y2),u=Math.max(l.y1,l.y2);return f.x>=o&&f.x<=r&&f.y>=h&&f.y<=u};C.exports=y},59996:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.width<=0||s.height<=0||g.width<=0||g.height<=0?!1:!(s.right<g.x||s.bottom<g.y||s.x>g.right||s.y>g.bottom)};C.exports=A},89265:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(76112),y=s(37303),f=s(48653),l=s(77493),o=function(r,h){if(h.left>r.right||h.right<r.left||h.top>r.bottom||h.bottom<r.top)return!1;var u=h.getLineA(),a=h.getLineB(),d=h.getLineC();if(y(r,u.x1,u.y1)||y(r,u.x2,u.y2)||y(r,a.x1,a.y1)||y(r,a.x2,a.y2)||y(r,d.x1,d.y1)||y(r,d.x2,d.y2))return!0;var c=r.getLineA(),p=r.getLineB(),v=r.getLineC(),m=r.getLineD();if(g(u,c)||g(u,p)||g(u,v)||g(u,m)||g(a,c)||g(a,p)||g(a,v)||g(a,m)||g(d,c)||g(d,p)||g(d,v)||g(d,m))return!0;var T=l(r),E=f(h,T,!0);return E.length>0};C.exports=o},84411:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,o){return o===void 0&&(o=0),!(g>s.right+o||y<s.left-o||f>s.bottom+o||l<s.top-o)};C.exports=A},67636:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80462),y=s(10690),f=function(l,o){return l.left>o.right||l.right<o.left||l.top>o.bottom||l.bottom<o.top?!1:!!(y(l,o.x,o.y)||g(l.getLineA(),o)||g(l.getLineB(),o)||g(l.getLineC(),o))};C.exports=f},2822:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(76112),y=function(f,l){return!!(f.contains(l.x1,l.y1)||f.contains(l.x2,l.y2)||g(f.getLineA(),l)||g(f.getLineB(),l)||g(f.getLineC(),l))};C.exports=y},82944:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(48653),y=s(71694),f=s(76112),l=function(o,r){if(o.left>r.right||o.right<r.left||o.top>r.bottom||o.bottom<r.top)return!1;var h=o.getLineA(),u=o.getLineB(),a=o.getLineC(),d=r.getLineA(),c=r.getLineB(),p=r.getLineC();if(f(h,d)||f(h,c)||f(h,p)||f(u,d)||f(u,c)||f(u,p)||f(a,d)||f(a,c)||f(a,p))return!0;var v=y(o),m=g(r,v,!0);return m.length>0||(v=y(r),m=g(o,v,!0),m.length>0)};C.exports=l},91865:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CircleToCircle:s(2044),CircleToRectangle:s(81491),GetCircleToCircle:s(63376),GetCircleToRectangle:s(97439),GetLineToCircle:s(4042),GetLineToLine:s(36100),GetLineToPoints:s(3073),GetLineToPolygon:s(56362),GetLineToRectangle:s(60646),GetRaysFromPointToPolygon:s(71147),GetRectangleIntersection:s(68389),GetRectangleToRectangle:s(52784),GetRectangleToTriangle:s(26341),GetTriangleToCircle:s(38720),GetTriangleToLine:s(13882),GetTriangleToTriangle:s(75636),LineToCircle:s(80462),LineToLine:s(76112),LineToRectangle:s(92773),PointToLine:s(16204),PointToLineSegment:s(14199),RectangleToRectangle:s(59996),RectangleToTriangle:s(89265),RectangleToValues:s(84411),TriangleToCircle:s(67636),TriangleToLine:s(2822),TriangleToTriangle:s(82944)}},91938:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.atan2(s.y2-s.y1,s.x2-s.x1)};C.exports=A},84993:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){g===void 0&&(g=1),y===void 0&&(y=[]);var f=Math.round(s.x1),l=Math.round(s.y1),o=Math.round(s.x2),r=Math.round(s.y2),h=Math.abs(o-f),u=Math.abs(r-l),a=f<o?1:-1,d=l<r?1:-1,c=h-u;y.push({x:f,y:l});for(var p=1;!(f===o&&l===r);){var v=c<<1;v>-u&&(c-=u,f+=a),v<h&&(c+=h,l+=d),p%g===0&&y.push({x:f,y:l}),p++}return y};C.exports=A},36469:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=g-(s.x1+s.x2)/2,l=y-(s.y1+s.y2)/2;return s.x1+=f,s.y1+=l,s.x2+=f,s.y2+=l,s};C.exports=A},31116:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23031),y=function(f){return new g(f.x1,f.y1,f.x2,f.y2)};C.exports=y},59944:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x1,s.y1,s.x2,s.y2)};C.exports=A},59220:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x1===g.x1&&s.y1===g.y1&&s.x2===g.x2&&s.y2===g.y2};C.exports=A},78177:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=function(f,l,o){o===void 0&&(o=l);var r=g(f),h=f.x2-f.x1,u=f.y2-f.y1;return l&&(f.x1=f.x1-h/r*l,f.y1=f.y1-u/r*l),o&&(f.x2=f.x2+h/r*o,f.y2=f.y2+u/r*o),f};C.exports=y},26708:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(52816),y=s(6113),f=s(2141),l=function(o,r,h,u,a){u===void 0&&(u=0),a===void 0&&(a=[]);var d=[],c=o.x1,p=o.y1,v=o.x2-c,m=o.y2-p,T=y(r,a),E,P,w=h-1;for(E=0;E<w;E++)P=T(E/w),d.push(new f(c+v*P,p+m*P));if(P=T(1),d.push(new f(c+v*P,p+m*P)),u>0){var R=d[0],L=[R];for(E=1;E<d.length-1;E++){var O=d[E];g(R,O)>=u&&(L.push(O),R=O)}var I=d[d.length-1];return g(R,I)<u&&L.pop(),L.push(I),L}else return d};C.exports=l},32125:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.x=(f.x1+f.x2)/2,l.y=(f.y1+f.y2)/2,l};C.exports=y},99569:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,o){o===void 0&&(o=new g);var r=f.x1,h=f.y1,u=f.x2,a=f.y2,d=(u-r)*(u-r)+(a-h)*(a-h);if(d===0)return o;var c=((l.x-r)*(u-r)+(l.y-h)*(a-h))/d;return o.x=r+c*(u-r),o.y=h+c*(a-h),o};C.exports=y},34638:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(91938),f=s(2141),l=function(o,r){r===void 0&&(r=new f);var h=y(o)-g.TAU;return r.x=Math.cos(h),r.y=Math.sin(h),r};C.exports=l},13151:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,o){return o===void 0&&(o=new g),o.x=f.x1+(f.x2-f.x1)*l,o.y=f.y1+(f.y2-f.y1)*l,o};C.exports=y},15258:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=s(2141),f=function(l,o,r,h){h===void 0&&(h=[]),!o&&r>0&&(o=g(l)/r);for(var u=l.x1,a=l.y1,d=l.x2,c=l.y2,p=0;p<o;p++){var v=p/o,m=u+(d-u)*v,T=a+(c-a)*v;h.push(new y(m,T))}return h};C.exports=f},26408:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.x1,f=s.y1,l=s.x2,o=s.y2,r=(l-y)*(l-y)+(o-f)*(o-f);if(r===0)return!1;var h=((f-g.y)*(l-y)-(y-g.x)*(o-f))/r;return Math.abs(h)*Math.sqrt(r)};C.exports=A},98770:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.abs(s.y1-s.y2)};C.exports=A},35001:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.sqrt((s.x2-s.x1)*(s.x2-s.x1)+(s.y2-s.y1)*(s.y2-s.y1))};C.exports=A},23031:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(13151),f=s(15258),l=s(23777),o=s(65822),r=s(26099),h=new g({initialize:function(a,d,c,p){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=l.LINE,this.x1=a,this.y1=d,this.x2=c,this.y2=p},getPoint:function(u,a){return y(this,u,a)},getPoints:function(u,a,d){return f(this,u,a,d)},getRandomPoint:function(u){return o(this,u)},setTo:function(u,a,d,c){return u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),this.x1=u,this.y1=a,this.x2=d,this.y2=c,this},setFromObjects:function(u,a){return this.x1=u.x,this.y1=u.y,this.x2=a.x,this.y2=a.y,this},getPointA:function(u){return u===void 0&&(u=new r),u.set(this.x1,this.y1),u},getPointB:function(u){return u===void 0&&(u=new r),u.set(this.x2,this.y2),u},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(u){this.x1<=this.x2?this.x1=u:this.x2=u}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(u){this.x1>this.x2?this.x1=u:this.x2=u}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(u){this.y1<=this.y2?this.y1=u:this.y2=u}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(u){this.y1>this.y2?this.y1=u:this.y2=u}}});C.exports=h},64795:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(15994),f=s(91938),l=function(o){var r=f(o)-g.TAU;return y(r,-Math.PI,Math.PI)};C.exports=l},52616:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(91938),f=function(l){return Math.cos(y(l)-g.TAU)};C.exports=f},87231:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(91938),f=function(l){return Math.sin(y(l)-g.TAU)};C.exports=f},89662:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x1+=g,s.y1+=y,s.x2+=g,s.y2+=y,s};C.exports=A},71165:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return-((s.x2-s.x1)/(s.y2-s.y1))};C.exports=A},65822:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){l===void 0&&(l=new g);var o=Math.random();return l.x=f.x1+o*(f.x2-f.x1),l.y=f.y1+o*(f.y2-f.y1),l};C.exports=y},69777:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91938),y=s(64795),f=function(l,o){return 2*y(o)-Math.PI-g(l)};C.exports=f},39706:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(64400),y=function(f,l){var o=(f.x1+f.x2)/2,r=(f.y1+f.y2)/2;return g(f,o,r,l)};C.exports=y},82585:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(64400),y=function(f,l,o){return g(f,l.x,l.y,o)};C.exports=y},64400:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=Math.cos(f),o=Math.sin(f),r=s.x1-g,h=s.y1-y;return s.x1=r*l-h*o+g,s.y1=r*o+h*l+y,r=s.x2-g,h=s.y2-y,s.x2=r*l-h*o+g,s.y2=r*o+h*l+y,s};C.exports=A},62377:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){return s.x1=g,s.y1=y,s.x2=g+Math.cos(f)*l,s.y2=y+Math.sin(f)*l,s};C.exports=A},71366:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s.y2-s.y1)/(s.x2-s.x1)};C.exports=A},10809:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.abs(s.x1-s.x2)};C.exports=A},2529:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23031);g.Angle=s(91938),g.BresenhamPoints=s(84993),g.CenterOn=s(36469),g.Clone=s(31116),g.CopyFrom=s(59944),g.Equals=s(59220),g.Extend=s(78177),g.GetEasedPoints=s(26708),g.GetMidPoint=s(32125),g.GetNearestPoint=s(99569),g.GetNormal=s(34638),g.GetPoint=s(13151),g.GetPoints=s(15258),g.GetShortestDistance=s(26408),g.Height=s(98770),g.Length=s(35001),g.NormalAngle=s(64795),g.NormalX=s(52616),g.NormalY=s(87231),g.Offset=s(89662),g.PerpSlope=s(71165),g.Random=s(65822),g.ReflectAngle=s(69777),g.Rotate=s(39706),g.RotateAroundPoint=s(82585),g.RotateAroundXY=s(64400),g.SetToAngle=s(62377),g.Slope=s(71366),g.Width=s(10809),C.exports=g},83997:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(87841),f=s(26099);function l(r,h,u,a){var d=r-u,c=h-a,p=d*d+c*c;return Math.sqrt(p)}var o=new g({initialize:function(h,u,a){this.vertex1=h,this.vertex2=u,this.vertex3=a,this.bounds=new y,this._inCenter=new f},getInCenter:function(r){r===void 0&&(r=!0);var h=this.vertex1,u=this.vertex2,a=this.vertex3,d,c,p,v,m,T;r?(d=h.x,c=h.y,p=u.x,v=u.y,m=a.x,T=a.y):(d=h.vx,c=h.vy,p=u.vx,v=u.vy,m=a.vx,T=a.vy);var E=l(m,T,p,v),P=l(d,c,m,T),w=l(p,v,d,c),R=E+P+w;return this._inCenter.set((d*E+p*P+m*w)/R,(c*E+v*P+T*w)/R)},contains:function(r,h,u){var a=this.vertex1,d=this.vertex2,c=this.vertex3,p=a.vx,v=a.vy,m=d.vx,T=d.vy,E=c.vx,P=c.vy;if(u){var w=u.a,R=u.b,L=u.c,O=u.d,I=u.e,F=u.f;p=a.vx*w+a.vy*L+I,v=a.vx*R+a.vy*O+F,m=d.vx*w+d.vy*L+I,T=d.vx*R+d.vy*O+F,E=c.vx*w+c.vy*L+I,P=c.vx*R+c.vy*O+F}var B=E-p,G=P-v,z=m-p,Y=T-v,J=r-p,$=h-v,j=B*B+G*G,X=B*z+G*Y,H=B*J+G*$,N=z*z+Y*Y,Q=z*J+Y*$,U=j*N-X*X,q=U===0?0:1/U,et=(N*H-X*Q)*q,it=(j*Q-X*H)*q;return et>=0&&it>=0&&et+it<1},isCounterClockwise:function(r){var h=this.vertex1,u=this.vertex2,a=this.vertex3,d=(u.vx-h.vx)*(a.vy-h.vy)-(u.vy-h.vy)*(a.vx-h.vx);return r<=0?d>=0:d<0},load:function(r,h,u,a,d){return u=this.vertex1.load(r,h,u,a,d),u=this.vertex2.load(r,h,u,a,d),u=this.vertex3.load(r,h,u,a,d),u},transformCoordinatesLocal:function(r,h,u,a){return this.vertex1.transformCoordinatesLocal(r,h,u,a),this.vertex2.transformCoordinatesLocal(r,h,u,a),this.vertex3.transformCoordinatesLocal(r,h,u,a),this},updateBounds:function(){var r=this.vertex1,h=this.vertex2,u=this.vertex3,a=this.bounds;return a.x=Math.min(r.vx,h.vx,u.vx),a.y=Math.min(r.vy,h.vy,u.vy),a.width=Math.max(r.vx,h.vx,u.vx)-a.x,a.height=Math.max(r.vy,h.vy,u.vy)-a.y,this},isInView:function(r,h,u,a,d,c,p,v,m,T,E){this.update(a,d,c,p,v,m,T,E);var P=this.vertex1,w=this.vertex2,R=this.vertex3;if(P.ta<=0&&w.ta<=0&&R.ta<=0||h&&!this.isCounterClockwise(u))return!1;var L=this.bounds;L.x=Math.min(P.tx,w.tx,R.tx),L.y=Math.min(P.ty,w.ty,R.ty),L.width=Math.max(P.tx,w.tx,R.tx)-L.x,L.height=Math.max(P.ty,w.ty,R.ty)-L.y;var O=r.x+r.width,I=r.y+r.height;return L.width<=0||L.height<=0||r.width<=0||r.height<=0?!1:!(L.right<r.x||L.bottom<r.y||L.x>O||L.y>I)},scrollUV:function(r,h){return this.vertex1.scrollUV(r,h),this.vertex2.scrollUV(r,h),this.vertex3.scrollUV(r,h),this},scaleUV:function(r,h){return this.vertex1.scaleUV(r,h),this.vertex2.scaleUV(r,h),this.vertex3.scaleUV(r,h),this},setColor:function(r){return this.vertex1.color=r,this.vertex2.color=r,this.vertex3.color=r,this},update:function(r,h,u,a,d,c,p,v){return this.vertex1.update(h,u,a,d,c,p,v,r),this.vertex2.update(h,u,a,d,c,p,v,r),this.vertex3.update(h,u,a,d,c,p,v,r),this},translate:function(r,h){h===void 0&&(h=0);var u=this.vertex1,a=this.vertex2,d=this.vertex3;return u.x+=r,u.y+=h,a.x+=r,a.y+=h,d.x+=r,d.y+=h,this},x:{get:function(){return this.getInCenter().x},set:function(r){var h=this.getInCenter();this.translate(r-h.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(r){var h=this.getInCenter();this.translate(0,r-h.y)}},alpha:{get:function(){var r=this.vertex1,h=this.vertex2,u=this.vertex3;return(r.alpha+h.alpha+u.alpha)/3},set:function(r){this.vertex1.alpha=r,this.vertex2.alpha=r,this.vertex3.alpha=r}},depth:{get:function(){var r=this.vertex1,h=this.vertex2,u=this.vertex3;return(r.vz+h.vz+u.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});C.exports=o},48803:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83997),y=s(95540),f=s(37867),l=s(25836),o=s(39318),r=new l,h=new l,u=new f,a=function(d){var c=y(d,"mesh"),p=y(d,"texture",null),v=y(d,"frame"),m=y(d,"width",1),T=y(d,"height",m),E=y(d,"widthSegments",1),P=y(d,"heightSegments",E),w=y(d,"x",0),R=y(d,"y",0),L=y(d,"z",0),O=y(d,"rotateX",0),I=y(d,"rotateY",0),F=y(d,"rotateZ",0),B=y(d,"zIsUp",!0),G=y(d,"isOrtho",c?c.dirtyCache[11]:!1),z=y(d,"colors",[16777215]),Y=y(d,"alphas",[1]),J=y(d,"tile",!1),$=y(d,"flipY",!1),j=y(d,"width",null),X={faces:[],verts:[]};r.set(w,R,L),h.set(O,I,F),u.fromRotationXYTranslation(h,r,B);var H;if(!p&&c)p=c.texture,v||(H=c.frame);else if(c&&typeof p=="string")p=c.scene.sys.textures.get(p);else if(!p)return X;H||(H=p.get(v)),!j&&G&&p&&c&&(m=H.width/c.height,T=H.height/c.height);var N=m/2,Q=T/2,U=Math.floor(E),q=Math.floor(P),et=U+1,it=q+1,rt=m/U,lt=T/q,ft=[],gt=[],vt,xt,yt=0,Ct=1,Rt=0,bt=1;H&&(yt=H.u0,Ct=H.u1,$?(Rt=H.v1,bt=H.v0):(Rt=H.v0,bt=H.v1));var Lt=Ct-yt,St=bt-Rt;for(xt=0;xt<it;xt++){var Et=xt*lt-Q;for(vt=0;vt<et;vt++){var Mt=vt*rt-N;gt.push(Mt,-Et);var Vt=yt+Lt*(vt/U),Kt=Rt+St*(xt/q);ft.push(Vt,Kt)}}Array.isArray(z)||(z=[z]),Array.isArray(Y)||(Y=[Y]);var oe=0,Jt=0;for(xt=0;xt<q;xt++)for(vt=0;vt<U;vt++){var Qt=(vt+et*xt)*2,fe=(vt+et*(xt+1))*2,be=(vt+1+et*(xt+1))*2,$t=(vt+1+et*xt)*2,le=z[Jt],kt=Y[oe],ve=new o(gt[Qt],gt[Qt+1],0,ft[Qt],ft[Qt+1],le,kt).transformMat4(u),Mi=new o(gt[fe],gt[fe+1],0,ft[fe],ft[fe+1],le,kt).transformMat4(u),rs=new o(gt[$t],gt[$t+1],0,ft[$t],ft[$t+1],le,kt).transformMat4(u),Ts=new o(gt[fe],gt[fe+1],0,ft[fe],ft[fe+1],le,kt).transformMat4(u),Ps=new o(gt[be],gt[be+1],0,ft[be],ft[be+1],le,kt).transformMat4(u),oi=new o(gt[$t],gt[$t+1],0,ft[$t],ft[$t+1],le,kt).transformMat4(u);J&&(ve.setUVs(yt,bt),Mi.setUVs(yt,Rt),rs.setUVs(Ct,bt),Ts.setUVs(yt,Rt),Ps.setUVs(Ct,Rt),oi.setUVs(Ct,bt)),Jt++,Jt===z.length&&(Jt=0),oe++,oe===Y.length&&(oe=0),X.verts.push(ve,Mi,rs,Ts,Ps,oi),X.faces.push(new g(ve,Mi,rs),new g(Ts,Ps,oi))}return c&&(c.faces=c.faces.concat(X.faces),c.vertices=c.vertices.concat(X.verts)),X};C.exports=a},34684:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83997),y=s(37867),f=s(25836),l=s(39318),o=new f,r=new f,h=new y,u=function(a,d,c,p,v,m,T,E,P,w){c===void 0&&(c=1),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),E===void 0&&(E=0),P===void 0&&(P=0),w===void 0&&(w=!0);var R={faces:[],verts:[]},L=a.materials;o.set(p,v,m),r.set(T,E,P),h.fromRotationXYTranslation(r,o,w);for(var O=0;O<a.models.length;O++)for(var I=a.models[O],F=I.vertices,B=I.textureCoords,G=I.faces,z=0;z<G.length;z++){var Y=G[z],J=Y.vertices[0],$=Y.vertices[1],j=Y.vertices[2],X=F[J.vertexIndex],H=F[$.vertexIndex],N=F[j.vertexIndex],Q=J.textureCoordsIndex,U=$.textureCoordsIndex,q=j.textureCoordsIndex,et=Q===-1?{u:0,v:1}:B[Q],it=U===-1?{u:0,v:0}:B[U],rt=q===-1?{u:1,v:1}:B[q],lt=16777215;Y.material!==""&&L[Y.material]&&(lt=L[Y.material]);var ft=new l(X.x*c,X.y*c,X.z*c,et.u,et.v,lt).transformMat4(h),gt=new l(H.x*c,H.y*c,H.z*c,it.u,it.v,lt).transformMat4(h),vt=new l(N.x*c,N.y*c,N.z*c,rt.u,rt.v,lt).transformMat4(h);R.verts.push(ft,gt,vt),R.faces.push(new g(ft,gt,vt))}return d&&(d.faces=d.faces.concat(R.faces),d.vertices=d.vertices.concat(R.verts)),R};C.exports=u},92515:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83997),y=s(39318),f=function(l,o,r,h,u,a,d,c){if(h===void 0&&(h=!1),a===void 0&&(a=16777215),d===void 0&&(d=1),c===void 0&&(c=!1),l.length!==o.length&&!h){console.warn("GenerateVerts: vertices and uvs count not equal");return}var p={faces:[],vertices:[]},v,m,T,E,P,w,R,L,O,I,F,B=h?3:2,G=Array.isArray(a),z=Array.isArray(d);if(Array.isArray(r)&&r.length>0)for(v=0;v<r.length;v++){var Y=r[v],J=r[v]*2,$=r[v]*B;m=l[$],T=l[$+1],E=h?l[$+2]:0,P=o[J],w=o[J+1],c&&(w=1-w),R=G?a[Y]:a,L=z?d[Y]:d,O=0,I=0,F=0,u&&(O=u[$],I=u[$+1],F=h?u[$+2]:0),p.vertices.push(new y(m,T,E,P,w,R,L,O,I,F))}else{var j=0,X=0;for(v=0;v<l.length;v+=B)m=l[v],T=l[v+1],E=h?l[v+2]:0,P=o[j],w=o[j+1],R=G?a[X]:a,L=z?d[X]:d,O=0,I=0,F=0,u&&(O=u[v],I=u[v+1],F=h?u[v+2]:0),p.vertices.push(new y(m,T,E,P,w,R,L,O,I,F)),j+=2,X++}for(v=0;v<p.vertices.length;v+=3){var H=p.vertices[v],N=p.vertices[v+1],Q=p.vertices[v+2];p.faces.push(new g(H,N,Q))}return p};C.exports=f},85048:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=!0,s="untitled",g="",y="";function f(m){var T=m.indexOf("#");return T>-1?m.substring(0,T):m}function l(m){return m.models.length===0&&m.models.push({faces:[],name:s,textureCoords:[],vertexNormals:[],vertices:[]}),g="",m.models[m.models.length-1]}function o(m,T){var E=m.length>=2?m[1]:s;T.models.push({faces:[],name:E,textureCoords:[],vertexNormals:[],vertices:[]}),g=""}function r(m){m.length===2&&(g=m[1])}function h(m,T){var E=m.length,P=E>=2?parseFloat(m[1]):0,w=E>=3?parseFloat(m[2]):0,R=E>=4?parseFloat(m[3]):0;l(T).vertices.push({x:P,y:w,z:R})}function u(m,T){var E=m.length,P=E>=2?parseFloat(m[1]):0,w=E>=3?parseFloat(m[2]):0,R=E>=4?parseFloat(m[3]):0;isNaN(P)&&(P=0),isNaN(w)&&(w=0),isNaN(R)&&(R=0),A&&(w=1-w),l(T).textureCoords.push({u:P,v:w,w:R})}function a(m,T){var E=m.length,P=E>=2?parseFloat(m[1]):0,w=E>=3?parseFloat(m[2]):0,R=E>=4?parseFloat(m[3]):0;l(T).vertexNormals.push({x:P,y:w,z:R})}function d(m,T){var E=m.length-1;if(!(E<3)){for(var P={group:g,material:y,vertices:[]},w=0;w<E;w++){var R=m[w+1],L=R.split("/"),O=L.length;if(!(O<1||O>3)){var I=0,F=0,B=0;I=parseInt(L[0],10),O>1&&L[1]!==""&&(F=parseInt(L[1],10)),O>2&&(B=parseInt(L[2],10)),I!==0&&(I<0&&(I=l(T).vertices.length+1+I),F-=1,I-=1,B-=1,P.vertices.push({textureCoordsIndex:F,vertexIndex:I,vertexNormalIndex:B}))}}l(T).faces.push(P)}}function c(m,T){m.length>=2&&T.materialLibraries.push(m[1])}function p(m){m.length>=2&&(y=m[1])}var v=function(m,T){T===void 0&&(T=!0),A=T;var E={materials:{},materialLibraries:[],models:[]};g="",y="";for(var P=m.split(`
`),w=0;w<P.length;w++){var R=f(P[w]),L=R.replace(/\s\s+/g," ").trim().split(" ");switch(L[0].toLowerCase()){case"o":o(L,E);break;case"g":r(L);break;case"v":h(L,E);break;case"vt":u(L,E);break;case"vn":a(L,E);break;case"f":d(L,E);break;case"mtllib":c(L,E);break;case"usemtl":p(L);break}}return E};C.exports=v},61485:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37589),y=function(f){for(var l={},o=f.split(`
`),r="",h=0;h<o.length;h++){var u=o[h].trim();if(!(u.indexOf("#")===0||u==="")){var a=u.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":{r=a[1];break}case"kd":{var d=Math.floor(a[1]*255),c=a.length>=2?Math.floor(a[2]*255):d,p=a.length>=3?Math.floor(a[3]*255):d;l[r]=g(d,c,p);break}}}}return l};C.exports=y},92570:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l,o;if(y===void 0&&f===void 0){var r=s.getInCenter();l=r.x,o=r.y}var h=Math.cos(g),u=Math.sin(g),a=s.vertex1,d=s.vertex2,c=s.vertex3,p=a.x-l,v=a.y-o;a.set(p*h-v*u+l,p*u+v*h+o),p=d.x-l,v=d.y-o,d.set(p*h-v*u+l,p*u+v*h+o),p=c.x-l,v=c.y-o,c.set(p*h-v*u+l,p*u+v*h+o)};C.exports=A},39318:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(70554),f=s(25836),l=new g({Extends:f,initialize:function(r,h,u,a,d,c,p,v,m,T){c===void 0&&(c=16777215),p===void 0&&(p=1),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),f.call(this,r,h,u),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=m,this.nz=T,this.u=a,this.v=d,this.color=c,this.alpha=p,this.tx=0,this.ty=0,this.ta=0,this.tu=a,this.tv=d},setUVs:function(o,r){return this.u=o,this.v=r,this.tu=o,this.tv=r,this},scrollUV:function(o,r){return this.tu+=o,this.tv+=r,this},scaleUV:function(o,r){return this.tu=this.u*o,this.tv=this.v*r,this},transformCoordinatesLocal:function(o,r,h,u){var a=this.x,d=this.y,c=this.z,p=o.val,v=a*p[0]+d*p[4]+c*p[8]+p[12],m=a*p[1]+d*p[5]+c*p[9]+p[13],T=a*p[2]+d*p[6]+c*p[10]+p[14],E=a*p[3]+d*p[7]+c*p[11]+p[15];this.vx=v/E*r,this.vy=-(m/E)*h,u<=0?this.vz=T/E:this.vz=-(T/E)},resize:function(o,r,h,u,a,d){return this.x=o,this.y=r,this.vx=this.x*h,this.vy=-this.y*u,this.vz=0,a<.5?this.vx+=h*(.5-a):a>.5&&(this.vx-=h*(a-.5)),d<.5?this.vy+=u*(.5-d):d>.5&&(this.vy-=u*(d-.5)),this},update:function(o,r,h,u,a,d,c,p){var v=this.vx*o+this.vy*h+a,m=this.vx*r+this.vy*u+d;return c&&(v=Math.round(v),m=Math.round(m)),this.tx=v,this.ty=m,this.ta=this.alpha*p,this},load:function(o,r,h,u,a){return o[++h]=this.tx,o[++h]=this.ty,o[++h]=this.tu,o[++h]=this.tv,o[++h]=u,o[++h]=a,r[++h]=y.getTintAppendFloatAlpha(this.color,this.ta),h}});C.exports=l},73090:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={Face:s(83997),GenerateGridVerts:s(48803),GenerateObjVerts:s(34684),GenerateVerts:s(92515),ParseObj:s(85048),ParseObjMaterial:s(61485),RotateFace:s(92570),Vertex:s(39318)};C.exports=g},96550:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.setTo(Math.ceil(s.x),Math.ceil(s.y))};C.exports=A},99706:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f){return new g(f.x,f.y)};C.exports=y},68010:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x,s.y)};C.exports=A},27814:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x===g.x&&s.y===g.y};C.exports=A},73565:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.setTo(Math.floor(s.x),Math.floor(s.y))};C.exports=A},87555:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){if(l===void 0&&(l=new g),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var o=f.length;if(o<1)throw new Error("GetCentroid points array must not be empty");if(o===1)l.x=f[0].x,l.y=f[0].y;else{for(var r=0;r<o;r++)l.x+=f[r].x,l.y+=f[r].y;l.x/=o,l.y/=o}return l};C.exports=y},28793:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)};C.exports=A},44405:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x*s.x+s.y*s.y};C.exports=A},20873:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l){l===void 0&&(l=new g);for(var o=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,a=0;a<f.length;a++){var d=f[a];d.x>o&&(o=d.x),d.x<r&&(r=d.x),d.y>h&&(h=d.y),d.y<u&&(u=d.y)}return l.x=r,l.y=u,l.width=o-r,l.height=h-u,l};C.exports=y},26152:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,o,r){return o===void 0&&(o=0),r===void 0&&(r=new g),r.x=f.x+(l.x-f.x)*o,r.y=f.y+(l.y-f.y)*o,r};C.exports=y},55767:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.setTo(s.y,s.x)};C.exports=A},79432:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.setTo(-f.x,-f.y)};C.exports=y},2141:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23777),f=new g({initialize:function(o,r){o===void 0&&(o=0),r===void 0&&(r=o),this.type=y.POINT,this.x=o,this.y=r},setTo:function(l,o){return l===void 0&&(l=0),o===void 0&&(o=l),this.x=l,this.y=o,this}});C.exports=f},72930:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(44405),f=function(l,o,r){r===void 0&&(r=new g);var h=l.x*o.x+l.y*o.y,u=h/y(o);return u!==0&&(r.x=u*o.x,r.y=u*o.y),r};C.exports=f},62880:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,o){o===void 0&&(o=new g);var r=f.x*l.x+f.y*l.y;return r!==0&&(o.x=r*l.x,o.y=r*l.y),o};C.exports=y},15093:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(28793),y=function(f,l){if(f.x!==0||f.y!==0){var o=g(f);f.x/=o,f.y/=o}return f.x*=l,f.y*=l,f};C.exports=y},43711:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141);g.Ceil=s(96550),g.Clone=s(99706),g.CopyFrom=s(68010),g.Equals=s(27814),g.Floor=s(73565),g.GetCentroid=s(87555),g.GetMagnitude=s(28793),g.GetMagnitudeSq=s(44405),g.GetRectangleFromPoints=s(20873),g.Interpolate=s(26152),g.Invert=s(55767),g.Negative=s(79432),g.Project=s(72930),g.ProjectUnit=s(62880),g.SetMagnitude=s(15093),C.exports=g},12306:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25717),y=function(f){return new g(f.points)};C.exports=y},63814:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){for(var f=!1,l=-1,o=s.points.length-1;++l<s.points.length;o=l){var r=s.points[l].x,h=s.points[l].y,u=s.points[o].x,a=s.points[o].y;(h<=y&&y<a||a<=y&&y<h)&&g<(u-r)*(y-h)/(a-h)+r&&(f=!f)}return f};C.exports=A},99338:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(63814),y=function(f,l){return g(f,l.x,l.y)};C.exports=y},94811:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(X,H,N){N=N||2;var Q=H&&H.length,U=Q?H[0]*N:X.length,q=s(X,0,U,N,!0),et=[];if(!q||q.next===q.prev)return et;var it,rt,lt,ft,gt,vt,xt;if(Q&&(q=h(X,H,q,N)),X.length>80*N){it=lt=X[0],rt=ft=X[1];for(var yt=N;yt<U;yt+=N)gt=X[yt],vt=X[yt+1],gt<it&&(it=gt),vt<rt&&(rt=vt),gt>lt&&(lt=gt),vt>ft&&(ft=vt);xt=Math.max(lt-it,ft-rt),xt=xt!==0?32767/xt:0}return y(q,et,N,it,rt,xt,0),et}function s(X,H,N,Q,U){var q,et;if(U===j(X,H,N,Q)>0)for(q=H;q<N;q+=Q)et=Y(q,X[q],X[q+1],et);else for(q=N-Q;q>=H;q-=Q)et=Y(q,X[q],X[q+1],et);return et&&R(et,et.next)&&(J(et),et=et.next),et}function g(X,H){if(!X)return X;H||(H=X);var N=X,Q;do if(Q=!1,!N.steiner&&(R(N,N.next)||w(N.prev,N,N.next)===0)){if(J(N),N=H=N.prev,N===N.next)break;Q=!0}else N=N.next;while(Q||N!==H);return H}function y(X,H,N,Q,U,q,et){if(X){!et&&q&&p(X,Q,U,q);for(var it=X,rt,lt;X.prev!==X.next;){if(rt=X.prev,lt=X.next,q?l(X,Q,U,q):f(X)){H.push(rt.i/N|0),H.push(X.i/N|0),H.push(lt.i/N|0),J(X),X=lt.next,it=lt.next;continue}if(X=lt,X===it){et?et===1?(X=o(g(X),H,N),y(X,H,N,Q,U,q,2)):et===2&&r(X,H,N,Q,U,q):y(g(X),H,N,Q,U,q,1);break}}}}function f(X){var H=X.prev,N=X,Q=X.next;if(w(H,N,Q)>=0)return!1;for(var U=H.x,q=N.x,et=Q.x,it=H.y,rt=N.y,lt=Q.y,ft=U<q?U<et?U:et:q<et?q:et,gt=it<rt?it<lt?it:lt:rt<lt?rt:lt,vt=U>q?U>et?U:et:q>et?q:et,xt=it>rt?it>lt?it:lt:rt>lt?rt:lt,yt=Q.next;yt!==H;){if(yt.x>=ft&&yt.x<=vt&&yt.y>=gt&&yt.y<=xt&&E(U,it,q,rt,et,lt,yt.x,yt.y)&&w(yt.prev,yt,yt.next)>=0)return!1;yt=yt.next}return!0}function l(X,H,N,Q){var U=X.prev,q=X,et=X.next;if(w(U,q,et)>=0)return!1;for(var it=U.x,rt=q.x,lt=et.x,ft=U.y,gt=q.y,vt=et.y,xt=it<rt?it<lt?it:lt:rt<lt?rt:lt,yt=ft<gt?ft<vt?ft:vt:gt<vt?gt:vt,Ct=it>rt?it>lt?it:lt:rt>lt?rt:lt,Rt=ft>gt?ft>vt?ft:vt:gt>vt?gt:vt,bt=m(xt,yt,H,N,Q),Lt=m(Ct,Rt,H,N,Q),St=X.prevZ,Et=X.nextZ;St&&St.z>=bt&&Et&&Et.z<=Lt;){if(St.x>=xt&&St.x<=Ct&&St.y>=yt&&St.y<=Rt&&St!==U&&St!==et&&E(it,ft,rt,gt,lt,vt,St.x,St.y)&&w(St.prev,St,St.next)>=0||(St=St.prevZ,Et.x>=xt&&Et.x<=Ct&&Et.y>=yt&&Et.y<=Rt&&Et!==U&&Et!==et&&E(it,ft,rt,gt,lt,vt,Et.x,Et.y)&&w(Et.prev,Et,Et.next)>=0))return!1;Et=Et.nextZ}for(;St&&St.z>=bt;){if(St.x>=xt&&St.x<=Ct&&St.y>=yt&&St.y<=Rt&&St!==U&&St!==et&&E(it,ft,rt,gt,lt,vt,St.x,St.y)&&w(St.prev,St,St.next)>=0)return!1;St=St.prevZ}for(;Et&&Et.z<=Lt;){if(Et.x>=xt&&Et.x<=Ct&&Et.y>=yt&&Et.y<=Rt&&Et!==U&&Et!==et&&E(it,ft,rt,gt,lt,vt,Et.x,Et.y)&&w(Et.prev,Et,Et.next)>=0)return!1;Et=Et.nextZ}return!0}function o(X,H,N){var Q=X;do{var U=Q.prev,q=Q.next.next;!R(U,q)&&L(U,Q,Q.next,q)&&B(U,q)&&B(q,U)&&(H.push(U.i/N|0),H.push(Q.i/N|0),H.push(q.i/N|0),J(Q),J(Q.next),Q=X=q),Q=Q.next}while(Q!==X);return g(Q)}function r(X,H,N,Q,U,q){var et=X;do{for(var it=et.next.next;it!==et.prev;){if(et.i!==it.i&&P(et,it)){var rt=z(et,it);et=g(et,et.next),rt=g(rt,rt.next),y(et,H,N,Q,U,q,0),y(rt,H,N,Q,U,q,0);return}it=it.next}et=et.next}while(et!==X)}function h(X,H,N,Q){var U=[],q,et,it,rt,lt;for(q=0,et=H.length;q<et;q++)it=H[q]*Q,rt=q<et-1?H[q+1]*Q:X.length,lt=s(X,it,rt,Q,!1),lt===lt.next&&(lt.steiner=!0),U.push(T(lt));for(U.sort(u),q=0;q<U.length;q++)N=a(U[q],N);return N}function u(X,H){return X.x-H.x}function a(X,H){var N=d(X,H);if(!N)return H;var Q=z(N,X);return g(Q,Q.next),g(N,N.next)}function d(X,H){var N=H,Q=X.x,U=X.y,q=-1/0,et;do{if(U<=N.y&&U>=N.next.y&&N.next.y!==N.y){var it=N.x+(U-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(it<=Q&&it>q&&(q=it,et=N.x<N.next.x?N:N.next,it===Q))return et}N=N.next}while(N!==H);if(!et)return null;var rt=et,lt=et.x,ft=et.y,gt=1/0,vt;N=et;do Q>=N.x&&N.x>=lt&&Q!==N.x&&E(U<ft?Q:q,U,lt,ft,U<ft?q:Q,U,N.x,N.y)&&(vt=Math.abs(U-N.y)/(Q-N.x),B(N,X)&&(vt<gt||vt===gt&&(N.x>et.x||N.x===et.x&&c(et,N)))&&(et=N,gt=vt)),N=N.next;while(N!==rt);return et}function c(X,H){return w(X.prev,X,H.prev)<0&&w(H.next,X,X.next)<0}function p(X,H,N,Q){var U=X;do U.z===0&&(U.z=m(U.x,U.y,H,N,Q)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==X);U.prevZ.nextZ=null,U.prevZ=null,v(U)}function v(X){var H,N,Q,U,q,et,it,rt,lt=1;do{for(N=X,X=null,q=null,et=0;N;){for(et++,Q=N,it=0,H=0;H<lt&&(it++,Q=Q.nextZ,!!Q);H++);for(rt=lt;it>0||rt>0&&Q;)it!==0&&(rt===0||!Q||N.z<=Q.z)?(U=N,N=N.nextZ,it--):(U=Q,Q=Q.nextZ,rt--),q?q.nextZ=U:X=U,U.prevZ=q,q=U;N=Q}q.nextZ=null,lt*=2}while(et>1);return X}function m(X,H,N,Q,U){return X=(X-N)*U|0,H=(H-Q)*U|0,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,X|H<<1}function T(X){var H=X,N=X;do(H.x<N.x||H.x===N.x&&H.y<N.y)&&(N=H),H=H.next;while(H!==X);return N}function E(X,H,N,Q,U,q,et,it){return(U-et)*(H-it)>=(X-et)*(q-it)&&(X-et)*(Q-it)>=(N-et)*(H-it)&&(N-et)*(q-it)>=(U-et)*(Q-it)}function P(X,H){return X.next.i!==H.i&&X.prev.i!==H.i&&!F(X,H)&&(B(X,H)&&B(H,X)&&G(X,H)&&(w(X.prev,X,H.prev)||w(X,H.prev,H))||R(X,H)&&w(X.prev,X,X.next)>0&&w(H.prev,H,H.next)>0)}function w(X,H,N){return(H.y-X.y)*(N.x-H.x)-(H.x-X.x)*(N.y-H.y)}function R(X,H){return X.x===H.x&&X.y===H.y}function L(X,H,N,Q){var U=I(w(X,H,N)),q=I(w(X,H,Q)),et=I(w(N,Q,X)),it=I(w(N,Q,H));return!!(U!==q&&et!==it||U===0&&O(X,N,H)||q===0&&O(X,Q,H)||et===0&&O(N,X,Q)||it===0&&O(N,H,Q))}function O(X,H,N){return H.x<=Math.max(X.x,N.x)&&H.x>=Math.min(X.x,N.x)&&H.y<=Math.max(X.y,N.y)&&H.y>=Math.min(X.y,N.y)}function I(X){return X>0?1:X<0?-1:0}function F(X,H){var N=X;do{if(N.i!==X.i&&N.next.i!==X.i&&N.i!==H.i&&N.next.i!==H.i&&L(N,N.next,X,H))return!0;N=N.next}while(N!==X);return!1}function B(X,H){return w(X.prev,X,X.next)<0?w(X,H,X.next)>=0&&w(X,X.prev,H)>=0:w(X,H,X.prev)<0||w(X,X.next,H)<0}function G(X,H){var N=X,Q=!1,U=(X.x+H.x)/2,q=(X.y+H.y)/2;do N.y>q!=N.next.y>q&&N.next.y!==N.y&&U<(N.next.x-N.x)*(q-N.y)/(N.next.y-N.y)+N.x&&(Q=!Q),N=N.next;while(N!==X);return Q}function z(X,H){var N=new $(X.i,X.x,X.y),Q=new $(H.i,H.x,H.y),U=X.next,q=H.prev;return X.next=H,H.prev=X,N.next=U,U.prev=N,Q.next=N,N.prev=Q,q.next=Q,Q.prev=q,Q}function Y(X,H,N,Q){var U=new $(X,H,N);return Q?(U.next=Q.next,U.prev=Q,Q.next.prev=U,Q.next=U):(U.prev=U,U.next=U),U}function J(X){X.next.prev=X.prev,X.prev.next=X.next,X.prevZ&&(X.prevZ.nextZ=X.nextZ),X.nextZ&&(X.nextZ.prevZ=X.prevZ)}function $(X,H,N){this.i=X,this.x=H,this.y=N,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}A.deviation=function(X,H,N,Q){var U=H&&H.length,q=U?H[0]*N:X.length,et=Math.abs(j(X,0,q,N));if(U)for(var it=0,rt=H.length;it<rt;it++){var lt=H[it]*N,ft=it<rt-1?H[it+1]*N:X.length;et-=Math.abs(j(X,lt,ft,N))}var gt=0;for(it=0;it<Q.length;it+=3){var vt=Q[it]*N,xt=Q[it+1]*N,yt=Q[it+2]*N;gt+=Math.abs((X[vt]-X[yt])*(X[xt+1]-X[vt+1])-(X[vt]-X[xt])*(X[yt+1]-X[vt+1]))}return et===0&&gt===0?0:Math.abs((gt-et)/et)};function j(X,H,N,Q){for(var U=0,q=H,et=N-Q;q<N;q+=Q)U+=(X[et]-X[q])*(X[q+1]+X[et+1]),et=q;return U}A.flatten=function(X){for(var H=X[0][0].length,N={vertices:[],holes:[],dimensions:H},Q=0,U=0;U<X.length;U++){for(var q=0;q<X[U].length;q++)for(var et=0;et<H;et++)N.vertices.push(X[U][q][et]);U>0&&(Q+=X[U-1].length,N.holes.push(Q))}return N},C.exports=A},13829:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l){l===void 0&&(l=new g);for(var o=1/0,r=1/0,h=-o,u=-r,a,d=0;d<f.points.length;d++)a=f.points[d],o=Math.min(o,a.x),r=Math.min(r,a.y),h=Math.max(h,a.x),u=Math.max(u,a.y);return l.x=o,l.y=r,l.width=h-o,l.height=u-r,l};C.exports=y},26173:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=[]);for(var y=0;y<s.points.length;y++)g.push(s.points[y].x),g.push(s.points[y].y);return g};C.exports=A},9564:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=s(23031),f=s(30052),l=function(o,r,h,u){u===void 0&&(u=[]);var a=o.points,d=f(o);!r&&h>0&&(r=d/h);for(var c=0;c<r;c++)for(var p=d*(c/r),v=0,m=0;m<a.length;m++){var T=a[m],E=a[(m+1)%a.length],P=new y(T.x,T.y,E.x,E.y),w=g(P);if(p<v||p>v+w){v+=w;continue}var R=P.getPoint((p-v)/w);u.push(R);break}return u};C.exports=l},30052:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=s(23031),f=function(l){for(var o=l.points,r=0,h=0;h<o.length;h++){var u=o[h],a=o[(h+1)%o.length],d=new y(u.x,u.y,a.x,a.y);r+=g(d)}return r};C.exports=f},25717:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(63814),f=s(9564),l=s(23777),o=new g({initialize:function(h){this.type=l.POLYGON,this.area=0,this.points=[],h&&this.setTo(h)},contains:function(r,h){return y(this,r,h)},setTo:function(r){if(this.area=0,this.points=[],typeof r=="string"&&(r=r.split(" ")),!Array.isArray(r))return this;for(var h,u=0;u<r.length;u++)h={x:0,y:0},typeof r[u]=="number"||typeof r[u]=="string"?(h.x=parseFloat(r[u]),h.y=parseFloat(r[u+1]),u++):Array.isArray(r[u])?(h.x=r[u][0],h.y=r[u][1]):(h.x=r[u].x,h.y=r[u].y),this.points.push(h);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var r=0,h,u,a=0;a<this.points.length-1;a++)h=this.points[a],u=this.points[a+1],r+=(u.x-h.x)*(h.y+u.y);return h=this.points[0],u=this.points[this.points.length-1],r+=(h.x-u.x)*(u.y+h.y),this.area=-r*.5,this.area},getPoints:function(r,h,u){return f(this,r,h,u)}});C.exports=o},8133:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.points.reverse(),s};C.exports=A},29524:C=>{function A(o,r){var h=o.x-r.x,u=o.y-r.y;return h*h+u*u}function s(o,r,h){var u=r.x,a=r.y,d=h.x-u,c=h.y-a;if(d!==0||c!==0){var p=((o.x-u)*d+(o.y-a)*c)/(d*d+c*c);p>1?(u=h.x,a=h.y):p>0&&(u+=d*p,a+=c*p)}return d=o.x-u,c=o.y-a,d*d+c*c}function g(o,r){for(var h=o[0],u=[h],a,d=1,c=o.length;d<c;d++)a=o[d],A(a,h)>r&&(u.push(a),h=a);return h!==a&&u.push(a),u}function y(o,r,h,u,a){for(var d=u,c,p=r+1;p<h;p++){var v=s(o[p],o[r],o[h]);v>d&&(c=p,d=v)}d>u&&(c-r>1&&y(o,r,c,u,a),a.push(o[c]),h-c>1&&y(o,c,h,u,a))}function f(o,r){var h=o.length-1,u=[o[0]];return y(o,0,h,r,u),u.push(o[h]),u}var l=function(o,r,h){r===void 0&&(r=1),h===void 0&&(h=!1);var u=o.points;if(u.length>2){var a=r*r;h||(u=g(u,a)),o.setTo(f(u,a))}return o};C.exports=l},5469:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(g,y){return g[0]=y[0],g[1]=y[1],g},s=function(g){var y,f=[],l=g.points;for(y=0;y<l.length;y++)f.push([l[y].x,l[y].y]);var o=[];for(f.length>0&&o.push(A([0,0],f[0])),y=0;y<f.length-1;y++){var r=f[y],h=f[y+1],u=r[0],a=r[1],d=h[0],c=h[1];o.push([.85*u+.15*d,.85*a+.15*c]),o.push([.15*u+.85*d,.15*a+.85*c])}return f.length>1&&o.push(A([0,0],f[f.length-1])),g.setTo(o)};C.exports=s},24709:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){for(var f=s.points,l=0;l<f.length;l++)f[l].x+=g,f[l].y+=y;return s};C.exports=A},58423:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25717);g.Clone=s(12306),g.Contains=s(63814),g.ContainsPoint=s(99338),g.Earcut=s(94811),g.GetAABB=s(13829),g.GetNumberArray=s(26173),g.GetPoints=s(9564),g.Perimeter=s(30052),g.Reverse=s(8133),g.Simplify=s(29524),g.Smooth=s(5469),g.Translate=s(24709),C.exports=g},62224:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.width*s.height};C.exports=A},98615:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s};C.exports=A},31688:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s.width=Math.ceil(s.width),s.height=Math.ceil(s.height),s};C.exports=A},67502:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x=g-s.width/2,s.y=y-s.height/2,s};C.exports=A},65085:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f){return new g(f.x,f.y,f.width,f.height)};C.exports=y},37303:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.width<=0||s.height<=0?!1:s.x<=g&&s.x+s.width>=g&&s.y<=y&&s.y+s.height>=y};C.exports=A},96553:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37303),y=function(f,l){return g(f,l.x,l.y)};C.exports=y},70273:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.width*g.height>s.width*s.height?!1:g.x>s.x&&g.x<s.right&&g.right>s.x&&g.right<s.right&&g.y>s.y&&g.y<s.bottom&&g.bottom>s.y&&g.bottom<s.bottom};C.exports=A},43459:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x,s.y,s.width,s.height)};C.exports=A},77493:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=[]),g.push({x:s.x,y:s.y}),g.push({x:s.right,y:s.y}),g.push({x:s.right,y:s.bottom}),g.push({x:s.x,y:s.bottom}),g};C.exports=A},9219:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x===g.x&&s.y===g.y&&s.width===g.width&&s.height===g.height};C.exports=A},53751:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8249),y=function(f,l){var o=g(f);return o<g(l)?f.setSize(l.height*o,l.height):f.setSize(l.width,l.width/o),f.setPosition(l.centerX-f.width/2,l.centerY-f.height/2)};C.exports=y},16088:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8249),y=function(f,l){var o=g(f);return o>g(l)?f.setSize(l.height*o,l.height):f.setSize(l.width,l.width/o),f.setPosition(l.centerX-f.width/2,l.centerY-f.height/2)};C.exports=y},80774:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s};C.exports=A},83859:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s.width=Math.floor(s.width),s.height=Math.floor(s.height),s};C.exports=A},19217:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=s(36383),f=function(l,o){if(o===void 0&&(o=new g),l.length===0)return o;for(var r=Number.MAX_VALUE,h=Number.MAX_VALUE,u=y.MIN_SAFE_INTEGER,a=y.MIN_SAFE_INTEGER,d,c,p,v=0;v<l.length;v++)d=l[v],Array.isArray(d)?(c=d[0],p=d[1]):(c=d.x,p=d.y),r=Math.min(r,c),h=Math.min(h,p),u=Math.max(u,c),a=Math.max(a,p);return o.x=r,o.y=h,o.width=u-r,o.height=a-h,o};C.exports=f},9477:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l,o,r,h){return h===void 0&&(h=new g),h.setTo(Math.min(f,o),Math.min(l,r),Math.abs(f-o),Math.abs(l-r))};C.exports=y},8249:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.height===0?NaN:s.width/s.height};C.exports=A},27165:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.x=f.centerX,l.y=f.centerY,l};C.exports=y},20812:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13019),y=s(2141),f=function(l,o,r){if(r===void 0&&(r=new y),o<=0||o>=1)return r.x=l.x,r.y=l.y,r;var h=g(l)*o;return o>.5?(h-=l.width+l.height,h<=l.width?(r.x=l.right-h,r.y=l.bottom):(r.x=l.x,r.y=l.bottom-(h-l.width))):h<=l.width?(r.x=l.x+h,r.y=l.y):(r.x=l.right,r.y=l.y+(h-l.width)),r};C.exports=f},34819:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20812),y=s(13019),f=function(l,o,r,h){h===void 0&&(h=[]),!o&&r>0&&(o=y(l)/r);for(var u=0;u<o;u++){var a=u/o;h.push(g(l,a))}return h};C.exports=f},51313:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.x=f.width,l.y=f.height,l};C.exports=y},86091:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(67502),y=function(f,l,o){var r=f.centerX,h=f.centerY;return f.setSize(f.width+l*2,f.height+o*2),g(f,r,h)};C.exports=y},53951:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=s(59996),f=function(l,o,r){return r===void 0&&(r=new g),y(l,o)?(r.x=Math.max(l.x,o.x),r.y=Math.max(l.y,o.y),r.width=Math.min(l.right,o.right)-r.x,r.height=Math.min(l.bottom,o.bottom)-r.y):r.setEmpty(),r};C.exports=f},14649:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13019),y=s(2141),f=function(l,o,r,h){if(h===void 0&&(h=[]),!o&&!r)return h;o?r=Math.round(g(l)/o):o=g(l)/r;for(var u=l.x,a=l.y,d=0,c=0;c<r;c++)switch(h.push(new y(u,a)),d){case 0:u+=o,u>=l.right&&(d=1,a+=u-l.right,u=l.right);break;case 1:a+=o,a>=l.bottom&&(d=2,u-=a-l.bottom,a=l.bottom);break;case 2:u-=o,u<=l.left&&(d=3,a-=l.left-u,u=l.left);break;case 3:a-=o,a<=l.top&&(d=0,a=l.top);break}return h};C.exports=f},33595:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){for(var y=s.x,f=s.right,l=s.y,o=s.bottom,r=0;r<g.length;r++)y=Math.min(y,g[r].x),f=Math.max(f,g[r].x),l=Math.min(l,g[r].y),o=Math.max(o,g[r].y);return s.x=y,s.y=l,s.width=f-y,s.height=o-l,s};C.exports=A},20074:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=Math.min(s.x,g.x),f=Math.max(s.right,g.right);s.x=y,s.width=f-y;var l=Math.min(s.y,g.y),o=Math.max(s.bottom,g.bottom);return s.y=l,s.height=o-l,s};C.exports=A},92171:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=Math.min(s.x,g),l=Math.max(s.right,g);s.x=f,s.width=l-f;var o=Math.min(s.y,y),r=Math.max(s.bottom,y);return s.y=o,s.height=r-o,s};C.exports=A},42981:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x+=g,s.y+=y,s};C.exports=A},46907:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x+=g.x,s.y+=g.y,s};C.exports=A},60170:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x<g.right&&s.right>g.x&&s.y<g.bottom&&s.bottom>g.y};C.exports=A},13019:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return 2*(s.width+s.height)};C.exports=A},85133:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(39506),f=function(l,o,r){r===void 0&&(r=new g),o=y(o);var h=Math.sin(o),u=Math.cos(o),a=u>0?l.width/2:l.width/-2,d=h>0?l.height/2:l.height/-2;return Math.abs(a*h)<Math.abs(d*u)?d=a*h/u:a=d*u/h,r.x=a+l.centerX,r.y=d+l.centerY,r};C.exports=f},26597:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.x=f.x+Math.random()*f.width,l.y=f.y+Math.random()*f.height,l};C.exports=y},86470:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30976),y=s(70273),f=s(2141),l=function(o,r,h){if(h===void 0&&(h=new f),y(o,r))switch(g(0,3)){case 0:h.x=o.x+Math.random()*(r.right-o.x),h.y=o.y+Math.random()*(r.top-o.y);break;case 1:h.x=r.x+Math.random()*(o.right-r.x),h.y=r.bottom+Math.random()*(o.bottom-r.bottom);break;case 2:h.x=o.x+Math.random()*(r.x-o.x),h.y=r.y+Math.random()*(o.bottom-r.y);break;case 3:h.x=r.right+Math.random()*(o.right-r.right),h.y=o.y+Math.random()*(r.bottom-o.y);break}return h};C.exports=l},87841:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(37303),f=s(20812),l=s(34819),o=s(23777),r=s(23031),h=s(26597),u=new g({initialize:function(d,c,p,v){d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),this.type=o.RECTANGLE,this.x=d,this.y=c,this.width=p,this.height=v},contains:function(a,d){return y(this,a,d)},getPoint:function(a,d){return f(this,a,d)},getPoints:function(a,d,c){return l(this,a,d,c)},getRandomPoint:function(a){return h(this,a)},setTo:function(a,d,c,p){return this.x=a,this.y=d,this.width=c,this.height=p,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(a,d){return d===void 0&&(d=a),this.x=a,this.y=d,this},setSize:function(a,d){return d===void 0&&(d=a),this.width=a,this.height=d,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(a){return a===void 0&&(a=new r),a.setTo(this.x,this.y,this.right,this.y),a},getLineB:function(a){return a===void 0&&(a=new r),a.setTo(this.right,this.y,this.right,this.bottom),a},getLineC:function(a){return a===void 0&&(a=new r),a.setTo(this.right,this.bottom,this.x,this.bottom),a},getLineD:function(a){return a===void 0&&(a=new r),a.setTo(this.x,this.bottom,this.x,this.y),a},left:{get:function(){return this.x},set:function(a){a>=this.right?this.width=0:this.width=this.right-a,this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){a<=this.x?this.width=0:this.width=a-this.x}},top:{get:function(){return this.y},set:function(a){a>=this.bottom?this.height=0:this.height=this.bottom-a,this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){a<=this.y?this.height=0:this.height=a-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(a){this.x=a-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(a){this.y=a-this.height/2}}});C.exports=u},94845:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.width===g.width&&s.height===g.height};C.exports=A},31730:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y===void 0&&(y=g),s.width*=g,s.height*=y,s};C.exports=A},36899:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l,o){o===void 0&&(o=new g);var r=Math.min(f.x,l.x),h=Math.min(f.y,l.y),u=Math.max(f.right,l.right)-r,a=Math.max(f.bottom,l.bottom)-h;return o.setTo(r,h,u,a)};C.exports=y},93232:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841);g.Area=s(62224),g.Ceil=s(98615),g.CeilAll=s(31688),g.CenterOn=s(67502),g.Clone=s(65085),g.Contains=s(37303),g.ContainsPoint=s(96553),g.ContainsRect=s(70273),g.CopyFrom=s(43459),g.Decompose=s(77493),g.Equals=s(9219),g.FitInside=s(53751),g.FitOutside=s(16088),g.Floor=s(80774),g.FloorAll=s(83859),g.FromPoints=s(19217),g.FromXY=s(9477),g.GetAspectRatio=s(8249),g.GetCenter=s(27165),g.GetPoint=s(20812),g.GetPoints=s(34819),g.GetSize=s(51313),g.Inflate=s(86091),g.Intersection=s(53951),g.MarchingAnts=s(14649),g.MergePoints=s(33595),g.MergeRect=s(20074),g.MergeXY=s(92171),g.Offset=s(42981),g.OffsetPoint=s(46907),g.Overlaps=s(60170),g.Perimeter=s(13019),g.PerimeterPoint=s(85133),g.Random=s(26597),g.RandomOutside=s(86470),g.SameDimensions=s(94845),g.Scale=s(31730),g.Union=s(36899),C.exports=g},41658:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=s.x1,y=s.y1,f=s.x2,l=s.y2,o=s.x3,r=s.y3;return Math.abs(((o-g)*(l-y)-(f-g)*(r-y))/2)};C.exports=A},39208:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(16483),y=function(f,l,o){var r=o*(Math.sqrt(3)/2),h=f,u=l,a=f+o/2,d=l+r,c=f-o/2,p=l+r;return new g(h,u,a,d,c,p)};C.exports=y},39545:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(94811),y=s(16483),f=function(l,o,r,h,u){o===void 0&&(o=null),r===void 0&&(r=1),h===void 0&&(h=1),u===void 0&&(u=[]);for(var a=g(l,o),d,c,p,v,m,T,E,P,w,R=0;R<a.length;R+=3)d=a[R],c=a[R+1],p=a[R+2],v=l[d*2]*r,m=l[d*2+1]*h,T=l[c*2]*r,E=l[c*2+1]*h,P=l[p*2]*r,w=l[p*2+1]*h,u.push(new y(v,m,T,E,P,w));return u};C.exports=f},90301:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(16483),y=function(f,l,o,r){r===void 0&&(r=o);var h=f,u=l,a=f,d=l-r,c=f+o,p=l;return new g(h,u,a,d,c,p)};C.exports=y},23707:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(97523),y=s(13584),f=function(l,o,r,h){h===void 0&&(h=g);var u=h(l),a=o-u.x,d=r-u.y;return y(l,a,d)};C.exports=f},97523:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.x=(f.x1+f.x2+f.x3)/3,l.y=(f.y1+f.y2+f.y3)/3,l};C.exports=y},24951:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099);function y(l,o,r,h){return l*h-o*r}var f=function(l,o){o===void 0&&(o=new g);var r=l.x3,h=l.y3,u=l.x1-r,a=l.y1-h,d=l.x2-r,c=l.y2-h,p=2*y(u,a,d,c),v=y(a,u*u+a*a,c,d*d+c*c),m=y(u,u*u+a*a,d,d*d+c*c);return o.x=r-v/p,o.y=h+m/p,o};C.exports=f},85614:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(96503),y=function(f,l){l===void 0&&(l=new g);var o=f.x1,r=f.y1,h=f.x2,u=f.y2,a=f.x3,d=f.y3,c=h-o,p=u-r,v=a-o,m=d-r,T=c*(o+h)+p*(r+u),E=v*(o+a)+m*(r+d),P=2*(c*(d-u)-p*(a-h)),w,R;if(Math.abs(P)<1e-6){var L=Math.min(o,h,a),O=Math.min(r,u,d);w=(Math.max(o,h,a)-L)*.5,R=(Math.max(r,u,d)-O)*.5,l.x=L+w,l.y=O+R,l.radius=Math.sqrt(w*w+R*R)}else l.x=(m*T-p*E)/P,l.y=(c*E-v*T)/P,w=l.x-o,R=l.y-r,l.radius=Math.sqrt(w*w+R*R);return l};C.exports=y},74422:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(16483),y=function(f){return new g(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)};C.exports=y},10690:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=s.x3-s.x1,l=s.y3-s.y1,o=s.x2-s.x1,r=s.y2-s.y1,h=g-s.x1,u=y-s.y1,a=f*f+l*l,d=f*o+l*r,c=f*h+l*u,p=o*o+r*r,v=o*h+r*u,m=a*p-d*d,T=m===0?0:1/m,E=(p*c-d*v)*T,P=(a*v-d*c)*T;return E>=0&&P>=0&&E+P<1};C.exports=A},48653:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y===void 0&&(y=!1),f===void 0&&(f=[]);for(var l=s.x3-s.x1,o=s.y3-s.y1,r=s.x2-s.x1,h=s.y2-s.y1,u=l*l+o*o,a=l*r+o*h,d=r*r+h*h,c=u*d-a*a,p=c===0?0:1/c,v,m,T,E,P,w,R=s.x1,L=s.y1,O=0;O<g.length&&(T=g[O].x-R,E=g[O].y-L,P=l*T+o*E,w=r*T+h*E,v=(d*P-a*w)*p,m=(u*w-a*P)*p,!(v>=0&&m>=0&&v+m<1&&(f.push({x:g[O].x,y:g[O].y}),y)));O++);return f};C.exports=A},96006:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10690),y=function(f,l){return g(f,l.x,l.y)};C.exports=y},71326:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};C.exports=A},71694:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=[]),g.push({x:s.x1,y:s.y1}),g.push({x:s.x2,y:s.y2}),g.push({x:s.x3,y:s.y3}),g};C.exports=A},33522:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x1===g.x1&&s.y1===g.y1&&s.x2===g.x2&&s.y2===g.y2&&s.x3===g.x3&&s.y3===g.y3};C.exports=A},20437:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(35001),f=function(l,o,r){r===void 0&&(r=new g);var h=l.getLineA(),u=l.getLineB(),a=l.getLineC();if(o<=0||o>=1)return r.x=h.x1,r.y=h.y1,r;var d=y(h),c=y(u),p=y(a),v=d+c+p,m=v*o,T=0;return m<d?(T=m/d,r.x=h.x1+(h.x2-h.x1)*T,r.y=h.y1+(h.y2-h.y1)*T):m>d+c?(m-=d+c,T=m/p,r.x=a.x1+(a.x2-a.x1)*T,r.y=a.y1+(a.y2-a.y1)*T):(m-=d,T=m/c,r.x=u.x1+(u.x2-u.x1)*T,r.y=u.y1+(u.y2-u.y1)*T),r};C.exports=f},80672:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=s(2141),f=function(l,o,r,h){h===void 0&&(h=[]);var u=l.getLineA(),a=l.getLineB(),d=l.getLineC(),c=g(u),p=g(a),v=g(d),m=c+p+v;!o&&r>0&&(o=m/r);for(var T=0;T<o;T++){var E=m*(T/o),P=0,w=new y;E<c?(P=E/c,w.x=u.x1+(u.x2-u.x1)*P,w.y=u.y1+(u.y2-u.y1)*P):E>c+p?(E-=c+p,P=E/v,w.x=d.x1+(d.x2-d.x1)*P,w.y=d.y1+(d.y2-d.y1)*P):(E-=c,P=E/p,w.x=a.x1+(a.x2-a.x1)*P,w.y=a.y1+(a.y2-a.y1)*P),h.push(w)}return h};C.exports=f},39757:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141);function y(l,o,r,h){var u=l-r,a=o-h,d=u*u+a*a;return Math.sqrt(d)}var f=function(l,o){o===void 0&&(o=new g);var r=l.x1,h=l.y1,u=l.x2,a=l.y2,d=l.x3,c=l.y3,p=y(d,c,u,a),v=y(r,h,d,c),m=y(u,a,r,h),T=p+v+m;return o.x=(r*p+u*v+d*m)/T,o.y=(h*p+a*v+c*m)/T,o};C.exports=f},13584:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x1+=g,s.y1+=y,s.x2+=g,s.y2+=y,s.x3+=g,s.y3+=y,s};C.exports=A},1376:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=function(f){var l=f.getLineA(),o=f.getLineB(),r=f.getLineC();return g(l)+g(o)+g(r)};C.exports=y},90260:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){l===void 0&&(l=new g);var o=f.x2-f.x1,r=f.y2-f.y1,h=f.x3-f.x1,u=f.y3-f.y1,a=Math.random(),d=Math.random();return a+d>=1&&(a=1-a,d=1-d),l.x=f.x1+(o*a+h*d),l.y=f.y1+(r*a+u*d),l};C.exports=y},52172:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(99614),y=s(39757),f=function(l,o){var r=y(l);return g(l,r.x,r.y,o)};C.exports=f},49907:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(99614),y=function(f,l,o){return g(f,l.x,l.y,o)};C.exports=y},99614:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=Math.cos(f),o=Math.sin(f),r=s.x1-g,h=s.y1-y;return s.x1=r*l-h*o+g,s.y1=r*o+h*l+y,r=s.x2-g,h=s.y2-y,s.x2=r*l-h*o+g,s.y2=r*o+h*l+y,r=s.x3-g,h=s.y3-y,s.x3=r*l-h*o+g,s.y3=r*o+h*l+y,s};C.exports=A},16483:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(10690),f=s(20437),l=s(80672),o=s(23777),r=s(23031),h=s(90260),u=new g({initialize:function(d,c,p,v,m,T){d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),this.type=o.TRIANGLE,this.x1=d,this.y1=c,this.x2=p,this.y2=v,this.x3=m,this.y3=T},contains:function(a,d){return y(this,a,d)},getPoint:function(a,d){return f(this,a,d)},getPoints:function(a,d,c){return l(this,a,d,c)},getRandomPoint:function(a){return h(this,a)},setTo:function(a,d,c,p,v,m){return a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),this.x1=a,this.y1=d,this.x2=c,this.y2=p,this.x3=v,this.y3=m,this},getLineA:function(a){return a===void 0&&(a=new r),a.setTo(this.x1,this.y1,this.x2,this.y2),a},getLineB:function(a){return a===void 0&&(a=new r),a.setTo(this.x2,this.y2,this.x3,this.y3),a},getLineC:function(a){return a===void 0&&(a=new r),a.setTo(this.x3,this.y3,this.x1,this.y1),a},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(a){var d=0;this.x1<=this.x2&&this.x1<=this.x3?d=this.x1-a:this.x2<=this.x1&&this.x2<=this.x3?d=this.x2-a:d=this.x3-a,this.x1-=d,this.x2-=d,this.x3-=d}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(a){var d=0;this.x1>=this.x2&&this.x1>=this.x3?d=this.x1-a:this.x2>=this.x1&&this.x2>=this.x3?d=this.x2-a:d=this.x3-a,this.x1-=d,this.x2-=d,this.x3-=d}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(a){var d=0;this.y1<=this.y2&&this.y1<=this.y3?d=this.y1-a:this.y2<=this.y1&&this.y2<=this.y3?d=this.y2-a:d=this.y3-a,this.y1-=d,this.y2-=d,this.y3-=d}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(a){var d=0;this.y1>=this.y2&&this.y1>=this.y3?d=this.y1-a:this.y2>=this.y1&&this.y2>=this.y3?d=this.y2-a:d=this.y3-a,this.y1-=d,this.y2-=d,this.y3-=d}}});C.exports=u},84435:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(16483);g.Area=s(41658),g.BuildEquilateral=s(39208),g.BuildFromPolygon=s(39545),g.BuildRight=s(90301),g.CenterOn=s(23707),g.Centroid=s(97523),g.CircumCenter=s(24951),g.CircumCircle=s(85614),g.Clone=s(74422),g.Contains=s(10690),g.ContainsArray=s(48653),g.ContainsPoint=s(96006),g.CopyFrom=s(71326),g.Decompose=s(71694),g.Equals=s(33522),g.GetPoint=s(20437),g.GetPoints=s(80672),g.InCenter=s(39757),g.Perimeter=s(1376),g.Offset=s(13584),g.Random=s(90260),g.Rotate=s(52172),g.RotateAroundPoint=s(49907),g.RotateAroundXY=s(99614),C.exports=g},74457:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return{gameObject:s,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:g,hitAreaCallback:y,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};C.exports=A},84409:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return function(y,f,l,o){var r=s.getPixelAlpha(f,l,o.texture.key,o.frame.name);return r&&r>=g}};C.exports=A},7003:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(93301),f=s(50792),l=s(8214),o=s(8443),r=s(78970),h=s(85098),u=s(42515),a=s(36210),d=s(61340),c=s(85955),p=new g({initialize:function(m,T){this.game=m,this.scaleManager,this.canvas,this.config=T,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=T.inputKeyboard?new r(this):null,this.mouse=T.inputMouse?new h(this):null,this.touch=T.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=T.inputActivePointers;for(var E=0;E<=this.pointersTotal;E++){var P=new u(this,E);P.smoothFactor=T.inputSmoothFactor,this.pointers.push(P)}this.mousePointer=T.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new d,this._tempMatrix2=new d,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(o.BOOT,this.boot,this)},boot:function(){var v=this.game,m=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(l.MANAGER_BOOT),m.on(o.PRE_RENDER,this.preRender,this),m.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(l.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(l.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,m=this.game.loop.delta,T=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(l.MANAGER_UPDATE);for(var E=0;E<T.length;E++){var P=T[E];if(P.sys.input&&P.sys.input.updatePoll(v,m)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v,m){(m||v&&v.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var m=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var T=0;T<v;T++){var E=this.pointers.length,P=new u(this,E);P.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(P),this.pointersTotal++,m.push(P)}return m},updateInputPlugins:function(v,m){var T=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var E=0;E<T.length;E++){var P=T[E];if(P.sys.input){var w=P.sys.input.update(v,m);if(w&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var P=v.changedTouches[E],w=1;w<m.length;w++){var R=m[w];if(!R.active){R.touchstart(P,v),this.activePointer=R,T.push(R);break}}this.updateInputPlugins(y.TOUCH_START,T)},onTouchMove:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var P=v.changedTouches[E],w=1;w<m.length;w++){var R=m[w];if(R.active&&R.identifier===P.identifier){var L=document.elementFromPoint(P.clientX,P.clientY),O=L===this.canvas;!this.isOver&&O?this.setCanvasOver(v):this.isOver&&!O&&this.setCanvasOut(v),this.isOver&&(R.touchmove(P,v),this.activePointer=R,T.push(R));break}}this.updateInputPlugins(y.TOUCH_MOVE,T)},onTouchEnd:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var P=v.changedTouches[E],w=1;w<m.length;w++){var R=m[w];if(R.active&&R.identifier===P.identifier){R.touchend(P,v),T.push(R);break}}this.updateInputPlugins(y.TOUCH_END,T)},onTouchCancel:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var P=v.changedTouches[E],w=1;w<m.length;w++){var R=m[w];if(R.active&&R.identifier===P.identifier){R.touchcancel(P,v),T.push(R);break}}this.updateInputPlugins(y.TOUCH_CANCEL,T)},onMouseDown:function(v){var m=this.mousePointer;m.down(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(y.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var m=this.mousePointer;m.move(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(y.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var m=this.mousePointer;m.up(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(y.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var m=this.mousePointer;m.wheel(v),this.activePointer=m,this.updateInputPlugins(y.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(l.POINTERLOCK_CHANGE,v,m)},inputCandidate:function(v,m){var T=v.input;if(!T||!T.enabled||!v.willRender(m))return!1;var E=!0,P=v.parentContainer;if(P)do{if(!P.willRender(m)){E=!1;break}P=P.parentContainer}while(P);return E},hitTest:function(v,m,T,E){E===void 0&&(E=this._tempHitTest);var P=this._tempPoint,w=T.scrollX,R=T.scrollY;E.length=0;var L=v.x,O=v.y;T.getWorldPoint(L,O,P),v.worldX=P.x,v.worldY=P.y;for(var I={x:0,y:0},F=this._tempMatrix,B=this._tempMatrix2,G=0;G<m.length;G++){var z=m[G];if(this.inputCandidate(z,T)){var Y=P.x+w*z.scrollFactorX-w,J=P.y+R*z.scrollFactorY-R;z.parentContainer?(z.getWorldTransformMatrix(F,B),F.applyInverse(Y,J,I)):c(Y,J,z.x,z.y,z.rotation,z.scaleX,z.scaleY,I),this.pointWithinHitArea(z,I.x,I.y)&&E.push(z)}}return E},pointWithinHitArea:function(v,m,T){m+=v.displayOriginX,T+=v.displayOriginY;var E=v.input;return E&&E.hitAreaCallback(E.hitArea,m,T,v)?(E.localX=m,E.localY=T,!0):!1},pointWithinInteractiveObject:function(v,m,T){return v.hitArea?(m+=v.gameObject.displayOriginX,T+=v.gameObject.displayOriginY,v.localX=m,v.localY=T,v.hitAreaCallback(v.hitArea,m,T,v)):!1},transformPointer:function(v,m,T,E){var P=v.position,w=v.prevPosition;w.x=P.x,w.y=P.y;var R=this.scaleManager.transformX(m),L=this.scaleManager.transformY(T),O=v.smoothFactor;!E||O===0?(P.x=R,P.y=L):(P.x=R*O+w.x*(1-O),P.y=L*O+w.y*(1-O))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(o.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});C.exports=p},48205:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(96503),y=s(87902),f=s(83419),l=s(93301),o=s(74457),r=s(84409),h=s(20339),u=s(8497),a=s(81154),d=s(8214),c=s(50792),p=s(95540),v=s(23777),m=s(89639),T=s(41212),E=s(37277),P=s(87841),w=s(37303),R=s(44594),L=s(16483),O=s(10690),I=new f({Extends:c,initialize:function(B){c.call(this),this.scene=B,this.systems=B.sys,this.settings=B.sys.settings,this.manager=B.sys.game.input,this.pluginEvents=new c,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var G={cancelled:!1};this._eventContainer={stopPropagation:function(){G.cancelled=!0}},this._eventData=G,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,B.sys.events.once(R.BOOT,this.boot,this),B.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(d.BOOT)},start:function(){var F=this.systems.events;F.on(R.TRANSITION_START,this.transitionIn,this),F.on(R.TRANSITION_OUT,this.transitionOut,this),F.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(R.PRE_UPDATE,this.preUpdate,this),F.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(d.GAME_OUT,this.onGameOut,this),this.manager.events.on(d.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(d.START)},onGameOver:function(F){this.isActive()&&this.emit(d.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(d.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(d.PRE_UPDATE);var F=this._pendingRemoval,B=this._pendingInsertion,G=F.length,z=B.length;if(!(G===0&&z===0)){for(var Y=this._list,J=0;J<G;J++){var $=F[J],j=Y.indexOf($);j>-1&&(Y.splice(j,1),this.clear($,!0))}this._pendingRemoval.length=0,this._list=Y.concat(B.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(F){this.manager&&this.manager.setCursor(F)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(F,B){if(!this.isActive())return!1;if(this.pluginEvents.emit(d.UPDATE,F,B),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var G,z=this.manager,Y=z.pointers;for(G=0;G<Y.length;G++)Y[G].updateMotion();if(this._list.length===0)return!1;var J=this.pollRate;if(J===-1)return!1;if(J>0)if(this._pollTimer-=B,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var $=!1;for(G=0;G<Y.length;G++){var j=0,X=Y[G];this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),j+=this.processOverOutEvents(X),this.getDragState(X)===2&&this.processDragThresholdEvent(X,F),j>0&&($=!0)}return $},update:function(F,B){if(!this.isActive())return!1;for(var G=!1,z=0;z<B.length;z++){var Y=0,J=B[z];switch(this._tempZones=[],this._temp=this.hitTestPointer(J),this.sortGameObjects(this._temp,J),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case l.MOUSE_DOWN:Y+=this.processDragDownEvent(J),Y+=this.processDownEvents(J),Y+=this.processOverOutEvents(J);break;case l.MOUSE_UP:Y+=this.processDragUpEvent(J),Y+=this.processUpEvents(J),Y+=this.processOverOutEvents(J);break;case l.TOUCH_START:Y+=this.processDragDownEvent(J),Y+=this.processDownEvents(J),Y+=this.processOverEvents(J);break;case l.TOUCH_END:case l.TOUCH_CANCEL:Y+=this.processDragUpEvent(J),Y+=this.processUpEvents(J),Y+=this.processOutEvents(J);break;case l.MOUSE_MOVE:case l.TOUCH_MOVE:Y+=this.processDragMoveEvent(J),Y+=this.processMoveEvents(J),Y+=this.processOverOutEvents(J);break;case l.MOUSE_WHEEL:Y+=this.processWheelEvent(J);break}Y>0&&(G=!0)}return this._updatedThisFrame=!0,G},clear:function(F,B){B===void 0&&(B=!1),this.disable(F);var G=F.input;G&&(this.removeDebug(F),this.manager.resetCursor(G),G.gameObject=void 0,G.target=void 0,G.hitArea=void 0,G.hitAreaCallback=void 0,G.callbackContext=void 0,F.input=null),B||this.queueForRemoval(F);var z=this._draggable.indexOf(F);return z>-1&&this._draggable.splice(z,1),F},disable:function(F,B){B===void 0&&(B=!1);var G=F.input;G&&(G.enabled=!1,G.dragState=0);for(var z=this._drag,Y=this._over,J=this.manager,$=0,j;$<J.pointers.length;$++)j=z[$].indexOf(F),j>-1&&z[$].splice(j,1),j=Y[$].indexOf(F),j>-1&&Y[$].splice(j,1);return B&&this.resetCursor(),this},enable:function(F,B,G,z){return z===void 0&&(z=!1),F.input?F.input.enabled=!0:this.setHitArea(F,B,G),F.input&&z&&!F.input.dropZone&&(F.input.dropZone=z),this},hitTestPointer:function(F){for(var B=this.cameras.getCamerasBelowPointer(F),G=0;G<B.length;G++){for(var z=B[G],Y=this.manager.hitTest(F,this._list,z),J=0;J<Y.length;J++){var $=Y[J];$.input.dropZone&&this._tempZones.push($)}if(Y.length>0)return F.camera=z,Y}return F.camera=B[0],[]},processDownEvents:function(F){var B=0,G=this._temp,z=this._eventData,Y=this._eventContainer;z.cancelled=!1;for(var J=0;J<G.length;J++){var $=G[J];if(!(!$.input||!$.input.enabled)&&(B++,$.emit(d.GAMEOBJECT_POINTER_DOWN,F,$.input.localX,$.input.localY,Y),z.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(d.GAMEOBJECT_DOWN,F,$,Y),z.cancelled||!this.isActive())))break}return!z.cancelled&&this.isActive()&&(F.downElement===this.manager.game.canvas?this.emit(d.POINTER_DOWN,F,G):this.emit(d.POINTER_DOWN_OUTSIDE,F)),B},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,B){this._dragState[F.id]=B},processDragThresholdEvent:function(F,B){var G=!1,z=this.dragTimeThreshold,Y=this.dragDistanceThreshold;if((Y>0&&h(F.x,F.y,F.downX,F.downY)>=Y||z>0&&B>=F.downTime+z)&&(G=!0),G)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;var B=this._drag[F.id];B.length>1&&(B=B.slice(0));for(var G=0;G<B.length;G++){var z=B[G],Y=z.input;Y.dragState=2,Y.dragStartX=z.x,Y.dragStartY=z.y,Y.dragStartXGlobal=F.worldX,Y.dragStartYGlobal=F.worldY,Y.dragStartCamera=F.camera,Y.dragX=Y.dragStartXGlobal-Y.dragStartX,Y.dragY=Y.dragStartYGlobal-Y.dragStartY,z.emit(d.GAMEOBJECT_DRAG_START,F,Y.dragX,Y.dragY),this.emit(d.DRAG_START,F,z)}return this.setDragState(F,4),B.length},processDragDownEvent:function(F){var B=this._temp;if(this._draggable.length===0||B.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var G=[],z=0;z<B.length;z++){var Y=B[z];Y.input.draggable&&Y.input.dragState===0&&G.push(Y)}return G.length===0?(this.setDragState(F,0),0):(G.length>1&&(this.sortGameObjects(G,F),this.topOnly&&G.splice(1)),this._drag[F.id]=G,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;var B=this._tempZones,G=this._drag[F.id];G.length>1&&(G=G.slice(0));for(var z=0;z<G.length;z++){var Y=G[z],J=Y.input,$=J.target;if($){var j=B.indexOf($);j===0?(Y.emit(d.GAMEOBJECT_DRAG_OVER,F,$),this.emit(d.DRAG_OVER,F,Y,$)):j>0?(Y.emit(d.GAMEOBJECT_DRAG_LEAVE,F,$),this.emit(d.DRAG_LEAVE,F,Y,$),J.target=B[0],$=J.target,Y.emit(d.GAMEOBJECT_DRAG_ENTER,F,$),this.emit(d.DRAG_ENTER,F,Y,$)):(Y.emit(d.GAMEOBJECT_DRAG_LEAVE,F,$),this.emit(d.DRAG_LEAVE,F,Y,$),B[0]?(J.target=B[0],$=J.target,Y.emit(d.GAMEOBJECT_DRAG_ENTER,F,$),this.emit(d.DRAG_ENTER,F,Y,$)):J.target=null)}else!$&&B[0]&&(J.target=B[0],$=J.target,Y.emit(d.GAMEOBJECT_DRAG_ENTER,F,$),this.emit(d.DRAG_ENTER,F,Y,$));var X,H,N=F.positionToCamera(J.dragStartCamera);if(!Y.parentContainer)X=N.x-J.dragX,H=N.y-J.dragY;else{var Q=N.x-J.dragStartXGlobal,U=N.y-J.dragStartYGlobal,q=Y.getParentRotation(),et=Q*Math.cos(q)+U*Math.sin(q),it=U*Math.cos(q)-Q*Math.sin(q);et*=1/Y.parentContainer.scaleX,it*=1/Y.parentContainer.scaleY,X=et+J.dragStartX,H=it+J.dragStartY}Y.emit(d.GAMEOBJECT_DRAG,F,X,H),this.emit(d.DRAG,F,Y,X,H)}return G.length},processDragUpEvent:function(F){var B=this._drag[F.id];B.length>1&&(B=B.slice(0));for(var G=0;G<B.length;G++){var z=B[G],Y=z.input;if(Y&&Y.dragState===2){Y.dragState=0,Y.dragX=Y.localX-z.displayOriginX,Y.dragY=Y.localY-z.displayOriginY,Y.dragStartCamera=null;var J=!1,$=Y.target;$&&(z.emit(d.GAMEOBJECT_DROP,F,$),this.emit(d.DROP,F,z,$),Y.target=null,J=!0),z.input&&z.input.enabled&&(z.emit(d.GAMEOBJECT_DRAG_END,F,Y.dragX,Y.dragY,J),this.emit(d.DRAG_END,F,z,J))}}return this.setDragState(F,0),B.splice(0),0},processMoveEvents:function(F){var B=0,G=this._temp,z=this._eventData,Y=this._eventContainer;z.cancelled=!1;for(var J=0;J<G.length;J++){var $=G[J];if(!(!$.input||!$.input.enabled)&&(B++,$.emit(d.GAMEOBJECT_POINTER_MOVE,F,$.input.localX,$.input.localY,Y),z.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(d.GAMEOBJECT_MOVE,F,$,Y),z.cancelled||!this.isActive()||this.topOnly)))break}return!z.cancelled&&this.isActive()&&this.emit(d.POINTER_MOVE,F,G),B},processWheelEvent:function(F){var B=0,G=this._temp,z=this._eventData,Y=this._eventContainer;z.cancelled=!1;for(var J=F.deltaX,$=F.deltaY,j=F.deltaZ,X=0;X<G.length;X++){var H=G[X];if(!(!H.input||!H.input.enabled)&&(B++,H.emit(d.GAMEOBJECT_POINTER_WHEEL,F,J,$,j,Y),z.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(d.GAMEOBJECT_WHEEL,F,H,J,$,j,Y),z.cancelled||!this.isActive())))break}return!z.cancelled&&this.isActive()&&this.emit(d.POINTER_WHEEL,F,G,J,$,j),B},processOverEvents:function(F){var B=this._temp,G=0,z=B.length,Y=[];if(z>0){var J=this.manager,$=this._eventData,j=this._eventContainer;$.cancelled=!1;for(var X=0;X<z;X++){var H=B[X];if(!(!H.input||!H.input.enabled)&&(Y.push(H),J.setCursor(H.input),H.emit(d.GAMEOBJECT_POINTER_OVER,F,H.input.localX,H.input.localY,j),G++,$.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(d.GAMEOBJECT_OVER,F,H,j),$.cancelled||!this.isActive())))break}!$.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,F,Y)}return this._over[F.id]=Y,G},processOutEvents:function(F){var B=this._over[F.id],G=0,z=B.length;if(z>0){var Y=this.manager,J=this._eventData,$=this._eventContainer;J.cancelled=!1,this.sortGameObjects(B,F);for(var j=0;j<z;j++){var X=B[j];if(X=B[j],!(!X.input||!X.input.enabled)&&(Y.resetCursor(X.input),X.emit(d.GAMEOBJECT_POINTER_OUT,F,$),G++,J.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(d.GAMEOBJECT_OUT,F,X,$),J.cancelled||!this.isActive())))break}!J.cancelled&&this.isActive()&&this.emit(d.POINTER_OUT,F,B),this._over[F.id]=[]}return G},processOverOutEvents:function(F){var B=this._temp,G,z,Y=[],J=[],$=[],j=this._over[F.id],X=this._drag[F.id],H=this.manager;for(G=0;G<j.length;G++)z=j[G],B.indexOf(z)===-1&&X.indexOf(z)===-1?Y.push(z):$.push(z);for(G=0;G<B.length;G++)z=B[G],j.indexOf(z)===-1&&J.push(z);var N=Y.length,Q=0,U=this._eventData,q=this._eventContainer;if(U.cancelled=!1,N>0){for(this.sortGameObjects(Y,F),G=0;G<N&&(z=Y[G],!(!(!z.input||!z.input.enabled)&&(H.resetCursor(z.input),z.emit(d.GAMEOBJECT_POINTER_OUT,F,q),Q++,U.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(d.GAMEOBJECT_OUT,F,z,q),U.cancelled||!this.isActive()))));G++);(!U.cancelled||this.isActive())&&this.emit(d.POINTER_OUT,F,Y)}if(N=J.length,U.cancelled=!1,N>0){for(this.sortGameObjects(J,F),G=0;G<N&&(z=J[G],!(!(!z.input||!z.input.enabled)&&(H.setCursor(z.input),z.emit(d.GAMEOBJECT_POINTER_OVER,F,z.input.localX,z.input.localY,q),Q++,U.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(d.GAMEOBJECT_OVER,F,z,q),U.cancelled||!this.isActive()))));G++);!U.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,F,J)}return j=$.concat(J),this._over[F.id]=this.sortGameObjects(j,F),Q},processUpEvents:function(F){var B=this._temp,G=this._eventData,z=this._eventContainer;G.cancelled=!1;for(var Y=0;Y<B.length;Y++){var J=B[Y];if(!(!J.input||!J.input.enabled)&&(J.emit(d.GAMEOBJECT_POINTER_UP,F,J.input.localX,J.input.localY,z),G.cancelled||!this.isActive()||J.input&&J.input.enabled&&(this.emit(d.GAMEOBJECT_UP,F,J,z),G.cancelled||!this.isActive())))break}return!G.cancelled&&this.isActive()&&(F.upElement===this.manager.game.canvas?this.emit(d.POINTER_UP,F,B):this.emit(d.POINTER_UP_OUTSIDE,F)),B.length},forceDownState:function(F,B){this.forceState(F,B,d.GAMEOBJECT_POINTER_DOWN,d.GAMEOBJECT_DOWN,!1)},forceUpState:function(F,B){this.forceState(F,B,d.GAMEOBJECT_POINTER_UP,d.GAMEOBJECT_UP,!1)},forceOverState:function(F,B){this.forceState(F,B,d.GAMEOBJECT_POINTER_OVER,d.GAMEOBJECT_OVER,!0)},forceOutState:function(F,B){this.forceState(F,B,d.GAMEOBJECT_POINTER_OUT,d.GAMEOBJECT_OUT,!1)},forceState:function(F,B,G,z,Y){var J=this._eventData,$=this._eventContainer;J.cancelled=!1,B.input&&B.input.enabled&&(B.emit(G,F,B.input.localX,B.input.localY,$),Y&&this.setCursor(B.input),!J.cancelled&&this.isActive()&&B.input&&B.input.enabled&&this.emit(z,F,B,$))},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,B){B===void 0&&(B=!0),Array.isArray(F)||(F=[F]);for(var G=0;G<F.length;G++){var z=F[G];z.input.draggable=B;var Y=this._draggable.indexOf(z);B&&Y===-1?this._draggable.push(z):!B&&Y>-1&&this._draggable.splice(Y,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var B=this.systems.textures;return r(B,F)},setHitArea:function(F,B,G){if(B===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var z=!1,Y=!1,J=!1,$=!1,j=!1,X=!0;if(T(B)&&Object.keys(B).length){var H=B,N=F.some(function(it){return it.hasOwnProperty("faces")});if(!N){B=p(H,"hitArea",null),G=p(H,"hitAreaCallback",null),j=p(H,"pixelPerfect",!1);var Q=p(H,"alphaTolerance",1);j&&(B={},G=this.makePixelPerfect(Q))}z=p(H,"draggable",!1),Y=p(H,"dropZone",!1),J=p(H,"cursor",!1),$=p(H,"useHandCursor",!1),(!B||!G)&&(this.setHitAreaFromTexture(F),X=!1)}else typeof B=="function"&&!G&&(G=B,B={});for(var U=0;U<F.length;U++){var q=F[U];if(j&&q.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var et=q.input?q.input:o(q,B,G);et.customHitArea=X,et.dropZone=Y,et.cursor=$?"pointer":J,q.input=et,z&&this.setDraggable(q),this.queueForInsertion(q)}return this},setHitAreaCircle:function(F,B,G,z,Y){Y===void 0&&(Y=y);var J=new g(B,G,z);return this.setHitArea(F,J,Y)},setHitAreaEllipse:function(F,B,G,z,Y,J){J===void 0&&(J=a);var $=new u(B,G,z,Y);return this.setHitArea(F,$,J)},setHitAreaFromTexture:function(F,B){B===void 0&&(B=w),Array.isArray(F)||(F=[F]);for(var G=0;G<F.length;G++){var z=F[G],Y=z.frame,J=0,$=0;if(z.width?(J=z.width,$=z.height):Y&&(J=Y.realWidth,$=Y.realHeight),z.type==="Container"&&(J===0||$===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}J!==0&&$!==0&&(z.input=o(z,new P(0,0,J,$),B),this.queueForInsertion(z))}return this},setHitAreaRectangle:function(F,B,G,z,Y,J){J===void 0&&(J=w);var $=new P(B,G,z,Y);return this.setHitArea(F,$,J)},setHitAreaTriangle:function(F,B,G,z,Y,J,$,j){j===void 0&&(j=O);var X=new L(B,G,z,Y,J,$);return this.setHitArea(F,X,j)},enableDebug:function(F,B){B===void 0&&(B=65280);var G=F.input;if(!G||!G.hitArea)return this;var z=G.hitArea,Y=z.type,J=G.hitAreaDebug,$=this.systems.add,j=this.systems.updateList;J&&(j.remove(J),J.destroy(),J=null);var X=0,H=0;switch(Y){case v.CIRCLE:J=$.arc(0,0,z.radius),X=z.x-z.radius,H=z.y-z.radius;break;case v.ELLIPSE:J=$.ellipse(0,0,z.width,z.height),X=z.x-z.width/2,H=z.y-z.height/2;break;case v.LINE:J=$.line(0,0,z.x1,z.y1,z.x2,z.y2);break;case v.POLYGON:J=$.polygon(0,0,z.points);break;case v.RECTANGLE:J=$.rectangle(0,0,z.width,z.height),X=z.x,H=z.y;break;case v.TRIANGLE:J=$.triangle(0,0,z.x1,z.y1,z.x2,z.y2,z.x3,z.y3);break}return J&&(J.isFilled=!1,J.strokeColor=B,J.preUpdate=function(){J.setVisible(F.visible),J.setStrokeStyle(1/F.scale,J.strokeColor),J.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var N=F.x,Q=F.y,U=F.rotation,q=F.scaleX,et=F.scaleY;if(F.parentContainer){var it=F.getWorldTransformMatrix();N=it.tx,Q=it.ty,U=it.rotation,q=it.scaleX,et=it.scaleY}J.setRotation(U),J.setScale(q,et),J.setPosition(N+X*q,Q+H*et),J.setScrollFactor(F.scrollFactorX,F.scrollFactorY),J.setDepth(F.depth)},j.add(J),G.hitAreaDebug=J),this},removeDebug:function(F){var B=F.input;if(B&&B.hitAreaDebug){var G=B.hitAreaDebug;G.destroy(),B.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,B){if(F.length<2||!B.camera)return F;var G=B.camera.renderList;return F.sort(function(z,Y){var J=Math.max(G.indexOf(z),0),$=Math.max(G.indexOf(Y),0);return $-J})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,B){if(!F.parentContainer&&!B.parentContainer)return this.displayList.getIndex(B)-this.displayList.getIndex(F);if(F.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-F.parentContainer.getIndex(F);if(F.parentContainer===B)return-1;if(B.parentContainer===F)return 1;for(var G=F.getIndexList(),z=B.getIndexList(),Y=Math.min(G.length,z.length),J=0;J<Y;J++){var $=G[J],j=z[J];if($!==j)return j-$}return z.length-G.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(d.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var B=this.manager;B.canvas.style.cursor=B.defaultCursor;var G=this.systems.events;G.off(R.TRANSITION_START,this.transitionIn,this),G.off(R.TRANSITION_OUT,this.transitionOut,this),G.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),G.off(R.PRE_UPDATE,this.preUpdate,this),B.events.off(d.GAME_OUT,this.onGameOut,this),B.events.off(d.GAME_OVER,this.onGameOver,this),G.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,B=0;B<F.length;B++)F[B].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(d.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});E.register("InputPlugin",I,"input"),C.exports=I},89639:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35154),y={},f={};f.register=function(l,o,r,h,u){y[l]={plugin:o,mapping:r,settingsKey:h,configKey:u}},f.getPlugin=function(l){return y[l]},f.install=function(l){var o=l.scene.sys,r=o.settings.input,h=o.game.config;for(var u in y){var a=y[u].plugin,d=y[u].mapping,c=y[u].settingsKey,p=y[u].configKey;g(r,c,h[p])&&(l[d]=new a(l))}},f.remove=function(l){y.hasOwnProperty(l)&&delete y[l]},C.exports=f},42515:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(31040),y=s(83419),f=s(20339),l=s(43855),o=s(47235),r=s(26099),h=s(25892),u=new y({initialize:function(d,c){this.manager=d,this.id=c,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new r,this.prevPosition=new r,this.midPoint=new r(-1,-1),this.velocity=new r,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=c===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(a){var d=a.getWorldPoint(this.x,this.y);return this.worldX=d.x,this.worldY=d.y,this},positionToCamera:function(a,d){return a.getWorldPoint(this.x,this.y,d)},updateMotion:function(){var a=this.position.x,d=this.position.y,c=this.midPoint.x,p=this.midPoint.y;if(!(a===c&&d===p)){var v=o(this.motionFactor,c,a),m=o(this.motionFactor,p,d);l(v,a,.1)&&(v=a),l(m,d,.1)&&(m=d),this.midPoint.set(v,m);var T=a-v,E=d-m;this.velocity.set(T,E),this.angle=g(v,m,a,d),this.distance=Math.sqrt(T*T+E*E)}},up:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=a.timeStamp,this.wasTouch=!1)},down:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),h.macOS&&a.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=a.timeStamp),this.wasTouch=!1},move:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.locked&&(this.movementX=a.movementX||a.mozMovementX||a.webkitMovementX||0,this.movementY=a.movementY||a.mozMovementY||a.webkitMovementY||0),this.moveTime=a.timeStamp,this.wasTouch=!1},wheel:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.deltaX=a.deltaX,this.deltaY=a.deltaY,this.deltaZ=a.deltaZ,this.wasTouch=!1},touchstart:function(a,d){a.pointerId&&(this.pointerId=a.pointerId),this.identifier=a.identifier,this.target=a.target,this.active=!0,this.buttons=1,this.event=d,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=d.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(a,d){this.event=d,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.moveTime=d.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(a,d){this.buttons=0,this.event=d,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=d.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(a,d){this.buttons=0,this.event=d,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=d.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?g(this.downX,this.downY,this.x,this.y):g(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(a,d){a===void 0&&(a=10),d===void 0&&(d=[]);for(var c=this.prevPosition.x,p=this.prevPosition.y,v=this.position.x,m=this.position.y,T=0;T<a;T++){var E=1/a*T;d[T]={x:o(E,c,v),y:o(E,p,m)}}return d},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},time:{get:function(){return this.event?this.event.timeStamp:0}}});C.exports=u},93301:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};C.exports=A},7179:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="boot"},85375:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},39843:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragend"},23388:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragenter"},16133:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="drag"},27829:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragleave"},53904:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragover"},56058:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragstart"},2642:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="drop"},88171:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectdown"},36147:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragend"},71692:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragenter"},96149:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="drag"},81285:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragleave"},74048:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragover"},21322:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragstart"},49378:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="drop"},86754:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectmove"},86433:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectout"},60709:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectover"},24081:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerdown"},11172:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointermove"},18907:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerout"},95579:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerover"},35368:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerup"},26972:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="wheel"},47078:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectup"},73802:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectwheel"},56718:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameout"},25936:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameover"},27503:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="boot"},50852:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="process"},96438:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="update"},59152:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerlockchange"},47777:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerdown"},27957:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerdownoutside"},19444:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointermove"},54251:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerout"},18667:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerover"},27192:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerup"},24652:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerupoutside"},45132:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="wheel"},44512:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="preupdate"},15757:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="shutdown"},41637:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},93802:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="update"},8214:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BOOT:s(7179),DESTROY:s(85375),DRAG_END:s(39843),DRAG_ENTER:s(23388),DRAG:s(16133),DRAG_LEAVE:s(27829),DRAG_OVER:s(53904),DRAG_START:s(56058),DROP:s(2642),GAME_OUT:s(56718),GAME_OVER:s(25936),GAMEOBJECT_DOWN:s(88171),GAMEOBJECT_DRAG_END:s(36147),GAMEOBJECT_DRAG_ENTER:s(71692),GAMEOBJECT_DRAG:s(96149),GAMEOBJECT_DRAG_LEAVE:s(81285),GAMEOBJECT_DRAG_OVER:s(74048),GAMEOBJECT_DRAG_START:s(21322),GAMEOBJECT_DROP:s(49378),GAMEOBJECT_MOVE:s(86754),GAMEOBJECT_OUT:s(86433),GAMEOBJECT_OVER:s(60709),GAMEOBJECT_POINTER_DOWN:s(24081),GAMEOBJECT_POINTER_MOVE:s(11172),GAMEOBJECT_POINTER_OUT:s(18907),GAMEOBJECT_POINTER_OVER:s(95579),GAMEOBJECT_POINTER_UP:s(35368),GAMEOBJECT_POINTER_WHEEL:s(26972),GAMEOBJECT_UP:s(47078),GAMEOBJECT_WHEEL:s(73802),MANAGER_BOOT:s(27503),MANAGER_PROCESS:s(50852),MANAGER_UPDATE:s(96438),POINTER_DOWN:s(47777),POINTER_DOWN_OUTSIDE:s(27957),POINTER_MOVE:s(19444),POINTER_OUT:s(54251),POINTER_OVER:s(18667),POINTER_UP:s(27192),POINTER_UP_OUTSIDE:s(24652),POINTER_WHEEL:s(45132),POINTERLOCK_CHANGE:s(59152),PRE_UPDATE:s(44512),SHUTDOWN:s(15757),START:s(41637),UPDATE:s(93802)}},97421:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o){this.pad=l,this.events=l.events,this.index=o,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});C.exports=y},28884:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(92734),f=new g({initialize:function(o,r){this.pad=o,this.events=o.manager,this.index=r,this.value=0,this.threshold=1,this.pressed=!1},update:function(l){this.value=l;var o=this.pad,r=this.index;l>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(y.BUTTON_DOWN,o,this,l),this.pad.emit(y.GAMEPAD_BUTTON_DOWN,r,l,this)):this.pressed&&(this.pressed=!1,this.events.emit(y.BUTTON_UP,o,this,l),this.pad.emit(y.GAMEPAD_BUTTON_UP,r,l,this))},destroy:function(){this.pad=null,this.events=null}});C.exports=f},99125:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(97421),y=s(28884),f=s(83419),l=s(50792),o=s(26099),r=new f({Extends:l,initialize:function(u,a){l.call(this),this.manager=u,this.pad=a,this.id=a.id,this.index=a.index;for(var d=[],c=0;c<a.buttons.length;c++)d.push(new y(this,c));this.buttons=d;var p=[];for(c=0;c<a.axes.length;c++)p.push(new g(this,c));this.axes=p,this.vibration=a.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=d[14]?d[14]:v,this._LCRight=d[15]?d[15]:v,this._LCTop=d[12]?d[12]:v,this._LCBottom=d[13]?d[13]:v,this._RCLeft=d[2]?d[2]:v,this._RCRight=d[1]?d[1]:v,this._RCTop=d[3]?d[3]:v,this._RCBottom=d[0]?d[0]:v,this._FBLeftTop=d[4]?d[4]:v,this._FBLeftBottom=d[6]?d[6]:v,this._FBRightTop=d[5]?d[5]:v,this._FBRightBottom=d[7]?d[7]:v;var m={value:0};this._HAxisLeft=p[0]?p[0]:m,this._VAxisLeft=p[1]?p[1]:m,this._HAxisRight=p[2]?p[2]:m,this._VAxisRight=p[3]?p[3]:m,this.leftStick=new o,this.rightStick=new o,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(h){return this.axes[h].getValue()},setAxisThreshold:function(h){for(var u=0;u<this.axes.length;u++)this.axes[u].threshold=h},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(h){return this.buttons[h].value},isButtonDown:function(h){return this.buttons[h].pressed},update:function(h){if(!(h.timestamp<this._created)){var u,a=this.buttons,d=h.buttons,c=a.length;for(u=0;u<c;u++)a[u].update(d[u].value);var p=this.axes,v=h.axes;for(c=p.length,u=0;u<c;u++)p[u].update(v[u]);c>=2&&(this.leftStick.set(p[0].getValue(),p[1].getValue()),c>=4&&this.rightStick.set(p[2].getValue(),p[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var h;for(h=0;h<this.buttons.length;h++)this.buttons[h].destroy();for(h=0;h<this.axes.length;h++)this.axes[h].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});C.exports=r},56654:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(92734),l=s(99125),o=s(35154),r=s(89639),h=s(8214),u=new g({Extends:y,initialize:function(d){y.call(this),this.scene=d.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=d,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,d.pluginEvents.once(h.BOOT,this.boot,this),d.pluginEvents.on(h.START,this.start,this)},boot:function(){var a=this.scene.sys.game,d=this.settings.input,c=a.config;this.enabled=o(d,"gamepad",c.inputGamepad)&&a.device.input.gamepads,this.target=o(d,"gamepad.target",c.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var a=this,d=this.target,c=function(p){p.defaultPrevented||!a.isActive()||(a.refreshPads(),a.queue.push(p))};this.onGamepadHandler=c,d.addEventListener("gamepadconnected",c,!1),d.addEventListener("gamepaddisconnected",c,!1),this.sceneInputPlugin.pluginEvents.on(h.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(h.UPDATE,this.update);for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].removeAllListeners()},disconnectAll:function(){for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].pad.connected=!1},refreshPads:function(){var a=navigator.getGamepads();if(!a)this.disconnectAll();else for(var d=this.gamepads,c=0;c<a.length;c++){var p=a[c];if(p){var v=p.id,m=p.index,T=d[m];if(T)T.id!==v?(T.destroy(),d[m]=new l(this,p)):T.update(p);else{var E=new l(this,p);d[m]=E,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=E):this._pad3=E:this._pad2=E:this._pad1=E}}}},getAll:function(){for(var a=[],d=this.gamepads,c=0;c<d.length;c++)d[c]&&a.push(d[c]);return a},getPad:function(a){for(var d=this.gamepads,c=0;c<d.length;c++)if(d[c]&&d[c].index===a)return d[c]},update:function(){if(this.enabled){this.refreshPads();var a=this.queue.length;if(a!==0)for(var d=this.queue.splice(0,a),c=0;c<a;c++){var p=d[c],v=this.getPad(p.gamepad.index);p.type==="gamepadconnected"?this.emit(f.CONNECTED,v,p):p.type==="gamepaddisconnected"&&this.emit(f.DISCONNECTED,v,p)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var a=0;a<this.gamepads.length;a++)this.gamepads[a]&&this.gamepads[a].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});r.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad"),C.exports=u},89651:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={DUALSHOCK_4:s(65294),SNES_USB:s(89651),XBOX_360:s(90089)}},46008:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="down"},7629:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="up"},42206:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="connected"},86544:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="disconnected"},94784:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="down"},14325:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="up"},92734:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BUTTON_DOWN:s(46008),BUTTON_UP:s(7629),CONNECTED:s(42206),DISCONNECTED:s(86544),GAMEPAD_BUTTON_DOWN:s(94784),GAMEPAD_BUTTON_UP:s(14325)}},48646:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Axis:s(97421),Button:s(28884),Events:s(92734),Gamepad:s(99125),GamepadPlugin:s(56654),Configs:s(64894)}},14350:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(93301),y=s(79291),f={CreatePixelPerfectHandler:s(84409),CreateInteractiveObject:s(74457),Events:s(8214),Gamepad:s(48646),InputManager:s(7003),InputPlugin:s(48205),InputPluginCache:s(89639),Keyboard:s(51442),Mouse:s(87078),Pointer:s(42515),Touch:s(95618)};f=y(!1,f,g),C.exports=f},78970:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(72905),y=s(83419),f=s(8443),l=s(8214),o=s(46032),r=s(29747),h=new y({initialize:function(a){this.manager=a,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=r,this.onKeyUp=r,a.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputKeyboard,this.target=u.inputKeyboardEventTarget,this.addCapture(u.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var u=this;this.onKeyDown=function(d){if(!(d.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(d),u.manager.events.emit(l.MANAGER_PROCESS);var c=d.altKey||d.ctrlKey||d.shiftKey||d.metaKey;u.preventDefault&&!c&&u.captures.indexOf(d.keyCode)>-1&&d.preventDefault()}},this.onKeyUp=function(d){if(!(d.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(d),u.manager.events.emit(l.MANAGER_PROCESS);var c=d.altKey||d.ctrlKey||d.shiftKey||d.metaKey;u.preventDefault&&!c&&u.captures.indexOf(d.keyCode)>-1&&d.preventDefault()}};var a=this.target;a&&(a.addEventListener("keydown",this.onKeyDown,!1),a.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var u=this.target;u.removeEventListener("keydown",this.onKeyDown,!1),u.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var a=this.captures,d=0;d<u.length;d++){var c=u[d];typeof c=="string"&&(c=o[c.trim().toUpperCase()]),a.indexOf(c)===-1&&a.push(c)}this.preventDefault=a.length>0},removeCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var a=this.captures,d=0;d<u.length;d++){var c=u[d];typeof c=="string"&&(c=o[c.toUpperCase()]),g(a,c)}this.preventDefault=a.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});C.exports=h},28846:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(95922),l=s(8443),o=s(35154),r=s(8214),h=s(89639),u=s(30472),a=s(46032),d=s(87960),c=s(74600),p=s(44594),v=s(56583),m=new g({Extends:y,initialize:function(E){y.call(this),this.game=E.systems.game,this.scene=E.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=E,this.manager=E.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,E.pluginEvents.once(r.BOOT,this.boot,this),E.pluginEvents.on(r.START,this.start,this)},boot:function(){var T=this.settings.input;this.enabled=o(T,"keyboard",!0);var E=o(T,"keyboard.capture",null);E&&this.addCaptures(E),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(r.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this),this.game.events.on(l.BLUR,this.resetKeys,this),this.scene.sys.events.on(p.PAUSE,this.resetKeys,this),this.scene.sys.events.on(p.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(T){return this.manager.addCapture(T),this},removeCapture:function(T){return this.manager.removeCapture(T),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT,space:a.SPACE,shift:a.SHIFT})},addKeys:function(T,E,P){E===void 0&&(E=!0),P===void 0&&(P=!1);var w={};if(typeof T=="string"){T=T.split(",");for(var R=0;R<T.length;R++){var L=T[R].trim();L&&(w[L]=this.addKey(L,E,P))}}else for(var O in T)w[O]=this.addKey(T[O],E,P);return w},addKey:function(T,E,P){E===void 0&&(E=!0),P===void 0&&(P=!1);var w=this.keys;if(T instanceof u){var R=w.indexOf(T);return R>-1?w[R]=T:w[T.keyCode]=T,E&&this.addCapture(T.keyCode),T.setEmitOnRepeat(P),T}return typeof T=="string"&&(T=a[T.toUpperCase()]),w[T]||(w[T]=new u(this,T),E&&this.addCapture(T),w[T].setEmitOnRepeat(P)),w[T]},removeKey:function(T,E,P){E===void 0&&(E=!1),P===void 0&&(P=!1);var w=this.keys,R;if(T instanceof u){var L=w.indexOf(T);L>-1&&(R=this.keys[L],this.keys[L]=void 0)}else typeof T=="string"&&(T=a[T.toUpperCase()]);return w[T]&&(R=w[T],w[T]=void 0),R&&(R.plugin=null,P&&this.removeCapture(R.keyCode),E&&R.destroy()),this},removeAllKeys:function(T,E){T===void 0&&(T=!1),E===void 0&&(E=!1);for(var P=this.keys,w=0;w<P.length;w++){var R=P[w];R&&(P[w]=void 0,E&&this.removeCapture(R.keyCode),T&&R.destroy())}return this},createCombo:function(T,E){return new d(this,T,E)},checkDown:function(T,E){if(E===void 0&&(E=0),this.enabled&&T.isDown){var P=v(this.time-T.timeDown,E);if(P>T._tick)return T._tick=P,!0}return!1},update:function(){var T=this.manager.queue,E=T.length;if(!(!this.isActive()||E===0))for(var P=this.keys,w=0;w<E;w++){var R=T[w],L=R.keyCode,O=P[L],I=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(L===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=L,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(O&&(I=O.isDown,O.onDown(R)),!R.cancelled&&(!O||!I)&&(c[L]&&this.emit(f.KEY_DOWN+c[L],R),R.cancelled||this.emit(f.ANY_KEY_DOWN,R))):(O&&O.onUp(R),R.cancelled||(c[L]&&this.emit(f.KEY_UP+c[L],R),R.cancelled||this.emit(f.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var T=this.keys,E=0;E<T.length;E++)T[E]&&T[E].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(r.MANAGER_PROCESS,this.update,this),this.game.events.off(l.BLUR,this.resetKeys),this.scene.sys.events.off(p.PAUSE,this.resetKeys,this),this.scene.sys.events.off(p.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var T=this.keys,E=0;E<T.length;E++)T[E]&&T[E].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});h.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),C.exports=m},66970:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.timeLastMatched=s.timeStamp,g.index++,g.index===g.size?!0:(g.current=g.keyCodes[g.index],!1)};C.exports=A},87960:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95922),f=s(95540),l=s(68769),o=s(92803),r=new g({initialize:function(u,a,d){if(d===void 0&&(d={}),a.length<2)return!1;this.manager=u,this.enabled=!0,this.keyCodes=[];for(var c=0;c<a.length;c++){var p=a[c];typeof p=="string"?this.keyCodes.push(p.toUpperCase().charCodeAt(0)):typeof p=="number"?this.keyCodes.push(p):p.hasOwnProperty("keyCode")&&this.keyCodes.push(p.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(d,"resetOnWrongKey",!0),this.maxKeyDelay=f(d,"maxKeyDelay",0),this.resetOnMatch=f(d,"resetOnMatch",!1),this.deleteOnMatch=f(d,"deleteOnMatch",!1);var v=this,m=function(T){if(!(v.matched||!v.enabled)){var E=l(T,v);E&&(v.manager.emit(y.COMBO_MATCH,v,T),v.resetOnMatch?o(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=m,this.manager.on(y.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(y.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});C.exports=r},68769:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66970),y=function(f,l){if(l.matched)return!0;var o=!1,r=!1;if(f.keyCode===l.current)if(l.index>0&&l.maxKeyDelay>0){var h=l.timeLastMatched+l.maxKeyDelay;f.timeStamp<=h&&(r=!0,o=g(f,l))}else r=!0,o=g(f,l);return!r&&l.resetOnWrongKey&&(l.index=0,l.current=l.keyCodes[0]),o&&(l.timeLastMatched=f.timeStamp,l.matched=!0,l.timeMatched=f.timeStamp),o};C.exports=y},92803:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.current=s.keyCodes[0],s.index=0,s.timeLastMatched=0,s.matched=!1,s.timeMatched=0,s};C.exports=A},92612:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="keydown"},23345:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="keyup"},21957:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="keycombomatch"},44743:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="down"},3771:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="keydown-"},46358:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="keyup-"},75674:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="up"},95922:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ANY_KEY_DOWN:s(92612),ANY_KEY_UP:s(23345),COMBO_MATCH:s(21957),DOWN:s(44743),KEY_DOWN:s(3771),KEY_UP:s(46358),UP:s(75674)}},51442:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Events:s(95922),KeyboardManager:s(78970),KeyboardPlugin:s(28846),Key:s(30472),KeyCodes:s(46032),KeyCombo:s(87960),AdvanceKeyCombo:s(66970),ProcessKeyCombo:s(68769),ResetKeyCombo:s(92803),JustDown:s(90229),JustUp:s(38796),DownDuration:s(37015),UpDuration:s(41170)}},37015:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=50);var y=s.plugin.game.loop.time-s.timeDown;return s.isDown&&y<g};C.exports=A},90229:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s._justDown?(s._justDown=!1,!0):!1};C.exports=A},38796:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s._justUp?(s._justUp=!1,!0):!1};C.exports=A},30472:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(95922),l=new g({Extends:y,initialize:function(r,h){y.call(this),this.plugin=r,this.keyCode=h,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(o){return this.emitOnRepeat=o,this},onDown:function(o){this.originalEvent=o,this.enabled&&(this.altKey=o.altKey,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.location=o.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,o):(this.isDown=!0,this.isUp=!1,this.timeDown=o.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,o)))},onUp:function(o){this.originalEvent=o,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=o.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,o))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});C.exports=l},46032:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};C.exports=A},74600:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(46032),y={};for(var f in g)y[g[f]]=f;C.exports=y},41170:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=50);var y=s.plugin.game.loop.time-s.timeUp;return s.isUp&&y<g};C.exports=A},85098:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(89357),f=s(8214),l=s(29747),o=new g({initialize:function(h){this.manager=h,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=l,this.onMouseDown=l,this.onMouseUp=l,this.onMouseDownWindow=l,this.onMouseUpWindow=l,this.onMouseOver=l,this.onMouseOut=l,this.onMouseWheel=l,this.pointerLockChange=l,this.isTop=!0,h.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputMouse,this.target=r.inputMouseEventTarget,this.passive=r.inputMousePassive,this.preventDefaultDown=r.inputMousePreventDefaultDown,this.preventDefaultUp=r.inputMousePreventDefaultUp,this.preventDefaultMove=r.inputMousePreventDefaultMove,this.preventDefaultWheel=r.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},requestPointerLock:function(){if(y.pointerLock){var r=this.target;r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock,r.requestPointerLock()}},releasePointerLock:function(){y.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var r=this.target;if(r){var h=this,u=this.manager,a=u.canvas,d=window&&window.focus&&u.game.config.autoFocus;this.onMouseMove=function(p){!p.defaultPrevented&&h.enabled&&u&&u.enabled&&(u.onMouseMove(p),h.preventDefaultMove&&p.preventDefault())},this.onMouseDown=function(p){d&&window.focus(),!p.defaultPrevented&&h.enabled&&u&&u.enabled&&(u.onMouseDown(p),h.preventDefaultDown&&p.target===a&&p.preventDefault())},this.onMouseDownWindow=function(p){p.sourceCapabilities&&p.sourceCapabilities.firesTouchEvents||!p.defaultPrevented&&h.enabled&&u&&u.enabled&&p.target!==a&&u.onMouseDown(p)},this.onMouseUp=function(p){!p.defaultPrevented&&h.enabled&&u&&u.enabled&&(u.onMouseUp(p),h.preventDefaultUp&&p.target===a&&p.preventDefault())},this.onMouseUpWindow=function(p){p.sourceCapabilities&&p.sourceCapabilities.firesTouchEvents||!p.defaultPrevented&&h.enabled&&u&&u.enabled&&p.target!==a&&u.onMouseUp(p)},this.onMouseOver=function(p){!p.defaultPrevented&&h.enabled&&u&&u.enabled&&u.setCanvasOver(p)},this.onMouseOut=function(p){!p.defaultPrevented&&h.enabled&&u&&u.enabled&&u.setCanvasOut(p)},this.onMouseWheel=function(p){!p.defaultPrevented&&h.enabled&&u&&u.enabled&&u.onMouseWheel(p),h.preventDefaultWheel&&p.target===a&&p.preventDefault()};var c={passive:!0};if(r.addEventListener("mousemove",this.onMouseMove),r.addEventListener("mousedown",this.onMouseDown),r.addEventListener("mouseup",this.onMouseUp),r.addEventListener("mouseover",this.onMouseOver,c),r.addEventListener("mouseout",this.onMouseOut,c),this.preventDefaultWheel?r.addEventListener("wheel",this.onMouseWheel,{passive:!1}):r.addEventListener("wheel",this.onMouseWheel,c),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,c),window.top.addEventListener("mouseup",this.onMouseUpWindow,c)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,c),window.addEventListener("mouseup",this.onMouseUpWindow,c),this.isTop=!1}y.pointerLock&&(this.pointerLockChange=function(p){var v=h.target;h.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,u.onPointerLockChange(p)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("mousemove",this.onMouseMove),r.removeEventListener("mousedown",this.onMouseDown),r.removeEventListener("mouseup",this.onMouseUp),r.removeEventListener("mouseover",this.onMouseOver),r.removeEventListener("mouseout",this.onMouseOut),window&&(r=this.isTop?window.top:window,r.removeEventListener("mousedown",this.onMouseDownWindow),r.removeEventListener("mouseup",this.onMouseUpWindow)),y.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});C.exports=o},87078:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={MouseManager:s(85098)}},36210:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(8214),f=s(29747),l=new g({initialize:function(r){this.manager=r,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.isTop=!0,r.events.once(y.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputTouch,this.target=o.inputTouchEventTarget,this.capture=o.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},startListeners:function(){var o=this.target;if(o){var r=this,h=this.manager,u=h.canvas,a=window&&window.focus&&h.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&r.enabled&&h&&h.enabled&&(h.onTouchMove(v),r.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){a&&window.focus(),!v.defaultPrevented&&r.enabled&&h&&h.enabled&&(h.onTouchStart(v),r.capture&&v.cancelable&&v.target===u&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&r.enabled&&h&&h.enabled&&v.target!==u&&h.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&r.enabled&&h&&h.enabled&&(h.onTouchEnd(v),r.capture&&v.cancelable&&v.target===u&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&r.enabled&&h&&h.enabled&&v.target!==u&&h.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&r.enabled&&h&&h.enabled&&(h.onTouchCancel(v),r.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&r.enabled&&h&&h.enabled&&h.onTouchCancel(v)};var d=this.capture,c={passive:!0},p={passive:!1};if(o.addEventListener("touchstart",this.onTouchStart,d?p:c),o.addEventListener("touchmove",this.onTouchMove,d?p:c),o.addEventListener("touchend",this.onTouchEnd,d?p:c),o.addEventListener("touchcancel",this.onTouchCancel,d?p:c),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,p),window.top.addEventListener("touchend",this.onTouchEndWindow,p),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,p)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,p),window.addEventListener("touchend",this.onTouchEndWindow,p),window.addEventListener("touchcancel",this.onTouchCancelWindow,p),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("touchstart",this.onTouchStart),o.removeEventListener("touchmove",this.onTouchMove),o.removeEventListener("touchend",this.onTouchEnd),o.removeEventListener("touchcancel",this.onTouchCancel),window&&(o=this.isTop?window.top:window,o.removeEventListener("touchstart",this.onTouchStartWindow),o.removeEventListener("touchend",this.onTouchEndWindow),o.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});C.exports=l},95618:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={TouchManager:s(36210)}},41299:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(54899),l=s(95540),o=s(98356),r=s(3374),h=s(84376),u=s(92638),a=new g({initialize:function(c,p){if(this.loader=c,this.cache=l(p,"cache",!1),this.type=l(p,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=l(p,"key",!1);var v=this.key;if(c.prefix&&c.prefix!==""&&(this.key=c.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var m=l(p,"url");m===void 0?m=c.path+v+"."+l(p,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(m=c.path+m),this.url=m,this.src="",this.xhrSettings=u(l(p,"responseType",void 0)),l(p,"xhrSettings",!1)&&(this.xhrSettings=r(this.xhrSettings,l(p,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?y.FILE_POPULATED:y.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=l(p,"config",{}),this.multiFile,this.linkFile,this.base64=typeof m=="string"&&m.indexOf("data:")===0,this.retryAttempts=l(p,"maxRetries",c.maxRetries)},setLink:function(d){this.linkFile=d,d.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===y.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=y.FILE_LOADING,this.src=o(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=h(this,this.loader.xhr)}},onLoad:function(d,c){var p=d.responseURL&&this.loader.localSchemes.some(function(T){return d.responseURL.indexOf(T)===0}),v=p&&c.target.status===0,m=!(c.target&&c.target.status!==200)||v;d.readyState===4&&d.status>=400&&d.status<=599&&(m=!1),this.state=y.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onBase64Load:function(d){this.xhrLoader=d,this.state=y.FILE_LOADED,this.percentComplete=1,this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(d){d.lengthComputable&&(this.bytesLoaded=d.loaded,this.bytesTotal=d.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=y.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=y.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=y.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(d){if(this.state!==y.FILE_PENDING_DESTROY){d===void 0&&(d=this.data);var c=this.key,p=this.type;this.loader.emit(f.FILE_COMPLETE,c,p,d),this.loader.emit(f.FILE_KEY_COMPLETE+p+"-"+c,c,p,d),this.loader.flagForRemoval(this),this.state=y.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(d,c,p){if(typeof URL=="function")d.src=URL.createObjectURL(c);else{var v=new FileReader;v.onload=function(){d.removeAttribute("crossOrigin"),d.src="data:"+(c.type||p)+";base64,"+v.result.split(",")[1]},v.onerror=d.onerror,v.readAsDataURL(c)}},a.revokeObjectURL=function(d){typeof URL=="function"&&URL.revokeObjectURL(d.src)},C.exports=a},74099:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={},s={install:function(g){for(var y in A)g[y]=A[y]},register:function(g,y){A[g]=y},destroy:function(){A={}}};C.exports=s},98356:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.url?s.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?s.url:g+s.url:!1};C.exports=A},74261:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(35072),l=s(50792),o=s(54899),r=s(74099),h=s(95540),u=s(35154),a=s(41212),d=s(37277),c=s(44594),p=s(92638),v=new g({Extends:l,initialize:function(T){l.call(this);var E=T.sys.game.config,P=T.sys.settings.loader;this.scene=T,this.systems=T.sys,this.cacheManager=T.sys.cache,this.textureManager=T.sys.textures,this.sceneManager=T.sys.game.scene,r.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(h(P,"baseURL",E.loaderBaseURL)),this.setPath(h(P,"path",E.loaderPath)),this.setPrefix(h(P,"prefix",E.loaderPrefix)),this.maxParallelDownloads=h(P,"maxParallelDownloads",E.loaderMaxParallelDownloads),this.xhr=p(h(P,"responseType",E.loaderResponseType),h(P,"async",E.loaderAsync),h(P,"user",E.loaderUser),h(P,"password",E.loaderPassword),h(P,"timeout",E.loaderTimeout),h(P,"withCredentials",E.loaderWithCredentials)),this.crossOrigin=h(P,"crossOrigin",E.loaderCrossOrigin),this.imageLoadType=h(P,"imageLoadType",E.loaderImageLoadType),this.localSchemes=h(P,"localScheme",E.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=y.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=h(P,"maxRetries",E.loaderMaxRetries),T.sys.events.once(c.BOOT,this.boot,this),T.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return m===void 0&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++){var E=m[T];this.keyExists(E)||(this.list.set(E),this.emit(o.ADD,E.key,E.type,this,E),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var T=m.hasCacheConflict();return T||this.list.iterate(function(E){if(E.type===m.type&&E.key===m.key)return T=!0,!1}),!T&&this.isLoading()&&(this.inflight.iterate(function(E){if(E.type===m.type&&E.key===m.key)return T=!0,!1}),this.queue.iterate(function(E){if(E.type===m.type&&E.key===m.key)return T=!0,!1})),T},addPack:function(m,T){if(typeof T=="string"){var E=u(m,T);E&&(m={packKey:E})}var P=0,w=this.baseURL,R=this.path,L=this.prefix;for(var O in m)if(Object.prototype.hasOwnProperty.call(m,O)){var I=m[O],F=h(I,"baseURL",w),B=h(I,"path",R),G=h(I,"prefix",L),z=h(I,"files",null),Y=h(I,"defaultType","void");if(Array.isArray(z)){this.setBaseURL(F),this.setPath(B),this.setPrefix(G);for(var J=0;J<z.length;J++){var $=z[J],j=$.hasOwnProperty("type")?$.type:Y;this[j]&&(this[j]($),P++)}}}return this.setBaseURL(w),this.setPath(R),this.setPrefix(L),P>0},removePack:function(m,T){var E=this.systems.anims,P=this.cacheManager,w=this.textureManager,R={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},L;if(a(m))L=m;else if(L=P.json.get(m),!L){console.warn("Asset Pack not found in JSON cache:",m);return}T&&(L={_:L[T]});for(var O in L){var I=L[O],F=h(I,"prefix",""),B=h(I,"files"),G=h(I,"defaultType");if(Array.isArray(B))for(var z=0;z<B.length;z++){var Y=B[z],J=Y.hasOwnProperty("type")?Y.type:G;if(!J){console.warn("No type:",Y);continue}var $=F+Y.key;if(J==="animation"&&E.remove($),!((J==="aseprite"||J==="atlas"||J==="atlasXML"||J==="htmlTexture"||J==="image"||J==="multiatlas"||J==="spritesheet"||J==="svg"||J==="texture"||J==="unityAtlas")&&(w.remove($),!R[J]))){if(J==="pack"){this.removePack($,Y.dataKey);continue}if(J==="spine"){var j=P.custom.spine.get($);if(!j)continue;var X=j.prefix===void 0?"":j.prefix;P.custom.spine.remove($);var H=P.custom.spineTextures.get($);if(!H)continue;P.custom.spineTextures.remove($);for(var N=0;N<H.pages.length;N++){var Q=H.pages[N],U=X+Q.name,q=$+":"+U;w.exists(q)?w.remove(q):w.remove(U)}}var et=R[J];if(et!==null){if(!et){console.warn("Unknown type:",J);continue}var it=P[et];it.remove($)}}}}},isLoading:function(){return this.state===y.LOADER_LOADING||this.state===y.LOADER_PROCESSING},isReady:function(){return this.state===y.LOADER_IDLE||this.state===y.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(o.START,this),this.list.size===0?this.loadComplete():(this.state=y.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(o.PROGRESS,this.progress)},update:function(){this.state===y.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){if((m.state===y.FILE_POPULATED||m.state===y.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,T){this.inflight&&(this.inflight.delete(m),this.updateProgress(),T?(this.totalComplete++,this.queue.set(m),this.emit(o.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(o.FILE_LOAD_ERROR,m),this.fileProcessComplete(m)))},fileProcessComplete:function(m){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(m.state===y.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===y.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&(m.multiFile.addToCache(),m.multiFile.pendingDestroy()):(m.addToCache(),m.pendingDestroy())),this.queue.delete(m),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(o.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=y.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,T){return this.save(JSON.stringify(m),T)},save:function(m,T,E){T===void 0&&(T="file.json"),E===void 0&&(E="application/json");var P=new Blob([m],{type:E}),w=URL.createObjectURL(P),R=document.createElement("a");return R.download=T,R.textContent="Download "+T,R.href=w,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,T=this.systems.settings.loader;this.setBaseURL(h(T,"baseURL",m.loaderBaseURL)),this.setPath(h(T,"path",m.loaderPath)),this.setPrefix(h(T,"prefix",m.loaderPrefix)),this.state=y.LOADER_IDLE},shutdown:function(){this.reset(),this.state=y.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=y.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});d.register("Loader",v,"load"),C.exports=v},3374:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=s(92638),f=function(l,o){var r=l===void 0?y():g({},l);if(o)for(var h in o)o[h]!==void 0&&(r[h]=o[h]);return r};C.exports=f},26430:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(54899),l=new g({initialize:function(r,h,u,a){var d=[];a.forEach(function(v){v&&d.push(v)}),this.loader=r,this.type=h,this.key=u;var c=this.key;r.prefix&&r.prefix!==""&&(this.key=r.prefix+c),this.multiKeyIndex=r.multiKeyIndex++,this.files=d,this.state=y.FILE_PENDING,this.complete=!1,this.pending=d.length,this.failed=0,this.config={},this.baseURL=r.baseURL,this.path=r.path,this.prefix=r.prefix;for(var p=0;p<d.length;p++)d[p].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(o){return this.files.push(o),o.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(o){var r=this.files.indexOf(o);r!==-1&&this.pending--},onFileFailed:function(o){var r=this.files.indexOf(o);r!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,o.type,o.key))},pendingDestroy:function(){if(this.state!==y.FILE_PENDING_DESTROY){var o=this.key,r=this.type;this.loader.emit(f.FILE_COMPLETE,o,r),this.loader.emit(f.FILE_KEY_COMPLETE+r+"-"+o,o,r),this.loader.flagForRemoval(this);for(var h=0;h<this.files.length;h++)this.files[h].pendingDestroy();this.state=y.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});C.exports=l},84376:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(3374),y=function(f,l){var o=g(l,f.xhrSettings);if(f.base64){var r=f.url.split(";base64,").pop()||f.url.split(",").pop(),h;f.xhrSettings.responseType==="arraybuffer"?h={response:Uint8Array.from(atob(r),function(d){return d.charCodeAt(0)}).buffer}:h={responseText:atob(r)},f.onBase64Load(h);return}var u=new XMLHttpRequest;if(u.open("GET",f.src,o.async,o.user,o.password),u.responseType=f.xhrSettings.responseType,u.timeout=o.timeout,o.headers)for(var a in o.headers)u.setRequestHeader(a,o.headers[a]);return o.header&&o.headerValue&&u.setRequestHeader(o.header,o.headerValue),o.requestedWith&&u.setRequestHeader("X-Requested-With",o.requestedWith),o.overrideMimeType&&u.overrideMimeType(o.overrideMimeType),o.withCredentials&&(u.withCredentials=!0),u.onload=f.onLoad.bind(f,u),u.onerror=f.onError.bind(f,u),u.onprogress=f.onProgress.bind(f),u.ontimeout=f.onError.bind(f,u),u.send(),u};C.exports=y},92638:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,o){return s===void 0&&(s=""),g===void 0&&(g=!0),y===void 0&&(y=""),f===void 0&&(f=""),l===void 0&&(l=0),o===void 0&&(o=!1),{responseType:s,async:g,user:y,password:f,timeout:l,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:o}};C.exports=A},23906:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};C.exports=A},42155:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addfile"},38991:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},27540:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="filecomplete"},87464:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="filecomplete-"},94486:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loaderror"},13035:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="load"},38144:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="fileprogress"},97520:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postprocess"},85595:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="progress"},55680:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},54899:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADD:s(42155),COMPLETE:s(38991),FILE_COMPLETE:s(27540),FILE_KEY_COMPLETE:s(87464),FILE_LOAD_ERROR:s(94486),FILE_LOAD:s(13035),FILE_PROGRESS:s(38144),POST_PROCESS:s(97520),PROGRESS:s(85595),START:s(55680)}},14135:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(518),l=s(54899),o=new g({Extends:f,initialize:function(h,u,a,d,c){f.call(this,h,u,a,d,c),this.type="animationJSON"},onProcess:function(){this.loader.once(l.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});y.register("animation",function(r,h,u,a){if(Array.isArray(r))for(var d=0;d<r.length;d++)this.addFile(new o(this,r[d]));else this.addFile(new o(this,r,h,a,u));return this}),C.exports=o},76272:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),o=s(41212),r=s(518),h=s(26430),u=new g({Extends:h,initialize:function(d,c,p,v,m,T){var E,P;if(o(c)){var w=c;c=f(w,"key"),E=new l(d,{key:c,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new r(d,{key:c,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(d,c,p,m),P=new r(d,c,v,T);E.linkFile?h.call(this,d,"atlasjson",c,[E,P,E.linkFile]):h.call(this,d,"atlasjson",c,[E,P])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],d=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,d.data,c),d.addToCache(),this.complete=!0}}});y.register("aseprite",function(a,d,c,p,v){var m;if(Array.isArray(a))for(var T=0;T<a.length;T++)m=new u(this,a[T]),this.addFile(m.files);else m=new u(this,a,d,c,p,v),this.addFile(m.files);return this}),C.exports=u},38734:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),o=s(41212),r=s(518),h=s(26430),u=new g({Extends:h,initialize:function(d,c,p,v,m,T){var E,P;if(o(c)){var w=c;c=f(w,"key"),E=new l(d,{key:c,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new r(d,{key:c,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(d,c,p,m),P=new r(d,c,v,T);E.linkFile?h.call(this,d,"atlasjson",c,[E,P,E.linkFile]):h.call(this,d,"atlasjson",c,[E,P])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],d=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,d.data,c),this.complete=!0}}});y.register("atlas",function(a,d,c,p,v){var m;if(Array.isArray(a))for(var T=0;T<a.length;T++)m=new u(this,a[T]),this.addFile(m.files);else m=new u(this,a,d,c,p,v),this.addFile(m.files);return this}),C.exports=u},74599:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),o=s(41212),r=s(26430),h=s(57318),u=new g({Extends:r,initialize:function(d,c,p,v,m,T){var E,P;if(o(c)){var w=c;c=f(w,"key"),E=new l(d,{key:c,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new h(d,{key:c,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","xml"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(d,c,p,m),P=new h(d,c,v,T);E.linkFile?r.call(this,d,"atlasxml",c,[E,P,E.linkFile]):r.call(this,d,"atlasxml",c,[E,P])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],d=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(a.key,a.data,d.data,c),this.complete=!0}}});y.register("atlasXML",function(a,d,c,p,v){var m;if(Array.isArray(a))for(var T=0;T<a.length;T++)m=new u(this,a[T]),this.addFile(m.files);else m=new u(this,a,d,c,p,v),this.addFile(m.files);return this}),C.exports=u},21097:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(89749),h=s(41212),u=new g({Extends:f,initialize:function(d,c,p,v,m){if(h(c)){var T=c;c=o(T,"key"),v=o(T,"xhrSettings"),m=o(T,"context",m)}var E={type:"audio",cache:d.cacheManager.audio,extension:p.type,responseType:"arraybuffer",key:c,url:p.url,xhrSettings:v,config:{context:m}};f.call(this,d,E)},onProcess:function(){this.state=y.FILE_PROCESSING;var a=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(d){a.data=d,a.onProcessComplete()},function(d){console.error("Error decoding audio: "+a.key+" - ",d?d.message:null),a.onProcessError()}),this.config.context=null}});u.create=function(a,d,c,p,v){var m=a.systems.game,T=m.config.audio,E=m.device.audio;h(d)&&(c=o(d,"url",[]),p=o(d,"config",{}));var P=u.getAudioURL(m,c);return P?E.webAudio&&!T.disableWebAudio?new u(a,d,P,v,m.sound.context):new r(a,d,P,p):(console.warn('No audio URLs for "%s" can play on this device',d),null)},u.getAudioURL=function(a,d){Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var p=o(d[c],"url",d[c]);if(p.indexOf("blob:")===0||p.indexOf("data:")===0)return{url:p,type:""};var v=p.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=o(d[c],"type",v?v[1]:"").toLowerCase(),a.device.audio[v])return{url:p,type:v}}return null},l.register("audio",function(a,d,c,p){var v=this.systems.game,m=v.config.audio,T=v.device.audio;if(m.noAudio||!T.webAudio&&!T.audioData)return this;var E;if(Array.isArray(a))for(var P=0;P<a.length;P++)E=u.create(this,a[P]),E&&this.addFile(E);else E=u.create(this,a,d,c,p),E&&this.addFile(E);return this}),C.exports=u},89524:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(21097),y=s(83419),f=s(74099),l=s(95540),o=s(41212),r=s(518),h=s(26430),u=new y({Extends:h,initialize:function(d,c,p,v,m,T,E){if(o(c)){var P=c;c=l(P,"key"),p=l(P,"jsonURL"),v=l(P,"audioURL"),m=l(P,"audioConfig"),T=l(P,"audioXhrSettings"),E=l(P,"jsonXhrSettings")}var w;if(!v)w=new r(d,c,p,E),h.call(this,d,"audiosprite",c,[w]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=T;else{var R=g.create(d,c,v,m,T);R&&(w=new r(d,c,p,E),h.call(this,d,"audiosprite",c,[R,w]),this.config.resourceLoad=!1)}},onFileComplete:function(a){var d=this.files.indexOf(a);if(d!==-1&&(this.pending--,this.config.resourceLoad&&a.type==="json"&&a.data.hasOwnProperty("resources"))){var c=a.data.resources,p=l(this.config,"audioConfig"),v=l(this.config,"audioXhrSettings"),m=g.create(this.loader,a.key,c,p,v);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],d=this.files[1];a.addToCache(),d.addToCache(),this.complete=!0}}});f.register("audioSprite",function(a,d,c,p,v,m){var T=this.systems.game,E=T.config.audio,P=T.device.audio;if(E&&E.noAudio||!P.webAudio&&!P.audioData)return this;var w;if(Array.isArray(a))for(var R=0;R<a.length;R++)w=new u(this,a[R]),w.files&&this.addFile(w.files);else w=new u(this,a,d,c,p,v,m),w.files&&this.addFile(w.files);return this})},85722:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p,v){var m="bin";if(r(d)){var T=d;d=o(T,"key"),c=o(T,"url"),p=o(T,"xhrSettings"),m=o(T,"extension",m),v=o(T,"dataType",v)}var E={type:"binary",cache:a.cacheManager.binary,extension:m,responseType:"arraybuffer",key:d,url:c,xhrSettings:p,config:{dataType:v}};f.call(this,a,E)},onProcess:function(){this.state=y.FILE_PROCESSING;var u=this.config.dataType;this.data=u?new u(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});l.register("binary",function(u,a,d,c){if(Array.isArray(u))for(var p=0;p<u.length;p++)this.addFile(new h(this,u[p]));else this.addFile(new h(this,u,a,c,d));return this}),C.exports=h},97025:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),o=s(41212),r=s(26430),h=s(21859),u=s(57318),a=new g({Extends:r,initialize:function(c,p,v,m,T,E){var P,w;if(o(p)){var R=p;p=f(R,"key"),P=new l(c,{key:p,url:f(R,"textureURL"),extension:f(R,"textureExtension","png"),normalMap:f(R,"normalMap"),xhrSettings:f(R,"textureXhrSettings")}),w=new u(c,{key:p,url:f(R,"fontDataURL"),extension:f(R,"fontDataExtension","xml"),xhrSettings:f(R,"fontDataXhrSettings")})}else P=new l(c,p,v,T),w=new u(c,p,m,E);P.linkFile?r.call(this,c,"bitmapfont",p,[P,w,P.linkFile]):r.call(this,c,"bitmapfont",p,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],c=this.files[1];d.addToCache();var p=d.cache.get(d.key),v=h(c.data,d.cache.getFrame(d.key),0,0,p);this.loader.cacheManager.bitmapFont.add(d.key,{data:v,texture:d.key,frame:null}),this.complete=!0}}});y.register("bitmapFont",function(d,c,p,v,m){var T;if(Array.isArray(d))for(var E=0;E<d.length;E++)T=new a(this,d[E]),this.addFile(T.files);else T=new a(this,d,c,p,v,m),this.addFile(T.files);return this}),C.exports=a},16024:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p){var v="css";if(r(d)){var m=d;d=o(m,"key"),c=o(m,"url"),p=o(m,"xhrSettings"),v=o(m,"extension",v)}var T={type:"script",cache:!1,extension:v,responseType:"text",key:d,url:c,xhrSettings:p};f.call(this,a,T)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("css",function(u,a,d){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new h(this,u[c]));else this.addFile(new h(this,u,a,d));return this}),C.exports=h},69559:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(38734),y=s(85722),f=s(83419),l=s(74099),o=s(95540),r=s(19550),h=s(41212),u=s(518),a=s(31403),d=s(46975),c=s(59327),p=s(26430),v=s(82038),m=s(55222),T=new f({Extends:p,initialize:function(P,w,R,L){if(R.multiAtlasURL){var O=new u(P,{key:w,url:R.multiAtlasURL,xhrSettings:L,config:R});p.call(this,P,"texture",w,[O])}else{var I=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=I.toLowerCase()==="ktx"?"KTX":"PVR");var F=new y(P,{key:w,url:R.textureURL,extension:I,xhrSettings:L,config:R});if(R.atlasURL){var B=new u(P,{key:w,url:R.atlasURL,xhrSettings:L,config:R});p.call(this,P,"texture",w,[F,B])}else p.call(this,P,"texture",w,[F])}this.config=R},onFileComplete:function(E){var P=this.files.indexOf(E);if(P!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(E.type==="json"&&E.data.hasOwnProperty("textures")){var w=E.data.textures,R=this.config,L=this.loader,O=L.baseURL,I=L.path,F=L.prefix,B=o(R,"multiBaseURL",this.baseURL),G=o(R,"multiPath",this.path),z=o(R,"prefix",this.prefix),Y=o(R,"textureXhrSettings");B&&L.setBaseURL(B),G&&L.setPath(G),z&&L.setPrefix(z);for(var J=0;J<w.length;J++){var $=w[J].image,j="CMA"+this.multiKeyIndex+"_"+$,X=new y(L,j,$,Y);if(this.addToMultiFile(X),L.addFile(X),w[J].normalMap){var H=new y(L,j,w[J].normalMap,Y);H.type="normalMap",X.setLink(H),this.addToMultiFile(H),L.addFile(H)}}L.setBaseURL(O),L.setPath(I),L.setPrefix(F)}}},addToCache:function(){function E(B){console.warn('Compressed Texture Invalid: "'+O.key+'". '+B)}if(this.isReadyToProcess()){var P=this.config;if(P.multiAtlasURL)this.addMultiToCache();else{var w=this.loader.systems.renderer,R=this.loader.textureManager,L,O=this.files[0],I=this.files[1];if(P.type==="PVR"?L=v(O.data):P.type==="KTX"&&(L=a(O.data),L||E("KTX file contains unsupported format.")),L&&!m(L)&&(E("Texture dimensions failed verification. Check the texture format specifications for "+P.format+" 0x"+L.internalFormat.toString(16)+"."),L=null),L&&!w.supportsCompressedTexture(P.format,L.internalFormat)&&(E("Texture format "+P.format+" with internal format "+L.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),L=null),L){L.format=w.getCompressedTextureName(P.format,L.internalFormat);var F=I&&I.data?I.data:null;R.addCompressedTexture(O.key,L,F)}}this.complete=!0}},addMultiToCache:function(){for(var E=this.config,P=this.files[0],w=[],R=[],L=[],O=this.loader.systems.renderer,I=this.loader.textureManager,F,B=1;B<this.files.length;B++){var G=this.files[B];if(G.type!=="normalMap")for(var z=G.key.indexOf("_"),Y=G.key.substr(z+1),J=G.data,$=0;$<P.data.textures.length;$++){var j=P.data.textures[$];if(j.image===Y){E.type==="PVR"?F=v(J):E.type==="KTX"&&(F=a(J)),F&&O.supportsCompressedTexture(E.format,F.internalFormat)&&(F.format=O.getCompressedTextureName(E.format,F.internalFormat),R.push(F),w.push(j),G.linkFile&&L.push(G.linkFile.data));break}}}L.length===0&&(L=void 0),I.addAtlasJSONArray(this.key,R,w,L),this.complete=!0}});l.register("texture",function(E,P,w){var R=this.systems.renderer,L=function(I,F,B,G){var z={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(h(F)){var Y=F;F=o(Y,"key"),B=o(Y,"url"),G=o(Y,"xhrSettings")}var J=!1;for(var $ in B)if(R.supportsCompressedTexture($)){var j=B[$];typeof j=="string"?z.textureURL=j:z=d(j,z),z.format=$.toUpperCase(),J=!0;break}if(!J)console.warn("No supported compressed texture format or IMG fallback",F);else if(z.format==="IMG"){var X,H;z.multiAtlasURL?(H=new c(I,F,z.multiAtlasURL,z.multiPath,z.multiBaseURL,G),X=H.files):z.atlasURL?(H=new g(I,F,z.textureURL,z.atlasURL,G),X=H.files):X=new r(I,F,z.textureURL,G),I.addFile(X)}else{var N=new T(I,F,z,G);I.addFile(N.files)}};if(Array.isArray(E))for(var O=0;O<E.length;O++)L(this,E[O]);else L(this,E,P,w);return this}),C.exports=T},87674:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(98356),h=s(41212),u=new g({Extends:f,initialize:function(d,c,p,v,m,T){var E="ttf";if(h(c)){var P=c;c=o(P,"key"),p=o(P,"url"),v=o(P,"format","truetype"),m=o(P,"descriptors",null),T=o(P,"xhrSettings"),E=o(P,"extension",E)}else v===void 0&&(v="truetype");var w={type:"font",cache:!1,extension:E,responseType:"text",key:c,url:p,xhrSettings:T};f.call(this,d,w),this.data={format:v,descriptors:m},this.state=y.FILE_POPULATED},onProcess:function(){this.state=y.FILE_PROCESSING,this.src=r(this,this.loader.baseURL);var a,d=this.key,c="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?a=new FontFace(d,c,this.data.descriptors):a=new FontFace(d,c);var p=this;a.load().then(function(){document.fonts.add(a),document.body.classList.add("fonts-loaded"),p.onProcessComplete()}).catch(function(){console.warn("Font failed to load",c),p.onProcessComplete()})}});l.register("font",function(a,d,c,p,v){if(Array.isArray(a))for(var m=0;m<a.length;m++)this.addFile(new u(this,a[m]));else this.addFile(new u(this,a,d,c,p,v));return this}),C.exports=u},47931:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=s(73894),u=new g({Extends:f,initialize:function(d,c,p,v,m){var T="glsl";if(r(c)){var E=c;c=o(E,"key"),p=o(E,"url"),v=o(E,"shaderType","fragment"),m=o(E,"xhrSettings"),T=o(E,"extension",T)}else v===void 0&&(v="fragment");var P={type:"glsl",cache:d.cacheManager.shader,extension:T,responseType:"text",key:c,url:p,config:{shaderType:v},xhrSettings:m};f.call(this,d,P)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a=this.data.split(`
`),d=this.extractBlock(a,0);if(d)for(;d;){var c=this.getShaderName(d.header),p=this.getShaderType(d.header),v=this.getShaderUniforms(d.header),m=d.shader;if(this.cache.has(c)){var T=this.cache.get(c);p==="fragment"?T.fragmentSrc=m:T.vertexSrc=m,T.uniforms||(T.uniforms=v)}else p==="fragment"?this.cache.add(c,new h(c,m,"",v)):this.cache.add(c,new h(c,"",m,v));d=this.extractBlock(a,d.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new h(this.key,this.data)):this.cache.add(this.key,new h(this.key,"",this.data))},getShaderName:function(a){for(var d=0;d<a.length;d++){var c=a[d].trim();if(c.substring(0,5)==="name:")return c.substring(5).trim()}return this.key},getShaderType:function(a){for(var d=0;d<a.length;d++){var c=a[d].trim();if(c.substring(0,5)==="type:")return c.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(a){for(var d={},c=0;c<a.length;c++){var p=a[c].trim();if(p.substring(0,8)==="uniform."){var v=p.indexOf(":");if(v){var m=p.substring(8,v);try{d[m]=JSON.parse(p.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return d},extractBlock:function(a,d){for(var c=-1,p=-1,v=-1,m=!1,T=!1,E=[],P=[],w=d;w<a.length;w++){var R=a[w].trim();if(R==="---")if(c===-1)c=w,m=!0;else if(m)p=w,m=!1,T=!0;else{T=!1;break}else m?E.push(R):T&&(P.push(R),v=w)}return!m&&p!==-1?{header:E,shader:P.join(`
`),offset:v}:null}});l.register("glsl",function(a,d,c,p){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new u(this,a[v]));else this.addFile(new u(this,a,d,c,p));return this}),C.exports=u},89749:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(54899),f=s(41299),l=s(95540),o=s(98356),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p){if(r(d)){var v=d;d=l(v,"key"),p=l(v,"config",p)}var m={type:"audio",cache:a.cacheManager.audio,extension:c.type,key:d,url:c.url,config:p};f.call(this,a,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var u=0;u<this.data.length;u++){var a=this.data[u];a.oncanplaythrough=null,a.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(u){var a=u.target;a.oncanplaythrough=null,a.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(y.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var u=this.config&&this.config.instances||1;this.filesTotal=u,this.filesLoaded=0,this.percentComplete=0;for(var a=0;a<u;a++){var d=new Audio;d.dataset||(d.dataset={}),d.dataset.name=this.key+("0"+a).slice(-2),d.dataset.used="false",this.locked?d.dataset.locked="true":(d.dataset.locked="false",d.preload="auto",d.oncanplaythrough=this.onProgress.bind(this),d.onerror=this.onError.bind(this)),this.data.push(d)}for(a=0;a<this.data.length;a++)d=this.data[a],d.src=o(this,this.loader.baseURL),this.locked||d.load();this.locked&&setTimeout(this.onLoad.bind(this))}});C.exports=h},88470:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p){var v="html";if(r(d)){var m=d;d=o(m,"key"),c=o(m,"url"),p=o(m,"xhrSettings"),v=o(m,"extension",v)}var T={type:"text",cache:a.cacheManager.html,extension:v,responseType:"text",key:d,url:c,xhrSettings:p};f.call(this,a,T)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("html",function(u,a,d){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new h(this,u[c]));else this.addFile(new h(this,u,a,d));return this}),C.exports=h},14643:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p,v,m){p===void 0&&(p=512),v===void 0&&(v=512);var T="html";if(r(d)){var E=d;d=o(E,"key"),c=o(E,"url"),m=o(E,"xhrSettings"),T=o(E,"extension",T),p=o(E,"width",p),v=o(E,"height",v)}var P={type:"html",cache:a.textureManager,extension:T,responseType:"text",key:d,url:c,xhrSettings:m,config:{width:p,height:v}};f.call(this,a,P)},onProcess:function(){this.state=y.FILE_PROCESSING;var u=this.config.width,a=this.config.height,d=[];d.push('<svg width="'+u+'px" height="'+a+'px" viewBox="0 0 '+u+" "+a+'" xmlns="http://www.w3.org/2000/svg">'),d.push('<foreignObject width="100%" height="100%">'),d.push('<body xmlns="http://www.w3.org/1999/xhtml">'),d.push(this.xhrLoader.responseText),d.push("</body>"),d.push("</foreignObject>"),d.push("</svg>");var c=[d.join(`
`)],p=this;try{var v=new window.Blob(c,{type:"image/svg+xml;charset=utf-8"})}catch{p.state=y.FILE_ERRORED,p.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(p.data),p.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(p.data),p.onProcessError()},f.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("htmlTexture",function(u,a,d,c,p){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new h(this,u[v]));else this.addFile(new h(this,u,a,d,c,p));return this}),C.exports=h},19550:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=s(98356),u=new g({Extends:f,initialize:function a(d,c,p,v,m){var T="png",E;if(r(c)){var P=c;c=o(P,"key"),p=o(P,"url"),E=o(P,"normalMap"),v=o(P,"xhrSettings"),T=o(P,"extension",T),m=o(P,"frameConfig")}Array.isArray(p)&&(E=p[1],p=p[0]);var w={type:"image",cache:d.textureManager,extension:T,responseType:"blob",key:c,url:p,xhrSettings:v,config:m};if(f.call(this,d,w),E){var R=new a(d,this.key,E,v,m);R.type="normalMap",this.setLink(R),d.addFile(R)}this.useImageElementLoad=d.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){f.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(a.data),a.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var a=this.state;this.state=y.FILE_PROCESSING,a===y.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=y.FILE_LOADING,this.src=h(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){a.state=y.FILE_LOADED,a.loader.nextFile(a,!0)},this.data.onerror=function(){a.loader.nextFile(a,!1)},this.data.src=this.src},addToCache:function(){var a=this.linkFile;a?a.state>=y.FILE_COMPLETE&&(a.type==="spritesheet"?a.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,a.data,this.data):this.cache.addImage(this.key,this.data,a.data)):this.cache.addImage(this.key,this.data)}});l.register("image",function(a,d,c){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new u(this,a[p]));else this.addFile(new u(this,a,d,c));return this}),C.exports=u},518:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(35154),h=s(41212),u=new g({Extends:f,initialize:function(d,c,p,v,m){var T="json";if(h(c)){var E=c;c=o(E,"key"),p=o(E,"url"),v=o(E,"xhrSettings"),T=o(E,"extension",T),m=o(E,"dataKey",m)}var P={type:"json",cache:d.cacheManager.json,extension:T,responseType:"text",key:c,url:p,xhrSettings:v,config:m};f.call(this,d,P),h(p)&&(m?this.data=r(p,m):this.data=p,this.state=y.FILE_POPULATED)},onProcess:function(){if(this.state!==y.FILE_POPULATED){this.state=y.FILE_PROCESSING;try{var a=JSON.parse(this.xhrLoader.responseText)}catch(c){throw this.onProcessError(),c}var d=this.config;typeof d=="string"?this.data=r(a,d,a):this.data=a}this.onProcessComplete()}});l.register("json",function(a,d,c,p){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new u(this,a[v]));else this.addFile(new u(this,a,d,p,c));return this}),C.exports=u},59327:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),o=s(41212),r=s(518),h=s(26430),u=new g({Extends:h,initialize:function(d,c,p,v,m,T,E){if(o(c)){var P=c;c=f(P,"key"),f(P,"url",!1)?p=f(P,"url"):p=f(P,"atlasURL"),T=f(P,"xhrSettings"),v=f(P,"path"),m=f(P,"baseURL"),E=f(P,"textureXhrSettings")}var w=new r(d,c,p,T);h.call(this,d,"multiatlas",c,[w]),this.config.path=v,this.config.baseURL=m,this.config.textureXhrSettings=E},onFileComplete:function(a){var d=this.files.indexOf(a);if(d!==-1&&(this.pending--,a.type==="json"&&a.data.hasOwnProperty("textures"))){var c=a.data.textures,p=this.config,v=this.loader,m=v.baseURL,T=v.path,E=v.prefix,P=f(p,"baseURL",this.baseURL),w=f(p,"path",this.path),R=f(p,"prefix",this.prefix),L=f(p,"textureXhrSettings");v.setBaseURL(P),v.setPath(w),v.setPrefix(R);for(var O=0;O<c.length;O++){var I=c[O].image,F="MA"+this.multiKeyIndex+"_"+I,B=new l(v,F,I,L);if(this.addToMultiFile(B),v.addFile(B),c[O].normalMap){var G=new l(v,F,c[O].normalMap,L);G.type="normalMap",B.setLink(G),this.addToMultiFile(G),v.addFile(G)}}v.setBaseURL(m),v.setPath(T),v.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){for(var a=this.files[0],d=[],c=[],p=[],v=1;v<this.files.length;v++){var m=this.files[v];if(m.type!=="normalMap")for(var T=m.key.indexOf("_"),E=m.key.substr(T+1),P=m.data,w=0;w<a.data.textures.length;w++){var R=a.data.textures[w];if(R.image===E){c.push(P),d.push(R),m.linkFile&&p.push(m.linkFile.data);break}}}p.length===0&&(p=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,c,d,p),this.complete=!0}}});y.register("multiatlas",function(a,d,c,p,v){var m;if(Array.isArray(a))for(var T=0;T<a.length;T++)m=new u(this,a[T]),this.addFile(m.files);else m=new u(this,a,d,c,p,v),this.addFile(m.files);return this}),C.exports=u},99297:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(41212),o=s(26430),r=s(34328),h=new g({Extends:o,initialize:function(a,d,c,p){var v="js",m=[];if(l(d)){var T=d;d=f(T,"key"),c=f(T,"url"),p=f(T,"xhrSettings"),v=f(T,"extension",v)}Array.isArray(c)||(c=[c]);for(var E=0;E<c.length;E++){var P=new r(a,{key:d+"_"+E.toString(),url:c[E],extension:v,xhrSettings:p});P.onProcess=function(){this.onProcessComplete()},m.push(P)}o.call(this,a,"scripts",d,m)},addToCache:function(){if(this.isReadyToProcess()){for(var u=0;u<this.files.length;u++){var a=this.files[u];a.data=document.createElement("script"),a.data.language="javascript",a.data.type="text/javascript",a.data.defer=!1,a.data.text=a.xhrLoader.responseText,document.head.appendChild(a.data)}this.complete=!0}}});y.register("scripts",function(u,a,d){var c;if(Array.isArray(u))for(var p=0;p<u.length;p++)c=new h(this,u[p]),this.addFile(c.files);else c=new h(this,u,a,d),this.addFile(c.files);return this}),C.exports=h},41846:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(41212),o=s(26430),r=s(85048),h=s(61485),u=s(78776),a=new g({Extends:o,initialize:function(c,p,v,m,T,E){var P,w,R=c.cacheManager.obj;if(l(p)){var L=p;p=f(L,"key"),P=new u(c,{key:p,type:"obj",cache:R,url:f(L,"url"),extension:f(L,"extension","obj"),xhrSettings:f(L,"xhrSettings"),config:{flipUV:f(L,"flipUV",T)}}),m=f(L,"matURL"),m&&(w=new u(c,{key:p,type:"mat",cache:R,url:m,extension:f(L,"matExtension","mat"),xhrSettings:f(L,"xhrSettings")}))}else P=new u(c,{key:p,url:v,type:"obj",cache:R,extension:"obj",xhrSettings:E,config:{flipUV:T}}),m&&(w=new u(c,{key:p,url:m,type:"mat",cache:R,extension:"mat",xhrSettings:E}));o.call(this,c,"obj",p,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],c=this.files[1],p=r(d.data,d.config.flipUV);c&&(p.materials=h(c.data)),d.cache.add(d.key,p),this.complete=!0}}});y.register("obj",function(d,c,p,v,m){var T;if(Array.isArray(d))for(var E=0;E<d.length;E++)T=new a(this,d[E]),this.addFile(T.files);else T=new a(this,d,c,p,v,m),this.addFile(T.files);return this}),C.exports=a},58610:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(74099),l=s(518),o=new g({Extends:l,initialize:function(h,u,a,d,c){l.call(this,h,u,a,d,c),this.type="packfile"},onProcess:function(){if(this.state!==y.FILE_POPULATED&&(this.state=y.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var r={};r[this.config]=this.data,this.data=r}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(r,h,u,a){if(Array.isArray(r))for(var d=0;d<r.length;d++)this.addFile(new o(this,r[d]));else this.addFile(new o(this,r,h,a,u));return this}),C.exports=o},48988:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p,v,m){var T="js";if(r(d)){var E=d;d=o(E,"key"),c=o(E,"url"),m=o(E,"xhrSettings"),T=o(E,"extension",T),p=o(E,"start"),v=o(E,"mapping")}var P={type:"plugin",cache:!1,extension:T,responseType:"text",key:d,url:c,xhrSettings:m,config:{start:p,mapping:v}};f.call(this,a,P),typeof c=="function"&&(this.data=c,this.state=y.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,a=this.config,d=o(a,"start",!1),c=o(a,"mapping",null);if(this.state===y.FILE_POPULATED)u.install(this.key,this.data,d,c);else{this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var p=u.install(this.key,window[this.key],d,c);(d||c)&&(this.loader.systems[c]=p,this.loader.scene[c]=p)}this.onProcessComplete()}});l.register("plugin",function(u,a,d,c,p){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new h(this,u[v]));else this.addFile(new h(this,u,a,d,c,p));return this}),C.exports=h},67397:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p,v){var m="svg";if(r(d)){var T=d;d=o(T,"key"),c=o(T,"url"),p=o(T,"svgConfig",{}),v=o(T,"xhrSettings"),m=o(T,"extension",m)}var E={type:"svg",cache:a.textureManager,extension:m,responseType:"text",key:d,url:c,xhrSettings:v,config:{width:o(p,"width"),height:o(p,"height"),scale:o(p,"scale")}};f.call(this,a,E)},onProcess:function(){this.state=y.FILE_PROCESSING;var u=this.xhrLoader.responseText,a=[u],d=this.config.width,c=this.config.height,p=this.config.scale;t:if(d&&c||p){var v=null,m=new DOMParser;v=m.parseFromString(u,"text/xml");var T=v.getElementsByTagName("svg")[0],E=T.hasAttribute("viewBox"),P=parseFloat(T.getAttribute("width")),w=parseFloat(T.getAttribute("height"));if(!E&&P&&w)T.setAttribute("viewBox","0  0 "+P+" "+w);else if(E&&!P&&!w){var R=T.getAttribute("viewBox").split(/\s+|,/);P=R[2],w=R[3]}if(p)if(P&&w)d=P*p,c=w*p;else break t;T.setAttribute("width",d.toString()+"px"),T.setAttribute("height",c.toString()+"px"),a=[new XMLSerializer().serializeToString(T)]}try{var L=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var O=this,I=!1;this.data.onload=function(){I||f.revokeObjectURL(O.data),O.onProcessComplete()},this.data.onerror=function(){I?O.onProcessError():(I=!0,f.revokeObjectURL(O.data),O.data.src="data:image/svg+xml,"+encodeURIComponent(a.join("")))},f.createObjectURL(this.data,L,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("svg",function(u,a,d,c){if(Array.isArray(u))for(var p=0;p<u.length;p++)this.addFile(new h(this,u[p]));else this.addFile(new h(this,u,a,d,c));return this}),C.exports=h},88423:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p){var v="js";if(r(d)){var m=d;d=o(m,"key"),c=o(m,"url"),p=o(m,"xhrSettings"),v=o(m,"extension",v)}var T={type:"text",extension:v,responseType:"text",key:d,url:c,xhrSettings:p};f.call(this,a,T)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),a=eval;this.loader.sceneManager.add(this.key,a(u)),this.complete=!0}});l.register("sceneFile",function(u,a,d){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new h(this,u[c]));else this.addFile(new h(this,u,a,d));return this}),C.exports=h},56812:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p,v,m){var T="js";if(r(d)){var E=d;d=o(E,"key"),c=o(E,"url"),m=o(E,"xhrSettings"),T=o(E,"extension",T),p=o(E,"systemKey"),v=o(E,"sceneKey")}var P={type:"scenePlugin",cache:!1,extension:T,responseType:"text",key:d,url:c,xhrSettings:m,config:{systemKey:p,sceneKey:v}};f.call(this,a,P),typeof c=="function"&&(this.data=c,this.state=y.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,a=this.config,d=this.key,c=o(a,"systemKey",d),p=o(a,"sceneKey",d);this.state===y.FILE_POPULATED?u.installScenePlugin(c,this.data,p,this.loader.scene,!0):(this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),u.installScenePlugin(c,window[this.key],p,this.loader.scene,!0)),this.onProcessComplete()}});l.register("scenePlugin",function(u,a,d,c,p){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new h(this,u[v]));else this.addFile(new h(this,u,a,d,c,p));return this}),C.exports=h},34328:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p,v){var m="js";if(r(d)){var T=d;d=o(T,"key"),c=o(T,"url"),p=o(T,"type","script"),v=o(T,"xhrSettings"),m=o(T,"extension",m)}else p===void 0&&(p="script");var E={type:p,cache:!1,extension:m,responseType:"text",key:d,url:c,xhrSettings:v};f.call(this,a,E)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("script",function(u,a,d,c){if(Array.isArray(u))for(var p=0;p<u.length;p++)this.addFile(new h(this,u[p]));else this.addFile(new h(this,u,a,d,c));return this}),C.exports=h},85035:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(74099),l=s(19550),o=new g({Extends:l,initialize:function(h,u,a,d,c){l.call(this,h,u,a,c,d),this.type="spritesheet"},addToCache:function(){var r=this.linkFile;r?r.state>=y.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,r.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,r.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});f.register("spritesheet",function(r,h,u,a){if(Array.isArray(r))for(var d=0;d<r.length;d++)this.addFile(new o(this,r[d]));else this.addFile(new o(this,r,h,u,a));return this}),C.exports=o},78776:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=new g({Extends:f,initialize:function(a,d,c,p){var v="text",m="txt",T=a.cacheManager.text;if(r(d)){var E=d;d=o(E,"key"),c=o(E,"url"),p=o(E,"xhrSettings"),m=o(E,"extension",m),v=o(E,"type",v),T=o(E,"cache",T)}var P={type:v,cache:T,extension:m,responseType:"text",key:d,url:c,xhrSettings:p};f.call(this,a,P)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("text",function(u,a,d){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new h(this,u[c]));else this.addFile(new h(this,u,a,d));return this}),C.exports=h},49477:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=s(80341),u=new g({Extends:f,initialize:function(d,c,p,v){var m="csv";if(r(c)){var T=c;c=o(T,"key"),p=o(T,"url"),v=o(T,"xhrSettings"),m=o(T,"extension",m)}var E={type:"tilemapCSV",cache:d.cacheManager.tilemap,extension:m,responseType:"text",key:c,url:p,xhrSettings:v};f.call(this,d,E),this.tilemapFormat=h.CSV},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,a)}});l.register("tilemapCSV",function(a,d,c){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new u(this,a[p]));else this.addFile(new u(this,a,d,c));return this}),C.exports=u},40807:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(518),l=s(80341),o=new g({Extends:f,initialize:function(h,u,a,d){f.call(this,h,u,a,d),this.type="tilemapJSON",this.cache=h.cacheManager.tilemap},addToCache:function(){var r={format:l.WELTMEISTER,data:this.data};this.cache.add(this.key,r)}});y.register("tilemapImpact",function(r,h,u){if(Array.isArray(r))for(var a=0;a<r.length;a++)this.addFile(new o(this,r[a]));else this.addFile(new o(this,r,h,u));return this}),C.exports=o},56775:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(518),l=s(80341),o=new g({Extends:f,initialize:function(h,u,a,d){f.call(this,h,u,a,d),this.type="tilemapJSON",this.cache=h.cacheManager.tilemap},addToCache:function(){var r={format:l.TILED_JSON,data:this.data};this.cache.add(this.key,r)}});y.register("tilemapTiledJSON",function(r,h,u){if(Array.isArray(r))for(var a=0;a<r.length;a++)this.addFile(new o(this,r[a]));else this.addFile(new o(this,r,h,u));return this}),C.exports=o},25771:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),o=s(41212),r=s(26430),h=s(78776),u=new g({Extends:r,initialize:function(d,c,p,v,m,T){var E,P;if(o(c)){var w=c;c=f(w,"key"),E=new l(d,{key:c,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new h(d,{key:c,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","txt"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(d,c,p,m),P=new h(d,c,v,T);E.linkFile?r.call(this,d,"unityatlas",c,[E,P,E.linkFile]):r.call(this,d,"unityatlas",c,[E,P])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],d=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(a.key,a.data,d.data,c),this.complete=!0}}});y.register("unityAtlas",function(a,d,c,p,v){var m;if(Array.isArray(a))for(var T=0;T<a.length;T++)m=new u(this,a[T]),this.addFile(m.files);else m=new u(this,a,d,c,p,v),this.addFile(m.files);return this}),C.exports=u},33720:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(98356),r=s(95540),h=s(41212),u=new g({Extends:f,initialize:function(d,c,p,v){if(v===void 0&&(v=!1),h(c)){var m=c;c=r(m,"key"),p=r(m,"url",[]),v=r(m,"noAudio",!1)}var T=d.systems.game.device.video.getVideoURL(p);T||console.warn("VideoFile: No supported format for "+c);var E={type:"video",cache:d.cacheManager.video,extension:T.type,key:c,url:T.url,config:{noAudio:v}};f.call(this,d,E)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=o(this,this.loader.baseURL),this.state=y.FILE_LOADED,this.loader.nextFile(this,!0)}});l.register("video",function(a,d,c){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new u(this,a[p]));else this.addFile(new u(this,a,d,c));return this}),C.exports=u},57318:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),o=s(95540),r=s(41212),h=s(56836),u=new g({Extends:f,initialize:function(d,c,p,v){var m="xml";if(r(c)){var T=c;c=o(T,"key"),p=o(T,"url"),v=o(T,"xhrSettings"),m=o(T,"extension",m)}var E={type:"xml",cache:d.cacheManager.xml,extension:m,responseType:"text",key:c,url:p,xhrSettings:v};f.call(this,d,E)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=h(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});l.register("xml",function(a,d,c){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new u(this,a[p]));else this.addFile(new u(this,a,d,c));return this}),C.exports=u},64589:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AnimationJSONFile:s(14135),AsepriteFile:s(76272),AtlasJSONFile:s(38734),AtlasXMLFile:s(74599),AudioFile:s(21097),AudioSpriteFile:s(89524),BinaryFile:s(85722),BitmapFontFile:s(97025),CompressedTextureFile:s(69559),CSSFile:s(16024),FontFile:s(87674),GLSLFile:s(47931),HTML5AudioFile:s(89749),HTMLFile:s(88470),HTMLTextureFile:s(14643),ImageFile:s(19550),JSONFile:s(518),MultiAtlasFile:s(59327),MultiScriptFile:s(99297),OBJFile:s(41846),PackFile:s(58610),PluginFile:s(48988),SceneFile:s(88423),ScenePluginFile:s(56812),ScriptFile:s(34328),SpriteSheetFile:s(85035),SVGFile:s(67397),TextFile:s(78776),TilemapCSVFile:s(49477),TilemapImpactFile:s(40807),TilemapJSONFile:s(56775),UnityAtlasFile:s(25771),VideoFile:s(33720),XMLFile:s(57318)}},57777:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23906),y=s(79291),f={Events:s(54899),FileTypes:s(64589),File:s(41299),FileTypesManager:s(74099),GetURL:s(98356),LoaderPlugin:s(74261),MergeXHRSettings:s(3374),MultiFile:s(26430),XHRLoader:s(84376),XHRSettings:s(92638)};f=y(!1,f,g),C.exports=f},53307:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=0,y=0;y<s.length;y++)g+=+s[y];return g/s.length};C.exports=A},85710:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6411),y=function(f,l){return g(f)/g(l)/g(f-l)};C.exports=y},30976:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return Math.floor(Math.random()*(g-s+1)+s)};C.exports=A},87842:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){var o=(f-g)*.5,r=(l-y)*.5,h=s*s,u=s*h;return(2*y-2*f+o+r)*u+(-3*y+3*f-2*o-r)*h+o*s+y};C.exports=A},26302:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){g===void 0&&(g=0),y===void 0&&(y=10);var f=Math.pow(y,-g);return Math.ceil(s*f)/f};C.exports=A},45319:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return Math.max(g,Math.min(y,s))};C.exports=A},39506:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=function(f){return f*g.DEG_TO_RAD};C.exports=y},61241:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return Math.abs(s-g)};C.exports=A},38857:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(37867),l=s(29747),o=new f,r=new y({initialize:function h(u,a,d,c){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=h.DefaultOrder),this._x=u,this._y=a,this._z=d,this._order=c,this.onChangeCallback=l},x:{get:function(){return this._x},set:function(h){this._x=h,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(h){this._y=h,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(h){this._z=h,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(h){this._order=h,this.onChangeCallback(this)}},set:function(h,u,a,d){return d===void 0&&(d=this._order),this._x=h,this._y=u,this._z=a,this._order=d,this.onChangeCallback(this),this},copy:function(h){return this.set(h.x,h.y,h.z,h.order)},setFromQuaternion:function(h,u,a){return u===void 0&&(u=this._order),a===void 0&&(a=!1),o.fromQuat(h),this.setFromRotationMatrix(o,u,a)},setFromRotationMatrix:function(h,u,a){u===void 0&&(u=this._order),a===void 0&&(a=!1);var d=h.val,c=d[0],p=d[4],v=d[8],m=d[1],T=d[5],E=d[9],P=d[2],w=d[6],R=d[10],L=0,O=0,I=0,F=.99999;switch(u){case"XYZ":{O=Math.asin(g(v,-1,1)),Math.abs(v)<F?(L=Math.atan2(-E,R),I=Math.atan2(-p,c)):L=Math.atan2(w,T);break}case"YXZ":{L=Math.asin(-g(E,-1,1)),Math.abs(E)<F?(O=Math.atan2(v,R),I=Math.atan2(m,T)):O=Math.atan2(-P,c);break}case"ZXY":{L=Math.asin(g(w,-1,1)),Math.abs(w)<F?(O=Math.atan2(-P,R),I=Math.atan2(-p,T)):I=Math.atan2(m,c);break}case"ZYX":{O=Math.asin(-g(P,-1,1)),Math.abs(P)<F?(L=Math.atan2(w,R),I=Math.atan2(m,c)):I=Math.atan2(-p,T);break}case"YZX":{I=Math.asin(g(m,-1,1)),Math.abs(m)<F?(L=Math.atan2(-E,T),O=Math.atan2(-P,c)):O=Math.atan2(v,R);break}case"XZY":{I=Math.asin(-g(p,-1,1)),Math.abs(p)<F?(L=Math.atan2(w,T),O=Math.atan2(v,c)):L=Math.atan2(-E,R);break}}return this._x=L,this._y=O,this._z=I,this._order=u,a&&this.onChangeCallback(this),this}});r.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],r.DefaultOrder="XYZ",C.exports=r},6411:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){if(s===0)return 1;for(var g=s;--s;)g*=s;return g};C.exports=A},99472:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return Math.random()*(g-s)+s};C.exports=A},77623:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){g===void 0&&(g=0),y===void 0&&(y=10);var f=Math.pow(y,-g);return Math.floor(s*f)/f};C.exports=A},62945:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=function(f,l,o){return f=g(f,0,1),(o-l)*f+l};C.exports=y},38265:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s/g/1e3};C.exports=A},78702:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s==parseFloat(s)?!(s%2):void 0};C.exports=A},94883:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s===parseFloat(s)?!(s%2):void 0};C.exports=A},28915:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return(g-s)*y+s};C.exports=A},94908:C=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y===void 0&&(y=0),s.clone().lerp(g,y)};C.exports=A},94434:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l){this.val=new Float32Array(9),l?this.copy(l):this.identity()},clone:function(){return new y(this)},set:function(f){return this.copy(f)},copy:function(f){var l=this.val,o=f.val;return l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[4]=o[4],l[5]=o[5],l[6]=o[6],l[7]=o[7],l[8]=o[8],this},fromMat4:function(f){var l=f.val,o=this.val;return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[4],o[4]=l[5],o[5]=l[6],o[6]=l[8],o[7]=l[9],o[8]=l[10],this},fromArray:function(f){var l=this.val;return l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=f[6],l[7]=f[7],l[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,l=f[1],o=f[2],r=f[5];return f[1]=f[3],f[2]=f[6],f[3]=l,f[5]=f[7],f[6]=o,f[7]=r,this},invert:function(){var f=this.val,l=f[0],o=f[1],r=f[2],h=f[3],u=f[4],a=f[5],d=f[6],c=f[7],p=f[8],v=p*u-a*c,m=-p*h+a*d,T=c*h-u*d,E=l*v+o*m+r*T;return E?(E=1/E,f[0]=v*E,f[1]=(-p*o+r*c)*E,f[2]=(a*o-r*u)*E,f[3]=m*E,f[4]=(p*l-r*d)*E,f[5]=(-a*l+r*h)*E,f[6]=T*E,f[7]=(-c*l+o*d)*E,f[8]=(u*l-o*h)*E,this):null},adjoint:function(){var f=this.val,l=f[0],o=f[1],r=f[2],h=f[3],u=f[4],a=f[5],d=f[6],c=f[7],p=f[8];return f[0]=u*p-a*c,f[1]=r*c-o*p,f[2]=o*a-r*u,f[3]=a*d-h*p,f[4]=l*p-r*d,f[5]=r*h-l*a,f[6]=h*c-u*d,f[7]=o*d-l*c,f[8]=l*u-o*h,this},determinant:function(){var f=this.val,l=f[0],o=f[1],r=f[2],h=f[3],u=f[4],a=f[5],d=f[6],c=f[7],p=f[8];return l*(p*u-a*c)+o*(-p*h+a*d)+r*(c*h-u*d)},multiply:function(f){var l=this.val,o=l[0],r=l[1],h=l[2],u=l[3],a=l[4],d=l[5],c=l[6],p=l[7],v=l[8],m=f.val,T=m[0],E=m[1],P=m[2],w=m[3],R=m[4],L=m[5],O=m[6],I=m[7],F=m[8];return l[0]=T*o+E*u+P*c,l[1]=T*r+E*a+P*p,l[2]=T*h+E*d+P*v,l[3]=w*o+R*u+L*c,l[4]=w*r+R*a+L*p,l[5]=w*h+R*d+L*v,l[6]=O*o+I*u+F*c,l[7]=O*r+I*a+F*p,l[8]=O*h+I*d+F*v,this},translate:function(f){var l=this.val,o=f.x,r=f.y;return l[6]=o*l[0]+r*l[3]+l[6],l[7]=o*l[1]+r*l[4]+l[7],l[8]=o*l[2]+r*l[5]+l[8],this},rotate:function(f){var l=this.val,o=l[0],r=l[1],h=l[2],u=l[3],a=l[4],d=l[5],c=Math.sin(f),p=Math.cos(f);return l[0]=p*o+c*u,l[1]=p*r+c*a,l[2]=p*h+c*d,l[3]=p*u-c*o,l[4]=p*a-c*r,l[5]=p*d-c*h,this},scale:function(f){var l=this.val,o=f.x,r=f.y;return l[0]=o*l[0],l[1]=o*l[1],l[2]=o*l[2],l[3]=r*l[3],l[4]=r*l[4],l[5]=r*l[5],this},fromQuat:function(f){var l=f.x,o=f.y,r=f.z,h=f.w,u=l+l,a=o+o,d=r+r,c=l*u,p=l*a,v=l*d,m=o*a,T=o*d,E=r*d,P=h*u,w=h*a,R=h*d,L=this.val;return L[0]=1-(m+E),L[3]=p+R,L[6]=v-w,L[1]=p-R,L[4]=1-(c+E),L[7]=T+P,L[2]=v+w,L[5]=T-P,L[8]=1-(c+m),this},normalFromMat4:function(f){var l=f.val,o=this.val,r=l[0],h=l[1],u=l[2],a=l[3],d=l[4],c=l[5],p=l[6],v=l[7],m=l[8],T=l[9],E=l[10],P=l[11],w=l[12],R=l[13],L=l[14],O=l[15],I=r*c-h*d,F=r*p-u*d,B=r*v-a*d,G=h*p-u*c,z=h*v-a*c,Y=u*v-a*p,J=m*R-T*w,$=m*L-E*w,j=m*O-P*w,X=T*L-E*R,H=T*O-P*R,N=E*O-P*L,Q=I*N-F*H+B*X+G*j-z*$+Y*J;return Q?(Q=1/Q,o[0]=(c*N-p*H+v*X)*Q,o[1]=(p*j-d*N-v*$)*Q,o[2]=(d*H-c*j+v*J)*Q,o[3]=(u*H-h*N-a*X)*Q,o[4]=(r*N-u*j+a*$)*Q,o[5]=(h*j-r*H-a*J)*Q,o[6]=(R*Y-L*z+O*G)*Q,o[7]=(L*B-w*Y-O*F)*Q,o[8]=(w*z-R*B+O*I)*Q,this):null}});C.exports=y},37867:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(25836),f=1e-6,l=new g({initialize:function(c){this.val=new Float32Array(16),c?this.copy(c):this.identity()},clone:function(){return new l(this)},set:function(d){return this.copy(d)},setValues:function(d,c,p,v,m,T,E,P,w,R,L,O,I,F,B,G){var z=this.val;return z[0]=d,z[1]=c,z[2]=p,z[3]=v,z[4]=m,z[5]=T,z[6]=E,z[7]=P,z[8]=w,z[9]=R,z[10]=L,z[11]=O,z[12]=I,z[13]=F,z[14]=B,z[15]=G,this},copy:function(d){var c=d.val;return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},fromArray:function(d){return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(d,c,p){var v=o.fromQuat(p),m=v.val,T=c.x,E=c.y,P=c.z;return this.setValues(m[0]*T,m[1]*T,m[2]*T,0,m[4]*E,m[5]*E,m[6]*E,0,m[8]*P,m[9]*P,m[10]*P,0,d.x,d.y,d.z,1)},xyz:function(d,c,p){this.identity();var v=this.val;return v[12]=d,v[13]=c,v[14]=p,this},scaling:function(d,c,p){this.zero();var v=this.val;return v[0]=d,v[5]=c,v[10]=p,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var d=this.val,c=d[1],p=d[2],v=d[3],m=d[6],T=d[7],E=d[11];return d[1]=d[4],d[2]=d[8],d[3]=d[12],d[4]=c,d[6]=d[9],d[7]=d[13],d[8]=p,d[9]=m,d[11]=d[14],d[12]=v,d[13]=T,d[14]=E,this},getInverse:function(d){return this.copy(d),this.invert()},invert:function(){var d=this.val,c=d[0],p=d[1],v=d[2],m=d[3],T=d[4],E=d[5],P=d[6],w=d[7],R=d[8],L=d[9],O=d[10],I=d[11],F=d[12],B=d[13],G=d[14],z=d[15],Y=c*E-p*T,J=c*P-v*T,$=c*w-m*T,j=p*P-v*E,X=p*w-m*E,H=v*w-m*P,N=R*B-L*F,Q=R*G-O*F,U=R*z-I*F,q=L*G-O*B,et=L*z-I*B,it=O*z-I*G,rt=Y*it-J*et+$*q+j*U-X*Q+H*N;return rt?(rt=1/rt,this.setValues((E*it-P*et+w*q)*rt,(v*et-p*it-m*q)*rt,(B*H-G*X+z*j)*rt,(O*X-L*H-I*j)*rt,(P*U-T*it-w*Q)*rt,(c*it-v*U+m*Q)*rt,(G*$-F*H-z*J)*rt,(R*H-O*$+I*J)*rt,(T*et-E*U+w*N)*rt,(p*U-c*et-m*N)*rt,(F*X-B*$+z*Y)*rt,(L*$-R*X-I*Y)*rt,(E*Q-T*q-P*N)*rt,(c*q-p*Q+v*N)*rt,(B*J-F*j-G*Y)*rt,(R*j-L*J+O*Y)*rt)):this},adjoint:function(){var d=this.val,c=d[0],p=d[1],v=d[2],m=d[3],T=d[4],E=d[5],P=d[6],w=d[7],R=d[8],L=d[9],O=d[10],I=d[11],F=d[12],B=d[13],G=d[14],z=d[15];return this.setValues(E*(O*z-I*G)-L*(P*z-w*G)+B*(P*I-w*O),-(p*(O*z-I*G)-L*(v*z-m*G)+B*(v*I-m*O)),p*(P*z-w*G)-E*(v*z-m*G)+B*(v*w-m*P),-(p*(P*I-w*O)-E*(v*I-m*O)+L*(v*w-m*P)),-(T*(O*z-I*G)-R*(P*z-w*G)+F*(P*I-w*O)),c*(O*z-I*G)-R*(v*z-m*G)+F*(v*I-m*O),-(c*(P*z-w*G)-T*(v*z-m*G)+F*(v*w-m*P)),c*(P*I-w*O)-T*(v*I-m*O)+R*(v*w-m*P),T*(L*z-I*B)-R*(E*z-w*B)+F*(E*I-w*L),-(c*(L*z-I*B)-R*(p*z-m*B)+F*(p*I-m*L)),c*(E*z-w*B)-T*(p*z-m*B)+F*(p*w-m*E),-(c*(E*I-w*L)-T*(p*I-m*L)+R*(p*w-m*E)),-(T*(L*G-O*B)-R*(E*G-P*B)+F*(E*O-P*L)),c*(L*G-O*B)-R*(p*G-v*B)+F*(p*O-v*L),-(c*(E*G-P*B)-T*(p*G-v*B)+F*(p*P-v*E)),c*(E*O-P*L)-T*(p*O-v*L)+R*(p*P-v*E))},determinant:function(){var d=this.val,c=d[0],p=d[1],v=d[2],m=d[3],T=d[4],E=d[5],P=d[6],w=d[7],R=d[8],L=d[9],O=d[10],I=d[11],F=d[12],B=d[13],G=d[14],z=d[15],Y=c*E-p*T,J=c*P-v*T,$=c*w-m*T,j=p*P-v*E,X=p*w-m*E,H=v*w-m*P,N=R*B-L*F,Q=R*G-O*F,U=R*z-I*F,q=L*G-O*B,et=L*z-I*B,it=O*z-I*G;return Y*it-J*et+$*q+j*U-X*Q+H*N},multiply:function(d){var c=this.val,p=c[0],v=c[1],m=c[2],T=c[3],E=c[4],P=c[5],w=c[6],R=c[7],L=c[8],O=c[9],I=c[10],F=c[11],B=c[12],G=c[13],z=c[14],Y=c[15],J=d.val,$=J[0],j=J[1],X=J[2],H=J[3];return c[0]=$*p+j*E+X*L+H*B,c[1]=$*v+j*P+X*O+H*G,c[2]=$*m+j*w+X*I+H*z,c[3]=$*T+j*R+X*F+H*Y,$=J[4],j=J[5],X=J[6],H=J[7],c[4]=$*p+j*E+X*L+H*B,c[5]=$*v+j*P+X*O+H*G,c[6]=$*m+j*w+X*I+H*z,c[7]=$*T+j*R+X*F+H*Y,$=J[8],j=J[9],X=J[10],H=J[11],c[8]=$*p+j*E+X*L+H*B,c[9]=$*v+j*P+X*O+H*G,c[10]=$*m+j*w+X*I+H*z,c[11]=$*T+j*R+X*F+H*Y,$=J[12],j=J[13],X=J[14],H=J[15],c[12]=$*p+j*E+X*L+H*B,c[13]=$*v+j*P+X*O+H*G,c[14]=$*m+j*w+X*I+H*z,c[15]=$*T+j*R+X*F+H*Y,this},multiplyLocal:function(d){var c=this.val,p=d.val;return this.setValues(c[0]*p[0]+c[1]*p[4]+c[2]*p[8]+c[3]*p[12],c[0]*p[1]+c[1]*p[5]+c[2]*p[9]+c[3]*p[13],c[0]*p[2]+c[1]*p[6]+c[2]*p[10]+c[3]*p[14],c[0]*p[3]+c[1]*p[7]+c[2]*p[11]+c[3]*p[15],c[4]*p[0]+c[5]*p[4]+c[6]*p[8]+c[7]*p[12],c[4]*p[1]+c[5]*p[5]+c[6]*p[9]+c[7]*p[13],c[4]*p[2]+c[5]*p[6]+c[6]*p[10]+c[7]*p[14],c[4]*p[3]+c[5]*p[7]+c[6]*p[11]+c[7]*p[15],c[8]*p[0]+c[9]*p[4]+c[10]*p[8]+c[11]*p[12],c[8]*p[1]+c[9]*p[5]+c[10]*p[9]+c[11]*p[13],c[8]*p[2]+c[9]*p[6]+c[10]*p[10]+c[11]*p[14],c[8]*p[3]+c[9]*p[7]+c[10]*p[11]+c[11]*p[15],c[12]*p[0]+c[13]*p[4]+c[14]*p[8]+c[15]*p[12],c[12]*p[1]+c[13]*p[5]+c[14]*p[9]+c[15]*p[13],c[12]*p[2]+c[13]*p[6]+c[14]*p[10]+c[15]*p[14],c[12]*p[3]+c[13]*p[7]+c[14]*p[11]+c[15]*p[15])},premultiply:function(d){return this.multiplyMatrices(d,this)},multiplyMatrices:function(d,c){var p=d.val,v=c.val,m=p[0],T=p[4],E=p[8],P=p[12],w=p[1],R=p[5],L=p[9],O=p[13],I=p[2],F=p[6],B=p[10],G=p[14],z=p[3],Y=p[7],J=p[11],$=p[15],j=v[0],X=v[4],H=v[8],N=v[12],Q=v[1],U=v[5],q=v[9],et=v[13],it=v[2],rt=v[6],lt=v[10],ft=v[14],gt=v[3],vt=v[7],xt=v[11],yt=v[15];return this.setValues(m*j+T*Q+E*it+P*gt,w*j+R*Q+L*it+O*gt,I*j+F*Q+B*it+G*gt,z*j+Y*Q+J*it+$*gt,m*X+T*U+E*rt+P*vt,w*X+R*U+L*rt+O*vt,I*X+F*U+B*rt+G*vt,z*X+Y*U+J*rt+$*vt,m*H+T*q+E*lt+P*xt,w*H+R*q+L*lt+O*xt,I*H+F*q+B*lt+G*xt,z*H+Y*q+J*lt+$*xt,m*N+T*et+E*ft+P*yt,w*N+R*et+L*ft+O*yt,I*N+F*et+B*ft+G*yt,z*N+Y*et+J*ft+$*yt)},translate:function(d){return this.translateXYZ(d.x,d.y,d.z)},translateXYZ:function(d,c,p){var v=this.val;return v[12]=v[0]*d+v[4]*c+v[8]*p+v[12],v[13]=v[1]*d+v[5]*c+v[9]*p+v[13],v[14]=v[2]*d+v[6]*c+v[10]*p+v[14],v[15]=v[3]*d+v[7]*c+v[11]*p+v[15],this},scale:function(d){return this.scaleXYZ(d.x,d.y,d.z)},scaleXYZ:function(d,c,p){var v=this.val;return v[0]=v[0]*d,v[1]=v[1]*d,v[2]=v[2]*d,v[3]=v[3]*d,v[4]=v[4]*c,v[5]=v[5]*c,v[6]=v[6]*c,v[7]=v[7]*c,v[8]=v[8]*p,v[9]=v[9]*p,v[10]=v[10]*p,v[11]=v[11]*p,this},makeRotationAxis:function(d,c){var p=Math.cos(c),v=Math.sin(c),m=1-p,T=d.x,E=d.y,P=d.z,w=m*T,R=m*E;return this.setValues(w*T+p,w*E-v*P,w*P+v*E,0,w*E+v*P,R*E+p,R*P-v*T,0,w*P-v*E,R*P+v*T,m*P*P+p,0,0,0,0,1)},rotate:function(d,c){var p=this.val,v=c.x,m=c.y,T=c.z,E=Math.sqrt(v*v+m*m+T*T);if(Math.abs(E)<f)return this;E=1/E,v*=E,m*=E,T*=E;var P=Math.sin(d),w=Math.cos(d),R=1-w,L=p[0],O=p[1],I=p[2],F=p[3],B=p[4],G=p[5],z=p[6],Y=p[7],J=p[8],$=p[9],j=p[10],X=p[11],H=p[12],N=p[13],Q=p[14],U=p[15],q=v*v*R+w,et=m*v*R+T*P,it=T*v*R-m*P,rt=v*m*R-T*P,lt=m*m*R+w,ft=T*m*R+v*P,gt=v*T*R+m*P,vt=m*T*R-v*P,xt=T*T*R+w;return this.setValues(L*q+B*et+J*it,O*q+G*et+$*it,I*q+z*et+j*it,F*q+Y*et+X*it,L*rt+B*lt+J*ft,O*rt+G*lt+$*ft,I*rt+z*lt+j*ft,F*rt+Y*lt+X*ft,L*gt+B*vt+J*xt,O*gt+G*vt+$*xt,I*gt+z*vt+j*xt,F*gt+Y*vt+X*xt,H,N,Q,U)},rotateX:function(d){var c=this.val,p=Math.sin(d),v=Math.cos(d),m=c[4],T=c[5],E=c[6],P=c[7],w=c[8],R=c[9],L=c[10],O=c[11];return c[4]=m*v+w*p,c[5]=T*v+R*p,c[6]=E*v+L*p,c[7]=P*v+O*p,c[8]=w*v-m*p,c[9]=R*v-T*p,c[10]=L*v-E*p,c[11]=O*v-P*p,this},rotateY:function(d){var c=this.val,p=Math.sin(d),v=Math.cos(d),m=c[0],T=c[1],E=c[2],P=c[3],w=c[8],R=c[9],L=c[10],O=c[11];return c[0]=m*v-w*p,c[1]=T*v-R*p,c[2]=E*v-L*p,c[3]=P*v-O*p,c[8]=m*p+w*v,c[9]=T*p+R*v,c[10]=E*p+L*v,c[11]=P*p+O*v,this},rotateZ:function(d){var c=this.val,p=Math.sin(d),v=Math.cos(d),m=c[0],T=c[1],E=c[2],P=c[3],w=c[4],R=c[5],L=c[6],O=c[7];return c[0]=m*v+w*p,c[1]=T*v+R*p,c[2]=E*v+L*p,c[3]=P*v+O*p,c[4]=w*v-m*p,c[5]=R*v-T*p,c[6]=L*v-E*p,c[7]=O*v-P*p,this},fromRotationTranslation:function(d,c){var p=d.x,v=d.y,m=d.z,T=d.w,E=p+p,P=v+v,w=m+m,R=p*E,L=p*P,O=p*w,I=v*P,F=v*w,B=m*w,G=T*E,z=T*P,Y=T*w;return this.setValues(1-(I+B),L+Y,O-z,0,L-Y,1-(R+B),F+G,0,O+z,F-G,1-(R+I),0,c.x,c.y,c.z,1)},fromQuat:function(d){var c=d.x,p=d.y,v=d.z,m=d.w,T=c+c,E=p+p,P=v+v,w=c*T,R=c*E,L=c*P,O=p*E,I=p*P,F=v*P,B=m*T,G=m*E,z=m*P;return this.setValues(1-(O+F),R+z,L-G,0,R-z,1-(w+F),I+B,0,L+G,I-B,1-(w+O),0,0,0,0,1)},frustum:function(d,c,p,v,m,T){var E=1/(c-d),P=1/(v-p),w=1/(m-T);return this.setValues(m*2*E,0,0,0,0,m*2*P,0,0,(c+d)*E,(v+p)*P,(T+m)*w,-1,0,0,T*m*2*w,0)},perspective:function(d,c,p,v){var m=1/Math.tan(d/2),T=1/(p-v);return this.setValues(m/c,0,0,0,0,m,0,0,0,0,(v+p)*T,-1,0,0,2*v*p*T,0)},perspectiveLH:function(d,c,p,v){return this.setValues(2*p/d,0,0,0,0,2*p/c,0,0,0,0,-v/(p-v),1,0,0,p*v/(p-v),0)},ortho:function(d,c,p,v,m,T){var E=d-c,P=p-v,w=m-T;return E=E===0?E:1/E,P=P===0?P:1/P,w=w===0?w:1/w,this.setValues(-2*E,0,0,0,0,-2*P,0,0,0,0,2*w,0,(d+c)*E,(v+p)*P,(T+m)*w,1)},lookAtRH:function(d,c,p){var v=this.val;return a.subVectors(d,c),a.lengthSq()===0&&(a.z=1),a.normalize(),h.crossVectors(p,a),h.lengthSq()===0&&(Math.abs(p.z)===1?a.x+=1e-4:a.z+=1e-4,a.normalize(),h.crossVectors(p,a)),h.normalize(),u.crossVectors(a,h),v[0]=h.x,v[1]=h.y,v[2]=h.z,v[4]=u.x,v[5]=u.y,v[6]=u.z,v[8]=a.x,v[9]=a.y,v[10]=a.z,this},lookAt:function(d,c,p){var v=d.x,m=d.y,T=d.z,E=p.x,P=p.y,w=p.z,R=c.x,L=c.y,O=c.z;if(Math.abs(v-R)<f&&Math.abs(m-L)<f&&Math.abs(T-O)<f)return this.identity();var I=v-R,F=m-L,B=T-O,G=1/Math.sqrt(I*I+F*F+B*B);I*=G,F*=G,B*=G;var z=P*B-w*F,Y=w*I-E*B,J=E*F-P*I;G=Math.sqrt(z*z+Y*Y+J*J),G?(G=1/G,z*=G,Y*=G,J*=G):(z=0,Y=0,J=0);var $=F*J-B*Y,j=B*z-I*J,X=I*Y-F*z;return G=Math.sqrt($*$+j*j+X*X),G?(G=1/G,$*=G,j*=G,X*=G):($=0,j=0,X=0),this.setValues(z,$,I,0,Y,j,F,0,J,X,B,0,-(z*v+Y*m+J*T),-($*v+j*m+X*T),-(I*v+F*m+B*T),1)},yawPitchRoll:function(d,c,p){this.zero(),o.zero(),r.zero();var v=this.val,m=o.val,T=r.val,E=Math.sin(p),P=Math.cos(p);return v[10]=1,v[15]=1,v[0]=P,v[1]=E,v[4]=-E,v[5]=P,E=Math.sin(c),P=Math.cos(c),m[0]=1,m[15]=1,m[5]=P,m[10]=P,m[9]=-E,m[6]=E,E=Math.sin(d),P=Math.cos(d),T[5]=1,T[15]=1,T[0]=P,T[2]=-E,T[8]=E,T[10]=P,this.multiplyLocal(o),this.multiplyLocal(r),this},setWorldMatrix:function(d,c,p,v,m){return this.yawPitchRoll(d.y,d.x,d.z),o.scaling(p.x,p.y,p.z),r.xyz(c.x,c.y,c.z),this.multiplyLocal(o),this.multiplyLocal(r),v&&this.multiplyLocal(v),m&&this.multiplyLocal(m),this},multiplyToMat4:function(d,c){var p=this.val,v=d.val,m=p[0],T=p[1],E=p[2],P=p[3],w=p[4],R=p[5],L=p[6],O=p[7],I=p[8],F=p[9],B=p[10],G=p[11],z=p[12],Y=p[13],J=p[14],$=p[15],j=v[0],X=v[1],H=v[2],N=v[3],Q=v[4],U=v[5],q=v[6],et=v[7],it=v[8],rt=v[9],lt=v[10],ft=v[11],gt=v[12],vt=v[13],xt=v[14],yt=v[15];return c.setValues(j*m+X*w+H*I+N*z,X*T+X*R+H*F+N*Y,H*E+X*L+H*B+N*J,N*P+X*O+H*G+N*$,Q*m+U*w+q*I+et*z,Q*T+U*R+q*F+et*Y,Q*E+U*L+q*B+et*J,Q*P+U*O+q*G+et*$,it*m+rt*w+lt*I+ft*z,it*T+rt*R+lt*F+ft*Y,it*E+rt*L+lt*B+ft*J,it*P+rt*O+lt*G+ft*$,gt*m+vt*w+xt*I+yt*z,gt*T+vt*R+xt*F+yt*Y,gt*E+vt*L+xt*B+yt*J,gt*P+vt*O+xt*G+yt*$)},fromRotationXYTranslation:function(d,c,p){var v=c.x,m=c.y,T=c.z,E=Math.sin(d.x),P=Math.cos(d.x),w=Math.sin(d.y),R=Math.cos(d.y),L=v,O=m,I=T,F=-E,B=0-F*w,G=0-P*w,z=F*R,Y=P*R;return p||(L=R*v+w*T,O=B*v+P*m+z*T,I=G*v+E*m+Y*T),this.setValues(R,B,G,0,0,P,E,0,w,z,Y,0,L,O,I,1)},getMaxScaleOnAxis:function(){var d=this.val,c=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],p=d[4]*d[4]+d[5]*d[5]+d[6]*d[6],v=d[8]*d[8]+d[9]*d[9]+d[10]*d[10];return Math.sqrt(Math.max(c,p,v))}}),o=new l,r=new l,h=new y,u=new y,a=new y;C.exports=l},86883:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return Math.min(s+g,y)};C.exports=A},50040:C=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=s.length;if(g===0)return 0;s.sort(function(f,l){return f-l});var y=Math.floor(g/2);return g%2===0?(s[y]+s[y-1])/2:s[y]};C.exports=A},37204:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return Math.max(s-g,y)};C.exports=A},65201:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y===void 0&&(y=g+1);var l=(s-g)/(y-g);return l>1?f!==void 0?(l=(f-s)/(f-y),l<0&&(l=0)):l=1:l<0&&(l=0),l};C.exports=A},15746:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(94434),f=s(29747),l=s(25836),o=1e-6,r=new Int8Array([1,2,0]),h=new Float32Array([0,0,0]),u=new l(1,0,0),a=new l(0,1,0),d=new l,c=new y,p=new g({initialize:function(m,T,E,P){this.onChangeCallback=f,this.set(m,T,E,P)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,m,T,E,P){return P===void 0&&(P=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=m||0,this._z=T||0,this._w=E||0),P&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,m=this.y,T=this.z,E=this.w;return Math.sqrt(v*v+m*m+T*T+E*E)},lengthSq:function(){var v=this.x,m=this.y,T=this.z,E=this.w;return v*v+m*m+T*T+E*E},normalize:function(){var v=this.x,m=this.y,T=this.z,E=this.w,P=v*v+m*m+T*T+E*E;return P>0&&(P=1/Math.sqrt(P),this._x=v*P,this._y=m*P,this._z=T*P,this._w=E*P),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,m){m===void 0&&(m=0);var T=this.x,E=this.y,P=this.z,w=this.w;return this.set(T+m*(v.x-T),E+m*(v.y-E),P+m*(v.z-P),w+m*(v.w-w))},rotationTo:function(v,m){var T=v.x*m.x+v.y*m.y+v.z*m.z;return T<-.999999?(d.copy(u).cross(v).length()<o&&d.copy(a).cross(v),d.normalize(),this.setAxisAngle(d,Math.PI)):T>.999999?this.set(0,0,0,1):(d.copy(v).cross(m),this._x=d.x,this._y=d.y,this._z=d.z,this._w=1+T,this.normalize())},setAxes:function(v,m,T){var E=c.val;return E[0]=m.x,E[3]=m.y,E[6]=m.z,E[1]=T.x,E[4]=T.y,E[7]=T.z,E[2]=-v.x,E[5]=-v.y,E[8]=-v.z,this.fromMat3(c).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,m){m=m*.5;var T=Math.sin(m);return this.set(T*v.x,T*v.y,T*v.z,Math.cos(m))},multiply:function(v){var m=this.x,T=this.y,E=this.z,P=this.w,w=v.x,R=v.y,L=v.z,O=v.w;return this.set(m*O+P*w+T*L-E*R,T*O+P*R+E*w-m*L,E*O+P*L+m*R-T*w,P*O-m*w-T*R-E*L)},slerp:function(v,m){var T=this.x,E=this.y,P=this.z,w=this.w,R=v.x,L=v.y,O=v.z,I=v.w,F=T*R+E*L+P*O+w*I;F<0&&(F=-F,R=-R,L=-L,O=-O,I=-I);var B=1-m,G=m;if(1-F>o){var z=Math.acos(F),Y=Math.sin(z);B=Math.sin((1-m)*z)/Y,G=Math.sin(m*z)/Y}return this.set(B*T+G*R,B*E+G*L,B*P+G*O,B*w+G*I)},invert:function(){var v=this.x,m=this.y,T=this.z,E=this.w,P=v*v+m*m+T*T+E*E,w=P?1/P:0;return this.set(-v*w,-m*w,-T*w,E*w)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var m=this.x,T=this.y,E=this.z,P=this.w,w=Math.sin(v),R=Math.cos(v);return this.set(m*R+P*w,T*R+E*w,E*R-T*w,P*R-m*w)},rotateY:function(v){v*=.5;var m=this.x,T=this.y,E=this.z,P=this.w,w=Math.sin(v),R=Math.cos(v);return this.set(m*R-E*w,T*R+P*w,E*R+m*w,P*R-T*w)},rotateZ:function(v){v*=.5;var m=this.x,T=this.y,E=this.z,P=this.w,w=Math.sin(v),R=Math.cos(v);return this.set(m*R+T*w,T*R-m*w,E*R+P*w,P*R-E*w)},calculateW:function(){var v=this.x,m=this.y,T=this.z;return this.w=-Math.sqrt(1-v*v-m*m-T*T),this},setFromEuler:function(v,m){var T=v.x/2,E=v.y/2,P=v.z/2,w=Math.cos(T),R=Math.cos(E),L=Math.cos(P),O=Math.sin(T),I=Math.sin(E),F=Math.sin(P);switch(v.order){case"XYZ":{this.set(O*R*L+w*I*F,w*I*L-O*R*F,w*R*F+O*I*L,w*R*L-O*I*F,m);break}case"YXZ":{this.set(O*R*L+w*I*F,w*I*L-O*R*F,w*R*F-O*I*L,w*R*L+O*I*F,m);break}case"ZXY":{this.set(O*R*L-w*I*F,w*I*L+O*R*F,w*R*F+O*I*L,w*R*L-O*I*F,m);break}case"ZYX":{this.set(O*R*L-w*I*F,w*I*L+O*R*F,w*R*F-O*I*L,w*R*L+O*I*F,m);break}case"YZX":{this.set(O*R*L+w*I*F,w*I*L+O*R*F,w*R*F-O*I*L,w*R*L-O*I*F,m);break}case"XZY":{this.set(O*R*L-w*I*F,w*I*L-O*R*F,w*R*F+O*I*L,w*R*L+O*I*F,m);break}}return this},setFromRotationMatrix:function(v){var m=v.val,T=m[0],E=m[4],P=m[8],w=m[1],R=m[5],L=m[9],O=m[2],I=m[6],F=m[10],B=T+R+F,G;return B>0?(G=.5/Math.sqrt(B+1),this.set((I-L)*G,(P-O)*G,(w-E)*G,.25/G)):T>R&&T>F?(G=2*Math.sqrt(1+T-R-F),this.set(.25*G,(E+w)/G,(P+O)/G,(I-L)/G)):R>F?(G=2*Math.sqrt(1+R-T-F),this.set((E+w)/G,.25*G,(L+I)/G,(P-O)/G)):(G=2*Math.sqrt(1+F-T-R),this.set((P+O)/G,(L+I)/G,.25*G,(w-E)/G)),this},fromMat3:function(v){var m=v.val,T=m[0]+m[4]+m[8],E;if(T>0)E=Math.sqrt(T+1),this.w=.5*E,E=.5/E,this._x=(m[7]-m[5])*E,this._y=(m[2]-m[6])*E,this._z=(m[3]-m[1])*E;else{var P=0;m[4]>m[0]&&(P=1),m[8]>m[P*3+P]&&(P=2);var w=r[P],R=r[w];E=Math.sqrt(m[P*3+P]-m[w*3+w]-m[R*3+R]+1),h[P]=.5*E,E=.5/E,h[w]=(m[w*3+P]+m[P*3+w])*E,h[R]=(m[R*3+P]+m[P*3+R])*E,this._x=h[0],this._y=h[1],this._z=h[2],this._w=(m[R*3+w]-m[w*3+R])*E}return this.onChangeCallback(this),this}});C.exports=p},43396:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=function(f){return f*g.RAD_TO_DEG};C.exports=y},74362:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=1);var y=Math.random()*2*Math.PI;return s.x=Math.cos(y)*g,s.y=Math.sin(y)*g,s};C.exports=A},60706:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=1);var y=Math.random()*2*Math.PI,f=Math.random()*2-1,l=Math.sqrt(1-f*f)*g;return s.x=Math.cos(y)*l,s.y=Math.sin(y)*l,s.z=f*g,s};C.exports=A},67421:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1),s.x=(Math.random()*2-1)*g,s.y=(Math.random()*2-1)*g,s.z=(Math.random()*2-1)*g,s.w=(Math.random()*2-1)*g,s};C.exports=A},36305:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.x,f=s.y;return s.x=y*Math.cos(g)-f*Math.sin(g),s.y=y*Math.sin(g)+f*Math.cos(g),s};C.exports=A},11520:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=Math.cos(f),o=Math.sin(f),r=s.x-g,h=s.y-y;return s.x=r*l-h*o+g,s.y=r*o+h*l+y,s};C.exports=A},1163:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){var o=f+Math.atan2(s.y-y,s.x-g);return s.x=g+l*Math.cos(o),s.y=y+l*Math.sin(o),s};C.exports=A},70336:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){return s.x=g+l*Math.cos(f),s.y=y+l*Math.sin(f),s};C.exports=A},72678:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25836),y=s(37867),f=s(15746),l=new y,o=new f,r=new g,h=function(u,a,d){return o.setAxisAngle(a,d),l.fromRotationTranslation(o,r.set(0,0,0)),u.transformMat4(l)};C.exports=h},2284:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s>0?Math.ceil(s):Math.floor(s)};C.exports=A},41013:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){g===void 0&&(g=0),y===void 0&&(y=10);var f=Math.pow(y,-g);return Math.round(s*f)/f};C.exports=A},16922:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g===void 0&&(g=1),y===void 0&&(y=1),f===void 0&&(f=1),f*=Math.PI/s;for(var l=[],o=[],r=0;r<s;r++)y-=g*f,g+=y*f,l[r]=y,o[r]=g;return{sin:o,cos:l,length:s}};C.exports=A},7602:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s<=g?0:s>=y?1:(s=(s-g)/(y-g),s*s*(3-2*s))};C.exports=A},54261:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s=Math.max(0,Math.min(1,(s-g)/(y-g))),s*s*s*(s*(s*6-15)+10)};C.exports=A},44408:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r){r===void 0&&(r=new g);var h=0,u=0,a=l*o;return f>0&&f<=a&&(f>l-1?(u=Math.floor(f/l),h=f-u*l):h=f),r.set(h,u)};C.exports=y},85955:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r,h,u,a,d){d===void 0&&(d=new g);var c=Math.sin(h),p=Math.cos(h),v=p*u,m=c*u,T=-c*a,E=p*a,P=1/(v*E+T*-m);return d.x=E*P*f+-T*P*l+(r*T-o*E)*P,d.y=v*P*l+-m*P*f+(-r*v+o*m)*P,d};C.exports=y},26099:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(43855),f=new g({initialize:function(o,r){this.x=0,this.y=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0):(r===void 0&&(r=o),this.x=o||0,this.y=r||0)},clone:function(){return new f(this.x,this.y)},copy:function(l){return this.x=l.x||0,this.y=l.y||0,this},setFromObject:function(l){return this.x=l.x||0,this.y=l.y||0,this},set:function(l,o){return o===void 0&&(o=l),this.x=l,this.y=o,this},setTo:function(l,o){return this.set(l,o)},setToPolar:function(l,o){return o==null&&(o=1),this.x=Math.cos(l)*o,this.y=Math.sin(l)*o,this},equals:function(l){return this.x===l.x&&this.y===l.y},fuzzyEquals:function(l,o){return y(this.x,l.x,o)&&y(this.y,l.y,o)},angle:function(){var l=Math.atan2(this.y,this.x);return l<0&&(l+=2*Math.PI),l},setAngle:function(l){return this.setToPolar(l,this.length())},add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l):(this.x=0,this.y=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(l){var o=l.x-this.x,r=l.y-this.y;return Math.sqrt(o*o+r*r)},distanceSq:function(l){var o=l.x-this.x,r=l.y-this.y;return o*o+r*r},length:function(){var l=this.x,o=this.y;return Math.sqrt(l*l+o*o)},setLength:function(l){return this.normalize().scale(l)},lengthSq:function(){var l=this.x,o=this.y;return l*l+o*o},normalize:function(){var l=this.x,o=this.y,r=l*l+o*o;return r>0&&(r=1/Math.sqrt(r),this.x=l*r,this.y=o*r),this},normalizeRightHand:function(){var l=this.x;return this.x=this.y*-1,this.y=l,this},normalizeLeftHand:function(){var l=this.x;return this.x=this.y,this.y=l*-1,this},dot:function(l){return this.x*l.x+this.y*l.y},cross:function(l){return this.x*l.y-this.y*l.x},lerp:function(l,o){o===void 0&&(o=0);var r=this.x,h=this.y;return this.x=r+o*(l.x-r),this.y=h+o*(l.y-h),this},transformMat3:function(l){var o=this.x,r=this.y,h=l.val;return this.x=h[0]*o+h[3]*r+h[6],this.y=h[1]*o+h[4]*r+h[7],this},transformMat4:function(l){var o=this.x,r=this.y,h=l.val;return this.x=h[0]*o+h[4]*r+h[12],this.y=h[1]*o+h[5]*r+h[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(l){var o=this.length();return o&&o>l&&this.scale(l/o),this},reflect:function(l){return l=l.clone().normalize(),this.subtract(l.scale(2*this.dot(l)))},mirror:function(l){return this.reflect(l).negate()},rotate:function(l){var o=Math.cos(l),r=Math.sin(l);return this.set(o*this.x-r*this.y,r*this.x+o*this.y)},project:function(l){var o=this.dot(l)/l.dot(l);return this.copy(l).scale(o)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),C.exports=f},25836:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r){this.x=0,this.y=0,this.z=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=o||0,this.z=r||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new y(this.x,this.y,this.z)},addVectors:function(f,l){return this.x=f.x+l.x,this.y=f.y+l.y,this.z=f.z+l.z,this},subVectors:function(f,l){return this.x=f.x-l.x,this.y=f.y-l.y,this.z=f.z-l.z,this},crossVectors:function(f,l){var o=f.x,r=f.y,h=f.z,u=l.x,a=l.y,d=l.z;return this.x=r*d-h*a,this.y=h*u-o*d,this.z=o*a-r*u,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,l,o){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=l||0,this.z=o||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,l){return this.fromArray(f.val,l*4)},fromArray:function(f,l){return l===void 0&&(l=0),this.x=f[l],this.y=f[l+1],this.z=f[l+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,l){return this.x+=f.x*l,this.y+=f.y*l,this.z+=f.z*l||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var l=f.x-this.x,o=f.y-this.y,r=f.z-this.z||0;return Math.sqrt(l*l+o*o+r*r)},distanceSq:function(f){var l=f.x-this.x,o=f.y-this.y,r=f.z-this.z||0;return l*l+o*o+r*r},length:function(){var f=this.x,l=this.y,o=this.z;return Math.sqrt(f*f+l*l+o*o)},lengthSq:function(){var f=this.x,l=this.y,o=this.z;return f*f+l*l+o*o},normalize:function(){var f=this.x,l=this.y,o=this.z,r=f*f+l*l+o*o;return r>0&&(r=1/Math.sqrt(r),this.x=f*r,this.y=l*r,this.z=o*r),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var l=this.x,o=this.y,r=this.z,h=f.x,u=f.y,a=f.z;return this.x=o*a-r*u,this.y=r*h-l*a,this.z=l*u-o*h,this},lerp:function(f,l){l===void 0&&(l=0);var o=this.x,r=this.y,h=this.z;return this.x=o+l*(f.x-o),this.y=r+l*(f.y-r),this.z=h+l*(f.z-h),this},applyMatrix3:function(f){var l=this.x,o=this.y,r=this.z,h=f.val;return this.x=h[0]*l+h[3]*o+h[6]*r,this.y=h[1]*l+h[4]*o+h[7]*r,this.z=h[2]*l+h[5]*o+h[8]*r,this},applyMatrix4:function(f){var l=this.x,o=this.y,r=this.z,h=f.val,u=1/(h[3]*l+h[7]*o+h[11]*r+h[15]);return this.x=(h[0]*l+h[4]*o+h[8]*r+h[12])*u,this.y=(h[1]*l+h[5]*o+h[9]*r+h[13])*u,this.z=(h[2]*l+h[6]*o+h[10]*r+h[14])*u,this},transformMat3:function(f){var l=this.x,o=this.y,r=this.z,h=f.val;return this.x=l*h[0]+o*h[3]+r*h[6],this.y=l*h[1]+o*h[4]+r*h[7],this.z=l*h[2]+o*h[5]+r*h[8],this},transformMat4:function(f){var l=this.x,o=this.y,r=this.z,h=f.val;return this.x=h[0]*l+h[4]*o+h[8]*r+h[12],this.y=h[1]*l+h[5]*o+h[9]*r+h[13],this.z=h[2]*l+h[6]*o+h[10]*r+h[14],this},transformCoordinates:function(f){var l=this.x,o=this.y,r=this.z,h=f.val,u=l*h[0]+o*h[4]+r*h[8]+h[12],a=l*h[1]+o*h[5]+r*h[9]+h[13],d=l*h[2]+o*h[6]+r*h[10]+h[14],c=l*h[3]+o*h[7]+r*h[11]+h[15];return this.x=u/c,this.y=a/c,this.z=d/c,this},transformQuat:function(f){var l=this.x,o=this.y,r=this.z,h=f.x,u=f.y,a=f.z,d=f.w,c=d*l+u*r-a*o,p=d*o+a*l-h*r,v=d*r+h*o-u*l,m=-h*l-u*o-a*r;return this.x=c*d+m*-h+p*-a-v*-u,this.y=p*d+m*-u+v*-h-c*-a,this.z=v*d+m*-a+c*-u-p*-h,this},project:function(f){var l=this.x,o=this.y,r=this.z,h=f.val,u=h[0],a=h[1],d=h[2],c=h[3],p=h[4],v=h[5],m=h[6],T=h[7],E=h[8],P=h[9],w=h[10],R=h[11],L=h[12],O=h[13],I=h[14],F=h[15],B=1/(l*c+o*T+r*R+F);return this.x=(l*u+o*p+r*E+L)*B,this.y=(l*a+o*v+r*P+O)*B,this.z=(l*d+o*m+r*w+I)*B,this},projectViewMatrix:function(f,l){return this.applyMatrix4(f).applyMatrix4(l)},unprojectViewMatrix:function(f,l){return this.applyMatrix4(f).applyMatrix4(l)},unproject:function(f,l){var o=f.x,r=f.y,h=f.z,u=f.w,a=this.x-o,d=u-this.y-1-r,c=this.z;return this.x=2*a/h-1,this.y=2*d/u-1,this.z=2*c-1,this.project(l)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});y.ZERO=new y,y.RIGHT=new y(1,0,0),y.LEFT=new y(-1,0,0),y.UP=new y(0,-1,0),y.DOWN=new y(0,1,0),y.FORWARD=new y(0,0,1),y.BACK=new y(0,0,-1),y.ONE=new y(1,1,1),C.exports=y},61369:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r,h){this.x=0,this.y=0,this.z=0,this.w=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=o||0,this.z=r||0,this.w=h||0)},clone:function(){return new y(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,l,o,r){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=l||0,this.z=o||0,this.w=r||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,l=this.y,o=this.z,r=this.w;return Math.sqrt(f*f+l*l+o*o+r*r)},lengthSq:function(){var f=this.x,l=this.y,o=this.z,r=this.w;return f*f+l*l+o*o+r*r},normalize:function(){var f=this.x,l=this.y,o=this.z,r=this.w,h=f*f+l*l+o*o+r*r;return h>0&&(h=1/Math.sqrt(h),this.x=f*h,this.y=l*h,this.z=o*h,this.w=r*h),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,l){l===void 0&&(l=0);var o=this.x,r=this.y,h=this.z,u=this.w;return this.x=o+l*(f.x-o),this.y=r+l*(f.y-r),this.z=h+l*(f.z-h),this.w=u+l*(f.w-u),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var l=f.x-this.x,o=f.y-this.y,r=f.z-this.z||0,h=f.w-this.w||0;return Math.sqrt(l*l+o*o+r*r+h*h)},distanceSq:function(f){var l=f.x-this.x,o=f.y-this.y,r=f.z-this.z||0,h=f.w-this.w||0;return l*l+o*o+r*r+h*h},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var l=this.x,o=this.y,r=this.z,h=this.w,u=f.val;return this.x=u[0]*l+u[4]*o+u[8]*r+u[12]*h,this.y=u[1]*l+u[5]*o+u[9]*r+u[13]*h,this.z=u[2]*l+u[6]*o+u[10]*r+u[14]*h,this.w=u[3]*l+u[7]*o+u[11]*r+u[15]*h,this},transformQuat:function(f){var l=this.x,o=this.y,r=this.z,h=f.x,u=f.y,a=f.z,d=f.w,c=d*l+u*r-a*o,p=d*o+a*l-h*r,v=d*r+h*o-u*l,m=-h*l-u*o-a*r;return this.x=c*d+m*-h+p*-a-v*-u,this.y=p*d+m*-u+v*-h-c*-a,this.z=v*d+m*-a+c*-u-p*-h,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});y.prototype.sub=y.prototype.subtract,y.prototype.mul=y.prototype.multiply,y.prototype.div=y.prototype.divide,y.prototype.dist=y.prototype.distance,y.prototype.distSq=y.prototype.distanceSq,y.prototype.len=y.prototype.length,y.prototype.lenSq=y.prototype.lengthSq,C.exports=y},60417:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return Math.abs(s-g)<=y};C.exports=A},15994:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=y-g;return g+((s-g)%f+f)%f};C.exports=A},31040:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return Math.atan2(f-g,y-s)};C.exports=A},55495:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return Math.atan2(g.y-s.y,g.x-s.x)};C.exports=A},128:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return Math.atan2(g.x-s.x,g.y-s.y)};C.exports=A},41273:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return Math.atan2(y-s,f-g)};C.exports=A},1432:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=function(f){return f>Math.PI&&(f-=g.PI2),Math.abs(((f+g.TAU)%g.PI2-g.PI2)%g.PI2)};C.exports=y},49127:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(12407),y=function(f,l){return g(l-f)};C.exports=y},52285:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(12407),y=2*Math.PI,f=function(l,o){var r=g(o-l);return r>0&&(r-=y),r};C.exports=f},67317:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(86554),y=function(f,l){return g(l-f)};C.exports=y},12407:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s=s%(2*Math.PI),s>=0?s:s+2*Math.PI};C.exports=A},53993:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(99472),y=function(){return g(-Math.PI,Math.PI)};C.exports=y},86564:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(99472),y=function(){return g(-180,180)};C.exports=y},90154:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(12407),y=function(f){return g(f+Math.PI)};C.exports=y},48736:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=function(f,l,o){return o===void 0&&(o=.05),f===l||(Math.abs(l-f)<=o||Math.abs(l-f)>=g.PI2-o?f=l:(Math.abs(l-f)>Math.PI&&(l<f?l+=g.PI2:l-=g.PI2),l>f?f+=o:l<f&&(f-=o))),f};C.exports=y},61430:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=g-s;if(y===0)return 0;var f=Math.floor((y- -180)/360);return y-f*360};C.exports=A},86554:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(15994),y=function(f){return g(f,-Math.PI,Math.PI)};C.exports=y},30954:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(15994),y=function(f){return g(f,-180,180)};C.exports=y},25588:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Between:s(31040),BetweenPoints:s(55495),BetweenPointsY:s(128),BetweenY:s(41273),CounterClockwise:s(1432),GetClockwiseDistance:s(49127),GetCounterClockwiseDistance:s(52285),GetShortestDistance:s(67317),Normalize:s(12407),Random:s(53993),RandomDegrees:s(86564),Reverse:s(90154),RotateTo:s(48736),ShortestBetween:s(61430),Wrap:s(86554),WrapDegrees:s(30954)}},36383:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};C.exports=A},20339:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=s-y,o=g-f;return Math.sqrt(l*l+o*o)};C.exports=A},52816:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.x-g.x,f=s.y-g.y;return Math.sqrt(y*y+f*f)};C.exports=A},64559:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.x-g.x,f=s.y-g.y;return y*y+f*f};C.exports=A},82340:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return Math.max(Math.abs(s-y),Math.abs(g-f))};C.exports=A},14390:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){return l===void 0&&(l=2),Math.sqrt(Math.pow(y-s,l)+Math.pow(f-g,l))};C.exports=A},2243:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return Math.abs(s-y)+Math.abs(g-f)};C.exports=A},89774:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=s-y,o=g-f;return l*l+o*o};C.exports=A},50994:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Between:s(20339),BetweenPoints:s(52816),BetweenPointsSquared:s(64559),Chebyshev:s(82340),Power:s(14390),Snake:s(2243),Squared:s(89774)}},62640:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54178),y=s(41521),f=s(79980),l=s(85433),o=s(99140),r=s(48857),h=s(81596),u=s(59133),a=s(98516),d=s(35248),c=s(82500),p=s(49752);C.exports={Power0:h,Power1:u.Out,Power2:l.Out,Power3:a.Out,Power4:d.Out,Linear:h,Quad:u.Out,Cubic:l.Out,Quart:a.Out,Quint:d.Out,Sine:c.Out,Expo:r.Out,Circ:f.Out,Elastic:o.Out,Back:g.Out,Bounce:y.Out,Stepped:p,"Quad.easeIn":u.In,"Cubic.easeIn":l.In,"Quart.easeIn":a.In,"Quint.easeIn":d.In,"Sine.easeIn":c.In,"Expo.easeIn":r.In,"Circ.easeIn":f.In,"Elastic.easeIn":o.In,"Back.easeIn":g.In,"Bounce.easeIn":y.In,"Quad.easeOut":u.Out,"Cubic.easeOut":l.Out,"Quart.easeOut":a.Out,"Quint.easeOut":d.Out,"Sine.easeOut":c.Out,"Expo.easeOut":r.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":o.Out,"Back.easeOut":g.Out,"Bounce.easeOut":y.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":l.InOut,"Quart.easeInOut":a.InOut,"Quint.easeInOut":d.InOut,"Sine.easeInOut":c.InOut,"Expo.easeInOut":r.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":g.InOut,"Bounce.easeInOut":y.InOut}},1639:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1.70158),s*s*((g+1)*s-g)};C.exports=A},50099:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=1.70158);var y=g*1.525;return(s*=2)<1?.5*(s*s*((y+1)*s-y)):.5*((s-=2)*s*((y+1)*s+y)+2)};C.exports=A},41286:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1.70158),--s*s*((g+1)*s+g)+1};C.exports=A},54178:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(1639),Out:s(41286),InOut:s(50099)}},59590:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s=1-s,s<.36363636363636365?1-7.5625*s*s:s<.7272727272727273?1-(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?1-(7.5625*(s-=.8181818181818182)*s+.9375):1-(7.5625*(s-=.9545454545454546)*s+.984375)};C.exports=A},41788:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=!1;return s<.5?(s=1-s*2,g=!0):s=s*2-1,s<.36363636363636365?s=7.5625*s*s:s<.7272727272727273?s=7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?s=7.5625*(s-=.8181818181818182)*s+.9375:s=7.5625*(s-=.9545454545454546)*s+.984375,g?(1-s)*.5:s*.5+.5};C.exports=A},69905:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375};C.exports=A},41521:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(59590),Out:s(69905),InOut:s(41788)}},91861:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return 1-Math.sqrt(1-s*s)};C.exports=A},4177:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)};C.exports=A},57512:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.sqrt(1- --s*s)};C.exports=A},79980:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(91861),Out:s(57512),InOut:s(4177)}},51150:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s*s*s};C.exports=A},82820:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)};C.exports=A},35033:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return--s*s*s+1};C.exports=A},85433:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(51150),Out:s(35033),InOut:s(82820)}},69965:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===void 0&&(g=.1),y===void 0&&(y=.1),s===0)return 0;if(s===1)return 1;var f=y/4;return g<1?g=1:f=y*Math.asin(1/g)/(2*Math.PI),-(g*Math.pow(2,10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/y))};C.exports=A},50665:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===void 0&&(g=.1),y===void 0&&(y=.1),s===0)return 0;if(s===1)return 1;var f=y/4;return g<1?g=1:f=y*Math.asin(1/g)/(2*Math.PI),(s*=2)<1?-.5*(g*Math.pow(2,10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/y)):g*Math.pow(2,-10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/y)*.5+1};C.exports=A},7744:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===void 0&&(g=.1),y===void 0&&(y=.1),s===0)return 0;if(s===1)return 1;var f=y/4;return g<1?g=1:f=y*Math.asin(1/g)/(2*Math.PI),g*Math.pow(2,-10*s)*Math.sin((s-f)*(2*Math.PI)/y)+1};C.exports=A},99140:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(69965),Out:s(7744),InOut:s(50665)}},24590:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.pow(2,10*(s-1))-.001};C.exports=A},87844:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(2-Math.pow(2,-10*(s-1)))};C.exports=A},89433:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return 1-Math.pow(2,-10*s)};C.exports=A},48857:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(24590),Out:s(89433),InOut:s(87844)}},48820:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Back:s(54178),Bounce:s(41521),Circular:s(79980),Cubic:s(85433),Elastic:s(99140),Expo:s(48857),Linear:s(81596),Quadratic:s(59133),Quartic:s(98516),Quintic:s(35248),Sine:s(82500),Stepped:s(49752)}},7147:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s};C.exports=A},81596:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=s(7147)},34826:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s*s};C.exports=A},20544:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)};C.exports=A},92029:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s*(2-s)};C.exports=A},59133:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(34826),Out:s(92029),InOut:s(20544)}},64413:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s*s*s*s};C.exports=A},78137:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)};C.exports=A},45840:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return 1- --s*s*s*s};C.exports=A},98516:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(64413),Out:s(45840),InOut:s(78137)}},87745:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s*s*s*s*s};C.exports=A},16509:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)};C.exports=A},17868:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return--s*s*s*s*s+1};C.exports=A},35248:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(87745),Out:s(17868),InOut:s(16509)}},80461:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s===0?0:s===1?1:1-Math.cos(s*Math.PI/2)};C.exports=A},34025:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s===0?0:s===1?1:.5*(1-Math.cos(Math.PI*s))};C.exports=A},52768:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s===0?0:s===1?1:Math.sin(s*Math.PI/2)};C.exports=A},82500:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(80461),Out:s(52768),InOut:s(34025)}},72251:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1),s<=0?0:s>=1?1:((g*s|0)+1)*(1/g)};C.exports=A},49752:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=s(72251)},75698:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1e-4),Math.ceil(s-g)};C.exports=A},43855:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y===void 0&&(y=1e-4),Math.abs(s-g)<y};C.exports=A},25777:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1e-4),Math.floor(s+g)};C.exports=A},5470:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y===void 0&&(y=1e-4),s>g-y};C.exports=A},94977:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y===void 0&&(y=1e-4),s<g+y};C.exports=A},48379:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Ceil:s(75698),Equal:s(43855),Floor:s(25777),GreaterThan:s(5470),LessThan:s(94977)}},75508:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(79291),f={Angle:s(25588),Distance:s(50994),Easing:s(48820),Fuzzy:s(48379),Interpolation:s(38289),Pow2:s(49001),Snap:s(73697),RandomDataGenerator:s(28453),Average:s(53307),Bernstein:s(85710),Between:s(30976),CatmullRom:s(87842),CeilTo:s(26302),Clamp:s(45319),DegToRad:s(39506),Difference:s(61241),Euler:s(38857),Factorial:s(6411),FloatBetween:s(99472),FloorTo:s(77623),FromPercent:s(62945),GetSpeed:s(38265),IsEven:s(78702),IsEvenStrict:s(94883),Linear:s(28915),LinearXY:s(94908),MaxAdd:s(86883),Median:s(50040),MinSub:s(37204),Percent:s(65201),RadToDeg:s(43396),RandomXY:s(74362),RandomXYZ:s(60706),RandomXYZW:s(67421),Rotate:s(36305),RotateAround:s(11520),RotateAroundDistance:s(1163),RotateTo:s(70336),RoundAwayFromZero:s(2284),RoundTo:s(41013),SinCosTableGenerator:s(16922),SmootherStep:s(54261),SmoothStep:s(7602),ToXY:s(44408),TransformXY:s(85955),Within:s(60417),Wrap:s(15994),Vector2:s(26099),Vector3:s(25836),Vector4:s(61369),Matrix3:s(94434),Matrix4:s(37867),Quaternion:s(15746),RotateVec3:s(72678)};f=y(!1,f,g),C.exports=f},89318:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85710),y=function(f,l){for(var o=0,r=f.length-1,h=0;h<=r;h++)o+=Math.pow(1-l,r-h)*Math.pow(l,h)*f[h]*g(r,h);return o};C.exports=y},77259:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87842),y=function(f,l){var o=f.length-1,r=o*l,h=Math.floor(r);return f[0]===f[o]?(l<0&&(h=Math.floor(r=o*(1+l))),g(r-h,f[(h-1+o)%o],f[h],f[(h+1)%o],f[(h+2)%o])):l<0?f[0]-(g(-r,f[0],f[0],f[1],f[1])-f[0]):l>1?f[o]-(g(r-o,f[o],f[o],f[o-1],f[o-1])-f[o]):g(r-h,f[h?h-1:0],f[h],f[o<h+1?o:h+1],f[o<h+2?o:h+2])};C.exports=y},36316:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(l,o){var r=1-l;return r*r*r*o}function s(l,o){var r=1-l;return 3*r*r*l*o}function g(l,o){return 3*(1-l)*l*l*o}function y(l,o){return l*l*l*o}var f=function(l,o,r,h,u){return A(l,o)+s(l,r)+g(l,h)+y(l,u)};C.exports=f},28392:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(28915),y=function(f,l){var o=f.length-1,r=o*l,h=Math.floor(r);return l<0?g(f[0],f[1],r):l>1?g(f[o],f[o-1],o-r):g(f[h],f[h+1>o?o:h+1],r-h)};C.exports=y},32112:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(f,l){var o=1-f;return o*o*l}function s(f,l){return 2*(1-f)*f*l}function g(f,l){return f*f*l}var y=function(f,l,o,r){return A(f,l)+s(f,o)+g(f,r)};C.exports=y},47235:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7602),y=function(f,l,o){return l+(o-l)*g(f,0,1)};C.exports=y},50178:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54261),y=function(f,l,o){return l+(o-l)*g(f,0,1)};C.exports=y},38289:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Bezier:s(89318),CatmullRom:s(77259),CubicBezier:s(36316),Linear:s(28392),QuadraticBezier:s(32112),SmoothStep:s(47235),SmootherStep:s(50178)}},98439:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=Math.log(s)/.6931471805599453;return 1<<Math.ceil(g)};C.exports=A},50030:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s>0&&(s&s-1)===0&&g>0&&(g&g-1)===0};C.exports=A},81230:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s>0&&(s&s-1)===0};C.exports=A},49001:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={GetNext:s(98439),IsSize:s(50030),IsValue:s(81230)}},28453:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l){l===void 0&&(l=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],l&&this.init(l)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var l,o=this.n;f=f.toString();for(var r=0;r<f.length;r++)o+=f.charCodeAt(r),l=.02519603282416938*o,o=l>>>0,l-=o,l*=o,o=l>>>0,l-=o,o+=l*4294967296;return this.n=o,(o>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var l=0;l<f.length&&f[l]!=null;l++){var o=f[l];this.s0-=this.hash(o),this.s0+=~~(this.s0<0),this.s1-=this.hash(o),this.s1+=~~(this.s1<0),this.s2-=this.hash(o),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,l){return Math.floor(this.realInRange(0,l-f+1)+f)},between:function(f,l){return Math.floor(this.realInRange(0,l-f+1)+f)},realInRange:function(f,l){return this.frac()*(l-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",l="";for(l=f="";f++<36;l+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return l},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-.5)+.5)]},timestamp:function(f,l){return this.realInRange(f||9466848e5,l||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var l=f.length-1,o=l;o>0;o--){var r=Math.floor(this.frac()*(o+1)),h=f[r];f[r]=f[o],f[o]=h}return f}});C.exports=y},63448:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return y===void 0&&(y=0),g===0?s:(s-=y,s=g*Math.ceil(s/g),f?(y+s)/g:y+s)};C.exports=A},56583:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return y===void 0&&(y=0),g===0?s:(s-=y,s=g*Math.floor(s/g),f?(y+s)/g:y+s)};C.exports=A},77720:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return y===void 0&&(y=0),g===0?s:(s-=y,s=g*Math.round(s/g),f?(y+s)/g:y+s)};C.exports=A},73697:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Ceil:s(63448),Floor:s(56583),To:s(77720)}},85454:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s(63595);var g=s(8054),y=s(79291),f={Actions:s(61061),Animations:s(60421),BlendModes:s(10312),Cache:s(83388),Cameras:s(26638),Core:s(42857),Class:s(83419),Create:s(15822),Curves:s(25410),Data:s(44965),Display:s(27460),DOM:s(84902),Events:s(93055),FX:s(66064),Game:s(50127),GameObjects:s(77856),Geom:s(55738),Input:s(14350),Loader:s(57777),Math:s(75508),Physics:s(44563),Plugins:s(18922),Renderer:s(36909),Scale:s(93364),ScaleModes:s(29795),Scene:s(97482),Scenes:s(62194),Structs:s(41392),Textures:s(27458),Tilemaps:s(62501),Time:s(90291),Tweens:s(43066),Utils:s(91799)};f.Sound=s(23717),f=y(!1,f,g),C.exports=f,s.g.Phaser=f},71289:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(92209),f=s(88571),l=new g({Extends:f,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:function(r,h,u,a,d){f.call(this,r,h,u,a,d),this.body=null}});C.exports=l},86689:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(39506),f=s(20339),l=s(89774),o=s(66022),r=s(95540),h=s(46975),u=s(72441),a=s(47956),d=s(37277),c=s(44594),p=s(26099),v=s(82248),m=new g({initialize:function(E){this.scene=E,this.systems=E.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,E.sys.events.once(c.BOOT,this.boot,this),E.sys.events.on(c.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new o(this.world));var T=this.systems.events;r(this.config,"customUpdate",!1)||T.on(c.UPDATE,this.world.update,this.world),T.on(c.POST_UPDATE,this.world.postUpdate,this.world),T.once(c.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(c.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(c.UPDATE,this.world.update,this.world)},getConfig:function(){var T=this.systems.game.config.physics,E=this.systems.settings.physics,P=h(r(E,"arcade",{}),r(T,"arcade",{}));return P},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(T,E,P,w,R){return P===void 0&&(P=null),w===void 0&&(w=null),R===void 0&&(R=P),this.world.collideObjects(T,E,P,w,R,!0)},collide:function(T,E,P,w,R){return P===void 0&&(P=null),w===void 0&&(w=null),R===void 0&&(R=P),this.world.collideObjects(T,E,P,w,R,!1)},collideTiles:function(T,E,P,w,R){return this.world.collideTiles(T,E,P,w,R)},overlapTiles:function(T,E,P,w,R){return this.world.overlapTiles(T,E,P,w,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(T,E,P,w,R,L){w===void 0&&(w=60);var O=Math.atan2(P-T.y,E-T.x);return T.body.acceleration.setToPolar(O,w),R!==void 0&&L!==void 0&&T.body.maxVelocity.set(R,L),O},accelerateToObject:function(T,E,P,w,R){return this.accelerateTo(T,E.x,E.y,P,w,R)},closest:function(T,E){E||(E=this.world.bodies.entries);for(var P=Number.MAX_VALUE,w=null,R=T.x,L=T.y,O=E.length,I=0;I<O;I++){var F=E[I],B=F.body||F;if(!(T===F||T===B||T===B.gameObject||T===B.center)){var G=l(R,L,B.center.x,B.center.y);G<P&&(w=F,P=G)}}return w},furthest:function(T,E){E||(E=this.world.bodies.entries);for(var P=-1,w=null,R=T.x,L=T.y,O=E.length,I=0;I<O;I++){var F=E[I],B=F.body||F;if(!(T===F||T===B||T===B.gameObject||T===B.center)){var G=l(R,L,B.center.x,B.center.y);G>P&&(w=F,P=G)}}return w},moveTo:function(T,E,P,w,R){w===void 0&&(w=60),R===void 0&&(R=0);var L=Math.atan2(P-T.y,E-T.x);return R>0&&(w=f(T.x,T.y,E,P)/(R/1e3)),T.body.velocity.setToPolar(L,w),L},moveToObject:function(T,E,P,w){return this.moveTo(T,E.x,E.y,P,w)},velocityFromAngle:function(T,E,P){return E===void 0&&(E=60),P===void 0&&(P=new p),P.setToPolar(y(T),E)},velocityFromRotation:function(T,E,P){return E===void 0&&(E=60),P===void 0&&(P=new p),P.setToPolar(T,E)},overlapRect:function(T,E,P,w,R,L){return a(this.world,T,E,P,w,R,L)},overlapCirc:function(T,E,P,w,R){return u(this.world,T,E,P,w,R)},shutdown:function(){if(this.world){var T=this.systems.events;T.off(c.UPDATE,this.world.update,this.world),T.off(c.POST_UPDATE,this.world.postUpdate,this.world),T.off(c.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",m,"arcadePhysics"),C.exports=m},13759:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(92209),f=s(68287),l=new g({Extends:f,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:function(r,h,u,a,d){f.call(this,r,h,u,a,d),this.body=null}});C.exports=l},37742:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(78389),f=s(37747),l=s(63012),o=s(43396),r=s(87841),h=s(37303),u=s(95829),a=s(26099),d=new g({Mixins:[y],initialize:function(p,v){var m=64,T=64,E={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=v!==void 0;P&&v.displayWidth&&(m=v.displayWidth,T=v.displayHeight),P||(v=E),this.world=p,this.gameObject=P?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=p.defaults.debugShowBody,this.debugShowVelocity=p.defaults.debugShowVelocity,this.debugBodyColor=p.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=m,this.height=T,this.sourceWidth=m,this.sourceHeight=T,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(T/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new a,this.newVelocity=new a,this.deltaMax=new a,this.acceleration=new a,this.allowDrag=!0,this.drag=new a,this.allowGravity=!0,this.gravity=new a,this.bounce=new a,this.worldBounce=null,this.customBoundsRectangle=p.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new a(1e4,1e4),this.maxSpeed=-1,this.friction=new a(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new a(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=u(!1),this.touching=u(!0),this.wasTouching=u(!0),this.blocked=u(!0),this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new r,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var c=this.gameObject,p=this.transform;if(c.parentContainer){var v=c.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);p.x=v.tx,p.y=v.ty,p.rotation=o(v.rotation),p.scaleX=v.scaleX,p.scaleY=v.scaleY,p.displayOriginX=c.displayOriginX,p.displayOriginY=c.displayOriginY}else p.x=c.x,p.y=c.y,p.rotation=c.angle,p.scaleX=c.scaleX,p.scaleY=c.scaleY,p.displayOriginX=c.displayOriginX,p.displayOriginY=c.displayOriginY;var m=!1;if(this.syncBounds){var T=c.getBounds(this._bounds);this.width=T.width,this.height=T.height,m=!0}else{var E=Math.abs(p.scaleX),P=Math.abs(p.scaleY);(this._sx!==E||this._sy!==P)&&(this.width=this.sourceWidth*E,this.height=this.sourceHeight*P,this._sx=E,this._sy=P,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var c=this.transform;this.position.x=c.x+c.scaleX*(this.offset.x-c.displayOriginX),this.position.y=c.y+c.scaleY*(this.offset.y-c.displayOriginY),this.updateCenter()},resetFlags:function(c){c===void 0&&(c=!1);var p=this.wasTouching,v=this.touching,m=this.blocked;c?u(!0,p):(p.none=v.none,p.up=v.up,p.down=v.down,p.left=v.left,p.right=v.right),u(!0,v),u(!0,m),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(c,p){if(c&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}c&&this.update(p)},update:function(c){var p=this.prev,v=this.position,m=this.velocity;if(p.set(v.x,v.y),!this.moves){this._dx=v.x-p.x,this._dy=v.y-p.y;return}if(this.directControl){var T=this.autoFrame;m.set((v.x-T.x)/c,(v.y-T.y)/c),this.world.updateMotion(this,c),this._dx=v.x-T.x,this._dy=v.y-T.y}else this.world.updateMotion(this,c),this.newVelocity.set(m.x*c,m.y*c),v.add(this.newVelocity),this._dx=v.x-p.x,this._dy=v.y-p.y;var E=m.x,P=m.y;if(this.updateCenter(),this.angle=Math.atan2(P,E),this.speed=Math.sqrt(E*E+P*P),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var w=this.blocked;this.world.emit(l.WORLD_BOUNDS,this,w.up,w.down,w.left,w.right)}},postUpdate:function(){var c=this.position,p=c.x-this.prevFrame.x,v=c.y-this.prevFrame.y,m=this.gameObject;if(this.moves){var T=this.deltaMax.x,E=this.deltaMax.y;T!==0&&p!==0&&(p<0&&p<-T?p=-T:p>0&&p>T&&(p=T)),E!==0&&v!==0&&(v<0&&v<-E?v=-E:v>0&&v>E&&(v=E)),m&&(m.x+=p,m.y+=v)}p<0?this.facing=f.FACING_LEFT:p>0&&(this.facing=f.FACING_RIGHT),v<0?this.facing=f.FACING_UP:v>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&m&&(m.angle+=this.deltaZ()),this._tx=p,this._ty=v,this.autoFrame.set(c.x,c.y)},setBoundsRectangle:function(c){return this.customBoundsRectangle=c||this.world.bounds,this},checkWorldBounds:function(){var c=this.position,p=this.velocity,v=this.blocked,m=this.customBoundsRectangle,T=this.world.checkCollision,E=this.worldBounce?-this.worldBounce.x:-this.bounce.x,P=this.worldBounce?-this.worldBounce.y:-this.bounce.y,w=!1;return c.x<m.x&&T.left?(c.x=m.x,p.x*=E,v.left=!0,w=!0):this.right>m.right&&T.right&&(c.x=m.right-this.width,p.x*=E,v.right=!0,w=!0),c.y<m.y&&T.up?(c.y=m.y,p.y*=P,v.up=!0,w=!0):this.bottom>m.bottom&&T.down&&(c.y=m.bottom-this.height,p.y*=P,v.down=!0,w=!0),w&&(this.blocked.none=!1,this.updateCenter()),w},setOffset:function(c,p){return p===void 0&&(p=c),this.offset.set(c,p),this},setGameObject:function(c,p){if(p===void 0&&(p=!0),!c||!c.hasTransformComponent)return this;var v=this.world;return this.gameObject&&this.gameObject.body&&(v.disable(this.gameObject),this.gameObject.body=null),c.body&&v.disable(c),this.gameObject=c,c.body=this,this.setSize(),this.enable=p,this},setSize:function(c,p,v){v===void 0&&(v=!0);var m=this.gameObject;if(m&&(!c&&m.frame&&(c=m.frame.realWidth),!p&&m.frame&&(p=m.frame.realHeight)),this.sourceWidth=c,this.sourceHeight=p,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&m&&m.getCenter){var T=(m.width-c)/2,E=(m.height-p)/2;this.offset.set(T,E)}return this.isCircle=!1,this.radius=0,this},setCircle:function(c,p,v){return p===void 0&&(p=this.offset.x),v===void 0&&(v=this.offset.y),c>0?(this.isCircle=!0,this.radius=c,this.sourceWidth=c*2,this.sourceHeight=c*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(p,v),this.updateCenter()):this.isCircle=!1,this},reset:function(c,p){this.stop();var v=this.gameObject;v&&(v.setPosition(c,p),this.rotation=v.angle,this.preRotation=v.angle);var m=this.position;v&&v.getTopLeft?v.getTopLeft(m):m.set(c,p),this.prev.copy(m),this.prevFrame.copy(m),this.autoFrame.copy(m),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(c){return c.x=this.x,c.y=this.y,c.right=this.right,c.bottom=this.bottom,c},hitTest:function(c,p){if(!this.isCircle)return h(this,c,p);if(this.radius>0&&c>=this.left&&c<=this.right&&p>=this.top&&p<=this.bottom){var v=(this.center.x-c)*(this.center.x-c),m=(this.center.y-p)*(this.center.y-p);return v+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(c){var p=this.position,v=p.x+this.halfWidth,m=p.y+this.halfHeight;this.debugShowBody&&(c.lineStyle(c.defaultStrokeWidth,this.debugBodyColor),this.isCircle?c.strokeCircle(v,m,this.width/2):(this.checkCollision.up&&c.lineBetween(p.x,p.y,p.x+this.width,p.y),this.checkCollision.right&&c.lineBetween(p.x+this.width,p.y,p.x+this.width,p.y+this.height),this.checkCollision.down&&c.lineBetween(p.x,p.y+this.height,p.x+this.width,p.y+this.height),this.checkCollision.left&&c.lineBetween(p.x,p.y,p.x,p.y+this.height))),this.debugShowVelocity&&(c.lineStyle(c.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),c.lineBetween(v,m,v+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(c){return c===void 0&&(c=!0),this.directControl=c,this},setCollideWorldBounds:function(c,p,v,m){c===void 0&&(c=!0),this.collideWorldBounds=c;var T=p!==void 0,E=v!==void 0;return(T||E)&&(this.worldBounce||(this.worldBounce=new a),T&&(this.worldBounce.x=p),E&&(this.worldBounce.y=v)),m!==void 0&&(this.onWorldBounds=m),this},setVelocity:function(c,p){return this.velocity.set(c,p),c=this.velocity.x,p=this.velocity.y,this.speed=Math.sqrt(c*c+p*p),this},setVelocityX:function(c){return this.setVelocity(c,this.velocity.y)},setVelocityY:function(c){return this.setVelocity(this.velocity.x,c)},setMaxVelocity:function(c,p){return this.maxVelocity.set(c,p),this},setMaxVelocityX:function(c){return this.maxVelocity.x=c,this},setMaxVelocityY:function(c){return this.maxVelocity.y=c,this},setMaxSpeed:function(c){return this.maxSpeed=c,this},setSlideFactor:function(c,p){return this.slideFactor.set(c,p),this},setBounce:function(c,p){return this.bounce.set(c,p),this},setBounceX:function(c){return this.bounce.x=c,this},setBounceY:function(c){return this.bounce.y=c,this},setAcceleration:function(c,p){return this.acceleration.set(c,p),this},setAccelerationX:function(c){return this.acceleration.x=c,this},setAccelerationY:function(c){return this.acceleration.y=c,this},setAllowDrag:function(c){return c===void 0&&(c=!0),this.allowDrag=c,this},setAllowGravity:function(c){return c===void 0&&(c=!0),this.allowGravity=c,this},setAllowRotation:function(c){return c===void 0&&(c=!0),this.allowRotation=c,this},setDrag:function(c,p){return this.drag.set(c,p),this},setDamping:function(c){return this.useDamping=c,this},setDragX:function(c){return this.drag.x=c,this},setDragY:function(c){return this.drag.y=c,this},setGravity:function(c,p){return this.gravity.set(c,p),this},setGravityX:function(c){return this.gravity.x=c,this},setGravityY:function(c){return this.gravity.y=c,this},setFriction:function(c,p){return this.friction.set(c,p),this},setFrictionX:function(c){return this.friction.x=c,this},setFrictionY:function(c){return this.friction.y=c,this},setAngularVelocity:function(c){return this.angularVelocity=c,this},setAngularAcceleration:function(c){return this.angularAcceleration=c,this},setAngularDrag:function(c){return this.angularDrag=c,this},setMass:function(c){return this.mass=c,this},setImmovable:function(c){return c===void 0&&(c=!0),this.immovable=c,this},setEnable:function(c){return c===void 0&&(c=!0),this.enable=c,this},processX:function(c,p,v,m){this.x+=c,this.updateCenter(),p!==null&&(this.velocity.x=p*this.slideFactor.x);var T=this.blocked;v&&(T.left=!0,T.none=!1),m&&(T.right=!0,T.none=!1)},processY:function(c,p,v,m){this.y+=c,this.updateCenter(),p!==null&&(this.velocity.y=p*this.slideFactor.y);var T=this.blocked;v&&(T.up=!0,T.none=!1),m&&(T.down=!0,T.none=!1)},x:{get:function(){return this.position.x},set:function(c){this.position.x=c}},y:{get:function(){return this.position.y},set:function(c){this.position.y=c}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});C.exports=d},79342:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r,h,u,a,d){this.world=l,this.name="",this.active=!0,this.overlapOnly=o,this.object1=r,this.object2=h,this.collideCallback=u,this.processCallback=a,this.callbackContext=d},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});C.exports=y},66022:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(71289),y=s(13759),f=s(37742),l=s(83419),o=s(37747),r=s(60758),h=s(72624),u=s(71464),a=new l({initialize:function(c){this.world=c,this.scene=c.scene,this.sys=c.scene.sys},collider:function(d,c,p,v,m){return this.world.addCollider(d,c,p,v,m)},overlap:function(d,c,p,v,m){return this.world.addOverlap(d,c,p,v,m)},existing:function(d,c){var p=c?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(d,p),d},staticImage:function(d,c,p,v){var m=new g(this.scene,d,c,p,v);return this.sys.displayList.add(m),this.world.enableBody(m,o.STATIC_BODY),m},image:function(d,c,p,v){var m=new g(this.scene,d,c,p,v);return this.sys.displayList.add(m),this.world.enableBody(m,o.DYNAMIC_BODY),m},staticSprite:function(d,c,p,v){var m=new y(this.scene,d,c,p,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,o.STATIC_BODY),m},sprite:function(d,c,p,v){var m=new y(this.scene,d,c,p,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,o.DYNAMIC_BODY),m},staticGroup:function(d,c){return this.sys.updateList.add(new u(this.world,this.world.scene,d,c))},group:function(d,c){return this.sys.updateList.add(new r(this.world,this.world.scene,d,c))},body:function(d,c,p,v){var m=new f(this.world);return m.position.set(d,c),p&&v&&m.setSize(p,v),this.world.add(m,o.DYNAMIC_BODY),m},staticBody:function(d,c,p,v){var m=new h(this.world);return m.position.set(d,c),p&&v&&m.setSize(p,v),this.world.add(m,o.STATIC_BODY),m},destroy:function(){this.world=null,this.scene=null,this.sys=null}});C.exports=a},79599:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=0;if(!Array.isArray(s))g=s;else for(var y=0;y<s.length;y++)g|=s[y];return g};C.exports=A},64897:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37747),y=function(f,l,o,r){var h=0,u=f.deltaAbsX()+l.deltaAbsX()+r;return f._dx===0&&l._dx===0?(f.embedded=!0,l.embedded=!0):f._dx>l._dx?(h=f.right-l.x,h>u&&!o||f.checkCollision.right===!1||l.checkCollision.left===!1?h=0:(f.touching.none=!1,f.touching.right=!0,l.touching.none=!1,l.touching.left=!0,l.physicsType===g.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===g.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.left=!0))):f._dx<l._dx&&(h=f.x-l.width-l.x,-h>u&&!o||f.checkCollision.left===!1||l.checkCollision.right===!1?h=0:(f.touching.none=!1,f.touching.left=!0,l.touching.none=!1,l.touching.right=!0,l.physicsType===g.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===g.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.right=!0))),f.overlapX=h,l.overlapX=h,h};C.exports=y},45170:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37747),y=function(f,l,o,r){var h=0,u=f.deltaAbsY()+l.deltaAbsY()+r;return f._dy===0&&l._dy===0?(f.embedded=!0,l.embedded=!0):f._dy>l._dy?(h=f.bottom-l.y,h>u&&!o||f.checkCollision.down===!1||l.checkCollision.up===!1?h=0:(f.touching.none=!1,f.touching.down=!0,l.touching.none=!1,l.touching.up=!0,l.physicsType===g.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===g.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.up=!0))):f._dy<l._dy&&(h=f.y-l.bottom,-h>u&&!o||f.checkCollision.up===!1||l.checkCollision.down===!1?h=0:(f.touching.none=!1,f.touching.up=!0,l.touching.none=!1,l.touching.down=!0,l.physicsType===g.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===g.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.down=!0))),f.overlapY=h,l.overlapY=h,h};C.exports=y},60758:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13759),y=s(83419),f=s(78389),l=s(37747),o=s(95540),r=s(26479),h=s(41212),u=new y({Extends:r,Mixins:[f],initialize:function(d,c,p,v){if(!p&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(h(p))v=p,p=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(p)&&h(p[0])){var m=this;p.forEach(function(T){T.internalCreateCallback=m.createCallbackHandler,T.internalRemoveCallback=m.removeCallbackHandler,T.classType=o(T,"classType",g)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=d,v&&(v.classType=o(v,"classType",g)),this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:o(v,"collideWorldBounds",!1),setBoundsRectangle:o(v,"customBoundsRectangle",null),setAccelerationX:o(v,"accelerationX",0),setAccelerationY:o(v,"accelerationY",0),setAllowDrag:o(v,"allowDrag",!0),setAllowGravity:o(v,"allowGravity",!0),setAllowRotation:o(v,"allowRotation",!0),setDamping:o(v,"useDamping",!1),setBounceX:o(v,"bounceX",0),setBounceY:o(v,"bounceY",0),setDragX:o(v,"dragX",0),setDragY:o(v,"dragY",0),setEnable:o(v,"enable",!0),setGravityX:o(v,"gravityX",0),setGravityY:o(v,"gravityY",0),setFrictionX:o(v,"frictionX",0),setFrictionY:o(v,"frictionY",0),setMaxSpeed:o(v,"maxSpeed",-1),setMaxVelocityX:o(v,"maxVelocityX",1e4),setMaxVelocityY:o(v,"maxVelocityY",1e4),setVelocityX:o(v,"velocityX",0),setVelocityY:o(v,"velocityY",0),setAngularVelocity:o(v,"angularVelocity",0),setAngularAcceleration:o(v,"angularAcceleration",0),setAngularDrag:o(v,"angularDrag",0),setMass:o(v,"mass",1),setImmovable:o(v,"immovable",!1)},r.call(this,c,p,v),this.type="PhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,l.DYNAMIC_BODY);var d=a.body;for(var c in this.defaults)d[c](this.defaults[c])},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},setVelocity:function(a,d,c){c===void 0&&(c=0);for(var p=this.getChildren(),v=0;v<p.length;v++)p[v].body.velocity.set(a+v*c,d+v*c);return this},setVelocityX:function(a,d){d===void 0&&(d=0);for(var c=this.getChildren(),p=0;p<c.length;p++)c[p].body.velocity.x=a+p*d;return this},setVelocityY:function(a,d){d===void 0&&(d=0);for(var c=this.getChildren(),p=0;p<c.length;p++)c[p].body.velocity.y=a+p*d;return this}});C.exports=u},3017:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A,s,g,y,f,l,o,r,h,u,a,d,c,p,v,m,T,E=function(I,F,B){A=I,s=F;var G=A.velocity.x,z=s.velocity.x;return g=A.pushable,h=A._dx<0,u=A._dx>0,a=A._dx===0,v=Math.abs(A.right-s.x)<=Math.abs(s.right-A.x),o=z-G*A.bounce.x,y=s.pushable,d=s._dx<0,c=s._dx>0,p=s._dx===0,m=!v,r=G-z*s.bounce.x,T=Math.abs(B),P()},P=function(){return u&&v&&s.blocked.right?(A.processX(-T,o,!1,!0),1):h&&m&&s.blocked.left?(A.processX(T,o,!0),1):c&&m&&A.blocked.right?(s.processX(-T,r,!1,!0),2):d&&v&&A.blocked.left?(s.processX(T,r,!0),2):0},w=function(){var I=A.velocity.x,F=s.velocity.x,B=Math.sqrt(F*F*s.mass/A.mass)*(F>0?1:-1),G=Math.sqrt(I*I*A.mass/s.mass)*(I>0?1:-1),z=(B+G)*.5;return B-=z,G-=z,f=z+B*A.bounce.x,l=z+G*s.bounce.x,h&&m?R(0):d&&v?R(1):u&&v?R(2):c&&m?R(3):!1},R=function(I){if(g&&y)T*=.5,I===0||I===3?(A.processX(T,f),s.processX(-T,l)):(A.processX(-T,f),s.processX(T,l));else if(g&&!y)I===0||I===3?A.processX(T,o,!0):A.processX(-T,o,!1,!0);else if(!g&&y)I===0||I===3?s.processX(-T,r,!1,!0):s.processX(T,r,!0);else{var F=T*.5;I===0?p?(A.processX(T,0,!0),s.processX(0,null,!1,!0)):c?(A.processX(F,0,!0),s.processX(-F,0,!1,!0)):(A.processX(F,s.velocity.x,!0),s.processX(-F,null,!1,!0)):I===1?a?(A.processX(0,null,!1,!0),s.processX(T,0,!0)):u?(A.processX(-F,0,!1,!0),s.processX(F,0,!0)):(A.processX(-F,null,!1,!0),s.processX(F,A.velocity.x,!0)):I===2?p?(A.processX(-T,0,!1,!0),s.processX(0,null,!0)):d?(A.processX(-F,0,!1,!0),s.processX(F,0,!0)):(A.processX(-F,s.velocity.x,!1,!0),s.processX(F,null,!0)):I===3&&(a?(A.processX(0,null,!0),s.processX(-T,0,!1,!0)):h?(A.processX(F,0,!0),s.processX(-F,0,!1,!0)):(A.processX(F,s.velocity.y,!0),s.processX(-F,null,!1,!0)))}return!0},L=function(I){if(I===1?s.velocity.x=0:v?s.processX(T,r,!0):s.processX(-T,r,!1,!0),A.moves){var F=A.directControl?A.y-A.autoFrame.y:A.y-A.prev.y;s.y+=F*A.friction.y,s._dy=s.y-s.prev.y}},O=function(I){if(I===2?A.velocity.x=0:m?A.processX(T,o,!0):A.processX(-T,o,!1,!0),s.moves){var F=s.directControl?s.y-s.autoFrame.y:s.y-s.prev.y;A.y+=F*s.friction.y,A._dy=A.y-A.prev.y}};C.exports={BlockCheck:P,Check:w,Set:E,Run:R,RunImmovableBody1:L,RunImmovableBody2:O}},47962:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A,s,g,y,f,l,o,r,h,u,a,d,c,p,v,m,T,E=function(I,F,B){A=I,s=F;var G=A.velocity.y,z=s.velocity.y;return g=A.pushable,h=A._dy<0,u=A._dy>0,a=A._dy===0,v=Math.abs(A.bottom-s.y)<=Math.abs(s.bottom-A.y),o=z-G*A.bounce.y,y=s.pushable,d=s._dy<0,c=s._dy>0,p=s._dy===0,m=!v,r=G-z*s.bounce.y,T=Math.abs(B),P()},P=function(){return u&&v&&s.blocked.down?(A.processY(-T,o,!1,!0),1):h&&m&&s.blocked.up?(A.processY(T,o,!0),1):c&&m&&A.blocked.down?(s.processY(-T,r,!1,!0),2):d&&v&&A.blocked.up?(s.processY(T,r,!0),2):0},w=function(){var I=A.velocity.y,F=s.velocity.y,B=Math.sqrt(F*F*s.mass/A.mass)*(F>0?1:-1),G=Math.sqrt(I*I*A.mass/s.mass)*(I>0?1:-1),z=(B+G)*.5;return B-=z,G-=z,f=z+B*A.bounce.y,l=z+G*s.bounce.y,h&&m?R(0):d&&v?R(1):u&&v?R(2):c&&m?R(3):!1},R=function(I){if(g&&y)T*=.5,I===0||I===3?(A.processY(T,f),s.processY(-T,l)):(A.processY(-T,f),s.processY(T,l));else if(g&&!y)I===0||I===3?A.processY(T,o,!0):A.processY(-T,o,!1,!0);else if(!g&&y)I===0||I===3?s.processY(-T,r,!1,!0):s.processY(T,r,!0);else{var F=T*.5;I===0?p?(A.processY(T,0,!0),s.processY(0,null,!1,!0)):c?(A.processY(F,0,!0),s.processY(-F,0,!1,!0)):(A.processY(F,s.velocity.y,!0),s.processY(-F,null,!1,!0)):I===1?a?(A.processY(0,null,!1,!0),s.processY(T,0,!0)):u?(A.processY(-F,0,!1,!0),s.processY(F,0,!0)):(A.processY(-F,null,!1,!0),s.processY(F,A.velocity.y,!0)):I===2?p?(A.processY(-T,0,!1,!0),s.processY(0,null,!0)):d?(A.processY(-F,0,!1,!0),s.processY(F,0,!0)):(A.processY(-F,s.velocity.y,!1,!0),s.processY(F,null,!0)):I===3&&(a?(A.processY(0,null,!0),s.processY(-T,0,!1,!0)):h?(A.processY(F,0,!0),s.processY(-F,0,!1,!0)):(A.processY(F,s.velocity.y,!0),s.processY(-F,null,!1,!0)))}return!0},L=function(I){if(I===1?s.velocity.y=0:v?s.processY(T,r,!0):s.processY(-T,r,!1,!0),A.moves){var F=A.directControl?A.x-A.autoFrame.x:A.x-A.prev.x;s.x+=F*A.friction.x,s._dx=s.x-s.prev.x}},O=function(I){if(I===2?A.velocity.y=0:m?A.processY(T,o,!0):A.processY(-T,o,!1,!0),s.moves){var F=s.directControl?s.x-s.autoFrame.x:s.x-s.prev.x;A.x+=F*s.friction.x,A._dx=A.x-A.prev.x}};C.exports={BlockCheck:P,Check:w,Set:E,Run:R,RunImmovableBody1:L,RunImmovableBody2:O}},14087:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(64897),y=s(3017),f=function(l,o,r,h,u){u===void 0&&(u=g(l,o,r,h));var a=l.immovable,d=o.immovable;if(r||u===0||a&&d||l.customSeparateX||o.customSeparateX)return u!==0||l.embedded&&o.embedded;var c=y.Set(l,o,u);return!a&&!d?c>0?!0:y.Check():(a?y.RunImmovableBody1(c):d&&y.RunImmovableBody2(c),!0)};C.exports=f},89936:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45170),y=s(47962),f=function(l,o,r,h,u){u===void 0&&(u=g(l,o,r,h));var a=l.immovable,d=o.immovable;if(r||u===0||a&&d||l.customSeparateY||o.customSeparateY)return u!==0||l.embedded&&o.embedded;var c=y.Set(l,o,u);return!a&&!d?c>0?!0:y.Check():(a?y.RunImmovableBody1(c):d&&y.RunImmovableBody2(c),!0)};C.exports=f},95829:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g={}),g.none=s,g.up=!1,g.down=!1,g.left=!1,g.right=!1,s||(g.up=!0,g.down=!0,g.left=!0,g.right=!0),g};C.exports=A},72624:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87902),y=s(83419),f=s(78389),l=s(37747),o=s(37303),r=s(95829),h=s(26099),u=new y({Mixins:[f],initialize:function(d,c){var p=64,v=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=c!==void 0;T&&c.displayWidth&&(p=c.displayWidth,v=c.displayHeight),T||(c=m),this.world=d,this.gameObject=T?c:void 0,this.isBody=!0,this.debugShowBody=d.defaults.debugShowStaticBody,this.debugBodyColor=d.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(c.x-p*c.originX,c.y-v*c.originY),this.width=p,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=h.ZERO,this.allowGravity=!1,this.gravity=h.ZERO,this.bounce=h.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=r(!1),this.touching=r(!0),this.wasTouching=r(!0),this.blocked=r(!0),this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(a,d,c){if(d===void 0&&(d=!0),c===void 0&&(c=!0),!a||!a.hasTransformComponent)return this;var p=this.world;return this.gameObject&&this.gameObject.body&&(p.disable(this.gameObject),this.gameObject.body=null),a.body&&p.disable(a),this.gameObject=a,a.body=this,this.setSize(),d&&this.updateFromGameObject(),this.enable=c,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var a=this.gameObject;return a.getTopLeft(this.position),this.width=a.displayWidth,this.height=a.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(a,d){return d===void 0&&(d=a),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(a,d),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(a,d,c){c===void 0&&(c=!0);var p=this.gameObject;if(p&&p.frame&&(a||(a=p.frame.realWidth),d||(d=p.frame.realHeight)),this.world.staticTree.remove(this),this.width=a,this.height=d,this.halfWidth=Math.floor(a/2),this.halfHeight=Math.floor(d/2),c&&p&&p.getCenter){var v=p.displayWidth/2,m=p.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(a,d,c){return d===void 0&&(d=this.offset.x),c===void 0&&(c=this.offset.y),a>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=a,this.width=a*2,this.height=a*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,c),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(a,d){var c=this.gameObject;a===void 0&&(a=c.x),d===void 0&&(d=c.y),this.world.staticTree.remove(this),c.setPosition(a,d),c.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,d){return this.isCircle?g(this,a,d):o(this,a,d)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(a){var d=this.position,c=d.x+this.halfWidth,p=d.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?a.strokeCircle(c,p,this.width/2):a.strokeRect(d.x,d.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(a){return a<=0&&(a=.1),this.mass=a,this},x:{get:function(){return this.position.x},set:function(a){this.world.staticTree.remove(this),this.position.x=a,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(a){this.world.staticTree.remove(this),this.position.y=a,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});C.exports=u},71464:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13759),y=s(83419),f=s(78389),l=s(37747),o=s(95540),r=s(26479),h=s(41212),u=new y({Extends:r,Mixins:[f],initialize:function(d,c,p,v){!p&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:g}:h(p)?(v=p,p=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=o(v,"classType",g)):Array.isArray(p)&&h(p[0])?(v=p,p=null,v.forEach(function(m){m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=o(m,"classType",g)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=d,this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,r.call(this,c,p,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,l.STATIC_BODY)},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var a=this.children.entries,d=0;d<a.length;d++)a[d].body.reset();return this}});C.exports=u},82248:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(55495),y=s(37742),f=s(45319),l=s(83419),o=s(79342),r=s(37747),h=s(20339),u=s(52816),a=s(50792),d=s(63012),c=s(43855),p=s(5470),v=s(94977),m=s(64897),T=s(45170),E=s(96523),P=s(35154),w=s(36383),R=s(25774),L=s(96602),O=s(87841),I=s(59542),F=s(40012),B=s(14087),G=s(89936),z=s(35072),Y=s(72624),J=s(2483),$=s(61340),j=s(26099),X=s(15994),H=new l({Extends:a,initialize:function(Q,U){a.call(this),this.scene=Q,this.bodies=new z,this.staticBodies=new z,this.pendingDestroy=new z,this.colliders=new R,this.gravity=new j(P(U,"gravity.x",0),P(U,"gravity.y",0)),this.bounds=new O(P(U,"x",0),P(U,"y",0),P(U,"width",Q.sys.scale.width),P(U,"height",Q.sys.scale.height)),this.checkCollision={up:P(U,"checkCollision.up",!0),down:P(U,"checkCollision.down",!0),left:P(U,"checkCollision.left",!0),right:P(U,"checkCollision.right",!0)},this.fps=P(U,"fps",60),this.fixedStep=P(U,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=P(U,"timeScale",1),this.OVERLAP_BIAS=P(U,"overlapBias",4),this.TILE_BIAS=P(U,"tileBias",16),this.forceX=P(U,"forceX",!1),this.isPaused=P(U,"isPaused",!1),this._total=0,this.drawDebug=P(U,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:P(U,"debugShowBody",!0),debugShowStaticBody:P(U,"debugShowStaticBody",!0),debugShowVelocity:P(U,"debugShowVelocity",!0),bodyDebugColor:P(U,"debugBodyColor",16711935),staticBodyDebugColor:P(U,"debugStaticBodyColor",255),velocityDebugColor:P(U,"debugVelocityColor",65280)},this.maxEntries=P(U,"maxEntries",16),this.useTree=P(U,"useTree",!0),this.tree=new I(this.maxEntries),this.staticTree=new I(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new $,this._tempMatrix2=new $,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(N,Q){Q===void 0&&(Q=r.DYNAMIC_BODY),Array.isArray(N)||(N=[N]);for(var U=0;U<N.length;U++){var q=N[U];if(q.isParent)for(var et=q.getChildren(),it=0;it<et.length;it++){var rt=et[it];rt.isParent?this.enable(rt,Q):this.enableBody(rt,Q)}else this.enableBody(q,Q)}},enableBody:function(N,Q){return Q===void 0&&(Q=r.DYNAMIC_BODY),N.hasTransformComponent&&(N.body||(Q===r.DYNAMIC_BODY?N.body=new y(this,N):Q===r.STATIC_BODY&&(N.body=new Y(this,N))),this.add(N.body)),N},add:function(N){return N.physicsType===r.DYNAMIC_BODY?this.bodies.set(N):N.physicsType===r.STATIC_BODY&&(this.staticBodies.set(N),this.staticTree.insert(N)),N.enable=!0,N},disable:function(N){Array.isArray(N)||(N=[N]);for(var Q=0;Q<N.length;Q++){var U=N[Q];if(U.isParent)for(var q=U.getChildren(),et=0;et<q.length;et++){var it=q[et];it.isParent?this.disable(it):this.disableBody(it.body)}else this.disableBody(U.body)}},disableBody:function(N){this.remove(N),N.enable=!1},remove:function(N){N.physicsType===r.DYNAMIC_BODY?(this.tree.remove(N),this.bodies.delete(N)):N.physicsType===r.STATIC_BODY&&(this.staticBodies.delete(N),this.staticTree.remove(N))},createDebugGraphic:function(){var N=this.scene.sys.add.graphics({x:0,y:0});return N.setDepth(Number.MAX_VALUE),this.debugGraphic=N,this.drawDebug=!0,N},setBounds:function(N,Q,U,q,et,it,rt,lt){return this.bounds.setTo(N,Q,U,q),et!==void 0&&this.setBoundsCollision(et,it,rt,lt),this},setBoundsCollision:function(N,Q,U,q){return N===void 0&&(N=!0),Q===void 0&&(Q=!0),U===void 0&&(U=!0),q===void 0&&(q=!0),this.checkCollision.left=N,this.checkCollision.right=Q,this.checkCollision.up=U,this.checkCollision.down=q,this},pause:function(){return this.isPaused=!0,this.emit(d.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(d.RESUME),this},addCollider:function(N,Q,U,q,et){U===void 0&&(U=null),q===void 0&&(q=null),et===void 0&&(et=U);var it=new o(this,!1,N,Q,U,q,et);return this.colliders.add(it),it},addOverlap:function(N,Q,U,q,et){U===void 0&&(U=null),q===void 0&&(q=null),et===void 0&&(et=U);var it=new o(this,!0,N,Q,U,q,et);return this.colliders.add(it),it},removeCollider:function(N){return this.colliders.remove(N),this},setFPS:function(N){return this.fps=N,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(N,Q){if(!(this.isPaused||this.bodies.size===0)){var U,q=this._frameTime,et=this._frameTimeMS*this.timeScale;this._elapsed+=Q;var it,rt=this.bodies.entries,lt=this._elapsed>=et;for(this.fixedStep||(q=Q*.001,lt=!0,this._elapsed=0),U=0;U<rt.length;U++)it=rt[U],it.enable&&it.preUpdate(lt,q);if(lt){this._elapsed-=et,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(rt));var ft=this.colliders.update();for(U=0;U<ft.length;U++){var gt=ft[U];gt.active&&gt.update()}this.emit(d.WORLD_STEP,q)}for(;this._elapsed>=et;)this._elapsed-=et,this.step(q)}},step:function(N){var Q,U,q=this.bodies.entries,et=q.length;for(Q=0;Q<et;Q++)U=q[Q],U.enable&&U.update(N);this.useTree&&(this.tree.clear(),this.tree.load(q));var it=this.colliders.update();for(Q=0;Q<it.length;Q++){var rt=it[Q];rt.active&&rt.update()}this.emit(d.WORLD_STEP,N),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var N,Q,U=this.bodies.entries,q=U.length,et=this.bodies,it=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,N=0;N<q;N++)Q=U[N],Q.enable&&Q.postUpdate();if(this.drawDebug){var rt=this.debugGraphic;for(rt.clear(),N=0;N<q;N++)Q=U[N],Q.willDrawDebug()&&Q.drawDebug(rt);for(U=it.entries,q=U.length,N=0;N<q;N++)Q=U[N],Q.willDrawDebug()&&Q.drawDebug(rt)}var lt=this.pendingDestroy;if(lt.size>0){var ft=this.tree,gt=this.staticTree;for(U=lt.entries,q=U.length,N=0;N<q;N++)Q=U[N],Q.physicsType===r.DYNAMIC_BODY?(ft.remove(Q),et.delete(Q)):Q.physicsType===r.STATIC_BODY&&(gt.remove(Q),it.delete(Q)),Q.world=void 0,Q.gameObject=void 0;lt.clear()}},updateMotion:function(N,Q){N.allowRotation&&this.computeAngularVelocity(N,Q),this.computeVelocity(N,Q)},computeAngularVelocity:function(N,Q){var U=N.angularVelocity,q=N.angularAcceleration,et=N.angularDrag,it=N.maxAngular;q?U+=q*Q:N.allowDrag&&et&&(et*=Q,p(U-et,0,.1)?U-=et:v(U+et,0,.1)?U+=et:U=0),U=f(U,-it,it);var rt=U-N.angularVelocity;N.angularVelocity+=rt,N.rotation+=N.angularVelocity*Q},computeVelocity:function(N,Q){var U=N.velocity.x,q=N.acceleration.x,et=N.drag.x,it=N.maxVelocity.x,rt=N.velocity.y,lt=N.acceleration.y,ft=N.drag.y,gt=N.maxVelocity.y,vt=N.speed,xt=N.maxSpeed,yt=N.allowDrag,Ct=N.useDamping;N.allowGravity&&(U+=(this.gravity.x+N.gravity.x)*Q,rt+=(this.gravity.y+N.gravity.y)*Q),q?U+=q*Q:yt&&et&&(Ct?(et=Math.pow(et,Q),U*=et,vt=Math.sqrt(U*U+rt*rt),c(vt,0,.001)&&(U=0)):(et*=Q,p(U-et,0,.01)?U-=et:v(U+et,0,.01)?U+=et:U=0)),lt?rt+=lt*Q:yt&&ft&&(Ct?(ft=Math.pow(ft,Q),rt*=ft,vt=Math.sqrt(U*U+rt*rt),c(vt,0,.001)&&(rt=0)):(ft*=Q,p(rt-ft,0,.01)?rt-=ft:v(rt+ft,0,.01)?rt+=ft:rt=0)),U=f(U,-it,it),rt=f(rt,-gt,gt),N.velocity.set(U,rt),xt>-1&&N.velocity.length()>xt&&(N.velocity.normalize().scale(xt),vt=xt),N.speed=vt},separate:function(N,Q,U,q,et){var it,rt,lt=!1,ft=!0;if(!N.enable||!Q.enable||N.checkCollision.none||Q.checkCollision.none||!this.intersects(N,Q)||!(N.collisionMask&Q.collisionCategory)||!(Q.collisionMask&N.collisionCategory)||U&&U.call(q,N.gameObject||N,Q.gameObject||Q)===!1)return lt;if(N.isCircle||Q.isCircle){var gt=this.separateCircle(N,Q,et);gt.result?(lt=!0,ft=!1):(it=gt.x,rt=gt.y,ft=!0)}if(ft){var vt=!1,xt=!1,yt=this.OVERLAP_BIAS;et?(vt=B(N,Q,et,yt,it),xt=G(N,Q,et,yt,rt)):this.forceX||Math.abs(this.gravity.y+N.gravity.y)<Math.abs(this.gravity.x+N.gravity.x)?(vt=B(N,Q,et,yt,it),this.intersects(N,Q)&&(xt=G(N,Q,et,yt,rt))):(xt=G(N,Q,et,yt,rt),this.intersects(N,Q)&&(vt=B(N,Q,et,yt,it))),lt=vt||xt}return lt&&(et?(N.onOverlap||Q.onOverlap)&&this.emit(d.OVERLAP,N.gameObject,Q.gameObject,N,Q):(N.onCollide||Q.onCollide)&&this.emit(d.COLLIDE,N.gameObject,Q.gameObject,N,Q)),lt},separateCircle:function(N,Q,U){m(N,Q,!1,0),T(N,Q,!1,0);var q=N.isCircle,et=Q.isCircle,it=N.center,rt=Q.center,lt=N.immovable,ft=Q.immovable,gt=N.velocity,vt=Q.velocity,xt=0,yt=!0;if(q!==et){yt=!1;var Ct=it.x,Rt=it.y,bt=N.halfWidth,Lt=Q.position.x,St=Q.position.y,Et=Q.right,Mt=Q.bottom;et&&(Ct=rt.x,Rt=rt.y,bt=Q.halfWidth,Lt=N.position.x,St=N.position.y,Et=N.right,Mt=N.bottom),Rt<St?Ct<Lt?xt=h(Ct,Rt,Lt,St)-bt:Ct>Et&&(xt=h(Ct,Rt,Et,St)-bt):Rt>Mt&&(Ct<Lt?xt=h(Ct,Rt,Lt,Mt)-bt:Ct>Et&&(xt=h(Ct,Rt,Et,Mt)-bt)),xt*=-1}else xt=N.halfWidth+Q.halfWidth-u(it,rt);N.overlapR=xt,Q.overlapR=xt;var Vt=g(it,rt),Kt=(xt+w.EPSILON)*Math.cos(Vt),oe=(xt+w.EPSILON)*Math.sin(Vt),Jt={overlap:xt,result:!1,x:Kt,y:oe};if(U&&(!yt||yt&&xt!==0))return Jt.result=!0,Jt;if(!yt&&xt===0||lt&&ft||N.customSeparateX||Q.customSeparateX)return Jt.x=void 0,Jt.y=void 0,Jt;var Qt=!N.pushable&&!Q.pushable;if(yt){var fe=it.x-rt.x,be=it.y-rt.y,$t=Math.sqrt(Math.pow(fe,2)+Math.pow(be,2)),le=(rt.x-it.x)/$t||0,kt=(rt.y-it.y)/$t||0,ve=2*(gt.x*le+gt.y*kt-vt.x*le-vt.y*kt)/(N.mass+Q.mass);(lt||ft||!N.pushable||!Q.pushable)&&(ve*=2),!lt&&N.pushable&&(gt.x=gt.x-ve/N.mass*le,gt.y=gt.y-ve/N.mass*kt,gt.multiply(N.bounce)),!ft&&Q.pushable&&(vt.x=vt.x+ve/Q.mass*le,vt.y=vt.y+ve/Q.mass*kt,vt.multiply(Q.bounce)),!lt&&!ft&&(Kt*=.5,oe*=.5),(!lt||N.pushable||Qt)&&(N.x-=Kt,N.y-=oe,N.updateCenter()),(!ft||Q.pushable||Qt)&&(Q.x+=Kt,Q.y+=oe,Q.updateCenter()),Jt.result=!0}else!lt&&(N.pushable||Qt)&&(N.x-=Kt,N.y-=oe,N.updateCenter()),!ft&&(Q.pushable||Qt)&&(Q.x+=Kt,Q.y+=oe,Q.updateCenter()),Jt.x=void 0,Jt.y=void 0;return Jt},intersects:function(N,Q){return N===Q?!1:!N.isCircle&&!Q.isCircle?!(N.right<=Q.left||N.bottom<=Q.top||N.left>=Q.right||N.top>=Q.bottom):N.isCircle?Q.isCircle?u(N.center,Q.center)<=N.halfWidth+Q.halfWidth:this.circleBodyIntersects(N,Q):this.circleBodyIntersects(Q,N)},circleBodyIntersects:function(N,Q){var U=f(N.center.x,Q.left,Q.right),q=f(N.center.y,Q.top,Q.bottom),et=(N.center.x-U)*(N.center.x-U),it=(N.center.y-q)*(N.center.y-q);return et+it<=N.halfWidth*N.halfWidth},overlap:function(N,Q,U,q,et){return U===void 0&&(U=null),q===void 0&&(q=null),et===void 0&&(et=U),this.collideObjects(N,Q,U,q,et,!0)},collide:function(N,Q,U,q,et){return U===void 0&&(U=null),q===void 0&&(q=null),et===void 0&&(et=U),this.collideObjects(N,Q,U,q,et,!1)},collideObjects:function(N,Q,U,q,et,it){var rt,lt;N.isParent&&(N.physicsType===void 0||Q===void 0||N===Q)&&(N=N.children.entries),Q&&Q.isParent&&Q.physicsType===void 0&&(Q=Q.children.entries);var ft=Array.isArray(N),gt=Array.isArray(Q);if(this._total=0,!ft&&!gt)this.collideHandler(N,Q,U,q,et,it);else if(!ft&&gt)for(rt=0;rt<Q.length;rt++)this.collideHandler(N,Q[rt],U,q,et,it);else if(ft&&!gt)if(Q)for(rt=0;rt<N.length;rt++)this.collideHandler(N[rt],Q,U,q,et,it);else for(rt=0;rt<N.length;rt++){var vt=N[rt];for(lt=rt+1;lt<N.length;lt++)rt!==lt&&this.collideHandler(vt,N[lt],U,q,et,it)}else for(rt=0;rt<N.length;rt++)for(lt=0;lt<Q.length;lt++)this.collideHandler(N[rt],Q[lt],U,q,et,it);return this._total>0},collideHandler:function(N,Q,U,q,et,it){if(Q===void 0&&N.isParent)return this.collideGroupVsGroup(N,N,U,q,et,it);if(!N||!Q)return!1;if(N.body||N.isBody){if(Q.body||Q.isBody)return this.collideSpriteVsSprite(N,Q,U,q,et,it);if(Q.isParent)return this.collideSpriteVsGroup(N,Q,U,q,et,it);if(Q.isTilemap)return this.collideSpriteVsTilemapLayer(N,Q,U,q,et,it)}else if(N.isParent){if(Q.body||Q.isBody)return this.collideSpriteVsGroup(Q,N,U,q,et,it);if(Q.isParent)return this.collideGroupVsGroup(N,Q,U,q,et,it);if(Q.isTilemap)return this.collideGroupVsTilemapLayer(N,Q,U,q,et,it)}else if(N.isTilemap){if(Q.body||Q.isBody)return this.collideSpriteVsTilemapLayer(Q,N,U,q,et,it);if(Q.isParent)return this.collideGroupVsTilemapLayer(Q,N,U,q,et,it)}},canCollide:function(N,Q){return N&&Q&&(N.collisionMask&Q.collisionCategory)!==0&&(Q.collisionMask&N.collisionCategory)!==0},collideSpriteVsSprite:function(N,Q,U,q,et,it){var rt=N.isBody?N:N.body,lt=Q.isBody?Q:Q.body;return this.canCollide(rt,lt)?(this.separate(rt,lt,q,et,it)&&(U&&U.call(et,N,Q),this._total++),!0):!1},collideSpriteVsGroup:function(N,Q,U,q,et,it){var rt=N.isBody?N:N.body;if(!(Q.getLength()===0||!rt||!rt.enable||rt.checkCollision.none||!this.canCollide(rt,Q))){var lt,ft,gt;if(this.useTree||Q.physicsType===r.STATIC_BODY){var vt=this.treeMinMax;vt.minX=rt.left,vt.minY=rt.top,vt.maxX=rt.right,vt.maxY=rt.bottom;var xt=Q.physicsType===r.DYNAMIC_BODY?this.tree.search(vt):this.staticTree.search(vt);for(ft=xt.length,lt=0;lt<ft;lt++)gt=xt[lt],!(rt===gt||!gt.enable||gt.checkCollision.none||!Q.contains(gt.gameObject))&&this.separate(rt,gt,q,et,it)&&(U&&U.call(et,rt.gameObject,gt.gameObject),this._total++)}else{var yt=Q.getChildren(),Ct=Q.children.entries.indexOf(N);for(ft=yt.length,lt=0;lt<ft;lt++)gt=yt[lt].body,!(!gt||lt===Ct||!gt.enable)&&this.separate(rt,gt,q,et,it)&&(U&&U.call(et,rt.gameObject,gt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(N,Q,U,q,et,it){if(!this.canCollide(N,Q))return!1;var rt=N.getChildren();if(rt.length===0)return!1;for(var lt=!1,ft=0;ft<rt.length;ft++)(rt[ft].body||rt[ft].isBody)&&this.collideSpriteVsTilemapLayer(rt[ft],Q,U,q,et,it)&&(lt=!0);return lt},collideTiles:function(N,Q,U,q,et){return Q.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,Q,U,q,et,!1,!1)},overlapTiles:function(N,Q,U,q,et){return Q.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,Q,U,q,et,!0,!1)},collideSpriteVsTilemapLayer:function(N,Q,U,q,et,it){var rt=N.isBody?N:N.body;if(!rt.enable||rt.checkCollision.none||!this.canCollide(rt,Q))return!1;var lt=Q.layer,ft=rt.x-lt.tileWidth*Q.scaleX,gt=rt.y-lt.tileHeight*Q.scaleY,vt=rt.width+lt.tileWidth*Q.scaleX,xt=rt.height+lt.tileHeight*Q.scaleY,yt=it?null:this.tileFilterOptions,Ct=E(ft,gt,vt,xt,yt,Q.scene.cameras.main,Q.layer);return Ct.length===0?!1:this.collideSpriteVsTilesHandler(N,Ct,U,q,et,it,!0)},collideSpriteVsTilesHandler:function(N,Q,U,q,et,it,rt){for(var lt=N.isBody?N:N.body,ft,gt={left:0,right:0,top:0,bottom:0},vt,xt=!1,yt=0;yt<Q.length;yt++){ft=Q[yt],vt=ft.tilemapLayer;var Ct=vt.tileToWorldXY(ft.x,ft.y);gt.left=Ct.x,gt.top=Ct.y,gt.right=gt.left+ft.width*vt.scaleX,gt.bottom=gt.top+ft.height*vt.scaleY,J(gt,lt)&&(!q||q.call(et,N,ft))&&L(ft,N)&&(it||F(yt,lt,ft,gt,vt,this.TILE_BIAS,rt))&&(this._total++,xt=!0,U&&U.call(et,N,ft),it&&lt.onOverlap?this.emit(d.TILE_OVERLAP,N,ft,lt):lt.onCollide&&this.emit(d.TILE_COLLIDE,N,ft,lt))}return xt},collideGroupVsGroup:function(N,Q,U,q,et,it){if(!(N.getLength()===0||Q.getLength()===0||!this.canCollide(N,Q)))for(var rt=N.getChildren(),lt=0;lt<rt.length;lt++)this.collideSpriteVsGroup(rt[lt],Q,U,q,et,it)},wrap:function(N,Q){N.body?this.wrapObject(N,Q):N.getChildren?this.wrapArray(N.getChildren(),Q):Array.isArray(N)?this.wrapArray(N,Q):this.wrapObject(N,Q)},wrapArray:function(N,Q){for(var U=0;U<N.length;U++)this.wrapObject(N[U],Q)},wrapObject:function(N,Q){Q===void 0&&(Q=0),N.x=X(N.x,this.bounds.left-Q,this.bounds.right+Q),N.y=X(N.y,this.bounds.top-Q,this.bounds.bottom+Q)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});C.exports=H},1093:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setAcceleration:function(s,g){return this.body.acceleration.set(s,g),this},setAccelerationX:function(s){return this.body.acceleration.x=s,this},setAccelerationY:function(s){return this.body.acceleration.y=s,this}};C.exports=A},59023:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setAngularVelocity:function(s){return this.body.angularVelocity=s,this},setAngularAcceleration:function(s){return this.body.angularAcceleration=s,this},setAngularDrag:function(s){return this.body.angularDrag=s,this}};C.exports=A},62069:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setBounce:function(s,g){return this.body.bounce.set(s,g),this},setBounceX:function(s){return this.body.bounce.x=s,this},setBounceY:function(s){return this.body.bounce.y=s,this},setCollideWorldBounds:function(s,g,y,f){return this.body.setCollideWorldBounds(s,g,y,f),this}};C.exports=A},78389:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79599),y={setCollisionCategory:function(f){var l=this.body?this.body:this;return l.collisionCategory=f,this},willCollideWith:function(f){var l=this.body?this.body:this;return(l.collisionMask&f)!==0},addCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask|f,this},removeCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask&~f,this},setCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=g(f),this},resetCollisionCategory:function(){var f=this.body?this.body:this;return f.collisionCategory=1,f.collisionMask=2147483647,this}};C.exports=y},87118:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setDebug:function(s,g,y){return this.debugShowBody=s,this.debugShowVelocity=g,this.debugBodyColor=y,this},setDebugBodyColor:function(s){return this.body.debugBodyColor=s,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(s){this.body.debugShowBody=s}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(s){this.body.debugShowVelocity=s}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(s){this.body.debugBodyColor=s}}};C.exports=A},52819:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setDrag:function(s,g){return this.body.drag.set(s,g),this},setDragX:function(s){return this.body.drag.x=s,this},setDragY:function(s){return this.body.drag.y=s,this},setDamping:function(s){return this.body.useDamping=s,this}};C.exports=A},4074:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setDirectControl:function(s){return this.body.setDirectControl(s),this},enableBody:function(s,g,y,f,l){return s&&this.body.reset(g,y),f&&(this.body.gameObject.active=!0),l&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(s,g){return s===void 0&&(s=!1),g===void 0&&(g=!1),this.body.stop(),this.body.enable=!1,s&&(this.body.gameObject.active=!1),g&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};C.exports=A},40831:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setFriction:function(s,g){return this.body.friction.set(s,g),this},setFrictionX:function(s){return this.body.friction.x=s,this},setFrictionY:function(s){return this.body.friction.y=s,this}};C.exports=A},26775:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setGravity:function(s,g){return this.body.gravity.set(s,g),this},setGravityX:function(s){return this.body.gravity.x=s,this},setGravityY:function(s){return this.body.gravity.y=s,this}};C.exports=A},9437:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setImmovable:function(s){return s===void 0&&(s=!0),this.body.immovable=s,this}};C.exports=A},30621:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setMass:function(s){return this.body.mass=s,this}};C.exports=A},72441:(C,A,s)=>{var g=s(47956),y=s(96503),f=s(2044),l=s(81491),o=function(r,h,u,a,d,c){var p=g(r,h-a,u-a,2*a,2*a,d,c);if(p.length===0)return p;for(var v=new y(h,u,a),m=new y,T=[],E=0;E<p.length;E++){var P=p[E];P.isCircle?(m.setTo(P.center.x,P.center.y,P.halfWidth),f(v,m)&&T.push(P)):l(v,P)&&T.push(P)}return T};C.exports=o},47956:C=>{var A=function(s,g,y,f,l,o,r){o===void 0&&(o=!0),r===void 0&&(r=!1);var h=[],u=[],a=s.treeMinMax;if(a.minX=g,a.minY=y,a.maxX=g+f,a.maxY=y+l,r&&(u=s.staticTree.search(a)),o&&s.useTree)h=s.tree.search(a);else if(o){var d=s.bodies,c={position:{x:g,y},left:g,top:y,right:g+f,bottom:y+l,isCircle:!1},p=s.intersects;d.iterate(function(v){p(v,c)&&h.push(v)})}return u.concat(h)};C.exports=A},62121:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setPushable:function(s){return s===void 0&&(s=!0),this.body.pushable=s,this}};C.exports=A},29384:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setOffset:function(s,g){return this.body.setOffset(s,g),this},setSize:function(s,g,y){return this.body.setSize(s,g,y),this},setBodySize:function(s,g,y){return this.body.setSize(s,g,y),this},setCircle:function(s,g,y){return this.body.setCircle(s,g,y),this}};C.exports=A},15098:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setVelocity:function(s,g){return this.body.setVelocity(s,g),this},setVelocityX:function(s){return this.body.setVelocityX(s),this},setVelocityY:function(s){return this.body.setVelocityY(s),this},setMaxVelocity:function(s,g){return this.body.maxVelocity.set(s,g),this}};C.exports=A},92209:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Acceleration:s(1093),Angular:s(59023),Bounce:s(62069),Collision:s(78389),Debug:s(87118),Drag:s(52819),Enable:s(4074),Friction:s(40831),Gravity:s(26775),Immovable:s(9437),Mass:s(30621),OverlapCirc:s(72441),OverlapRect:s(47956),Pushable:s(62121),Size:s(29384),Velocity:s(15098)}},37747:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};C.exports=A},20009:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="collide"},36768:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="overlap"},60473:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},89954:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},61804:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="tilecollide"},7161:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="tileoverlap"},34689:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="worldbounds"},16006:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="worldstep"},63012:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={COLLIDE:s(20009),OVERLAP:s(36768),PAUSE:s(60473),RESUME:s(89954),TILE_COLLIDE:s(61804),TILE_OVERLAP:s(7161),WORLD_BOUNDS:s(34689),WORLD_STEP:s(16006)}},27064:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37747),y=s(79291),f={ArcadePhysics:s(86689),Body:s(37742),Collider:s(79342),Components:s(92209),Events:s(63012),Factory:s(66022),GetCollidesWith:s(79599),GetOverlapX:s(64897),GetOverlapY:s(45170),SeparateX:s(14087),SeparateY:s(89936),Group:s(60758),Image:s(71289),Sprite:s(13759),StaticBody:s(72624),StaticGroup:s(71464),Tilemap:s(55173),World:s(82248)};f=y(!1,f,g),C.exports=f},96602:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.collisionCallback?!s.collisionCallback.call(s.collisionCallbackContext,g,s):s.layer.callbacks[s.index]?!s.layer.callbacks[s.index].callback.call(s.layer.callbacks[s.index].callbackContext,g,s):!0};C.exports=A},36294:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g<0?(s.blocked.none=!1,s.blocked.left=!0):g>0&&(s.blocked.none=!1,s.blocked.right=!0),s.position.x-=g,s.updateCenter(),s.bounce.x===0?s.velocity.x=0:s.velocity.x=-s.velocity.x*s.bounce.x};C.exports=A},67013:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g<0?(s.blocked.none=!1,s.blocked.up=!0):g>0&&(s.blocked.none=!1,s.blocked.down=!0),s.position.y-=g,s.updateCenter(),s.bounce.y===0?s.velocity.y=0:s.velocity.y=-s.velocity.y*s.bounce.y};C.exports=A},40012:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(21329),y=s(53442),f=s(2483),l=function(o,r,h,u,a,d,c){var p=u.left,v=u.top,m=u.right,T=u.bottom,E=h.faceLeft||h.faceRight,P=h.faceTop||h.faceBottom;if(c||(E=!0,P=!0),!E&&!P)return!1;var w=0,R=0,L=0,O=1;if(r.deltaAbsX()>r.deltaAbsY()?L=-1:r.deltaAbsX()<r.deltaAbsY()&&(O=-1),r.deltaX()!==0&&r.deltaY()!==0&&E&&P&&(L=Math.min(Math.abs(r.position.x-m),Math.abs(r.right-p)),O=Math.min(Math.abs(r.position.y-T),Math.abs(r.bottom-v))),L<O){if(E&&(w=g(r,h,p,m,d,c),w!==0&&!f(u,r)))return!0;P&&(R=y(r,h,v,T,d,c))}else{if(P&&(R=y(r,h,v,T,d,c),R!==0&&!f(u,r)))return!0;E&&(w=g(r,h,p,m,d,c))}return w!==0||R!==0};C.exports=l},21329:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36294),y=function(f,l,o,r,h,u){var a=0,d=l.faceLeft,c=l.faceRight,p=l.collideLeft,v=l.collideRight;return u||(d=!0,c=!0,p=!0,v=!0),f.deltaX()<0&&v&&f.checkCollision.left?c&&f.x<r&&(a=f.x-r,a<-h&&(a=0)):f.deltaX()>0&&p&&f.checkCollision.right&&d&&f.right>o&&(a=f.right-o,a>h&&(a=0)),a!==0&&(f.customSeparateX?f.overlapX=a:g(f,a)),a};C.exports=y},53442:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(67013),y=function(f,l,o,r,h,u){var a=0,d=l.faceTop,c=l.faceBottom,p=l.collideUp,v=l.collideDown;return u||(d=!0,c=!0,p=!0,v=!0),f.deltaY()<0&&v&&f.checkCollision.up?c&&f.y<r&&(a=f.y-r,a<-h&&(a=0)):f.deltaY()>0&&p&&f.checkCollision.down&&d&&f.bottom>o&&(a=f.bottom-o,a>h&&(a=0)),a!==0&&(f.customSeparateY?f.overlapY=a:g(f,a)),a};C.exports=y},2483:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return!(g.right<=s.left||g.bottom<=s.top||g.position.x>=s.right||g.position.y>=s.bottom)};C.exports=A},55173:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={ProcessTileCallbacks:s(96602),ProcessTileSeparationX:s(36294),ProcessTileSeparationY:s(67013),SeparateTile:s(40012),TileCheckX:s(21329),TileCheckY:s(53442),TileIntersectsBody:s(2483)};C.exports=g},44563:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Arcade:s(27064),Matter:s(3875)}},68174:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(26099),f=new g({initialize:function(){this.boundsCenter=new y,this.centerDiff=new y},parseBody:function(l){if(l=l.hasOwnProperty("body")?l.body:l,!l.hasOwnProperty("bounds")||!l.hasOwnProperty("centerOfMass"))return!1;var o=this.boundsCenter,r=this.centerDiff,h=l.bounds.max.x-l.bounds.min.x,u=l.bounds.max.y-l.bounds.min.y,a=h*l.centerOfMass.x,d=u*l.centerOfMass.y;return o.set(h/2,u/2),r.set(a-o.x,d-o.y),!0},getTopLeft:function(l,o,r){if(o===void 0&&(o=0),r===void 0&&(r=0),this.parseBody(l)){var h=this.boundsCenter,u=this.centerDiff;return new y(o+h.x+u.x,r+h.y+u.y)}return!1},getTopCenter:function(l,o,r){if(o===void 0&&(o=0),r===void 0&&(r=0),this.parseBody(l)){var h=this.boundsCenter,u=this.centerDiff;return new y(o+u.x,r+h.y+u.y)}return!1},getTopRight:function(l,o,r){if(o===void 0&&(o=0),r===void 0&&(r=0),this.parseBody(l)){var h=this.boundsCenter,u=this.centerDiff;return new y(o-(h.x-u.x),r+h.y+u.y)}return!1},getLeftCenter:function(l,o,r){if(o===void 0&&(o=0),r===void 0&&(r=0),this.parseBody(l)){var h=this.boundsCenter,u=this.centerDiff;return new y(o+h.x+u.x,r+u.y)}return!1},getCenter:function(l,o,r){if(o===void 0&&(o=0),r===void 0&&(r=0),this.parseBody(l)){var h=this.centerDiff;return new y(o+h.x,r+h.y)}return!1},getRightCenter:function(l,o,r){if(o===void 0&&(o=0),r===void 0&&(r=0),this.parseBody(l)){var h=this.boundsCenter,u=this.centerDiff;return new y(o-(h.x-u.x),r+u.y)}return!1},getBottomLeft:function(l,o,r){if(o===void 0&&(o=0),r===void 0&&(r=0),this.parseBody(l)){var h=this.boundsCenter,u=this.centerDiff;return new y(o+h.x+u.x,r-(h.y-u.y))}return!1},getBottomCenter:function(l,o,r){if(o===void 0&&(o=0),r===void 0&&(r=0),this.parseBody(l)){var h=this.boundsCenter,u=this.centerDiff;return new y(o+u.x,r-(h.y-u.y))}return!1},getBottomRight:function(l,o,r){if(o===void 0&&(o=0),r===void 0&&(r=0),this.parseBody(l)){var h=this.boundsCenter,u=this.centerDiff;return new y(o-(h.x-u.x),r-(h.y-u.y))}return!1}});C.exports=f},19933:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6790);g.Body=s(22562),g.Composite=s(69351),g.World=s(4372),g.Collision=s(52284),g.Detector=s(81388),g.Pairs=s(99561),g.Pair=s(4506),g.Query=s(73296),g.Resolver=s(66272),g.Constraint=s(48140),g.Common=s(53402),g.Engine=s(48413),g.Events=s(35810),g.Sleeping=s(53614),g.Plugin=s(73832),g.Bodies=s(66280),g.Composites=s(74116),g.Axes=s(66615),g.Bounds=s(15647),g.Svg=s(74058),g.Vector=s(31725),g.Vertices=s(41598),g.World.add=g.Composite.add,g.World.remove=g.Composite.remove,g.World.addComposite=g.Composite.addComposite,g.World.addBody=g.Composite.addBody,g.World.addConstraint=g.Composite.addConstraint,g.World.clear=g.Composite.clear,C.exports=g},28137:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(83419),f=s(74116),l=s(48140),o=s(74058),r=s(75803),h=s(23181),u=s(34803),a=s(73834),d=s(19496),c=s(85791),p=s(98713),v=s(41598),m=new y({initialize:function(E){this.world=E,this.scene=E.scene,this.sys=E.scene.sys},rectangle:function(T,E,P,w,R){var L=g.rectangle(T,E,P,w,R);return this.world.add(L),L},trapezoid:function(T,E,P,w,R,L){var O=g.trapezoid(T,E,P,w,R,L);return this.world.add(O),O},circle:function(T,E,P,w,R){var L=g.circle(T,E,P,w,R);return this.world.add(L),L},polygon:function(T,E,P,w,R){var L=g.polygon(T,E,P,w,R);return this.world.add(L),L},fromVertices:function(T,E,P,w,R,L,O){typeof P=="string"&&(P=v.fromPath(P));var I=g.fromVertices(T,E,P,w,R,L,O);return this.world.add(I),I},fromPhysicsEditor:function(T,E,P,w,R){R===void 0&&(R=!0);var L=d.parseBody(T,E,P,w);return R&&!this.world.has(L)&&this.world.add(L),L},fromSVG:function(T,E,P,w,R,L){w===void 0&&(w=1),R===void 0&&(R={}),L===void 0&&(L=!0);for(var O=P.getElementsByTagName("path"),I=[],F=0;F<O.length;F++){var B=o.pathToVertices(O[F],30);w!==1&&v.scale(B,w,w),I.push(B)}var G=g.fromVertices(T,E,I,R);return L&&this.world.add(G),G},fromJSON:function(T,E,P,w,R){w===void 0&&(w={}),R===void 0&&(R=!0);var L=c.parseBody(T,E,P,w);return L&&R&&this.world.add(L),L},imageStack:function(T,E,P,w,R,L,O,I,F){O===void 0&&(O=0),I===void 0&&(I=0),F===void 0&&(F={});var B=this.world,G=this.sys.displayList;F.addToWorld=!1;var z=f.stack(P,w,R,L,O,I,function(Y,J){var $=new h(B,Y,J,T,E,F);return G.add($),$.body});return B.add(z),z},stack:function(T,E,P,w,R,L,O){var I=f.stack(T,E,P,w,R,L,O);return this.world.add(I),I},pyramid:function(T,E,P,w,R,L,O){var I=f.pyramid(T,E,P,w,R,L,O);return this.world.add(I),I},chain:function(T,E,P,w,R,L){return f.chain(T,E,P,w,R,L)},mesh:function(T,E,P,w,R){return f.mesh(T,E,P,w,R)},newtonsCradle:function(T,E,P,w,R){var L=f.newtonsCradle(T,E,P,w,R);return this.world.add(L),L},car:function(T,E,P,w,R){var L=f.car(T,E,P,w,R);return this.world.add(L),L},softBody:function(T,E,P,w,R,L,O,I,F,B){var G=f.softBody(T,E,P,w,R,L,O,I,F,B);return this.world.add(G),G},joint:function(T,E,P,w,R){return this.constraint(T,E,P,w,R)},spring:function(T,E,P,w,R){return this.constraint(T,E,P,w,R)},constraint:function(T,E,P,w,R){w===void 0&&(w=1),R===void 0&&(R={}),R.bodyA=T.type==="body"?T:T.body,R.bodyB=E.type==="body"?E:E.body,isNaN(P)||(R.length=P),R.stiffness=w;var L=l.create(R);return this.world.add(L),L},worldConstraint:function(T,E,P,w){P===void 0&&(P=1),w===void 0&&(w={}),w.bodyB=T.type==="body"?T:T.body,isNaN(E)||(w.length=E),w.stiffness=P;var R=l.create(w);return this.world.add(R),R},mouseSpring:function(T){return this.pointerConstraint(T)},pointerConstraint:function(T){T===void 0&&(T={}),T.hasOwnProperty("render")||(T.render={visible:!1});var E=new p(this.scene,this.world,T);return this.world.add(E.constraint),E},image:function(T,E,P,w,R){var L=new h(this.world,T,E,P,w,R);return this.sys.displayList.add(L),L},tileBody:function(T,E){return new a(this.world,T,E)},sprite:function(T,E,P,w,R){var L=new u(this.world,T,E,P,w,R);return this.sys.displayList.add(L),this.sys.updateList.add(L),L},gameObject:function(T,E,P){return r(this.world,T,E,P)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});C.exports=m},75803:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(31884),y=s(95540),f=s(26099);function l(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}var o=function(r,h,u,a){u===void 0&&(u={}),a===void 0&&(a=!0);var d=h.x,c=h.y;h.body={temp:!0,position:{x:d,y:c}};var p=[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity];if(p.forEach(function(m){for(var T in m)l(m[T])?Object.defineProperty(h,T,{get:m[T].get,set:m[T].set}):Object.defineProperty(h,T,{value:m[T]})}),h.world=r,h._tempVec2=new f(d,c),u.hasOwnProperty("type")&&u.type==="body")h.setExistingBody(u,a);else{var v=y(u,"shape",null);v||(v="rectangle"),u.addToWorld=a,h.setBody(v,u)}return h};C.exports=o},23181:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31884),f=s(95643),l=s(95540),o=s(88571),r=s(72699),h=s(26099),u=new g({Extends:o,Mixins:[y.Bounce,y.Collision,y.Force,y.Friction,y.Gravity,y.Mass,y.Sensor,y.SetBody,y.Sleep,y.Static,y.Transform,y.Velocity,r],initialize:function(d,c,p,v,m,T){f.call(this,d.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,m),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new h(c,p);var E=l(T,"shape",null);E?this.setBody(E,T):this.setRectangle(this.width,this.height,T),this.setPosition(c,p),this.initPipeline(),this.initPostPipeline(!0)}});C.exports=u},42045:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(60461),y=s(66615),f=s(66280),l=s(22562),o=s(68174),r=s(15647),h=s(83419),u=s(52284),a=s(53402),d=s(69351),c=s(74116),p=s(48140),v=s(81388),m=s(20339),T=s(28137),E=s(95540),P=s(35154),w=s(46975),R=s(4506),L=s(99561),O=s(37277),I=s(73296),F=s(66272),B=s(44594),G=s(74058),z=s(31725),Y=s(41598),J=s(68243);a.setDecomp(s(55973));var $=new h({initialize:function(X){this.scene=X,this.systems=X.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=l,this.composite=d,this.collision=u,this.detector=v,this.pair=R,this.pairs=L,this.query=I,this.resolver=F,this.constraint=p,this.bodies=f,this.composites=c,this.axes=y,this.bounds=r,this.svg=G,this.vector=z,this.vertices=Y,this.verts=Y,this._tempVec2=z.create(),F._restingThresh=P(this.config,"restingThresh",4),F._restingThreshTangent=P(this.config,"restingThreshTangent",6),F._positionDampen=P(this.config,"positionDampen",.9),F._positionWarming=P(this.config,"positionWarming",.8),F._frictionNormalMultiplier=P(this.config,"frictionNormalMultiplier",5),X.sys.events.once(B.BOOT,this.boot,this),X.sys.events.on(B.START,this.start,this)},boot:function(){this.world=new J(this.scene,this.config),this.add=new T(this.world),this.bodyBounds=new o,this.systems.events.once(B.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new J(this.scene,this.config),this.add=new T(this.world));var j=this.systems.events;j.on(B.UPDATE,this.world.update,this.world),j.on(B.POST_UPDATE,this.world.postUpdate,this.world),j.once(B.SHUTDOWN,this.shutdown,this)},getConfig:function(){var j=this.systems.game.config.physics,X=this.systems.settings.physics,H=w(E(X,"matter",{}),E(j,"matter",{}));return H},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(j,X){this.world.step(j,X)},containsPoint:function(j,X,H){j=this.getMatterBodies(j);var N=z.create(X,H),Q=I.point(j,N);return Q.length>0},intersectPoint:function(j,X,H){H=this.getMatterBodies(H);var N=z.create(j,X),Q=[],U=I.point(H,N);return U.forEach(function(q){Q.indexOf(q)===-1&&Q.push(q)}),Q},intersectRect:function(j,X,H,N,Q,U){Q===void 0&&(Q=!1),U=this.getMatterBodies(U);var q={min:{x:j,y:X},max:{x:j+H,y:X+N}},et=[],it=I.region(U,q,Q);return it.forEach(function(rt){et.indexOf(rt)===-1&&et.push(rt)}),et},intersectRay:function(j,X,H,N,Q,U){Q===void 0&&(Q=1),U=this.getMatterBodies(U);for(var q=[],et=I.ray(U,z.create(j,X),z.create(H,N),Q),it=0;it<et.length;it++)q.push(et[it].body);return q},intersectBody:function(j,X){X=this.getMatterBodies(X);for(var H=[],N=I.collides(j,X),Q=0;Q<N.length;Q++){var U=N[Q];U.bodyA===j?H.push(U.bodyB):H.push(U.bodyA)}return H},overlap:function(j,X,H,N,Q){H===void 0&&(H=null),N===void 0&&(N=null),Q===void 0&&(Q=H),Array.isArray(j)||(j=[j]),j=this.getMatterBodies(j),X=this.getMatterBodies(X);for(var U=!1,q=0;q<j.length;q++)for(var et=j[q],it=I.collides(et,X),rt=0;rt<it.length;rt++){var lt=it[rt],ft=lt.bodyA.id===et.id?lt.bodyB:lt.bodyA;if(!N||N.call(Q,et,ft,lt)){if(U=!0,H)H.call(Q,et,ft,lt);else if(!N)return!0}}return U},setCollisionCategory:function(j,X){return j=this.getMatterBodies(j),j.forEach(function(H){H.collisionFilter.category=X}),this},setCollisionGroup:function(j,X){return j=this.getMatterBodies(j),j.forEach(function(H){H.collisionFilter.group=X}),this},setCollidesWith:function(j,X){j=this.getMatterBodies(j);var H=0;if(!Array.isArray(X))H=X;else for(var N=0;N<X.length;N++)H|=X[N];return j.forEach(function(Q){Q.collisionFilter.mask=H}),this},getMatterBodies:function(j){if(!j)return this.world.getAllBodies();Array.isArray(j)||(j=[j]);for(var X=[],H=0;H<j.length;H++){var N=j[H].hasOwnProperty("body")?j[H].body:j[H];X.push(N)}return X},setVelocity:function(j,X,H){j=this.getMatterBodies(j);var N=this._tempVec2;return N.x=X,N.y=H,j.forEach(function(Q){l.setVelocity(Q,N)}),this},setVelocityX:function(j,X){j=this.getMatterBodies(j);var H=this._tempVec2;return H.x=X,j.forEach(function(N){H.y=N.velocity.y,l.setVelocity(N,H)}),this},setVelocityY:function(j,X){j=this.getMatterBodies(j);var H=this._tempVec2;return H.y=X,j.forEach(function(N){H.x=N.velocity.x,l.setVelocity(N,H)}),this},setAngularVelocity:function(j,X){return j=this.getMatterBodies(j),j.forEach(function(H){l.setAngularVelocity(H,X)}),this},applyForce:function(j,X){j=this.getMatterBodies(j);var H=this._tempVec2;return j.forEach(function(N){H.x=N.position.x,H.y=N.position.y,l.applyForce(N,H,X)}),this},applyForceFromPosition:function(j,X,H,N){j=this.getMatterBodies(j);var Q=this._tempVec2;return j.forEach(function(U){N===void 0&&(N=U.angle),Q.x=H*Math.cos(N),Q.y=H*Math.sin(N),l.applyForce(U,X,Q)}),this},applyForceFromAngle:function(j,X,H){j=this.getMatterBodies(j);var N=this._tempVec2;return j.forEach(function(Q){H===void 0&&(H=Q.angle),N.x=X*Math.cos(H),N.y=X*Math.sin(H),l.applyForce(Q,{x:Q.position.x,y:Q.position.y},N)}),this},getConstraintLength:function(j){var X=j.pointA.x,H=j.pointA.y,N=j.pointB.x,Q=j.pointB.y;return j.bodyA&&(X+=j.bodyA.position.x,H+=j.bodyA.position.y),j.bodyB&&(N+=j.bodyB.position.x,Q+=j.bodyB.position.y),m(X,H,N,Q)},alignBody:function(j,X,H,N){j=j.hasOwnProperty("body")?j.body:j;var Q;switch(N){case g.TOP_LEFT:case g.LEFT_TOP:Q=this.bodyBounds.getTopLeft(j,X,H);break;case g.TOP_CENTER:Q=this.bodyBounds.getTopCenter(j,X,H);break;case g.TOP_RIGHT:case g.RIGHT_TOP:Q=this.bodyBounds.getTopRight(j,X,H);break;case g.LEFT_CENTER:Q=this.bodyBounds.getLeftCenter(j,X,H);break;case g.CENTER:Q=this.bodyBounds.getCenter(j,X,H);break;case g.RIGHT_CENTER:Q=this.bodyBounds.getRightCenter(j,X,H);break;case g.LEFT_BOTTOM:case g.BOTTOM_LEFT:Q=this.bodyBounds.getBottomLeft(j,X,H);break;case g.BOTTOM_CENTER:Q=this.bodyBounds.getBottomCenter(j,X,H);break;case g.BOTTOM_RIGHT:case g.RIGHT_BOTTOM:Q=this.bodyBounds.getBottomRight(j,X,H);break}return Q&&l.setPosition(j,Q),this},shutdown:function(){var j=this.systems.events;this.world&&(j.off(B.UPDATE,this.world.update,this.world),j.off(B.POST_UPDATE,this.world.postUpdate,this.world)),j.off(B.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(B.START,this.start,this),this.scene=null,this.systems=null}});O.register("MatterPhysics",$,"matterPhysics"),C.exports=$},34803:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(9674),y=s(83419),f=s(31884),l=s(95643),o=s(95540),r=s(72699),h=s(68287),u=s(26099),a=new y({Extends:h,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,r],initialize:function(c,p,v,m,T,E){l.call(this,c.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new g(this),this.setTexture(m,T),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new u(p,v);var P=o(E,"shape",null);P?this.setBody(P,E):this.setRectangle(this.width,this.height,E),this.setPosition(p,v),this.initPipeline(),this.initPostPipeline(!0)}});C.exports=a},73834:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(22562),f=s(83419),l=s(31884),o=s(62644),r=s(50792),h=s(95540),u=s(97022),a=s(41598),d=new f({Extends:r,Mixins:[l.Bounce,l.Collision,l.Friction,l.Gravity,l.Mass,l.Sensor,l.Sleep,l.Static],initialize:function(p,v,m){r.call(this),this.tile=v,this.world=p,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var T=h(m,"body",null),E=h(m,"addToWorld",!0);if(T)this.setBody(T,E);else{var P=v.getCollisionGroup(),w=h(P,"objects",[]);w.length>0?this.setFromTileCollision(m):this.setFromTileRectangle(m)}if(v.flipX||v.flipY){var R={x:v.getCenterX(),y:v.getCenterY()},L=v.flipX?-1:1,O=v.flipY?-1:1;y.scale(T,L,O,R)}},setFromTileRectangle:function(c){c===void 0&&(c={}),u(c,"isStatic")||(c.isStatic=!0),u(c,"addToWorld")||(c.addToWorld=!0);var p=this.tile.getBounds(),v=p.x+p.width/2,m=p.y+p.height/2,T=g.rectangle(v,m,p.width,p.height,c);return this.setBody(T,c.addToWorld),this},setFromTileCollision:function(c){c===void 0&&(c={}),u(c,"isStatic")||(c.isStatic=!0),u(c,"addToWorld")||(c.addToWorld=!0);for(var p=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,m=this.tile.getLeft(),T=this.tile.getTop(),E=this.tile.getCollisionGroup(),P=h(E,"objects",[]),w=[],R=0;R<P.length;R++){var L=P[R],O=m+L.x*p,I=T+L.y*v,F=L.width*p,B=L.height*v,G=null;if(L.rectangle)G=g.rectangle(O+F/2,I+B/2,F,B,c);else if(L.ellipse)G=g.circle(O+F/2,I+B/2,F/2,c);else if(L.polygon||L.polyline){var z=L.polygon?L.polygon:L.polyline,Y=z.map(function(X){return{x:X.x*p,y:X.y*v}}),J=a.create(Y),$=a.centre(J);O+=$.x,I+=$.y,G=g.fromVertices(O,I,J,c)}G&&w.push(G)}if(w.length===1)this.setBody(w[0],c.addToWorld);else if(w.length>1){var j=o(c);j.parts=w,this.setBody(y.create(j),j.addToWorld)}return this},setBody:function(c,p){return p===void 0&&(p=!0),this.body&&this.removeBody(),this.body=c,this.body.gameObject=this,p&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});C.exports=d},19496:(C,A,s)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(22562),f=s(53402),l=s(95540),o=s(41598),r={parseBody:function(h,u,a,d){d===void 0&&(d={});for(var c=l(a,"fixtures",[]),p=[],v=0;v<c.length;v++)for(var m=this.parseFixture(c[v]),T=0;T<m.length;T++)p.push(m[T]);var E=f.clone(a,!0);f.extend(E,d,!0),delete E.fixtures,delete E.type;var P=y.create(E);return y.setParts(P,p),y.setPosition(P,{x:h,y:u}),P},parseFixture:function(h){var u=f.extend({},!1,h);delete u.circle,delete u.vertices;var a;if(h.circle){var d=l(h.circle,"x"),c=l(h.circle,"y"),p=l(h.circle,"radius");a=[g.circle(d,c,p,u)]}else h.vertices&&(a=this.parseVertices(h.vertices,u));return a},parseVertices:function(h,u){u===void 0&&(u={});for(var a=[],d=0;d<h.length;d++)o.clockwiseSort(h[d]),a.push(y.create(f.extend({position:o.centre(h[d]),vertices:h[d]},u)));return g.flagCoincidentParts(a)}};C.exports=r},85791:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(22562),f={parseBody:function(l,o,r,h){h===void 0&&(h={});var u,a=r.vertices;if(a.length===1)h.vertices=a[0],u=y.create(h),g.flagCoincidentParts(u.parts);else{for(var d=[],c=0;c<a.length;c++){var p=y.create({vertices:a[c]});d.push(p)}g.flagCoincidentParts(d),h.parts=d,u=y.create(h)}return u.label=r.label,y.setPosition(u,{x:l,y:o}),u}};C.exports=f},98713:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(15647),y=s(83419),f=s(69351),l=s(48140),o=s(81388),r=s(1121),h=s(8214),u=s(46975),a=s(53614),d=s(26099),c=s(41598),p=new y({initialize:function(m,T,E){E===void 0&&(E={});var P={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=T,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=l.create(u(E,P)),this.world.on(r.BEFORE_UPDATE,this.update,this),m.sys.input.on(h.POINTER_DOWN,this.onDown,this),m.sys.input.on(h.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var m=this.position,T=this.constraint;this.camera.getWorldPoint(v.x,v.y,m);for(var E=f.allBodies(this.world.localWorld),P=0;P<E.length;P++){var w=E[P];if(!w.ignorePointer&&g.contains(w.bounds,m)&&o.canCollide(w.collisionFilter,T.collisionFilter)&&this.hitTestBody(w,m))return this.world.emit(r.DRAG_START,w,this.part,this),!0}return!1},hitTestBody:function(v,m){for(var T=this.constraint,E=v.parts.length,P=E>1?1:0,w=P;w<E;w++){var R=v.parts[w];if(c.contains(R.vertices,m))return T.pointA=m,T.pointB={x:m.x-v.position.x,y:m.y-v.position.y},T.bodyB=v,T.angleB=v.angle,a.set(v,!1),this.part=R,this.body=v,!0}return!1},update:function(){var v=this.pointer,m=this.body;if(!this.active||!v){m&&this.stopDrag();return}if(!v.isDown&&m){this.stopDrag();return}else if(v.isDown){if(!this.camera||!m&&!this.getBody(v))return;m=this.body;var T=this.position,E=this.constraint;this.camera.getWorldPoint(v.x,v.y,T),E.pointA.x=T.x,E.pointA.y=T.y,a.set(m,!1),this.world.emit(r.DRAG,m,this)}},stopDrag:function(){var v=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(r.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(r.BEFORE_UPDATE,this.update),this.scene.sys.input.off(h.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(h.POINTER_UP,this.onUp,this)}});C.exports=p},68243:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(22562),f=s(83419),l=s(53402),o=s(69351),r=s(48413),h=s(50792),u=s(1121),a=s(95540),d=s(35154),c=s(22562),p=s(35810),v=s(73834),m=s(4372),T=s(13037),E=s(31725),P=new f({Extends:h,initialize:function(R,L){h.call(this),this.scene=R,this.engine=r.create(L),this.localWorld=this.engine.world;var O=d(L,"gravity",null);O?this.setGravity(O.x,O.y,O.scale):O===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=d(L,"enabled",!0),this.getDelta=d(L,"getDelta",this.update60Hz);var I=a(L,"runner",{}),F=a(I,"fps",!1);F&&(I.delta=1e3/a(I,"fps",60)),this.runner=T.create(I),this.autoUpdate=d(L,"autoUpdate",!0);var B=d(L,"debug",!1);if(this.drawDebug=typeof B=="object"?!0:B,this.debugGraphic,this.debugConfig={showAxes:a(B,"showAxes",!1),showAngleIndicator:a(B,"showAngleIndicator",!1),angleColor:a(B,"angleColor",15208787),showBroadphase:a(B,"showBroadphase",!1),broadphaseColor:a(B,"broadphaseColor",16757760),showBounds:a(B,"showBounds",!1),boundsColor:a(B,"boundsColor",16777215),showVelocity:a(B,"showVelocity",!1),velocityColor:a(B,"velocityColor",44783),showCollisions:a(B,"showCollisions",!1),collisionColor:a(B,"collisionColor",16094476),showSeparations:a(B,"showSeparations",!1),separationColor:a(B,"separationColor",16753920),showBody:a(B,"showBody",!0),showStaticBody:a(B,"showStaticBody",!0),showInternalEdges:a(B,"showInternalEdges",!1),renderFill:a(B,"renderFill",!1),renderLine:a(B,"renderLine",!0),fillColor:a(B,"fillColor",1075465),fillOpacity:a(B,"fillOpacity",1),lineColor:a(B,"lineColor",2678297),lineOpacity:a(B,"lineOpacity",1),lineThickness:a(B,"lineThickness",1),staticFillColor:a(B,"staticFillColor",857979),staticLineColor:a(B,"staticLineColor",1255396),showSleeping:a(B,"showSleeping",!1),staticBodySleepOpacity:a(B,"staticBodySleepOpacity",.7),sleepFillColor:a(B,"sleepFillColor",4605510),sleepLineColor:a(B,"sleepLineColor",10066585),showSensors:a(B,"showSensors",!0),sensorFillColor:a(B,"sensorFillColor",857979),sensorLineColor:a(B,"sensorLineColor",1255396),showPositions:a(B,"showPositions",!0),positionSize:a(B,"positionSize",4),positionColor:a(B,"positionColor",14697178),showJoint:a(B,"showJoint",!0),jointColor:a(B,"jointColor",14737474),jointLineOpacity:a(B,"jointLineOpacity",1),jointLineThickness:a(B,"jointLineThickness",2),pinSize:a(B,"pinSize",4),pinColor:a(B,"pinColor",4382944),springColor:a(B,"springColor",14697184),anchorColor:a(B,"anchorColor",15724527),anchorSize:a(B,"anchorSize",4),showConvexHulls:a(B,"showConvexHulls",!1),hullColor:a(B,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(L,"setBounds",!1)){var G=L.setBounds;if(typeof G=="boolean")this.setBounds();else{var z=a(G,"x",0),Y=a(G,"y",0),J=a(G,"width",R.sys.scale.width),$=a(G,"height",R.sys.scale.height),j=a(G,"thickness",64),X=a(G,"left",!0),H=a(G,"right",!0),N=a(G,"top",!0),Q=a(G,"bottom",!0);this.setBounds(z,Y,J,$,j,X,H,N,Q)}}},setCompositeRenderStyle:function(w){var R=w.bodies,L=w.constraints,O=w.composites,I,F,B;for(I=0;I<R.length;I++)F=R[I],B=F.render,this.setBodyRenderStyle(F,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity);for(I=0;I<L.length;I++)F=L[I],B=F.render,this.setConstraintRenderStyle(F,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize);for(I=0;I<O.length;I++)F=O[I],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(w,R,L,O,I,F){var B=w.render,G=this.debugConfig;return B?(R==null&&(R=w.isStatic?G.staticLineColor:G.lineColor),L==null&&(L=G.lineOpacity),O==null&&(O=G.lineThickness),I==null&&(I=w.isStatic?G.staticFillColor:G.fillColor),F==null&&(F=G.fillOpacity),R!==!1&&(B.lineColor=R),L!==!1&&(B.lineOpacity=L),O!==!1&&(B.lineThickness=O),I!==!1&&(B.fillColor=I),F!==!1&&(B.fillOpacity=F),this):this},setConstraintRenderStyle:function(w,R,L,O,I,F,B){var G=w.render,z=this.debugConfig;if(!G)return this;if(R==null){var Y=G.type;Y==="line"?R=z.jointColor:Y==="pin"?R=z.pinColor:Y==="spring"&&(R=z.springColor)}return L==null&&(L=z.jointLineOpacity),O==null&&(O=z.jointLineThickness),I==null&&(I=z.pinSize),F==null&&(F=z.anchorColor),B==null&&(B=z.anchorSize),R!==!1&&(G.lineColor=R),L!==!1&&(G.lineOpacity=L),O!==!1&&(G.lineThickness=O),I!==!1&&(G.pinSize=I),F!==!1&&(G.anchorColor=F),B!==!1&&(G.anchorSize=B),this},setEventsProxy:function(){var w=this,R=this.engine,L=this.localWorld;this.drawDebug&&(p.on(L,"compositeModified",function(O){w.setCompositeRenderStyle(O)}),p.on(L,"beforeAdd",function(O){for(var I=[].concat(O.object),F=0;F<I.length;F++){var B=I[F],G=B.render;B.type==="body"?w.setBodyRenderStyle(B,G.lineColor,G.lineOpacity,G.lineThickness,G.fillColor,G.fillOpacity):B.type==="composite"?w.setCompositeRenderStyle(B):B.type==="constraint"&&w.setConstraintRenderStyle(B,G.lineColor,G.lineOpacity,G.lineThickness,G.pinSize,G.anchorColor,G.anchorSize)}})),p.on(L,"beforeAdd",function(O){w.emit(u.BEFORE_ADD,O)}),p.on(L,"afterAdd",function(O){w.emit(u.AFTER_ADD,O)}),p.on(L,"beforeRemove",function(O){w.emit(u.BEFORE_REMOVE,O)}),p.on(L,"afterRemove",function(O){w.emit(u.AFTER_REMOVE,O)}),p.on(R,"beforeUpdate",function(O){w.emit(u.BEFORE_UPDATE,O)}),p.on(R,"afterUpdate",function(O){w.emit(u.AFTER_UPDATE,O)}),p.on(R,"collisionStart",function(O){var I=O.pairs,F,B;I.length>0&&I.map(function(G){F=G.bodyA,B=G.bodyB,F.gameObject&&F.gameObject.emit("collide",F,B,G),B.gameObject&&B.gameObject.emit("collide",B,F,G),p.trigger(F,"onCollide",{pair:G}),p.trigger(B,"onCollide",{pair:G}),F.onCollideCallback&&F.onCollideCallback(G),B.onCollideCallback&&B.onCollideCallback(G),F.onCollideWith[B.id]&&F.onCollideWith[B.id](B,G),B.onCollideWith[F.id]&&B.onCollideWith[F.id](F,G)}),w.emit(u.COLLISION_START,O,F,B)}),p.on(R,"collisionActive",function(O){var I=O.pairs,F,B;I.length>0&&I.map(function(G){F=G.bodyA,B=G.bodyB,F.gameObject&&F.gameObject.emit("collideActive",F,B,G),B.gameObject&&B.gameObject.emit("collideActive",B,F,G),p.trigger(F,"onCollideActive",{pair:G}),p.trigger(B,"onCollideActive",{pair:G}),F.onCollideActiveCallback&&F.onCollideActiveCallback(G),B.onCollideActiveCallback&&B.onCollideActiveCallback(G)}),w.emit(u.COLLISION_ACTIVE,O,F,B)}),p.on(R,"collisionEnd",function(O){var I=O.pairs,F,B;I.length>0&&I.map(function(G){F=G.bodyA,B=G.bodyB,F.gameObject&&F.gameObject.emit("collideEnd",F,B,G),B.gameObject&&B.gameObject.emit("collideEnd",B,F,G),p.trigger(F,"onCollideEnd",{pair:G}),p.trigger(B,"onCollideEnd",{pair:G}),F.onCollideEndCallback&&F.onCollideEndCallback(G),B.onCollideEndCallback&&B.onCollideEndCallback(G)}),w.emit(u.COLLISION_END,O,F,B)})},setBounds:function(w,R,L,O,I,F,B,G,z){return w===void 0&&(w=0),R===void 0&&(R=0),L===void 0&&(L=this.scene.sys.scale.width),O===void 0&&(O=this.scene.sys.scale.height),I===void 0&&(I=64),F===void 0&&(F=!0),B===void 0&&(B=!0),G===void 0&&(G=!0),z===void 0&&(z=!0),this.updateWall(F,"left",w-I,R-I,I,O+I*2),this.updateWall(B,"right",w+L,R-I,I,O+I*2),this.updateWall(G,"top",w,R-I,L,I),this.updateWall(z,"bottom",w,R+O,L,I),this},updateWall:function(w,R,L,O,I,F){var B=this.walls[R];w?(B&&m.remove(this.localWorld,B),L+=I/2,O+=F/2,this.walls[R]=this.create(L,O,I,F,{isStatic:!0,friction:0,frictionStatic:0})):(B&&m.remove(this.localWorld,B),this.walls[R]=null)},createDebugGraphic:function(){var w=this.scene.sys.add.graphics({x:0,y:0});return w.setDepth(Number.MAX_VALUE),this.debugGraphic=w,this.drawDebug=!0,w},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(w,R,L){return w===void 0&&(w=0),R===void 0&&(R=1),L===void 0&&(L=.001),this.localWorld.gravity.x=w,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=L,this},create:function(w,R,L,O,I){var F=g.rectangle(w,R,L,O,I);return m.add(this.localWorld,F),F},add:function(w){return m.add(this.localWorld,w),this},remove:function(w,R){Array.isArray(w)||(w=[w]);for(var L=0;L<w.length;L++){var O=w[L],I=O.body?O.body:O;o.remove(this.localWorld,I,R)}return this},removeConstraint:function(w,R){return o.remove(this.localWorld,w,R),this},convertTilemapLayer:function(w,R){var L=w.layer,O=w.getTilesWithin(0,0,L.width,L.height,{isColliding:!0});return this.convertTiles(O,R),this},convertTiles:function(w,R){if(w.length===0)return this;for(var L=0;L<w.length;L++)new v(this,w[L],R);return this},nextGroup:function(w){return c.nextGroup(w)},nextCategory:function(){return c.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=l.now(),this.emit(u.RESUME),this},update:function(w){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,L=this.runner,O=l.now(),I=L.delta,F=0,B=w-L.timeLastTick;if((!B||!L.timeLastTick||B>Math.max(T._maxFrameDelta,L.maxFrameTime))&&(B=L.frameDelta||T._frameDeltaFallback),L.frameDeltaSmoothing){L.frameDeltaHistory.push(B),L.frameDeltaHistory=L.frameDeltaHistory.slice(-L.frameDeltaHistorySize);var G=L.frameDeltaHistory.slice(0).sort(),z=L.frameDeltaHistory.slice(G.length*T._smoothingLowerBound,G.length*T._smoothingUpperBound),Y=T._mean(z);B=Y||B}L.frameDeltaSnapping&&(B=1e3/Math.round(1e3/B)),L.frameDelta=B,L.timeLastTick=w,L.timeBuffer+=L.frameDelta,L.timeBuffer=l.clamp(L.timeBuffer,0,L.frameDelta+I*T._timeBufferMargin),L.lastUpdatesDeferred=0;for(var J=L.maxUpdates||Math.ceil(L.maxFrameTime/I),$=l.now();I>0&&L.timeBuffer>=I*T._timeBufferMargin;){r.update(R,I),L.timeBuffer-=I,F+=1;var j=l.now()-O,X=l.now()-$,H=j+T._elapsedNextEstimate*X/F;if(F>=J||H>L.maxFrameTime){L.lastUpdatesDeferred=Math.round(Math.max(0,L.timeBuffer/I-T._timeBufferMargin));break}}}},step:function(w){r.update(this.engine,w)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(w){var R=w.hasOwnProperty("body")?w.body:w;return o.get(this.localWorld,R.id,R.type)!==null},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var w=this.debugConfig,R=this.engine,L=this.debugGraphic,O=o.allBodies(this.localWorld);this.debugGraphic.clear(),w.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,L,w.broadphaseColor,.5),w.showBounds&&this.renderBodyBounds(O,L,w.boundsColor,.5),(w.showBody||w.showStaticBody)&&this.renderBodies(O),w.showJoint&&this.renderJoints(),(w.showAxes||w.showAngleIndicator)&&this.renderBodyAxes(O,L,w.showAxes,w.angleColor,.5),w.showVelocity&&this.renderBodyVelocity(O,L,w.velocityColor,1,2),w.showSeparations&&this.renderSeparations(R.pairs.list,L,w.separationColor),w.showCollisions&&this.renderCollisions(R.pairs.list,L,w.collisionColor)}},renderGrid:function(w,R,L,O){R.lineStyle(1,L,O);for(var I=l.keys(w.buckets),F=0;F<I.length;F++){var B=I[F];if(!(w.buckets[B].length<2)){var G=B.split(/C|R/);R.strokeRect(parseInt(G[1],10)*w.bucketWidth,parseInt(G[2],10)*w.bucketHeight,w.bucketWidth,w.bucketHeight)}}return this},renderSeparations:function(w,R,L){R.lineStyle(1,L,1);for(var O=0;O<w.length;O++){var I=w[O];if(I.isActive){var F=I.collision,B=F.bodyA,G=F.bodyB,z=B.position,Y=G.position,J=F.penetration,$=!B.isStatic&&!G.isStatic?4:1;G.isStatic&&($=0),R.lineBetween(Y.x,Y.y,Y.x-J.x*$,Y.y-J.y*$),$=!B.isStatic&&!G.isStatic?4:1,B.isStatic&&($=0),R.lineBetween(z.x,z.y,z.x-J.x*$,z.y-J.y*$)}}return this},renderCollisions:function(w,R,L){R.lineStyle(1,L,.5),R.fillStyle(L,1);var O,I;for(O=0;O<w.length;O++)if(I=w[O],!!I.isActive)for(var F=0;F<I.contactCount;F++){var B=I.contacts[F],G=B.vertex;G&&R.fillRect(G.x-2,G.y-2,5,5)}for(O=0;O<w.length;O++)if(I=w[O],!!I.isActive){var z=I.collision,Y=I.contacts;if(I.contactCount>0){var J=Y[0].vertex.x,$=Y[0].vertex.y;I.contactCount===2&&(J=(Y[0].vertex.x+Y[1].vertex.x)/2,$=(Y[0].vertex.y+Y[1].vertex.y)/2),z.bodyB===z.supports[0].body||z.bodyA.isStatic?R.lineBetween(J-z.normal.x*8,$-z.normal.y*8,J,$):R.lineBetween(J+z.normal.x*8,$+z.normal.y*8,J,$)}}return this},renderBodyBounds:function(w,R,L,O){R.lineStyle(1,L,O);for(var I=0;I<w.length;I++){var F=w[I];if(F.render.visible){var B=F.bounds;if(B)R.strokeRect(B.min.x,B.min.y,B.max.x-B.min.x,B.max.y-B.min.y);else for(var G=F.parts,z=G.length>1?1:0;z<G.length;z++){var Y=G[z];R.strokeRect(Y.bounds.min.x,Y.bounds.min.y,Y.bounds.max.x-Y.bounds.min.x,Y.bounds.max.y-Y.bounds.min.y)}}}return this},renderBodyAxes:function(w,R,L,O,I){R.lineStyle(1,O,I);for(var F=0;F<w.length;F++){var B=w[F],G=B.parts;if(B.render.visible){var z,Y,J;if(L)for(Y=G.length>1?1:0;Y<G.length;Y++)for(z=G[Y],J=0;J<z.axes.length;J++){var $=z.axes[J];R.lineBetween(z.position.x,z.position.y,z.position.x+$.x*20,z.position.y+$.y*20)}else for(Y=G.length>1?1:0;Y<G.length;Y++)for(z=G[Y],J=0;J<z.axes.length;J++)R.lineBetween(z.position.x,z.position.y,(z.vertices[0].x+z.vertices[z.vertices.length-1].x)/2,(z.vertices[0].y+z.vertices[z.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(w,R,L,O,I){R.lineStyle(I,L,O);for(var F=0;F<w.length;F++){var B=w[F];B.render.visible&&R.lineBetween(B.position.x,B.position.y,B.position.x+(B.position.x-B.positionPrev.x)*2,B.position.y+(B.position.y-B.positionPrev.y)*2)}return this},renderBodies:function(w){for(var R=this.debugGraphic,L=this.debugConfig,O=L.showBody,I=L.showStaticBody,F=L.showSleeping,B=L.showInternalEdges,G=L.showConvexHulls,z=L.renderFill,Y=L.renderLine,J=L.staticBodySleepOpacity,$=L.sleepFillColor,j=L.sleepLineColor,X=L.hullColor,H=0;H<w.length;H++){var N=w[H];if(N.render.visible&&!(!I&&N.isStatic||!O&&!N.isStatic)){var Q=N.render.lineColor,U=N.render.lineOpacity,q=N.render.lineThickness,et=N.render.fillColor,it=N.render.fillOpacity;F&&N.isSleeping&&(N.isStatic?(U*=J,it*=J):(Q=j,et=$)),z||(et=null),Y||(Q=null),this.renderBody(N,R,B,Q,U,q,et,it);var rt=N.parts.length;G&&rt>1&&this.renderConvexHull(N,R,X,q)}}},renderBody:function(w,R,L,O,I,F,B,G){O===void 0&&(O=null),I===void 0&&(I=null),F===void 0&&(F=1),B===void 0&&(B=null),G===void 0&&(G=null);for(var z=this.debugConfig,Y=z.sensorFillColor,J=z.sensorLineColor,$=w.parts,j=$.length,X=j>1?1:0;X<j;X++){var H=$[X],N=H.render,Q=N.opacity;if(!(!N.visible||Q===0||H.isSensor&&!z.showSensors)){var U=H.circleRadius;if(R.beginPath(),H.isSensor?(B!==null&&R.fillStyle(Y,G*Q),O!==null&&R.lineStyle(F,J,I*Q)):(B!==null&&R.fillStyle(B,G*Q),O!==null&&R.lineStyle(F,O,I*Q)),U)R.arc(H.position.x,H.position.y,U,0,2*Math.PI);else{var q=H.vertices,et=q.length;R.moveTo(q[0].x,q[0].y);for(var it=1;it<et;it++){var rt=q[it];if(!q[it-1].isInternal||L?R.lineTo(rt.x,rt.y):R.moveTo(rt.x,rt.y),it<et&&rt.isInternal&&!L){var lt=(it+1)%et;R.moveTo(q[lt].x,q[lt].y)}}R.closePath()}B!==null&&R.fillPath(),O!==null&&R.strokePath()}}if(z.showPositions&&!w.isStatic){var ft=w.position.x,gt=w.position.y,vt=Math.ceil(z.positionSize/2);R.fillStyle(z.positionColor,1),R.fillRect(ft-vt,gt-vt,z.positionSize,z.positionSize)}return this},renderConvexHull:function(w,R,L,O){O===void 0&&(O=1);var I=w.parts,F=I.length;if(F>1){var B=w.vertices;R.lineStyle(O,L),R.beginPath(),R.moveTo(B[0].x,B[0].y);for(var G=1;G<B.length;G++)R.lineTo(B[G].x,B[G].y);R.lineTo(B[0].x,B[0].y),R.strokePath()}return this},renderJoints:function(){for(var w=this.debugGraphic,R=o.allConstraints(this.localWorld),L=0;L<R.length;L++){var O=R[L].render,I=O.lineColor,F=O.lineOpacity,B=O.lineThickness,G=O.pinSize,z=O.anchorColor,Y=O.anchorSize;this.renderConstraint(R[L],w,I,F,B,G,z,Y)}},renderConstraint:function(w,R,L,O,I,F,B,G){var z=w.render;if(!z.visible||!w.pointA||!w.pointB)return this;R.lineStyle(I,L,O);var Y=w.bodyA,J=w.bodyB,$,j;if(Y?$=E.add(Y.position,w.pointA):$=w.pointA,z.type==="pin")R.strokeCircle($.x,$.y,F);else{if(J?j=E.add(J.position,w.pointB):j=w.pointB,R.beginPath(),R.moveTo($.x,$.y),z.type==="spring")for(var X=E.sub(j,$),H=E.perp(E.normalise(X)),N=Math.ceil(l.clamp(w.length/5,12,20)),Q,U=1;U<N;U+=1)Q=U%2===0?1:-1,R.lineTo($.x+X.x*(U/N)+H.x*Q*4,$.y+X.y*(U/N)+H.y*Q*4);R.lineTo(j.x,j.y)}return R.strokePath(),z.anchors&&G>0&&(R.fillStyle(B),R.fillCircle($.x,$.y,G),R.fillCircle(j.x,j.y,G)),this},resetCollisionIDs:function(){return y._nextCollidingGroupId=1,y._nextNonCollidingGroupId=-1,y._nextCategory=1,this},shutdown:function(){p.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),r.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});C.exports=P},70410:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setBounce:function(s){return this.body.restitution=s,this}};C.exports=A},66968:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setCollisionCategory:function(s){return this.body.collisionFilter.category=s,this},setCollisionGroup:function(s){return this.body.collisionFilter.group=s,this},setCollidesWith:function(s){var g=0;if(!Array.isArray(s))g=s;else for(var y=0;y<s.length;y++)g|=s[y];return this.body.collisionFilter.mask=g,this},setOnCollide:function(s){return this.body.onCollideCallback=s,this},setOnCollideEnd:function(s){return this.body.onCollideEndCallback=s,this},setOnCollideActive:function(s){return this.body.onCollideActiveCallback=s,this},setOnCollideWith:function(s,g){Array.isArray(s)||(s=[s]);for(var y=0;y<s.length;y++){var f=s[y].hasOwnProperty("body")?s[y].body:s[y];this.body.setOnCollideWith(f,g)}return this}};C.exports=A},51607:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22562),y={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),g.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,l){return g.applyForce(this.body,f,l),this},thrust:function(f){var l=this.body.angle;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),g.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var l=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),g.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var l=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),g.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var l=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),g.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};C.exports=y},5436:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setFriction:function(s,g,y){return this.body.friction=s,g!==void 0&&(this.body.frictionAir=g),y!==void 0&&(this.body.frictionStatic=y),this},setFrictionAir:function(s){return this.body.frictionAir=s,this},setFrictionStatic:function(s){return this.body.frictionStatic=s,this}};C.exports=A},39858:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setIgnoreGravity:function(s){return this.body.ignoreGravity=s,this}};C.exports=A},37302:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22562),y=s(26099),f={setMass:function(l){return g.setMass(this.body,l),this},setDensity:function(l){return g.setDensity(this.body,l),this},centerOfMass:{get:function(){return new y(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};C.exports=f},39132:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};C.exports=A},57772:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(22562),f=s(43855),l=s(95540),o=s(19496),r=s(85791),h=s(41598),u={setRectangle:function(a,d,c){return this.setBody({type:"rectangle",width:a,height:d},c)},setCircle:function(a,d){return this.setBody({type:"circle",radius:a},d)},setPolygon:function(a,d,c){return this.setBody({type:"polygon",sides:d,radius:a},c)},setTrapezoid:function(a,d,c,p){return this.setBody({type:"trapezoid",width:a,height:d,slope:c},p)},setExistingBody:function(a,d){d===void 0&&(d=!0),this.body&&this.world.remove(this.body,!0),this.body=a;for(var c=0;c<a.parts.length;c++)a.parts[c].gameObject=this;var p=this;if(a.destroy=function(){p.world.remove(p.body,!0),p.body.gameObject=null},d&&(this.world.has(a)&&this.world.remove(a,!0),this.world.add(a)),this._originComponent){var v=a.render.sprite.xOffset,m=a.render.sprite.yOffset,T=a.centerOfMass.x,E=a.centerOfMass.y;if(f(T,.5)&&f(E,.5))this.setOrigin(v+.5,m+.5);else{var P=a.centerOffset.x,w=a.centerOffset.y;this.setOrigin(v+P/this.displayWidth,m+w/this.displayHeight)}}return this},setBody:function(a,d){if(!a)return this;var c;typeof a=="string"&&(a={type:a});var p=l(a,"type","rectangle"),v=l(a,"x",this._tempVec2.x),m=l(a,"y",this._tempVec2.y),T=l(a,"width",this.width),E=l(a,"height",this.height);switch(p){case"rectangle":c=g.rectangle(v,m,T,E,d);break;case"circle":var P=l(a,"radius",Math.max(T,E)/2),w=l(a,"maxSides",25);c=g.circle(v,m,P,d,w);break;case"trapezoid":var R=l(a,"slope",.5);c=g.trapezoid(v,m,T,E,R,d);break;case"polygon":var L=l(a,"sides",5),O=l(a,"radius",Math.max(T,E)/2);c=g.polygon(v,m,L,O,d);break;case"fromVertices":case"fromVerts":var I=l(a,"verts",null);if(I)if(typeof I=="string"&&(I=h.fromPath(I)),this.body&&!this.body.hasOwnProperty("temp"))y.setVertices(this.body,I),c=this.body;else{var F=l(a,"flagInternal",!1),B=l(a,"removeCollinear",.01),G=l(a,"minimumArea",10);c=g.fromVertices(v,m,I,d,F,B,G)}break;case"fromPhysicsEditor":c=o.parseBody(v,m,a,d);break;case"fromPhysicsTracer":c=r.parseBody(v,m,a,d);break}return c&&this.setExistingBody(c,a.addToWorld),this}};C.exports=u},38083:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(1121),y=s(53614),f=s(35810),l={setToSleep:function(){return y.set(this.body,!0),this},setAwake:function(){return y.set(this.body,!1),this},setSleepThreshold:function(o){return o===void 0&&(o=60),this.body.sleepThreshold=o,this},setSleepEvents:function(o,r){return this.setSleepStartEvent(o),this.setSleepEndEvent(r),this},setSleepStartEvent:function(o){if(o){var r=this.world;f.on(this.body,"sleepStart",function(h){r.emit(g.SLEEP_START,h,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(o){if(o){var r=this.world;f.on(this.body,"sleepEnd",function(h){r.emit(g.SLEEP_END,h,this)})}else f.off(this.body,"sleepEnd");return this}};C.exports=l},90556:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22562),y={setStatic:function(f){return g.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}};C.exports=y},85436:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22562),y=s(36383),f=s(86554),l=s(30954),o=4,r={x:{get:function(){return this.body.position.x},set:function(h){this._tempVec2.set(h,this.y),g.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(h){this._tempVec2.set(this.x,h),g.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(h){this.setScale(h,h)}},scaleX:{get:function(){return this._scaleX},set:function(h){var u=1/this._scaleX,a=1/this._scaleY;this._scaleX=h,this._scaleX===0?this.renderFlags&=~o:this.renderFlags|=o,g.scale(this.body,u,a),g.scale(this.body,h,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(h){var u=1/this._scaleX,a=1/this._scaleY;this._scaleY=h,this._scaleY===0?this.renderFlags&=~o:this.renderFlags|=o,g.scale(this.body,u,a),g.scale(this.body,this._scaleX,h)}},angle:{get:function(){return l(this.body.angle*y.RAD_TO_DEG)},set:function(h){this.rotation=l(h)*y.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(h){this._rotation=f(h),g.setAngle(this.body,this._rotation)}},setPosition:function(h,u){return h===void 0&&(h=0),u===void 0&&(u=h),this._tempVec2.set(h,u),g.setPosition(this.body,this._tempVec2),this},setRotation:function(h){return h===void 0&&(h=0),this._rotation=f(h),g.setAngle(this.body,h),this},setFixedRotation:function(){return g.setInertia(this.body,1/0),this},setAngle:function(h){return h===void 0&&(h=0),this.angle=h,g.setAngle(this.body,this.rotation),this},setScale:function(h,u,a){h===void 0&&(h=1),u===void 0&&(u=h);var d=1/this._scaleX,c=1/this._scaleY;return this._scaleX=h,this._scaleY=u,g.scale(this.body,d,c,a),g.scale(this.body,h,u,a),this}};C.exports=r},42081:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22562),y={setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),g.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),g.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,l){return this._tempVec2.set(f,l),g.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return g.getVelocity(this.body)},setAngularVelocity:function(f){return g.setAngularVelocity(this.body,f),this},getAngularVelocity:function(){return g.getAngularVelocity(this.body)},setAngularSpeed:function(f){return g.setAngularSpeed(this.body,f),this},getAngularSpeed:function(){return g.getAngularSpeed(this.body)}};C.exports=y},31884:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Bounce:s(70410),Collision:s(66968),Force:s(51607),Friction:s(5436),Gravity:s(39858),Mass:s(37302),Sensor:s(39132),SetBody:s(57772),Sleep:s(38083),Static:s(90556),Transform:s(85436),Velocity:s(42081)}},85608:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="afteradd"},1213:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="afterremove"},25968:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="afterupdate"},67205:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="beforeadd"},39438:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="beforeremove"},44823:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="beforeupdate"},92593:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="collisionactive"},60128:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="collisionend"},76861:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="collisionstart"},92362:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragend"},76408:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="drag"},93971:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragstart"},5656:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},47861:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},79099:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="sleepend"},35906:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="sleepstart"},1121:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AFTER_ADD:s(85608),AFTER_REMOVE:s(1213),AFTER_UPDATE:s(25968),BEFORE_ADD:s(67205),BEFORE_REMOVE:s(39438),BEFORE_UPDATE:s(44823),COLLISION_ACTIVE:s(92593),COLLISION_END:s(60128),COLLISION_START:s(76861),DRAG_END:s(92362),DRAG:s(76408),DRAG_START:s(93971),PAUSE:s(5656),RESUME:s(47861),SLEEP_END:s(79099),SLEEP_START:s(35906)}},3875:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BodyBounds:s(68174),Components:s(31884),Events:s(1121),Factory:s(28137),MatterGameObject:s(75803),Image:s(23181),Matter:s(19933),MatterPhysics:s(42045),PolyDecomp:s(55973),Sprite:s(34803),TileBody:s(73834),PhysicsEditorParser:s(19496),PhysicsJSONParser:s(85791),PointerConstraint:s(98713),World:s(68243)}},22562:(C,A,s)=>{var g={};C.exports=g;var y=s(41598),f=s(31725),l=s(53614),o=s(53402),r=s(15647),h=s(66615);(function(){g._timeCorrection=!0,g._inertiaScale=4,g._nextCollidingGroupId=1,g._nextNonCollidingGroupId=-1,g._nextCategory=1,g._baseDelta=16.666666666666668,g.create=function(a){var d={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:a.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!a.hasOwnProperty("position")&&a.hasOwnProperty("vertices")?a.position=y.centre(a.vertices):a.hasOwnProperty("vertices")||(d.vertices=y.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var c=o.extend(d,a);return u(c,a),c.setOnCollideWith=function(p,v){return v?this.onCollideWith[p.id]=v:delete this.onCollideWith[p.id],this},c},g.nextGroup=function(a){return a?g._nextNonCollidingGroupId--:g._nextCollidingGroupId++},g.nextCategory=function(){return g._nextCategory=g._nextCategory<<1,g._nextCategory};var u=function(a,d){if(d=d||{},g.set(a,{bounds:a.bounds||r.create(a.vertices),positionPrev:a.positionPrev||f.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a}),y.rotate(a.vertices,a.angle,a.position),h.rotate(a.axes,a.angle),r.update(a.bounds,a.vertices,a.velocity),g.set(a,{axes:d.axes||a.axes,area:d.area||a.area,mass:d.mass||a.mass,inertia:d.inertia||a.inertia}),a.parts.length===1){var c=a.bounds,p=a.centerOfMass,v=a.centerOffset,m=c.max.x-c.min.x,T=c.max.y-c.min.y;p.x=-(c.min.x-a.position.x)/m,p.y=-(c.min.y-a.position.y)/T,v.x=m*p.x,v.y=T*p.y}};g.set=function(a,d,c){var p;typeof d=="string"&&(p=d,d={},d[p]=c);for(p in d)if(Object.prototype.hasOwnProperty.call(d,p))switch(c=d[p],p){case"isStatic":g.setStatic(a,c);break;case"isSleeping":l.set(a,c);break;case"mass":g.setMass(a,c);break;case"density":g.setDensity(a,c);break;case"inertia":g.setInertia(a,c);break;case"vertices":g.setVertices(a,c);break;case"position":g.setPosition(a,c);break;case"angle":g.setAngle(a,c);break;case"velocity":g.setVelocity(a,c);break;case"angularVelocity":g.setAngularVelocity(a,c);break;case"speed":g.setSpeed(a,c);break;case"angularSpeed":g.setAngularSpeed(a,c);break;case"parts":g.setParts(a,c);break;case"centre":g.setCentre(a,c);break;default:a[p]=c}},g.setStatic=function(a,d){for(var c=0;c<a.parts.length;c++){var p=a.parts[c];d?(p.isStatic||(p._original={restitution:p.restitution,friction:p.friction,mass:p.mass,inertia:p.inertia,density:p.density,inverseMass:p.inverseMass,inverseInertia:p.inverseInertia}),p.restitution=0,p.friction=1,p.mass=p.inertia=p.density=1/0,p.inverseMass=p.inverseInertia=0,p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.anglePrev=p.angle,p.angularVelocity=0,p.speed=0,p.angularSpeed=0,p.motion=0):p._original&&(p.restitution=p._original.restitution,p.friction=p._original.friction,p.mass=p._original.mass,p.inertia=p._original.inertia,p.density=p._original.density,p.inverseMass=p._original.inverseMass,p.inverseInertia=p._original.inverseInertia,p._original=null),p.isStatic=d}},g.setMass=function(a,d){var c=a.inertia/(a.mass/6);a.inertia=c*(d/6),a.inverseInertia=1/a.inertia,a.mass=d,a.inverseMass=1/a.mass,a.density=a.mass/a.area},g.setDensity=function(a,d){g.setMass(a,d*a.area),a.density=d},g.setInertia=function(a,d){a.inertia=d,a.inverseInertia=1/a.inertia},g.setVertices=function(a,d){d[0].body===a?a.vertices=d:a.vertices=y.create(d,a),a.axes=h.fromVertices(a.vertices),a.area=y.area(a.vertices),g.setMass(a,a.density*a.area);var c=y.centre(a.vertices);y.translate(a.vertices,c,-1),g.setInertia(a,g._inertiaScale*y.inertia(a.vertices,a.mass)),y.translate(a.vertices,a.position),r.update(a.bounds,a.vertices,a.velocity)},g.setParts=function(a,d,c){var p;for(d=d.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,p=0;p<d.length;p++){var v=d[p];v!==a&&(v.parent=a,a.parts.push(v))}if(a.parts.length!==1){if(c=typeof c<"u"?c:!0,c){var m=[];for(p=0;p<d.length;p++)m=m.concat(d[p].vertices);y.clockwiseSort(m);var T=y.hull(m),E=y.centre(T);g.setVertices(a,T),y.translate(a.vertices,E)}var P=g._totalProperties(a),w=P.centre.x,R=P.centre.y,L=a.bounds,O=a.centerOfMass,I=a.centerOffset;r.update(L,a.vertices,a.velocity),O.x=-(L.min.x-w)/(L.max.x-L.min.x),O.y=-(L.min.y-R)/(L.max.y-L.min.y),I.x=w,I.y=R,a.area=P.area,a.parent=a,a.position.x=w,a.position.y=R,a.positionPrev.x=w,a.positionPrev.y=R,g.setMass(a,P.mass),g.setInertia(a,P.inertia),g.setPosition(a,P.centre)}},g.setCentre=function(a,d,c){c?(a.positionPrev.x+=d.x,a.positionPrev.y+=d.y,a.position.x+=d.x,a.position.y+=d.y):(a.positionPrev.x=d.x-(a.position.x-a.positionPrev.x),a.positionPrev.y=d.y-(a.position.y-a.positionPrev.y),a.position.x=d.x,a.position.y=d.y)},g.setPosition=function(a,d,c){var p=f.sub(d,a.position);c?(a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.velocity.x=p.x,a.velocity.y=p.y,a.speed=f.magnitude(p)):(a.positionPrev.x+=p.x,a.positionPrev.y+=p.y);for(var v=0;v<a.parts.length;v++){var m=a.parts[v];m.position.x+=p.x,m.position.y+=p.y,y.translate(m.vertices,p),r.update(m.bounds,m.vertices,a.velocity)}},g.setAngle=function(a,d,c){var p=d-a.angle;c?(a.anglePrev=a.angle,a.angularVelocity=p,a.angularSpeed=Math.abs(p)):a.anglePrev+=p;for(var v=0;v<a.parts.length;v++){var m=a.parts[v];m.angle+=p,y.rotate(m.vertices,p,a.position),h.rotate(m.axes,p),r.update(m.bounds,m.vertices,a.velocity),v>0&&f.rotateAbout(m.position,p,a.position,m.position)}},g.setVelocity=function(a,d){var c=a.deltaTime/g._baseDelta;a.positionPrev.x=a.position.x-d.x*c,a.positionPrev.y=a.position.y-d.y*c,a.velocity.x=(a.position.x-a.positionPrev.x)/c,a.velocity.y=(a.position.y-a.positionPrev.y)/c,a.speed=f.magnitude(a.velocity)},g.getVelocity=function(a){var d=g._baseDelta/a.deltaTime;return{x:(a.position.x-a.positionPrev.x)*d,y:(a.position.y-a.positionPrev.y)*d}},g.getSpeed=function(a){return f.magnitude(g.getVelocity(a))},g.setSpeed=function(a,d){g.setVelocity(a,f.mult(f.normalise(g.getVelocity(a)),d))},g.setAngularVelocity=function(a,d){var c=a.deltaTime/g._baseDelta;a.anglePrev=a.angle-d*c,a.angularVelocity=(a.angle-a.anglePrev)/c,a.angularSpeed=Math.abs(a.angularVelocity)},g.getAngularVelocity=function(a){return(a.angle-a.anglePrev)*g._baseDelta/a.deltaTime},g.getAngularSpeed=function(a){return Math.abs(g.getAngularVelocity(a))},g.setAngularSpeed=function(a,d){g.setAngularVelocity(a,o.sign(g.getAngularVelocity(a))*d)},g.translate=function(a,d,c){g.setPosition(a,f.add(a.position,d),c)},g.rotate=function(a,d,c,p){if(!c)g.setAngle(a,a.angle+d,p);else{var v=Math.cos(d),m=Math.sin(d),T=a.position.x-c.x,E=a.position.y-c.y;g.setPosition(a,{x:c.x+(T*v-E*m),y:c.y+(T*m+E*v)},p),g.setAngle(a,a.angle+d,p)}},g.scale=function(a,d,c,p){var v=0,m=0;p=p||a.position;for(var T=a.inertia===1/0,E=0;E<a.parts.length;E++){var P=a.parts[E];P.scale.x=d,P.scale.y=c,y.scale(P.vertices,d,c,p),P.axes=h.fromVertices(P.vertices),P.area=y.area(P.vertices),g.setMass(P,a.density*P.area),y.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),g.setInertia(P,g._inertiaScale*y.inertia(P.vertices,P.mass)),y.translate(P.vertices,{x:P.position.x,y:P.position.y}),E>0&&(v+=P.area,m+=P.inertia),P.position.x=p.x+(P.position.x-p.x)*d,P.position.y=p.y+(P.position.y-p.y)*c,r.update(P.bounds,P.vertices,a.velocity)}a.parts.length>1&&(a.area=v,a.isStatic||(g.setMass(a,a.density*v),g.setInertia(a,m))),a.circleRadius&&(d===c?a.circleRadius*=d:a.circleRadius=null),T&&g.setInertia(a,1/0)},g.update=function(a,d){d=(typeof d<"u"?d:16.666666666666668)*a.timeScale;var c=d*d,p=g._timeCorrection?d/(a.deltaTime||d):1,v=1-a.frictionAir*(d/o._baseDelta),m=(a.position.x-a.positionPrev.x)*p,T=(a.position.y-a.positionPrev.y)*p;a.velocity.x=m*v+a.force.x/a.mass*c,a.velocity.y=T*v+a.force.y/a.mass*c,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.deltaTime=d,a.angularVelocity=(a.angle-a.anglePrev)*v*p+a.torque/a.inertia*c,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=f.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var E=0;E<a.parts.length;E++){var P=a.parts[E];y.translate(P.vertices,a.velocity),E>0&&(P.position.x+=a.velocity.x,P.position.y+=a.velocity.y),a.angularVelocity!==0&&(y.rotate(P.vertices,a.angularVelocity,a.position),h.rotate(P.axes,a.angularVelocity),E>0&&f.rotateAbout(P.position,a.angularVelocity,a.position,P.position)),r.update(P.bounds,P.vertices,a.velocity)}},g.updateVelocities=function(a){var d=g._baseDelta/a.deltaTime,c=a.velocity;c.x=(a.position.x-a.positionPrev.x)*d,c.y=(a.position.y-a.positionPrev.y)*d,a.speed=Math.sqrt(c.x*c.x+c.y*c.y),a.angularVelocity=(a.angle-a.anglePrev)*d,a.angularSpeed=Math.abs(a.angularVelocity)},g.applyForce=function(a,d,c){var p={x:d.x-a.position.x,y:d.y-a.position.y};a.force.x+=c.x,a.force.y+=c.y,a.torque+=p.x*c.y-p.y*c.x},g._totalProperties=function(a){for(var d={mass:0,area:0,inertia:0,centre:{x:0,y:0}},c=a.parts.length===1?0:1;c<a.parts.length;c++){var p=a.parts[c],v=p.mass!==1/0?p.mass:1;d.mass+=v,d.area+=p.area,d.inertia+=p.inertia,d.centre=f.add(d.centre,f.mult(p.position,v))}return d.centre=f.div(d.centre,d.mass),d},g.wrap=function(a,d){var c=r.wrap(a.bounds,d);return c&&g.translate(a,c),c}})()},69351:(C,A,s)=>{var g={};C.exports=g;var y=s(35810),f=s(53402),l=s(15647),o=s(22562);(function(){g.create=function(r){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},r)},g.setModified=function(r,h,u,a){if(y.trigger(r,"compositeModified",r),r.isModified=h,h&&r.cache&&(r.cache.allBodies=null,r.cache.allConstraints=null,r.cache.allComposites=null),u&&r.parent&&g.setModified(r.parent,h,u,a),a)for(var d=0;d<r.composites.length;d++){var c=r.composites[d];g.setModified(c,h,u,a)}},g.add=function(r,h){var u=[].concat(h);y.trigger(r,"beforeAdd",{object:h});for(var a=0;a<u.length;a++){var d=u[a];switch(d.type){case"body":if(d.parent!==d){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}g.addBody(r,d);break;case"constraint":g.addConstraint(r,d);break;case"composite":g.addComposite(r,d);break;case"mouseConstraint":g.addConstraint(r,d.constraint);break}}return y.trigger(r,"afterAdd",{object:h}),r},g.remove=function(r,h,u){var a=[].concat(h);y.trigger(r,"beforeRemove",{object:h});for(var d=0;d<a.length;d++){var c=a[d];switch(c.type){case"body":g.removeBody(r,c,u);break;case"constraint":g.removeConstraint(r,c,u);break;case"composite":g.removeComposite(r,c,u);break;case"mouseConstraint":g.removeConstraint(r,c.constraint);break}}return y.trigger(r,"afterRemove",{object:h}),r},g.addComposite=function(r,h){return r.composites.push(h),h.parent=r,g.setModified(r,!0,!0,!1),r},g.removeComposite=function(r,h,u){var a=f.indexOf(r.composites,h);if(a!==-1){var d=g.allBodies(h);g.removeCompositeAt(r,a);for(var c=0;c<d.length;c++)d[c].sleepCounter=0}if(u)for(var c=0;c<r.composites.length;c++)g.removeComposite(r.composites[c],h,!0);return r},g.removeCompositeAt=function(r,h){return r.composites.splice(h,1),g.setModified(r,!0,!0,!1),r},g.addBody=function(r,h){return r.bodies.push(h),g.setModified(r,!0,!0,!1),r},g.removeBody=function(r,h,u){var a=f.indexOf(r.bodies,h);if(a!==-1&&(g.removeBodyAt(r,a),h.sleepCounter=0),u)for(var d=0;d<r.composites.length;d++)g.removeBody(r.composites[d],h,!0);return r},g.removeBodyAt=function(r,h){return r.bodies.splice(h,1),g.setModified(r,!0,!0,!1),r},g.addConstraint=function(r,h){return r.constraints.push(h),g.setModified(r,!0,!0,!1),r},g.removeConstraint=function(r,h,u){var a=f.indexOf(r.constraints,h);if(a!==-1&&g.removeConstraintAt(r,a),u)for(var d=0;d<r.composites.length;d++)g.removeConstraint(r.composites[d],h,!0);return r},g.removeConstraintAt=function(r,h){return r.constraints.splice(h,1),g.setModified(r,!0,!0,!1),r},g.clear=function(r,h,u){if(u)for(var a=0;a<r.composites.length;a++)g.clear(r.composites[a],h,!0);return h?r.bodies=r.bodies.filter(function(d){return d.isStatic}):r.bodies.length=0,r.constraints.length=0,r.composites.length=0,g.setModified(r,!0,!0,!1),r},g.allBodies=function(r){if(r.cache&&r.cache.allBodies)return r.cache.allBodies;for(var h=[].concat(r.bodies),u=0;u<r.composites.length;u++)h=h.concat(g.allBodies(r.composites[u]));return r.cache&&(r.cache.allBodies=h),h},g.allConstraints=function(r){if(r.cache&&r.cache.allConstraints)return r.cache.allConstraints;for(var h=[].concat(r.constraints),u=0;u<r.composites.length;u++)h=h.concat(g.allConstraints(r.composites[u]));return r.cache&&(r.cache.allConstraints=h),h},g.allComposites=function(r){if(r.cache&&r.cache.allComposites)return r.cache.allComposites;for(var h=[].concat(r.composites),u=0;u<r.composites.length;u++)h=h.concat(g.allComposites(r.composites[u]));return r.cache&&(r.cache.allComposites=h),h},g.get=function(r,h,u){var a,d;switch(u){case"body":a=g.allBodies(r);break;case"constraint":a=g.allConstraints(r);break;case"composite":a=g.allComposites(r).concat(r);break}return a?(d=a.filter(function(c){return c.id.toString()===h.toString()}),d.length===0?null:d[0]):null},g.move=function(r,h,u){return g.remove(r,h),g.add(u,h),r},g.rebase=function(r){for(var h=g.allBodies(r).concat(g.allConstraints(r)).concat(g.allComposites(r)),u=0;u<h.length;u++)h[u].id=f.nextId();return r},g.translate=function(r,h,u){for(var a=u?g.allBodies(r):r.bodies,d=0;d<a.length;d++)o.translate(a[d],h);return r},g.rotate=function(r,h,u,a){for(var d=Math.cos(h),c=Math.sin(h),p=a?g.allBodies(r):r.bodies,v=0;v<p.length;v++){var m=p[v],T=m.position.x-u.x,E=m.position.y-u.y;o.setPosition(m,{x:u.x+(T*d-E*c),y:u.y+(T*c+E*d)}),o.rotate(m,h)}return r},g.scale=function(r,h,u,a,d){for(var c=d?g.allBodies(r):r.bodies,p=0;p<c.length;p++){var v=c[p],m=v.position.x-a.x,T=v.position.y-a.y;o.setPosition(v,{x:a.x+m*h,y:a.y+T*u}),o.scale(v,h,u)}return r},g.bounds=function(r){for(var h=g.allBodies(r),u=[],a=0;a<h.length;a+=1){var d=h[a];u.push(d.bounds.min,d.bounds.max)}return l.create(u)},g.wrap=function(r,h){var u=l.wrap(g.bounds(r),h);return u&&g.translate(r,u),u}})()},4372:(C,A,s)=>{var g={};C.exports=g;var y=s(69351);(function(){g.create=y.create,g.add=y.add,g.remove=y.remove,g.clear=y.clear,g.addComposite=y.addComposite,g.addBody=y.addBody,g.addConstraint=y.addConstraint})()},52284:(C,A,s)=>{var g={};C.exports=g;var y=s(41598),f=s(4506);(function(){var l=[],o={overlap:0,axis:null},r={overlap:0,axis:null};g.create=function(h,u){return{pair:null,collided:!1,bodyA:h,bodyB:u,parentA:h.parent,parentB:u.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},g.collides=function(h,u,a){if(g._overlapAxes(o,h.vertices,u.vertices,h.axes),o.overlap<=0||(g._overlapAxes(r,u.vertices,h.vertices,u.axes),r.overlap<=0))return null;var d=a&&a.table[f.id(h,u)],c;d?c=d.collision:(c=g.create(h,u),c.collided=!0,c.bodyA=h.id<u.id?h:u,c.bodyB=h.id<u.id?u:h,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent),h=c.bodyA,u=c.bodyB;var p;o.overlap<r.overlap?p=o:p=r;var v=c.normal,m=c.tangent,T=c.penetration,E=c.supports,P=p.overlap,w=p.axis,R=w.x,L=w.y,O=u.position.x-h.position.x,I=u.position.y-h.position.y;R*O+L*I>=0&&(R=-R,L=-L),v.x=R,v.y=L,m.x=-L,m.y=R,T.x=R*P,T.y=L*P,c.depth=P;var F=g._findSupports(h,u,v,1),B=0;if(y.contains(h.vertices,F[0])&&(E[B++]=F[0]),y.contains(h.vertices,F[1])&&(E[B++]=F[1]),B<2){var G=g._findSupports(u,h,v,-1);y.contains(u.vertices,G[0])&&(E[B++]=G[0]),B<2&&y.contains(u.vertices,G[1])&&(E[B++]=G[1])}return B===0&&(E[B++]=F[0]),c.supportCount=B,c},g._overlapAxes=function(h,u,a,d){var c=u.length,p=a.length,v=u[0].x,m=u[0].y,T=a[0].x,E=a[0].y,P=d.length,w=Number.MAX_VALUE,R=0,L,O,I,F,B,G;for(B=0;B<P;B++){var z=d[B],Y=z.x,J=z.y,$=v*Y+m*J,j=T*Y+E*J,X=$,H=j;for(G=1;G<c;G+=1)F=u[G].x*Y+u[G].y*J,F>X?X=F:F<$&&($=F);for(G=1;G<p;G+=1)F=a[G].x*Y+a[G].y*J,F>H?H=F:F<j&&(j=F);if(O=X-j,I=H-$,L=O<I?O:I,L<w&&(w=L,R=B,L<=0))break}h.axis=d[R],h.overlap=w},g._findSupports=function(h,u,a,d){var c=u.vertices,p=c.length,v=h.position.x,m=h.position.y,T=a.x*d,E=a.y*d,P=c[0],w=P,R=T*(v-w.x)+E*(m-w.y),L,O,I;for(I=1;I<p;I+=1)w=c[I],O=T*(v-w.x)+E*(m-w.y),O<R&&(R=O,P=w);return L=c[(p+P.index-1)%p],R=T*(v-L.x)+E*(m-L.y),w=c[(P.index+1)%p],T*(v-w.x)+E*(m-w.y)<R?(l[0]=P,l[1]=w,l):(l[0]=P,l[1]=L,l)}})()},43424:C=>{var A={};C.exports=A,function(){A.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},81388:(C,A,s)=>{var g={};C.exports=g;var y=s(53402),f=s(52284);(function(){g.create=function(l){var o={bodies:[],collisions:[],pairs:null};return y.extend(o,l)},g.setBodies=function(l,o){l.bodies=o.slice(0)},g.clear=function(l){l.bodies=[],l.collisions=[]},g.collisions=function(l){var o=l.pairs,r=l.bodies,h=r.length,u=g.canCollide,a=f.collides,d=l.collisions,c=0,p,v;for(r.sort(g._compareBoundsX),p=0;p<h;p++){var m=r[p],T=m.bounds,E=m.bounds.max.x,P=m.bounds.max.y,w=m.bounds.min.y,R=m.isStatic||m.isSleeping,L=m.parts.length,O=L===1;for(v=p+1;v<h;v++){var I=r[v],F=I.bounds;if(F.min.x>E)break;if(!(P<F.min.y||w>F.max.y)&&!(R&&(I.isStatic||I.isSleeping))&&u(m.collisionFilter,I.collisionFilter)){var B=I.parts.length;if(O&&B===1){var G=a(m,I,o);G&&(d[c++]=G)}else for(var z=L>1?1:0,Y=B>1?1:0,J=z;J<L;J++)for(var $=m.parts[J],T=$.bounds,j=Y;j<B;j++){var X=I.parts[j],F=X.bounds;if(!(T.min.x>F.max.x||T.max.x<F.min.x||T.max.y<F.min.y||T.min.y>F.max.y)){var G=a($,X,o);G&&(d[c++]=G)}}}}}return d.length!==c&&(d.length=c),d},g.canCollide=function(l,o){return l.group===o.group&&l.group!==0?l.group>0:(l.mask&o.category)!==0&&(o.mask&l.category)!==0},g._compareBoundsX=function(l,o){return l.bounds.min.x-o.bounds.min.x}})()},4506:(C,A,s)=>{var g={};C.exports=g;var y=s(43424);(function(){g.create=function(f,l){var o=f.bodyA,r=f.bodyB,h={id:g.id(o,r),bodyA:o,bodyB:r,collision:f,contacts:[y.create(),y.create()],contactCount:0,separation:0,isActive:!0,isSensor:o.isSensor||r.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return g.update(h,f,l),h},g.update=function(f,l,o){var r=l.supports,h=l.supportCount,u=f.contacts,a=l.parentA,d=l.parentB;f.isActive=!0,f.timeUpdated=o,f.collision=l,f.separation=l.depth,f.inverseMass=a.inverseMass+d.inverseMass,f.friction=a.friction<d.friction?a.friction:d.friction,f.frictionStatic=a.frictionStatic>d.frictionStatic?a.frictionStatic:d.frictionStatic,f.restitution=a.restitution>d.restitution?a.restitution:d.restitution,f.slop=a.slop>d.slop?a.slop:d.slop,f.contactCount=h,l.pair=f;var c=r[0],p=u[0],v=r[1],m=u[1];(m.vertex===c||p.vertex===v)&&(u[1]=p,u[0]=p=m,m=u[1]),p.vertex=c,m.vertex=v},g.setActive=function(f,l,o){l?(f.isActive=!0,f.timeUpdated=o):(f.isActive=!1,f.contactCount=0)},g.id=function(f,l){return f.id<l.id?f.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+f.id.toString(36)}})()},99561:(C,A,s)=>{var g={};C.exports=g;var y=s(4506),f=s(53402);(function(){g.create=function(l){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},g.update=function(l,o,r){var h=y.update,u=y.create,a=y.setActive,d=l.table,c=l.list,p=c.length,v=p,m=l.collisionStart,T=l.collisionEnd,E=l.collisionActive,P=o.length,w=0,R=0,L=0,O,I,F;for(F=0;F<P;F++)O=o[F],I=O.pair,I?(I.isActive&&(E[L++]=I),h(I,O,r)):(I=u(O,r),d[I.id]=I,m[w++]=I,c[v++]=I);for(v=0,p=c.length,F=0;F<p;F++)I=c[F],I.timeUpdated>=r?c[v++]=I:(a(I,!1,r),I.collision.bodyA.sleepCounter>0&&I.collision.bodyB.sleepCounter>0?c[v++]=I:(T[R++]=I,delete d[I.id]));c.length!==v&&(c.length=v),m.length!==w&&(m.length=w),T.length!==R&&(T.length=R),E.length!==L&&(E.length=L)},g.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},73296:(C,A,s)=>{var g={};C.exports=g;var y=s(31725),f=s(52284),l=s(15647),o=s(66280),r=s(41598);(function(){g.collides=function(h,u){for(var a=[],d=u.length,c=h.bounds,p=f.collides,v=l.overlaps,m=0;m<d;m++){var T=u[m],E=T.parts.length,P=E===1?0:1;if(h!==T&&v(T.bounds,c))for(var w=P;w<E;w++){var R=T.parts[w];if(v(R.bounds,c)){var L=p(R,h);if(L){a.push(L);break}}}}return a},g.ray=function(h,u,a,d){d=d||1e-100;for(var c=y.angle(u,a),p=y.magnitude(y.sub(u,a)),v=(a.x+u.x)*.5,m=(a.y+u.y)*.5,T=o.rectangle(v,m,p,d,{angle:c}),E=g.collides(T,h),P=0;P<E.length;P+=1){var w=E[P];w.body=w.bodyB=w.bodyA}return E},g.region=function(h,u,a){for(var d=[],c=0;c<h.length;c++){var p=h[c],v=l.overlaps(p.bounds,u);(v&&!a||!v&&a)&&d.push(p)}return d},g.point=function(h,u){for(var a=[],d=0;d<h.length;d++){var c=h[d];if(l.contains(c.bounds,u))for(var p=c.parts.length===1?0:1;p<c.parts.length;p++){var v=c.parts[p];if(l.contains(v.bounds,u)&&r.contains(v.vertices,u)){a.push(c);break}}}return a}})()},66272:(C,A,s)=>{var g={};C.exports=g;var y=s(41598),f=s(53402),l=s(15647);(function(){g._restingThresh=2,g._restingThreshTangent=Math.sqrt(6),g._positionDampen=.9,g._positionWarming=.8,g._frictionNormalMultiplier=5,g._frictionMaxStatic=Number.MAX_VALUE,g.preSolvePosition=function(o){var r,h,u,a=o.length;for(r=0;r<a;r++)h=o[r],h.isActive&&(u=h.contactCount,h.collision.parentA.totalContacts+=u,h.collision.parentB.totalContacts+=u)},g.solvePosition=function(o,r,h){var u,a,d,c,p,v,m,T,E=g._positionDampen*(h||1),P=f.clamp(r/f._baseDelta,0,1),w=o.length;for(u=0;u<w;u++)a=o[u],!(!a.isActive||a.isSensor)&&(d=a.collision,c=d.parentA,p=d.parentB,v=d.normal,a.separation=d.depth+v.x*(p.positionImpulse.x-c.positionImpulse.x)+v.y*(p.positionImpulse.y-c.positionImpulse.y));for(u=0;u<w;u++)a=o[u],!(!a.isActive||a.isSensor)&&(d=a.collision,c=d.parentA,p=d.parentB,v=d.normal,T=a.separation-a.slop*P,(c.isStatic||p.isStatic)&&(T*=2),c.isStatic||c.isSleeping||(m=E/c.totalContacts,c.positionImpulse.x+=v.x*T*m,c.positionImpulse.y+=v.y*T*m),p.isStatic||p.isSleeping||(m=E/p.totalContacts,p.positionImpulse.x-=v.x*T*m,p.positionImpulse.y-=v.y*T*m))},g.postSolvePosition=function(o){for(var r=g._positionWarming,h=o.length,u=y.translate,a=l.update,d=0;d<h;d++){var c=o[d],p=c.positionImpulse,v=p.x,m=p.y,T=c.velocity;if(c.totalContacts=0,v!==0||m!==0){for(var E=0;E<c.parts.length;E++){var P=c.parts[E];u(P.vertices,p),a(P.bounds,P.vertices,T),P.position.x+=v,P.position.y+=m}c.positionPrev.x+=v,c.positionPrev.y+=m,v*T.x+m*T.y<0?(p.x=0,p.y=0):(p.x*=r,p.y*=r)}}},g.preSolveVelocity=function(o){var r=o.length,h,u;for(h=0;h<r;h++){var a=o[h];if(!(!a.isActive||a.isSensor)){var d=a.contacts,c=a.contactCount,p=a.collision,v=p.parentA,m=p.parentB,T=p.normal,E=p.tangent;for(u=0;u<c;u++){var P=d[u],w=P.vertex,R=P.normalImpulse,L=P.tangentImpulse;if(R!==0||L!==0){var O=T.x*R+E.x*L,I=T.y*R+E.y*L;v.isStatic||v.isSleeping||(v.positionPrev.x+=O*v.inverseMass,v.positionPrev.y+=I*v.inverseMass,v.anglePrev+=v.inverseInertia*((w.x-v.position.x)*I-(w.y-v.position.y)*O)),m.isStatic||m.isSleeping||(m.positionPrev.x-=O*m.inverseMass,m.positionPrev.y-=I*m.inverseMass,m.anglePrev-=m.inverseInertia*((w.x-m.position.x)*I-(w.y-m.position.y)*O))}}}}},g.solveVelocity=function(o,r){var h=r/f._baseDelta,u=h*h,a=u*h,d=-g._restingThresh*h,c=g._restingThreshTangent,p=g._frictionNormalMultiplier*h,v=g._frictionMaxStatic,m=o.length,T,E,P,w;for(P=0;P<m;P++){var R=o[P];if(!(!R.isActive||R.isSensor)){var L=R.collision,O=L.parentA,I=L.parentB,F=L.normal.x,B=L.normal.y,G=L.tangent.x,z=L.tangent.y,Y=R.inverseMass,J=R.friction*R.frictionStatic*p,$=R.contacts,j=R.contactCount,X=1/j,H=O.position.x-O.positionPrev.x,N=O.position.y-O.positionPrev.y,Q=O.angle-O.anglePrev,U=I.position.x-I.positionPrev.x,q=I.position.y-I.positionPrev.y,et=I.angle-I.anglePrev;for(w=0;w<j;w++){var it=$[w],rt=it.vertex,lt=rt.x-O.position.x,ft=rt.y-O.position.y,gt=rt.x-I.position.x,vt=rt.y-I.position.y,xt=H-ft*Q,yt=N+lt*Q,Ct=U-vt*et,Rt=q+gt*et,bt=xt-Ct,Lt=yt-Rt,St=F*bt+B*Lt,Et=G*bt+z*Lt,Mt=R.separation+St,Vt=Math.min(Mt,1);Vt=Mt<0?0:Vt;var Kt=Vt*J;Et<-Kt||Et>Kt?(E=Et>0?Et:-Et,T=R.friction*(Et>0?1:-1)*a,T<-E?T=-E:T>E&&(T=E)):(T=Et,E=v);var oe=lt*B-ft*F,Jt=gt*B-vt*F,Qt=X/(Y+O.inverseInertia*oe*oe+I.inverseInertia*Jt*Jt),fe=(1+R.restitution)*St*Qt;if(T*=Qt,St<d)it.normalImpulse=0;else{var be=it.normalImpulse;it.normalImpulse+=fe,it.normalImpulse>0&&(it.normalImpulse=0),fe=it.normalImpulse-be}if(Et<-c||Et>c)it.tangentImpulse=0;else{var $t=it.tangentImpulse;it.tangentImpulse+=T,it.tangentImpulse<-E&&(it.tangentImpulse=-E),it.tangentImpulse>E&&(it.tangentImpulse=E),T=it.tangentImpulse-$t}var le=F*fe+G*T,kt=B*fe+z*T;O.isStatic||O.isSleeping||(O.positionPrev.x+=le*O.inverseMass,O.positionPrev.y+=kt*O.inverseMass,O.anglePrev+=(lt*kt-ft*le)*O.inverseInertia),I.isStatic||I.isSleeping||(I.positionPrev.x-=le*I.inverseMass,I.positionPrev.y-=kt*I.inverseMass,I.anglePrev-=(gt*kt-vt*le)*I.inverseInertia)}}}}})()},48140:(C,A,s)=>{var g={};C.exports=g;var y=s(41598),f=s(31725),l=s(53614),o=s(15647),r=s(66615),h=s(53402);(function(){g._warming=.4,g._torqueDampen=1,g._minLength=1e-6,g.create=function(u){var a=u;a.bodyA&&!a.pointA&&(a.pointA={x:0,y:0}),a.bodyB&&!a.pointB&&(a.pointB={x:0,y:0});var d=a.bodyA?f.add(a.bodyA.position,a.pointA):a.pointA,c=a.bodyB?f.add(a.bodyB.position,a.pointB):a.pointB,p=f.magnitude(f.sub(d,c));a.length=typeof a.length<"u"?a.length:p,a.id=a.id||h.nextId(),a.label=a.label||"Constraint",a.type="constraint",a.stiffness=a.stiffness||(a.length>0?1:.7),a.damping=a.damping||0,a.angularStiffness=a.angularStiffness||0,a.angleA=a.bodyA?a.bodyA.angle:a.angleA,a.angleB=a.bodyB?a.bodyB.angle:a.angleB,a.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return a.length===0&&a.stiffness>.1?(v.type="pin",v.anchors=!1):a.stiffness<.9&&(v.type="spring"),a.render=h.extend(v,a.render),a},g.preSolveAll=function(u){for(var a=0;a<u.length;a+=1){var d=u[a],c=d.constraintImpulse;d.isStatic||c.x===0&&c.y===0&&c.angle===0||(d.position.x+=c.x,d.position.y+=c.y,d.angle+=c.angle)}},g.solveAll=function(u,a){for(var d=h.clamp(a/h._baseDelta,0,1),c=0;c<u.length;c+=1){var p=u[c],v=!p.bodyA||p.bodyA&&p.bodyA.isStatic,m=!p.bodyB||p.bodyB&&p.bodyB.isStatic;(v||m)&&g.solve(u[c],d)}for(c=0;c<u.length;c+=1)p=u[c],v=!p.bodyA||p.bodyA&&p.bodyA.isStatic,m=!p.bodyB||p.bodyB&&p.bodyB.isStatic,!v&&!m&&g.solve(u[c],d)},g.solve=function(u,a){var d=u.bodyA,c=u.bodyB,p=u.pointA,v=u.pointB;if(!(!d&&!c)){d&&!d.isStatic&&(f.rotate(p,d.angle-u.angleA,p),u.angleA=d.angle),c&&!c.isStatic&&(f.rotate(v,c.angle-u.angleB,v),u.angleB=c.angle);var m=p,T=v;if(d&&(m=f.add(d.position,p)),c&&(T=f.add(c.position,v)),!(!m||!T)){var E=f.sub(m,T),P=f.magnitude(E);P<g._minLength&&(P=g._minLength);var w=(P-u.length)/P,R=u.stiffness>=1||u.length===0,L=R?u.stiffness*a:u.stiffness*a*a,O=u.damping*a,I=f.mult(E,w*L),F=(d?d.inverseMass:0)+(c?c.inverseMass:0),B=(d?d.inverseInertia:0)+(c?c.inverseInertia:0),G=F+B,z,Y,J,$,j;if(O>0){var X=f.create();J=f.div(E,P),j=f.sub(c&&f.sub(c.position,c.positionPrev)||X,d&&f.sub(d.position,d.positionPrev)||X),$=f.dot(J,j)}d&&!d.isStatic&&(Y=d.inverseMass/F,d.constraintImpulse.x-=I.x*Y,d.constraintImpulse.y-=I.y*Y,d.position.x-=I.x*Y,d.position.y-=I.y*Y,O>0&&(d.positionPrev.x-=O*J.x*$*Y,d.positionPrev.y-=O*J.y*$*Y),z=f.cross(p,I)/G*g._torqueDampen*d.inverseInertia*(1-u.angularStiffness),d.constraintImpulse.angle-=z,d.angle-=z),c&&!c.isStatic&&(Y=c.inverseMass/F,c.constraintImpulse.x+=I.x*Y,c.constraintImpulse.y+=I.y*Y,c.position.x+=I.x*Y,c.position.y+=I.y*Y,O>0&&(c.positionPrev.x+=O*J.x*$*Y,c.positionPrev.y+=O*J.y*$*Y),z=f.cross(v,I)/G*g._torqueDampen*c.inverseInertia*(1-u.angularStiffness),c.constraintImpulse.angle+=z,c.angle+=z)}}},g.postSolveAll=function(u){for(var a=0;a<u.length;a++){var d=u[a],c=d.constraintImpulse;if(!(d.isStatic||c.x===0&&c.y===0&&c.angle===0)){l.set(d,!1);for(var p=0;p<d.parts.length;p++){var v=d.parts[p];y.translate(v.vertices,c),p>0&&(v.position.x+=c.x,v.position.y+=c.y),c.angle!==0&&(y.rotate(v.vertices,c.angle,d.position),r.rotate(v.axes,c.angle),p>0&&f.rotateAbout(v.position,c.angle,d.position,v.position)),o.update(v.bounds,v.vertices,d.velocity)}c.angle*=g._warming,c.x*=g._warming,c.y*=g._warming}}},g.pointAWorld=function(u){return{x:(u.bodyA?u.bodyA.position.x:0)+(u.pointA?u.pointA.x:0),y:(u.bodyA?u.bodyA.position.y:0)+(u.pointA?u.pointA.y:0)}},g.pointBWorld=function(u){return{x:(u.bodyB?u.bodyB.position.x:0)+(u.pointB?u.pointB.x:0),y:(u.bodyB?u.bodyB.position.y:0)+(u.pointB?u.pointB.y:0)}},g.currentLength=function(u){var a=(u.bodyA?u.bodyA.position.x:0)+(u.pointA?u.pointA.x:0),d=(u.bodyA?u.bodyA.position.y:0)+(u.pointA?u.pointA.y:0),c=(u.bodyB?u.bodyB.position.x:0)+(u.pointB?u.pointB.x:0),p=(u.bodyB?u.bodyB.position.y:0)+(u.pointB?u.pointB.y:0),v=a-c,m=d-p;return Math.sqrt(v*v+m*m)}})()},53402:(C,A,s)=>{var g={};C.exports=g,function(){g._baseDelta=16.666666666666668,g._nextId=0,g._seed=0,g._nowStartTime=+new Date,g._warnedOnce={},g._decomp=null,g.extend=function(f,l){var o,r;typeof l=="boolean"?(o=2,r=l):(o=1,r=!0);for(var h=o;h<arguments.length;h++){var u=arguments[h];if(u)for(var a in u)r&&u[a]&&u[a].constructor===Object&&(!f[a]||f[a].constructor===Object)?(f[a]=f[a]||{},g.extend(f[a],r,u[a])):f[a]=u[a]}return f},g.clone=function(f,l){return g.extend({},l,f)},g.keys=function(f){if(Object.keys)return Object.keys(f);var l=[];for(var o in f)l.push(o);return l},g.values=function(f){var l=[];if(Object.keys){for(var o=Object.keys(f),r=0;r<o.length;r++)l.push(f[o[r]]);return l}for(var h in f)l.push(f[h]);return l},g.get=function(f,l,o,r){l=l.split(".").slice(o,r);for(var h=0;h<l.length;h+=1)f=f[l[h]];return f},g.set=function(f,l,o,r,h){var u=l.split(".").slice(r,h);return g.get(f,l,0,-1)[u[u.length-1]]=o,o},g.shuffle=function(f){for(var l=f.length-1;l>0;l--){var o=Math.floor(g.random()*(l+1)),r=f[l];f[l]=f[o],f[o]=r}return f},g.choose=function(f){return f[Math.floor(g.random()*f.length)]},g.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},g.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},g.isFunction=function(f){return typeof f=="function"},g.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},g.isString=function(f){return toString.call(f)==="[object String]"},g.clamp=function(f,l,o){return f<l?l:f>o?o:f},g.sign=function(f){return f<0?-1:1},g.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-g._nowStartTime},g.random=function(f,l){return f=typeof f<"u"?f:0,l=typeof l<"u"?l:1,f+y()*(l-f)};var y=function(){return g._seed=(g._seed*9301+49297)%233280,g._seed/233280};g.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},g.logLevel=1,g.log=function(){console&&g.logLevel>0&&g.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},g.info=function(){console&&g.logLevel>0&&g.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},g.warn=function(){console&&g.logLevel>0&&g.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},g.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");g._warnedOnce[f]||(g.warn(f),g._warnedOnce[f]=!0)},g.deprecated=function(f,l,o){f[l]=g.chain(function(){g.warnOnce("🔅 deprecated 🔅",o)},f[l])},g.nextId=function(){return g._nextId++},g.indexOf=function(f,l){if(f.indexOf)return f.indexOf(l);for(var o=0;o<f.length;o++)if(f[o]===l)return o;return-1},g.map=function(f,l){if(f.map)return f.map(l);for(var o=[],r=0;r<f.length;r+=1)o.push(l(f[r]));return o},g.topologicalSort=function(f){var l=[],o=[],r=[];for(var h in f)!o[h]&&!r[h]&&g._topologicalSort(h,o,r,f,l);return l},g._topologicalSort=function(f,l,o,r,h){var u=r[f]||[];o[f]=!0;for(var a=0;a<u.length;a+=1){var d=u[a];o[d]||l[d]||g._topologicalSort(d,l,o,r,h)}o[f]=!1,l[f]=!0,h.push(f)},g.chain=function(){for(var f=[],l=0;l<arguments.length;l+=1){var o=arguments[l];o._chained?f.push.apply(f,o._chained):f.push(o)}var r=function(){for(var h,u=new Array(arguments.length),a=0,d=arguments.length;a<d;a++)u[a]=arguments[a];for(a=0;a<f.length;a+=1){var c=f[a].apply(h,u);typeof c<"u"&&(h=c)}return h};return r._chained=f,r},g.chainPathBefore=function(f,l,o){return g.set(f,l,g.chain(o,g.get(f,l)))},g.chainPathAfter=function(f,l,o){return g.set(f,l,g.chain(g.get(f,l),o))},g.setDecomp=function(f){g._decomp=f},g.getDecomp=function(){var f=g._decomp;try{!f&&typeof window<"u"&&(f=window.decomp),!f&&typeof s.g<"u"&&(f=s.g.decomp)}catch{f=null}return f}}()},48413:(C,A,s)=>{var g={};C.exports=g;var y=s(53614),f=s(66272),l=s(81388),o=s(99561),r=s(35810),h=s(69351),u=s(48140),a=s(53402),d=s(22562);(function(){g._deltaMax=16.666666666666668,g.create=function(c){c=c||{};var p={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=a.extend(p,c);return v.world=c.world||h.create({label:"World"}),v.pairs=c.pairs||o.create(),v.detector=c.detector||l.create(),v.detector.pairs=v.pairs,v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},g.update=function(c,p){var v=a.now(),m=c.world,T=c.detector,E=c.pairs,P=c.timing,w=P.timestamp,R;p>g._deltaMax&&a.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",g._deltaMax.toFixed(3),"ms."),p=typeof p<"u"?p:a._baseDelta,p*=P.timeScale,P.timestamp+=p,P.lastDelta=p;var L={timestamp:P.timestamp,delta:p};r.trigger(c,"beforeUpdate",L);var O=h.allBodies(m),I=h.allConstraints(m),F=h.allComposites(m);for(m.isModified&&(l.setBodies(T,O),h.setModified(m,!1,!1,!0)),c.enableSleeping&&y.update(O,p),g._bodiesApplyGravity(O,c.gravity),g.wrap(O,F),g.attractors(O),p>0&&g._bodiesUpdate(O,p),r.trigger(c,"beforeSolve",L),u.preSolveAll(O),R=0;R<c.constraintIterations;R++)u.solveAll(I,p);u.postSolveAll(O);var B=l.collisions(T);o.update(E,B,w),c.enableSleeping&&y.afterCollisions(E.list),E.collisionStart.length>0&&r.trigger(c,"collisionStart",{pairs:E.collisionStart,timestamp:P.timestamp,delta:p});var G=a.clamp(20/c.positionIterations,0,1);for(f.preSolvePosition(E.list),R=0;R<c.positionIterations;R++)f.solvePosition(E.list,p,G);for(f.postSolvePosition(O),u.preSolveAll(O),R=0;R<c.constraintIterations;R++)u.solveAll(I,p);for(u.postSolveAll(O),f.preSolveVelocity(E.list),R=0;R<c.velocityIterations;R++)f.solveVelocity(E.list,p);return g._bodiesUpdateVelocities(O),E.collisionActive.length>0&&r.trigger(c,"collisionActive",{pairs:E.collisionActive,timestamp:P.timestamp,delta:p}),E.collisionEnd.length>0&&r.trigger(c,"collisionEnd",{pairs:E.collisionEnd,timestamp:P.timestamp,delta:p}),g._bodiesClearForces(O),r.trigger(c,"afterUpdate",L),c.timing.lastElapsed=a.now()-v,c},g.merge=function(c,p){if(a.extend(c,p),p.world){c.world=p.world,g.clear(c);for(var v=h.allBodies(c.world),m=0;m<v.length;m++){var T=v[m];y.set(T,!1),T.id=a.nextId()}}},g.clear=function(c){o.clear(c.pairs),l.clear(c.detector)},g._bodiesClearForces=function(c){for(var p=c.length,v=0;v<p;v++){var m=c[v];m.force.x=0,m.force.y=0,m.torque=0}},g._bodiesApplyGravity=function(c,p){var v=typeof p.scale<"u"?p.scale:.001,m=c.length;if(!(p.x===0&&p.y===0||v===0))for(var T=0;T<m;T++){var E=c[T];E.ignoreGravity||E.isStatic||E.isSleeping||(E.force.y+=E.mass*p.y*v,E.force.x+=E.mass*p.x*v)}},g._bodiesUpdate=function(c,p){for(var v=c.length,m=0;m<v;m++){var T=c[m];T.isStatic||T.isSleeping||d.update(T,p)}},g._bodiesUpdateVelocities=function(c){for(var p=c.length,v=0;v<p;v++)d.updateVelocities(c[v])},g.wrap=function(c,p){for(var v=0;v<c.length;v+=1){var m=c[v];m.wrapBounds!==null&&d.wrap(m,m.wrapBounds)}for(v=0;v<p.length;v+=1){var T=p[v];T.wrapBounds!==null&&h.wrap(T,T.wrapBounds)}},g.attractors=function(c){for(var p=0;p<c.length;p++){var v=c[p],m=v.attractors;if(m&&m.length>0)for(var T=0;T<c.length;T++){var E=c[T];if(p!==T)for(var P=0;P<m.length;P++){var w=m[P],R=w;a.isFunction(w)&&(R=w(v,E)),R&&d.applyForce(E,E.position,R)}}}}})()},35810:(C,A,s)=>{var g={};C.exports=g;var y=s(53402);(function(){g.on=function(f,l,o){for(var r=l.split(" "),h,u=0;u<r.length;u++)h=r[u],f.events=f.events||{},f.events[h]=f.events[h]||[],f.events[h].push(o);return o},g.off=function(f,l,o){if(!l){f.events={};return}typeof l=="function"&&(o=l,l=y.keys(f.events).join(" "));for(var r=l.split(" "),h=0;h<r.length;h++){var u=f.events[r[h]],a=[];if(o&&u)for(var d=0;d<u.length;d++)u[d]!==o&&a.push(u[d]);f.events[r[h]]=a}},g.trigger=function(f,l,o){var r,h,u,a,d=f.events;if(d&&y.keys(d).length>0){o||(o={}),r=l.split(" ");for(var c=0;c<r.length;c++)if(h=r[c],u=d[h],u){a=y.clone(o,!1),a.name=h,a.source=f;for(var p=0;p<u.length;p++)u[p].apply(f,[a])}}}})()},6790:(C,A,s)=>{var g={};C.exports=g;var y=s(73832),f=s(53402);(function(){g.name="matter-js",g.version="0.20.0",g.uses=[],g.used=[],g.use=function(){y.use(g,Array.prototype.slice.call(arguments))},g.before=function(l,o){return l=l.replace(/^Matter./,""),f.chainPathBefore(g,l,o)},g.after=function(l,o){return l=l.replace(/^Matter./,""),f.chainPathAfter(g,l,o)}})()},73832:(C,A,s)=>{var g={};C.exports=g;var y=s(53402);(function(){g._registry={},g.register=function(f){if(g.isPlugin(f)||y.warn("Plugin.register:",g.toString(f),"does not implement all required fields."),f.name in g._registry){var l=g._registry[f.name],o=g.versionParse(f.version).number,r=g.versionParse(l.version).number;o>r?(y.warn("Plugin.register:",g.toString(l),"was upgraded to",g.toString(f)),g._registry[f.name]=f):o<r?y.warn("Plugin.register:",g.toString(l),"can not be downgraded to",g.toString(f)):f!==l&&y.warn("Plugin.register:",g.toString(f),"is already registered to different plugin object")}else g._registry[f.name]=f;return f},g.resolve=function(f){return g._registry[g.dependencyParse(f).name]},g.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},g.isPlugin=function(f){return f&&f.name&&f.version&&f.install},g.isUsed=function(f,l){return f.used.indexOf(l)>-1},g.isFor=function(f,l){var o=f.for&&g.dependencyParse(f.for);return!f.for||l.name===o.name&&g.versionSatisfies(l.version,o.range)},g.use=function(f,l){if(f.uses=(f.uses||[]).concat(l||[]),f.uses.length===0){y.warn("Plugin.use:",g.toString(f),"does not specify any dependencies to install.");return}for(var o=g.dependencies(f),r=y.topologicalSort(o),h=[],u=0;u<r.length;u+=1)if(r[u]!==f.name){var a=g.resolve(r[u]);if(!a){h.push("❌ "+r[u]);continue}g.isUsed(f,a.name)||(g.isFor(a,f)||(y.warn("Plugin.use:",g.toString(a),"is for",a.for,"but installed on",g.toString(f)+"."),a._warned=!0),a.install?a.install(f):(y.warn("Plugin.use:",g.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(h.push("🔶 "+g.toString(a)),delete a._warned):h.push("✅ "+g.toString(a)),f.used.push(a.name))}h.length>0&&!a.silent&&y.info(h.join("  "))},g.dependencies=function(f,l){var o=g.dependencyParse(f),r=o.name;if(l=l||{},!(r in l)){f=g.resolve(f)||f,l[r]=y.map(f.uses||[],function(u){g.isPlugin(u)&&g.register(u);var a=g.dependencyParse(u),d=g.resolve(u);return d&&!g.versionSatisfies(d.version,a.range)?(y.warn("Plugin.dependencies:",g.toString(d),"does not satisfy",g.toString(a),"used by",g.toString(o)+"."),d._warned=!0,f._warned=!0):d||(y.warn("Plugin.dependencies:",g.toString(u),"used by",g.toString(o),"could not be resolved."),f._warned=!0),a.name});for(var h=0;h<l[r].length;h+=1)g.dependencies(l[r][h],l);return l}},g.dependencyParse=function(f){if(y.isString(f)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(f)||y.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},g.versionParse=function(f){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(f)||y.warn("Plugin.versionParse:",f,"is not a valid version or range.");var o=l.exec(f),r=Number(o[4]),h=Number(o[5]),u=Number(o[6]);return{isRange:!!(o[1]||o[2]),version:o[3],range:f,operator:o[1]||o[2]||"",major:r,minor:h,patch:u,parts:[r,h,u],prerelease:o[7],number:r*1e8+h*1e4+u}},g.versionSatisfies=function(f,l){l=l||"*";var o=g.versionParse(l),r=g.versionParse(f);if(o.isRange){if(o.operator==="*"||f==="*")return!0;if(o.operator===">")return r.number>o.number;if(o.operator===">=")return r.number>=o.number;if(o.operator==="~")return r.major===o.major&&r.minor===o.minor&&r.patch>=o.patch;if(o.operator==="^")return o.major>0?r.major===o.major&&r.number>=o.number:o.minor>0?r.minor===o.minor&&r.patch>=o.patch:r.patch===o.patch}return f===l||f==="*"}})()},13037:(C,A,s)=>{var g={};C.exports=g;var y=s(35810),f=s(48413),l=s(53402);(function(){g._maxFrameDelta=66.66666666666667,g._frameDeltaFallback=16.666666666666668,g._timeBufferMargin=1.5,g._elapsedNextEstimate=1,g._smoothingLowerBound=.1,g._smoothingUpperBound=.9,g.create=function(r){var h={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},u=l.extend(h,r);return u.fps=0,u},g.run=function(r,h){return r.timeBuffer=g._frameDeltaFallback,function u(a){r.frameRequestId=g._onNextFrame(r,u),a&&r.enabled&&g.tick(r,h,a)}(),r},g.tick=function(r,h,u){var a=l.now(),d=r.delta,c=0,p=u-r.timeLastTick;if((!p||!r.timeLastTick||p>Math.max(g._maxFrameDelta,r.maxFrameTime))&&(p=r.frameDelta||g._frameDeltaFallback),r.frameDeltaSmoothing){r.frameDeltaHistory.push(p),r.frameDeltaHistory=r.frameDeltaHistory.slice(-r.frameDeltaHistorySize);var v=r.frameDeltaHistory.slice(0).sort(),m=r.frameDeltaHistory.slice(v.length*g._smoothingLowerBound,v.length*g._smoothingUpperBound),T=o(m);p=T||p}r.frameDeltaSnapping&&(p=1e3/Math.round(1e3/p)),r.frameDelta=p,r.timeLastTick=u,r.timeBuffer+=r.frameDelta,r.timeBuffer=l.clamp(r.timeBuffer,0,r.frameDelta+d*g._timeBufferMargin),r.lastUpdatesDeferred=0;var E=r.maxUpdates||Math.ceil(r.maxFrameTime/d),P={timestamp:h.timing.timestamp};y.trigger(r,"beforeTick",P),y.trigger(r,"tick",P);for(var w=l.now();d>0&&r.timeBuffer>=d*g._timeBufferMargin;){y.trigger(r,"beforeUpdate",P),f.update(h,d),y.trigger(r,"afterUpdate",P),r.timeBuffer-=d,c+=1;var R=l.now()-a,L=l.now()-w,O=R+g._elapsedNextEstimate*L/c;if(c>=E||O>r.maxFrameTime){r.lastUpdatesDeferred=Math.round(Math.max(0,r.timeBuffer/d-g._timeBufferMargin));break}}h.timing.lastUpdatesPerFrame=c,y.trigger(r,"afterTick",P),r.frameDeltaHistory.length>=100&&(r.lastUpdatesDeferred&&Math.round(r.frameDelta/d)>E?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):r.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof r.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(r.deltaMin||r.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),r.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},g.stop=function(r){g._cancelNextFrame(r)},g._onNextFrame=function(r,h){if(typeof window<"u"&&window.requestAnimationFrame)r.frameRequestId=window.requestAnimationFrame(h);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return r.frameRequestId},g._cancelNextFrame=function(r){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(r.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var o=function(r){for(var h=0,u=r.length,a=0;a<u;a+=1)h+=r[a];return h/u||0};g._mean=o})()},53614:(C,A,s)=>{var g={};C.exports=g;var y=s(22562),f=s(35810),l=s(53402);(function(){g._motionWakeThreshold=.18,g._motionSleepThreshold=.08,g._minBias=.9,g.update=function(o,r){for(var h=r/l._baseDelta,u=g._motionSleepThreshold,a=0;a<o.length;a++){var d=o[a],c=y.getSpeed(d),p=y.getAngularSpeed(d),v=c*c+p*p;if(d.force.x!==0||d.force.y!==0){g.set(d,!1);continue}var m=Math.min(d.motion,v),T=Math.max(d.motion,v);d.motion=g._minBias*m+(1-g._minBias)*T,d.sleepThreshold>0&&d.motion<u?(d.sleepCounter+=1,d.sleepCounter>=d.sleepThreshold/h&&g.set(d,!0)):d.sleepCounter>0&&(d.sleepCounter-=1)}},g.afterCollisions=function(o){for(var r=g._motionSleepThreshold,h=0;h<o.length;h++){var u=o[h];if(u.isActive){var a=u.collision,d=a.bodyA.parent,c=a.bodyB.parent;if(!(d.isSleeping&&c.isSleeping||d.isStatic||c.isStatic)&&(d.isSleeping||c.isSleeping)){var p=d.isSleeping&&!d.isStatic?d:c,v=p===d?c:d;!p.isStatic&&v.motion>r&&g.set(p,!1)}}}},g.set=function(o,r){var h=o.isSleeping;r?(o.isSleeping=!0,o.sleepCounter=o.sleepThreshold,o.positionImpulse.x=0,o.positionImpulse.y=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.speed=0,o.angularSpeed=0,o.motion=0,h||f.trigger(o,"sleepStart")):(o.isSleeping=!1,o.sleepCounter=0,h&&f.trigger(o,"sleepEnd"))}})()},66280:(C,A,s)=>{var g={};C.exports=g;var y=s(41598),f=s(53402),l=s(22562),o=s(15647),r=s(31725);(function(){g.rectangle=function(h,u,a,d,c){c=c||{};var p={label:"Rectangle Body",position:{x:h,y:u},vertices:y.fromPath("L 0 0 L "+a+" 0 L "+a+" "+d+" L 0 "+d)};if(c.chamfer){var v=c.chamfer;p.vertices=y.chamfer(p.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete c.chamfer}return l.create(f.extend({},p,c))},g.trapezoid=function(h,u,a,d,c,p){p=p||{},c>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),c*=.5;var v=(1-c*2)*a,m=a*c,T=m+v,E=T+m,P;c<.5?P="L 0 0 L "+m+" "+-d+" L "+T+" "+-d+" L "+E+" 0":P="L 0 0 L "+T+" "+-d+" L "+E+" 0";var w={label:"Trapezoid Body",position:{x:h,y:u},vertices:y.fromPath(P)};if(p.chamfer){var R=p.chamfer;w.vertices=y.chamfer(w.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete p.chamfer}return l.create(f.extend({},w,p))},g.circle=function(h,u,a,d,c){d=d||{};var p={label:"Circle Body",circleRadius:a};c=c||25;var v=Math.ceil(Math.max(10,Math.min(c,a)));return v%2===1&&(v+=1),g.polygon(h,u,v,a,f.extend({},p,d))},g.polygon=function(h,u,a,d,c){if(c=c||{},a<3)return g.circle(h,u,d,c);for(var p=2*Math.PI/a,v="",m=p*.5,T=0;T<a;T+=1){var E=m+T*p,P=Math.cos(E)*d,w=Math.sin(E)*d;v+="L "+P.toFixed(3)+" "+w.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:h,y:u},vertices:y.fromPath(v)};if(c.chamfer){var L=c.chamfer;R.vertices=y.chamfer(R.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete c.chamfer}return l.create(f.extend({},R,c))},g.fromVertices=function(h,u,a,d,c,p,v,m){var T=f.getDecomp(),E,P,w,R,L,O,I,F,B,G,z;for(E=!!(T&&T.quickDecomp),d=d||{},w=[],c=typeof c<"u"?c:!1,p=typeof p<"u"?p:.01,v=typeof v<"u"?v:10,m=typeof m<"u"?m:.01,f.isArray(a[0])||(a=[a]),G=0;G<a.length;G+=1)if(O=a[G],R=y.isConvex(O),L=!R,L&&!E&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!E)R?O=y.clockwiseSort(O):O=y.hull(O),w.push({position:{x:h,y:u},vertices:O});else{var Y=O.map(function(it){return[it.x,it.y]});T.makeCCW(Y),p!==!1&&T.removeCollinearPoints(Y,p),m!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(Y,m);var J=T.quickDecomp(Y);for(I=0;I<J.length;I++){var $=J[I],j=$.map(function(it){return{x:it[0],y:it[1]}});v>0&&y.area(j)<v||w.push({position:y.centre(j),vertices:j})}}for(I=0;I<w.length;I++)w[I]=l.create(f.extend(w[I],d));if(c){var X=5;for(I=0;I<w.length;I++){var H=w[I];for(F=I+1;F<w.length;F++){var N=w[F];if(o.overlaps(H.bounds,N.bounds)){var Q=H.vertices,U=N.vertices;for(B=0;B<H.vertices.length;B++)for(z=0;z<N.vertices.length;z++){var q=r.magnitudeSquared(r.sub(Q[(B+1)%Q.length],U[z])),et=r.magnitudeSquared(r.sub(Q[B],U[(z+1)%U.length]));q<X&&et<X&&(Q[B].isInternal=!0,U[z].isInternal=!0)}}}}}return w.length>1?(P=l.create(f.extend({parts:w.slice(0)},d)),l.setPosition(P,{x:h,y:u}),P):w[0]},g.flagCoincidentParts=function(h,u){u===void 0&&(u=5);for(var a=0;a<h.length;a++)for(var d=h[a],c=a+1;c<h.length;c++){var p=h[c];if(o.overlaps(d.bounds,p.bounds))for(var v=d.vertices,m=p.vertices,T=0;T<d.vertices.length;T++)for(var E=0;E<p.vertices.length;E++){var P=r.magnitudeSquared(r.sub(v[(T+1)%v.length],m[E])),w=r.magnitudeSquared(r.sub(v[T],m[(E+1)%m.length]));P<u&&w<u&&(v[T].isInternal=!0,m[E].isInternal=!0)}}return h}})()},74116:(C,A,s)=>{var g={};C.exports=g;var y=s(69351),f=s(48140),l=s(53402),o=s(22562),r=s(66280);(function(){g.stack=function(h,u,a,d,c,p,v){for(var m=y.create({label:"Stack"}),T=h,E=u,P,w=0,R=0;R<d;R++){for(var L=0,O=0;O<a;O++){var I=v(T,E,O,R,P,w);if(I){var F=I.bounds.max.y-I.bounds.min.y,B=I.bounds.max.x-I.bounds.min.x;F>L&&(L=F),o.translate(I,{x:B*.5,y:F*.5}),T=I.bounds.max.x+c,y.addBody(m,I),P=I,w+=1}else T+=c}E+=L+p,T=h}return m},g.chain=function(h,u,a,d,c,p){for(var v=h.bodies,m=1;m<v.length;m++){var T=v[m-1],E=v[m],P=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,R=E.bounds.max.y-E.bounds.min.y,L=E.bounds.max.x-E.bounds.min.x,O={bodyA:T,pointA:{x:w*u,y:P*a},bodyB:E,pointB:{x:L*d,y:R*c}},I=l.extend(O,p);y.addConstraint(h,f.create(I))}return h.label+=" Chain",h},g.mesh=function(h,u,a,d,c){var p=h.bodies,v,m,T,E,P;for(v=0;v<a;v++){for(m=1;m<u;m++)T=p[m-1+v*u],E=p[m+v*u],y.addConstraint(h,f.create(l.extend({bodyA:T,bodyB:E},c)));if(v>0)for(m=0;m<u;m++)T=p[m+(v-1)*u],E=p[m+v*u],y.addConstraint(h,f.create(l.extend({bodyA:T,bodyB:E},c))),d&&m>0&&(P=p[m-1+(v-1)*u],y.addConstraint(h,f.create(l.extend({bodyA:P,bodyB:E},c)))),d&&m<u-1&&(P=p[m+1+(v-1)*u],y.addConstraint(h,f.create(l.extend({bodyA:P,bodyB:E},c))))}return h.label+=" Mesh",h},g.pyramid=function(h,u,a,d,c,p,v){return g.stack(h,u,a,d,c,p,function(m,T,E,P,w,R){var L=Math.min(d,Math.ceil(a/2)),O=w?w.bounds.max.x-w.bounds.min.x:0;if(!(P>L)){P=L-P;var I=P,F=a-1-P;if(!(E<I||E>F)){R===1&&o.translate(w,{x:(E+(a%2===1?1:-1))*O,y:0});var B=w?E*O:0;return v(h+B+E*c,T,E,P,w,R)}}})},g.newtonsCradle=function(h,u,a,d,c){for(var p=y.create({label:"Newtons Cradle"}),v=0;v<a;v++){var m=1.9,T=r.circle(h+v*(d*m),u+c,d,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),E=f.create({pointA:{x:h+v*(d*m),y:u},bodyB:T});y.addBody(p,T),y.addConstraint(p,E)}return p},g.car=function(h,u,a,d,c){var p=o.nextGroup(!0),v=20,m=-a*.5+v,T=a*.5-v,E=0,P=y.create({label:"Car"}),w=r.rectangle(h,u,a,d,{collisionFilter:{group:p},chamfer:{radius:d*.5},density:2e-4}),R=r.circle(h+m,u+E,c,{collisionFilter:{group:p},friction:.8}),L=r.circle(h+T,u+E,c,{collisionFilter:{group:p},friction:.8}),O=f.create({bodyB:w,pointB:{x:m,y:E},bodyA:R,stiffness:1,length:0}),I=f.create({bodyB:w,pointB:{x:T,y:E},bodyA:L,stiffness:1,length:0});return y.addBody(P,w),y.addBody(P,R),y.addBody(P,L),y.addConstraint(P,O),y.addConstraint(P,I),P},g.softBody=function(h,u,a,d,c,p,v,m,T,E){T=l.extend({inertia:1/0},T),E=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},E);var P=g.stack(h,u,a,d,c,p,function(w,R){return r.circle(w,R,m,T)});return g.mesh(P,a,d,v,E),P.label="Soft Body",P}})()},66615:(C,A,s)=>{var g={};C.exports=g;var y=s(31725),f=s(53402);(function(){g.fromVertices=function(l){for(var o={},r=0;r<l.length;r++){var h=(r+1)%l.length,u=y.normalise({x:l[h].y-l[r].y,y:l[r].x-l[h].x}),a=u.y===0?1/0:u.x/u.y;a=a.toFixed(3).toString(),o[a]=u}return f.values(o)},g.rotate=function(l,o){if(o!==0)for(var r=Math.cos(o),h=Math.sin(o),u=0;u<l.length;u++){var a=l[u],d;d=a.x*r-a.y*h,a.y=a.x*h+a.y*r,a.x=d}}})()},15647:C=>{var A={};C.exports=A,function(){A.create=function(s){var g={min:{x:0,y:0},max:{x:0,y:0}};return s&&A.update(g,s),g},A.update=function(s,g,y){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var f=0;f<g.length;f++){var l=g[f];l.x>s.max.x&&(s.max.x=l.x),l.x<s.min.x&&(s.min.x=l.x),l.y>s.max.y&&(s.max.y=l.y),l.y<s.min.y&&(s.min.y=l.y)}y&&(y.x>0?s.max.x+=y.x:s.min.x+=y.x,y.y>0?s.max.y+=y.y:s.min.y+=y.y)},A.contains=function(s,g){return g.x>=s.min.x&&g.x<=s.max.x&&g.y>=s.min.y&&g.y<=s.max.y},A.overlaps=function(s,g){return s.min.x<=g.max.x&&s.max.x>=g.min.x&&s.max.y>=g.min.y&&s.min.y<=g.max.y},A.translate=function(s,g){s.min.x+=g.x,s.max.x+=g.x,s.min.y+=g.y,s.max.y+=g.y},A.shift=function(s,g){var y=s.max.x-s.min.x,f=s.max.y-s.min.y;s.min.x=g.x,s.max.x=g.x+y,s.min.y=g.y,s.max.y=g.y+f},A.wrap=function(s,g,y){var f=null,l=null;if(typeof g.min.x<"u"&&typeof g.max.x<"u"&&(s.min.x>g.max.x?f=g.min.x-s.max.x:s.max.x<g.min.x&&(f=g.max.x-s.min.x)),typeof g.min.y<"u"&&typeof g.max.y<"u"&&(s.min.y>g.max.y?l=g.min.y-s.max.y:s.max.y<g.min.y&&(l=g.max.y-s.min.y)),f!==null||l!==null)return{x:f||0,y:l||0}}}()},74058:(C,A,s)=>{var g={};C.exports=g,s(15647);var y=s(53402);(function(){g.pathToVertices=function(f,l){typeof window<"u"&&!("SVGPathSeg"in window)&&y.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var o,r,h,u,a,d,c,p,v,m,T=[],E,P,w=0,R=0,L=0;l=l||15;var O=function(F,B,G){var z=G%2===1&&G>1;if(!v||F!=v.x||B!=v.y){v&&z?(E=v.x,P=v.y):(E=0,P=0);var Y={x:E+F,y:P+B};(z||!v)&&(v=Y),T.push(Y),R=E+F,L=P+B}},I=function(F){var B=F.pathSegTypeAsLetter.toUpperCase();if(B!=="Z"){switch(B){case"M":case"L":case"T":case"C":case"S":case"Q":R=F.x,L=F.y;break;case"H":R=F.x;break;case"V":L=F.y;break}O(R,L,F.pathSegType)}};for(g._svgPathToAbsolute(f),h=f.getTotalLength(),d=[],o=0;o<f.pathSegList.numberOfItems;o+=1)d.push(f.pathSegList.getItem(o));for(c=d.concat();w<h;){if(m=f.getPathSegAtLength(w),a=d[m],a!=p){for(;c.length&&c[0]!=a;)I(c.shift());p=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":u=f.getPointAtLength(w),O(u.x,u.y,0);break}w+=l}for(o=0,r=c.length;o<r;++o)I(c[o]);return T},g._svgPathToAbsolute=function(f){for(var l,o,r,h,u,a,d=f.pathSegList,c=0,p=0,v=d.numberOfItems,m=0;m<v;++m){var T=d.getItem(m),E=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in T&&(c=T.x),"y"in T&&(p=T.y);else switch("x1"in T&&(r=c+T.x1),"x2"in T&&(u=c+T.x2),"y1"in T&&(h=p+T.y1),"y2"in T&&(a=p+T.y2),"x"in T&&(c+=T.x),"y"in T&&(p+=T.y),E){case"m":d.replaceItem(f.createSVGPathSegMovetoAbs(c,p),m);break;case"l":d.replaceItem(f.createSVGPathSegLinetoAbs(c,p),m);break;case"h":d.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(c),m);break;case"v":d.replaceItem(f.createSVGPathSegLinetoVerticalAbs(p),m);break;case"c":d.replaceItem(f.createSVGPathSegCurvetoCubicAbs(c,p,r,h,u,a),m);break;case"s":d.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(c,p,u,a),m);break;case"q":d.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(c,p,r,h),m);break;case"t":d.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(c,p),m);break;case"a":d.replaceItem(f.createSVGPathSegArcAbs(c,p,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),m);break;case"z":case"Z":c=l,p=o;break}(E=="M"||E=="m")&&(l=c,o=p)}}})()},31725:C=>{var A={};C.exports=A,function(){A.create=function(s,g){return{x:s||0,y:g||0}},A.clone=function(s){return{x:s.x,y:s.y}},A.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},A.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},A.rotate=function(s,g,y){var f=Math.cos(g),l=Math.sin(g);y||(y={});var o=s.x*f-s.y*l;return y.y=s.x*l+s.y*f,y.x=o,y},A.rotateAbout=function(s,g,y,f){var l=Math.cos(g),o=Math.sin(g);f||(f={});var r=y.x+((s.x-y.x)*l-(s.y-y.y)*o);return f.y=y.y+((s.x-y.x)*o+(s.y-y.y)*l),f.x=r,f},A.normalise=function(s){var g=A.magnitude(s);return g===0?{x:0,y:0}:{x:s.x/g,y:s.y/g}},A.dot=function(s,g){return s.x*g.x+s.y*g.y},A.cross=function(s,g){return s.x*g.y-s.y*g.x},A.cross3=function(s,g,y){return(g.x-s.x)*(y.y-s.y)-(g.y-s.y)*(y.x-s.x)},A.add=function(s,g,y){return y||(y={}),y.x=s.x+g.x,y.y=s.y+g.y,y},A.sub=function(s,g,y){return y||(y={}),y.x=s.x-g.x,y.y=s.y-g.y,y},A.mult=function(s,g){return{x:s.x*g,y:s.y*g}},A.div=function(s,g){return{x:s.x/g,y:s.y/g}},A.perp=function(s,g){return g=g===!0?-1:1,{x:g*-s.y,y:g*s.x}},A.neg=function(s){return{x:-s.x,y:-s.y}},A.angle=function(s,g){return Math.atan2(g.y-s.y,g.x-s.x)},A._temp=[A.create(),A.create(),A.create(),A.create(),A.create(),A.create()]}()},41598:(C,A,s)=>{var g={};C.exports=g;var y=s(31725),f=s(53402);(function(){g.create=function(l,o){for(var r=[],h=0;h<l.length;h++){var u=l[h],a={x:u.x,y:u.y,index:h,body:o,isInternal:!1};r.push(a)}return r},g.fromPath=function(l,o){var r=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,h=[];return l.replace(r,function(u,a,d){h.push({x:parseFloat(a),y:parseFloat(d)})}),g.create(h,o)},g.centre=function(l){for(var o=g.area(l,!0),r={x:0,y:0},h,u,a,d=0;d<l.length;d++)a=(d+1)%l.length,h=y.cross(l[d],l[a]),u=y.mult(y.add(l[d],l[a]),h),r=y.add(r,u);return y.div(r,6*o)},g.mean=function(l){for(var o={x:0,y:0},r=0;r<l.length;r++)o.x+=l[r].x,o.y+=l[r].y;return y.div(o,l.length)},g.area=function(l,o){for(var r=0,h=l.length-1,u=0;u<l.length;u++)r+=(l[h].x-l[u].x)*(l[h].y+l[u].y),h=u;return o?r/2:Math.abs(r)/2},g.inertia=function(l,o){for(var r=0,h=0,u=l,a,d,c=0;c<u.length;c++)d=(c+1)%u.length,a=Math.abs(y.cross(u[d],u[c])),r+=a*(y.dot(u[d],u[d])+y.dot(u[d],u[c])+y.dot(u[c],u[c])),h+=a;return o/6*(r/h)},g.translate=function(l,o,r){r=typeof r<"u"?r:1;var h=l.length,u=o.x*r,a=o.y*r,d;for(d=0;d<h;d++)l[d].x+=u,l[d].y+=a;return l},g.rotate=function(l,o,r){if(o!==0){var h=Math.cos(o),u=Math.sin(o),a=r.x,d=r.y,c=l.length,p,v,m,T;for(T=0;T<c;T++)p=l[T],v=p.x-a,m=p.y-d,p.x=a+(v*h-m*u),p.y=d+(v*u+m*h);return l}},g.contains=function(l,o){for(var r=o.x,h=o.y,u=l.length,a=l[u-1],d,c=0;c<u;c++){if(d=l[c],(r-a.x)*(d.y-a.y)+(h-a.y)*(a.x-d.x)>0)return!1;a=d}return!0},g.scale=function(l,o,r,h){if(o===1&&r===1)return l;h=h||g.centre(l);for(var u,a,d=0;d<l.length;d++)u=l[d],a=y.sub(u,h),l[d].x=h.x+a.x*o,l[d].y=h.y+a.y*r;return l},g.chamfer=function(l,o,r,h,u){typeof o=="number"?o=[o]:o=o||[8],r=typeof r<"u"?r:-1,h=h||2,u=u||14;for(var a=[],d=0;d<l.length;d++){var c=l[d-1>=0?d-1:l.length-1],p=l[d],v=l[(d+1)%l.length],m=o[d<o.length?d:o.length-1];if(m===0){a.push(p);continue}var T=y.normalise({x:p.y-c.y,y:c.x-p.x}),E=y.normalise({x:v.y-p.y,y:p.x-v.x}),P=Math.sqrt(2*Math.pow(m,2)),w=y.mult(f.clone(T),m),R=y.normalise(y.mult(y.add(T,E),.5)),L=y.sub(p,y.mult(R,P)),O=r;r===-1&&(O=Math.pow(m,.32)*1.75),O=f.clamp(O,h,u),O%2===1&&(O+=1);for(var I=Math.acos(y.dot(T,E)),F=I/O,B=0;B<O;B++)a.push(y.add(y.rotate(w,F*B),L))}return a},g.clockwiseSort=function(l){var o=g.mean(l);return l.sort(function(r,h){return y.angle(o,r)-y.angle(o,h)}),l},g.isConvex=function(l){var o=0,r=l.length,h,u,a,d;if(r<3)return null;for(h=0;h<r;h++)if(u=(h+1)%r,a=(h+2)%r,d=(l[u].x-l[h].x)*(l[a].y-l[u].y),d-=(l[u].y-l[h].y)*(l[a].x-l[u].x),d<0?o|=1:d>0&&(o|=2),o===3)return!1;return o!==0?!0:null},g.hull=function(l){var o=[],r=[],h,u;for(l=l.slice(0),l.sort(function(a,d){var c=a.x-d.x;return c!==0?c:a.y-d.y}),u=0;u<l.length;u+=1){for(h=l[u];r.length>=2&&y.cross3(r[r.length-2],r[r.length-1],h)<=0;)r.pop();r.push(h)}for(u=l.length-1;u>=0;u-=1){for(h=l[u];o.length>=2&&y.cross3(o[o.length-2],o[o.length-1],h)<=0;)o.pop();o.push(h)}return o.pop(),r.pop(),o.concat(r)}})()},55973:C=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={decomp:I,quickDecomp:z,isSimple:B,removeCollinearPoints:Y,removeDuplicatePoints:J,makeCCW:v};function A(X,H,N){N=N||0;var Q=[0,0],U,q,et,it,rt,lt,ft;return U=X[1][1]-X[0][1],q=X[0][0]-X[1][0],et=U*X[0][0]+q*X[0][1],it=H[1][1]-H[0][1],rt=H[0][0]-H[1][0],lt=it*H[0][0]+rt*H[0][1],ft=U*rt-it*q,$(ft,0,N)||(Q[0]=(rt*et-q*lt)/ft,Q[1]=(U*lt-it*et)/ft),Q}function s(X,H,N,Q){var U=H[0]-X[0],q=H[1]-X[1],et=Q[0]-N[0],it=Q[1]-N[1];if(et*q-it*U===0)return!1;var rt=(U*(N[1]-X[1])+q*(X[0]-N[0]))/(et*q-it*U),lt=(et*(X[1]-N[1])+it*(N[0]-X[0]))/(it*U-et*q);return rt>=0&&rt<=1&&lt>=0&&lt<=1}function g(X,H,N){return(H[0]-X[0])*(N[1]-X[1])-(N[0]-X[0])*(H[1]-X[1])}function y(X,H,N){return g(X,H,N)>0}function f(X,H,N){return g(X,H,N)>=0}function l(X,H,N){return g(X,H,N)<0}function o(X,H,N){return g(X,H,N)<=0}var r=[],h=[];function u(X,H,N,Q){if(Q){var U=r,q=h;U[0]=H[0]-X[0],U[1]=H[1]-X[1],q[0]=N[0]-H[0],q[1]=N[1]-H[1];var et=U[0]*q[0]+U[1]*q[1],it=Math.sqrt(U[0]*U[0]+U[1]*U[1]),rt=Math.sqrt(q[0]*q[0]+q[1]*q[1]),lt=Math.acos(et/(it*rt));return lt<Q}else return g(X,H,N)===0}function a(X,H){var N=H[0]-X[0],Q=H[1]-X[1];return N*N+Q*Q}function d(X,H){var N=X.length;return X[H<0?H%N+N:H%N]}function c(X){X.length=0}function p(X,H,N,Q){for(var U=N;U<Q;U++)X.push(H[U])}function v(X){for(var H=0,N=X,Q=1;Q<X.length;++Q)(N[Q][1]<N[H][1]||N[Q][1]===N[H][1]&&N[Q][0]>N[H][0])&&(H=Q);return y(d(X,H-1),d(X,H),d(X,H+1))?!1:(m(X),!0)}function m(X){for(var H=[],N=X.length,Q=0;Q!==N;Q++)H.push(X.pop());for(var Q=0;Q!==N;Q++)X[Q]=H[Q]}function T(X,H){return l(d(X,H-1),d(X,H),d(X,H+1))}var E=[],P=[];function w(X,H,N){var Q,U,q=E,et=P;if(f(d(X,H+1),d(X,H),d(X,N))&&o(d(X,H-1),d(X,H),d(X,N)))return!1;U=a(d(X,H),d(X,N));for(var it=0;it!==X.length;++it)if(!((it+1)%X.length===H||it===H)&&f(d(X,H),d(X,N),d(X,it+1))&&o(d(X,H),d(X,N),d(X,it))&&(q[0]=d(X,H),q[1]=d(X,N),et[0]=d(X,it),et[1]=d(X,it+1),Q=A(q,et),a(d(X,H),Q)<U))return!1;return!0}function R(X,H,N){for(var Q=0;Q!==X.length;++Q)if(!(Q===H||Q===N||(Q+1)%X.length===H||(Q+1)%X.length===N)&&s(d(X,H),d(X,N),d(X,Q),d(X,Q+1)))return!1;return!0}function L(X,H,N,Q){var U=Q||[];if(c(U),H<N)for(var q=H;q<=N;q++)U.push(X[q]);else{for(var q=0;q<=N;q++)U.push(X[q]);for(var q=H;q<X.length;q++)U.push(X[q])}return U}function O(X){for(var H=[],N=[],Q=[],U=[],q=Number.MAX_VALUE,et=0;et<X.length;++et)if(T(X,et)){for(var it=0;it<X.length;++it)if(w(X,et,it)){N=O(L(X,et,it,U)),Q=O(L(X,it,et,U));for(var rt=0;rt<Q.length;rt++)N.push(Q[rt]);N.length<q&&(H=N,q=N.length,H.push([d(X,et),d(X,it)]))}}return H}function I(X){var H=O(X);return H.length>0?F(X,H):[X]}function F(X,H){if(H.length===0)return[X];if(H instanceof Array&&H.length&&H[0]instanceof Array&&H[0].length===2&&H[0][0]instanceof Array){for(var N=[X],Q=0;Q<H.length;Q++)for(var U=H[Q],q=0;q<N.length;q++){var et=N[q],it=F(et,U);if(it){N.splice(q,1),N.push(it[0],it[1]);break}}return N}else{var U=H,Q=X.indexOf(U[0]),q=X.indexOf(U[1]);return Q!==-1&&q!==-1?[L(X,Q,q),L(X,q,Q)]:!1}}function B(X){var H=X,N;for(N=0;N<H.length-1;N++)for(var Q=0;Q<N-1;Q++)if(s(H[N],H[N+1],H[Q],H[Q+1]))return!1;for(N=1;N<H.length-2;N++)if(s(H[0],H[H.length-1],H[N],H[N+1]))return!1;return!0}function G(X,H,N,Q,U){U=U||0;var q=H[1]-X[1],et=X[0]-H[0],it=q*X[0]+et*X[1],rt=Q[1]-N[1],lt=N[0]-Q[0],ft=rt*N[0]+lt*N[1],gt=q*lt-rt*et;return $(gt,0,U)?[0,0]:[(lt*it-et*ft)/gt,(q*ft-rt*it)/gt]}function z(X,H,N,Q,U,q,et){q=q||100,et=et||0,U=U||25,H=typeof H<"u"?H:[],N=N||[],Q=Q||[];var it=[0,0],rt=[0,0],lt=[0,0],ft=0,gt=0,vt=0,xt=0,yt=0,Ct=0,Rt=0,bt=[],Lt=[],St=X,Et=X;if(Et.length<3)return H;if(et++,et>q)return console.warn("quickDecomp: max level ("+q+") reached."),H;for(var Mt=0;Mt<X.length;++Mt)if(T(St,Mt)){N.push(St[Mt]),ft=gt=Number.MAX_VALUE;for(var Vt=0;Vt<X.length;++Vt)y(d(St,Mt-1),d(St,Mt),d(St,Vt))&&o(d(St,Mt-1),d(St,Mt),d(St,Vt-1))&&(lt=G(d(St,Mt-1),d(St,Mt),d(St,Vt),d(St,Vt-1)),l(d(St,Mt+1),d(St,Mt),lt)&&(vt=a(St[Mt],lt),vt<gt&&(gt=vt,rt=lt,Ct=Vt))),y(d(St,Mt+1),d(St,Mt),d(St,Vt+1))&&o(d(St,Mt+1),d(St,Mt),d(St,Vt))&&(lt=G(d(St,Mt+1),d(St,Mt),d(St,Vt),d(St,Vt+1)),y(d(St,Mt-1),d(St,Mt),lt)&&(vt=a(St[Mt],lt),vt<ft&&(ft=vt,it=lt,yt=Vt)));if(Ct===(yt+1)%X.length)lt[0]=(rt[0]+it[0])/2,lt[1]=(rt[1]+it[1])/2,Q.push(lt),Mt<yt?(p(bt,St,Mt,yt+1),bt.push(lt),Lt.push(lt),Ct!==0&&p(Lt,St,Ct,St.length),p(Lt,St,0,Mt+1)):(Mt!==0&&p(bt,St,Mt,St.length),p(bt,St,0,yt+1),bt.push(lt),Lt.push(lt),p(Lt,St,Ct,Mt+1));else{if(Ct>yt&&(yt+=X.length),xt=Number.MAX_VALUE,yt<Ct)return H;for(var Vt=Ct;Vt<=yt;++Vt)f(d(St,Mt-1),d(St,Mt),d(St,Vt))&&o(d(St,Mt+1),d(St,Mt),d(St,Vt))&&(vt=a(d(St,Mt),d(St,Vt)),vt<xt&&R(St,Mt,Vt)&&(xt=vt,Rt=Vt%X.length));Mt<Rt?(p(bt,St,Mt,Rt+1),Rt!==0&&p(Lt,St,Rt,Et.length),p(Lt,St,0,Mt+1)):(Mt!==0&&p(bt,St,Mt,Et.length),p(bt,St,0,Rt+1),p(Lt,St,Rt,Mt+1))}return bt.length<Lt.length?(z(bt,H,N,Q,U,q,et),z(Lt,H,N,Q,U,q,et)):(z(Lt,H,N,Q,U,q,et),z(bt,H,N,Q,U,q,et)),H}return H.push(X),H}function Y(X,H){for(var N=0,Q=X.length-1;X.length>3&&Q>=0;--Q)u(d(X,Q-1),d(X,Q),d(X,Q+1),H)&&(X.splice(Q%X.length,1),N++);return N}function J(X,H){for(var N=X.length-1;N>=1;--N)for(var Q=X[N],U=N-1;U>=0;--U)if(j(Q,X[U],H)){X.splice(N,1);continue}}function $(X,H,N){return N=N||0,Math.abs(X-H)<=N}function j(X,H,N){return $(X[0],H[0],N)&&$(X[1],H[1],N)}},52018:(C,A,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var g=s(83419),y=new g({initialize:function(l){this.pluginManager=l,this.game=l.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=y},42363:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};C.exports=A},37277:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={},s={},g={};g.register=function(y,f,l,o){o===void 0&&(o=!1),A[y]={plugin:f,mapping:l,custom:o}},g.registerCustom=function(y,f,l,o){s[y]={plugin:f,mapping:l,data:o}},g.hasCore=function(y){return A.hasOwnProperty(y)},g.hasCustom=function(y){return s.hasOwnProperty(y)},g.getCore=function(y){return A[y]},g.getCustom=function(y){return s[y]},g.getCustomClass=function(y){return s.hasOwnProperty(y)?s[y].plugin:null},g.remove=function(y){A.hasOwnProperty(y)&&delete A[y]},g.removeCustom=function(y){s.hasOwnProperty(y)&&delete s[y]},g.destroyCorePlugins=function(){for(var y in A)A.hasOwnProperty(y)&&delete A[y]},g.destroyCustomPlugins=function(){for(var y in s)s.hasOwnProperty(y)&&delete s[y]},C.exports=g},77332:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(8443),f=s(50792),l=s(74099),o=s(44603),r=s(39429),h=s(95540),u=s(37277),a=s(72905),d=s(8054),c=new g({Extends:f,initialize:function(v){f.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted||v.config.renderType===d.HEADLESS?this.boot():v.events.once(y.BOOT,this.boot,this)},boot:function(){var p,v,m,T,E,P,w,R=this.game.config,L=R.installGlobalPlugins;for(L=L.concat(this._pendingGlobal),p=0;p<L.length;p++)v=L[p],m=h(v,"key",null),T=h(v,"plugin",null),E=h(v,"start",!1),P=h(v,"mapping",null),w=h(v,"data",null),m&&(T?this.install(m,T,E,P,w):console.warn("Missing `plugin` for key: "+m));for(L=R.installScenePlugins,L=L.concat(this._pendingScene),p=0;p<L.length;p++)v=L[p],m=h(v,"key",null),T=h(v,"plugin",null),P=h(v,"mapping",null),m&&(T?this.installScenePlugin(m,T,P):console.warn("Missing `plugin` for key: "+m));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(y.DESTROY,this.destroy,this)},addToScene:function(p,v,m){var T,E,P,w=this.game,R=p.scene,L=p.settings.map,O=p.settings.isBooted;for(T=0;T<v.length;T++)E=v[T],w[E]?(p[E]=w[E],L.hasOwnProperty(E)&&(R[L[E]]=p[E])):E==="game"&&L.hasOwnProperty(E)&&(R[L[E]]=w);for(var I=0;I<m.length;I++)for(P=m[I],T=0;T<P.length;T++)if(E=P[T],!!u.hasCore(E)){var F=u.getCore(E),B=F.mapping,G=new F.plugin(R,this,B);p[B]=G,F.custom?R[B]=G:L.hasOwnProperty(B)&&(R[L[B]]=G),O&&G.boot()}for(P=this.plugins,T=0;T<P.length;T++){var z=P[T];z.mapping&&(R[z.mapping]=z.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p=p.concat(this.scenePlugins),p},installScenePlugin:function(p,v,m,T,E){if(E===void 0&&(E=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+p);return}if(u.hasCore(p)||u.register(p,v,m,!0),this.scenePlugins.indexOf(p)===-1)this.scenePlugins.push(p);else if(!E&&u.hasCore(p)){console.warn("Scene Plugin key in use: "+p);return}if(T){var P=new v(T,this,p);T.sys[p]=P,m&&m!==""&&(T[m]=P),P.boot()}},install:function(p,v,m,T,E){if(m===void 0&&(m=!1),T===void 0&&(T=null),E===void 0&&(E=null),typeof v!="function")return console.warn("Invalid Plugin: "+p),null;if(u.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(T!==null&&(m=!0),!this.game.isBooted)this._pendingGlobal.push({key:p,plugin:v,start:m,mapping:T,data:E});else if(u.registerCustom(p,v,T,E),m)return this.start(p);return null},getIndex:function(p){for(var v=this.plugins,m=0;m<v.length;m++){var T=v[m];if(T.key===p)return m}return-1},getEntry:function(p){var v=this.getIndex(p);if(v!==-1)return this.plugins[v]},isActive:function(p){var v=this.getEntry(p);return v&&v.active},start:function(p,v){v===void 0&&(v=p);var m=this.getEntry(v);return m&&!m.active?(m.active=!0,m.plugin.start()):m||(m=this.createEntry(p,v)),m?m.plugin:null},createEntry:function(p,v){var m=u.getCustom(p);if(m){var T=new m.plugin(this);m={key:v,plugin:T,active:!0,mapping:m.mapping,data:m.data},this.plugins.push(m),T.init(m.data),T.start()}return m},stop:function(p){var v=this.getEntry(p);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(p,v){v===void 0&&(v=!0);var m=this.getEntry(p);if(m)return m.plugin;var T=this.getClass(p);return T&&v?(m=this.createEntry(p,p),m?m.plugin:null):T||null},getClass:function(p){return u.getCustomClass(p)},removeGlobalPlugin:function(p){var v=this.getEntry(p);v&&a(this.plugins,v),u.removeCustom(p)},removeScenePlugin:function(p){a(this.scenePlugins,p),u.remove(p)},registerGameObject:function(p,v,m){return v&&r.register(p,v),m&&o.register(p,m),this},removeGameObject:function(p,v,m){return v===void 0&&(v=!0),m===void 0&&(m=!0),v&&r.remove(p),m&&o.remove(p),this},registerFileType:function(p,v,m){l.register(p,v),m&&m.sys.load&&(m.sys.load[p]=v)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});C.exports=c},45145:(C,A,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var g=s(52018),y=s(83419),f=s(44594),l=new y({Extends:g,initialize:function(r,h,u){g.call(this,h),this.scene=r,this.systems=r.sys,this.pluginKey=u,r.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=l},18922:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BasePlugin:s(52018),DefaultPlugins:s(42363),PluginCache:s(37277),PluginManager:s(77332),ScenePlugin:s(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(C){const A=performance.now(),s=this.getVideoPlaybackQuality(),g=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames,y=(f,l)=>{const o=this.getVideoPlaybackQuality(),r=this.mozPresentedFrames||this.mozPaintedFrames||o.totalVideoFrames-o.droppedVideoFrames;if(r>g){const h=this.mozFrameDelay||o.totalFrameDelay-s.totalFrameDelay||0,u=l-f;C(l,{presentationTime:l+h*1e3,expectedDisplayTime:l+u,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+u/1e3,presentedFrames:r,processingDuration:h}),delete this._rvfcpolyfillmap[A]}else this._rvfcpolyfillmap[A]=requestAnimationFrame(h=>y(l,h))};return this._rvfcpolyfillmap[A]=requestAnimationFrame(f=>y(A,f)),A},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(C){cancelAnimationFrame(this._rvfcpolyfillmap[C]),delete this._rvfcpolyfillmap[C]})},10312:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={DEFAULT:0,LINEAR:0,NEAREST:1};C.exports=A},68627:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19715),y=s(32880),f=s(83419),l=s(8054),o=s(50792),r=s(92503),h=s(56373),u=s(97480),a=s(69442),d=s(8443),c=s(61340),p=new f({Extends:o,initialize:function(m){o.call(this);var T=m.config;this.config={clearBeforeRender:T.clearBeforeRender,backgroundColor:T.backgroundColor,antialias:T.antialias,roundPixels:T.roundPixels,transparent:T.transparent},this.game=m,this.type=l.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=m.canvas;var E={alpha:T.transparent,desynchronized:T.desynchronized,willReadFrequently:!1};this.gameContext=T.context?T.context:this.gameCanvas.getContext("2d",E),this.currentContext=this.gameContext,this.antialias=T.antialias,this.blendModes=h(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.isBooted=!1,this.init()},init:function(){var v=this.game;v.events.once(d.BOOT,function(){var m=this.config;if(!m.transparent){var T=this.gameContext,E=this.gameCanvas;T.fillStyle=m.backgroundColor.rgba,T.fillRect(0,0,E.width,E.height)}},this),v.textures.once(a.READY,this.boot,this)},boot:function(){var v=this.game,m=v.scale.baseSize;this.width=m.width,this.height=m.height,this.isBooted=!0,v.scale.on(u.RESIZE,this.onResize,this),this.resize(m.width,m.height)},onResize:function(v,m){(m.width!==this.width||m.height!==this.height)&&this.resize(m.width,m.height)},resize:function(v,m){this.width=v,this.height=m,this.emit(r.RESIZE,v,m)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,m=this.config,T=this.width,E=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),this.emit(r.PRE_RENDER_CLEAR),m.clearBeforeRender&&(v.clearRect(0,0,T,E),m.transparent||(v.fillStyle=m.backgroundColor.rgba,v.fillRect(0,0,T,E))),v.save(),this.drawCount=0,this.emit(r.PRE_RENDER)},render:function(v,m,T){var E=m.length;this.emit(r.RENDER,v,T);var P=T.x,w=T.y,R=T.width,L=T.height,O=T.renderToTexture?T.context:v.sys.context;O.save(),this.game.scene.customViewports&&(O.beginPath(),O.rect(P,w,R,L),O.clip()),T.emit(g.PRE_RENDER,T),this.currentContext=O;var I=T.mask;I&&I.preRenderCanvas(this,null,T._maskCamera),T.transparent||(O.fillStyle=T.backgroundColor.rgba,O.fillRect(P,w,R,L)),O.globalAlpha=T.alpha,O.globalCompositeOperation="source-over",this.drawCount+=E,T.renderToTexture&&T.emit(g.PRE_RENDER,T),T.matrix.copyToContext(O);for(var F=0;F<E;F++){var B=m[F];B.mask&&B.mask.preRenderCanvas(this,B,T),B.renderCanvas(this,B,T),B.mask&&B.mask.postRenderCanvas(this,B,T)}O.setTransform(1,0,0,1,0,0),O.globalCompositeOperation="source-over",O.globalAlpha=1,T.flashEffect.postRenderCanvas(O),T.fadeEffect.postRenderCanvas(O),T.dirty=!1,I&&I.postRenderCanvas(this),O.restore(),T.renderToTexture&&(T.emit(g.POST_RENDER,T),T.renderToGame&&v.sys.context.drawImage(T.canvas,P,w)),T.emit(g.POST_RENDER,T)},postRender:function(){var v=this.gameContext;v.restore(),this.emit(r.POST_RENDER);var m=this.snapshotState;m.callback&&(y(this.gameCanvas,m),m.callback=null)},snapshotCanvas:function(v,m,T,E,P,w,R,L,O){T===void 0&&(T=!1),this.snapshotArea(E,P,w,R,m,L,O);var I=this.snapshotState;return I.getPixel=T,y(v,I),I.callback=null,this},snapshot:function(v,m,T){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,m,T)},snapshotArea:function(v,m,T,E,P,w,R){var L=this.snapshotState;return L.callback=P,L.type=w,L.encoder=R,L.getPixel=!1,L.x=v,L.y=m,L.width=Math.min(T,this.gameCanvas.width),L.height=Math.min(E,this.gameCanvas.height),this},snapshotPixel:function(v,m,T){return this.snapshotArea(v,m,1,1,T),this.snapshotState.getPixel=!0,this},batchSprite:function(v,m,T,E){var P=T.alpha*v.alpha;if(P!==0){var w=this.currentContext,R=this._tempMatrix1,L=this._tempMatrix2,O=m.canvasData,I=O.x,F=O.y,B=m.cutWidth,G=m.cutHeight,z=m.customPivot,Y=m.source.resolution,J=v.displayOriginX,$=v.displayOriginY,j=-J+m.x,X=-$+m.y;if(v.isCropped){var H=v._crop;(H.flipX!==v.flipX||H.flipY!==v.flipY)&&m.updateCropUVs(H,v.flipX,v.flipY),B=H.cw,G=H.ch,I=H.cx,F=H.cy,j=-J+H.x,X=-$+H.y,v.flipX&&(j>=0?j=-(j+B):j<0&&(j=Math.abs(j)-B)),v.flipY&&(X>=0?X=-(X+G):X<0&&(X=Math.abs(X)-G))}var N=1,Q=1;v.flipX&&(z||(j+=-m.realWidth+J*2),N=-1),v.flipY&&(z||(X+=-m.realHeight+$*2),Q=-1);var U=v.x,q=v.y;if(T.roundPixels&&(U=Math.floor(U),q=Math.floor(q)),L.applyITRS(U,q,v.rotation,v.scaleX*N,v.scaleY*Q),R.copyFrom(T.matrix),E?(R.multiplyWithOffset(E,-T.scrollX*v.scrollFactorX,-T.scrollY*v.scrollFactorY),L.e=U,L.f=q):(L.e-=T.scrollX*v.scrollFactorX,L.f-=T.scrollY*v.scrollFactorY),R.multiply(L),T.renderRoundPixels&&(R.e=Math.floor(R.e+.5),R.f=Math.floor(R.f+.5)),w.save(),R.setToContext(w),w.globalCompositeOperation=this.blendModes[v.blendMode],w.globalAlpha=P,w.imageSmoothingEnabled=!m.source.scaleMode,v.mask&&v.mask.preRenderCanvas(this,v,T),B>0&&G>0){var et=B/Y,it=G/Y;T.roundPixels&&(j=Math.floor(j+.5),X=Math.floor(X+.5),et+=.5,it+=.5),w.drawImage(m.source.image,I,F,B,G,j,X,et,it)}v.mask&&v.mask.postRenderCanvas(this,v,T),w.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});C.exports=p},55830:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CanvasRenderer:s(68627),GetBlendModes:s(56373),SetTransform:s(20926)}},56373:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(89289),f=function(){var l=[],o=y.supportNewBlendModes,r="source-over";return l[g.NORMAL]=r,l[g.ADD]="lighter",l[g.MULTIPLY]=o?"multiply":r,l[g.SCREEN]=o?"screen":r,l[g.OVERLAY]=o?"overlay":r,l[g.DARKEN]=o?"darken":r,l[g.LIGHTEN]=o?"lighten":r,l[g.COLOR_DODGE]=o?"color-dodge":r,l[g.COLOR_BURN]=o?"color-burn":r,l[g.HARD_LIGHT]=o?"hard-light":r,l[g.SOFT_LIGHT]=o?"soft-light":r,l[g.DIFFERENCE]=o?"difference":r,l[g.EXCLUSION]=o?"exclusion":r,l[g.HUE]=o?"hue":r,l[g.SATURATION]=o?"saturation":r,l[g.COLOR]=o?"color":r,l[g.LUMINOSITY]=o?"luminosity":r,l[g.ERASE]="destination-out",l[g.SOURCE_IN]="source-in",l[g.SOURCE_OUT]="source-out",l[g.SOURCE_ATOP]="source-atop",l[g.DESTINATION_OVER]="destination-over",l[g.DESTINATION_IN]="destination-in",l[g.DESTINATION_OUT]="destination-out",l[g.DESTINATION_ATOP]="destination-atop",l[g.LIGHTER]="lighter",l[g.COPY]="copy",l[g.XOR]="xor",l};C.exports=f},20926:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=function(f,l,o,r,h){var u=r.alpha*o.alpha;if(u<=0)return!1;var a=g(o,r,h).calc;return l.globalCompositeOperation=f.blendModes[o.blendMode],l.globalAlpha=u,l.save(),a.setToContext(l),l.imageSmoothingEnabled=o.frame?!o.frame.source.scaleMode:f.antialias,!0};C.exports=y},63899:C=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="losewebgl"},6119:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postrender"},48070:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prerender"},15640:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="render"},8912:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resize"},87124:C=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="restorewebgl"},92503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={LOSE_WEBGL:s(63899),POST_RENDER:s(6119),PRE_RENDER:s(48070),RENDER:s(15640),RESIZE:s(8912),RESTORE_WEBGL:s(87124)}},36909:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Events:s(92503),Snapshot:s(89966)},C.exports.Canvas=s(55830),C.exports.WebGL=s(4159)},32880:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=s(40987),f=s(95540),l=function(o,r){var h=f(r,"callback"),u=f(r,"type","image/png"),a=f(r,"encoder",.92),d=Math.abs(Math.round(f(r,"x",0))),c=Math.abs(Math.round(f(r,"y",0))),p=Math.floor(f(r,"width",o.width)),v=Math.floor(f(r,"height",o.height)),m=f(r,"getPixel",!1);if(m){var T=o.getContext("2d",{willReadFrequently:!1}),E=T.getImageData(d,c,1,1),P=E.data;h.call(null,new y(P[0],P[1],P[2],P[3]))}else if(d!==0||c!==0||p!==o.width||v!==o.height){var w=g.createWebGL(this,p,v),R=w.getContext("2d",{willReadFrequently:!0});p>0&&v>0&&R.drawImage(o,d,c,p,v,0,0,p,v);var L=new Image;L.onerror=function(){h.call(null),g.remove(w)},L.onload=function(){h.call(null,L),g.remove(w)},L.src=w.toDataURL(u,a)}else{var O=new Image;O.onerror=function(){h.call(null)},O.onload=function(){h.call(null,O)},O.src=o.toDataURL(u,a)}};C.exports=l},88815:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=s(40987),f=s(95540),l=function(o,r){var h=o,u=f(r,"callback"),a=f(r,"type","image/png"),d=f(r,"encoder",.92),c=Math.abs(Math.round(f(r,"x",0))),p=Math.abs(Math.round(f(r,"y",0))),v=f(r,"getPixel",!1),m=f(r,"isFramebuffer",!1),T=m?f(r,"bufferWidth",1):h.drawingBufferWidth,E=m?f(r,"bufferHeight",1):h.drawingBufferHeight;if(v){var P=new Uint8Array(4),w=m?p:E-p;h.readPixels(c,w,1,1,h.RGBA,h.UNSIGNED_BYTE,P),u.call(null,new y(P[0],P[1],P[2],P[3]))}else{var R=Math.floor(f(r,"width",T)),L=Math.floor(f(r,"height",E)),O=R*L*4,I=new Uint8Array(O);h.readPixels(c,E-p-L,R,L,h.RGBA,h.UNSIGNED_BYTE,I);for(var F=g.createWebGL(this,R,L),B=F.getContext("2d",{willReadFrequently:!0}),G=B.getImageData(0,0,R,L),z=G.data,Y=0;Y<L;Y++)for(var J=0;J<R;J++){var $=((L-Y-1)*R+J)*4,j=m?O-(Y*R+(R-J))*4:(Y*R+J)*4;z[j+0]=I[$+0],z[j+1]=I[$+1],z[j+2]=I[$+2],z[j+3]=I[$+3]}B.putImageData(G,0,0);var X=new Image;X.onerror=function(){u.call(null),g.remove(F)},X.onload=function(){u.call(null,X),g.remove(F)},X.src=F.toDataURL(a,d)}};C.exports=l},89966:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Canvas:s(32880),WebGL:s(88815)}},7530:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(36060),f=s(90330),l=s(82264),o=s(95540),r=s(32302),h=s(63448),u=s(31302),a=s(58918),d=s(14811),c=s(92651),p=s(96569),v=s(56527),m=s(57516),T=s(43439),E=s(81041),P=s(12385),w=s(7589),R=s(95428),L=s(72905),O=new g({initialize:function(F){this.game=F.game,this.renderer=F,this.classes=new f([[y.UTILITY_PIPELINE,w],[y.MULTI_PIPELINE,m],[y.BITMAPMASK_PIPELINE,u],[y.SINGLE_PIPELINE,P],[y.ROPE_PIPELINE,E],[y.LIGHT_PIPELINE,p],[y.POINTLIGHT_PIPELINE,T],[y.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new f,this.pipelines=new f,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(I,F,B){var G=this.renderer,z=this.renderTargets;this.frameInc=Math.floor(o(I,"frameInc",32));var Y=G.width,J=G.height,$=this.game.config.disablePreFX,j=this.game.config.disablePostFX;if(j||this.postPipelineClasses.setAll([[String(d.BARREL),a.Barrel],[String(d.BLOOM),a.Bloom],[String(d.BLUR),a.Blur],[String(d.BOKEH),a.Bokeh],[String(d.CIRCLE),a.Circle],[String(d.COLOR_MATRIX),a.ColorMatrix],[String(d.DISPLACEMENT),a.Displacement],[String(d.GLOW),a.Glow],[String(d.GRADIENT),a.Gradient],[String(d.PIXELATE),a.Pixelate],[String(d.SHADOW),a.Shadow],[String(d.SHINE),a.Shine],[String(d.VIGNETTE),a.Vignette],[String(d.WIPE),a.Wipe]]),!$){this.classes.set(y.FX_PIPELINE,c);for(var X=Math.min(Y,J),H=Math.ceil(X/this.frameInc),N=1;N<H;N++){var Q=N*this.frameInc;z.push(new r(G,Q,Q)),z.push(new r(G,Q,Q)),z.push(new r(G,Q,Q)),this.maxDimension=Q}z.push(new r(G,Y,J,1,0,!0,!0)),z.push(new r(G,Y,J,1,0,!0,!0)),z.push(new r(G,Y,J,1,0,!0,!0))}var U,q,et=this,it=this.game;if(this.classes.each(function(lt,ft){U=et.add(lt,new ft({game:it})),lt===y.UTILITY_PIPELINE&&(et.UTILITY_PIPELINE=U,et.fullFrame1=U.fullFrame1,et.fullFrame2=U.fullFrame2,et.halfFrame1=U.halfFrame1,et.halfFrame2=U.halfFrame2)}),this.MULTI_PIPELINE=this.get(y.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(y.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(y.MOBILE_PIPELINE),$||(this.FX_PIPELINE=this.get(y.FX_PIPELINE)),I)for(q in I){var rt=I[q];U=new rt(it),U.name=q,U.isPostFX?this.postPipelineClasses.set(q,rt):this.has(q)||(this.classes.set(q,rt),this.add(q,U))}this.default=this.get(F),B&&!l.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(I){var F=this.get(I);return F&&(this.default=F),F},add:function(I,F){if(F.isPostFX){console.warn(I+" is a Post Pipeline. Use `addPostPipeline` instead");return}var B=this.pipelines,G=this.renderer;return B.has(I)?console.warn("Pipeline exists: "+I):(F.name=I,F.manager=this,B.set(I,F)),F.hasBooted||F.boot(),G.width!==0&&G.height!==0&&!F.isPreFX&&F.resize(G.width,G.height),F},addPostPipeline:function(I,F){this.postPipelineClasses.has(I)||this.postPipelineClasses.set(I,F)},flush:function(){this.current&&this.current.flush()},has:function(I){var F=this.pipelines;return typeof I=="string"?F.has(I):!!F.contains(I)},get:function(I){var F=this.pipelines;if(typeof I=="string")return F.get(I);if(F.contains(I))return I},getPostPipeline:function(I,F,B){var G=this.postPipelineClasses,z,Y="",J=typeof I;if(J==="string"||J==="number"?(z=G.get(I),Y=I):J==="function"?(G.contains(I)&&(z=I),Y=I.name):J==="object"&&(z=G.get(I.name),Y=I.name),z){var $=new z(this.game,B);return $.name=Y,F&&($.gameObject=F),this.postPipelineInstances.push($),$}},removePostPipeline:function(I){L(this.postPipelineInstances,I)},remove:function(I,F,B){F===void 0&&(F=!0),B===void 0&&(B=!0),this.pipelines.delete(I),F&&this.classes.delete(I),B&&this.postPipelineClasses.delete(I)},set:function(I,F,B){if(!I.isPostFX)return this.isCurrent(I,B)||(this.flush(),this.current&&this.current.unbind(),this.current=I,I.bind(B)),I.updateProjectionMatrix(),I.onBind(F),I},preBatch:function(I){if(I.hasPostPipeline){this.flush();for(var F=I.postPipelines,B=F.length-1;B>=0;B--){var G=F[B];G.active&&G.preBatch(I)}}},postBatch:function(I){if(I.hasPostPipeline){this.flush();for(var F=I.postPipelines,B=0;B<F.length;B++){var G=F[B];G.active&&G.postBatch(I)}}},preBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var F=I.postPipelines,B=F.length-1;B>=0;B--){var G=F[B];G.active&&G.preBatch(I)}}},postBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var F=I.postPipelines,B=0;B<F.length;B++){var G=F[B];G.active&&G.postBatch(I)}}},isCurrent:function(I,F){var B=this.renderer,G=this.current;return G&&!F&&(F=G.currentShader),!(G!==I||F.program!==B.currentProgram)},copyFrame:function(I,F,B,G,z){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(I,F,B,G,z),this},copyToGame:function(I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(I),this},drawFrame:function(I,F,B,G){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(I,F,B,G),this},blendFrames:function(I,F,B,G,z){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(I,F,B,G,z),this},blendFramesAdditive:function(I,F,B,G,z){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(I,F,B,G,z),this},clearFrame:function(I,F){return this.UTILITY_PIPELINE.clearFrame(I,F),this},blitFrame:function(I,F,B,G,z,Y){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(I,F,B,G,z,Y),this},copyFrameRect:function(I,F,B,G,z,Y,J,$){return this.UTILITY_PIPELINE.copyFrameRect(I,F,B,G,z,Y,J,$),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(I){return this.UTILITY_PIPELINE.bind(I)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(I,F){F.restoreContext()}),R(this.postPipelineInstances,function(I){I.restoreContext()})},rebind:function(I){I===void 0&&this.previous&&(I=this.previous);var F=this.renderer,B=F.gl;B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),F.hasActiveStencilMask()?B.clear(B.DEPTH_BUFFER_BIT):(B.disable(B.STENCIL_TEST),B.clear(B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)),B.viewport(0,0,F.width,F.height),F.currentProgram=null,F.setBlendMode(0,!0);var G=F.vaoExtension;G&&G.bindVertexArrayOES(null);var z=this.pipelines.entries;for(var Y in z)z[Y].glReset=!0;I&&(this.current=I,I.rebind())},clear:function(){var I=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,I.currentProgram=null,I.setBlendMode(0,!0);var F=I.vaoExtension;F&&F.bindVertexArrayOES(null)},getRenderTarget:function(I){var F=this.renderTargets,B=3;if(I>this.maxDimension)return this.targetIndex=F.length-B,F[this.targetIndex];var G=(h(I,this.frameInc,0,!0)-1)*B;return this.targetIndex=G,F[G]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});C.exports=O},32302:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(92503),f=new g({initialize:function(o,r,h,u,a,d,c,p,v){u===void 0&&(u=1),a===void 0&&(a=0),d===void 0&&(d=!0),c===void 0&&(c=!1),p===void 0&&(p=!0),v===void 0&&(v=!0),this.renderer=o,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=u,this.minFilter=a,this.autoClear=d,this.autoResize=!0,this.hasDepthBuffer=p,this.forceClamp=v,this.init(r,h),c?this.renderer.on(y.RESIZE,this.resize,this):this.autoResize=!1},init:function(l,o){var r=this.renderer;this.texture=r.createTextureFromSource(null,l,o,this.minFilter,this.forceClamp),this.framebuffer=r.createFramebuffer(l,o,this.texture,this.hasDepthBuffer),this.width=l,this.height=o},setAutoResize:function(l){return l&&!this.autoResize?(this.renderer.on(y.RESIZE,this.resize,this),this.autoResize=!0):!l&&this.autoResize&&(this.renderer.off(y.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(l,o){if(this.autoResize&&this.willResize(l,o)){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.texture=r.createTextureFromSource(null,l,o,this.minFilter,this.forceClamp),this.framebuffer=r.createFramebuffer(l,o,this.texture,this.hasDepthBuffer),this.width=l,this.height=o}return this},willResize:function(l,o){return typeof l!="number"||typeof o!="number"?!1:(l=Math.round(l*this.scale),o=Math.round(o*this.scale),l=Math.max(l,1),o=Math.max(o,1),l!==this.width||o!==this.height)},bind:function(l,o,r){l===void 0&&(l=!1);var h=this.renderer;if(l&&h.flush(),o&&r&&this.resize(o,r),h.pushFramebuffer(this.framebuffer,!1,!1),l&&this.adjustViewport(),this.autoClear){var u=this.renderer.gl;u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT)}h.clearStencilMask()},adjustViewport:function(){var l=this.renderer.gl;l.viewport(0,0,this.width,this.height),l.disable(l.SCISSOR_TEST)},clear:function(l,o,r,h){var u=this.renderer,a=u.gl;u.pushFramebuffer(this.framebuffer),l!==void 0&&o!==void 0&&r!==void 0&&h!==void 0?(a.enable(a.SCISSOR_TEST),a.scissor(l,o,r,h)):a.disable(a.SCISSOR_TEST),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),u.popFramebuffer(),u.resetScissor()},unbind:function(l){l===void 0&&(l=!1);var o=this.renderer;return l&&o.flush(),o.popFramebuffer()},destroy:function(){var l=this.renderer;l.off(y.RESIZE,this.resize,this),l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});C.exports=f},70554:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={getTintFromFloats:function(A,s,g,y){var f=(A*255|0)&255,l=(s*255|0)&255,o=(g*255|0)&255,r=(y*255|0)&255;return(r<<24|f<<16|l<<8|o)>>>0},getTintAppendFloatAlpha:function(A,s){var g=(s*255|0)&255;return(g<<24|A)>>>0},getTintAppendFloatAlphaAndSwap:function(A,s){var g=(A>>16|0)&255,y=(A>>8|0)&255,f=(A|0)&255,l=(s*255|0)&255;return(l<<24|f<<16|y<<8|g)>>>0},getFloatsFromUintRGB:function(A){var s=(A>>16|0)&255,g=(A>>8|0)&255,y=(A|0)&255;return[s/255,g/255,y/255]},checkShaderMax:function(A,s){var g=Math.min(16,A.getParameter(A.MAX_TEXTURE_IMAGE_UNITS));return!s||s===-1?g:Math.min(g,s)},parseFragmentShaderMaxTextures:function(A,s){if(!A)return"";for(var g="",y=0;y<s;y++)y>0&&(g+=`
	else `),y<s-1&&(g+="if (outTexId < "+y+".5)"),g+=`
	{`,g+=`
		texture = texture2D(uMainSampler[`+y+"], outTexCoord);",g+=`
	}`;return A=A.replace(/%count%/gi,s.toString()),A.replace(/%forloop%/gi,g)},setGlowQuality:function(A,s,g,y){return g===void 0&&(g=s.config.glowFXQuality),y===void 0&&(y=s.config.glowFXDistance),A=A.replace(/__SIZE__/gi,(1/g/y).toFixed(7)),A=A.replace(/__DIST__/gi,y.toFixed(0)+".0"),A}}},29100:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(62644),f=s(50792),l=s(77085),o=s(95540),r=s(37867),h=s(92503),u=s(32302),a=s(70554),d=s(38683),c=new g({Extends:f,initialize:function(v){f.call(this);var m=v.game,T=m.renderer,E=T.gl;this.name=o(v,"name","WebGLPipeline"),this.game=m,this.renderer=T,this.manager,this.gl=E,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=o(v,"topology",E.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=o(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=o(v,"resizeUniform","")},boot:function(){var p,v=this.gl,m=this.config,T=this.renderer;this.isPostFX||(this.projectionMatrix=new r().identity());var E=this.renderTargets,P=o(m,"renderTarget",!1);typeof P=="boolean"&&P&&(P=1);var w=T.width,R=T.height;if(typeof P=="number")for(p=0;p<P;p++)E.push(new u(T,w,R,1,0,!0));else if(Array.isArray(P))for(p=0;p<P.length;p++){var L=o(P[p],"scale",1),O=o(P[p],"minFilter",0),I=o(P[p],"autoClear",1),F=o(P[p],"autoResize",!1),B=o(P[p],"width",null),G=o(P[p],"height",B);B?E.push(new u(T,B,G,1,O,I,F)):E.push(new u(T,w,R,L,O,I,F))}E.length&&(this.currentRenderTarget=E[0]),this.setShadersFromConfig(m);var z=this.shaders,Y=0;for(p=0;p<z.length;p++)z[p].vertexSize>Y&&(Y=z[p].vertexSize);var J=o(m,"batchSize",T.config.batchSize);this.vertexCapacity=J*6;var $=new ArrayBuffer(this.vertexCapacity*Y);this.vertexData=$,this.bytes=new Uint8Array($),this.vertexViewF32=new Float32Array($),this.vertexViewU32=new Uint32Array($);var j=o(m,"vertices",null);for(j?(this.vertexViewF32.set(j),this.vertexBuffer=T.createVertexBuffer($,v.STATIC_DRAW)):this.vertexBuffer=T.createVertexBuffer($.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),p=z.length-1;p>=0;p--)z[p].rebind();this.hasBooted=!0,T.on(h.RESIZE,this.resize,this),T.on(h.PRE_RENDER,this.onPreRender,this),T.on(h.RENDER,this.onRender,this),T.on(h.POST_RENDER,this.onPostRender,this),this.emit(l.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(p,v,m){var T=this.renderer;if(p!==this.currentShader||T.currentProgram!==this.currentShader.program){this.flush();var E=this.setVertexBuffer(m);E&&!v&&(v=!0),p.bind(v,!1),this.currentShader=p}return this},getShaderByName:function(p){for(var v=this.shaders,m=0;m<v.length;m++)if(v[m].name===p)return v[m]},setShadersFromConfig:function(p){var v,m=this.shaders,T=this.renderer;for(v=0;v<m.length;v++)m[v].destroy();var E="vertShader",P="fragShader",w="attributes",R=o(p,E,null),L=a.parseFragmentShaderMaxTextures(o(p,P,null),T.maxTextures),O=o(p,w,null),I=o(p,"shaders",[]),F=I.length;if(F===0)R&&L&&(this.shaders=[new d(this,"default",R,L,y(O))]);else{var B=[];for(v=0;v<F;v++){var G=I[v],z,Y,J,$;if(typeof G=="string"?(z="default",Y=R,J=a.parseFragmentShaderMaxTextures(G,T.maxTextures),$=O):(z=o(G,"name","default"),Y=o(G,E,R),J=a.parseFragmentShaderMaxTextures(o(G,P,L),T.maxTextures),$=o(G,w,O)),z==="default"){var j=J.split(`
`),X=j[0].trim();X.indexOf("#define SHADER_NAME")>-1&&(z=X.substring(20))}Y&&J&&B.push(new d(this,z,Y,J,y($)))}this.shaders=B}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(p){return this.currentBatch={start:this.vertexCount,count:0,texture:[p],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=p,this.batch.push(this.currentBatch),0},addTextureToBatch:function(p){var v=this.currentBatch;v&&(v.texture.push(p),v.unit++,v.maxUnit++)},pushBatch:function(p){if(!this.currentBatch||this.forceZero&&p!==this.currentTexture)return this.createBatch(p);if(p===this.currentTexture)return this.currentUnit;var v=this.currentBatch,m=v.texture.indexOf(p);return m===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(p):(v.unit++,v.maxUnit++,v.texture.push(p),this.currentUnit=v.unit,this.currentTexture=p,v.unit):(this.currentUnit=m,this.currentTexture=p,m)},setGameObject:function(p,v){return v===void 0&&(v=p.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(p){return p===void 0&&(p=0),this.vertexCount+p>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(p,v){(p!==this.width||v!==this.height)&&this.flush(),this.width=p,this.height=v;for(var m=this.renderTargets,T=0;T<m.length;T++)m[T].resize(p,v);return this.setProjectionMatrix(p,v),this.resizeUniform&&this.set2f(this.resizeUniform,p,v),this.emit(l.RESIZE,p,v,this),this.onResize(p,v),this},setProjectionMatrix:function(p,v){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=p,this.projectionHeight=v,m.ortho(0,p,v,0,-1e3,1e3);for(var T=this.shaders,E="uProjectionMatrix",P=0;P<T.length;P++){var w=T[P];w.hasUniform(E)&&(w.resetUniform(E),w.setMatrix4fv(E,!1,m.val,w))}return this},flipProjectionMatrix:function(p){p===void 0&&(p=!0);var v=this.projectionMatrix;if(!v)return this;var m=this.projectionWidth,T=this.projectionHeight;p?v.ortho(0,m,0,T,-1e3,1e3):v.ortho(0,m,T,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var p=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==p||this.projectionHeight!==v)&&this.setProjectionMatrix(p,v)}},bind:function(p){if(p===void 0&&(p=this.currentShader),this.glReset)return this.rebind(p);var v=!1,m=this.gl;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),p.bind(v),this.currentShader=p,this.activeTextures.length=0,this.emit(l.BIND,this,p),this.onActive(p),this},rebind:function(p){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,m=v.length-1;m>=0;m--){var T=v[m].rebind();(!p||T===p)&&(this.currentShader=T)}return this.activeTextures.length=0,this.emit(l.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var p=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var m=0;m<p.length;m++){var T=p[m];T.syncUniforms(),v&&T.rebind()}},setVertexBuffer:function(p){if(p===void 0&&(p=this.vertexBuffer),p!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,p.webGLBuffer),this.activeBuffer=p,!0}return!1},preBatch:function(p){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(p),this},postBatch:function(p){return this.onDraw(this.currentRenderTarget),this.onPostBatch(p),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(p){if(p===void 0&&(p=!1),this.vertexCount>0){this.emit(l.BEFORE_FLUSH,this,p),this.onBeforeFlush(p);var v=this.gl,m=this.vertexCount,T=this.currentShader.vertexSize,E=this.topology;if(this.active){this.setVertexBuffer(),m===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,m*T));var P,w,R,L=this.batch,O=this.activeTextures;if(this.forceZero)for(O[0]||v.activeTexture(v.TEXTURE0),P=0;P<L.length;P++)w=L[P],R=w.texture[0],O[0]!==R&&(v.bindTexture(v.TEXTURE_2D,R.webGLTexture),O[0]=R),v.drawArrays(E,w.start,w.count);else for(P=0;P<L.length;P++){w=L[P];for(var I=0;I<=w.maxUnit;I++)R=w.texture[I],O[I]!==R&&(v.activeTexture(v.TEXTURE0+I),v.bindTexture(v.TEXTURE_2D,R.webGLTexture),O[I]=R);v.drawArrays(E,w.start,w.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(l.AFTER_FLUSH,this,p),this.onAfterFlush(p)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(p,v,m,T,E,P,w){var R=this.vertexViewF32,L=this.vertexViewU32,O=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++O]=p,R[++O]=v,R[++O]=m,R[++O]=T,R[++O]=E,R[++O]=P,L[++O]=w,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(p,v,m,T,E,P,w,R,L,O,I,F,B,G,z,Y,J,$,j,X){X===void 0&&(X=this.currentUnit);var H=!1;this.shouldFlush(6)&&(this.flush(),H=!0),this.currentBatch||(X=this.setTexture2D(j));var N=this.vertexViewF32,Q=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return N[++U]=v,N[++U]=m,N[++U]=O,N[++U]=I,N[++U]=X,N[++U]=$,Q[++U]=G,N[++U]=T,N[++U]=E,N[++U]=O,N[++U]=B,N[++U]=X,N[++U]=$,Q[++U]=Y,N[++U]=P,N[++U]=w,N[++U]=F,N[++U]=B,N[++U]=X,N[++U]=$,Q[++U]=J,N[++U]=v,N[++U]=m,N[++U]=O,N[++U]=I,N[++U]=X,N[++U]=$,Q[++U]=G,N[++U]=P,N[++U]=w,N[++U]=F,N[++U]=B,N[++U]=X,N[++U]=$,Q[++U]=J,N[++U]=R,N[++U]=L,N[++U]=F,N[++U]=I,N[++U]=X,N[++U]=$,Q[++U]=z,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(p),H},batchTri:function(p,v,m,T,E,P,w,R,L,O,I,F,B,G,z,Y,J){J===void 0&&(J=this.currentUnit);var $=!1;this.shouldFlush(3)&&(this.flush(),$=!0),this.currentBatch||(J=this.setTexture2D(Y));var j=this.vertexViewF32,X=this.vertexViewU32,H=this.vertexCount*this.currentShader.vertexComponentCount-1;return j[++H]=v,j[++H]=m,j[++H]=R,j[++H]=L,j[++H]=J,j[++H]=z,X[++H]=F,j[++H]=T,j[++H]=E,j[++H]=R,j[++H]=I,j[++H]=J,j[++H]=z,X[++H]=B,j[++H]=P,j[++H]=w,j[++H]=O,j[++H]=I,j[++H]=J,j[++H]=z,X[++H]=G,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(p),$},drawFillRect:function(p,v,m,T,E,P,w,R){w===void 0&&(w=this.renderer.whiteTexture),R===void 0&&(R=!0),p=Math.floor(p),v=Math.floor(v);var L=Math.floor(p+m),O=Math.floor(v+T),I=this.setTexture2D(w),F=a.getTintAppendFloatAlphaAndSwap(E,P),B=0,G=0,z=1,Y=1;R&&(G=1,Y=0),this.batchQuad(null,p,v,p,O,L,O,L,v,B,G,z,Y,F,F,F,F,0,w,I)},setTexture2D:function(p){return p===void 0&&(p=this.renderer.whiteTexture),this.pushBatch(p)},bindTexture:function(p,v){v===void 0&&(v=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+v),m.bindTexture(m.TEXTURE_2D,p.webGLTexture),this},bindRenderTarget:function(p,v){return this.bindTexture(p.texture,v)},setTime:function(p,v){return this.set1f(p,this.game.loop.getDuration(),v),this},setBoolean:function(p,v,m){return m===void 0&&(m=this.currentShader),m.setBoolean(p,v),this},set1f:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set1f(p,v),this},set2f:function(p,v,m,T){return T===void 0&&(T=this.currentShader),T.set2f(p,v,m),this},set3f:function(p,v,m,T,E){return E===void 0&&(E=this.currentShader),E.set3f(p,v,m,T),this},set4f:function(p,v,m,T,E,P){return P===void 0&&(P=this.currentShader),P.set4f(p,v,m,T,E),this},set1fv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set1fv(p,v),this},set2fv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set2fv(p,v),this},set3fv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set3fv(p,v),this},set4fv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set4fv(p,v),this},set1iv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set1iv(p,v),this},set2iv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set2iv(p,v),this},set3iv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set3iv(p,v),this},set4iv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set4iv(p,v),this},set1i:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set1i(p,v),this},set2i:function(p,v,m,T){return T===void 0&&(T=this.currentShader),T.set2i(p,v,m),this},set3i:function(p,v,m,T,E){return E===void 0&&(E=this.currentShader),E.set3i(p,v,m,T),this},set4i:function(p,v,m,T,E,P){return P===void 0&&(P=this.currentShader),P.set4i(p,v,m,T,E),this},setMatrix2fv:function(p,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix2fv(p,v,m),this},setMatrix3fv:function(p,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix3fv(p,v,m),this},setMatrix4fv:function(p,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix4fv(p,v,m),this},destroy:function(){this.emit(l.DESTROY,this);var p,v=this.shaders;for(p=0;p<v.length;p++)v[p].destroy();var m=this.renderTargets;for(p=0;p<m.length;p++)m[p].destroy();var T=this.renderer;return T.deleteBuffer(this.vertexBuffer),T.off(h.RESIZE,this.resize,this),T.off(h.PRE_RENDER,this.onPreRender,this),T.off(h.RENDER,this.onRender,this),T.off(h.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});C.exports=c},74797:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95428),y=s(72905),f=s(19715),l=s(83419),o=s(8054),r=s(50792),h=s(92503),u=s(50030),a=s(37867),d=s(29747),c=s(7530),p=s(32302),v=s(97480),m=s(69442),T=s(70554),E=s(88815),P=s(26128),w=s(1482),R=s(82751),L=s(84387),O=s(93567),I=s(57183),F=new l({Extends:r,initialize:function(G){r.call(this);var z=G.config,Y={alpha:z.transparent,desynchronized:z.desynchronized,depth:!0,antialias:z.antialiasGL,premultipliedAlpha:z.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:z.failIfMajorPerformanceCaveat,powerPreference:z.powerPreference,preserveDrawingBuffer:z.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:z.clearBeforeRender,antialias:z.antialias,backgroundColor:z.backgroundColor,contextCreation:Y,roundPixels:z.roundPixels,maxTextures:z.maxTextures,maxTextureSize:z.maxTextureSize,batchSize:z.batchSize,maxLights:z.maxLights,mipmapFilter:z.mipmapFilter},this.game=G,this.type=o.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=G.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=d,this.contextRestoredHandler=d,this.previousContextLostHandler=d,this.previousContextRestoredHandler=d,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(B){var G,z=this.game,Y=this.canvas,J=B.backgroundColor;if(z.config.context?G=z.config.context:G=Y.getContext("webgl",B.contextCreation)||Y.getContext("experimental-webgl",B.contextCreation),!G||G.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=G,this.setExtensions(),this.setContextHandlers(),z.context=G;for(var $=0;$<=27;$++)this.blendModes.push({func:[G.ONE,G.ONE_MINUS_SRC_ALPHA],equation:G.FUNC_ADD});this.blendModes[1].func=[G.ONE,G.DST_ALPHA],this.blendModes[2].func=[G.DST_COLOR,G.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[G.ONE,G.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[G.ZERO,G.ONE_MINUS_SRC_ALPHA],equation:G.FUNC_REVERSE_SUBTRACT},this.glFormats=[G.BYTE,G.SHORT,G.UNSIGNED_BYTE,G.UNSIGNED_SHORT,G.FLOAT],this.glFuncMap={mat2:{func:G.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:G.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:G.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:G.uniform1f,length:1},"1fv":{func:G.uniform1fv,length:1},"1i":{func:G.uniform1i,length:1},"1iv":{func:G.uniform1iv,length:1},"2f":{func:G.uniform2f,length:2},"2fv":{func:G.uniform2fv,length:1},"2i":{func:G.uniform2i,length:2},"2iv":{func:G.uniform2iv,length:1},"3f":{func:G.uniform3f,length:3},"3fv":{func:G.uniform3fv,length:1},"3i":{func:G.uniform3i,length:3},"3iv":{func:G.uniform3iv,length:1},"4f":{func:G.uniform4f,length:4},"4fv":{func:G.uniform4fv,length:1},"4i":{func:G.uniform4i,length:4},"4iv":{func:G.uniform4iv,length:1}},(!B.maxTextures||B.maxTextures===-1)&&(B.maxTextures=G.getParameter(G.MAX_TEXTURE_IMAGE_UNITS)),B.maxTextureSize||(B.maxTextureSize=G.getParameter(G.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),G.disable(G.DEPTH_TEST),G.disable(G.CULL_FACE),G.enable(G.BLEND),G.clearColor(J.redGL,J.greenGL,J.blueGL,J.alphaGL),G.clear(G.COLOR_BUFFER_BIT);var j=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return j.indexOf(B.mipmapFilter)!==-1&&(this.mipmapFilter=G[B.mipmapFilter]),this.maxTextures=T.checkShaderMax(G,B.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new c(this),this.setBlendMode(o.BlendModes.NORMAL),this.projectionMatrix=new a().identity(),z.textures.once(m.READY,this.boot,this),this},boot:function(){var B=this.game,G=this.pipelines,z=B.scale.baseSize,Y=z.width,J=z.height;this.width=Y,this.height=J,this.isBooted=!0,this.renderTarget=new p(this,Y,J,1,0,!0,!0),this.maskTarget=new p(this,Y,J,1,0,!0,!0),this.maskSource=new p(this,Y,J,1,0,!0,!0);var $=B.config;G.boot($.pipeline,$.defaultPipeline,$.autoMobilePipeline),this.blankTexture=B.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=B.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=B.textures.getFrame("__WHITE").glTexture;var j=this.gl;j.bindFramebuffer(j.FRAMEBUFFER,null),j.enable(j.SCISSOR_TEST),B.scale.on(v.RESIZE,this.onResize,this),this.resize(Y,J)},setExtensions:function(){var B=this.gl,G=B.getSupportedExtensions();this.supportedExtensions=G;var z="ANGLE_instanced_arrays";this.instancedArraysExtension=G.indexOf(z)>-1?B.getExtension(z):null;var Y="OES_vertex_array_object";this.vaoExtension=G.indexOf(Y)>-1?B.getExtension(Y):null},setContextHandlers:function(B,G){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof B=="function"?this.contextLostHandler=B.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof G=="function"?this.contextRestoredHandler=G.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(B){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(h.LOSE_WEBGL,this),B.preventDefault()},dispatchContextRestored:function(B){var G=this.gl;if(G.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(o.BlendModes.NORMAL),G.disable(G.BLEND),G.disable(G.DEPTH_TEST),G.enable(G.CULL_FACE),this.compression=this.getCompressedTextures();var z=function(Y){Y.createResource()};g(this.glTextureWrappers,z),g(this.glBufferWrappers,z),g(this.glFramebufferWrappers,z),g(this.glProgramWrappers,z),g(this.glAttribLocationWrappers,z),g(this.glUniformLocationWrappers,z),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(h.RESTORE_WEBGL,this),B.preventDefault()},createTemporaryTextures:function(){for(var B=this.gl,G=0;G<this.maxTextures;G++){var z=B.createTexture();B.activeTexture(B.TEXTURE0+G),B.bindTexture(B.TEXTURE_2D,z),B.texImage2D(B.TEXTURE_2D,0,B.RGBA,1,1,0,B.RGBA,B.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(G)}},captureFrame:function(B,G){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(B,G,z){},stopCapture:function(){},onCapture:function(B){},onResize:function(B,G){(G.width!==this.width||G.height!==this.height)&&this.resize(G.width,G.height)},beginCapture:function(B,G){B===void 0&&(B=this.width),G===void 0&&(G=this.height),this.renderTarget.bind(!0,B,G),this.setProjectionMatrix(B,G)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(B,G){var z=this.gl;return this.width=B,this.height=G,this.setProjectionMatrix(B,G),z.viewport(0,0,B,G),this.drawingBufferHeight=z.drawingBufferHeight,z.scissor(0,z.drawingBufferHeight-G,B,G),this.defaultScissor[2]=B,this.defaultScissor[3]=G,this.emit(h.RESIZE,B,G),this},getCompressedTextures:function(){var B="WEBGL_compressed_texture_",G="WEBKIT_"+B,z="EXT_texture_compression_",Y=function($,j){var X=$.getExtension(B+j)||$.getExtension(G+j)||$.getExtension(z+j);if(X){var H={};for(var N in X)H[X[N]]=N;return H}},J=this.gl;return{ETC:Y(J,"etc"),ETC1:Y(J,"etc1"),ATC:Y(J,"atc"),ASTC:Y(J,"astc"),BPTC:Y(J,"bptc"),RGTC:Y(J,"rgtc"),PVRTC:Y(J,"pvrtc"),S3TC:Y(J,"s3tc"),S3TCSRGB:Y(J,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(B,G){var z=this.compression[B.toUpperCase()];if(G in z)return z[G]},supportsCompressedTexture:function(B,G){var z=this.compression[B.toUpperCase()];return z?G?G in z:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(B,G){return(B!==this.projectionWidth||G!==this.projectionHeight)&&(this.projectionWidth=B,this.projectionHeight=G,this.projectionMatrix.ortho(0,B,G,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(B){return this.supportedExtensions?this.supportedExtensions.indexOf(B):!1},getExtension:function(B){return this.hasExtension(B)?(B in this.extensions||(this.extensions[B]=this.gl.getExtension(B)),this.extensions[B]):null},flush:function(){this.pipelines.flush()},pushScissor:function(B,G,z,Y,J){J===void 0&&(J=this.drawingBufferHeight);var $=this.scissorStack,j=[B,G,z,Y];return $.push(j),this.setScissor(B,G,z,Y,J),this.currentScissor=j,j},setScissor:function(B,G,z,Y,J){J===void 0&&(J=this.drawingBufferHeight);var $=this.gl,j=this.currentScissor,X=z>0&&Y>0;if(j&&X){var H=j[0],N=j[1],Q=j[2],U=j[3];X=H!==B||N!==G||Q!==z||U!==Y}X&&(this.flush(),$.scissor(B,J-G-Y,z,Y))},resetScissor:function(){var B=this.gl;B.enable(B.SCISSOR_TEST);var G=this.currentScissor;if(G){var z=G[0],Y=G[1],J=G[2],$=G[3];J>0&&$>0&&B.scissor(z,this.drawingBufferHeight-Y-$,J,$)}},popScissor:function(){var B=this.scissorStack;B.pop();var G=B[B.length-1];G&&this.setScissor(G[0],G[1],G[2],G[3]),this.currentScissor=G},hasActiveStencilMask:function(){var B=this.currentMask.mask,G=this.currentCameraMask.mask;return B&&B.isStencil||G&&G.isStencil},resetViewport:function(){var B=this.gl;B.viewport(0,0,this.width,this.height),this.drawingBufferHeight=B.drawingBufferHeight},setBlendMode:function(B,G){G===void 0&&(G=!1);var z=this.gl,Y=this.blendModes[B];return G||B!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==B?(this.flush(),z.enable(z.BLEND),z.blendEquation(Y.equation),Y.func.length>2?z.blendFuncSeparate(Y.func[0],Y.func[1],Y.func[2],Y.func[3]):z.blendFunc(Y.func[0],Y.func[1]),this.currentBlendMode=B,!0):!1},addBlendMode:function(B,G){var z=this.blendModes.push({func:B,equation:G});return z-1},updateBlendMode:function(B,G,z){return this.blendModes[B]&&(this.blendModes[B].func=G,z&&(this.blendModes[B].equation=z)),this},removeBlendMode:function(B){return B>17&&this.blendModes[B]&&this.blendModes.splice(B,1),this},pushFramebuffer:function(B,G,z,Y,J){return B===this.currentFramebuffer?this:(this.fboStack.push(B),this.setFramebuffer(B,G,z,Y,J))},setFramebuffer:function(B,G,z,Y,J){if(G===void 0&&(G=!1),z===void 0&&(z=!0),Y===void 0&&(Y=null),J===void 0&&(J=!1),B===this.currentFramebuffer)return this;var $=this.gl,j=this.width,X=this.height;return B&&B.renderTexture&&z?(j=B.renderTexture.width,X=B.renderTexture.height):this.flush(),B?$.bindFramebuffer($.FRAMEBUFFER,B.webGLFramebuffer):$.bindFramebuffer($.FRAMEBUFFER,null),z&&$.viewport(0,0,j,X),Y&&$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,Y.webGLTexture,0),J&&($.clearColor(0,0,0,0),$.clear($.COLOR_BUFFER_BIT)),G&&(B?(this.drawingBufferHeight=X,this.pushScissor(0,0,j,X)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=B,this},popFramebuffer:function(B,G){B===void 0&&(B=!1),G===void 0&&(G=!0);var z=this.fboStack;z.pop();var Y=z[z.length-1];return Y||(Y=null),this.setFramebuffer(Y,B,G),Y},restoreFramebuffer:function(B,G){B===void 0&&(B=!1),G===void 0&&(G=!0);var z=this.fboStack,Y=z[z.length-1];Y||(Y=null),this.currentFramebuffer=null,this.setFramebuffer(Y,B,G)},setProgram:function(B){return B!==this.currentProgram?(this.flush(),this.gl.useProgram(B.webGLProgram),this.currentProgram=B,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(B,G,z,Y,J){J===void 0&&(J=!1);var $=this.gl,j=$.NEAREST,X=$.NEAREST,H=$.CLAMP_TO_EDGE,N=null;G=B?B.width:G,z=B?B.height:z;var Q=u(G,z);if(Q&&!J&&(H=$.REPEAT),Y===o.ScaleModes.LINEAR&&this.config.antialias){var U=B&&B.compressed,q=!U&&Q||U&&B.mipmaps.length>1;j=this.mipmapFilter&&q?this.mipmapFilter:$.LINEAR,X=$.LINEAR}return!B&&typeof G=="number"&&typeof z=="number"?N=this.createTexture2D(0,j,X,H,H,$.RGBA,null,G,z):N=this.createTexture2D(0,j,X,H,H,$.RGBA,B),N},createTexture2D:function(B,G,z,Y,J,$,j,X,H,N,Q,U){typeof X!="number"&&(X=j?j.width:1),typeof H!="number"&&(H=j?j.height:1);var q=new R(this.gl,B,G,z,Y,J,$,j,X,H,N,Q,U);return this.glTextureWrappers.push(q),q},createFramebuffer:function(B,G,z,Y){this.currentFramebuffer=null;var J=new L(this.gl,B,G,z,Y);return this.glFramebufferWrappers.push(J),J},beginBitmapMask:function(B,G){var z=this.gl;z&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==B&&(this.currentMask.mask=B,this.currentMask.camera=G))},drawBitmapMask:function(B,G,z){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),B.renderWebGL(this,B,G),this.maskSource.unbind(!0),this.maskTarget.unbind();var Y=this.gl,J=this.getCurrentStencilMask();J?(Y.enable(Y.STENCIL_TEST),J.mask.applyStencil(this,J.camera,!0)):this.currentMask.mask=null,this.pipelines.set(z),Y.activeTexture(Y.TEXTURE0),Y.bindTexture(Y.TEXTURE_2D,this.maskTarget.texture.webGLTexture),Y.activeTexture(Y.TEXTURE1),Y.bindTexture(Y.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(B,G){var z=new w(this.gl,B,G);return this.glProgramWrappers.push(z),z},createVertexBuffer:function(B,G){var z=this.gl,Y=new P(z,B,z.ARRAY_BUFFER,G);return this.glBufferWrappers.push(Y),Y},createAttribLocation:function(B,G){var z=new O(this.gl,B,G);return this.glAttribLocationWrappers.push(z),z},createUniformLocation:function(B,G){var z=new I(this.gl,B,G);return this.glUniformLocationWrappers.push(z),z},createIndexBuffer:function(B,G){var z=this.gl,Y=new P(z,B,z.ELEMENT_ARRAY_BUFFER,G);return this.glBufferWrappers.push(Y),Y},deleteTexture:function(B){if(B)return y(this.glTextureWrappers,B),B.destroy(),this},deleteFramebuffer:function(B){return B?(y(this.fboStack,B),y(this.glFramebufferWrappers,B),B.destroy(),this):this},deleteProgram:function(B){return B&&(y(this.glProgramWrappers,B),B.destroy()),this},deleteAttribLocation:function(B){return B&&(y(this.glAttribLocationWrappers,B),B.destroy()),this},deleteUniformLocation:function(B){return B&&(y(this.glUniformLocationWrappers,B),B.destroy()),this},deleteBuffer:function(B){return B?(y(this.glBufferWrappers,B),B.destroy(),this):this},preRenderCamera:function(B){var G=B.x,z=B.y,Y=B.width,J=B.height,$=B.backgroundColor;if(B.emit(f.PRE_RENDER,B),this.pipelines.preBatchCamera(B),this.pushScissor(G,z,Y,J),B.mask&&(this.currentCameraMask.mask=B.mask,this.currentCameraMask.camera=B._maskCamera,B.mask.preRenderWebGL(this,B,B._maskCamera)),$.alphaGL>0){var j=this.pipelines.setMulti();j.drawFillRect(G,z,Y,J,T.getTintFromFloats($.blueGL,$.greenGL,$.redGL,1),$.alphaGL)}},getCurrentStencilMask:function(){var B=null,G=this.maskStack,z=this.currentCameraMask;return G.length>0?B=G[G.length-1]:z.mask&&z.mask.isStencil&&(B=z),B},postRenderCamera:function(B){var G=B.flashEffect,z=B.fadeEffect;if(G.isRunning||z.isRunning||z.isComplete){var Y=this.pipelines.setMulti();G.postRenderWebGL(Y,T.getTintFromFloats),z.postRenderWebGL(Y,T.getTintFromFloats)}B.dirty=!1,this.popScissor(),B.mask&&(this.currentCameraMask.mask=null,B.mask.postRenderWebGL(this,B._maskCamera)),this.pipelines.postBatchCamera(B),B.emit(f.POST_RENDER,B)},preRender:function(){if(!this.contextLost){var B=this.gl;if(B.bindFramebuffer(B.FRAMEBUFFER,null),this.emit(h.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var G=this.config.backgroundColor;B.clearColor(G.redGL,G.greenGL,G.blueGL,G.alphaGL),B.clear(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)}B.enable(B.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&B.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(h.PRE_RENDER)}},render:function(B,G,z){if(!this.contextLost){var Y=G.length;if(this.emit(h.RENDER,B,z),this.preRenderCamera(z),Y===0){this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(z);return}this.currentType="";for(var J=this.currentMask,$=0;$<Y;$++){this.finalType=$===Y-1;var j=G[$],X=j.mask;J=this.currentMask,J.mask&&J.mask!==X&&J.mask.postRenderWebGL(this,J.camera),X&&J.mask!==X&&X.preRenderWebGL(this,j,z),j.blendMode!==this.currentBlendMode&&this.setBlendMode(j.blendMode);var H=j.type;H!==this.currentType&&(this.newType=!0,this.currentType=H),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=G[$+1].type===this.currentType,j.renderWebGL(this,j,z),this.newType=!1}J=this.currentMask,J.mask&&J.mask.postRenderWebGL(this,J.camera),this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(z)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(h.POST_RENDER);var B=this.snapshotState;B.callback&&(E(this.gl,B),B.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var B=this.gl,G=this.getCurrentStencilMask();if(G){var z=G.mask;B.enable(B.STENCIL_TEST),z.invertAlpha?B.stencilFunc(B.NOTEQUAL,z.level,255):B.stencilFunc(B.EQUAL,z.level,255)}},snapshot:function(B,G,z){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,B,G,z)},snapshotArea:function(B,G,z,Y,J,$,j){var X=this.snapshotState;return X.callback=J,X.type=$,X.encoder=j,X.getPixel=!1,X.x=B,X.y=G,X.width=z,X.height=Y,this},snapshotPixel:function(B,G,z){return this.snapshotArea(B,G,1,1,z),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(B,G,z,Y,J,$,j,X,H,N,Q){J===void 0&&(J=!1),$===void 0&&($=0),j===void 0&&(j=0),X===void 0&&(X=G),H===void 0&&(H=z),N==="pixel"&&(J=!0,N="image/png");var U=this.currentFramebuffer;this.snapshotArea($,j,X,H,Y,N,Q);var q=this.snapshotState;return q.getPixel=J,q.isFramebuffer=!0,q.bufferWidth=G,q.bufferHeight=z,q.width=Math.min(q.width,G),q.height=Math.min(q.height,z),this.setFramebuffer(B),E(this.gl,q),this.setFramebuffer(U),q.callback=null,q.isFramebuffer=!1,this},canvasToTexture:function(B,G,z,Y){z===void 0&&(z=!1),Y===void 0&&(Y=!1);var J=this.gl,$=J.NEAREST,j=J.NEAREST,X=B.width,H=B.height,N=J.CLAMP_TO_EDGE,Q=u(X,H);return!z&&Q&&(N=J.REPEAT),this.config.antialias&&($=Q&&this.mipmapFilter?this.mipmapFilter:J.LINEAR,j=J.LINEAR),G?(G.update(B,X,H,Y,N,N,$,j,G.format),G):this.createTexture2D(0,$,j,N,N,J.RGBA,B,X,H,!0,!1,Y)},createCanvasTexture:function(B,G,z){return G===void 0&&(G=!1),z===void 0&&(z=!1),this.canvasToTexture(B,null,G,z)},updateCanvasTexture:function(B,G,z,Y){return z===void 0&&(z=!1),Y===void 0&&(Y=!1),this.canvasToTexture(B,G,Y,z)},videoToTexture:function(B,G,z,Y){z===void 0&&(z=!1),Y===void 0&&(Y=!1);var J=this.gl,$=J.NEAREST,j=J.NEAREST,X=B.videoWidth,H=B.videoHeight,N=J.CLAMP_TO_EDGE,Q=u(X,H);return!z&&Q&&(N=J.REPEAT),this.config.antialias&&($=Q&&this.mipmapFilter?this.mipmapFilter:J.LINEAR,j=J.LINEAR),G?(G.update(B,X,H,Y,N,N,$,j,G.format),G):this.createTexture2D(0,$,j,N,N,J.RGBA,B,X,H,!0,!0,Y)},createVideoTexture:function(B,G,z){return G===void 0&&(G=!1),z===void 0&&(z=!1),this.videoToTexture(B,null,G,z)},updateVideoTexture:function(B,G,z,Y){return z===void 0&&(z=!1),Y===void 0&&(Y=!1),this.videoToTexture(B,G,Y,z)},createUint8ArrayTexture:function(B,G,z){var Y=this.gl,J=Y.NEAREST,$=Y.NEAREST,j=Y.CLAMP_TO_EDGE,X=u(G,z);return X&&(j=Y.REPEAT),this.createTexture2D(0,J,$,j,j,Y.RGBA,B,G,z)},setTextureFilter:function(B,G){var z=this.gl,Y=G===0?z.LINEAR:z.NEAREST;z.activeTexture(z.TEXTURE0);var J=z.getParameter(z.TEXTURE_BINDING_2D);return z.bindTexture(z.TEXTURE_2D,B.webGLTexture),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,Y),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,Y),B.minFilter=Y,B.magFilter=Y,J&&z.bindTexture(z.TEXTURE_2D,J),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var B=function(G){G.destroy()};g(this.glAttribLocationWrappers,B),g(this.glBufferWrappers,B),g(this.glFramebufferWrappers,B),g(this.glProgramWrappers,B),g(this.glTextureWrappers,B),g(this.glUniformLocationWrappers,B),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});C.exports=F},38683:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95428),f=s(95540),l=s(14500),o=new g({initialize:function(h,u,a,d,c){this.pipeline=h,this.name=u,this.renderer=h.renderer,this.gl=this.renderer.gl,this.fragSrc=d,this.vertSrc=a,this.program=this.renderer.createProgram(a,d),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(c),this.createUniforms()},createAttributes:function(r){var h=0,u=0,a=[];this.vertexComponentCount=0;for(var d=0;d<r.length;d++){var c=r[d],p=c.name,v=f(c,"size",1),m=f(c,"type",l.FLOAT),T=m.enum,E=m.size,P=!!c.normalized;a.push({name:p,size:v,type:T,normalized:P,offset:u,enabled:!1,location:-1}),E===4?h+=v:h++,u+=v*E}this.vertexSize=u,this.vertexComponentCount=h,this.attributes=a},bind:function(r,h){return r===void 0&&(r=!1),h===void 0&&(h=!1),h&&this.pipeline.flush(),this.renderer.setProgram(this.program),r&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(r){r===void 0&&(r=!1);for(var h=this.gl,u=this.renderer,a=this.vertexSize,d=this.attributes,c=this.program,p=0;p<d.length;p++){var v=d[p],m=v.size,T=v.type,E=v.offset,P=v.enabled,w=v.location,R=!!v.normalized;if(r){w!==-1&&u.deleteAttribLocation(w);var L=this.renderer.createAttribLocation(c,v.name);L.webGLAttribLocation>=0?(h.enableVertexAttribArray(L.webGLAttribLocation),h.vertexAttribPointer(L.webGLAttribLocation,m,T,R,a,E),v.enabled=!0,v.location=L):L.webGLAttribLocation!==-1&&h.disableVertexAttribArray(L.webGLAttribLocation)}else P?h.vertexAttribPointer(w.webGLAttribLocation,m,T,R,a,E):!P&&w!==-1&&w.webGLAttribLocation>-1&&(h.disableVertexAttribArray(w.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var r=this.gl,h=this.program,u=this.uniforms,a,d,c,p=r.getProgramParameter(h.webGLProgram,r.ACTIVE_UNIFORMS);for(a=0;a<p;a++){var v=r.getActiveUniform(h.webGLProgram,a);if(v){d=v.name,c=this.renderer.createUniformLocation(h,d),c!==null&&(u[d]={name:d,location:c,setter:null,value1:null,value2:null,value3:null,value4:null});var m=d.indexOf("[");m>0&&(d=d.substr(0,m),u.hasOwnProperty(d)||(c=this.renderer.createUniformLocation(h,d),c!==null&&(u[d]={name:d,location:c,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var r=this.gl;this.renderer.setProgram(this.program);for(var h in this.uniforms){var u=this.uniforms[h];u.setter&&u.setter.call(r,u.location.webGLUniformLocation,u.value1,u.value2,u.value3,u.value4)}},hasUniform:function(r){return this.uniforms.hasOwnProperty(r)},resetUniform:function(r){var h=this.uniforms[r];return h&&(h.value1=null,h.value2=null,h.value3=null,h.value4=null),this},setUniform1:function(r,h,u,a){var d=this.uniforms[h];return d?((a||d.value1!==u)&&(d.setter||(d.setter=r),d.value1=u,this.renderer.setProgram(this.program),r.call(this.gl,d.location.webGLUniformLocation,u),this.pipeline.currentShader=this),this):this},setUniform2:function(r,h,u,a,d){var c=this.uniforms[h];return c?((d||c.value1!==u||c.value2!==a)&&(c.setter||(c.setter=r),c.value1=u,c.value2=a,this.renderer.setProgram(this.program),r.call(this.gl,c.location.webGLUniformLocation,u,a),this.pipeline.currentShader=this),this):this},setUniform3:function(r,h,u,a,d,c){var p=this.uniforms[h];return p?((c||p.value1!==u||p.value2!==a||p.value3!==d)&&(p.setter||(p.setter=r),p.value1=u,p.value2=a,p.value3=d,this.renderer.setProgram(this.program),r.call(this.gl,p.location.webGLUniformLocation,u,a,d),this.pipeline.currentShader=this),this):this},setUniform4:function(r,h,u,a,d,c,p){var v=this.uniforms[h];return v?((p||v.value1!==u||v.value2!==a||v.value3!==d||v.value4!==c)&&(v.setter||(v.setter=r),v.value1=u,v.value2=a,v.value3=d,v.value4=c,this.renderer.setProgram(this.program),r.call(this.gl,v.location.webGLUniformLocation,u,a,d,c),this.pipeline.currentShader=this),this):this},setBoolean:function(r,h){return this.setUniform1(this.gl.uniform1i,r,Number(h))},set1f:function(r,h){return this.setUniform1(this.gl.uniform1f,r,h)},set2f:function(r,h,u){return this.setUniform2(this.gl.uniform2f,r,h,u)},set3f:function(r,h,u,a){return this.setUniform3(this.gl.uniform3f,r,h,u,a)},set4f:function(r,h,u,a,d){return this.setUniform4(this.gl.uniform4f,r,h,u,a,d)},set1fv:function(r,h){return this.setUniform1(this.gl.uniform1fv,r,h,!0)},set2fv:function(r,h){return this.setUniform1(this.gl.uniform2fv,r,h,!0)},set3fv:function(r,h){return this.setUniform1(this.gl.uniform3fv,r,h,!0)},set4fv:function(r,h){return this.setUniform1(this.gl.uniform4fv,r,h,!0)},set1iv:function(r,h){return this.setUniform1(this.gl.uniform1iv,r,h,!0)},set2iv:function(r,h){return this.setUniform1(this.gl.uniform2iv,r,h,!0)},set3iv:function(r,h){return this.setUniform1(this.gl.uniform3iv,r,h,!0)},set4iv:function(r,h){return this.setUniform1(this.gl.uniform4iv,r,h,!0)},set1i:function(r,h){return this.setUniform1(this.gl.uniform1i,r,h)},set2i:function(r,h,u){return this.setUniform2(this.gl.uniform2i,r,h,u)},set3i:function(r,h,u,a){return this.setUniform3(this.gl.uniform3i,r,h,u,a)},set4i:function(r,h,u,a,d){return this.setUniform4(this.gl.uniform4i,r,h,u,a,d)},setMatrix2fv:function(r,h,u){return this.setUniform2(this.gl.uniformMatrix2fv,r,h,u,!0)},setMatrix3fv:function(r,h,u){return this.setUniform2(this.gl.uniformMatrix3fv,r,h,u,!0)},setMatrix4fv:function(r,h,u){return this.setUniform2(this.gl.uniformMatrix4fv,r,h,u,!0)},createProgram:function(r,h){return r===void 0&&(r=this.vertSrc),h===void 0&&(h=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=r,this.fragSrc=h,this.program=this.renderer.createProgram(r,h),this.createUniforms(),this.rebind()},destroy:function(){var r=this.renderer;y(this.uniforms,function(h){r.deleteUniformLocation(h.location)}),this.uniforms=null,y(this.attributes,function(h){r.deleteAttribLocation(h.location)}),this.attributes=null,r.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});C.exports=o},14500:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};C.exports=A},4159:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(14500),y=s(79291),f={PipelineManager:s(7530),Pipelines:s(96615),RenderTarget:s(32302),Utils:s(70554),WebGLPipeline:s(29100),WebGLRenderer:s(74797),WebGLShader:s(38683),Wrappers:s(9503)};f=y(!1,f,g),C.exports=f},31302:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(78908),l=s(85191),o=s(14500),r=s(29100),h=new g({Extends:r,initialize:function(a){a.fragShader=y(a,"fragShader",f),a.vertShader=y(a,"vertShader",l),a.batchSize=y(a,"batchSize",1),a.vertices=y(a,"vertices",[-1,1,-1,-7,7,1]),a.attributes=y(a,"attributes",[{name:"inPosition",size:2,type:o.FLOAT}]),r.call(this,a)},boot:function(){r.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(u,a){r.prototype.resize.call(this,u,a),this.set2f("uResolution",u,a)},beginMask:function(u,a,d){this.renderer.beginBitmapMask(u,d)},endMask:function(u,a,d){var c=this.gl,p=this.renderer,v=u.bitmapMask;v&&c&&(p.drawBitmapMask(v,a,this),d&&this.set2f("uResolution",d.width,d.height),this.set1i("uInvertMaskAlpha",u.invertAlpha),c.drawArrays(this.topology,0,3),d&&this.set2f("uResolution",this.width,this.height),c.bindTexture(c.TEXTURE_2D,null))}});C.exports=h},92651:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(58918),f=s(14811),l=s(95540),o=s(43558),r=s(89350),h=s(70554),u=new g({Extends:o,initialize:function(d){d.shaders=[h.setGlowQuality(r.FXGlowFrag,d.game),r.FXShadowFrag,r.FXPixelateFrag,r.FXVignetteFrag,r.FXShineFrag,r.FXBlurLowFrag,r.FXBlurMedFrag,r.FXBlurHighFrag,r.FXGradientFrag,r.FXBloomFrag,r.ColorMatrixFrag,r.FXCircleFrag,r.FXBarrelFrag,r.FXDisplacementFrag,r.FXWipeFrag,r.FXBokehFrag],o.call(this,d);var c=this.game;this.glow=new y.Glow(c),this.shadow=new y.Shadow(c),this.pixelate=new y.Pixelate(c),this.vignette=new y.Vignette(c),this.shine=new y.Shine(c),this.gradient=new y.Gradient(c),this.circle=new y.Circle(c),this.barrel=new y.Barrel(c),this.wipe=new y.Wipe(c),this.bokeh=new y.Bokeh(c);var p=[];p[f.GLOW]=this.onGlow,p[f.SHADOW]=this.onShadow,p[f.PIXELATE]=this.onPixelate,p[f.VIGNETTE]=this.onVignette,p[f.SHINE]=this.onShine,p[f.BLUR]=this.onBlur,p[f.GRADIENT]=this.onGradient,p[f.BLOOM]=this.onBloom,p[f.COLOR_MATRIX]=this.onColorMatrix,p[f.CIRCLE]=this.onCircle,p[f.BARREL]=this.onBarrel,p[f.DISPLACEMENT]=this.onDisplacement,p[f.WIPE]=this.onWipe,p[f.BOKEH]=this.onBokeh,this.fxHandlers=p,this.source,this.target,this.swap},onDraw:function(a,d,c){this.source=a,this.target=d,this.swap=c;var p=a.width,v=a.height,m=this.tempSprite,T=this.fxHandlers;if(m&&m.preFX)for(var E=m.preFX.list,P=0;P<E.length;P++){var w=E[P];w.active&&T[w.type].call(this,w,p,v)}this.drawToGame(this.source)},runDraw:function(){var a=this.source,d=this.target;this.copy(a,d),this.source=d,this.target=a},onGlow:function(a,d,c){var p=this.shaders[f.GLOW];this.setShader(p),this.glow.onPreRender(a,p,d,c),this.runDraw()},onShadow:function(a){var d=this.shaders[f.SHADOW];this.setShader(d),this.shadow.onPreRender(a,d),this.runDraw()},onPixelate:function(a,d,c){var p=this.shaders[f.PIXELATE];this.setShader(p),this.pixelate.onPreRender(a,p,d,c),this.runDraw()},onVignette:function(a){var d=this.shaders[f.VIGNETTE];this.setShader(d),this.vignette.onPreRender(a,d),this.runDraw()},onShine:function(a,d,c){var p=this.shaders[f.SHINE];this.setShader(p),this.shine.onPreRender(a,p,d,c),this.runDraw()},onBlur:function(a,d,c){var p=l(a,"quality"),v=this.shaders[f.BLUR+p];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",d,c),this.set1f("strength",l(a,"strength")),this.set3fv("color",l(a,"glcolor"));for(var m=l(a,"x"),T=l(a,"y"),E=l(a,"steps"),P=0;P<E;P++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw()},onGradient:function(a){var d=this.shaders[f.GRADIENT];this.setShader(d),this.gradient.onPreRender(a,d),this.runDraw()},onBloom:function(a,d,c){var p=this.shaders[f.BLOOM];this.copySprite(this.source,this.swap),this.setShader(p),this.set1i("uMainSampler",0),this.set1f("strength",l(a,"blurStrength")),this.set3fv("color",l(a,"glcolor"));for(var v=2/d*l(a,"offsetX"),m=2/c*l(a,"offsetY"),T=l(a,"steps"),E=0;E<T;E++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw();this.blendFrames(this.swap,this.source,this.target,l(a,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(a){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",a.getData()),this.set1f("uAlpha",a.alpha),this.runDraw()},onCircle:function(a,d,c){var p=this.shaders[f.CIRCLE];this.setShader(p),this.circle.onPreRender(a,p,d,c),this.runDraw()},onBarrel:function(a){var d=this.shaders[f.BARREL];this.setShader(d),this.barrel.onPreRender(a,d),this.runDraw()},onDisplacement:function(a){this.setShader(this.shaders[f.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.runDraw()},onWipe:function(a){var d=this.shaders[f.WIPE];this.setShader(d),this.wipe.onPreRender(a,d),this.runDraw()},onBokeh:function(a,d,c){var p=this.shaders[f.BOKEH];this.setShader(p),this.bokeh.onPreRender(a,p,d,c),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,o.prototype.destroy.call(this),this}});C.exports=u},96569:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(31063),l=s(57516),o=s(61340),r=s(26099),h=s(29100),u=new g({Extends:l,initialize:function(d){var c=y(d,"fragShader",f);d.fragShader=c.replace("%LIGHT_COUNT%",d.game.renderer.config.maxLights),l.call(this,d),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new r,this._tempMatrix=new o,this._tempMatrix2=new o},boot:function(){h.prototype.boot.call(this)},onRender:function(a,d){var c=a.sys.lights;if(this.lightsActive=!1,!(!c||!c.active)){var p=c.getLights(d),v=p.length;this.lightsActive=!0;var m,T=this.renderer,E=T.height,P=d.matrix,w=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",d.x,d.y,d.rotation,d.zoom),this.set3f("uAmbientLightColor",c.ambientColor.r,c.ambientColor.g,c.ambientColor.b),this.set1i("uLightCount",v),m=0;m<v;m++){var R=p[m].light,L=R.color,O="uLights["+m+"].";P.transformPoint(R.x,R.y,w),this.set2f(O+"position",w.x-d.scrollX*R.scrollFactorX*d.zoom,E-(w.y-d.scrollY*R.scrollFactorY*d.zoom)),this.set3f(O+"color",L.r,L.g,L.b),this.set1f(O+"intensity",R.intensity),this.set1f(O+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(a){if(a!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var d=this.inverseRotationMatrix;if(a){var c=-a,p=Math.cos(c),v=Math.sin(c);d[1]=v,d[3]=-v,d[0]=d[4]=p}else d[0]=d[4]=1,d[1]=d[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,d),this.currentNormalMapRotation=a}},setTexture2D:function(a,d){var c=this.renderer;a===void 0&&(a=c.whiteTexture);var p=this.getNormalMap(d);this.isNewNormalMap(a,p)&&(this.flush(),this.createBatch(a),this.addTextureToBatch(p),this.currentNormalMap=p);var v=0;if(d&&d.parentContainer){var m=d.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=m.rotationNormalized}else d&&(v=d.rotation);return this.currentBatch===null&&(this.createBatch(a),this.addTextureToBatch(p)),this.setNormalMapRotation(v),0},setGameObject:function(a,d){d===void 0&&(d=a.frame);var c=d.glTexture,p=this.getNormalMap(a);if(this.isNewNormalMap(c,p)&&(this.flush(),this.createBatch(c),this.addTextureToBatch(p),this.currentNormalMap=p),a.parentContainer){var v=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(a.rotation);return this.currentBatch===null&&(this.createBatch(c),this.addTextureToBatch(p)),0},isNewNormalMap:function(a,d){return this.currentTexture!==a||this.currentNormalMap!==d},getNormalMap:function(a){var d;if(a)a.displayTexture?d=a.displayTexture.dataSource[a.displayFrame.sourceIndex]:a.texture?d=a.texture.dataSource[a.frame.sourceIndex]:a.tileset&&(Array.isArray(a.tileset)?d=a.tileset[0].image.dataSource[0]:d=a.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return d?d.glTexture:this.renderer.normalTexture},batchSprite:function(a,d,c){this.lightsActive&&l.prototype.batchSprite.call(this,a,d,c)},batchTexture:function(a,d,c,p,v,m,T,E,P,w,R,L,O,I,F,B,G,z,Y,J,$,j,X,H,N,Q,U,q,et,it,rt,lt){this.lightsActive&&l.prototype.batchTexture.call(this,a,d,c,p,v,m,T,E,P,w,R,L,O,I,F,B,G,z,Y,J,$,j,X,H,N,Q,U,q,et,it,rt,lt)},batchTextureFrame:function(a,d,c,p,v,m,T){this.lightsActive&&l.prototype.batchTextureFrame.call(this,a,d,c,p,v,m,T)}});C.exports=u},56527:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(57516),l=s(45561),o=s(60722),r=s(14500),h=s(29100),u=new g({Extends:f,initialize:function(d){d.fragShader=y(d,"fragShader",l),d.vertShader=y(d,"vertShader",o),d.attributes=y(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:r.UNSIGNED_BYTE,normalized:!0}]),d.forceZero=!0,d.resizeUniform="uResolution",f.call(this,d)},boot:function(){h.prototype.boot.call(this);var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height)}});C.exports=u},57516:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(94811),f=s(95540),l=s(98840),o=s(44667),r=s(61340),h=s(70554),u=s(14500),a=s(29100),d=new g({Extends:a,initialize:function(p){var v=p.game.renderer,m=f(p,"fragShader",l);p.fragShader=h.parseFragmentShaderMaxTextures(m,v.maxTextures),p.vertShader=f(p,"vertShader",o),p.attributes=f(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:u.UNSIGNED_BYTE,normalized:!0}]),p.resizeUniform="uResolution",a.call(this,p),this._tempMatrix1=new r,this._tempMatrix2=new r,this._tempMatrix3=new r,this.calcMatrix=new r,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){a.prototype.boot.call(this);var c=this.renderer;this.set1iv("uMainSampler",c.textureIndexes),this.set2f("uResolution",c.width,c.height)},batchSprite:function(c,p,v){this.manager.set(this,c);var m=this._tempMatrix1,T=this._tempMatrix2,E=this._tempMatrix3,P=c.frame,w=P.glTexture,R=P.u0,L=P.v0,O=P.u1,I=P.v1,F=P.x,B=P.y,G=P.cutWidth,z=P.cutHeight,Y=P.customPivot,J=c.displayOriginX,$=c.displayOriginY,j=-J+F,X=-$+B;if(c.isCropped){var H=c._crop;(H.flipX!==c.flipX||H.flipY!==c.flipY)&&P.updateCropUVs(H,c.flipX,c.flipY),R=H.u0,L=H.v0,O=H.u1,I=H.v1,G=H.width,z=H.height,F=H.x,B=H.y,j=-J+F,X=-$+B}var N=1,Q=1;c.flipX&&(Y||(j+=-P.realWidth+J*2),N=-1),c.flipY&&(Y||(X+=-P.realHeight+$*2),Q=-1);var U=c.x,q=c.y;p.roundPixels&&(U=Math.floor(U),q=Math.floor(q)),T.applyITRS(U,q,c.rotation,c.scaleX*N,c.scaleY*Q),m.copyFrom(p.matrix),v?(m.multiplyWithOffset(v,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),T.e=U,T.f=q):(T.e-=p.scrollX*c.scrollFactorX,T.f-=p.scrollY*c.scrollFactorY),m.multiply(T,E);var et=E.setQuad(j,X,j+G,X+z,p.renderRoundPixels),it=h.getTintAppendFloatAlpha,rt=p.alpha,lt=it(c.tintTopLeft,rt*c._alphaTL),ft=it(c.tintTopRight,rt*c._alphaTR),gt=it(c.tintBottomLeft,rt*c._alphaBL),vt=it(c.tintBottomRight,rt*c._alphaBR);this.shouldFlush(6)&&this.flush();var xt=this.setGameObject(c,P);this.manager.preBatch(c),this.batchQuad(c,et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7],R,L,O,I,lt,ft,gt,vt,c.tintFill,w,xt),this.manager.postBatch(c)},batchTexture:function(c,p,v,m,T,E,P,w,R,L,O,I,F,B,G,z,Y,J,$,j,X,H,N,Q,U,q,et,it,rt,lt,ft,gt,vt){vt===void 0&&(vt=!1),this.manager.set(this,c);var xt=this._tempMatrix1,yt=this._tempMatrix2,Ct=this._tempMatrix3,Rt=J/v+et,bt=$/m+it,Lt=(J+j)/v+et,St=($+X)/m+it,Et=P,Mt=w,Vt=-z,Kt=-Y;if(c.isCropped){var oe=c._crop,Jt=oe.width,Qt=oe.height;Et=Jt,Mt=Qt,P=Jt,w=Qt,J=oe.x,$=oe.y;var fe=J,be=$;I&&(fe=j-oe.x-Jt),F&&(be=X-oe.y-Qt),Rt=fe/v+et,bt=be/m+it,Lt=(fe+Jt)/v+et,St=(be+Qt)/m+it,Vt=-z+J,Kt=-Y+$}F=F^(!ft&&p.isRenderTexture?1:0),I&&(Et*=-1,Vt+=P),F&&(Mt*=-1,Kt+=w),rt.roundPixels&&(T=Math.floor(T),E=Math.floor(E)),yt.applyITRS(T,E,O,R,L),xt.copyFrom(rt.matrix),lt?(xt.multiplyWithOffset(lt,-rt.scrollX*B,-rt.scrollY*G),yt.e=T,yt.f=E):(yt.e-=rt.scrollX*B,yt.f-=rt.scrollY*G),xt.multiply(yt,Ct);var $t=Ct.setQuad(Vt,Kt,Vt+Et,Kt+Mt,rt.renderRoundPixels);gt==null&&(gt=this.setTexture2D(p)),c&&!vt&&this.manager.preBatch(c),this.batchQuad(c,$t[0],$t[1],$t[2],$t[3],$t[4],$t[5],$t[6],$t[7],Rt,bt,Lt,St,H,N,Q,U,q,p,gt),c&&!vt&&this.manager.postBatch(c)},batchTextureFrame:function(c,p,v,m,T,E,P){this.manager.set(this);var w=this._tempMatrix1.copyFrom(E),R=this._tempMatrix2;P?w.multiply(P,R):R=w;var L=R.setQuad(p,v,p+c.width,v+c.height),O=this.setTexture2D(c.source.glTexture);m=h.getTintAppendFloatAlpha(m,T),this.batchQuad(null,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],c.u0,c.v0,c.u1,c.v1,m,m,m,m,0,c.glTexture,O)},batchFillRect:function(c,p,v,m,T,E){this.renderer.pipelines.set(this);var P=this.calcMatrix;E&&E.multiply(T,P);var w=P.setQuad(c,p,c+v,p+m),R=this.fillTint;this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(c,p,v,m,T,E,P,w){this.renderer.pipelines.set(this);var R=this.calcMatrix;w&&w.multiply(P,R);var L=R.getX(c,p),O=R.getY(c,p),I=R.getX(v,m),F=R.getY(v,m),B=R.getX(T,E),G=R.getY(T,E),z=this.fillTint;this.batchTri(null,L,O,I,F,B,G,0,0,1,1,z.TL,z.TR,z.BL,2)},batchStrokeTriangle:function(c,p,v,m,T,E,P,w,R){var L=this.tempTriangle;L[0].x=c,L[0].y=p,L[0].width=P,L[1].x=v,L[1].y=m,L[1].width=P,L[2].x=T,L[2].y=E,L[2].width=P,L[3].x=c,L[3].y=p,L[3].width=P,this.batchStrokePath(L,P,!1,w,R)},batchFillPath:function(c,p,v){this.renderer.pipelines.set(this);var m=this.calcMatrix;v&&v.multiply(p,m);for(var T=c.length,E=this.polygonCache,P,w,R=this.fillTint.TL,L=this.fillTint.TR,O=this.fillTint.BL,I=0;I<T;++I)w=c[I],E.push(w.x,w.y);P=y(E),T=P.length;for(var F=0;F<T;F+=3){var B=P[F+0]*2,G=P[F+1]*2,z=P[F+2]*2,Y=E[B+0],J=E[B+1],$=E[G+0],j=E[G+1],X=E[z+0],H=E[z+1],N=m.getX(Y,J),Q=m.getY(Y,J),U=m.getX($,j),q=m.getY($,j),et=m.getX(X,H),it=m.getY(X,H);this.batchTri(null,N,Q,U,q,et,it,0,0,1,1,R,L,O,2)}E.length=0},batchStrokePath:function(c,p,v,m,T){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var E=c.length-1,P=0;P<E;P++){var w=c[P],R=c[P+1];this.batchLine(w.x,w.y,R.x,R.y,w.width/2,R.width/2,p,P,!v&&P===E-1,m,T)}},batchLine:function(c,p,v,m,T,E,P,w,R,L,O){this.renderer.pipelines.set(this);var I=this.calcMatrix;O&&O.multiply(L,I);var F=v-c,B=m-p,G=Math.sqrt(F*F+B*B);if(G!==0){var z=T*(m-p)/G,Y=T*(c-v)/G,J=E*(m-p)/G,$=E*(c-v)/G,j=v-J,X=m-$,H=c-z,N=p-Y,Q=v+J,U=m+$,q=c+z,et=p+Y,it=I.getX(j,X),rt=I.getY(j,X),lt=I.getX(H,N),ft=I.getY(H,N),gt=I.getX(Q,U),vt=I.getY(Q,U),xt=I.getX(q,et),yt=I.getY(q,et),Ct=this.strokeTint,Rt=Ct.TL,bt=Ct.TR,Lt=Ct.BL,St=Ct.BR;if(this.batchQuad(null,xt,yt,lt,ft,it,rt,gt,vt,0,0,1,1,Rt,bt,Lt,St,2),!(P<=2)){var Et=this.prevQuad,Mt=this.firstQuad;w>0&&Et[4]?this.batchQuad(null,xt,yt,lt,ft,Et[0],Et[1],Et[2],Et[3],0,0,1,1,Rt,bt,Lt,St,2):(Mt[0]=xt,Mt[1]=yt,Mt[2]=lt,Mt[3]=ft,Mt[4]=1),R&&Mt[4]?this.batchQuad(null,it,rt,gt,vt,Mt[0],Mt[1],Mt[2],Mt[3],0,0,1,1,Rt,bt,Lt,St,2):(Et[0]=it,Et[1]=rt,Et[2]=gt,Et[3]=vt,Et[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,a.prototype.destroy.call(this),this}});C.exports=d},43439:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(4127),l=s(89924),o=s(29100),r=new g({Extends:o,initialize:function(u){u.vertShader=y(u,"vertShader",l),u.fragShader=y(u,"fragShader",f),u.attributes=y(u,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),o.call(this,u)},onRender:function(h,u){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",u.zoom)},batchPointLight:function(h,u,a,d,c,p,v,m,T,E,P,w){var R=h.color,L=h.intensity,O=h.radius,I=h.attenuation,F=R.r*L,B=R.g*L,G=R.b*L,z=u.alpha*h.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(a,d,P,w,O,I,F,B,G,z),this.batchLightVert(c,p,P,w,O,I,F,B,G,z),this.batchLightVert(v,m,P,w,O,I,F,B,G,z),this.batchLightVert(a,d,P,w,O,I,F,B,G,z),this.batchLightVert(v,m,P,w,O,I,F,B,G,z),this.batchLightVert(T,E,P,w,O,I,F,B,G,z),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(h,u,a,d,c,p,v,m,T,E){var P=this.vertexViewF32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++w]=h,P[++w]=u,P[++w]=a,P[++w]=d,P[++w]=c,P[++w]=p,P[++w]=v,P[++w]=m,P[++w]=T,P[++w]=E,this.vertexCount++}});C.exports=r},84057:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(89422),f=s(95540),l=s(27681),o=s(49627),r=s(29100),h=new g({Extends:r,initialize:function(a){a.renderTarget=f(a,"renderTarget",1),a.fragShader=f(a,"fragShader",l),a.vertShader=f(a,"vertShader",o),a.attributes=f(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),a.batchSize=1,a.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],r.call(this,a),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new y,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){r.prototype.boot.call(this);var u=this.manager.UTILITY_PIPELINE;this.fullFrame1=u.fullFrame1,this.fullFrame2=u.fullFrame2,this.halfFrame1=u.halfFrame1,this.halfFrame2=u.halfFrame2;var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height);for(var d=this.renderTargets,c=0;c<d.length;c++)d[c].autoResize=!0},postBatch:function(u){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(u),this},onDraw:function(u){this.bindAndDraw(u)},getController:function(u){return u!==void 0?u:this.controller?this.controller:this},copySprite:function(u,a,d){d===void 0&&(d=!1);var c=this.gl;c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.texture.webGLTexture);var p=c.getParameter(c.FRAMEBUFFER_BINDING);c.bindFramebuffer(c.FRAMEBUFFER,a.framebuffer.webGLFramebuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,a.texture.webGLTexture,0),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.STATIC_DRAW),c.drawArrays(c.TRIANGLES,0,6),d&&(c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,p))},copyFrame:function(u,a,d,c,p){this.manager.copyFrame(u,a,d,c,p)},copyToGame:function(u){this.manager.copyToGame(u)},drawFrame:function(u,a,d){this.manager.drawFrame(u,a,d,this.colorMatrix)},blendFrames:function(u,a,d,c,p){this.manager.blendFrames(u,a,d,c,p)},blendFramesAdditive:function(u,a,d,c,p){this.manager.blendFramesAdditive(u,a,d,c,p)},clearFrame:function(u,a){this.manager.clearFrame(u,a)},blitFrame:function(u,a,d,c,p,v){this.manager.blitFrame(u,a,d,c,p,v)},copyFrameRect:function(u,a,d,c,p,v,m,T){this.manager.copyFrameRect(u,a,d,c,p,v,m,T)},bindAndDraw:function(u,a,d,c,p){d===void 0&&(d=!0),c===void 0&&(c=!0);var v=this.gl,m=this.renderer;this.bind(p),this.set1i("uMainSampler",0),a?(v.viewport(0,0,a.width,a.height),v.bindFramebuffer(v.FRAMEBUFFER,a.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,a.texture.webGLTexture,0),d&&(c?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1),m.currentFramebuffer||v.viewport(0,0,m.width,m.height)),m.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,u.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),a&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,m.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),r.prototype.destroy.call(this),this}});C.exports=h},43558:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(67502),f=s(83419),l=s(96293),o=s(95540),r=s(57516),h=s(27681),u=s(87841),a=s(32302),d=s(45561),c=s(60722),p=s(29100),v=new f({Extends:r,initialize:function(T){var E=o(T,"fragShader",h),P=o(T,"vertShader",c),w=o(T,"drawShader",h),R=[{name:"DrawSprite",fragShader:d,vertShader:c},{name:"CopySprite",fragShader:E,vertShader:P},{name:"DrawGame",fragShader:w,vertShader:c},{name:"ColorMatrix",fragShader:l}],L=o(T,"shaders",[]);T.shaders=R.concat(L),T.vertShader||(T.vertShader=P),T.batchSize=1,r.call(this,T),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new u,this.targetBounds=new u,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){p.prototype.boot.call(this);var m=this.shaders,T=this.renderer;this.drawSpriteShader=m[0],this.copyShader=m[1],this.gameShader=m[2],this.colorMatrixShader=m[3],this.fsTarget=new a(T,T.width,T.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var E=new ArrayBuffer(168);this.quadVertexData=E,this.quadVertexViewF32=new Float32Array(E),this.quadVertexBuffer=T.createVertexBuffer(E,this.gl.STATIC_DRAW),this.onResize(T.width,T.height),this.currentShader=this.copyShader,this.set2f("uResolution",T.width,T.height)},onResize:function(m,T){var E=this.quadVertexViewF32;E[1]=T,E[22]=T,E[14]=m,E[28]=m,E[35]=m,E[36]=T},batchQuad:function(m,T,E,P,w,R,L,O,I,F,B,G,z,Y,J,$,j,X,H){var N=Math.min(T,P,R,O),Q=Math.min(E,w,L,I),U=Math.max(T,P,R,O),q=Math.max(E,w,L,I),et=U-N,it=q-Q,rt=this.spriteBounds.setTo(N,Q,et,it),lt=m?m.preFX.padding:0,ft=et+lt*2,gt=it+lt*2,vt=Math.abs(Math.max(ft,gt)),xt=this.manager.getRenderTarget(vt),yt=this.targetBounds.setTo(0,0,xt.width,xt.height);y(yt,Math.round(rt.centerX),Math.round(rt.centerY)),this.tempSprite=m;var Ct=this.gl,Rt=this.renderer;Rt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Rt.width,Rt.height),this.flipProjectionMatrix(!0),m&&(this.onDrawSprite(m,xt),m.preFX.onFX(this));var bt=this.fsTarget;return this.flush(),Ct.viewport(0,0,Rt.width,Rt.height),Ct.bindFramebuffer(Ct.FRAMEBUFFER,bt.framebuffer.webGLFramebuffer),Ct.framebufferTexture2D(Ct.FRAMEBUFFER,Ct.COLOR_ATTACHMENT0,Ct.TEXTURE_2D,bt.texture.webGLTexture,0),Ct.clearColor(0,0,0,0),Ct.clear(Ct.COLOR_BUFFER_BIT),this.setTexture2D(H),this.batchVert(T,E,F,B,0,X,Y),this.batchVert(P,w,F,z,0,X,$),this.batchVert(R,L,G,z,0,X,j),this.batchVert(T,E,F,B,0,X,Y),this.batchVert(R,L,G,z,0,X,j),this.batchVert(O,I,G,B,0,X,J),this.flush(),this.flipProjectionMatrix(!1),Ct.activeTexture(Ct.TEXTURE0),Ct.bindTexture(Ct.TEXTURE_2D,xt.texture.webGLTexture),Ct.copyTexSubImage2D(Ct.TEXTURE_2D,0,0,0,yt.x,yt.y,yt.width,yt.height),Ct.bindFramebuffer(Ct.FRAMEBUFFER,null),Ct.bindTexture(Ct.TEXTURE_2D,null),this.onBatch(m),this.currentShader=this.copyShader,this.onDraw(xt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(m,T,E,P,w,R,L){E===void 0&&(E=!0),P===void 0&&(P=!0),w===void 0&&(w=!1),L===void 0&&(L=this.copyShader);var O=this.gl,I=this.tempSprite;R&&(L=this.colorMatrixShader),this.currentShader=L;var F=this.setVertexBuffer(this.quadVertexBuffer);L.bind(F,!1);var B=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",B.width,B.height),I.preFX.onFXCopy(this),this.onCopySprite(m,T,I),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,m.texture.webGLTexture),m.height>T.height)O.viewport(0,0,m.width,m.height),this.setTargetUVs(m,T);else{var G=T.height-m.height;O.viewport(0,G,m.width,m.height),this.resetUVs()}if(O.bindFramebuffer(O.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,T.texture.webGLTexture,0),E&&(O.clearColor(0,0,0,+!P),O.clear(O.COLOR_BUFFER_BIT)),w){var z=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}O.bufferData(O.ARRAY_BUFFER,this.quadVertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),w&&this.renderer.setBlendMode(z),O.bindFramebuffer(O.FRAMEBUFFER,null)},copy:function(m,T){var E=this.gl;this.set1i("uMainSampler",0),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,m.texture.webGLTexture),E.viewport(0,0,m.width,m.height),this.setUVs(0,0,0,1,1,1,1,0),E.bindFramebuffer(E.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,T.texture.webGLTexture,0),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.quadVertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null)},blendFrames:function(m,T,E,P,w){this.manager.blendFrames(m,T,E,P,w)},blendFramesAdditive:function(m,T,E,P,w){this.manager.blendFramesAdditive(m,T,E,P,w)},drawToGame:function(m){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(m)},copyToGame:function(m){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(m)},bindAndDraw:function(m){var T=this.gl,E=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(m.texture);var P=this._tempMatrix1.loadIdentity(),w=this.targetBounds.x,R=this.targetBounds.y,L=w+m.width,O=R+m.height,I=P.getX(w,R),F=P.getX(w,O),B=P.getX(L,O),G=P.getX(L,R),z=P.getY(w,R),Y=P.getY(w,O),J=P.getY(L,O),$=P.getY(L,R),j=16777215;this.batchVert(I,z,0,0,0,0,j),this.batchVert(F,Y,0,1,0,0,j),this.batchVert(B,J,1,1,0,0,j),this.batchVert(I,z,0,0,0,0,j),this.batchVert(B,J,1,1,0,0,j),this.batchVert(G,$,1,0,0,0,j),E.restoreFramebuffer(!1,!0),E.currentFramebuffer||T.viewport(0,0,E.width,E.height),E.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(m){this.drawToGame(m)},setUVs:function(m,T,E,P,w,R,L,O){var I=this.quadVertexViewF32;I[2]=m,I[3]=T,I[9]=E,I[10]=P,I[16]=w,I[17]=R,I[23]=m,I[24]=T,I[30]=w,I[31]=R,I[37]=L,I[38]=O},setTargetUVs:function(m,T){var E=T.height/m.height;E>.5?E=.5-(E-.5):E=.5+(.5-E),this.setUVs(0,E,0,1+E,1,1+E,1,E)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,r.prototype.destroy.call(this),this}});C.exports=v},81041:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(57516),l=new g({Extends:f,initialize:function(r){r.topology=5,r.batchSize=y(r,"batchSize",256),f.call(this,r)}});C.exports=l},12385:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(57516),l=s(45561),o=s(60722),r=s(29100),h=new g({Extends:f,initialize:function(a){a.fragShader=y(a,"fragShader",l),a.vertShader=y(a,"vertShader",o),a.forceZero=!0,f.call(this,a)},boot:function(){r.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height)}});C.exports=h},7589:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35407),y=s(10312),f=s(83419),l=s(89422),o=s(96293),r=s(36682),h=s(95540),u=s(48247),a=s(49627),d=s(29100),c=new f({Extends:d,initialize:function(v){v.renderTarget=h(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=h(v,"vertShader",a),v.shaders=h(v,"shaders",[{name:"Copy",fragShader:r},{name:"AddBlend",fragShader:g},{name:"LinearBlend",fragShader:u},{name:"ColorMatrix",fragShader:o}]),v.attributes=h(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,d.call(this,v),this.colorMatrix=new l,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){d.prototype.boot.call(this);var p=this.shaders,v=this.renderTargets;this.copyShader=p[0],this.addShader=p[1],this.linearShader=p[2],this.colorMatrixShader=p[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(p,v,m,T,E){m===void 0&&(m=1),T===void 0&&(T=!0),E===void 0&&(E=!0);var P=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,p.texture.webGLTexture),v?(P.viewport(0,0,v.width,v.height),P.bindFramebuffer(P.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,v.texture.webGLTexture,0)):P.viewport(0,0,p.width,p.height),T&&(E?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blitFrame:function(p,v,m,T,E,P,w){m===void 0&&(m=1),T===void 0&&(T=!0),E===void 0&&(E=!0),P===void 0&&(P=!1),w===void 0&&(w=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,p.texture.webGLTexture),p.height>v.height)R.viewport(0,0,p.width,p.height),this.setTargetUVs(p,v);else{var L=v.height-p.height;R.viewport(0,L,p.width,p.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,v.texture.webGLTexture,0),T&&(E?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),P){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(y.ERASE)}w&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),P&&this.renderer.setBlendMode(O),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(p,v,m,T,E,P,w,R){w===void 0&&(w=!0),R===void 0&&(R=!0);var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,p.texture.webGLTexture,0),w&&(R?L.clearColor(0,0,0,0):L.clearColor(0,0,0,1),L.clear(L.COLOR_BUFFER_BIT)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,v.texture.webGLTexture),L.copyTexSubImage2D(L.TEXTURE_2D,0,0,0,m,T,E,P),L.bindFramebuffer(L.FRAMEBUFFER,null),L.bindTexture(L.TEXTURE_2D,null)},copyToGame:function(p){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,p.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(p,v,m,T){m===void 0&&(m=!0),T===void 0&&(T=this.colorMatrix);var E=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,p.texture.webGLTexture),v?(E.viewport(0,0,v.width,v.height),E.bindFramebuffer(E.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,v.texture.webGLTexture,0)):E.viewport(0,0,p.width,p.height),m?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFrames:function(p,v,m,T,E,P){T===void 0&&(T=1),E===void 0&&(E=!0),P===void 0&&(P=this.linearShader);var w=this.gl;this.setShader(P),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",T),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,p.texture.webGLTexture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,v.texture.webGLTexture),m?(w.bindFramebuffer(w.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,m.texture.webGLTexture,0),w.viewport(0,0,m.width,m.height)):w.viewport(0,0,p.width,p.height),E?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFramesAdditive:function(p,v,m,T,E){this.blendFrames(p,v,m,T,E,this.addShader)},clearFrame:function(p,v){v===void 0&&(v=!0);var m=this.gl;m.viewport(0,0,p.width,p.height),m.bindFramebuffer(m.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),v?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var T=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,T.webGLFramebuffer)},setUVs:function(p,v,m,T,E,P,w,R){var L=this.vertexViewF32;L[2]=p,L[3]=v,L[6]=m,L[7]=T,L[10]=E,L[11]=P,L[14]=p,L[15]=v,L[18]=E,L[19]=P,L[22]=w,L[23]=R},setTargetUVs:function(p,v){var m=v.height/p.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});C.exports=c},36060:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};C.exports=A},84817:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelineafterflush"},36712:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelinebeforeflush"},40285:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelinebind"},65918:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelineboot"},92852:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelinedestroy"},56072:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelinerebind"},57566:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelineresize"},77085:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AFTER_FLUSH:s(84817),BEFORE_FLUSH:s(36712),BIND:s(40285),BOOT:s(65918),DESTROY:s(92852),REBIND:s(56072),RESIZE:s(57566)}},54812:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(99155),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.amount=1},onPreRender:function(o,r){o=this.getController(o),this.set1f("amount",o.amount,r)}});C.exports=l},67329:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(24400),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(o){o=this.getController(o),this.set1f("strength",o.blurStrength),this.set3fv("color",o.glcolor)},onDraw:function(o){var r=this.getController(),h=this.fullFrame1,u=this.fullFrame2;this.copyFrame(o,u);for(var a=2/o.width*r.offsetX,d=2/o.height*r.offsetY,c=0;c<r.steps;c++)this.set2f("offset",a,0),this.copySprite(o,h),this.set2f("offset",0,d),this.copySprite(h,o);this.blendFrames(u,o,h,r.strength),this.copyToGame(h)}});C.exports=l},8861:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(41514),f=s(51078),l=s(94328),o=s(84057),r=new g({Extends:o,initialize:function(u){o.call(this,{game:u,shaders:[{name:"Gaussian5",fragShader:y},{name:"Gaussian9",fragShader:f},{name:"Gaussian13",fragShader:l}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(h){var u=this.getController(),a=this.gl,d=this.fullFrame1,c=a.getParameter(a.FRAMEBUFFER_BINDING);this.bind(this.shaders[u.quality]),a.activeTexture(a.TEXTURE0),a.viewport(0,0,h.width,h.height),this.set1i("uMainSampler",0),this.set2f("resolution",h.width,h.height),this.set1f("strength",u.strength),this.set3fv("color",u.glcolor);for(var p=0;p<u.steps;p++)this.set2f("offset",u.x,0),this.copySprite(h,d),this.set2f("offset",0,u.y),this.copySprite(d,h);a.bindFramebuffer(a.FRAMEBUFFER,c),a.bindTexture(a.TEXTURE_2D,null),this.copyToGame(h)}});C.exports=r},51051:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(90610),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(o,r,h,u){o=this.getController(o),this.set1f("radius",o.radius,r),this.set1f("amount",o.amount,r),this.set1f("contrast",o.contrast,r),this.set1f("strength",o.strength,r),this.set2f("blur",o.blurX,o.blurY,r),this.setBoolean("isTiltShift",o.isTiltShift,r),h&&u&&this.set2f("resolution",h,u,r)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});C.exports=l},89428:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(91899),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(o,r,h,u){o=this.getController(o),this.set1f("scale",o.scale,r),this.set1f("feather",o.feather,r),this.set1f("thickness",o.thickness,r),this.set3fv("color",o.glcolor,r),this.set4fv("backgroundColor",o.glcolor2,r),h&&u&&this.set2f("resolution",h,u,r)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});C.exports=l},88904:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(84057),f=new g({Extends:y,initialize:function(o){y.call(this,{game:o})},onDraw:function(l){var o=this.fullFrame1;this.controller?this.manager.drawFrame(l,o,!0,this.controller):this.drawFrame(l,o),this.copyToGame(o)}});C.exports=f},63563:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(47838),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(o){var r=this.game.textures.getFrame(o);r&&(this.glTexture=r.glTexture)},onDraw:function(o){var r=this.getController(),h=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",r.x,r.y),this.bindTexture(r.glTexture,1),this.copySprite(o,h),this.copyToGame(h)}});C.exports=l},94045:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(98656),l=s(84057),o=s(70554),r=new g({Extends:l,initialize:function(u,a){var d=y(a,"quality",.1),c=y(a,"distance",10);l.call(this,{game:u,fragShader:o.setGlowQuality(f,u,d,c)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(h,u,a,d){h=this.getController(h),this.set1f("outerStrength",h.outerStrength,u),this.set1f("innerStrength",h.innerStrength,u),this.set4fv("glowColor",h.glcolor,u),this.setBoolean("knockout",h.knockout,u),a&&d&&this.set2f("resolution",a,d,u)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});C.exports=r},74088:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(70463),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(o,r){o=this.getController(o),this.set1f("alpha",o.alpha,r),this.set1i("size",o.size,r),this.set3fv("color1",o.glcolor1,r),this.set3fv("color2",o.glcolor2,r),this.set2f("positionFrom",o.fromX,o.fromY,r),this.set2f("positionTo",o.toX,o.toY,r)}});C.exports=l},99636:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50831),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.amount=1},onPreRender:function(o,r,h,u){o=this.getController(o),this.set1f("amount",o.amount,r),h&&u&&this.set2f("resolution",h,u,r)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});C.exports=l},34700:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(92595),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(o,r){o=this.getController(o);var h=o.samples;this.set1i("samples",h,r),this.set1f("intensity",o.intensity,r),this.set1f("decay",o.decay,r),this.set1f("power",o.power/h,r),this.set2f("lightPosition",o.x,o.y,r),this.set4fv("color",o.glcolor,r)}});C.exports=l},91157:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72464),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(o,r,h,u){o=this.getController(o),this.setTime("time",r),this.set1f("speed",o.speed,r),this.set1f("lineWidth",o.lineWidth,r),this.set1f("gradient",o.gradient,r),this.setBoolean("reveal",o.reveal,r),h&&u&&this.set2f("resolution",h,u,r)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});C.exports=l},27797:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(39249),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(o,r){o=this.getController(o),this.set1f("radius",o.radius,r),this.set1f("strength",o.strength,r),this.set2f("position",o.x,o.y,r)}});C.exports=l},67603:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(2878),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(o,r){o=this.getController(o);var h=o.progress,u=o.wipeWidth,a=o.direction,d=o.axis;this.set4f("config",h,u,a,d,r),this.setBoolean("reveal",o.reveal,r)}});C.exports=l},58918:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={Barrel:s(54812),Bloom:s(67329),Blur:s(8861),Bokeh:s(51051),Circle:s(89428),ColorMatrix:s(88904),Displacement:s(63563),Glow:s(94045),Gradient:s(74088),Pixelate:s(99636),Shadow:s(34700),Shine:s(91157),Vignette:s(27797),Wipe:s(67603)};C.exports=g},96615:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36060),y=s(79291),f={FX:s(58918),BitmapMaskPipeline:s(31302),Events:s(77085),FXPipeline:s(92651),LightPipeline:s(96569),MobilePipeline:s(56527),MultiPipeline:s(57516),PointLightPipeline:s(43439),PostFXPipeline:s(84057),PreFXPipeline:s(43558),RopePipeline:s(81041),SinglePipeline:s(12385),UtilityPipeline:s(7589)};f=y(!1,f,g),C.exports=f},35407:C=>{C.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:C=>{C.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:C=>{C.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:C=>{C.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:C=>{C.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:C=>{C.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:C=>{C.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:C=>{C.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:C=>{C.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:C=>{C.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:C=>{C.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:C=>{C.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:C=>{C.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:C=>{C.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:C=>{C.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:C=>{C.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:C=>{C.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:C=>{C.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:C=>{C.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:C=>{C.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:C=>{C.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:C=>{C.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:C=>{C.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:C=>{C.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:C=>{C.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:C=>{C.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:C=>{C.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:C=>{C.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:C=>{C.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:C=>{C.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:C=>{C.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:C=>{C.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:C=>{C.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:C=>{C.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(C,A,s)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AddBlendFrag:s(35407),BitmapMaskFrag:s(78908),BitmapMaskVert:s(85191),ColorMatrixFrag:s(96293),CopyFrag:s(36682),FXBarrelFrag:s(99155),FXBloomFrag:s(24400),FXBlurHighFrag:s(94328),FXBlurLowFrag:s(41514),FXBlurMedFrag:s(51078),FXBokehFrag:s(90610),FXCircleFrag:s(91899),FXDisplacementFrag:s(47838),FXGlowFrag:s(98656),FXGradientFrag:s(70463),FXPixelateFrag:s(50831),FXShadowFrag:s(92595),FXShineFrag:s(72464),FXVignetteFrag:s(39249),FXWipeFrag:s(2878),LightFrag:s(31063),LinearBlendFrag:s(48247),MeshFrag:s(41214),MeshVert:s(39653),MobileFrag:s(62143),MobileVert:s(47940),MultiFrag:s(98840),MultiVert:s(44667),PointLightFrag:s(4127),PointLightVert:s(89924),PostFXFrag:s(27681),QuadVert:s(49627),SingleFrag:s(45561),SingleVert:s(60722)}},93567:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r){this.webGLAttribLocation=-1,this.gl=l,this.program=o,this.name=r,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var f=this.gl;f.isContextLost()||(this.webGLAttribLocation=f.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});C.exports=y},26128:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r,h){this.webGLBuffer=null,this.gl=l,this.initialDataOrSize=o,this.bufferType=r,this.bufferUsage=h,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var f=this.gl;if(!f.isContextLost()){var l=this.bufferType,o=f.createBuffer();this.webGLBuffer=o,f.bindBuffer(l,this.webGLBuffer),f.bufferData(l,this.initialDataOrSize,this.bufferUsage),f.bindBuffer(l,null)}}},destroy:function(){var f=this.gl;f.isContextLost()||f.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});C.exports=y},84387:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},f=new g({initialize:function(o,r,h,u,a){this.webGLFramebuffer=null,this.gl=o,this.width=r,this.height=h,this.renderTexture=u,this.addDepthStencilBuffer=!!a,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var o=this.renderTexture,r=0,h=l.createFramebuffer();if(this.webGLFramebuffer=h,l.bindFramebuffer(l.FRAMEBUFFER,h),o.isRenderTexture=!0,o.isAlphaPremultiplied=!1,l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,o.webGLTexture,0),r=l.checkFramebufferStatus(l.FRAMEBUFFER),r!==l.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(y[r]||r));if(this.addDepthStencilBuffer){var u=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,u),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,this.width,this.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,u)}l.bindFramebuffer(l.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var l=this.gl;if(!l.isContextLost()){l.bindFramebuffer(l.FRAMEBUFFER,this.webGLFramebuffer);var o=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);o!==null&&(l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,null,0),l.deleteTexture(o));var r=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&l.deleteRenderbuffer(r),l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});C.exports=f},1482:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r){this.webGLProgram=null,this.gl=l,this.vertexSource=o,this.fragmentSource=r,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var l=f.createProgram(),o=f.createShader(f.VERTEX_SHADER),r=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(o,this.vertexSource),f.shaderSource(r,this.fragmentSource),f.compileShader(o),f.compileShader(r);var h=`Shader failed:
`;if(!f.getShaderParameter(o,f.COMPILE_STATUS))throw new Error("Vertex "+h+f.getShaderInfoLog(o));if(!f.getShaderParameter(r,f.COMPILE_STATUS))throw new Error("Fragment "+h+f.getShaderInfoLog(r));if(f.attachShader(l,o),f.attachShader(l,r),f.linkProgram(l),!f.getProgramParameter(l,f.LINK_STATUS))throw new Error("Link "+h+f.getProgramInfoLog(l));f.useProgram(l),this.webGLProgram=l}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});C.exports=y},82751:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50030),f=new g({initialize:function(o,r,h,u,a,d,c,p,v,m,T,E,P){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=o,this.mipLevel=r,this.minFilter=h,this.magFilter=u,this.wrapT=a,this.wrapS=d,this.format=c,this.pixels=p,this.width=v,this.height=m,this.pma=T??!0,this.forceSize=!!E,this.flipY=!!P,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){if(this.pixels instanceof f){this.webGLTexture=this.pixels.webGLTexture;return}var o=l.createTexture();o.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=o,this._processTexture()}},update:function(l,o,r,h,u,a,d,c,p){if(!(o===0||r===0)){this.pixels=l,this.width=o,this.height=r,this.flipY=h,this.wrapS=u,this.wrapT=a,this.minFilter=d,this.magFilter=c,this.format=p;var v=this.gl;v.isContextLost()||this._processTexture()}},_processTexture:function(){var l=this.gl;l.activeTexture(l.TEXTURE0);var o=l.getParameter(l.TEXTURE_BINDING_2D);l.bindTexture(l.TEXTURE_2D,this.webGLTexture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.minFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this.magFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this.wrapS),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this.wrapT),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,this.flipY);var r=this.pixels,h=this.mipLevel,u=this.width,a=this.height,d=this.format,c=!1;if(r==null)l.texImage2D(l.TEXTURE_2D,h,d,u,a,0,d,l.UNSIGNED_BYTE,null),c=y(u,a);else if(r.compressed){u=r.width,a=r.height,c=r.generateMipmap;for(var p=0;p<r.mipmaps.length;p++)l.compressedTexImage2D(l.TEXTURE_2D,p,r.internalFormat,r.mipmaps[p].width,r.mipmaps[p].height,0,r.mipmaps[p].data)}else r instanceof Uint8Array?(l.texImage2D(l.TEXTURE_2D,h,d,u,a,0,d,l.UNSIGNED_BYTE,r),c=y(u,a)):(this.forceSize||(u=r.width,a=r.height),l.texImage2D(l.TEXTURE_2D,h,d,d,l.UNSIGNED_BYTE,r),c=y(u,a));c&&l.generateMipmap(l.TEXTURE_2D),o?l.bindTexture(l.TEXTURE_2D,o):l.bindTexture(l.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(l){this.__SPECTOR_Metadata=l,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=l)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof f||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});C.exports=f},57183:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r){this.webGLUniformLocation=null,this.gl=l,this.program=o,this.name=r,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var f=this.gl;f.isContextLost()||(this.webGLUniformLocation=f.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});C.exports=y},9503:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={WebGLAttribLocationWrapper:s(93567),WebGLBufferWrapper:s(26128),WebGLProgramWrapper:s(1482),WebGLTextureWrapper:s(82751),WebGLFramebufferWrapper:s(84387),WebGLUniformLocationWrapper:s(57183)};C.exports=g},76531:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13560),y=s(83419),f=s(45319),l=s(50792),o=s(97480),r=s(8443),h=s(57811),u=s(74403),a=s(45818),d=s(29747),c=s(87841),p=s(86555),v=s(56583),m=s(26099),T=s(38058),E=new y({Extends:l,initialize:function(w){l.call(this),this.game=w,this.canvas,this.canvasBounds=new c,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=g.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=g.CENTER.NO_CENTER,this.orientation=g.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:d,windowResize:d,fullScreenChange:d,fullScreenError:d}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var P=this.game;this.canvas=P.canvas,this.fullscreen=P.device.fullscreen;var w=this.scaleMode;w!==g.SCALE_MODE.RESIZE&&w!==g.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(w),w===g.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),P.events.on(r.PRE_STEP,this.step,this),P.events.once(r.READY,this.refresh,this),P.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(P){this.getParent(P),this.getParentBounds();var w=P.width,R=P.height,L=P.scaleMode,O=P.zoom,I=P.autoRound;if(typeof w=="string")if(w.substr(-1)!=="%")w=parseInt(w,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var B=parseInt(w,10)/100;w=Math.floor(F*B)}if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var G=this.parentSize.height;G===0&&(G=window.innerHeight);var z=parseInt(R,10)/100;R=Math.floor(G*z)}this.scaleMode=L,this.autoRound=I,this.autoCenter=P.autoCenter,this.resizeInterval=P.resizeInterval,I&&(w=Math.floor(w),R=Math.floor(R)),this.gameSize.setSize(w,R),O===g.ZOOM.MAX_ZOOM&&(O=this.getMaxZoom()),this.zoom=O,O!==1&&(this._resetZoom=!0),this.baseSize.setSize(w,R),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),P.minWidth>0&&this.displaySize.setMin(P.minWidth*O,P.minHeight*O),P.maxWidth>0&&this.displaySize.setMax(P.maxWidth*O,P.maxHeight*O),this.displaySize.setSize(w,R),(P.snapWidth>0||P.snapHeight>0)&&this.displaySize.setSnap(P.snapWidth,P.snapHeight),this.orientation=a(w,R)},getParent:function(P){var w=P.parent;if(w!==null){if(this.parent=u(w),this.parentIsWindow=this.parent===document.body,P.expandParent&&P.scaleMode!==g.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}P.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=u(P.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var P=this.parentSize,w=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(w.height=h(!0));var R=w.width,L=w.height;if(P.width!==R||P.height!==L)return P.setSize(R,L),!0;if(this.canvas){var O=this.canvasBounds,I=this.canvas.getBoundingClientRect();if(I.x!==O.x||I.y!==O.y)return!0}return!1},lockOrientation:function(P){var w=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return w?w.call(screen,P):!1},setParentSize:function(P,w){return this.parentSize.setSize(P,w),this.refresh()},setGameSize:function(P,w){var R=this.autoRound;R&&(P=Math.floor(P),w=Math.floor(w));var L=this.width,O=this.height;return this.gameSize.resize(P,w),this.baseSize.resize(P,w),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(P/w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(L,O)},resize:function(P,w){var R=this.zoom,L=this.autoRound;L&&(P=Math.floor(P),w=Math.floor(w));var O=this.width,I=this.height;this.gameSize.resize(P,w),this.baseSize.resize(P,w),L&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(P*R,w*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,B=P*R,G=w*R;return L&&(B=Math.floor(B),G=Math.floor(G)),(B!==P||G!==w)&&(F.width=B+"px",F.height=G+"px"),this.refresh(O,I)},setZoom:function(P){return this.zoom=P,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(P,w){return P===void 0&&(P=0),w===void 0&&(w=P),this.displaySize.setSnap(P,w),this.refresh()},refresh:function(P,w){P===void 0&&(P=this.width),w===void 0&&(w=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var L=this.canvas.style,O=R.style;O.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",O.marginLeft=L.marginLeft,O.marginTop=L.marginTop}return this.emit(o.RESIZE,this.gameSize,this.baseSize,this.displaySize,P,w),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var P=a(this.width,this.height);P!==this.orientation&&(this.orientation=P,this.emit(o.ORIENTATION_CHANGE,P))}},updateScale:function(){var P=this.canvas.style,w=this.gameSize.width,R=this.gameSize.height,L,O,I=this.zoom,F=this.autoRound;if(this.scaleMode===g.SCALE_MODE.NONE)this.displaySize.setSize(w*I,R*I),L=this.displaySize.width,O=this.displaySize.height,F&&(L=Math.floor(L),O=Math.floor(O)),this._resetZoom&&(P.width=L+"px",P.height=O+"px",this._resetZoom=!1);else if(this.scaleMode===g.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),L=this.displaySize.width,O=this.displaySize.height,F&&(L=Math.floor(L),O=Math.floor(O)),this.canvas.width=L,this.canvas.height=O;else if(this.scaleMode===g.SCALE_MODE.EXPAND){var B=this.game.config.width,G=this.game.config.height,z=this.parentSize.width,Y=this.parentSize.height,J=z/B,$=Y/G,j,X;J<$?(j=B,X=J!==0?Y/J:G):(j=$!==0?z/$:B,X=G);var H=f(j,this.displaySize.minWidth,this.displaySize.maxWidth),N=f(X,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(H,N),this.gameSize.setSize(H,N),F&&(H=Math.floor(H),N=Math.floor(N)),this.canvas.width=H,this.canvas.height=N;var Q=z*(H/j),U=Y*(N/X);this.displaySize.setSize(Q,U),L=this.displaySize.width,O=this.displaySize.height,F&&(L=Math.floor(L),O=Math.floor(O)),P.width=L+"px",P.height=O+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),L=this.displaySize.width,O=this.displaySize.height,F&&(L=Math.floor(L),O=Math.floor(O)),P.width=L+"px",P.height=O+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var P=v(this.parentSize.width,this.gameSize.width,0,!0),w=v(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(P,w),1)},updateCenter:function(){var P=this.autoCenter;if(P!==g.CENTER.NO_CENTER){var w=this.canvas,R=w.style,L=w.getBoundingClientRect(),O=L.width,I=L.height,F=Math.floor((this.parentSize.width-O)/2),B=Math.floor((this.parentSize.height-I)/2);P===g.CENTER.CENTER_HORIZONTALLY?B=0:P===g.CENTER.CENTER_VERTICALLY&&(F=0),R.marginLeft=F+"px",R.marginTop=B+"px"}},updateBounds:function(){var P=this.canvasBounds,w=this.canvas.getBoundingClientRect();P.x=w.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),P.y=w.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),P.width=w.width,P.height=w.height},transformX:function(P){return(P-this.canvasBounds.left)*this.displayScale.x},transformY:function(P){return(P-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(P){P===void 0&&(P={navigationUI:"hide"});var w=this.fullscreen;if(!w.available){this.emit(o.FULLSCREEN_UNSUPPORTED);return}if(!w.active){var R=this.getFullscreenTarget();w.keyboard?R[w.request](Element.ALLOW_KEYBOARD_INPUT):R[w.request](P)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(o.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(P){this.removeFullscreenTarget(),this.emit(o.FULLSCREEN_FAILED,P)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var P=document.createElement("div");P.style.margin="0",P.style.padding="0",P.style.width="100%",P.style.height="100%",this.fullscreenTarget=P,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var w=this.canvas.parentNode;w.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var P=this.fullscreenTarget;if(P&&P.parentNode){var w=P.parentNode;w.insertBefore(this.canvas,P),w.removeChild(P)}}},stopFullscreen:function(){var P=this.fullscreen;if(!P.available)return this.emit(o.FULLSCREEN_UNSUPPORTED),!1;P.active&&document[P.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(o.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(P){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(P)},startListeners:function(){var P=this,w=this.domlisteners;if(w.orientationChange=function(){P.updateBounds(),P._checkOrientation=!0,P.dirty=!0,P.refresh()},w.windowResize=function(){P.updateBounds(),P.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",w.orientationChange,!1):window.addEventListener("orientationchange",w.orientationChange,!1),window.addEventListener("resize",w.windowResize,!1),this.fullscreen.available){w.fullScreenChange=function(L){return P.onFullScreenChange(L)},w.fullScreenError=function(L){return P.onFullScreenError(L)};var R=["webkit","moz",""];R.forEach(function(L){document.addEventListener(L+"fullscreenchange",w.fullScreenChange,!1),document.addEventListener(L+"fullscreenerror",w.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",w.fullScreenChange,!1),document.addEventListener("MSFullscreenError",w.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(P,w){P instanceof T||(w=P,P=void 0),w===void 0&&(w=new c);var R=this.baseSize,L=this.parentSize,O=this.canvasBounds,I=this.displayScale,F=O.x>=0?0:-(O.x*I.x),B=O.y>=0?0:-(O.y*I.y),G;L.width>=O.width?G=R.width:G=R.width-(O.width-L.width)*I.x;var z;return L.height>=O.height?z=R.height:z=R.height-(O.height-L.height)*I.y,w.setTo(F,B,G,z),P&&(w.width/=P.zoomX,w.height/=P.zoomY,w.centerX=P.centerX+P.scrollX,w.centerY=P.centerY+P.scrollY),w},step:function(P,w){this.parent&&(this._lastCheck+=w,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var P=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",P.orientationChange,!1):window.removeEventListener("orientationchange",P.orientationChange,!1),window.removeEventListener("resize",P.windowResize,!1);var w=["webkit","moz",""];w.forEach(function(R){document.removeEventListener(R+"fullscreenchange",P.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",P.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",P.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===g.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===g.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});C.exports=E},64743:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={CENTER:s(64743),ORIENTATION:s(39218),SCALE_MODE:s(81050),ZOOM:s(80805)};C.exports=g},56139:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="enterfullscreen"},2336:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="fullscreenfailed"},47412:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="fullscreenunsupported"},51452:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="leavefullscreen"},20666:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="orientationchange"},47945:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resize"},97480:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ENTER_FULLSCREEN:s(56139),FULLSCREEN_FAILED:s(2336),FULLSCREEN_UNSUPPORTED:s(47412),LEAVE_FULLSCREEN:s(51452),ORIENTATION_CHANGE:s(20666),RESIZE:s(47945)}},93364:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=s(13560),f={Center:s(64743),Events:s(97480),Orientation:s(39218),ScaleManager:s(76531),ScaleModes:s(81050),Zoom:s(80805)};f=g(!1,f,y.CENTER),f=g(!1,f,y.ORIENTATION),f=g(!1,f,y.SCALE_MODE),f=g(!1,f,y.ZOOM),C.exports=f},27397:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=s(35355),f=function(l){var o=l.game.config.defaultPhysicsSystem,r=g(l.settings,"physics",!1);if(!(!o&&!r)){var h=[];if(o&&h.push(y(o+"Physics")),r)for(var u in r)u=y(u.concat("Physics")),h.indexOf(u)===-1&&h.push(u);return h}};C.exports=f},52106:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=function(f){var l=f.plugins.getDefaultScenePlugins(),o=g(f.settings,"plugins",!1);return Array.isArray(o)?o:l||[]};C.exports=y},87033:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};C.exports=A},97482:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(2368),f=new g({initialize:function(o){this.sys=new y(this,o),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});C.exports=f},60903:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(89993),f=s(44594),l=s(8443),o=s(35154),r=s(54899),h=s(29747),u=s(97482),a=s(2368),d=new g({initialize:function(p,v){if(this.game=p,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)this._pending.push({key:"default",scene:v[m],autoStart:m===0,data:{}})}p.events.once(l.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new u),this.game.events.emit(l.SYSTEM_READY,this.systemScene,this);var c,p,v,m;for(c=0;c<this._pending.length;c++){p=this._pending[c],v=p.key,m=p.scene;var T;m instanceof u?T=this.createSceneFromInstance(v,m):typeof m=="object"?T=this.createSceneFromObject(v,m):typeof m=="function"&&(T=this.createSceneFromFunction(v,m)),v=T.sys.settings.key,this.keys[v]=T,this.scenes.push(T),this._data[v]&&(T.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(p.autoStart=!0)),(p.autoStart||T.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,c=0;c<this._start.length;c++)p=this._start[c],this.start(p);this._start.length=0}},processQueue:function(){var c=this._pending.length,p=this._queue.length;if(!(c===0&&p===0)){var v,m;if(c){for(v=0;v<c;v++)m=this._pending[v],this.add(m.key,m.scene,m.autoStart,m.data);for(v=0;v<this._start.length;v++)m=this._start[v],this.start(m);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)m=this._queue[v],this[m.op](m.keyA,m.keyB,m.data);this._queue.length=0}},add:function(c,p,v,m){if(v===void 0&&(v=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:c,scene:p,autoStart:v,data:m}),this.isBooted||(this._data[c]={data:m}),null;c=this.getKey(c,p);var T;return p instanceof u?T=this.createSceneFromInstance(c,p):typeof p=="object"?(p.key=c,T=this.createSceneFromObject(c,p)):typeof p=="function"&&(T=this.createSceneFromFunction(c,p)),T.sys.settings.data=m,c=T.sys.settings.key,this.keys[c]=T,this.scenes.push(T),(v||T.sys.settings.active)&&(this._pending.length?this._start.push(c):this.start(c)),T},remove:function(c){if(this.isProcessing)return this.queueOp("remove",c);var p=this.getScene(c);if(!p||p.sys.isTransitioning())return this;var v=this.scenes.indexOf(p),m=p.sys.settings.key;return v>-1&&(delete this.keys[m],this.scenes.splice(v,1),this._start.indexOf(m)>-1&&(v=this._start.indexOf(m),this._start.splice(v,1)),p.sys.destroy()),this},bootScene:function(c){var p=c.sys,v=p.settings;p.sceneUpdate=h,c.init&&(c.init.call(c,v.data),v.status=y.INIT,v.isTransition&&p.events.emit(f.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var m;p.load&&(m=p.load,m.reset()),m&&c.preload?(c.preload.call(c),v.status=y.LOADING,m.once(r.COMPLETE,this.loadComplete,this),m.start()):this.create(c)},loadComplete:function(c){this.create(c.scene)},payloadComplete:function(c){this.bootScene(c.scene)},update:function(c,p){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var m=this.scenes[v].sys;m.settings.status>y.START&&m.settings.status<=y.RUNNING&&m.step(c,p),m.scenePlugin&&m.scenePlugin._target&&m.scenePlugin.step(c,p)}},render:function(c){for(var p=0;p<this.scenes.length;p++){var v=this.scenes[p].sys;v.settings.visible&&v.settings.status>=y.LOADING&&v.settings.status<y.SLEEPING&&v.render(c)}this.isProcessing=!1},create:function(c){var p=c.sys,v=p.settings;c.create&&(v.status=y.CREATING,c.create.call(c,v.data),v.status===y.DESTROYED)||(v.isTransition&&p.events.emit(f.TRANSITION_START,v.transitionFrom,v.transitionDuration),c.update&&(p.sceneUpdate=c.update),v.status=y.RUNNING,p.events.emit(f.CREATE,c))},createSceneFromFunction:function(c,p){var v=new p;if(v instanceof u){var m=v.sys.settings.key;if(m!==""&&(c=m),this.keys.hasOwnProperty(c))throw new Error("Cannot add Scene with duplicate key: "+c);return this.createSceneFromInstance(c,v)}else return v.sys=new a(v),v.sys.settings.key=c,v.sys.init(this.game),v},createSceneFromInstance:function(c,p){var v=p.sys.settings.key;return v===""&&(p.sys.settings.key=c),p.sys.init(this.game),p},createSceneFromObject:function(c,p){var v=new u(p),m=v.sys.settings.key;m!==""?c=m:v.sys.settings.key=c,v.sys.init(this.game);for(var T=["init","preload","create","update","render"],E=0;E<T.length;E++){var P=o(p,T[E],null);P&&(v[T[E]]=P)}if(p.hasOwnProperty("extend")){for(var w in p.extend)if(p.extend.hasOwnProperty(w)){var R=p.extend[w];w==="data"&&v.hasOwnProperty("data")&&typeof R=="object"?v.data.merge(R):w!=="sys"&&(v[w]=R)}}return v},getKey:function(c,p){if(c||(c="default"),typeof p=="function")return c;if(p instanceof u?c=p.sys.settings.key:typeof p=="object"&&p.hasOwnProperty("key")&&(c=p.key),this.keys.hasOwnProperty(c))throw new Error("Cannot add Scene with duplicate key: "+c);return c},getScenes:function(c,p){c===void 0&&(c=!0),p===void 0&&(p=!1);for(var v=[],m=this.scenes,T=0;T<m.length;T++){var E=m[T];E&&(!c||c&&E.sys.isActive())&&v.push(E)}return p?v.reverse():v},getScene:function(c){if(typeof c=="string"){if(this.keys[c])return this.keys[c]}else for(var p=0;p<this.scenes.length;p++)if(c===this.scenes[p])return c;return null},isActive:function(c){var p=this.getScene(c);return p?p.sys.isActive():null},isPaused:function(c){var p=this.getScene(c);return p?p.sys.isPaused():null},isVisible:function(c){var p=this.getScene(c);return p?p.sys.isVisible():null},isSleeping:function(c){var p=this.getScene(c);return p?p.sys.isSleeping():null},pause:function(c,p){var v=this.getScene(c);return v&&v.sys.pause(p),this},resume:function(c,p){var v=this.getScene(c);return v&&v.sys.resume(p),this},sleep:function(c,p){var v=this.getScene(c);return v&&!v.sys.isTransitioning()&&v.sys.sleep(p),this},wake:function(c,p){var v=this.getScene(c);return v&&v.sys.wake(p),this},run:function(c,p){var v=this.getScene(c);if(!v){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===c){this.queueOp("start",c,p);break}return this}v.sys.isSleeping()?v.sys.wake(p):v.sys.isPaused()?v.sys.resume(p):this.start(c,p)},start:function(c,p){if(!this.isBooted)return this._data[c]={autoStart:!0,data:p},this;var v=this.getScene(c);if(!v)return console.warn("Scene key not found: "+c),this;var m=v.sys,T=m.settings.status;if(T>=y.START&&T<=y.CREATING)return this;if(T>=y.RUNNING&&T<=y.SLEEPING)m.shutdown(),m.sceneUpdate=h,m.start(p);else{m.sceneUpdate=h,m.start(p);var E;if(m.load&&(E=m.load),E&&m.settings.hasOwnProperty("pack")&&(E.reset(),E.addPack({payload:m.settings.pack})))return m.settings.status=y.LOADING,E.once(r.COMPLETE,this.payloadComplete,this),E.start(),this}return this.bootScene(v),this},stop:function(c,p){var v=this.getScene(c);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==y.SHUTDOWN){var m=v.sys.load;m&&(m.off(r.COMPLETE,this.loadComplete,this),m.off(r.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(p)}return this},switch:function(c,p,v){var m=this.getScene(c),T=this.getScene(p);return m&&T&&m!==T&&(this.sleep(c),this.isSleeping(p)?this.wake(p,v):this.start(p,v)),this},getAt:function(c){return this.scenes[c]},getIndex:function(c){var p=this.getScene(c);return this.scenes.indexOf(p)},bringToTop:function(c){if(this.isProcessing)return this.queueOp("bringToTop",c);var p=this.getIndex(c),v=this.scenes;if(p!==-1&&p<v.length){var m=this.getScene(c);v.splice(p,1),v.push(m)}return this},sendToBack:function(c){if(this.isProcessing)return this.queueOp("sendToBack",c);var p=this.getIndex(c);if(p!==-1&&p>0){var v=this.getScene(c);this.scenes.splice(p,1),this.scenes.unshift(v)}return this},moveDown:function(c){if(this.isProcessing)return this.queueOp("moveDown",c);var p=this.getIndex(c);if(p>0){var v=p-1,m=this.getScene(c),T=this.getAt(v);this.scenes[p]=T,this.scenes[v]=m}return this},moveUp:function(c){if(this.isProcessing)return this.queueOp("moveUp",c);var p=this.getIndex(c);if(p<this.scenes.length-1){var v=p+1,m=this.getScene(c),T=this.getAt(v);this.scenes[p]=T,this.scenes[v]=m}return this},moveAbove:function(c,p){if(c===p)return this;if(this.isProcessing)return this.queueOp("moveAbove",c,p);var v=this.getIndex(c),m=this.getIndex(p);if(v!==-1&&m!==-1&&m<v){var T=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(v+(m>v),0,T)}return this},moveBelow:function(c,p){if(c===p)return this;if(this.isProcessing)return this.queueOp("moveBelow",c,p);var v=this.getIndex(c),m=this.getIndex(p);if(v!==-1&&m!==-1&&m>v){var T=this.getAt(m);this.scenes.splice(m,1),v===0?this.scenes.unshift(T):this.scenes.splice(v-(m<v),0,T)}return this},queueOp:function(c,p,v,m){return this._queue.push({op:c,keyA:p,keyB:v,data:m}),this},swapPosition:function(c,p){if(c===p)return this;if(this.isProcessing)return this.queueOp("swapPosition",c,p);var v=this.getIndex(c),m=this.getIndex(p);if(v!==m&&v!==-1&&m!==-1){var T=this.getAt(v);this.scenes[v]=this.scenes[m],this.scenes[m]=T}return this},dump:function(){for(var c=[],p=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var m=this.scenes[v].sys,T=m.settings.visible&&(m.settings.status===y.RUNNING||m.settings.status===y.PAUSED)?"[*] ":"[-] ";T+=m.settings.key+" ("+p[m.settings.status]+")",c.push(T)}console.log(c.join(`
`))},destroy:function(){for(var c=0;c<this.scenes.length;c++){var p=this.scenes[c].sys;p.destroy()}this.systemScene.sys.destroy(),this.update=h,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});C.exports=d},52209:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(44594),l=s(95540),o=s(37277),r=new y({initialize:function(u){this.scene=u,this.systems=u.sys,this.settings=u.sys.settings,this.key=u.sys.settings.key,this.manager=u.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,u.sys.events.once(f.BOOT,this.boot,this),u.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(h,u){return h===void 0&&(h=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",h,u),this},restart:function(h){var u=this.key;return this.manager.queueOp("stop",u),this.manager.queueOp("start",u,h),this},transition:function(h){h===void 0&&(h={});var u=l(h,"target",!1),a=this.manager.getScene(u);if(!u||!this.checkValidTransition(a))return!1;var d=l(h,"duration",1e3);this._elapsed=0,this._target=a,this._duration=d,this._willSleep=l(h,"sleep",!1),this._willRemove=l(h,"remove",!1);var c=l(h,"onUpdate",null);c&&(this._onUpdate=c,this._onUpdateScope=l(h,"onUpdateScope",this.scene));var p=l(h,"allowInput",!1);this.settings.transitionAllowInput=p;var v=a.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=d,v.transitionAllowInput=p,l(h,"moveAbove",!1)?this.manager.moveAbove(this.key,u):l(h,"moveBelow",!1)&&this.manager.moveBelow(this.key,u),a.sys.isSleeping()?a.sys.wake(l(h,"data")):this.manager.start(u,l(h,"data"));var m=l(h,"onStart",null),T=l(h,"onStartScope",this.scene);return m&&m.call(T,this.scene,a,d),this.systems.events.emit(f.TRANSITION_OUT,a,d),!0},checkValidTransition:function(h){return!(!h||h.sys.isActive()||h.sys.isTransitioning()||h===this.scene||this.systems.isTransitioning())},step:function(h,u){this._elapsed+=u,this.transitionProgress=g(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var h=this._target.sys,u=this._target.sys.settings;h.events.emit(f.TRANSITION_COMPLETE,this.scene),u.isTransition=!1,u.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(h,u,a,d){return this.manager.add(h,u,a,d)},launch:function(h,u){return h&&h!==this.key&&this.manager.queueOp("start",h,u),this},run:function(h,u){return h&&h!==this.key&&this.manager.queueOp("run",h,u),this},pause:function(h,u){return h===void 0&&(h=this.key),this.manager.queueOp("pause",h,u),this},resume:function(h,u){return h===void 0&&(h=this.key),this.manager.queueOp("resume",h,u),this},sleep:function(h,u){return h===void 0&&(h=this.key),this.manager.queueOp("sleep",h,u),this},wake:function(h,u){return h===void 0&&(h=this.key),this.manager.queueOp("wake",h,u),this},switch:function(h,u){return h!==this.key&&this.manager.queueOp("switch",this.key,h,u),this},stop:function(h,u){return h===void 0&&(h=this.key),this.manager.queueOp("stop",h,u),this},setActive:function(h,u,a){u===void 0&&(u=this.key);var d=this.manager.getScene(u);return d&&d.sys.setActive(h,a),this},setVisible:function(h,u){u===void 0&&(u=this.key);var a=this.manager.getScene(u);return a&&a.sys.setVisible(h),this},isSleeping:function(h){return h===void 0&&(h=this.key),this.manager.isSleeping(h)},isActive:function(h){return h===void 0&&(h=this.key),this.manager.isActive(h)},isPaused:function(h){return h===void 0&&(h=this.key),this.manager.isPaused(h)},isVisible:function(h){return h===void 0&&(h=this.key),this.manager.isVisible(h)},swapPosition:function(h,u){return u===void 0&&(u=this.key),h!==u&&this.manager.swapPosition(h,u),this},moveAbove:function(h,u){return u===void 0&&(u=this.key),h!==u&&this.manager.moveAbove(h,u),this},moveBelow:function(h,u){return u===void 0&&(u=this.key),h!==u&&this.manager.moveBelow(h,u),this},remove:function(h){return h===void 0&&(h=this.key),this.manager.remove(h),this},moveUp:function(h){return h===void 0&&(h=this.key),this.manager.moveUp(h),this},moveDown:function(h){return h===void 0&&(h=this.key),this.manager.moveDown(h),this},bringToTop:function(h){return h===void 0&&(h=this.key),this.manager.bringToTop(h),this},sendToBack:function(h){return h===void 0&&(h=this.key),this.manager.sendToBack(h),this},get:function(h){return this.manager.getScene(h)},getStatus:function(h){var u=this.manager.getScene(h);if(u)return u.sys.getStatus()},getIndex:function(h){return h===void 0&&(h=this.key),this.manager.getIndex(h)},shutdown:function(){var h=this.systems.events;h.off(f.SHUTDOWN,this.shutdown,this),h.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",r,"scenePlugin"),C.exports=r},55681:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(89993),y=s(35154),f=s(46975),l=s(87033),o={create:function(r){return typeof r=="string"?r={key:r}:r===void 0&&(r={}),{status:g.PENDING,key:y(r,"key",""),active:y(r,"active",!1),visible:y(r,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:y(r,"pack",!1),cameras:y(r,"cameras",null),map:y(r,"map",f(l,y(r,"mapAdd",{}))),physics:y(r,"physics",{}),loader:y(r,"loader",{}),plugins:y(r,"plugins",!1),input:y(r,"input",{})}}};C.exports=o},2368:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(89993),f=s(42363),l=s(44594),o=s(27397),r=s(52106),h=s(29747),u=s(55681),a=new g({initialize:function(c,p){this.scene=c,this.game,this.renderer,this.config=p,this.settings=u.create(p),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=h},init:function(d){this.settings.status=y.INIT,this.sceneUpdate=h,this.game=d,this.renderer=d.renderer,this.canvas=d.canvas,this.context=d.context;var c=d.plugins;this.plugins=c,c.addToScene(this,f.Global,[f.CoreScene,r(this),o(this)]),this.events.emit(l.BOOT,this),this.settings.isBooted=!0},step:function(d,c){var p=this.events;p.emit(l.PRE_UPDATE,d,c),p.emit(l.UPDATE,d,c),this.sceneUpdate.call(this.scene,d,c),p.emit(l.POST_UPDATE,d,c)},render:function(d){var c=this.displayList;c.depthSort(),this.events.emit(l.PRE_RENDER,d),this.cameras.render(d,c),this.events.emit(l.RENDER,d)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(d){var c=this.settings,p=this.getStatus();return p!==y.CREATING&&p!==y.RUNNING?console.warn("Cannot pause non-running Scene",c.key):this.settings.active&&(c.status=y.PAUSED,c.active=!1,this.events.emit(l.PAUSE,this,d)),this},resume:function(d){var c=this.events,p=this.settings;return this.settings.active||(p.status=y.RUNNING,p.active=!0,c.emit(l.RESUME,this,d)),this},sleep:function(d){var c=this.settings,p=this.getStatus();return p!==y.CREATING&&p!==y.RUNNING?console.warn("Cannot sleep non-running Scene",c.key):(c.status=y.SLEEPING,c.active=!1,c.visible=!1,this.events.emit(l.SLEEP,this,d)),this},wake:function(d){var c=this.events,p=this.settings;return p.status=y.RUNNING,p.active=!0,p.visible=!0,c.emit(l.WAKE,this,d),p.isTransition&&c.emit(l.TRANSITION_WAKE,p.transitionFrom,p.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var d=this.settings.status;return d>y.PENDING&&d<=y.RUNNING},isSleeping:function(){return this.settings.status===y.SLEEPING},isActive:function(){return this.settings.status===y.RUNNING},isPaused:function(){return this.settings.status===y.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(d){return this.settings.visible=d,this},setActive:function(d,c){return d?this.resume(c):this.pause(c)},start:function(d){var c=this.events,p=this.settings;d&&(p.data=d),p.status=y.START,p.active=!0,p.visible=!0,c.emit(l.START,this),c.emit(l.READY,this,d)},shutdown:function(d){var c=this.events,p=this.settings;c.off(l.TRANSITION_INIT),c.off(l.TRANSITION_START),c.off(l.TRANSITION_COMPLETE),c.off(l.TRANSITION_OUT),p.status=y.SHUTDOWN,p.active=!1,p.visible=!1,c.emit(l.SHUTDOWN,this,d)},destroy:function(){var d=this.events,c=this.settings;c.status=y.DESTROYED,c.active=!1,c.visible=!1,d.emit(l.DESTROY,this),d.removeAllListeners();for(var p=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<p.length;v++)this[p[v]]=null}});C.exports=a},89993:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};C.exports=A},69830:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addedtoscene"},7919:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="boot"},46763:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="create"},11763:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},71555:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},36735:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postupdate"},3809:C=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prerender"},90716:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="preupdate"},58262:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="ready"},91633:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedfromscene"},10319:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="render"},87132:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},81961:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="shutdown"},90194:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="sleep"},6265:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},33178:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitioncomplete"},43063:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitioninit"},11259:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionout"},61611:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionstart"},45209:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionwake"},22966:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="update"},21747:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="wake"},44594:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADDED_TO_SCENE:s(69830),BOOT:s(7919),CREATE:s(46763),DESTROY:s(11763),PAUSE:s(71555),POST_UPDATE:s(36735),PRE_RENDER:s(3809),PRE_UPDATE:s(90716),READY:s(58262),REMOVED_FROM_SCENE:s(91633),RENDER:s(10319),RESUME:s(87132),SHUTDOWN:s(81961),SLEEP:s(90194),START:s(6265),TRANSITION_COMPLETE:s(33178),TRANSITION_INIT:s(43063),TRANSITION_OUT:s(11259),TRANSITION_START:s(61611),TRANSITION_WAKE:s(45209),UPDATE:s(22966),WAKE:s(21747)}},62194:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(89993),y=s(79291),f={Events:s(44594),GetPhysicsPlugins:s(27397),GetScenePlugins:s(52106),SceneManager:s(60903),ScenePlugin:s(52209),Settings:s(55681),Systems:s(2368)};f=y(!1,f,g),C.exports=f},30341:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(14463),l=s(79291),o=s(29747),r=new g({Extends:y,initialize:function(u,a,d){y.call(this),this.manager=u,this.key=a,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=l(this.config,d),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(h){return!h||!h.name||typeof h.name!="string"?!1:this.markers[h.name]?(console.error("addMarker "+h.name+" already exists in Sound"),!1):(h=l(!0,{name:"",start:0,duration:this.totalDuration-(h.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},h),this.markers[h.name]=h,!0)},updateMarker:function(h){return!h||!h.name||typeof h.name!="string"?!1:this.markers[h.name]?(this.markers[h.name]=l(!0,this.markers[h.name],h),!0):(console.warn("Audio Marker: "+h.name+" missing in Sound: "+this.key),!1)},removeMarker:function(h){var u=this.markers[h];return u?(this.markers[h]=null,u):null},play:function(h,u){if(h===void 0&&(h=""),typeof h=="object"&&(u=h,h=""),typeof h!="string")return!1;if(!h)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[h])return console.warn("Marker: "+h+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[h],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=l(this.currentConfig,u),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:o,calculateRate:function(){var h=1.0005777895065548,u=this.currentConfig.detune+this.manager.detune,a=Math.pow(h,u);this.totalRate=this.currentConfig.rate*this.manager.rate*a},destroy:function(){this.pendingRemove||(this.stop(),this.emit(f.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});C.exports=r},85034:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(41786),f=s(50792),l=s(14463),o=s(8443),r=s(46710),h=s(58731),u=s(29747),a=s(26099),d=new g({Extends:f,initialize:function(p){f.call(this),this.game=p,this.jsonCache=p.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new a;var v=p.events;v.on(o.BLUR,this.onGameBlur,this),v.on(o.FOCUS,this.onGameFocus,this),v.on(o.PRE_STEP,this.update,this),v.once(o.DESTROY,this.destroy,this)},add:u,addAudioSprite:function(c,p){p===void 0&&(p={});var v=this.add(c,p);v.spritemap=this.jsonCache.get(c).spritemap;for(var m in v.spritemap)if(v.spritemap.hasOwnProperty(m)){var T=y(p),E=v.spritemap[m];T.loop=E.hasOwnProperty("loop")?E.loop:!1,v.addMarker({name:m,start:E.start,duration:E.end-E.start,config:T})}return v},get:function(c){return h(this.sounds,"key",c)},getAll:function(c){return c?r(this.sounds,"key",c):r(this.sounds)},getAllPlaying:function(){return r(this.sounds,"isPlaying",!0)},play:function(c,p){var v=this.add(c);return v.once(l.COMPLETE,v.destroy,v),p?p.name?(v.addMarker(p),v.play(p.name)):v.play(p):v.play()},playAudioSprite:function(c,p,v){var m=this.addAudioSprite(c);return m.once(l.COMPLETE,m.destroy,m),m.play(p,v)},remove:function(c){var p=this.sounds.indexOf(c);return p!==-1?(c.destroy(),this.sounds.splice(p,1),!0):!1},removeAll:function(){this.sounds.forEach(function(c){c.destroy()}),this.sounds.length=0},removeByKey:function(c){for(var p=0,v=this.sounds.length-1;v>=0;v--){var m=this.sounds[v];m.key===c&&(m.destroy(),this.sounds.splice(v,1),p++)}return p},pauseAll:function(){this.forEachActiveSound(function(c){c.pause()}),this.emit(l.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(c){c.resume()}),this.emit(l.RESUME_ALL,this)},setListenerPosition:u,stopAll:function(){this.forEachActiveSound(function(c){c.stop()}),this.emit(l.STOP_ALL,this)},stopByKey:function(c){var p=0;return this.getAll(c).forEach(function(v){v.stop()&&p++}),p},isPlaying:function(c){var p=this.sounds,v=p.length-1,m;if(c===void 0){for(;v>=0;v--)if(m=this.sounds[v],m.isPlaying)return!0}else for(;v>=0;v--)if(m=this.sounds[v],m.key===c&&m.isPlaying)return!0;return!1},unlock:u,onBlur:u,onFocus:u,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(c,p){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(l.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(m){m.update(c,p)})},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this),this.game.events.off(o.FOCUS,this.onGameFocus,this),this.game.events.off(o.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(c,p){var v=this;this.sounds.forEach(function(m,T){m&&!m.pendingRemove&&c.call(p||v,m,T,v.sounds)})},setRate:function(c){return this.rate=c,this},rate:{get:function(){return this._rate},set:function(c){this._rate=c,this.forEachActiveSound(function(p){p.calculateRate()}),this.emit(l.GLOBAL_RATE,this,c)}},setDetune:function(c){return this.detune=c,this},detune:{get:function(){return this._detune},set:function(c){this._detune=c,this.forEachActiveSound(function(p){p.calculateRate()}),this.emit(l.GLOBAL_DETUNE,this,c)}}});C.exports=d},14747:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33684),y=s(25960),f=s(57490),l={create:function(o){var r=o.config.audio,h=o.device.audio;return r.noAudio||!h.webAudio&&!h.audioData?new y(o):h.webAudio&&!r.disableWebAudio?new f(o):new g(o)}};C.exports=l},19723:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},98882:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="decodedall"},57506:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="decoded"},73146:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},11305:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="detune"},40577:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="detune"},30333:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="mute"},20394:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="rate"},21802:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="volume"},1299:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="looped"},99190:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loop"},97125:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="mute"},89259:C=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pan"},79986:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pauseall"},17586:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},19618:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="play"},42306:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="rate"},10387:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resumeall"},48959:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},9960:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="seek"},19180:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stopall"},98328:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stop"},50401:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="unlocked"},52498:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="volume"},14463:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={COMPLETE:s(19723),DECODED:s(57506),DECODED_ALL:s(98882),DESTROY:s(73146),DETUNE:s(11305),GLOBAL_DETUNE:s(40577),GLOBAL_MUTE:s(30333),GLOBAL_RATE:s(20394),GLOBAL_VOLUME:s(21802),LOOP:s(99190),LOOPED:s(1299),MUTE:s(97125),PAN:s(89259),PAUSE_ALL:s(79986),PAUSE:s(17586),PLAY:s(19618),RATE:s(42306),RESUME_ALL:s(10387),RESUME:s(48959),SEEK:s(9960),STOP_ALL:s(19180),STOP:s(98328),UNLOCKED:s(50401),VOLUME:s(52498)}},64895:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30341),y=s(83419),f=s(14463),l=s(45319),o=new y({Extends:g,initialize:function(h,u,a){if(a===void 0&&(a={}),this.tags=h.game.cache.audio.get(u),!this.tags)throw new Error('No cached audio asset with key "'+u);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,g.call(this,h,u,a)},play:function(r,h){return this.manager.isLocked(this,"play",[r,h])||!g.prototype.play.call(this,r,h)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!g.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!g.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!g.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var r=this.currentConfig.seek,h=this.currentConfig.delay,u=(this.currentMarker?this.currentMarker.start:0)+r;return this.previousTime=u,this.audio.currentTime=u,this.applyConfig(),h===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+h*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var r=0;r<this.tags.length;r++){var h=this.tags[r];if(h.dataset.used==="false")return h.dataset.used="true",this.audio=h,!0}if(!this.manager.override)return!1;var u=[];this.manager.forEachActiveSound(function(d){d.key===this.key&&d.audio&&u.push(d)},this),u.sort(function(d,c){return d.loop===c.loop?c.seek/c.duration-d.seek/d.duration:d.loop?1:-1});var a=u[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var r=this.audio.play();r&&r.catch(function(h){console.warn(h)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){g.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(r){if(this.isPlaying){if(this.startTime>0){this.startTime<r-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,r-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var h=this.currentMarker?this.currentMarker.start:0,u=h+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=u-this.manager.loopEndOffset?(this.audio.currentTime=h+Math.max(0,a-u),a=this.audio.currentTime):a<h&&(this.audio.currentTime+=h,a=this.audio.currentTime),a<this.previousTime&&this.emit(f.LOOPED,this);else if(a>=u){this.reset(),this.stopAndReleaseAudioTag(),this.emit(f.COMPLETE,this);return}this.previousTime=a}},destroy:function(){g.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=l(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){g.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(r){this.currentConfig.mute=r,!this.manager.isLocked(this,"mute",r)&&(this.updateMute(),this.emit(f.MUTE,this,r))}},setMute:function(r){return this.mute=r,this},volume:{get:function(){return this.currentConfig.volume},set:function(r){this.currentConfig.volume=r,!this.manager.isLocked(this,"volume",r)&&(this.updateVolume(),this.emit(f.VOLUME,this,r))}},setVolume:function(r){return this.volume=r,this},rate:{get:function(){return this.currentConfig.rate},set:function(r){this.currentConfig.rate=r,!this.manager.isLocked(this,f.RATE,r)&&(this.calculateRate(),this.emit(f.RATE,this,r))}},setRate:function(r){return this.rate=r,this},detune:{get:function(){return this.currentConfig.detune},set:function(r){this.currentConfig.detune=r,!this.manager.isLocked(this,f.DETUNE,r)&&(this.calculateRate(),this.emit(f.DETUNE,this,r))}},setDetune:function(r){return this.detune=r,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(r){this.manager.isLocked(this,"seek",r)||this.startTime>0||(this.isPlaying||this.isPaused)&&(r=Math.min(Math.max(0,r),this.duration),this.isPlaying?(this.previousTime=r,this.audio.currentTime=r):this.isPaused&&(this.currentConfig.seek=r),this.emit(f.SEEK,this,r))}},setSeek:function(r){return this.seek=r,this},loop:{get:function(){return this.currentConfig.loop},set:function(r){this.currentConfig.loop=r,!this.manager.isLocked(this,"loop",r)&&(this.audio&&(this.audio.loop=r),this.emit(f.LOOP,this,r))}},setLoop:function(r){return this.loop=r,this},pan:{get:function(){return this.currentConfig.pan},set:function(r){this.currentConfig.pan=r,this.emit(f.PAN,this,r)}},setPan:function(r){return this.pan=r,this}});C.exports=o},33684:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85034),y=s(83419),f=s(14463),l=s(64895),o=new y({Extends:g,initialize:function(h){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,g.call(this,h)},add:function(r,h){var u=new l(this,r,h);return this.sounds.push(u),u},unlock:function(){this.locked=!1;var r=this;if(this.game.cache.audio.entries.each(function(d,c){for(var p=0;p<c.length;p++)if(c[p].dataset.locked==="true")return r.locked=!0,!1;return!0}),!!this.locked){var h=!1,u=function(){h=!0},a=function(){if(h){h=!1;return}document.body.removeEventListener("touchmove",u),document.body.removeEventListener("touchend",a);var d=[];if(r.game.cache.audio.entries.each(function(p,v){for(var m=0;m<v.length;m++){var T=v[m];T.dataset.locked==="true"&&d.push(T)}return!0}),d.length!==0){var c=d[d.length-1];c.oncanplaythrough=function(){c.oncanplaythrough=null,d.forEach(function(p){p.dataset.locked="false"}),r.unlocked=!0},d.forEach(function(p){p.load()})}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(c){c.currentMarker===null&&c.duration===0&&(c.duration=c.tags[0].duration),c.totalDuration=c.tags[0].duration});this.lockedActionsQueue.length;){var d=this.lockedActionsQueue.shift();d.sound[d.prop].apply?d.sound[d.prop].apply(d.sound,d.value||[]):d.sound[d.prop]=d.value}},this),document.body.addEventListener("touchmove",u,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound(function(r){r.isPlaying&&(this.onBlurPausedSounds.push(r),r.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(r){r.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){g.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(r,h,u){return r.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:r,prop:h,value:u}),!0):!1},setMute:function(r){return this.mute=r,this},mute:{get:function(){return this._mute},set:function(r){this._mute=r,this.forEachActiveSound(function(h){h.updateMute()}),this.emit(f.GLOBAL_MUTE,this,r)}},setVolume:function(r){return this.volume=r,this},volume:{get:function(){return this._volume},set:function(r){this._volume=r,this.forEachActiveSound(function(h){h.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,r)}}});C.exports=o},23717:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={SoundManagerCreator:s(14747),Events:s(14463),BaseSound:s(30341),BaseSoundManager:s(85034),WebAudioSound:s(71741),WebAudioSoundManager:s(57490),HTML5AudioSound:s(64895),HTML5AudioSoundManager:s(33684),NoAudioSound:s(4603),NoAudioSoundManager:s(25960)}},4603:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30341),y=s(83419),f=s(50792),l=s(79291),o=s(29747),r=function(){return!1},h=function(){return null},u=function(){return this},a=new y({Extends:f,initialize:function(c,p,v){v===void 0&&(v={}),f.call(this),this.manager=c,this.key=p,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=l({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:r,updateMarker:r,removeMarker:h,play:r,pause:r,resume:r,stop:r,setMute:u,setVolume:u,setRate:u,setDetune:u,setSeek:u,setLoop:u,setPan:u,applyConfig:h,resetConfig:h,update:o,calculateRate:h,destroy:function(){g.prototype.destroy.call(this)}});C.exports=a},25960:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85034),y=s(83419),f=s(50792),l=s(4603),o=s(29747),r=new y({Extends:f,initialize:function(u){f.call(this),this.game=u,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(h,u){var a=new l(this,h,u);return this.sounds.push(a),a},addAudioSprite:function(h,u){var a=this.add(h,u);return a.spritemap={},a},get:function(h){return g.prototype.get.call(this,h)},getAll:function(h){return g.prototype.getAll.call(this,h)},play:function(h,u){return!1},playAudioSprite:function(h,u,a){return!1},remove:function(h){return g.prototype.remove.call(this,h)},removeAll:function(){return g.prototype.removeAll.call(this)},removeByKey:function(h){return g.prototype.removeByKey.call(this,h)},stopByKey:function(h){return g.prototype.stopByKey.call(this,h)},onBlur:o,onFocus:o,onGameBlur:o,onGameFocus:o,pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,unlock:o,forEachActiveSound:function(h,u){g.prototype.forEachActiveSound.call(this,h,u)},destroy:function(){g.prototype.destroy.call(this)}});C.exports=r},71741:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30341),y=s(83419),f=s(14463),l=s(95540),o=new y({Extends:g,initialize:function(h,u,a){if(a===void 0&&(a={}),this.audioBuffer=h.game.cache.audio.get(u),!this.audioBuffer)throw new Error('Audio key "'+u+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=h.context.createGain(),this.volumeNode=h.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),h.context.createPanner&&(this.spatialNode=h.context.createPanner(),this.volumeNode.connect(this.spatialNode)),h.context.createStereoPanner?(this.pannerNode=h.context.createStereoPanner(),h.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(h.destination)):h.context.createPanner?this.spatialNode.connect(h.destination):this.volumeNode.connect(h.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,g.call(this,h,u,a)},play:function(r,h){return g.prototype.play.call(this,r,h)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!g.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!g.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(f.RESUME,this),!0)},stop:function(){return g.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0):!1},createAndStartBufferSource:function(){var r=this.currentConfig.seek,h=this.currentConfig.delay,u=this.manager.context.currentTime+h,a=(this.currentMarker?this.currentMarker.start:0)+r,d=this.duration-r;this.playTime=u-r,this.startTime=u,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,u),Math.max(0,a),Math.max(0,d)),this.resetConfig()},createAndStartLoopBufferSource:function(){var r=this.getLoopTime(),h=this.currentMarker?this.currentMarker.start:0,u=this.duration;this.loopTime=r,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,r),Math.max(0,h),Math.max(0,u))},createBufferSource:function(){var r=this,h=this.manager.context.createBufferSource();return h.buffer=this.audioBuffer,h.connect(this.muteNode),h.onended=function(u){var a=u.target;(a===r.source||a===r.loopSource)&&(r.currentConfig.loop?r.hasLooped=!0:r.hasEnded=!0)},h},stopAndRemoveBufferSource:function(){if(this.source){var r=this.source;this.source=null,r.stop(),r.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var r=this.currentConfig.source;if(r&&this.manager.context.createPanner){var h=this.spatialNode;h.panningModel=l(r,"panningModel","equalpower"),h.distanceModel=l(r,"distanceModel","inverse"),h.orientationX.value=l(r,"orientationX",0),h.orientationY.value=l(r,"orientationY",0),h.orientationZ.value=l(r,"orientationZ",-1),h.refDistance=l(r,"refDistance",1),h.maxDistance=l(r,"maxDistance",1e4),h.rolloffFactor=l(r,"rolloffFactor",1),h.coneInnerAngle=l(r,"coneInnerAngle",360),h.coneOuterAngle=l(r,"coneOuterAngle",0),h.coneOuterGain=l(r,"coneOuterGain",0),this.spatialSource=l(r,"follow",null),this.spatialSource||(h.positionX.value=l(r,"x",0),h.positionY.value=l(r,"y",0),h.positionZ.value=l(r,"z",0))}g.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(r){this.spatialNode&&(this.spatialNode.positionX.value=r)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(r){this.spatialNode&&(this.spatialNode.positionY.value=r)}},update:function(){if(this.isPlaying&&this.spatialSource){var r=l(this.spatialSource,"x",null),h=l(this.spatialSource,"y",null);r&&r!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=r),h&&h!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=h)}this.hasEnded?(g.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){this.pendingRemove||(g.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){g.prototype.calculateRate.call(this);var r=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,r),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,r)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var r=0,h=0;h<this.rateUpdates.length;h++){var u=0;h<this.rateUpdates.length-1?u=this.rateUpdates[h+1].time:u=this.manager.context.currentTime-this.playTime,r+=(u-this.rateUpdates[h].time)*this.rateUpdates[h].rate}return r},getLoopTime:function(){for(var r=0,h=0;h<this.rateUpdates.length-1;h++)r+=(this.rateUpdates[h+1].time-this.rateUpdates[h].time)*this.rateUpdates[h].rate;var u=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+u.time+(this.duration-r)/u.rate},rate:{get:function(){return this.currentConfig.rate},set:function(r){this.currentConfig.rate=r,this.calculateRate(),this.emit(f.RATE,this,r)}},setRate:function(r){return this.rate=r,this},detune:{get:function(){return this.currentConfig.detune},set:function(r){this.currentConfig.detune=r,this.calculateRate(),this.emit(f.DETUNE,this,r)}},setDetune:function(r){return this.detune=r,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(r){this.currentConfig.mute=r,this.muteNode.gain.setValueAtTime(r?0:1,0),this.emit(f.MUTE,this,r)}},setMute:function(r){return this.mute=r,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(r){this.currentConfig.volume=r,this.volumeNode.gain.setValueAtTime(r,0),this.emit(f.VOLUME,this,r)}},setVolume:function(r){return this.volume=r,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(r){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(r=Math.min(Math.max(0,r),this.duration),this.currentConfig.seek=r,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,r))}},setSeek:function(r){return this.seek=r,this},loop:{get:function(){return this.currentConfig.loop},set:function(r){this.currentConfig.loop=r,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),r&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,r)}},setLoop:function(r){return this.loop=r,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(r){this.currentConfig.pan=r,this.pannerNode&&this.pannerNode.pan.setValueAtTime(r,this.manager.context.currentTime),this.emit(f.PAN,this,r)}},setPan:function(r){return this.pan=r,this}});C.exports=o},57490:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(53134),y=s(85034),f=s(83419),l=s(14463),o=s(8443),r=s(71741),h=s(95540),u=new f({Extends:y,initialize:function(d){this.context=this.createAudioContext(d),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",y.call(this,d),this.locked&&(d.isBooted?this.unlock():d.events.once(o.BOOT,this.unlock,this)),d.events.on(o.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var a=this.context;window.setTimeout(function(){a&&(a.suspend(),a.resume())},100)},createAudioContext:function(a){var d=a.config.audio;if(d.context)return d.context.resume(),d.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(a){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=a,this.masterMuteNode=a.createGain(),this.masterVolumeNode=a.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(a.destination),this.destination=this.masterMuteNode,this},add:function(a,d){var c=new r(this,a,d);return this.sounds.push(c),c},decodeAudio:function(a,d){var c;Array.isArray(a)?c=a:c=[{key:a,data:d}];for(var p=this.game.cache.audio,v=c.length,m=0;m<c.length;m++){var T=c[m],E=T.key,P=T.data;typeof P=="string"&&(P=g(P));var w=(function(L,O){p.add(L,O),this.emit(l.DECODED,L),v--,v===0&&this.emit(l.DECODED_ALL)}).bind(this,E),R=(function(L,O){console.error("Error decoding audio: "+L+" - ",O?O.message:""),v--,v===0&&this.emit(l.DECODED_ALL)}).bind(this,E);this.context.decodeAudioData(P,w,R)}},setListenerPosition:function(a,d){return a===void 0&&(a=this.game.scale.width/2),d===void 0&&(d=this.game.scale.height/2),this.listenerPosition.set(a,d),this},unlock:function(){var a=this,d=document.body,c=function p(){if(a.context&&d){var v=d.removeEventListener.bind(d);a.context.resume().then(function(){v("touchstart",p),v("touchend",p),v("mousedown",p),v("mouseup",p),v("keydown",p),a.unlocked=!0},function(){v("touchstart",p),v("touchend",p),v("mousedown",p),v("mouseup",p),v("keydown",p)})}};d&&(d.addEventListener("touchstart",c,!1),d.addEventListener("touchend",c,!1),d.addEventListener("mousedown",c,!1),d.addEventListener("mouseup",c,!1),d.addEventListener("keydown",c,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var a=this.context;a&&!this.locked&&(a.state==="suspended"||a.state==="interrupted")&&a.resume()},update:function(a,d){var c=this.context.listener,p=h(this.listenerPosition,"x",null),v=h(this.listenerPosition,"y",null);if(c&&c.positionX!==void 0)p&&p!==this._spatialx&&(this._spatialx=c.positionX.value=p),v&&v!==this._spatialy&&(this._spatialy=c.positionY.value=v);else if(c){p&&p!==this._spatialx&&(this._spatialx=p),v&&v!==this._spatialy&&(this._spatialy=v);var m=h(c,"z",0);c.setPosition(this._spatialx||0,this._spatialy||0,m)}y.prototype.update.call(this,a,d),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var a=this;this.context.close().then(function(){a.context=null})}this.game.events.off(o.VISIBLE,this.onGameVisible,this),y.prototype.destroy.call(this)},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(a){this.masterMuteNode.gain.setValueAtTime(a?0:1,0),this.emit(l.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(a){this.masterVolumeNode.gain.setValueAtTime(a,0),this.emit(l.GLOBAL_VOLUME,this,a)}}});C.exports=u},73162:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37105),y=s(83419),f=s(29747),l=s(19186),o=new y({initialize:function(h){this.parent=h,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(r,h){return h?g.Add(this.list,r):g.Add(this.list,r,0,this.addCallback,this)},addAt:function(r,h,u){return u?g.AddAt(this.list,r,h):g.AddAt(this.list,r,h,0,this.addCallback,this)},getAt:function(r){return this.list[r]},getIndex:function(r){return this.list.indexOf(r)},sort:function(r,h){return r?(h===void 0&&(h=function(u,a){return u[r]-a[r]}),l(this.list,h),this):this},getByName:function(r){return g.GetFirst(this.list,"name",r)},getRandom:function(r,h){return g.GetRandom(this.list,r,h)},getFirst:function(r,h,u,a){return g.GetFirst(this.list,r,h,u,a)},getAll:function(r,h,u,a){return g.GetAll(this.list,r,h,u,a)},count:function(r,h){return g.CountAllMatching(this.list,r,h)},swap:function(r,h){g.Swap(this.list,r,h)},moveTo:function(r,h){return g.MoveTo(this.list,r,h)},moveAbove:function(r,h){return g.MoveAbove(this.list,r,h)},moveBelow:function(r,h){return g.MoveBelow(this.list,r,h)},remove:function(r,h){return h?g.Remove(this.list,r):g.Remove(this.list,r,this.removeCallback,this)},removeAt:function(r,h){return h?g.RemoveAt(this.list,r):g.RemoveAt(this.list,r,this.removeCallback,this)},removeBetween:function(r,h,u){return u?g.RemoveBetween(this.list,r,h):g.RemoveBetween(this.list,r,h,this.removeCallback,this)},removeAll:function(r){for(var h=this.list.length;h--;)this.remove(this.list[h],r);return this},bringToTop:function(r){return g.BringToTop(this.list,r)},sendToBack:function(r){return g.SendToBack(this.list,r)},moveUp:function(r){return g.MoveUp(this.list,r),r},moveDown:function(r){return g.MoveDown(this.list,r),r},reverse:function(){return this.list.reverse(),this},shuffle:function(){return g.Shuffle(this.list),this},replace:function(r,h){return g.Replace(this.list,r,h)},exists:function(r){return this.list.indexOf(r)>-1},setAll:function(r,h,u,a){return g.SetAll(this.list,r,h,u,a),this},each:function(r,h){for(var u=[null],a=2;a<arguments.length;a++)u.push(arguments[a]);for(a=0;a<this.list.length;a++)u[0]=this.list[a],r.apply(h,u)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});C.exports=o},90330:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l){this.entries={},this.size=0,this.setAll(l)},setAll:function(f){if(Array.isArray(f))for(var l=0;l<f.length;l++)this.set(f[l][0],f[l][1]);return this},set:function(f,l){return this.has(f)||this.size++,this.entries[f]=l,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],l=this.entries;for(var o in l)f.push(l[o]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],l=this.entries;for(var o in l)f.push(l[o]);return f},dump:function(){var f=this.entries;console.group("Map");for(var l in f)console.log(l,f[l]);console.groupEnd()},each:function(f){var l=this.entries;for(var o in l)if(f(o,l[o])===!1)break;return this},contains:function(f){var l=this.entries;for(var o in l)if(l[o]===f)return!0;return!1},merge:function(f,l){l===void 0&&(l=!1);var o=this.entries,r=f.entries;for(var h in r)o.hasOwnProperty(h)&&l?o[h]=r[h]:this.set(h,r[h]);return this}});C.exports=y},25774:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(82348),l=new g({Extends:y,initialize:function(){y.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(o){return this._active.indexOf(o)>-1},isPending:function(o){return this._toProcess>0&&this._pending.indexOf(o)>-1},isDestroying:function(o){return this._destroy.indexOf(o)>-1},add:function(o){return this.checkQueue&&this.isActive(o)&&!this.isDestroying(o)||this.isPending(o)||(this._pending.push(o),this._toProcess++),o},remove:function(o){if(this.isPending(o)){var r=this._pending,h=r.indexOf(o);h!==-1&&r.splice(h,1)}else this.isActive(o)&&(this._destroy.push(o),this._toProcess++);return o},removeAll:function(){for(var o=this._active,r=this._destroy,h=o.length;h--;)r.push(o[h]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var o=this._destroy,r=this._active,h,u;for(h=0;h<o.length;h++){u=o[h];var a=r.indexOf(u);a!==-1&&(r.splice(a,1),this.emit(f.PROCESS_QUEUE_REMOVE,u))}for(o.length=0,o=this._pending,h=0;h<o.length;h++)u=o[h],(!this.checkQueue||this.checkQueue&&r.indexOf(u)===-1)&&(r.push(u),this.emit(f.PROCESS_QUEUE_ADD,u));return o.length=0,this._toProcess=0,r},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});C.exports=l},59542:(C,A,s)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43886);function y(P){if(!(this instanceof y))return new y(P);this._maxEntries=Math.max(4,P||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}y.prototype={all:function(){return this._all(this.data,[])},search:function(P){var w=this.data,R=[],L=this.toBBox;if(!m(P,w))return R;for(var O=[],I,F,B,G;w;){for(I=0,F=w.children.length;I<F;I++)B=w.children[I],G=w.leaf?L(B):B,m(P,G)&&(w.leaf?R.push(B):v(P,G)?this._all(B,R):O.push(B));w=O.pop()}return R},collides:function(P){var w=this.data,R=this.toBBox;if(!m(P,w))return!1;for(var L=[],O,I,F,B;w;){for(O=0,I=w.children.length;O<I;O++)if(F=w.children[O],B=w.leaf?R(F):F,m(P,B)){if(w.leaf||v(P,B))return!0;L.push(F)}w=L.pop()}return!1},load:function(P){if(!(P&&P.length))return this;if(P.length<this._minEntries){for(var w=0,R=P.length;w<R;w++)this.insert(P[w]);return this}var L=this._build(P.slice(),0,P.length-1,0);if(!this.data.children.length)this.data=L;else if(this.data.height===L.height)this._splitRoot(this.data,L);else{if(this.data.height<L.height){var O=this.data;this.data=L,L=O}this._insert(L,this.data.height-L.height-1,!0)}return this},insert:function(P){return P&&this._insert(P,this.data.height-1),this},clear:function(){return this.data=T([]),this},remove:function(P,w){if(!P)return this;for(var R=this.data,L=this.toBBox(P),O=[],I=[],F,B,G,z;R||O.length;){if(R||(R=O.pop(),B=O[O.length-1],F=I.pop(),z=!0),R.leaf&&(G=f(P,R.children,w),G!==-1))return R.children.splice(G,1),O.push(R),this._condense(O),this;!z&&!R.leaf&&v(R,L)?(O.push(R),I.push(F),F=0,B=R,R=R.children[0]):B?(F++,R=B.children[F],z=!1):R=null}return this},toBBox:function(P){return P},compareMinX:h,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(P){return this.data=P,this},_all:function(P,w){for(var R=[];P;)P.leaf?w.push.apply(w,P.children):R.push.apply(R,P.children),P=R.pop();return w},_build:function(P,w,R,L){var O=R-w+1,I=this._maxEntries,F;if(O<=I)return F=T(P.slice(w,R+1)),l(F,this.toBBox),F;L||(L=Math.ceil(Math.log(O)/Math.log(I)),I=Math.ceil(O/Math.pow(I,L-1))),F=T([]),F.leaf=!1,F.height=L;var B=Math.ceil(O/I),G=B*Math.ceil(Math.sqrt(I)),z,Y,J,$;for(E(P,w,R,G,this.compareMinX),z=w;z<=R;z+=G)for(J=Math.min(z+G-1,R),E(P,z,J,B,this.compareMinY),Y=z;Y<=J;Y+=B)$=Math.min(Y+B-1,J),F.children.push(this._build(P,Y,$,L-1));return l(F,this.toBBox),F},_chooseSubtree:function(P,w,R,L){for(var O,I,F,B,G,z,Y,J;L.push(w),!(w.leaf||L.length-1===R);){for(Y=J=1/0,O=0,I=w.children.length;O<I;O++)F=w.children[O],G=a(F),z=c(P,F)-G,z<J?(J=z,Y=G<Y?G:Y,B=F):z===J&&G<Y&&(Y=G,B=F);w=B||w.children[0]}return w},_insert:function(P,w,R){var L=this.toBBox,O=R?P:L(P),I=[],F=this._chooseSubtree(O,this.data,w,I);for(F.children.push(P),r(F,O);w>=0&&I[w].children.length>this._maxEntries;)this._split(I,w),w--;this._adjustParentBBoxes(O,I,w)},_split:function(P,w){var R=P[w],L=R.children.length,O=this._minEntries;this._chooseSplitAxis(R,O,L);var I=this._chooseSplitIndex(R,O,L),F=T(R.children.splice(I,R.children.length-I));F.height=R.height,F.leaf=R.leaf,l(R,this.toBBox),l(F,this.toBBox),w?P[w-1].children.push(F):this._splitRoot(R,F)},_splitRoot:function(P,w){this.data=T([P,w]),this.data.height=P.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(P,w,R){var L,O,I,F,B,G,z,Y;for(G=z=1/0,L=w;L<=R-w;L++)O=o(P,0,L,this.toBBox),I=o(P,L,R,this.toBBox),F=p(O,I),B=a(O)+a(I),F<G?(G=F,Y=L,z=B<z?B:z):F===G&&B<z&&(z=B,Y=L);return Y},_chooseSplitAxis:function(P,w,R){var L=P.leaf?this.compareMinX:h,O=P.leaf?this.compareMinY:u,I=this._allDistMargin(P,w,R,L),F=this._allDistMargin(P,w,R,O);I<F&&P.children.sort(L)},_allDistMargin:function(P,w,R,L){P.children.sort(L);var O=this.toBBox,I=o(P,0,w,O),F=o(P,R-w,R,O),B=d(I)+d(F),G,z;for(G=w;G<R-w;G++)z=P.children[G],r(I,P.leaf?O(z):z),B+=d(I);for(G=R-w-1;G>=w;G--)z=P.children[G],r(F,P.leaf?O(z):z),B+=d(F);return B},_adjustParentBBoxes:function(P,w,R){for(var L=R;L>=0;L--)r(w[L],P)},_condense:function(P){for(var w=P.length-1,R;w>=0;w--)P[w].children.length===0?w>0?(R=P[w-1].children,R.splice(R.indexOf(P[w]),1)):this.clear():l(P[w],this.toBBox)},compareMinX:function(P,w){return P.left-w.left},compareMinY:function(P,w){return P.top-w.top},toBBox:function(P){return{minX:P.left,minY:P.top,maxX:P.right,maxY:P.bottom}}};function f(P,w,R){if(!R)return w.indexOf(P);for(var L=0;L<w.length;L++)if(R(P,w[L]))return L;return-1}function l(P,w){o(P,0,P.children.length,w,P)}function o(P,w,R,L,O){O||(O=T(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var I=w,F;I<R;I++)F=P.children[I],r(O,P.leaf?L(F):F);return O}function r(P,w){return P.minX=Math.min(P.minX,w.minX),P.minY=Math.min(P.minY,w.minY),P.maxX=Math.max(P.maxX,w.maxX),P.maxY=Math.max(P.maxY,w.maxY),P}function h(P,w){return P.minX-w.minX}function u(P,w){return P.minY-w.minY}function a(P){return(P.maxX-P.minX)*(P.maxY-P.minY)}function d(P){return P.maxX-P.minX+(P.maxY-P.minY)}function c(P,w){return(Math.max(w.maxX,P.maxX)-Math.min(w.minX,P.minX))*(Math.max(w.maxY,P.maxY)-Math.min(w.minY,P.minY))}function p(P,w){var R=Math.max(P.minX,w.minX),L=Math.max(P.minY,w.minY),O=Math.min(P.maxX,w.maxX),I=Math.min(P.maxY,w.maxY);return Math.max(0,O-R)*Math.max(0,I-L)}function v(P,w){return P.minX<=w.minX&&P.minY<=w.minY&&w.maxX<=P.maxX&&w.maxY<=P.maxY}function m(P,w){return w.minX<=P.maxX&&w.minY<=P.maxY&&w.maxX>=P.minX&&w.maxY>=P.minY}function T(P){return{children:P,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function E(P,w,R,L,O){for(var I=[w,R],F;I.length;)R=I.pop(),w=I.pop(),!(R-w<=L)&&(F=w+Math.ceil((R-w)/L/2)*L,g(P,F,w,R,O),I.push(w,F,F,R))}C.exports=y},35072:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l){if(this.entries=[],Array.isArray(l))for(var o=0;o<l.length;o++)this.set(l[o])},set:function(f){return this.entries.indexOf(f)===-1&&this.entries.push(f),this},get:function(f,l){for(var o=0;o<this.entries.length;o++){var r=this.entries[o];if(r[f]===l)return r}},getArray:function(){return this.entries.slice(0)},delete:function(f){var l=this.entries.indexOf(f);return l>-1&&this.entries.splice(l,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++){var l=this.entries[f];console.log(l)}console.groupEnd()},each:function(f,l){var o,r=this.entries.slice(),h=r.length;if(l)for(o=0;o<h&&f.call(l,r[o],o)!==!1;o++);else for(o=0;o<h&&f(r[o],o)!==!1;o++);return this},iterate:function(f,l){var o,r=this.entries.length;if(l)for(o=0;o<r&&f.call(l,this.entries[o],o)!==!1;o++);else for(o=0;o<r&&f(this.entries[o],o)!==!1;o++);return this},iterateLocal:function(f){var l,o=[];for(l=1;l<arguments.length;l++)o.push(arguments[l]);var r=this.entries.length;for(l=0;l<r;l++){var h=this.entries[l];h[f].apply(h,o)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var l=new y;return f.entries.forEach(function(o){l.set(o)}),this.entries.forEach(function(o){l.set(o)}),l},intersect:function(f){var l=new y;return this.entries.forEach(function(o){f.contains(o)&&l.set(o)}),l},difference:function(f){var l=new y;return this.entries.forEach(function(o){f.contains(o)||l.set(o)}),l},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});C.exports=y},86555:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(56583),l=s(26099),o=new y({initialize:function(h,u,a,d){h===void 0&&(h=0),u===void 0&&(u=h),a===void 0&&(a=0),d===void 0&&(d=null),this._width=h,this._height=u,this._parent=d,this.aspectMode=a,this.aspectRatio=u===0?1:h/u,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new l},setAspectMode:function(r){return r===void 0&&(r=0),this.aspectMode=r,this.setSize(this._width,this._height)},setSnap:function(r,h){return r===void 0&&(r=0),h===void 0&&(h=r),this.snapTo.set(r,h),this.setSize(this._width,this._height)},setParent:function(r){return this._parent=r,this.setSize(this._width,this._height)},setMin:function(r,h){return r===void 0&&(r=0),h===void 0&&(h=r),this.minWidth=g(r,0,this.maxWidth),this.minHeight=g(h,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(r,h){return r===void 0&&(r=Number.MAX_VALUE),h===void 0&&(h=r),this.maxWidth=g(r,this.minWidth,Number.MAX_VALUE),this.maxHeight=g(h,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(r,h){switch(r===void 0&&(r=0),h===void 0&&(h=r),this.aspectMode){case o.NONE:this._width=this.getNewWidth(f(r,this.snapTo.x)),this._height=this.getNewHeight(f(h,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(r,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(h,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case o.FIT:this.constrain(r,h,!0);break;case o.ENVELOP:this.constrain(r,h,!1);break}return this},setAspectRatio:function(r){return this.aspectRatio=r,this.setSize(this._width,this._height)},resize:function(r,h){return this._width=this.getNewWidth(f(r,this.snapTo.x)),this._height=this.getNewHeight(f(h,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(r,h){return h===void 0&&(h=!0),r=g(r,this.minWidth,this.maxWidth),h&&this._parent&&r>this._parent.width&&(r=Math.max(this.minWidth,this._parent.width)),r},getNewHeight:function(r,h){return h===void 0&&(h=!0),r=g(r,this.minHeight,this.maxHeight),h&&this._parent&&r>this._parent.height&&(r=Math.max(this.minHeight,this._parent.height)),r},constrain:function(r,h,u){r===void 0&&(r=0),h===void 0&&(h=r),u===void 0&&(u=!0),r=this.getNewWidth(r),h=this.getNewHeight(h);var a=this.snapTo,d=h===0?1:r/h;return u&&this.aspectRatio>d||!u&&this.aspectRatio<d?(r=f(r,a.x),h=r/this.aspectRatio,a.y>0&&(h=f(h,a.y),r=h*this.aspectRatio)):(u&&this.aspectRatio<d||!u&&this.aspectRatio>d)&&(h=f(h,a.y),r=h*this.aspectRatio,a.x>0&&(r=f(r,a.x),h=r*(1/this.aspectRatio))),this._width=r,this._height=h,this},fitTo:function(r,h){return this.constrain(r,h,!0)},envelop:function(r,h){return this.constrain(r,h,!1)},setWidth:function(r){return this.setSize(r,this._height)},setHeight:function(r){return this.setSize(this._width,r)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(r){r&&r.style&&(r.style.width=this._width+"px",r.style.height=this._height+"px")},copy:function(r){return r.setAspectMode(this.aspectMode),r.aspectRatio=this.aspectRatio,r.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(r){this.setSize(r,this._height)}},height:{get:function(){return this._height},set:function(r){this.setSize(this._width,r)}}});o.NONE=0,o.WIDTH_CONTROLS_HEIGHT=1,o.HEIGHT_CONTROLS_WIDTH=2,o.FIT=3,o.ENVELOP=4,C.exports=o},15238:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="add"},56187:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="remove"},82348:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={PROCESS_QUEUE_ADD:s(15238),PROCESS_QUEUE_REMOVE:s(56187)}},41392:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Events:s(82348),List:s(73162),Map:s(90330),ProcessQueue:s(25774),RTree:s(59542),Set:s(35072),Size:s(86555)}},57382:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(45319),f=s(40987),l=s(8054),o=s(50030),r=s(79237),h=new g({Extends:r,initialize:function(a,d,c,p,v){r.call(this,a,d,c,p,v),this.add("__BASE",0,0,0,p,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=p,this.height=v,this.imageData=this.context.getImageData(0,0,p,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===l.WEBGL&&this.refresh(),this},draw:function(u,a,d,c){return c===void 0&&(c=!0),this.context.drawImage(d,u,a),c&&this.update(),this},drawFrame:function(u,a,d,c,p){d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=!0);var v=this.manager.getFrame(u,a);if(v){var m=v.canvasData,T=v.cutWidth,E=v.cutHeight,P=v.source.resolution;this.context.drawImage(v.source.image,m.x,m.y,T,E,d,c,T/P,E/P),p&&this.update()}return this},setPixel:function(u,a,d,c,p,v){v===void 0&&(v=255),u=Math.abs(Math.floor(u)),a=Math.abs(Math.floor(a));var m=this.getIndex(u,a);if(m>-1){var T=this.context.getImageData(u,a,1,1);T.data[0]=d,T.data[1]=c,T.data[2]=p,T.data[3]=v,this.context.putImageData(T,u,a)}return this},putData:function(u,a,d,c,p,v,m){return c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=u.width),m===void 0&&(m=u.height),this.context.putImageData(u,a,d,c,p,v,m),this},getData:function(u,a,d,c){u=y(Math.floor(u),0,this.width-1),a=y(Math.floor(a),0,this.height-1),d=y(d,1,this.width-u),c=y(c,1,this.height-a);var p=this.context.getImageData(u,a,d,c);return p},getPixel:function(u,a,d){d||(d=new f);var c=this.getIndex(u,a);if(c>-1){var p=this.data,v=p[c+0],m=p[c+1],T=p[c+2],E=p[c+3];d.setTo(v,m,T,E)}return d},getPixels:function(u,a,d,c){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=this.width),c===void 0&&(c=d),u=Math.abs(Math.round(u)),a=Math.abs(Math.round(a));for(var p=y(u,0,this.width),v=y(u+d,0,this.width),m=y(a,0,this.height),T=y(a+c,0,this.height),E=new f,P=[],w=m;w<T;w++){for(var R=[],L=p;L<v;L++)E=this.getPixel(L,w,E),R.push({x:L,y:w,color:E.color,alpha:E.alphaGL});P.push(R)}return P},getIndex:function(u,a){return u=Math.abs(Math.round(u)),a=Math.abs(Math.round(a)),u<this.width&&a<this.height?(u+a*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(u,a,d,c,p){return u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=this.width),c===void 0&&(c=this.height),p===void 0&&(p=!0),this.context.clearRect(u,a,d,c),p&&this.update(),this},setSize:function(u,a){return a===void 0&&(a=u),(u!==this.width||a!==this.height)&&(this.canvas.width=u,this.canvas.height=a,this._source.width=u,this._source.height=a,this._source.isPowerOf2=o(u,a),this.frames.__BASE.setSize(u,a,0,0),this.width=u,this.height=a,this.refresh()),this},destroy:function(){r.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});C.exports=h},81320:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(38058),f=s(27919),l=s(83419),o=s(8054),r=s(4327),h=s(95540),u=s(36060),a=s(32302),d=s(79237),c=s(70554),p=new l({Extends:d,initialize:function(m,T,E,P,w){E===void 0&&(E=256),P===void 0&&(P=256),w===void 0&&(w=!0),this.type="DynamicTexture";var R=m.game.renderer,L=R&&R.type===o.CANVAS,O=L?f.create2D(this,E,P):[this];d.call(this,m,T,O,E,P),this.add("__BASE",0,0,0,E,P),this.renderer=R,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=L?O:null,this.context=L?O.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new y(0,0,E,P).setScene(m.game.scene.systemScene,!1),this.renderTarget=L?null:new a(R,E,P,1,0,!1,!1,!0,!1),this.pipeline=L?null:R.pipelines.get(u.SINGLE_PIPELINE),this.setSize(E,P,w)},setSize:function(v,m,T){m===void 0&&(m=v),T===void 0&&(T=!0),T&&(v=Math.floor(v),m=Math.floor(m),v%2!==0&&v++,m%2!==0&&m++);var E=this.get(),P=E.source;if(v!==this.width||m!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=m);var w=this.renderTarget;w&&(w.willResize(v,m)&&w.resize(v,m),w.texture!==P.glTexture&&this.renderer.deleteTexture(P.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,m),P.width=v,P.height=m,E.setSize(v,m),this.width=v,this.height=m}else{var R=this.getSourceImage();E.cutX+v>R.width&&(v=R.width-E.cutX),E.cutY+m>R.height&&(m=R.height-E.cutY),E.setSize(v,m,E.cutX,E.cutY)}return this},setFromRenderTarget:function(){var v=this.get(),m=v.source,T=this.renderTarget;return m.isRenderTexture=!0,m.isGLTexture=!0,m.glTexture=T.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,m,T,E,P,w){var R=this.camera,L=this.renderer;m===void 0&&(m=1),T===void 0&&(T=0),E===void 0&&(E=0),P===void 0&&(P=this.width),w===void 0&&(w=this.height);var O=v>>16&255,I=v>>8&255,F=v&255,B=this.renderTarget;if(R.preRender(),B){B.bind(!0);var G=this.pipeline.manager.set(this.pipeline),z=L.width/B.width,Y=L.height/B.height,J=B.height-(E+w);G.drawFillRect(T*z,J*Y,P*z,w*Y,c.getTintFromFloats(F/255,I/255,O/255,1),m),B.unbind(!0)}else{var $=this.context;L.setContext($),$.globalCompositeOperation="source-over",$.fillStyle="rgba("+O+","+I+","+F+","+m+")",$.fillRect(T,E,P,w),L.setContext()}return this.dirty=!0,this},clear:function(v,m,T,E){if(this.dirty){var P=this.context,w=this.renderTarget;w?w.clear(v,m,T,E):P&&(v!==void 0&&m!==void 0&&T!==void 0&&E!==void 0?P.clearRect(v,m,T,E):(P.save(),P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,this.width,this.height),P.restore())),this.dirty=!1}return this},stamp:function(v,m,T,E,P){T===void 0&&(T=0),E===void 0&&(E=0);var w=h(P,"alpha",1),R=h(P,"tint",16777215),L=h(P,"angle",0),O=h(P,"rotation",0),I=h(P,"scale",1),F=h(P,"scaleX",I),B=h(P,"scaleY",I),G=h(P,"originX",.5),z=h(P,"originY",.5),Y=h(P,"blendMode",0),J=h(P,"erase",!1),$=h(P,"skipBatch",!1),j=this.manager.resetStamp(w,R);return j.setAngle(0),L!==0?j.setAngle(L):O!==0&&j.setRotation(O),j.setScale(F,B),j.setTexture(v,m),j.setOrigin(G,z),j.setBlendMode(Y),J&&(this._eraseMode=!0),$?this.batchGameObject(j,T,E):this.draw(j,T,E),J&&(this._eraseMode=!1),this},erase:function(v,m,T){return this._eraseMode=!0,this.draw(v,m,T),this._eraseMode=!1,this},draw:function(v,m,T,E,P){return this.beginDraw(),this.batchDraw(v,m,T,E,P),this.endDraw(),this},drawFrame:function(v,m,T,E,P,w){return this.beginDraw(),this.batchDrawFrame(v,m,T,E,P,w),this.endDraw(),this},repeat:function(v,m,T,E,P,w,R,L,O){if(T===void 0&&(T=0),E===void 0&&(E=0),P===void 0&&(P=this.width),w===void 0&&(w=this.height),R===void 0&&(R=1),L===void 0&&(L=16777215),O===void 0&&(O=!1),v instanceof r?m=v:m=this.manager.getFrame(v,m),!m)return this;var I=this.manager.resetStamp(R,L);I.setFrame(m),I.setOrigin(0);var F=m.width,B=m.height;P=Math.floor(P),w=Math.floor(w);var G=Math.ceil(P/F),z=Math.ceil(w/B),Y=G*F-P,J=z*B-w;Y>0&&(Y=F-Y),J>0&&(J=B-J),T<0&&(G+=Math.ceil(Math.abs(T)/F)),E<0&&(z+=Math.ceil(Math.abs(E)/B));var $=T,j=E,X=!1,H=this.manager.stampCrop.setTo(0,0,F,B);O||this.beginDraw();for(var N=0;N<z;N++){if(j+B<0){j+=B;continue}for(var Q=0;Q<G;Q++){if(X=!1,$+F<0){$+=F;continue}else $<0&&(X=!0,H.width=F+$,H.x=F-H.width);j<0&&(X=!0,H.height=B+j,H.y=B-H.height),Y>0&&Q===G-1&&(X=!0,H.width=Y),J>0&&N===z-1&&(X=!0,H.height=J),X&&I.setCrop(H),this.batchGameObject(I,$,j),I.isCropped=!1,H.setTo(0,0,F,B),$+=F}$=T,j+=B}return O||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,m=this.renderer,T=this.renderTarget;v.preRender(),T?m.beginCapture(T.width,T.height):m.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,m,T,E,P){return Array.isArray(v)||(v=[v]),this.batchList(v,m,T,E,P),this},batchDrawFrame:function(v,m,T,E,P,w){T===void 0&&(T=0),E===void 0&&(E=0),P===void 0&&(P=1),w===void 0&&(w=16777215);var R=this.manager.getFrame(v,m);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,T,E,w,P,this.camera.matrix,null):this.batchTextureFrame(R,T,E,P,w)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var m=this.renderer,T=this.renderTarget;if(T){var E=m.endCapture(),P=m.pipelines.setUtility();P.blitFrame(E,T,1,!1,!1,v,this.isSpriteTexture),m.resetScissor(),m.resetViewport()}else m.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,m,T,E,P){var w=v.length;if(w!==0)for(var R=0;R<w;R++){var L=v[R];!L||L===this||(L.renderWebGL||L.renderCanvas?this.batchGameObject(L,m,T):L.isParent||L.list?this.batchGroup(L.getChildren(),m,T):typeof L=="string"?this.batchTextureFrameKey(L,null,m,T,E,P):L instanceof r?this.batchTextureFrame(L,m,T,E,P):Array.isArray(L)&&this.batchList(L,m,T,E,P))}},batchGroup:function(v,m,T){m===void 0&&(m=0),T===void 0&&(T=0);for(var E=0;E<v.length;E++){var P=v[E];P.willRender(this.camera)&&this.batchGameObject(P,P.x+m,P.y+T)}},batchGameObject:function(v,m,T){m===void 0&&(m=v.x),T===void 0&&(T=v.y);var E=v.x,P=v.y,w=this.camera,R=this.renderer,L=this._eraseMode,O=v.mask;if(v.setPosition(m,T),this.canvas){if(L){var I=v.blendMode;v.blendMode=g.ERASE}O&&O.preRenderCanvas(R,v,w),v.renderCanvas(R,v,w,null),O&&O.postRenderCanvas(R,v,w),L&&(v.blendMode=I)}else R&&(O&&O.preRenderWebGL(R,v,w),L||R.setBlendMode(v.blendMode),v.renderWebGL(R,v,w),O&&O.postRenderWebGL(R,w,this.renderTarget));v.setPosition(E,P)},batchTextureFrameKey:function(v,m,T,E,P,w){var R=this.manager.getFrame(v,m);R&&this.batchTextureFrame(R,T,E,P,w)},batchTextureFrame:function(v,m,T,E,P){m===void 0&&(m=0),T===void 0&&(T=0),E===void 0&&(E=1),P===void 0&&(P=16777215);var w=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(v,m,T,P,E,w,null);else{var L=this.context,O=v.canvasData,I=v.source.image;L.save(),L.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",L.globalAlpha=E,w.setToContext(L),O.width>0&&O.height>0&&L.drawImage(I,O.x,O.y,O.width,O.height,m,T,O.width,O.height),L.restore()}},snapshotArea:function(v,m,T,E,P,w,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,P,!1,v,m,T,E,w,R):this.renderer.snapshotCanvas(this.canvas,P,!1,v,m,T,E,w,R),this},snapshot:function(v,m,T){return this.snapshotArea(0,0,this.width,this.height,v,m,T)},snapshotPixel:function(v,m,T){return this.snapshotArea(v,m,1,1,T,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,m,T,E){var P=this.manager.resetStamp();P.setTexture(this),P.setOrigin(0),P.renderWebGL(v,P,T,E)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),d.prototype.destroy.call(this),f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});C.exports=p},4327:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(45319),f=s(79291),l=new g({initialize:function(r,h,u,a,d,c,p){this.texture=r,this.name=h,this.source=r.source[u],this.sourceIndex=u,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(c,p,a,d)},setCutPosition:function(o,r){return o===void 0&&(o=0),r===void 0&&(r=0),this.cutX=o,this.cutY=r,this.updateUVs()},setCutSize:function(o,r){return this.cutWidth=o,this.cutHeight=r,this.updateUVs()},setSize:function(o,r,h,u){h===void 0&&(h=0),u===void 0&&(u=0),this.setCutPosition(h,u),this.setCutSize(o,r),this.width=o,this.height=r,this.halfWidth=Math.floor(o*.5),this.halfHeight=Math.floor(r*.5),this.centerX=Math.floor(o/2),this.centerY=Math.floor(r/2);var a=this.data,d=a.cut;d.x=h,d.y=u,d.w=o,d.h=r,d.r=h+o,d.b=u+r,a.sourceSize.w=o,a.sourceSize.h=r,a.spriteSourceSize.w=o,a.spriteSourceSize.h=r,a.radius=.5*Math.sqrt(o*o+r*r);var c=a.drawImage;return c.x=h,c.y=u,c.width=o,c.height=r,this.updateUVs()},setTrim:function(o,r,h,u,a,d){var c=this.data,p=c.spriteSourceSize;return c.trim=!0,c.sourceSize.w=o,c.sourceSize.h=r,p.x=h,p.y=u,p.w=a,p.h=d,p.r=h+a,p.b=u+d,this.x=h,this.y=u,this.width=a,this.height=d,this.halfWidth=a*.5,this.halfHeight=d*.5,this.centerX=Math.floor(a/2),this.centerY=Math.floor(d/2),this.updateUVs()},setScale9:function(o,r,h,u){var a=this.data;return a.scale9=!0,a.is3Slice=r===0&&u===this.height,a.scale9Borders.x=o,a.scale9Borders.y=r,a.scale9Borders.w=h,a.scale9Borders.h=u,this},setCropUVs:function(o,r,h,u,a,d,c){var p=this.cutX,v=this.cutY,m=this.cutWidth,T=this.cutHeight,E=this.realWidth,P=this.realHeight;r=y(r,0,E),h=y(h,0,P),u=y(u,0,E-r),a=y(a,0,P-h);var w=p+r,R=v+h,L=u,O=a,I=this.data;if(I.trim){var F=I.spriteSourceSize;u=y(u,0,F.x+m-r),a=y(a,0,F.y+T-h);var B=r+u,G=h+a,z=!(F.r<r||F.b<h||F.x>B||F.y>G);if(z){var Y=Math.max(F.x,r),J=Math.max(F.y,h),$=Math.min(F.r,B)-Y,j=Math.min(F.b,G)-J;L=$,O=j,d?w=p+(m-(Y-F.x)-$):w=p+(Y-F.x),c?R=v+(T-(J-F.y)-j):R=v+(J-F.y),r=Y,h=J,u=$,a=j}else w=0,R=0,L=0,O=0}else d&&(w=p+(m-r-u)),c&&(R=v+(T-h-a));var X=this.source.width,H=this.source.height;return o.u0=Math.max(0,w/X),o.v0=Math.max(0,R/H),o.u1=Math.min(1,(w+L)/X),o.v1=Math.min(1,(R+O)/H),o.x=r,o.y=h,o.cx=w,o.cy=R,o.cw=L,o.ch=O,o.width=u,o.height=a,o.flipX=d,o.flipY=c,o},updateCropUVs:function(o,r,h){return this.setCropUVs(o,o.x,o.y,o.width,o.height,r,h)},setUVs:function(o,r,h,u,a,d){var c=this.data.drawImage;return c.width=o,c.height=r,this.u0=h,this.v0=u,this.u1=a,this.v1=d,this},updateUVs:function(){var o=this.cutX,r=this.cutY,h=this.cutWidth,u=this.cutHeight,a=this.data.drawImage;a.width=h,a.height=u;var d=this.source.width,c=this.source.height;return this.u0=o/d,this.v0=r/c,this.u1=(o+h)/d,this.v1=(r+u)/c,this},updateUVsInverted:function(){var o=this.source.width,r=this.source.height;return this.u0=(this.cutX+this.cutHeight)/o,this.v0=this.cutY/r,this.u1=this.cutX/o,this.v1=(this.cutY+this.cutWidth)/r,this},clone:function(){var o=new l(this.texture,this.name,this.sourceIndex);return o.cutX=this.cutX,o.cutY=this.cutY,o.cutWidth=this.cutWidth,o.cutHeight=this.cutHeight,o.x=this.x,o.y=this.y,o.width=this.width,o.height=this.height,o.halfWidth=this.halfWidth,o.halfHeight=this.halfHeight,o.centerX=this.centerX,o.centerY=this.centerY,o.rotated=this.rotated,o.data=f(!0,o.data,this.data),o.updateUVs(),o},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});C.exports=l},79237:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(4327),f=s(11876),l='Texture "%s" has no frame "%s"',o=new g({initialize:function(h,u,a,d,c){Array.isArray(a)||(a=[a]),this.manager=h,this.key=u,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var p=0;p<a.length;p++)this.source.push(new f(this,a[p],d,c))},add:function(r,h,u,a,d,c){if(this.has(r))return null;var p=new y(this,r,h,u,a,d,c);return this.frames[r]=p,this.firstFrame==="__BASE"&&(this.firstFrame=r),this.frameTotal++,p},remove:function(r){if(this.has(r)){var h=this.get(r);return h.destroy(),delete this.frames[r],!0}return!1},has:function(r){return this.frames.hasOwnProperty(r)},get:function(r){r||(r=this.firstFrame);var h=this.frames[r];return h||(console.warn(l,this.key,r),h=this.frames[this.firstFrame]),h},getTextureSourceIndex:function(r){for(var h=0;h<this.source.length;h++)if(this.source[h]===r)return h;return-1},getFramesFromTextureSource:function(r,h){h===void 0&&(h=!1);var u=[];for(var a in this.frames)if(!(a==="__BASE"&&!h)){var d=this.frames[a];d.sourceIndex===r&&u.push(d)}return u},getFrameBounds:function(r){r===void 0&&(r=0);for(var h=this.getFramesFromTextureSource(r,!0),u=h[0],a=u.cutX,d=u.cutY,c=u.cutX+u.cutWidth,p=u.cutY+u.cutHeight,v=1;v<h.length;v++){var m=h[v];m.cutX<a&&(a=m.cutX),m.cutY<d&&(d=m.cutY),m.cutX+m.cutWidth>c&&(c=m.cutX+m.cutWidth),m.cutY+m.cutHeight>p&&(p=m.cutY+m.cutHeight)}return{x:a,y:d,width:c-a,height:p-d}},getFrameNames:function(r){r===void 0&&(r=!1);var h=Object.keys(this.frames);if(!r){var u=h.indexOf("__BASE");u!==-1&&h.splice(u,1)}return h},getSourceImage:function(r){(r==null||this.frameTotal===1)&&(r="__BASE");var h=this.frames[r];return h?h.source.image:(console.warn(l,this.key,r),this.frames.__BASE.source.image)},getDataSourceImage:function(r){(r==null||this.frameTotal===1)&&(r="__BASE");var h=this.frames[r],u;return h?u=h.sourceIndex:(console.warn(l,this.key,r),u=this.frames.__BASE.sourceIndex),this.dataSource[u].image},setDataSource:function(r){Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++){var u=this.source[h];this.dataSource.push(new f(this,r[h],u.width,u.height))}},setFilter:function(r){var h;for(h=0;h<this.source.length;h++)this.source[h].setFilter(r);for(h=0;h<this.dataSource.length;h++)this.dataSource[h].setFilter(r)},destroy:function(){var r,h=this.source,u=this.dataSource;for(r=0;r<h.length;r++)h[r]&&h[r].destroy();for(r=0;r<u.length;r++)u[r]&&u[r].destroy();for(var a in this.frames){var d=this.frames[a];d&&d.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});C.exports=o},17130:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=s(57382),f=s(83419),l=s(40987),o=s(8054),r=s(81320),h=s(50792),u=s(69442),a=s(4327),d=s(8443),c=s(99584),p=s(35154),v=s(88571),m=s(41212),T=s(61309),E=s(87841),P=s(79237),w=new f({Extends:h,initialize:function(L){h.call(this),this.game=L,this.name="TextureManager",this.list={},this._tempCanvas=g.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new E,this.silentWarnings=!1,L.events.once(d.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(u.LOAD,this.updatePending,this),this.on(u.ERROR,this.updatePending,this);var R=this.game.config;R.defaultImage!==null&&this.addBase64("__DEFAULT",R.defaultImage),R.missingImage!==null&&this.addBase64("__MISSING",R.missingImage),R.whiteImage!==null&&this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(d.DESTROY,this.destroy,this),this.game.events.once(d.SYSTEM_READY,function(L){this.stamp=new v(L).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(u.LOAD),this.off(u.ERROR),this.emit(u.READY))},checkKey:function(R){return!R||typeof R!="string"||this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;var L=R.key;return this.list.hasOwnProperty(L)&&(R.destroy(),this.emit(u.REMOVE,L),this.emit(u.REMOVE_KEY+L)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,L){if(this.checkKey(R)){var O=this,I=new Image;I.onerror=function(){O.emit(u.ERROR,R)},I.onload=function(){var F=O.create(R,I);F&&(T.Image(F,0),O.emit(u.ADD,R,F),O.emit(u.ADD_KEY+R,F),O.emit(u.LOAD,R,F))},I.src=L}return this},getBase64:function(R,L,O,I){O===void 0&&(O="image/png"),I===void 0&&(I=.92);var F="",B=this.getFrame(R,L);if(B&&(B.source.isRenderTexture||B.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(B){var G=B.canvasData,z=g.create2D(this,G.width,G.height),Y=z.getContext("2d",{willReadFrequently:!0});G.width>0&&G.height>0&&Y.drawImage(B.source.image,G.x,G.y,G.width,G.height,0,0,G.width,G.height),F=z.toDataURL(O,I),g.remove(z)}return F},addImage:function(R,L,O){var I=null;return this.checkKey(R)&&(I=this.create(R,L),T.Image(I,0),O&&I.setDataSource(O),this.emit(u.ADD,R,I),this.emit(u.ADD_KEY+R,I)),I},addGLTexture:function(R,L){var O=null;if(this.checkKey(R)){var I=L.width,F=L.height;O=this.create(R,L,I,F),O.add("__BASE",0,0,0,I,F),this.emit(u.ADD,R,O),this.emit(u.ADD_KEY+R,O)}return O},addCompressedTexture:function(R,L,O){var I=null;if(this.checkKey(R)){if(I=this.create(R,L),I.add("__BASE",0,0,0,L.width,L.height),O){var F=function(G,z,Y){Array.isArray(Y.textures)||Array.isArray(Y.frames)?T.JSONArray(G,z,Y):T.JSONHash(G,z,Y)};if(Array.isArray(O))for(var B=0;B<O.length;B++)F(I,B,O[B]);else F(I,0,O)}this.emit(u.ADD,R,I),this.emit(u.ADD_KEY+R,I)}return I},addRenderTexture:function(R,L){var O=null;return this.checkKey(R)&&(O=this.create(R,L),O.add("__BASE",0,0,0,L.width,L.height),this.emit(u.ADD,R,O),this.emit(u.ADD_KEY+R,O)),O},generate:function(R,L){if(this.checkKey(R)){var O=g.create(this,1,1);return L.canvas=O,c(L),this.addCanvas(R,O)}else return null},createCanvas:function(R,L,O){if(L===void 0&&(L=256),O===void 0&&(O=256),this.checkKey(R)){var I=g.create(this,L,O,o.CANVAS,!0);return this.addCanvas(R,I)}return null},addCanvas:function(R,L,O){O===void 0&&(O=!1);var I=null;return O?I=new y(this,R,L,L.width,L.height):this.checkKey(R)&&(I=new y(this,R,L,L.width,L.height),this.list[R]=I,this.emit(u.ADD,R,I),this.emit(u.ADD_KEY+R,I)),I},addDynamicTexture:function(R,L,O){var I=null;return typeof R=="string"&&!this.exists(R)?I=new r(this,R,L,O):(I=R,R=I.key),this.checkKey(R)?(this.list[R]=I,this.emit(u.ADD,R,I),this.emit(u.ADD_KEY+R,I)):I=null,I},addAtlas:function(R,L,O,I){return Array.isArray(O.textures)||Array.isArray(O.frames)?this.addAtlasJSONArray(R,L,O,I):this.addAtlasJSONHash(R,L,O,I)},addAtlasJSONArray:function(R,L,O,I){var F=null;if(L instanceof P?(R=L.key,F=L):this.checkKey(R)&&(F=this.create(R,L)),F){if(Array.isArray(O))for(var B=O.length===1,G=0;G<F.source.length;G++){var z=B?O[0]:O[G];T.JSONArray(F,G,z)}else T.JSONArray(F,0,O);I&&F.setDataSource(I),this.emit(u.ADD,R,F),this.emit(u.ADD_KEY+R,F)}return F},addAtlasJSONHash:function(R,L,O,I){var F=null;if(L instanceof P?(R=L.key,F=L):this.checkKey(R)&&(F=this.create(R,L)),F){if(Array.isArray(O))for(var B=0;B<O.length;B++)T.JSONHash(F,B,O[B]);else T.JSONHash(F,0,O);I&&F.setDataSource(I),this.emit(u.ADD,R,F),this.emit(u.ADD_KEY+R,F)}return F},addAtlasXML:function(R,L,O,I){var F=null;return L instanceof P?(R=L.key,F=L):this.checkKey(R)&&(F=this.create(R,L)),F&&(T.AtlasXML(F,0,O),I&&F.setDataSource(I),this.emit(u.ADD,R,F),this.emit(u.ADD_KEY+R,F)),F},addUnityAtlas:function(R,L,O,I){var F=null;return L instanceof P?(R=L.key,F=L):this.checkKey(R)&&(F=this.create(R,L)),F&&(T.UnityYAML(F,0,O),I&&F.setDataSource(I),this.emit(u.ADD,R,F),this.emit(u.ADD_KEY+R,F)),F},addSpriteSheet:function(R,L,O,I){var F=null;if(L instanceof P?(R=L.key,F=L):this.checkKey(R)&&(F=this.create(R,L)),F){var B=F.source[0].width,G=F.source[0].height;T.SpriteSheet(F,0,0,0,B,G,O),I&&F.setDataSource(I),this.emit(u.ADD,R,F),this.emit(u.ADD_KEY+R,F)}return F},addSpriteSheetFromAtlas:function(R,L){if(!this.checkKey(R))return null;var O=p(L,"atlas",null),I=p(L,"frame",null);if(!(!O||!I)){var F=this.get(O),B=F.get(I);if(B){var G=B.source.image;G||(G=B.source.glTexture);var z=this.create(R,G);return B.trimmed?T.SpriteSheetFromAtlas(z,B,L):T.SpriteSheet(z,0,B.cutX,B.cutY,B.cutWidth,B.cutHeight,L),this.emit(u.ADD,R,z),this.emit(u.ADD_KEY+R,z),z}}},addUint8Array:function(R,L,O,I){if(!this.checkKey(R)||L.length/4!==O*I)return null;var F=this.create(R,L,O,I);return F.add("__BASE",0,0,0,O,I),this.emit(u.ADD,R,F),this.emit(u.ADD_KEY+R,F),F},create:function(R,L,O,I){var F=null;return this.checkKey(R)&&(F=new P(this,R,L,O,I),this.list[R]=F),F},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof P?R:R instanceof a?R.texture:this.list.__MISSING},cloneFrame:function(R,L){if(this.list[R])return this.list[R].get(L).clone()},getFrame:function(R,L){if(this.list[R])return this.list[R].get(L)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(m(R))return this.getFrame(R.key,R.frame);if(R instanceof P)return R.get();if(R instanceof a)return R}else return},getTextureKeys:function(){var R=[];for(var L in this.list)L!=="__DEFAULT"&&L!=="__MISSING"&&L!=="__WHITE"&&L!=="__NORMAL"&&R.push(L);return R},getPixel:function(R,L,O,I){var F=this.getFrame(O,I);if(F){R-=F.x,L-=F.y;var B=F.data.cut;if(R+=B.x,L+=B.y,R>=B.x&&R<B.r&&L>=B.y&&L<B.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(F.source.image,R,L,1,1,0,0,1,1);var z=G.getImageData(0,0,1,1);return new l(z.data[0],z.data[1],z.data[2],z.data[3])}}return null},getPixelAlpha:function(R,L,O,I){var F=this.getFrame(O,I);if(F){R-=F.x,L-=F.y;var B=F.data.cut;if(R+=B.x,L+=B.y,R>=B.x&&R<B.r&&L>=B.y&&L<B.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(F.source.image,R,L,1,1,0,0,1,1);var z=G.getImageData(0,0,1,1);return z.data[3]}}return null},setTexture:function(R,L,O){return this.list[L]&&(R.texture=this.list[L],R.frame=R.texture.get(O)),R},renameTexture:function(R,L){var O=this.get(R);return O&&R!==L?(O.key=L,this.list[L]=O,delete this.list[R],!0):!1},each:function(R,L){for(var O=[null],I=1;I<arguments.length;I++)O.push(arguments[I]);for(var F in this.list)O[0]=this.list[F],R.apply(L,O)},resetStamp:function(R,L){R===void 0&&(R=1),L===void 0&&(L=16777215);var O=this.stamp;return O.setCrop(),O.setPosition(0),O.setAngle(0),O.setScale(1),O.setAlpha(R),O.setTint(L),O.setTexture("__WHITE"),O},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,g.remove(this._tempCanvas)}});C.exports=w},11876:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=s(83419),f=s(50030),l=s(29795),o=s(82751),r=new y({initialize:function(u,a,d,c,p){p===void 0&&(p=!1);var v=u.manager.game;this.renderer=v.renderer,this.texture=u,this.source=a,this.image=a.compressed?null:a,this.compressionAlgorithm=a.compressed?a.format:null,this.resolution=1,this.width=d||a.naturalWidth||a.videoWidth||a.width||0,this.height=c||a.naturalHeight||a.videoHeight||a.height||0,this.scaleMode=l.DEFAULT,this.isCanvas=a instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&a instanceof HTMLVideoElement,this.isRenderTexture=a.type==="RenderTexture"||a.type==="DynamicTexture",this.isGLTexture=a instanceof o,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.flipY=p,this.init(v)},init:function(h){var u=this.renderer;if(u){var a=this.source;if(u.gl){var d=this.image,c=this.flipY,p=this.width,v=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=u.createCanvasTexture(d,!1,c):this.isVideo?this.glTexture=u.createVideoTexture(d,!1,c):this.isRenderTexture?this.glTexture=u.createTextureFromSource(null,p,v,m):this.isGLTexture?this.glTexture=a:this.compressionAlgorithm?this.glTexture=u.createTextureFromSource(a,void 0,void 0,m):a instanceof Uint8Array?this.glTexture=u.createUint8ArrayTexture(a,p,v,m):this.glTexture=u.createTextureFromSource(d,p,v,m)}else this.isRenderTexture&&(this.image=a.canvas)}h.config.antialias||this.setFilter(1)},setFilter:function(h){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,h),this.scaleMode=h},setFlipY:function(h){return h===void 0&&(h=!0),h===this.flipY?this:(this.flipY=h,this.update(),this)},update:function(){var h=this.renderer,u=this.image,a=this.flipY,d=h.gl;d&&this.isCanvas?h.updateCanvasTexture(u,this.glTexture,a):d&&this.isVideo&&h.updateVideoTexture(u,this.glTexture,a)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&g.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});C.exports=r},19673:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={LINEAR:0,NEAREST:1};C.exports=A},44538:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addtexture"},63486:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addtexture-"},94851:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="onerror"},29099:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="onload"},8678:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="ready"},86415:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removetexture"},30879:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removetexture-"},69442:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADD:s(44538),ADD_KEY:s(63486),ERROR:s(94851),LOAD:s(29099),READY:s(8678),REMOVE:s(86415),REMOVE_KEY:s(30879)}},27458:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=s(19673),f={CanvasTexture:s(57382),DynamicTexture:s(81320),Events:s(69442),FilterMode:y,Frame:s(4327),Parsers:s(61309),Texture:s(79237),TextureManager:s(17130),TextureSource:s(11876)};f=g(!1,f,y),C.exports=f},89905:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(!y.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var f=s.source[g];s.add("__BASE",g,0,0,f.width,f.height);for(var l=y.getElementsByTagName("SubTexture"),o,r=0;r<l.length;r++){var h=l[r].attributes,u=h.name.value,a=parseInt(h.x.value,10),d=parseInt(h.y.value,10),c=parseInt(h.width.value,10),p=parseInt(h.height.value,10);if(o=s.add(u,g,a,d,c,p),h.frameX){var v=Math.abs(parseInt(h.frameX.value,10)),m=Math.abs(parseInt(h.frameY.value,10)),T=parseInt(h.frameWidth.value,10),E=parseInt(h.frameHeight.value,10);o.setTrim(c,p,v,m,T,E)}}return s};C.exports=A},72893:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.source[g];return s.add("__BASE",g,0,0,y.width,y.height),s};C.exports=A},4832:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.source[g];return s.add("__BASE",g,0,0,y.width,y.height),s};C.exports=A},78566:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41786),y=function(f,l,o){if(!o.frames&&!o.textures){console.warn("Invalid Texture Atlas JSON Array");return}var r=f.source[l];f.add("__BASE",l,0,0,r.width,r.height);for(var h=Array.isArray(o.textures)?o.textures[l].frames:o.frames,u,a=0;a<h.length;a++){var d=h[a];if(u=f.add(d.filename,l,d.frame.x,d.frame.y,d.frame.w,d.frame.h),!u){console.warn("Invalid atlas json, frame already exists: "+d.filename);continue}d.trimmed&&u.setTrim(d.sourceSize.w,d.sourceSize.h,d.spriteSourceSize.x,d.spriteSourceSize.y,d.spriteSourceSize.w,d.spriteSourceSize.h),d.rotated&&(u.rotated=!0,u.updateUVsInverted());var c=d.anchor||d.pivot;c&&(u.customPivot=!0,u.pivotX=c.x,u.pivotY=c.y),d.scale9Borders&&u.setScale9(d.scale9Borders.x,d.scale9Borders.y,d.scale9Borders.w,d.scale9Borders.h),u.customData=g(d)}for(var p in o)p!=="frames"&&(Array.isArray(o[p])?f.customData[p]=o[p].slice(0):f.customData[p]=o[p]);return f};C.exports=y},39711:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41786),y=function(f,l,o){if(!o.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var r=f.source[l];f.add("__BASE",l,0,0,r.width,r.height);var h=o.frames,u;for(var a in h)if(h.hasOwnProperty(a)){var d=h[a];if(u=f.add(a,l,d.frame.x,d.frame.y,d.frame.w,d.frame.h),!u){console.warn("Invalid atlas json, frame already exists: "+a);continue}d.trimmed&&u.setTrim(d.sourceSize.w,d.sourceSize.h,d.spriteSourceSize.x,d.spriteSourceSize.y,d.spriteSourceSize.w,d.spriteSourceSize.h),d.rotated&&(u.rotated=!0,u.updateUVsInverted());var c=d.anchor||d.pivot;c&&(u.customPivot=!0,u.pivotX=c.x,u.pivotY=c.y),d.scale9Borders&&u.setScale9(d.scale9Borders.x,d.scale9Borders.y,d.scale9Borders.w,d.scale9Borders.h),u.customData=g(d)}for(var p in o)p!=="frames"&&(Array.isArray(o[p])?f.customData[p]=o[p].slice(0):f.customData[p]=o[p]);return f};C.exports=y},31403:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=[171,75,84,88,32,49,49,187,13,10,26,10],y,f=new Uint8Array(s,0,12);for(y=0;y<f.length;y++)if(f[y]!==g[y]){console.warn("KTXParser - Invalid file format");return}var l=Uint32Array.BYTES_PER_ELEMENT,o=new DataView(s,12,13*l),r=o.getUint32(0,!0)===67305985,h=o.getUint32(1*l,r);if(h!==0){console.warn("KTXParser - Only compressed formats supported");return}var u=o.getUint32(4*l,r),a=o.getUint32(6*l,r),d=o.getUint32(7*l,r),c=Math.max(1,o.getUint32(11*l,r)),p=o.getUint32(12*l,r),v=new Array(c),m=12+13*4+p,T=a,E=d;for(y=0;y<c;y++){var P=new Int32Array(s,m,1)[0];m+=4,v[y]={data:new Uint8Array(s,m,P),width:T,height:E},T=Math.max(1,T>>1),E=Math.max(1,E>>1),m+=P}return{mipmaps:v,width:a,height:d,internalFormat:u,compressed:!0,generateMipmap:!1}};C.exports=A},82038:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(L,O,I,F,B,G,z){return z===void 0&&(z=16),Math.floor((L+I)/B)*Math.floor((O+F)/G)*z}function s(L,O){return L=Math.max(L,16),O=Math.max(O,8),L*O/4}function g(L,O){return L=Math.max(L,8),O=Math.max(O,8),L*O/2}function y(L,O){return Math.ceil(L/4)*Math.ceil(O/4)*16}function f(L,O){return A(L,O,3,3,4,4,8)}function l(L,O){return A(L,O,3,3,4,4)}function o(L,O){return A(L,O,4,3,5,4)}function r(L,O){return A(L,O,4,4,5,5)}function h(L,O){return A(L,O,5,4,6,5)}function u(L,O){return A(L,O,5,5,6,6)}function a(L,O){return A(L,O,7,4,8,5)}function d(L,O){return A(L,O,7,5,8,6)}function c(L,O){return A(L,O,7,7,8,8)}function p(L,O){return A(L,O,9,4,10,5)}function v(L,O){return A(L,O,9,5,10,6)}function m(L,O){return A(L,O,9,7,10,8)}function T(L,O){return A(L,O,9,9,10,10)}function E(L,O){return A(L,O,11,9,12,10)}function P(L,O){return A(L,O,11,11,12,12)}var w={0:{sizeFunc:s,glFormat:[35841]},1:{sizeFunc:s,glFormat:[35843]},2:{sizeFunc:g,glFormat:[35840]},3:{sizeFunc:g,glFormat:[35842]},6:{sizeFunc:f,glFormat:[36196]},7:{sizeFunc:f,glFormat:[33776,35916]},8:{sizeFunc:l,glFormat:[33777,35917]},9:{sizeFunc:l,glFormat:[33778,35918]},11:{sizeFunc:l,glFormat:[33779,35919]},14:{sizeFunc:y,glFormat:[36494,36495]},15:{sizeFunc:y,glFormat:[36492,36493]},22:{sizeFunc:f,glFormat:[37492,37493]},23:{sizeFunc:l,glFormat:[37496,37497]},24:{sizeFunc:f,glFormat:[37494,37495]},25:{sizeFunc:f,glFormat:[37488]},26:{sizeFunc:l,glFormat:[37490]},27:{sizeFunc:l,glFormat:[37808,37840]},28:{sizeFunc:o,glFormat:[37809,37841]},29:{sizeFunc:r,glFormat:[37810,37842]},30:{sizeFunc:h,glFormat:[37811,37843]},31:{sizeFunc:u,glFormat:[37812,37844]},32:{sizeFunc:a,glFormat:[37813,37845]},33:{sizeFunc:d,glFormat:[37814,37846]},34:{sizeFunc:c,glFormat:[37815,37847]},35:{sizeFunc:p,glFormat:[37816,37848]},36:{sizeFunc:v,glFormat:[37817,37849]},37:{sizeFunc:m,glFormat:[37818,37850]},38:{sizeFunc:T,glFormat:[37819,37851]},39:{sizeFunc:E,glFormat:[37820,37852]},40:{sizeFunc:P,glFormat:[37821,37853]}},R=function(L){for(var O=new Uint32Array(L,0,13),I=O[0],F=I===55727696,B=F?O[2]:O[3],G=O[4],z=w[B].glFormat[G],Y=w[B].sizeFunc,J=O[11],$=O[7],j=O[6],X=52+O[12],H=new Uint8Array(L,X),N=new Array(J),Q=0,U=$,q=j,et=0;et<J;et++){var it=Y(U,q);N[et]={data:new Uint8Array(H.buffer,H.byteOffset+Q,it),width:U,height:q},U=Math.max(1,U>>1),q=Math.max(1,q>>1),Q+=it}return{mipmaps:N,width:$,height:j,internalFormat:z,compressed:!0,generateMipmap:!1}};C.exports=R},75549:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=function(f,l,o,r,h,u,a){var d=g(a,"frameWidth",null),c=g(a,"frameHeight",d);if(d===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var p=f.source[l];f.add("__BASE",l,0,0,p.width,p.height);var v=g(a,"startFrame",0),m=g(a,"endFrame",-1),T=g(a,"margin",0),E=g(a,"spacing",0),P=Math.floor((h-T+E)/(d+E)),w=Math.floor((u-T+E)/(c+E)),R=P*w;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(v>R||v<-R)&&(v=0),v<0&&(v=R+v),(m===-1||m>R||m<v)&&(m=R);for(var L=T,O=T,I=0,F=0,B=0,G=0;G<R;G++){I=0,F=0;var z=L+d,Y=O+c;z>h&&(I=z-h),Y>u&&(F=Y-u),G>=v&&G<=m&&(f.add(B,l,o+L,r+O,d-I,c-F),B++),L+=d+E,L+d>h&&(L=T,O+=c+E)}return f};C.exports=y},47534:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=function(f,l,o){var r=g(o,"frameWidth",null),h=g(o,"frameHeight",r);if(!r)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var u=f.source[0];f.add("__BASE",0,0,0,u.width,u.height),g(o,"startFrame",0),g(o,"endFrame",-1);for(var a=g(o,"margin",0),d=g(o,"spacing",0),c=l.cutX,p=l.cutY,v=l.cutWidth,m=l.cutHeight,T=l.realWidth,E=l.realHeight,P=Math.floor((T-a+d)/(r+d)),w=Math.floor((E-a+d)/(h+d)),R=l.x,L=r-R,O=r-(T-v-R),I=l.y,F=h-I,B=h-(E-m-I),G,z=a,Y=a,J=0,$=0,j=0;j<w;j++){for(var X=j===0,H=j===w-1,N=0;N<P;N++){var Q=N===0,U=N===P-1;if(G=f.add(J,$,c+z,p+Y,r,h),Q||X||U||H){var q=Q?R:0,et=X?I:0,it=0,rt=0;Q&&(it+=r-L),U&&(it+=r-O),X&&(rt+=h-F),H&&(rt+=h-B);var lt=r-it,ft=h-rt;G.cutWidth=lt,G.cutHeight=ft,G.setTrim(r,h,q,et,lt,ft)}z+=d,Q?z+=L:U?z+=O:z+=r,J++}z=a,Y+=d,X?Y+=F:H?Y+=B:Y+=h}return f};C.exports=y},86147:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=0,s=function(y,f,l,o){var r=A-o.y-o.height;y.add(l,f,o.x,r,o.width,o.height)},g=function(y,f,l){var o=y.source[f];y.add("__BASE",f,0,0,o.width,o.height),A=o.height;for(var r=l.split(`
`),h=/^[ ]*(- )*(\w+)+[: ]+(.*)/,u="",a="",d={x:0,y:0,width:0,height:0},c=0;c<r.length;c++){var p=r[c].match(h);if(p){var v=p[1]==="- ",m=p[2],T=p[3];if(v&&(a!==u&&(s(y,f,a,d),u=a),d={x:0,y:0,width:0,height:0}),m==="name"){a=T;continue}switch(m){case"x":case"y":case"width":case"height":d[m]=parseInt(T,10);break}}}return a!==u&&s(y,f,a,d),y};C.exports=g},55222:(C,A,s)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(50030),y=function(u){for(var a=u.mipmaps,d=1;d<a.length;d++){var c=a[d].width,p=a[d].height;if(!g(c,p))return console.warn("Mip level "+d+" is not a power-of-two size: "+c+"x"+p),!1}var v=h[u.internalFormat];return v?v(u):(console.warn("No format checker found for internal format "+u.internalFormat+". Assuming valid."),!0)};function f(u){for(var a=u.mipmaps,d=0;d<a.length;d++){var c=a[d].width,p=a[d].height;if((c<<d)%4!==0||(p<<d)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+d+" is "+c+"x"+p),!1}return!0}function l(){return!0}function o(u){var a=u.mipmaps,d=a[0];return g(d.width,d.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+d.width+"x"+d.height),!1)}function r(u){var a=u.mipmaps,d=a[0];return d.width%4!==0||d.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+d.width+"x"+d.height+" pixels"),!1):!0}var h={37488:l,37489:l,37490:l,37491:l,37492:l,37493:l,37494:l,37495:l,37496:l,37497:l,36196:l,37808:l,37809:l,37810:l,37811:l,37812:l,37813:l,37814:l,37815:l,37816:l,37817:l,37818:l,37819:l,37820:l,37821:l,37840:l,37841:l,37842:l,37843:l,37844:l,37845:l,37846:l,37847:l,37848:l,37849:l,37850:l,37851:l,37852:l,37853:l,36492:f,36493:f,36494:f,36495:f,36283:f,36284:f,36285:f,36286:f,35840:o,35841:o,35842:o,35843:o,33776:f,33777:f,33778:f,33779:f,35916:r,35917:r,35918:r,35919:r};C.exports=y},61309:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AtlasXML:s(89905),Canvas:s(72893),Image:s(4832),JSONArray:s(78566),JSONHash:s(39711),KTXParser:s(31403),PVRParser:s(82038),SpriteSheet:s(75549),SpriteSheetFromAtlas:s(47534),UnityYAML:s(86147)}},80341:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,o,r,h,u,a,d){(r===void 0||r<=0)&&(r=32),(h===void 0||h<=0)&&(h=32),u===void 0&&(u=0),a===void 0&&(a=0),this.name=l,this.firstgid=o|0,this.imageWidth=r|0,this.imageHeight=h|0,this.imageMargin=u|0,this.imageSpacing=a|0,this.properties=d||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,l,o,r){return this.images.push({gid:f,image:l,width:o,height:r}),this.total++,this}});C.exports=y},27462:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l){if(this.gids=[],l!==void 0)for(var o=0;o<l.length;++o)for(var r=l[o],h=0;h<r.total;++h)this.gids[r.firstgid+h]=r;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(f){this.gids=f?this._gids:void 0}},getTypeIncludingTile:function(f){if(f.type!==void 0&&f.type!=="")return f.type;if(!(!this.gids||f.gid===void 0)){var l=this.gids[f.gid];if(l){var o=l.getTileData(f.gid);if(o)return o.type}}},setTextureAndFrame:function(f,l,o,r){if(l===null&&this.gids&&r.gid!==void 0){var h=this.gids[r.gid];h&&(l===null&&h.image!==void 0&&(l=h.image.key),o===null&&(o=r.gid-h.firstgid),f.scene.textures.getFrame(l,o)||(l=null,o=null))}f.setTexture(l,o)},setPropertiesFromTiledObject:function(f,l){if(this.gids!==void 0&&l.gid!==void 0){var o=this.gids[l.gid];o!==void 0&&this.setFromJSON(f,o.getTileProperties(l.gid))}this.setFromJSON(f,l.properties)},setFromJSON:function(f,l){if(l){if(Array.isArray(l)){for(var o=0;o<l.length;o++){var r=l[o];f[r.name]!==void 0?f[r.name]=r.value:f.setData(r.name,r.value)}return}for(var h in l)f[h]!==void 0?f[h]=l[h]:f.setData(h,l[h])}}});C.exports=y},31989:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80341),y=s(87010),f=s(46177),l=s(49075),o=function(r,h,u,a,d,c,p,v){u===void 0&&(u=32),a===void 0&&(a=32),d===void 0&&(d=10),c===void 0&&(c=10),v===void 0&&(v=!1);var m=null;if(Array.isArray(p)){var T=h!==void 0?h:"map";m=f(T,g.ARRAY_2D,p,u,a,v)}else if(h!==void 0){var E=r.cache.tilemap.get(h);E?m=f(h,E.format,E.data,u,a,v):console.warn("No map data found for key "+h)}return m===null&&(m=new y({tileWidth:u,tileHeight:a,width:d,height:c})),new l(r,m)};C.exports=o},23029:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(91907),l=s(62644),o=s(93232),r=new g({Mixins:[y.AlphaSingle,y.Flip,y.Visible],initialize:function(u,a,d,c,p,v,m,T){this.layer=u,this.index=a,this.x=d,this.y=c,this.width=p,this.height=v,this.right,this.bottom,this.baseWidth=m!==void 0?m:p,this.baseHeight=T!==void 0?T:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(h,u){return!(h<this.pixelX||u<this.pixelY||h>this.right||u>this.bottom)},copy:function(h){return this.index=h.index,this.alpha=h.alpha,this.properties=l(h.properties),this.visible=h.visible,this.setFlip(h.flipX,h.flipY),this.tint=h.tint,this.rotation=h.rotation,this.collideUp=h.collideUp,this.collideDown=h.collideDown,this.collideLeft=h.collideLeft,this.collideRight=h.collideRight,this.collisionCallback=h.collisionCallback,this.collisionCallbackContext=h.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(h){var u=this.tilemapLayer;if(u){var a=u.tileToWorldXY(this.x,this.y,void 0,h);return a.x}return this.x*this.baseWidth},getRight:function(h){var u=this.tilemapLayer;return u?this.getLeft(h)+this.width*u.scaleX:this.getLeft(h)+this.width},getTop:function(h){var u=this.tilemapLayer;if(u){var a=u.tileToWorldXY(this.x,this.y,void 0,h);return a.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(h){var u=this.tilemapLayer;return u?this.getTop(h)+this.height*u.scaleY:this.getTop(h)+this.height},getBounds:function(h,u){return u===void 0&&(u=new o),u.x=this.getLeft(h),u.y=this.getTop(h),u.width=this.getRight(h)-u.x,u.height=this.getBottom(h)-u.y,u},getCenterX:function(h){return(this.getLeft(h)+this.getRight(h))/2},getCenterY:function(h){return(this.getTop(h)+this.getBottom(h))/2},intersects:function(h,u,a,d){return!(a<=this.pixelX||d<=this.pixelY||h>=this.right||u>=this.bottom)},isInteresting:function(h,u){return h&&u?this.canCollide||this.hasInterestingFace:h?this.collides:u?this.hasInterestingFace:!1},resetCollision:function(h){if(h===void 0&&(h=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,h){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(h,u,a,d,c){if(u===void 0&&(u=h),a===void 0&&(a=h),d===void 0&&(d=h),c===void 0&&(c=!0),this.collideLeft=h,this.collideRight=u,this.collideUp=a,this.collideDown=d,this.faceLeft=h,this.faceRight=u,this.faceTop=a,this.faceBottom=d,c){var p=this.tilemapLayer;p&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(h,u){return h===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=h,this.collisionCallbackContext=u),this},setSize:function(h,u,a,d){return h!==void 0&&(this.width=h),u!==void 0&&(this.height=u),a!==void 0&&(this.baseWidth=a),d!==void 0&&(this.baseHeight=d),this.updatePixelXY(),this},updatePixelXY:function(){var h=this.layer.orientation;if(h===f.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(h===f.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(h===f.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(h===f.HEXAGONAL){var u=this.layer.staggerAxis,a=this.layer.staggerIndex,d=this.layer.hexSideLength,c,p;u==="y"?(p=(this.baseHeight-d)/2+d,a==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*p):u==="x"&&(c=(this.baseWidth-d)/2+d,this.pixelX=this.x*c,a==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var h=this.layer.tilemapLayer;if(h){var u=h.gidMap[this.index];if(u)return u}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var h=this.tilemapLayer;return h?h.tilemap:null}}});C.exports=r},49075:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(84101),y=s(83419),f=s(39506),l=s(80341),o=s(95540),r=s(14977),h=s(27462),u=s(91907),a=s(36305),d=s(19133),c=s(68287),p=s(23029),v=s(81086),m=s(20442),T=s(33629),E=new y({initialize:function(w,R){this.scene=w,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var L=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(L),WorldToTileX:v.GetWorldToTileXFunction(L),WorldToTileY:v.GetWorldToTileYFunction(L),TileToWorldXY:v.GetTileToWorldXYFunction(L),TileToWorldX:v.GetTileToWorldXFunction(L),TileToWorldY:v.GetTileToWorldYFunction(L),GetTileCorners:v.GetTileCornersFunction(L)}},setRenderOrder:function(P){var w=["right-down","left-down","right-up","left-up"];return typeof P=="number"&&(P=w[P]),w.indexOf(P)>-1&&(this.renderOrder=P),this},addTilesetImage:function(P,w,R,L,O,I,F,B){if(P===void 0)return null;w==null&&(w=P);var G=this.scene.sys.textures;if(!G.exists(w))return console.warn('Texture key "%s" not found',w),null;var z=G.get(w),Y=this.getTilesetIndex(P);if(Y===null&&this.format===l.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',P,this.tilesets),null;var J=this.tilesets[Y];return J?((R||L)&&J.setTileSize(R,L),(O||I)&&J.setSpacing(O,I),J.setImage(z),J):(R===void 0&&(R=this.tileWidth),L===void 0&&(L=this.tileHeight),O===void 0&&(O=0),I===void 0&&(I=0),F===void 0&&(F=0),B===void 0&&(B={x:0,y:0}),J=new T(P,F,R,L,O,I,void 0,void 0,B),J.setImage(z),this.tilesets.push(J),this.tiles=g(this),J)},copy:function(P,w,R,L,O,I,F,B){return B=this.getLayer(B),B!==null?(v.Copy(P,w,R,L,O,I,F,B),this):null},createBlankLayer:function(P,w,R,L,O,I,F,B){R===void 0&&(R=0),L===void 0&&(L=0),O===void 0&&(O=this.width),I===void 0&&(I=this.height),F===void 0&&(F=this.tileWidth),B===void 0&&(B=this.tileHeight);var G=this.getLayerIndex(P);if(G!==null)return console.warn("Invalid Tilemap Layer ID: "+P),null;for(var z=new r({name:P,tileWidth:F,tileHeight:B,width:O,height:I,orientation:this.orientation,hexSideLength:this.hexSideLength}),Y,J=0;J<I;J++){Y=[];for(var $=0;$<O;$++)Y.push(new p(z,-1,$,J,F,B,this.tileWidth,this.tileHeight));z.data.push(Y)}this.layers.push(z),this.currentLayerIndex=this.layers.length-1;var j=new m(this.scene,this,this.currentLayerIndex,w,R,L);return j.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(j),j},createLayer:function(P,w,R,L){var O=this.getLayerIndex(P);if(O===null)return console.warn("Invalid Tilemap Layer ID: "+P),typeof P=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var I=this.layers[O];if(I.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+P),null;this.currentLayerIndex=O,R===void 0&&(R=I.x),L===void 0&&(L=I.y);var F=new m(this.scene,this,O,w,R,L);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(P,w,R){R===void 0&&(R=!0);var L=[],O=this.getObjectLayer(P);if(!O)return console.warn("createFromObjects: Invalid objectLayerName given: "+P),L;var I=new h(R?this.tilesets:void 0);Array.isArray(w)||(w=[w]);for(var F=O.objects,B=0;B<w.length;B++){var G=w[B],z=o(G,"id",null),Y=o(G,"gid",null),J=o(G,"name",null),$=o(G,"type",null);I.enabled=!o(G,"ignoreTileset",null);for(var j,X=[],H=0;H<F.length;H++)j=F[H],(z===null&&Y===null&&J===null&&$===null||z!==null&&j.id===z||Y!==null&&j.gid===Y||J!==null&&j.name===J||$!==null&&I.getTypeIncludingTile(j)===$)&&X.push(j);for(var N=o(G,"classType",c),Q=o(G,"scene",this.scene),U=o(G,"container",null),q=o(G,"key",null),et=o(G,"frame",null),it=0;it<X.length;it++){j=X[it];var rt=new N(Q);if(rt.setName(j.name),rt.setPosition(j.x,j.y),I.setTextureAndFrame(rt,q,et,j),j.width&&(rt.displayWidth=j.width),j.height&&(rt.displayHeight=j.height),this.orientation===u.ISOMETRIC){var lt=this.tileWidth/this.tileHeight,ft={x:rt.x-rt.y,y:(rt.x+rt.y)/lt};rt.x=ft.x,rt.y=ft.y}var gt={x:rt.originX*j.width,y:(rt.originY-(j.gid?1:0))*j.height};if(j.rotation){var vt=f(j.rotation);a(gt,vt),rt.rotation=vt}rt.x+=gt.x,rt.y+=gt.y,(j.flippedHorizontal!==void 0||j.flippedVertical!==void 0)&&rt.setFlip(j.flippedHorizontal,j.flippedVertical),j.visible||(rt.visible=!1),I.setPropertiesFromTiledObject(rt,j),U?U.add(rt):Q.add.existing(rt),L.push(rt)}}return L},createFromTiles:function(P,w,R,L,O,I){return I=this.getLayer(I),I===null?null:v.CreateFromTiles(P,w,R,L,O,I)},fill:function(P,w,R,L,O,I,F){return I===void 0&&(I=!0),F=this.getLayer(F),F===null?null:(v.Fill(P,w,R,L,O,I,F),this)},filterObjects:function(P,w,R){if(typeof P=="string"){var L=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+L),null}return P.objects.filter(w,R)},filterTiles:function(P,w,R,L,O,I,F,B){return B=this.getLayer(B),B===null?null:v.FilterTiles(P,w,R,L,O,I,F,B)},findByIndex:function(P,w,R,L){return L=this.getLayer(L),L===null?null:v.FindByIndex(P,w,R,L)},findObject:function(P,w,R){if(typeof P=="string"){var L=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+L),null}return P.objects.find(w,R)||null},findTile:function(P,w,R,L,O,I,F,B){return B=this.getLayer(B),B===null?null:v.FindTile(P,w,R,L,O,I,F,B)},forEachTile:function(P,w,R,L,O,I,F,B){return B=this.getLayer(B),B===null?null:(v.ForEachTile(P,w,R,L,O,I,F,B),this)},getImageIndex:function(P){return this.getIndex(this.images,P)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(P){return P.name})},getIndex:function(P,w){for(var R=0;R<P.length;R++)if(P[R].name===w)return R;return null},getLayer:function(P){var w=this.getLayerIndex(P);return w!==null?this.layers[w]:null},getObjectLayer:function(P){var w=this.getIndex(this.objects,P);return w!==null?this.objects[w]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(P){return P.name})},getLayerIndex:function(P){return P===void 0?this.currentLayerIndex:typeof P=="string"?this.getLayerIndexByName(P):typeof P=="number"&&P<this.layers.length?P:P instanceof m&&P.tilemap===this?P.layerIndex:null},getLayerIndexByName:function(P){return this.getIndex(this.layers,P)},getTileAt:function(P,w,R,L){return L=this.getLayer(L),L===null?null:v.GetTileAt(P,w,R,L)},getTileAtWorldXY:function(P,w,R,L,O){return O=this.getLayer(O),O===null?null:v.GetTileAtWorldXY(P,w,R,L,O)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(P){return P.name})},getTilesWithin:function(P,w,R,L,O,I){return I=this.getLayer(I),I===null?null:v.GetTilesWithin(P,w,R,L,O,I)},getTilesWithinShape:function(P,w,R,L){return L=this.getLayer(L),L===null?null:v.GetTilesWithinShape(P,w,R,L)},getTilesWithinWorldXY:function(P,w,R,L,O,I,F){return F=this.getLayer(F),F===null?null:v.GetTilesWithinWorldXY(P,w,R,L,O,I,F)},getTileset:function(P){var w=this.getIndex(this.tilesets,P);return w!==null?this.tilesets[w]:null},getTilesetIndex:function(P){return this.getIndex(this.tilesets,P)},hasTileAt:function(P,w,R){return R=this.getLayer(R),R===null?null:v.HasTileAt(P,w,R)},hasTileAtWorldXY:function(P,w,R,L){return L=this.getLayer(L),L===null?null:v.HasTileAtWorldXY(P,w,R,L)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(P){this.setLayer(P)}},putTileAt:function(P,w,R,L,O){return L===void 0&&(L=!0),O=this.getLayer(O),O===null?null:v.PutTileAt(P,w,R,L,O)},putTileAtWorldXY:function(P,w,R,L,O,I){return L===void 0&&(L=!0),I=this.getLayer(I),I===null?null:v.PutTileAtWorldXY(P,w,R,L,O,I)},putTilesAt:function(P,w,R,L,O){return L===void 0&&(L=!0),O=this.getLayer(O),O===null?null:(v.PutTilesAt(P,w,R,L,O),this)},randomize:function(P,w,R,L,O,I){return I=this.getLayer(I),I===null?null:(v.Randomize(P,w,R,L,O,I),this)},calculateFacesAt:function(P,w,R){return R=this.getLayer(R),R===null?null:(v.CalculateFacesAt(P,w,R),this)},calculateFacesWithin:function(P,w,R,L,O){return O=this.getLayer(O),O===null?null:(v.CalculateFacesWithin(P,w,R,L,O),this)},removeLayer:function(P){var w=this.getLayerIndex(P);if(w!==null){d(this.layers,w);for(var R=w;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===w&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(P){var w=this.getLayerIndex(P);return w!==null?(P=this.layers[w],P.tilemapLayer.destroy(),d(this.layers,w),this.currentLayerIndex===w&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var P=this.layers,w=0;w<P.length;w++)P[w].tilemapLayer&&P[w].tilemapLayer.destroy(!1);return P.length=0,this.currentLayerIndex=0,this},removeTile:function(P,w,R){w===void 0&&(w=-1),R===void 0&&(R=!0);var L=[];Array.isArray(P)||(P=[P]);for(var O=0;O<P.length;O++){var I=P[O];L.push(this.removeTileAt(I.x,I.y,!0,R,I.tilemapLayer)),w>-1&&this.putTileAt(w,I.x,I.y,R,I.tilemapLayer)}return L},removeTileAt:function(P,w,R,L,O){return R===void 0&&(R=!0),L===void 0&&(L=!0),O=this.getLayer(O),O===null?null:v.RemoveTileAt(P,w,R,L,O)},removeTileAtWorldXY:function(P,w,R,L,O,I){return R===void 0&&(R=!0),L===void 0&&(L=!0),I=this.getLayer(I),I===null?null:v.RemoveTileAtWorldXY(P,w,R,L,O,I)},renderDebug:function(P,w,R){return R=this.getLayer(R),R===null?null:(this.orientation===u.ORTHOGONAL&&v.RenderDebug(P,w,R),this)},renderDebugFull:function(P,w){for(var R=this.layers,L=0;L<R.length;L++)v.RenderDebug(P,w,R[L]);return this},replaceByIndex:function(P,w,R,L,O,I,F){return F=this.getLayer(F),F===null?null:(v.ReplaceByIndex(P,w,R,L,O,I,F),this)},setCollision:function(P,w,R,L,O){return w===void 0&&(w=!0),R===void 0&&(R=!0),O===void 0&&(O=!0),L=this.getLayer(L),L===null?null:(v.SetCollision(P,w,R,L,O),this)},setCollisionBetween:function(P,w,R,L,O){return R===void 0&&(R=!0),L===void 0&&(L=!0),O=this.getLayer(O),O===null?null:(v.SetCollisionBetween(P,w,R,L,O),this)},setCollisionByProperty:function(P,w,R,L){return w===void 0&&(w=!0),R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:(v.SetCollisionByProperty(P,w,R,L),this)},setCollisionByExclusion:function(P,w,R,L){return w===void 0&&(w=!0),R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:(v.SetCollisionByExclusion(P,w,R,L),this)},setCollisionFromCollisionGroup:function(P,w,R){return P===void 0&&(P=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:(v.SetCollisionFromCollisionGroup(P,w,R),this)},setTileIndexCallback:function(P,w,R,L){return L=this.getLayer(L),L===null?null:(v.SetTileIndexCallback(P,w,R,L),this)},setTileLocationCallback:function(P,w,R,L,O,I,F){return F=this.getLayer(F),F===null?null:(v.SetTileLocationCallback(P,w,R,L,O,I,F),this)},setLayer:function(P){var w=this.getLayerIndex(P);return w!==null&&(this.currentLayerIndex=w),this},setBaseTileSize:function(P,w){this.tileWidth=P,this.tileHeight=w,this.widthInPixels=this.width*P,this.heightInPixels=this.height*w;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=P,this.layers[R].baseTileHeight=w;for(var L=this.layers[R].data,O=this.layers[R].width,I=this.layers[R].height,F=0;F<I;F++)for(var B=0;B<O;B++){var G=L[F][B];G!==null&&G.setSize(void 0,void 0,P,w)}}return this},setLayerTileSize:function(P,w,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=P,R.tileHeight=w;for(var L=R.data,O=R.width,I=R.height,F=0;F<I;F++)for(var B=0;B<O;B++){var G=L[F][B];G!==null&&G.setSize(P,w)}return this},shuffle:function(P,w,R,L,O){return O=this.getLayer(O),O===null?null:(v.Shuffle(P,w,R,L,O),this)},swapByIndex:function(P,w,R,L,O,I,F){return F=this.getLayer(F),F===null?null:(v.SwapByIndex(P,w,R,L,O,I,F),this)},tileToWorldX:function(P,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(P,w,R)},tileToWorldY:function(P,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(P,w,R)},tileToWorldXY:function(P,w,R,L,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldXY(P,w,R,L,O)},getTileCorners:function(P,w,R,L){return L=this.getLayer(L),L===null?null:this._convert.GetTileCorners(P,w,R,L)},weightedRandomize:function(P,w,R,L,O,I){return I=this.getLayer(I),I===null?null:(v.WeightedRandomize(w,R,L,O,P,I),this)},worldToTileX:function(P,w,R,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileX(P,w,R,L)},worldToTileY:function(P,w,R,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileY(P,w,R,L)},worldToTileXY:function(P,w,R,L,O,I){return I=this.getLayer(I),I===null?null:this._convert.WorldToTileXY(P,w,R,L,O,I)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});C.exports=E},45939:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(44603),y=s(31989);g.register("tilemap",function(f){var l=f!==void 0?f:{};return y(this.scene,l.key,l.tileWidth,l.tileHeight,l.width,l.height,l.data,l.insertNull)})},46029:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(31989);g.register("tilemap",function(f,l,o,r,h,u,a){return f===null&&(f=void 0),l===null&&(l=void 0),o===null&&(o=void 0),r===null&&(r=void 0),h===null&&(h=void 0),y(this.scene,f,l,o,r,h,u,a)})},20442:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(78389),f=s(31401),l=s(95643),o=s(81086),r=s(19218),h=s(26099),u=new g({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,y,r],initialize:function(d,c,p,v,m,T){l.call(this,d,"TilemapLayer"),this.isTilemap=!0,this.tilemap=c,this.layerIndex=p,this.layer=c.layers[p],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new h,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(m,T),this.setOrigin(0,0),this.setSize(c.tileWidth*this.layer.width,c.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(a){var d=[],c=[],p=this.tilemap;Array.isArray(a)||(a=[a]);for(var v=0;v<a.length;v++){var m=a[v];if(typeof m=="string"&&(m=p.getTileset(m)),m){c.push(m);for(var T=m.firstgid,E=0;E<m.total;E++)d[T+E]=m}}this.gidMap=d,this.tileset=c},setRenderOrder:function(a){var d=["right-down","left-down","right-up","left-up"];return typeof a=="string"&&(a=d.indexOf(a)),a>=0&&a<4&&(this._renderOrder=a),this},calculateFacesAt:function(a,d){return o.CalculateFacesAt(a,d,this.layer),this},calculateFacesWithin:function(a,d,c,p){return o.CalculateFacesWithin(a,d,c,p,this.layer),this},createFromTiles:function(a,d,c,p,v){return o.CreateFromTiles(a,d,c,p,v,this.layer)},cull:function(a){return this.cullCallback(this.layer,a,this.culledTiles,this._renderOrder)},copy:function(a,d,c,p,v,m,T){return o.Copy(a,d,c,p,v,m,T,this.layer),this},fill:function(a,d,c,p,v,m){return o.Fill(a,d,c,p,v,m,this.layer),this},filterTiles:function(a,d,c,p,v,m,T){return o.FilterTiles(a,d,c,p,v,m,T,this.layer)},findByIndex:function(a,d,c){return o.FindByIndex(a,d,c,this.layer)},findTile:function(a,d,c,p,v,m,T){return o.FindTile(a,d,c,p,v,m,T,this.layer)},forEachTile:function(a,d,c,p,v,m,T){return o.ForEachTile(a,d,c,p,v,m,T,this.layer),this},setTint:function(a,d,c,p,v,m){a===void 0&&(a=16777215);var T=function(E){E.tint=a,E.tintFill=!1};return this.forEachTile(T,this,d,c,p,v,m)},setTintFill:function(a,d,c,p,v,m){a===void 0&&(a=16777215);var T=function(E){E.tint=a,E.tintFill=!0};return this.forEachTile(T,this,d,c,p,v,m)},getTileAt:function(a,d,c){return o.GetTileAt(a,d,c,this.layer)},getTileAtWorldXY:function(a,d,c,p){return o.GetTileAtWorldXY(a,d,c,p,this.layer)},getIsoTileAtWorldXY:function(a,d,c,p,v){c===void 0&&(c=!0);var m=this.tempVec;return o.IsometricWorldToTileXY(a,d,!0,m,v,this.layer,c),this.getTileAt(m.x,m.y,p)},getTilesWithin:function(a,d,c,p,v){return o.GetTilesWithin(a,d,c,p,v,this.layer)},getTilesWithinShape:function(a,d,c){return o.GetTilesWithinShape(a,d,c,this.layer)},getTilesWithinWorldXY:function(a,d,c,p,v,m){return o.GetTilesWithinWorldXY(a,d,c,p,v,m,this.layer)},hasTileAt:function(a,d){return o.HasTileAt(a,d,this.layer)},hasTileAtWorldXY:function(a,d,c){return o.HasTileAtWorldXY(a,d,c,this.layer)},putTileAt:function(a,d,c,p){return o.PutTileAt(a,d,c,p,this.layer)},putTileAtWorldXY:function(a,d,c,p,v){return o.PutTileAtWorldXY(a,d,c,p,v,this.layer)},putTilesAt:function(a,d,c,p){return o.PutTilesAt(a,d,c,p,this.layer),this},randomize:function(a,d,c,p,v){return o.Randomize(a,d,c,p,v,this.layer),this},removeTileAt:function(a,d,c,p){return o.RemoveTileAt(a,d,c,p,this.layer)},removeTileAtWorldXY:function(a,d,c,p,v){return o.RemoveTileAtWorldXY(a,d,c,p,v,this.layer)},renderDebug:function(a,d){return o.RenderDebug(a,d,this.layer),this},replaceByIndex:function(a,d,c,p,v,m){return o.ReplaceByIndex(a,d,c,p,v,m,this.layer),this},setSkipCull:function(a){return a===void 0&&(a=!0),this.skipCull=a,this},setCullPadding:function(a,d){return a===void 0&&(a=1),d===void 0&&(d=1),this.cullPaddingX=a,this.cullPaddingY=d,this},setCollision:function(a,d,c,p){return o.SetCollision(a,d,c,this.layer,p),this},setCollisionBetween:function(a,d,c,p){return o.SetCollisionBetween(a,d,c,p,this.layer),this},setCollisionByProperty:function(a,d,c){return o.SetCollisionByProperty(a,d,c,this.layer),this},setCollisionByExclusion:function(a,d,c){return o.SetCollisionByExclusion(a,d,c,this.layer),this},setCollisionFromCollisionGroup:function(a,d){return o.SetCollisionFromCollisionGroup(a,d,this.layer),this},setTileIndexCallback:function(a,d,c){return o.SetTileIndexCallback(a,d,c,this.layer),this},setTileLocationCallback:function(a,d,c,p,v,m){return o.SetTileLocationCallback(a,d,c,p,v,m,this.layer),this},shuffle:function(a,d,c,p){return o.Shuffle(a,d,c,p,this.layer),this},swapByIndex:function(a,d,c,p,v,m){return o.SwapByIndex(a,d,c,p,v,m,this.layer),this},tileToWorldX:function(a,d){return this.tilemap.tileToWorldX(a,d,this)},tileToWorldY:function(a,d){return this.tilemap.tileToWorldY(a,d,this)},tileToWorldXY:function(a,d,c,p){return this.tilemap.tileToWorldXY(a,d,c,p,this)},getTileCorners:function(a,d,c){return this.tilemap.getTileCorners(a,d,c,this)},weightedRandomize:function(a,d,c,p,v){return o.WeightedRandomize(d,c,p,v,a,this.layer),this},worldToTileX:function(a,d,c){return this.tilemap.worldToTileX(a,d,c,this)},worldToTileY:function(a,d,c){return this.tilemap.worldToTileY(a,d,c,this)},worldToTileXY:function(a,d,c,p,v){return this.tilemap.worldToTileXY(a,d,c,p,v,this)},destroy:function(a){a===void 0&&(a=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),a&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))}});C.exports=u},16153:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61340),y=new g,f=new g,l=new g,o=function(r,h,u,a){var d=h.cull(u),c=d.length,p=u.alpha*h.alpha;if(!(c===0||p<=0)){var v=y,m=f,T=l;m.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),v.copyFrom(u.matrix);var E=r.currentContext,P=h.gidMap;E.save(),a?(v.multiplyWithOffset(a,-u.scrollX*h.scrollFactorX,-u.scrollY*h.scrollFactorY),m.e=h.x,m.f=h.y,v.multiply(m,T),T.copyToContext(E)):(m.e-=u.scrollX*h.scrollFactorX,m.f-=u.scrollY*h.scrollFactorY,m.copyToContext(E)),(!r.antialias||h.scaleX>1||h.scaleY>1)&&(E.imageSmoothingEnabled=!1);for(var w=0;w<c;w++){var R=d[w],L=P[R.index];if(L){var O=L.image.getSourceImage(),I=L.getTileTextureCoordinates(R.index),F=L.tileWidth,B=L.tileHeight;if(!(I===null||F===0||B===0)){var G=F*.5,z=B*.5;I.x+=L.tileOffset.x,I.y+=L.tileOffset.y,E.save(),E.translate(R.pixelX+G,R.pixelY+z),R.rotation!==0&&E.rotate(R.rotation),(R.flipX||R.flipY)&&E.scale(R.flipX?-1:1,R.flipY?-1:1),E.globalAlpha=p*R.alpha,E.drawImage(O,I.x,I.y,F,B,-G,-z,F,B),E.restore()}}}E.restore()}};C.exports=o},19218:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(99558),f=s(16153),C.exports={renderWebGL:y,renderCanvas:f}},99558:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70554),y=function(f,l,o){var r=l.cull(o),h=r.length,u=o.alpha*l.alpha;if(!(h===0||u<=0)){var a=l.gidMap,d=f.pipelines.set(l.pipeline,l),c=g.getTintAppendFloatAlpha,p=l.scrollFactorX,v=l.scrollFactorY,m=l.x,T=l.y,E=l.scaleX,P=l.scaleY;f.pipelines.preBatch(l);for(var w=0;w<h;w++){var R=r[w],L=a[R.index];if(L){var O=L.getTileTextureCoordinates(R.index),I=L.tileWidth,F=L.tileHeight;if(!(!O||I===0||F===0)){var B=I*.5,G=F*.5,z=L.glTexture,Y=d.setTexture2D(z,l),J=I,$=F,j=O.x,X=O.y,H=L.tileOffset.x,N=L.tileOffset.y,Q=c(R.tint,u*R.alpha);d.batchTexture(l,z,z.width,z.height,m+R.pixelX*E+(B*E-H),T+R.pixelY*P+(G*P-N),I,F,E,P,R.rotation,R.flipX,R.flipY,p,v,B,G,j,X,J,$,Q,Q,Q,Q,R.tintFill,0,0,o,null,!0,Y,!0)}}}f.pipelines.postBatch(l)}};C.exports=y},33629:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(26099),f=new g({initialize:function(o,r,h,u,a,d,c,p,v){(h===void 0||h<=0)&&(h=32),(u===void 0||u<=0)&&(u=32),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c={}),p===void 0&&(p={}),this.name=o,this.firstgid=r,this.tileWidth=h,this.tileHeight=u,this.tileMargin=a,this.tileSpacing=d,this.tileProperties=c,this.tileData=p,this.tileOffset=new y,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(l){return this.containsTileIndex(l)?this.tileProperties[l-this.firstgid]:null},getTileData:function(l){return this.containsTileIndex(l)?this.tileData[l-this.firstgid]:null},getTileCollisionGroup:function(l){var o=this.getTileData(l);return o&&o.objectgroup?o.objectgroup:null},containsTileIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},getTileTextureCoordinates:function(l){return this.containsTileIndex(l)?this.texCoordinates[l-this.firstgid]:null},setImage:function(l){this.image=l;var o=l.get(),r=l.getFrameBounds();return this.glTexture=o.source.glTexture,o.width>r.width||o.height>r.height?this.updateTileData(o.width,o.height):this.updateTileData(r.width,r.height,r.x,r.y),this},setTileSize:function(l,o){return l!==void 0&&(this.tileWidth=l),o!==void 0&&(this.tileHeight=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(l,o){return l!==void 0&&(this.tileMargin=l),o!==void 0&&(this.tileSpacing=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(l,o,r,h){r===void 0&&(r=0),h===void 0&&(h=0);var u=(o-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),a=(l-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(u%1!==0||a%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),u=Math.floor(u),a=Math.floor(a),this.rows=u,this.columns=a,this.total=u*a,this.texCoordinates.length=0;for(var d=this.tileMargin+r,c=this.tileMargin+h,p=0;p<this.rows;p++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:d,y:c}),d+=this.tileWidth+this.tileSpacing;d=this.tileMargin+r,c+=this.tileHeight+this.tileSpacing}return this}});C.exports=f},72023:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7423),y=function(f,l,o){var r=g(f,l,!0,o),h=g(f,l-1,!0,o),u=g(f,l+1,!0,o),a=g(f-1,l,!0,o),d=g(f+1,l,!0,o),c=r&&r.collides;return c&&(r.faceTop=!0,r.faceBottom=!0,r.faceLeft=!0,r.faceRight=!0),h&&h.collides&&(c&&(r.faceTop=!1),h.faceBottom=!c),u&&u.collides&&(c&&(r.faceBottom=!1),u.faceTop=!c),a&&a.collides&&(c&&(r.faceLeft=!1),a.faceRight=!c),d&&d.collides&&(c&&(r.faceRight=!1),d.faceLeft=!c),r&&!r.collides&&r.resetFaces(),r};C.exports=y},42573:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7423),y=s(7386),f=function(l,o,r,h,u){for(var a=null,d=null,c=null,p=null,v=y(l,o,r,h,null,u),m=0;m<v.length;m++){var T=v[m];T&&(T.collides?(a=g(T.x,T.y-1,!0,u),d=g(T.x,T.y+1,!0,u),c=g(T.x-1,T.y,!0,u),p=g(T.x+1,T.y,!0,u),T.faceTop=!(a&&a.collides),T.faceBottom=!(d&&d.collides),T.faceLeft=!(c&&c.collides),T.faceRight=!(p&&p.collides)):T.resetFaces())}};C.exports=f},33528:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=new g,f=function(l,o,r,h){var u=r.tilemapLayer,a=u.cullPaddingX,d=u.cullPaddingY,c=u.tilemap.tileToWorldXY(l,o,y,h,u);return c.x>h.worldView.x+u.scaleX*r.tileWidth*(-a-.5)&&c.x<h.worldView.right+u.scaleX*r.tileWidth*(a-.5)&&c.y>h.worldView.y+u.scaleY*r.tileHeight*(-d-1)&&c.y<h.worldView.bottom+u.scaleY*r.tileHeight*(d-.5)};C.exports=f},1785:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(42573),y=s(7386),f=s(62991),l=s(23029),o=function(r,h,u,a,d,c,p,v){p===void 0&&(p=!0);var m=y(r,h,u,a,null,v),T=[];m.forEach(function(I){var F=new l(I.layer,I.index,I.x,I.y,I.width,I.height,I.baseWidth,I.baseHeight);F.copy(I),T.push(F)});for(var E=d-r,P=c-h,w=0;w<T.length;w++){var R=T[w],L=R.x+E,O=R.y+P;f(L,O,v)&&v.data[O][L]&&(R.x=L,R.y=O,R.updatePixelXY(),v.data[O][L]=R)}p&&g(d-1,c-1,u+2,a+2,v),m.length=0,T.length=0};C.exports=o},78419:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62644),y=s(7386),f=s(27987),l=function(o,r,h,u,a,d){h||(h={}),Array.isArray(o)||(o=[o]);var c=d.tilemapLayer;u||(u=c.scene),a||(a=u.cameras.main);var p=d.width,v=d.height,m=y(0,0,p,v,null,d),T=[],E,P=function(O,I,F){for(var B=0;B<F.length;B++){var G=F[B];O.hasOwnProperty(G)||(O[G]=I[G])}};for(E=0;E<m.length;E++){var w=m[E],R=g(h);if(o.indexOf(w.index)!==-1){var L=c.tileToWorldXY(w.x,w.y,void 0,a,d);R.x=L.x,R.y=L.y,P(R,w,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=w.width*.5,R.y+=w.height*.5),R.hasOwnProperty("useSpriteSheet")&&(R.key=w.tileset.image,R.frame=w.index-w.tileset.firstgid),T.push(u.make.sprite(R))}}if(Array.isArray(r))for(E=0;E<o.length;E++)f(o[E],r[E],0,0,p,v,d);else if(r!==null)for(E=0;E<o.length;E++)f(o[E],r,0,0,p,v,d);return T};C.exports=l},19545:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=s(63448),f=s(56583),l=new g,o=function(r,h){var u=r.tilemapLayer.tilemap,a=r.tilemapLayer,d=Math.floor(u.tileWidth*a.scaleX),c=Math.floor(u.tileHeight*a.scaleY),p=f(h.worldView.x-a.x,d,0,!0)-a.cullPaddingX,v=y(h.worldView.right-a.x,d,0,!0)+a.cullPaddingX,m=f(h.worldView.y-a.y,c,0,!0)-a.cullPaddingY,T=y(h.worldView.bottom-a.y,c,0,!0)+a.cullPaddingY;return l.setTo(p,m,v-p,T-m)};C.exports=o},30003:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19545),y=s(32483),f=function(l,o,r,h){r===void 0&&(r=[]),h===void 0&&(h=0),r.length=0;var u=l.tilemapLayer,a=g(l,o);return(u.skipCull||u.scrollFactorX!==1||u.scrollFactorY!==1)&&(a.left=0,a.right=l.width,a.top=0,a.bottom=l.height),y(l,a,h,r),r};C.exports=f},35137:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(42573),f=s(20576),l=function(o,r,h,u,a,d,c){for(var p=c.collideIndexes.indexOf(o)!==-1,v=g(r,h,u,a,null,c),m=0;m<v.length;m++)v[m].index=o,f(v[m],p);d&&y(r-1,h-1,u+2,a+2,c)};C.exports=l},40253:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,o,r,h,u,a,d){var c=g(o,r,h,u,a,d);return c.filter(f,l)};C.exports=y},52692:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g===void 0&&(g=0),y===void 0&&(y=!1);var l=0,o,r,h;if(y){for(r=f.height-1;r>=0;r--)for(o=f.width-1;o>=0;o--)if(h=f.data[r][o],h&&h.index===s){if(l===g)return h;l+=1}}else for(r=0;r<f.height;r++)for(o=0;o<f.width;o++)if(h=f.data[r][o],h&&h.index===s){if(l===g)return h;l+=1}return null};C.exports=A},66151:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,o,r,h,u,a,d){var c=g(o,r,h,u,a,d);return c.find(f,l)||null};C.exports=y},97560:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,o,r,h,u,a,d){var c=g(o,r,h,u,a,d);c.forEach(f,l)};C.exports=y},43305:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(30003),f=s(9474),l=s(14018),o=s(29747),r=s(54503),h=function(u){return u===g.ORTHOGONAL?y:u===g.HEXAGONAL?f:u===g.STAGGERED?r:u===g.ISOMETRIC?l:o};C.exports=h},7423:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62991),y=function(f,l,o,r){if(g(f,l,r)){var h=r.data[l][f]||null;return h?h.index===-1?o?h:null:h:null}else return null};C.exports=y},60540:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7423),y=s(26099),f=new y,l=function(o,r,h,u,a){return a.tilemapLayer.worldToTileXY(o,r,!0,f,u),g(f.x,f.y,h,a)};C.exports=l},55826:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r){var h=r.baseTileWidth,u=r.baseTileHeight,a=r.tilemapLayer,d=0,c=0;a&&(o||(o=a.scene.cameras.main),d=a.x+o.scrollX*(1-a.scrollFactorX),c=a.y+o.scrollY*(1-a.scrollFactorY),h*=a.scaleX,u*=a.scaleY);var p=d+f*h,v=c+l*u;return[new g(p,v),new g(p+h,v),new g(p+h,v+u),new g(p,v+u)]};C.exports=y},11758:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(27229),f=s(29747),l=s(55826),o=function(r){return r===g.ORTHOGONAL?l:r===g.ISOMETRIC?f:r===g.HEXAGONAL?y:(r===g.STAGGERED,f)};C.exports=o},39167:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(29747),f=s(97281),l=function(o){return o===g.ORTHOGONAL?f:y};C.exports=l},62e3:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(19951),f=s(14127),l=s(29747),o=s(97202),r=s(70326),h=function(u){return u===g.ORTHOGONAL?r:u===g.ISOMETRIC?f:u===g.HEXAGONAL?y:u===g.STAGGERED?o:l};C.exports=h},5984:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(29747),f=s(28054),l=s(29650),o=function(r){return r===g.ORTHOGONAL?l:r===g.STAGGERED?f:y};C.exports=o},7386:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=function(f,l,o,r,h,u){f===void 0&&(f=0),l===void 0&&(l=0),o===void 0&&(o=u.width),r===void 0&&(r=u.height),h||(h={});var a=g(h,"isNotEmpty",!1),d=g(h,"isColliding",!1),c=g(h,"hasInterestingFace",!1);f<0&&(o+=f,f=0),l<0&&(r+=l,l=0),f+o>u.width&&(o=Math.max(u.width-f,0)),l+r>u.height&&(r=Math.max(u.height-l,0));for(var p=[],v=l;v<l+r;v++)for(var m=f;m<f+o;m++){var T=u.data[v][m];if(T!==null){if(a&&T.index===-1||d&&!T.collides||c&&!T.hasInterestingFace)continue;p.push(T)}}return p};C.exports=y},91141:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(55738),y=s(7386),f=s(91865),l=s(29747),o=s(26099),r=s(91907),h=function(p,v){return f.RectangleToTriangle(v,p)},u=new o,a=new o,d=new o,c=function(p,v,m,T){if(T.orientation!==r.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(p===void 0)return[];var E=l;p instanceof g.Circle?E=f.CircleToRectangle:p instanceof g.Rectangle?E=f.RectangleToRectangle:p instanceof g.Triangle?E=h:p instanceof g.Line&&(E=f.LineToRectangle),T.tilemapLayer.worldToTileXY(p.left,p.top,!0,a,m);var P=a.x,w=a.y;T.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,d,m);var R=Math.ceil(d.x),L=Math.ceil(d.y),O=Math.max(R-P,1),I=Math.max(L-w,1),F=y(P,w,O,I,v,T),B=T.tileWidth,G=T.tileHeight;T.tilemapLayer&&(B*=T.tilemapLayer.scaleX,G*=T.tilemapLayer.scaleY);for(var z=[],Y=new g.Rectangle(0,0,B,G),J=0;J<F.length;J++){var $=F[J];T.tilemapLayer.tileToWorldXY($.x,$.y,u,m),Y.x=u.x,Y.y=u.y,E(p,Y)&&z.push($)}return z};C.exports=c},96523:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(26099),f=new y,l=new y,o=function(r,h,u,a,d,c,p){var v=p.tilemapLayer.tilemap._convert.WorldToTileXY;v(r,h,!0,f,c,p);var m=f.x,T=f.y;v(r+u,h+a,!1,l,c,p);var E=Math.ceil(l.x),P=Math.ceil(l.y);return g(m,T,E-m,P-T,d,p)};C.exports=o},96113:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(20242),f=s(10095),l=function(o){return o===g.ORTHOGONAL?f:y};C.exports=l},16926:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(86625),f=s(96897),l=s(29747),o=s(15108),r=s(85896),h=function(u){return u===g.ORTHOGONAL?r:u===g.ISOMETRIC?f:u===g.HEXAGONAL?y:u===g.STAGGERED?o:l};C.exports=h},55762:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(20242),f=s(51900),l=s(63288),o=function(r){return r===g.ORTHOGONAL?l:r===g.STAGGERED?f:y};C.exports=o},45091:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62991),y=function(f,l,o){if(g(f,l,o)){var r=o.data[l][f];return r!==null&&r.index>-1}else return!1};C.exports=y},24152:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45091),y=s(26099),f=new y,l=function(o,r,h,u){u.tilemapLayer.worldToTileXY(o,r,!0,f,h);var a=f.x,d=f.y;return g(a,d,u)};C.exports=l},90454:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(63448),y=s(56583),f=function(l,o){var r=l.tilemapLayer.tilemap,h=l.tilemapLayer,u=Math.floor(r.tileWidth*h.scaleX),a=Math.floor(r.tileHeight*h.scaleY),d=l.hexSideLength,c,p,v,m;if(l.staggerAxis==="y"){var T=(a-d)/2+d;c=y(o.worldView.x-h.x,u,0,!0)-h.cullPaddingX,p=g(o.worldView.right-h.x,u,0,!0)+h.cullPaddingX,v=y(o.worldView.y-h.y,T,0,!0)-h.cullPaddingY,m=g(o.worldView.bottom-h.y,T,0,!0)+h.cullPaddingY}else{var E=(u-d)/2+d;c=y(o.worldView.x-h.x,E,0,!0)-h.cullPaddingX,p=g(o.worldView.right-h.x,E,0,!0)+h.cullPaddingX,v=y(o.worldView.y-h.y,a,0,!0)-h.cullPaddingY,m=g(o.worldView.bottom-h.y,a,0,!0)+h.cullPaddingY}return{left:c,right:p,top:v,bottom:m}};C.exports=f},9474:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(90454),y=s(32483),f=function(l,o,r,h){r===void 0&&(r=[]),h===void 0&&(h=0),r.length=0;var u=l.tilemapLayer,a=g(l,o);return u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1&&(a.left=0,a.right=l.width,a.top=0,a.bottom=l.height),y(l,a,h,r),r};C.exports=f},27229:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19951),y=s(26099),f=new y,l=function(o,r,h,u){var a=u.baseTileWidth,d=u.baseTileHeight,c=u.tilemapLayer;c&&(a*=c.scaleX,d*=c.scaleY);var p=g(o,r,f,h,u),v=[],m=.5773502691896257,T,E;u.staggerAxis==="y"?(T=m*a,E=d/2):(T=a/2,E=m*d);for(var P=0;P<6;P++){var w=2*Math.PI*(.5-P)/6;v.push(new y(p.x+T*Math.cos(w),p.y+E*Math.sin(w)))}return v};C.exports=l},19951:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r,h){o||(o=new g);var u=h.baseTileWidth,a=h.baseTileHeight,d=h.tilemapLayer,c=0,p=0;d&&(r||(r=d.scene.cameras.main),c=d.x+r.scrollX*(1-d.scrollFactorX),p=d.y+r.scrollY*(1-d.scrollFactorY),u*=d.scaleX,a*=d.scaleY);var v=u/2,m=a/2,T,E,P=h.staggerAxis,w=h.staggerIndex;return P==="y"?(T=c+u*f+u,E=p+1.5*l*m+m,l%2===0&&(w==="odd"?T-=v:T+=v)):P==="x"&&w==="odd"&&(T=c+1.5*f*v+v,E=p+a*f+a,f%2===0&&(w==="odd"?E-=m:E+=m)),o.set(T,E)};C.exports=y},86625:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r,h,u){r||(r=new g);var a=u.baseTileWidth,d=u.baseTileHeight,c=u.tilemapLayer;c&&(h||(h=c.scene.cameras.main),f=f-(c.x+h.scrollX*(1-c.scrollFactorX)),l=l-(c.y+h.scrollY*(1-c.scrollFactorY)),a*=c.scaleX,d*=c.scaleY);var p=.5773502691896257,v=-.3333333333333333,m=0,T=.6666666666666666,E=a/2,P=d/2,w,R,L,O,I;u.staggerAxis==="y"?(w=(f-E)/(p*a),R=(l-P)/P,L=p*w+v*R,O=m*w+T*R):(w=(f-E)/E,R=(l-P)/(p*d),L=v*w+p*R,O=T*w+m*R),I=-L-O;var F=Math.round(L),B=Math.round(O),G=Math.round(I),z=Math.abs(F-L),Y=Math.abs(B-O),J=Math.abs(G-I);z>Y&&z>J?F=-B-G:Y>J&&(B=-F-G);var $,j=B;return u.staggerIndex==="odd"?$=j%2===0?B/2+F:B/2+F-.5:$=j%2===0?B/2+F:B/2+F+.5,r.set($,j)};C.exports=y},62991:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s>=0&&s<y.width&&g>=0&&g<y.height};C.exports=A},14018:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33528),y=function(f,l,o,r){o===void 0&&(o=[]),r===void 0&&(r=0),o.length=0;var h=f.tilemapLayer,u=f.data,a=f.width,d=f.height,c=h.skipCull,p=0,v=a,m=0,T=d,E,P,w;if(r===0)for(P=m;P<T;P++)for(E=p;E<v;E++)w=u[P][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!c&&!g(E,P,f,l)||o.push(w));else if(r===1)for(P=m;P<T;P++)for(E=v;E>=p;E--)w=u[P][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!c&&!g(E,P,f,l)||o.push(w));else if(r===2)for(P=T;P>=m;P--)for(E=p;E<v;E++)w=u[P][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!c&&!g(E,P,f,l)||o.push(w));else if(r===3)for(P=T;P>=m;P--)for(E=v;E>=p;E--)w=u[P][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!c&&!g(E,P,f,l)||o.push(w));return h.tilesDrawn=o.length,h.tilesTotal=a*d,o};C.exports=y},14127:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r,h){o||(o=new g);var u=h.baseTileWidth,a=h.baseTileHeight,d=h.tilemapLayer,c=0,p=0;d&&(r||(r=d.scene.cameras.main),c=d.x+r.scrollX*(1-d.scrollFactorX),u*=d.scaleX,p=d.y+r.scrollY*(1-d.scrollFactorY),a*=d.scaleY);var v=c+(f-l)*(u/2),m=p+(f+l)*(a/2);return o.set(v,m)};C.exports=y},96897:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r,h,u,a){r||(r=new g);var d=u.baseTileWidth,c=u.baseTileHeight,p=u.tilemapLayer;p&&(h||(h=p.scene.cameras.main),l=l-(p.y+h.scrollY*(1-p.scrollFactorY)),c*=p.scaleY,f=f-(p.x+h.scrollX*(1-p.scrollFactorX)),d*=p.scaleX);var v=d/2,m=c/2;f=f-v,a||(l=l-c);var T=.5*(f/v+l/m),E=.5*(-f/v+l/m);return o&&(T=Math.floor(T),E=Math.floor(E)),r.set(T,E)};C.exports=y},71558:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23029),y=s(62991),f=s(72023),l=s(20576),o=function(r,h,u,a,d){if(a===void 0&&(a=!0),!y(h,u,d))return null;var c,p=d.data[u][h],v=p&&p.collides;r instanceof g?(d.data[u][h]===null&&(d.data[u][h]=new g(d,r.index,h,u,d.tileWidth,d.tileHeight)),d.data[u][h].copy(r)):(c=r,d.data[u][h]===null?d.data[u][h]=new g(d,c,h,u,d.tileWidth,d.tileHeight):d.data[u][h].index=c);var m=d.data[u][h],T=d.collideIndexes.indexOf(m.index)!==-1;if(c=r instanceof g?r.index:r,c===-1)m.width=d.tileWidth,m.height=d.tileHeight;else{var E=d.tilemapLayer.tilemap,P=E.tiles,w=P[c][2],R=E.tilesets[w];m.width=R.tileWidth,m.height=R.tileHeight}return l(m,T),a&&v!==m.collides&&f(h,u,d),m};C.exports=o},26303:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(71558),y=s(26099),f=new y,l=function(o,r,h,u,a,d){return d.tilemapLayer.worldToTileXY(r,h,!0,f,a,d),g(o,f.x,f.y,u,d)};C.exports=l},14051:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(42573),y=s(71558),f=function(l,o,r,h,u){if(h===void 0&&(h=!0),!Array.isArray(l))return null;Array.isArray(l[0])||(l=[l]);for(var a=l.length,d=l[0].length,c=0;c<a;c++)for(var p=0;p<d;p++){var v=l[c][p];y(v,o+p,r+c,!1,u)}h&&g(o-1,r-1,d+2,a+2,u)};C.exports=f},77389:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(26546),f=function(l,o,r,h,u,a){var d,c=g(l,o,r,h,{},a);if(!u)for(u=[],d=0;d<c.length;d++)u.indexOf(c[d].index)===-1&&u.push(c[d].index);for(d=0;d<c.length;d++)c[d].index=y(u)};C.exports=f},63557:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23029),y=s(62991),f=s(72023),l=function(o,r,h,u,a){if(h===void 0&&(h=!0),u===void 0&&(u=!0),!y(o,r,a))return null;var d=a.data[r][o];if(d)a.data[r][o]=h?null:new g(a,-1,o,r,a.tileWidth,a.tileHeight);else return null;return u&&d&&d.collides&&f(o,r,a),d};C.exports=l},94178:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(63557),y=s(26099),f=new y,l=function(o,r,h,u,a,d){return d.tilemapLayer.worldToTileXY(o,r,!0,f,a,d),g(f.x,f.y,h,u,d)};C.exports=l},15533:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(3956),f=new y(105,210,231,150),l=new y(243,134,48,200),o=new y(40,39,37,150),r=function(h,u,a){u===void 0&&(u={});var d=u.tileColor!==void 0?u.tileColor:f,c=u.collidingTileColor!==void 0?u.collidingTileColor:l,p=u.faceColor!==void 0?u.faceColor:o,v=g(0,0,a.width,a.height,null,a);h.translateCanvas(a.tilemapLayer.x,a.tilemapLayer.y),h.scaleCanvas(a.tilemapLayer.scaleX,a.tilemapLayer.scaleY);for(var m=0;m<v.length;m++){var T=v[m],E=T.tileset?T.tileset.tileOffset:{x:0,y:0},P=T.width,w=T.height,R=T.pixelX-E.x,L=T.pixelY-E.y,O=T.collides?c:d;O!==null&&(h.fillStyle(O.color,O.alpha/255),h.fillRect(R,L,P,w)),R+=1,L+=1,P-=2,w-=2,p!==null&&(h.lineStyle(1,p.color,p.alpha/255),T.faceTop&&h.lineBetween(R,L,R+P,L),T.faceRight&&h.lineBetween(R+P,L,R+P,L+w),T.faceBottom&&h.lineBetween(R,L+w,R+P,L+w),T.faceLeft&&h.lineBetween(R,L,R,L+w))}};C.exports=r},27987:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,o,r,h,u,a){for(var d=g(o,r,h,u,null,a),c=0;c<d.length;c++)d[c]&&d[c].index===f&&(d[c].index=l)};C.exports=y},32483:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=s.data,o=s.width,r=s.height,h=s.tilemapLayer,u=Math.max(0,g.left),a=Math.min(o,g.right),d=Math.max(0,g.top),c=Math.min(r,g.bottom),p,v,m;if(y===0)for(v=d;v<c;v++)for(p=u;l[v]&&p<a;p++)m=l[v][p],!(!m||m.index===-1||!m.visible||m.alpha===0)&&f.push(m);else if(y===1)for(v=d;v<c;v++)for(p=a;l[v]&&p>=u;p--)m=l[v][p],!(!m||m.index===-1||!m.visible||m.alpha===0)&&f.push(m);else if(y===2)for(v=c;v>=d;v--)for(p=u;l[v]&&p<a;p++)m=l[v][p],!(!m||m.index===-1||!m.visible||m.alpha===0)&&f.push(m);else if(y===3)for(v=c;v>=d;v--)for(p=a;l[v]&&p>=u;p--)m=l[v][p],!(!m||m.index===-1||!m.visible||m.alpha===0)&&f.push(m);return h.tilesDrawn=f.length,h.tilesTotal=o*r,f};C.exports=A},57068:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20576),y=s(42573),f=s(9589),l=function(o,r,h,u,a){r===void 0&&(r=!0),h===void 0&&(h=!0),a===void 0&&(a=!0),Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++)f(o[d],r,u);if(a)for(var c=0;c<u.height;c++)for(var p=0;p<u.width;p++){var v=u.data[c][p];v&&o.indexOf(v.index)!==-1&&g(v,r)}h&&y(0,0,u.width,u.height,u)};C.exports=l},37266:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20576),y=s(42573),f=s(9589),l=function(o,r,h,u,a,d){if(h===void 0&&(h=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),!(o>r)){for(var c=o;c<=r;c++)f(c,h,a);if(d)for(var p=0;p<a.height;p++)for(var v=0;v<a.width;v++){var m=a.data[p][v];m&&m.index>=o&&m.index<=r&&g(m,h)}u&&y(0,0,a.width,a.height,a)}};C.exports=l},75661:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20576),y=s(42573),f=s(9589),l=function(o,r,h,u){r===void 0&&(r=!0),h===void 0&&(h=!0),Array.isArray(o)||(o=[o]);for(var a=0;a<u.height;a++)for(var d=0;d<u.width;d++){var c=u.data[a][d];c&&o.indexOf(c.index)===-1&&(g(c,r),f(c.index,r,u))}h&&y(0,0,u.width,u.height,u)};C.exports=l},64740:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20576),y=s(42573),f=s(97022),l=function(o,r,h,u){r===void 0&&(r=!0),h===void 0&&(h=!0);for(var a=0;a<u.height;a++)for(var d=0;d<u.width;d++){var c=u.data[a][d];if(c){for(var p in o)if(f(c.properties,p)){var v=o[p];Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)c.properties[p]===v[m]&&g(c,r)}}}h&&y(0,0,u.width,u.height,u)};C.exports=l},63307:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20576),y=s(42573),f=function(l,o,r){l===void 0&&(l=!0),o===void 0&&(o=!0);for(var h=0;h<r.height;h++)for(var u=0;u<r.width;u++){var a=r.data[h][u];if(a){var d=a.getCollisionGroup();d&&d.objects&&d.objects.length>0&&g(a,l)}}o&&y(0,0,r.width,r.height,r)};C.exports=f},9589:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=y.collideIndexes.indexOf(s);g&&f===-1?y.collideIndexes.push(s):!g&&f!==-1&&y.collideIndexes.splice(f,1)};C.exports=A},20576:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g?s.setCollision(!0,!0,!0,!0,!1):s.resetCollision(!1)};C.exports=A},79583:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){if(typeof s=="number")f.callbacks[s]=g!==null?{callback:g,callbackContext:y}:void 0;else for(var l=0,o=s.length;l<o;l++)f.callbacks[s[l]]=g!==null?{callback:g,callbackContext:y}:void 0};C.exports=A},93254:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,o,r,h,u,a){for(var d=g(f,l,o,r,null,a),c=0;c<d.length;c++)d[c].setCollisionCallback(h,u)};C.exports=y},32903:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(33680),f=function(l,o,r,h,u){var a=g(l,o,r,h,null,u),d=a.map(function(p){return p.index});y(d);for(var c=0;c<a.length;c++)a[c].index=d[c]};C.exports=f},61325:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(63448),y=s(56583),f=function(l,o){var r=l.tilemapLayer.tilemap,h=l.tilemapLayer,u=Math.floor(r.tileWidth*h.scaleX),a=Math.floor(r.tileHeight*h.scaleY),d=y(o.worldView.x-h.x,u,0,!0)-h.cullPaddingX,c=g(o.worldView.right-h.x,u,0,!0)+h.cullPaddingX,p=y(o.worldView.y-h.y,a/2,0,!0)-h.cullPaddingY,v=g(o.worldView.bottom-h.y,a/2,0,!0)+h.cullPaddingY;return{left:d,right:c,top:p,bottom:v}};C.exports=f},54503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61325),y=s(32483),f=function(l,o,r,h){r===void 0&&(r=[]),h===void 0&&(h=0),r.length=0;var u=l.tilemapLayer,a=g(l,o);return u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1&&(a.left=0,a.right=l.width,a.top=0,a.bottom=l.height),y(l,a,h,r),r};C.exports=f},97202:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r,h){o||(o=new g);var u=h.baseTileWidth,a=h.baseTileHeight,d=h.tilemapLayer,c=0,p=0;d&&(r||(r=d.scene.cameras.main),c=d.x+r.scrollX*(1-d.scrollFactorX),u*=d.scaleX,p=d.y+r.scrollY*(1-d.scrollFactorY),a*=d.scaleY);var v=c+f*u+l%2*(u/2),m=p+l*(a/2);return o.set(v,m)};C.exports=y},28054:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=y.baseTileHeight,l=y.tilemapLayer,o=0;return l&&(g===void 0&&(g=l.scene.cameras.main),o=l.y+g.scrollY*(1-l.scrollFactorY),f*=l.scaleY),o+s*(f/2)+f};C.exports=A},15108:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r,h,u){r||(r=new g);var a=u.baseTileWidth,d=u.baseTileHeight,c=u.tilemapLayer;c&&(h||(h=c.scene.cameras.main),l=l-(c.y+h.scrollY*(1-c.scrollFactorY)),d*=c.scaleY,f=f-(c.x+h.scrollX*(1-c.scrollFactorX)),a*=c.scaleX);var p=o?Math.floor(l/(d/2)):l/(d/2),v=o?Math.floor((f+p%2*.5*a)/a):(f+p%2*.5*a)/a;return r.set(v,p)};C.exports=y},51900:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=f.baseTileHeight,o=f.tilemapLayer;return o&&(y||(y=o.scene.cameras.main),s=s-(o.y+y.scrollY*(1-o.scrollFactorY)),l*=o.scaleY),g?Math.floor(s/(l/2)):s/(l/2)};C.exports=A},86560:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,o,r,h,u,a){for(var d=g(o,r,h,u,null,a),c=0;c<d.length;c++)d[c]&&(d[c].index===f?d[c].index=l:d[c].index===l&&(d[c].index=f))};C.exports=y},97281:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=y.baseTileWidth,l=y.tilemapLayer,o=0;return l&&(g||(g=l.scene.cameras.main),o=l.x+g.scrollX*(1-l.scrollFactorX),f*=l.scaleX),o+s*f};C.exports=A},70326:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(97281),y=s(29650),f=s(26099),l=function(o,r,h,u,a){return h||(h=new f(0,0)),h.x=g(o,u,a),h.y=y(r,u,a),h};C.exports=l},29650:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=y.baseTileHeight,l=y.tilemapLayer,o=0;return l&&(g||(g=l.scene.cameras.main),o=l.y+g.scrollY*(1-l.scrollFactorY),f*=l.scaleY),o+s*f};C.exports=A},77366:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(75508),f=function(l,o,r,h,u,a){if(u){var d,c=g(l,o,r,h,null,a),p=0;for(d=0;d<u.length;d++)p+=u[d].weight;if(!(p<=0))for(d=0;d<c.length;d++){for(var v=y.RND.frac()*p,m=0,T=-1,E=0;E<u.length;E++)if(m+=u[E].weight,v<=m){var P=u[E].index;T=Array.isArray(P)?P[Math.floor(y.RND.frac()*P.length)]:P;break}c[d].index=T}}};C.exports=f},10095:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85896),y=s(26099),f=new y,l=function(o,r,h,u){return g(o,0,r,f,h,u),f.x};C.exports=l},85896:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,o,r,h,u){o===void 0&&(o=!0),r||(r=new g);var a=u.baseTileWidth,d=u.baseTileHeight,c=u.tilemapLayer;c&&(h||(h=c.scene.cameras.main),f=f-(c.x+h.scrollX*(1-c.scrollFactorX)),l=l-(c.y+h.scrollY*(1-c.scrollFactorY)),a*=c.scaleX,d*=c.scaleY);var p=f/a,v=l/d;return o&&(p=Math.floor(p),v=Math.floor(v)),r.set(p,v)};C.exports=y},63288:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85896),y=s(26099),f=new y,l=function(o,r,h,u){return g(0,o,r,f,h,u),f.y};C.exports=l},81086:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CalculateFacesAt:s(72023),CalculateFacesWithin:s(42573),CheckIsoBounds:s(33528),Copy:s(1785),CreateFromTiles:s(78419),CullBounds:s(19545),CullTiles:s(30003),Fill:s(35137),FilterTiles:s(40253),FindByIndex:s(52692),FindTile:s(66151),ForEachTile:s(97560),GetCullTilesFunction:s(43305),GetTileAt:s(7423),GetTileAtWorldXY:s(60540),GetTileCorners:s(55826),GetTileCornersFunction:s(11758),GetTilesWithin:s(7386),GetTilesWithinShape:s(91141),GetTilesWithinWorldXY:s(96523),GetTileToWorldXFunction:s(39167),GetTileToWorldXYFunction:s(62e3),GetTileToWorldYFunction:s(5984),GetWorldToTileXFunction:s(96113),GetWorldToTileXYFunction:s(16926),GetWorldToTileYFunction:s(55762),HasTileAt:s(45091),HasTileAtWorldXY:s(24152),HexagonalCullBounds:s(90454),HexagonalCullTiles:s(9474),HexagonalGetTileCorners:s(27229),HexagonalTileToWorldXY:s(19951),HexagonalWorldToTileXY:s(86625),IsInLayerBounds:s(62991),IsometricCullTiles:s(14018),IsometricTileToWorldXY:s(14127),IsometricWorldToTileXY:s(96897),PutTileAt:s(71558),PutTileAtWorldXY:s(26303),PutTilesAt:s(14051),Randomize:s(77389),RemoveTileAt:s(63557),RemoveTileAtWorldXY:s(94178),RenderDebug:s(15533),ReplaceByIndex:s(27987),RunCull:s(32483),SetCollision:s(57068),SetCollisionBetween:s(37266),SetCollisionByExclusion:s(75661),SetCollisionByProperty:s(64740),SetCollisionFromCollisionGroup:s(63307),SetLayerCollisionIndex:s(9589),SetTileCollision:s(20576),SetTileIndexCallback:s(79583),SetTileLocationCallback:s(93254),Shuffle:s(32903),StaggeredCullBounds:s(61325),StaggeredCullTiles:s(54503),StaggeredTileToWorldXY:s(97202),StaggeredTileToWorldY:s(28054),StaggeredWorldToTileXY:s(15108),StaggeredWorldToTileY:s(51900),SwapByIndex:s(86560),TileToWorldX:s(97281),TileToWorldXY:s(70326),TileToWorldY:s(29650),WeightedRandomize:s(77366),WorldToTileX:s(10095),WorldToTileXY:s(85896),WorldToTileY:s(63288)}},91907:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={ORIENTATION:s(91907)};C.exports=g},62501:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=s(21829),f={Components:s(81086),Parsers:s(57442),Formats:s(80341),ImageCollection:s(16536),ParseToTilemap:s(31989),Tile:s(23029),Tilemap:s(49075),TilemapCreator:s(45939),TilemapFactory:s(46029),Tileset:s(33629),TilemapLayer:s(20442),Orientation:s(91907),LayerData:s(14977),MapData:s(87010),ObjectLayer:s(48700)};f=g(!1,f,y.ORIENTATION),C.exports=f},14977:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(91907),f=s(95540),l=new g({initialize:function(r){r===void 0&&(r={}),this.name=f(r,"name","layer"),this.id=f(r,"id",0),this.x=f(r,"x",0),this.y=f(r,"y",0),this.width=f(r,"width",0),this.height=f(r,"height",0),this.tileWidth=f(r,"tileWidth",0),this.tileHeight=f(r,"tileHeight",0),this.baseTileWidth=f(r,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(r,"baseTileHeight",this.tileHeight),this.orientation=f(r,"orientation",y.ORTHOGONAL),this.widthInPixels=f(r,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(r,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(r,"alpha",1),this.visible=f(r,"visible",!0),this.properties=f(r,"properties",[]),this.indexes=f(r,"indexes",[]),this.collideIndexes=f(r,"collideIndexes",[]),this.callbacks=f(r,"callbacks",[]),this.bodies=f(r,"bodies",[]),this.data=f(r,"data",[]),this.tilemapLayer=f(r,"tilemapLayer",null),this.hexSideLength=f(r,"hexSideLength",0),this.staggerAxis=f(r,"staggerAxis","y"),this.staggerIndex=f(r,"staggerIndex","odd")}});C.exports=l},87010:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(91907),f=s(95540),l=new g({initialize:function(r){r===void 0&&(r={}),this.name=f(r,"name","map"),this.width=f(r,"width",0),this.height=f(r,"height",0),this.infinite=f(r,"infinite",!1),this.tileWidth=f(r,"tileWidth",0),this.tileHeight=f(r,"tileHeight",0),this.widthInPixels=f(r,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(r,"heightInPixels",this.height*this.tileHeight),this.format=f(r,"format",null),this.orientation=f(r,"orientation",y.ORTHOGONAL),this.renderOrder=f(r,"renderOrder","right-down"),this.version=f(r,"version","1"),this.properties=f(r,"properties",{}),this.layers=f(r,"layers",[]),this.images=f(r,"images",[]),this.objects=f(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=f(r,"collision",{}),this.tilesets=f(r,"tilesets",[]),this.imageCollections=f(r,"imageCollections",[]),this.tiles=f(r,"tiles",[]),this.hexSideLength=f(r,"hexSideLength",0),this.staggerAxis=f(r,"staggerAxis","y"),this.staggerIndex=f(r,"staggerIndex","odd")}});C.exports=l},48700:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=new g({initialize:function(o){o===void 0&&(o={}),this.name=y(o,"name","object layer"),this.id=y(o,"id",0),this.opacity=y(o,"opacity",1),this.properties=y(o,"properties",{}),this.propertyTypes=y(o,"propertytypes",{}),this.type=y(o,"type","objectgroup"),this.visible=y(o,"visible",!0),this.objects=y(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});C.exports=f},6641:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=function(f){return f=f.toLowerCase(),f==="isometric"?g.ISOMETRIC:f==="staggered"?g.STAGGERED:f==="hexagonal"?g.HEXAGONAL:g.ORTHOGONAL};C.exports=y},46177:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80341),y=s(2342),f=s(82593),l=s(46594),o=s(87021),r=function(h,u,a,d,c,p){var v;switch(u){case g.ARRAY_2D:v=y(h,a,d,c,p);break;case g.CSV:v=f(h,a,d,c,p);break;case g.TILED_JSON:v=l(h,a,p);break;case g.WELTMEISTER:v=o(h,a,p);break;default:console.warn("Unrecognized tilemap data format: "+u),v=null}return v};C.exports=r},2342:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80341),y=s(14977),f=s(87010),l=s(23029),o=function(r,h,u,a,d){for(var c=new y({tileWidth:u,tileHeight:a}),p=new f({name:r,tileWidth:u,tileHeight:a,format:g.ARRAY_2D,layers:[c]}),v=[],m=h.length,T=0,E=0;E<h.length;E++){v[E]=[];for(var P=h[E],w=0;w<P.length;w++){var R=parseInt(P[w],10);isNaN(R)||R===-1?v[E][w]=d?null:new l(c,-1,w,E,u,a):v[E][w]=new l(c,R,w,E,u,a)}T===0&&(T=P.length)}return p.width=c.width=T,p.height=c.height=m,p.widthInPixels=c.widthInPixels=T*u,p.heightInPixels=c.heightInPixels=m*a,c.data=v,p};C.exports=o},82593:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80341),y=s(2342),f=function(l,o,r,h,u){var a=o.trim().split(`
`).map(function(c){return c.split(",")}),d=y(l,a,r,h,u);return d.format=g.CSV,d};C.exports=f},6656:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(14977),y=s(23029),f=function(l,o){for(var r=[],h=0;h<l.layer.length;h++){for(var u=l.layer[h],a=new g({name:u.name,width:u.width,height:u.height,tileWidth:u.tilesize,tileHeight:u.tilesize,visible:u.visible===1}),d=[],c=[],p=0;p<u.data.length;p++){for(var v=0;v<u.data[p].length;v++){var m=u.data[p][v]-1,T;m>-1?T=new y(a,m,v,p,u.tilesize,u.tilesize):T=o?null:new y(a,-1,v,p,u.tilesize,u.tilesize),d.push(T)}c.push(d),d=[]}a.data=c,r.push(a)}return r};C.exports=f},96483:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33629),y=function(f){for(var l=[],o=[],r=0;r<f.layer.length;r++){var h=f.layer[r],u=h.tilesetName;u!==""&&o.indexOf(u)===-1&&(o.push(u),l.push(new g(u,0,h.tilesize,h.tilesize,0,0)))}return l};C.exports=y},87021:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80341),y=s(87010),f=s(6656),l=s(96483),o=function(r,h,u){if(h.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+r),null;for(var a=0,d=0,c=0;c<h.layer.length;c++)h.layer[c].width>a&&(a=h.layer[c].width),h.layer[c].height>d&&(d=h.layer[c].height);var p=new y({width:a,height:d,name:r,tileWidth:h.layer[0].tilesize,tileHeight:h.layer[0].tilesize,format:g.WELTMEISTER});return p.layers=f(h,u),p.tilesets=l(h),p};C.exports=o},52833:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ParseTileLayers:s(6656),ParseTilesets:s(96483),ParseWeltmeister:s(87021)}},57442:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={FromOrientationString:s(6641),Parse:s(46177),Parse2DArray:s(2342),ParseCSV:s(82593),Impact:s(52833),Tiled:s(96761)}},51233:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=function(f){for(var l,o,r,h,u,a=0;a<f.layers.length;a++){l=f.layers[a],h=null;for(var d=0;d<l.data.length;d++){u=l.data[d];for(var c=0;c<u.length;c++)o=u[c],!(o===null||o.index<0)&&(r=f.tiles[o.index][2],h=f.tilesets[r],o.width=h.tileWidth,o.height=h.tileHeight,h.tileProperties&&h.tileProperties[o.index-h.firstgid]&&(o.properties=g(o.properties,h.tileProperties[o.index-h.firstgid])))}}};C.exports=y},41868:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=window.atob(s),y=g.length,f=new Array(y/4),l=0;l<y;l+=4)f[l/4]=(g.charCodeAt(l)|g.charCodeAt(l+1)<<8|g.charCodeAt(l+2)<<16|g.charCodeAt(l+3)<<24)>>>0;return f};C.exports=A},84101:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33629),y=function(f){var l,o,r=[];for(l=0;l<f.imageCollections.length;l++)for(var h=f.imageCollections[l],u=h.images,a=0;a<u.length;a++){var d=u[a],c={x:0,y:d.height-f.tileHeight};o=new g(d.image,d.gid,d.width,d.height,0,0,void 0,void 0,c),o.updateTileData(d.width,d.height),f.tilesets.push(o)}for(l=0;l<f.tilesets.length;l++){o=f.tilesets[l];for(var p=o.tileMargin,v=o.tileMargin,m=0,T=0,E=0,P=o.firstgid;P<o.firstgid+o.total&&(r[P]=[p,v,l],p+=o.tileWidth+o.tileSpacing,m++,!(m===o.total||(T++,T===o.columns&&(p=o.tileMargin,v+=o.tileHeight+o.tileSpacing,T=0,E++,E===o.rows))));P++);}return r};C.exports=y},79677:(C,A,s)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=function(f,l,o){if(!l)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var r=l.x+g(l,"startx",0)*f.tilewidth+g(l,"offsetx",0),h=l.y+g(l,"starty",0)*f.tileheight+g(l,"offsety",0);return{i:0,layers:l.layers,name:o.name+l.name+"/",opacity:o.opacity*l.opacity,visible:o.visible&&l.visible,x:o.x+r,y:o.y+h}};C.exports=y},29920:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=2147483648,s=1073741824,g=536870912,y=function(f){var l=!!(f&A),o=!!(f&s),r=!!(f&g);f=f&536870911;var h=0,u=!1;return l&&o&&r?(h=Math.PI/2,u=!0):l&&o&&!r?(h=Math.PI,u=!1):l&&!o&&r?(h=Math.PI/2,u=!1):l&&!o&&!r?(h=0,u=!0):!l&&o&&r?(h=3*Math.PI/2,u=!1):!l&&o&&!r?(h=Math.PI,u=!0):!l&&!o&&r?(h=3*Math.PI/2,u=!0):!l&&!o&&!r&&(h=0,u=!1),{gid:f,flippedHorizontal:l,flippedVertical:o,flippedAntiDiagonal:r,rotation:h,flipped:u}};C.exports=y},12635:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=s(79677),f=function(l){for(var o=[],r=[],h=y(l);h.i<h.layers.length||r.length>0;){if(h.i>=h.layers.length){if(r.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}h=r.pop();continue}var u=h.layers[h.i];if(h.i++,u.type!=="imagelayer"){if(u.type==="group"){var a=y(l,u,h);r.push(h),h=a}continue}var d=g(u,"offsetx",0)+g(u,"startx",0),c=g(u,"offsety",0)+g(u,"starty",0);o.push({name:h.name+u.name,image:u.image,x:h.x+d+u.x,y:h.y+c+u.y,alpha:h.opacity*u.opacity,visible:h.visible&&u.visible,properties:g(u,"properties",{})})}return o};C.exports=f},46594:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(51233),y=s(84101),f=s(91907),l=s(62644),o=s(80341),r=s(6641),h=s(87010),u=s(12635),a=s(22611),d=s(28200),c=s(24619),p=function(v,m,T){var E=l(m),P=new h({width:E.width,height:E.height,name:v,tileWidth:E.tilewidth,tileHeight:E.tileheight,orientation:r(E.orientation),format:o.TILED_JSON,version:E.version,properties:E.properties,renderOrder:E.renderorder,infinite:E.infinite});if(P.orientation===f.HEXAGONAL)if(P.hexSideLength=E.hexsidelength,P.staggerAxis=E.staggeraxis,P.staggerIndex=E.staggerindex,P.staggerAxis==="y"){var w=(P.tileHeight-P.hexSideLength)/2;P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+w)+w}else{var R=(P.tileWidth-P.hexSideLength)/2;P.widthInPixels=P.width*(P.hexSideLength+R)+R,P.heightInPixels=P.tileHeight*(P.height+.5)}P.layers=d(E,T),P.images=u(E);var L=c(E);return P.tilesets=L.tilesets,P.imageCollections=L.imageCollections,P.objects=a(E),P.tiles=y(P),g(P),P};C.exports=p},52205:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(18254),y=s(29920),f=function(r){return{x:r.x,y:r.y}},l=["id","name","type","rotation","properties","visible","x","y","width","height"],o=function(r,h,u){h===void 0&&(h=0),u===void 0&&(u=0);var a=g(r,l);if(a.x+=h,a.y+=u,r.gid){var d=y(r.gid);a.gid=d.gid,a.flippedHorizontal=d.flippedHorizontal,a.flippedVertical=d.flippedVertical,a.flippedAntiDiagonal=d.flippedAntiDiagonal}else r.polyline?a.polyline=r.polyline.map(f):r.polygon?a.polygon=r.polygon.map(f):r.ellipse?a.ellipse=r.ellipse:r.text?a.text=r.text:r.point?a.point=!0:a.rectangle=!0;return a};C.exports=o},22611:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=s(52205),f=s(48700),l=s(79677),o=function(r){for(var h=[],u=[],a=l(r);a.i<a.layers.length||u.length>0;){if(a.i>=a.layers.length){if(u.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=u.pop();continue}var d=a.layers[a.i];if(a.i++,d.opacity*=a.opacity,d.visible=a.visible&&d.visible,d.type!=="objectgroup"){if(d.type==="group"){var c=l(r,d,a);u.push(a),a=c}continue}d.name=a.name+d.name;for(var p=a.x+g(d,"startx",0)+g(d,"offsetx",0),v=a.y+g(d,"starty",0)+g(d,"offsety",0),m=[],T=0;T<d.objects.length;T++){var E=y(d.objects[T],p,v);m.push(E)}var P=new f(d);P.objects=m,h.push(P)}return h};C.exports=o},28200:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41868),y=s(91907),f=s(79677),l=s(6641),o=s(95540),r=s(14977),h=s(29920),u=s(23029),a=function(d,c){for(var p=o(d,"infinite",!1),v=[],m=[],T=f(d);T.i<T.layers.length||m.length>0;){if(T.i>=T.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}T=m.pop();continue}var E=T.layers[T.i];if(T.i++,E.type!=="tilelayer"){if(E.type==="group"){var P=f(d,E,T);m.push(T),T=P}continue}if(E.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+E.name+"'");continue}else if(E.encoding&&E.encoding==="base64"){if(E.chunks)for(var w=0;w<E.chunks.length;w++)E.chunks[w].data=g(E.chunks[w].data);E.data&&(E.data=g(E.data)),delete E.encoding}var R,L,O,I,F,B,G=[],z=0;if(p){var Y=o(E,"startx",0)+E.x,J=o(E,"starty",0)+E.y;R=new r({name:T.name+E.name,id:E.id,x:T.x+o(E,"offsetx",0)+Y*d.tilewidth,y:T.y+o(E,"offsety",0)+J*d.tileheight,width:E.width,height:E.height,tileWidth:d.tilewidth,tileHeight:d.tileheight,alpha:T.opacity*E.opacity,visible:T.visible&&E.visible,properties:o(E,"properties",[]),orientation:l(d.orientation)}),R.orientation===y.HEXAGONAL&&(R.hexSideLength=d.hexsidelength,R.staggerAxis=d.staggeraxis,R.staggerIndex=d.staggerindex,R.staggerAxis==="y"?(F=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+F)+F):(B=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+B)+B,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var $=0;$<E.height;$++){G[$]=[null];for(var j=0;j<E.width;j++)G[$][j]=null}for($=0,ft=E.chunks.length;$<ft;$++)for(var X=E.chunks[$],H=X.x-Y,N=X.y-J,Q=0,U=0,q=X.data.length;U<q;U++){var et=z+H,it=Q+N;L=h(X.data[U]),L.gid>0?(O=new u(R,L.gid,et,it,d.tilewidth,d.tileheight),O.rotation=L.rotation,O.flipX=L.flipped,G[it][et]=O):(I=c?null:new u(R,-1,et,it,d.tilewidth,d.tileheight),G[it][et]=I),z++,z===X.width&&(Q++,z=0)}}else{R=new r({name:T.name+E.name,id:E.id,x:T.x+o(E,"offsetx",0)+E.x,y:T.y+o(E,"offsety",0)+E.y,width:E.width,height:E.height,tileWidth:d.tilewidth,tileHeight:d.tileheight,alpha:T.opacity*E.opacity,visible:T.visible&&E.visible,properties:o(E,"properties",[]),orientation:l(d.orientation)}),R.orientation===y.HEXAGONAL&&(R.hexSideLength=d.hexsidelength,R.staggerAxis=d.staggeraxis,R.staggerIndex=d.staggerindex,R.staggerAxis==="y"?(F=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+F)+F):(B=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+B)+B,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var rt=[],lt=0,ft=E.data.length;lt<ft;lt++)L=h(E.data[lt]),L.gid>0?(O=new u(R,L.gid,z,G.length,d.tilewidth,d.tileheight),O.rotation=L.rotation,O.flipX=L.flipped,rt.push(O)):(I=c?null:new u(R,-1,z,G.length,d.tilewidth,d.tileheight),rt.push(I)),z++,z===E.width&&(G.push(rt),z=0,rt=[])}R.data=G,v.push(R)}return v};C.exports=a},24619:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33629),y=s(16536),f=s(52205),l=s(57880),o=function(r){for(var h=[],u=[],a=null,d,c=0;c<r.tilesets.length;c++){var p=r.tilesets[c];if(p.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(p.image){var v=new g(p.name,p.firstgid,p.tilewidth,p.tileheight,p.margin,p.spacing,void 0,void 0,p.tileoffset);if(r.version>1){var m=void 0,T=void 0;if(Array.isArray(p.tiles)){m=m||{},T=T||{};for(var E=0;E<p.tiles.length;E++){var P=p.tiles[E];if(P.properties){var w={};P.properties.forEach(function($){w[$.name]=$.value}),T[P.id]=w}if(P.objectgroup&&((m[P.id]||(m[P.id]={})).objectgroup=P.objectgroup,P.objectgroup.objects)){var R=P.objectgroup.objects.map(function($){return f($)});m[P.id].objectgroup.objects=R}P.animation&&((m[P.id]||(m[P.id]={})).animation=P.animation),P.type&&((m[P.id]||(m[P.id]={})).type=P.type)}}Array.isArray(p.wangsets)&&(m=m||{},T=T||{},l(p.wangsets,m)),m&&(v.tileData=m,v.tileProperties=T)}else if(p.tileproperties&&(v.tileProperties=p.tileproperties),p.tiles){v.tileData=p.tiles;for(d in v.tileData){var L=v.tileData[d].objectgroup;if(L&&L.objects){var O=L.objects.map(function($){return f($)});v.tileData[d].objectgroup.objects=O}}}v.updateTileData(p.imagewidth,p.imageheight),h.push(v)}else{var I=new y(p.name,p.firstgid,p.tilewidth,p.tileheight,p.margin,p.spacing,p.properties),F=0;for(E=0;E<p.tiles.length;E++){P=p.tiles[E];var B=P.image,G=parseInt(P.id,10),z=p.firstgid+G,Y=P.imagewidth,J=P.imageheight;I.addImage(z,B,Y,J),F=Math.max(G,F)}I.maxId=F,u.push(I)}a&&(a.lastgid=p.firstgid-1),a=p}return{tilesets:h,imageCollections:u}};C.exports=o},57880:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){for(var y=0;y<s.length;y++){var f=s[y],l=y;if(f.name&&f.name!==""&&(l=f.name),Array.isArray(f.wangtiles)&&f.wangtiles.length>0){var o={},r={},h,u,a;if(Array.isArray(f.edgecolors))for(h=0;h<f.edgecolors.length;h++)a=1+h,u=f.edgecolors[h],u.name!==""&&(o[a]=u.name);if(Array.isArray(f.cornercolors))for(h=0;h<f.cornercolors.length;h++)a=1+h,u=f.cornercolors[h],u.name!==""&&(r[a]=u.name);if(Array.isArray(f.colors))for(h=0;h<f.colors.length;h++)u=f.colors[h],a=1+h,u.name!==""&&(o[a]=r[a]=u.name);for(var d=[o,r,o,r,o,r,o,r],c=0;c<f.wangtiles.length;c++){var p=f.wangtiles[c],v=g[p.tileid]||(g[p.tileid]={});v=v.wangid||(v.wangid={});for(var m=[],T=0;T<Math.min(d.length,p.wangid.length);T++){if(u=p.wangid[T],u===0){m.push(void 0);continue}var E=d[T][u];if(E!==void 0){m.push(E);continue}m.push(u)}v[l]=m}}}};C.exports=A},96761:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AssignTileProperties:s(51233),Base64Decode:s(41868),BuildTilesetIndex:s(84101),CreateGroupLayer:s(79677),ParseGID:s(29920),ParseImageLayers:s(12635),ParseJSONTiled:s(46594),ParseObject:s(52205),ParseObjectLayers:s(22611),ParseTileLayers:s(28200),ParseTilesets:s(24619)}},33385:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(37277),f=s(44594),l=s(94880),o=s(72905),r=new g({initialize:function(u){this.scene=u,this.systems=u.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],u.sys.events.once(f.BOOT,this.boot,this),u.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var h=this.systems.events;h.on(f.PRE_UPDATE,this.preUpdate,this),h.on(f.UPDATE,this.update,this),h.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(h){var u;if(h instanceof l){if(u=h,this.removeEvent(u),u.elapsed=u.startAt,u.hasDispatched=!1,u.repeatCount=u.repeat===-1||u.loop?999999999999:u.repeat,u.delay<=0&&u.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else u=new l(h);return this._pendingInsertion.push(u),u},delayedCall:function(h,u,a,d){return this.addEvent({delay:h,callback:u,args:a,callbackScope:d})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(h){Array.isArray(h)||(h=[h]);for(var u=0;u<h.length;u++){var a=h[u];o(this._pendingRemoval,a),o(this._pendingInsertion,a),o(this._active,a)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var h=this._pendingRemoval.length,u=this._pendingInsertion.length;if(!(h===0&&u===0)){var a,d;for(a=0;a<h;a++){d=this._pendingRemoval[a];var c=this._active.indexOf(d);c>-1&&this._active.splice(c,1),d.destroy()}for(a=0;a<u;a++)d=this._pendingInsertion[a],this._active.push(d);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(h,u){if(this.now=h,!this.paused){u*=this.timeScale;for(var a=0;a<this._active.length;a++){var d=this._active[a];if(!d.paused&&(d.elapsed+=u*d.timeScale,d.elapsed>=d.delay)){var c=d.elapsed-d.delay;if(d.elapsed=d.delay,!d.hasDispatched&&d.callback&&(d.hasDispatched=!0,d.callback.apply(d.callbackScope,d.args)),d.repeatCount>0){if(d.repeatCount--,c>=d.delay)for(;c>=d.delay&&d.repeatCount>0;)d.callback&&d.callback.apply(d.callbackScope,d.args),c-=d.delay,d.repeatCount--;d.elapsed=c,d.hasDispatched=!1}else d.hasDispatched&&this._pendingRemoval.push(d)}}}},shutdown:function(){var h;for(h=0;h<this._pendingInsertion.length;h++)this._pendingInsertion[h].destroy();for(h=0;h<this._active.length;h++)this._active[h].destroy();for(h=0;h<this._pendingRemoval.length;h++)this._pendingRemoval[h].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var u=this.systems.events;u.off(f.PRE_UPDATE,this.preUpdate,this),u.off(f.UPDATE,this.update,this),u.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});y.register("Clock",r,"time"),C.exports=r},96120:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(39429),l=s(95540),o=s(44594),r=s(89809),h=new g({Extends:y,initialize:function(a,d){y.call(this),this.scene=a,this.systems=a.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var c=this.systems.events;c.on(o.PRE_UPDATE,this.preUpdate,this),c.on(o.UPDATE,this.update,this),c.once(o.SHUTDOWN,this.destroy,this),d&&this.add(d)},preUpdate:function(u,a){this.paused||(this.elapsed+=a*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var u,a=this.events,d=!1,c=this.systems,p;for(u=0;u<a.length;u++){var v=a[u];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,p=v.target?v.target:this,v.if&&!v.if.call(p,v))continue;if(v.once&&(d=!0),v.set&&v.target)for(var m in v.set)v.target[m]=v.set[m];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(p),v.tween&&(v.tweenInstance=c.tweens.add(v.tween)),v.sound&&(typeof v.sound=="string"?c.sound.play(v.sound):c.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,p),v.run&&v.run.call(p),v.stop&&this.stop()}}if(d)for(u=0;u<a.length;u++)a[u].complete&&a[u].once&&(a.splice(u,1),u--);this.totalComplete>=a.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(r.COMPLETE,this)}},play:function(u){return u===void 0&&(u=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,u&&this.reset(),this},pause:function(){this.paused=!0;for(var u=this.events,a=0;a<u.length;a++){var d=u[a];d.tweenInstance&&(d.tweenInstance.paused=!0)}return this},repeat:function(u){return(u===void 0||u===!0)&&(u=-1),u===!1&&(u=0),this.loop=u,this},resume:function(){this.paused=!1;for(var u=this.events,a=0;a<u.length;a++){var d=u[a];d.tweenInstance&&(d.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(u){u===void 0&&(u=!1),this.elapsed=0,u||(this.iteration=0);for(var a=this.events,d=0;d<a.length;d++){var c=a[d];c.complete=!1,u||(c.repeat=0),c.tweenInstance&&c.tweenInstance.stop()}return this.play(!1)},add:function(u){Array.isArray(u)||(u=[u]);var a=this.events,d=0;a.length>0&&(d=a[a.length-1].time);for(var c=0;c<u.length;c++){var p=u[c],v=l(p,"at",0),m=l(p,"in",null);m!==null&&(v=this.elapsed+m);var T=l(p,"from",null);T!==null&&(v=d+T),a.push({complete:!1,time:v,repeat:0,if:l(p,"if",null),run:l(p,"run",null),loop:l(p,"loop",null),event:l(p,"event",null),target:l(p,"target",null),set:l(p,"set",null),tween:l(p,"tween",null),sound:l(p,"sound",null),once:l(p,"once",!1),stop:l(p,"stop",!1)}),d=v}return this.complete=!1,this},clear:function(){for(var u=this.events,a=0;a<u.length;a++){var d=u[a];d.tweenInstance&&d.tweenInstance.stop()}return u=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var u=Math.min(this.totalComplete,this.events.length);return u/this.events.length},destroy:function(){var u=this.systems.events;u.off(o.PRE_UPDATE,this.preUpdate,this),u.off(o.UPDATE,this.update,this),u.off(o.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});f.register("timeline",function(u){return new h(this.scene,u)}),C.exports=h},94880:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=new g({initialize:function(o){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(o)},reset:function(l){if(this.delay=y(l,"delay",0),this.repeat=y(l,"repeat",0),this.loop=y(l,"loop",!1),this.callback=y(l,"callback",void 0),this.callbackScope=y(l,"callbackScope",this),this.args=y(l,"args",[]),this.timeScale=y(l,"timeScale",1),this.startAt=y(l,"startAt",0),this.paused=y(l,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var l=this.delay+this.delay*this.repeat,o=this.elapsed+this.delay*(this.repeat-this.repeatCount);return o/l}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(l){l===void 0&&(l=!1),this.elapsed=this.delay,this.hasDispatched=!l,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});C.exports=f},35945:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},89809:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={COMPLETE:s(35945)}},90291:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Clock:s(33385),Events:s(89809),Timeline:s(96120),TimerEvent:s(94880)}},40382:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(72905),y=s(83419),f=s(43491),l=s(88032),o=s(37277),r=s(44594),h=s(93109),u=s(86081),a=s(8357),d=s(43960),c=s(26012),p=new y({initialize:function(m){this.scene=m,this.events=m.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(r.UPDATE,this.update,this),this.events.once(r.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var m=[],T=0;T<v.length;T++){var E=v[T];E instanceof u||E instanceof d?m.push(E):Array.isArray(E.tweens)?m.push(c(this,E)):m.push(a(this,E))}return m.length===1?m[0]:m},add:function(v){var m=v,T=this.tweens;return m instanceof u||m instanceof d||(Array.isArray(m.tweens)?m=c(this,m):m=a(this,m)),T.push(m.reset()),m},addMultiple:function(v){for(var m,T=[],E=this.tweens,P=0;P<v.length;P++)m=v[P],m instanceof u||m instanceof d||(Array.isArray(m.tweens)?m=c(this,m):m=a(this,m)),E.push(m.reset()),T.push(m);return T},chain:function(v){var m=c(this,v);return this.tweens.push(m.init()),m},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var m=l(this,v);return this.tweens.push(m.reset()),m},stagger:function(v,m){return h(v,m)},setLagSmooth:function(v,m){return v===void 0&&(v=1/1e-8),m===void 0&&(m=0),this.maxLag=v,this.lagSkip=Math.min(m,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var m=Date.now()-this.prevTime;m>this.maxLag&&(this.startTime+=m-this.lagSkip),this.prevTime+=m;var T=this.prevTime-this.startTime,E=T-this.nextTime,P=T-this.time*1e3;return E>0||v?(T/=1e3,this.time=T,this.nextTime+=E+(E>=this.gap?4:this.gap-E)):P=0,P},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var m=this.getDelta(v);if(!(m<=0)){this.processing=!0;var T,E,P=[],w=this.tweens;for(T=0;T<w.length;T++)E=w[T],E.update(m)&&P.push(E);var R=P.length;if(R&&w.length>0){for(T=0;T<R;T++){E=P[T];var L=w.indexOf(E);L>-1&&(E.isPendingRemove()||E.isDestroyed())&&(w.splice(L,1),E.destroy())}P.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(g(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,m){var T,E=[null];for(T=1;T<arguments.length;T++)E.push(arguments[T]);return this.tweens.forEach(function(P){E[0]=P,v.apply(m,E)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var m=[],T=this.tweens;Array.isArray(v)?v=f(v):v=[v];for(var E=v.length,P=0;P<T.length;P++)for(var w=T[P],R=0;R<E;R++)!w.isDestroyed()&&w.hasTarget(v[R])&&m.push(w);return m},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var m=this.tweens,T,E=0;E<m.length;E++)if(T=m[E],T.isPlaying()&&T.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,m=0;m<v.length;m++)v[m].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var m=this.getTweensOf(v),T=0;T<m.length;T++)m[T].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(r.UPDATE,this.update,this),this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.events=null}});o.register("TweenManager",p,"tweens"),C.exports=p},57355:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s&&s.hasOwnProperty(g)?s[g]:y};C.exports=A},6113:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62640),y=s(35355),f=function(l,o){var r=g.Power0;if(typeof l=="string")if(g.hasOwnProperty(l))r=g[l];else{var h="";if(l.indexOf(".")){h=l.substring(l.indexOf(".")+1);var u=h.toLowerCase();u==="in"?h="easeIn":u==="out"?h="easeOut":u==="inout"&&(h="easeInOut")}l=y(l.substring(0,l.indexOf(".")+1)+h),g.hasOwnProperty(l)&&(r=g[l])}else typeof l=="function"&&(r=l);if(!o)return r;var a=o.slice(0);return a.unshift(0),function(d){return a[0]=d,r.apply(this,a)}};C.exports=f},91389:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(89318),y=s(77259),f=s(28392),l={bezier:g,catmull:y,catmullrom:y,linear:f},o=function(r){if(r===null)return null;var h=l.linear;return typeof r=="string"?l.hasOwnProperty(r)&&(h=l[r]):typeof r=="function"&&(h=r),h};C.exports=o},55292:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f;if(s.hasOwnProperty(g)){var l=typeof s[g];l==="function"?f=function(o,r,h,u,a,d){return s[g](o,r,h,u,a,d)}:f=function(){return s[g]}}else typeof y=="function"?f=y:f=function(){return y};return f};C.exports=A},82985:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(81076),y=function(f){var l,o=[];if(f.hasOwnProperty("props"))for(l in f.props)l.substring(0,1)!=="_"&&o.push({key:l,value:f.props[l]});else for(l in f)g.indexOf(l)===-1&&l.substring(0,1)!=="_"&&o.push({key:l,value:f[l]});return o};C.exports=y},62329:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35154),y=function(f){var l=g(f,"targets",null);return l===null||(typeof l=="function"&&(l=l.call()),Array.isArray(l)||(l=[l])),l};C.exports=y},17777:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30976),y=s(99472);function f(u){return!!u.getActive&&typeof u.getActive=="function"}function l(u){return!!u.getStart&&typeof u.getStart=="function"}function o(u){return!!u.getEnd&&typeof u.getEnd=="function"}function r(u){return l(u)||o(u)||f(u)}var h=function(u,a){var d,c=function($,j,X){return X},p=function($,j,X){return X},v=null,m=typeof a;if(m==="number")c=function(){return a};else if(Array.isArray(a))p=function(){return a[0]},c=function(){return a[a.length-1]};else if(m==="string"){var T=a.toLowerCase(),E=T.substring(0,6)==="random",P=T.substring(0,3)==="int";if(E||P){var w=T.indexOf("("),R=T.indexOf(")"),L=T.indexOf(",");if(w&&R&&L){var O=parseFloat(T.substring(w+1,L)),I=parseFloat(T.substring(L+1,R));E?c=function(){return y(O,I)}:c=function(){return g(O,I)}}else throw new Error("invalid random() format")}else{T=T[0];var F=parseFloat(a.substr(2));switch(T){case"+":c=function($,j,X){return X+F};break;case"-":c=function($,j,X){return X-F};break;case"*":c=function($,j,X){return X*F};break;case"/":c=function($,j,X){return X/F};break;default:c=function(){return parseFloat(a)}}}}else if(m==="function")c=a;else if(m==="object")if(r(a))f(a)&&(v=a.getActive),o(a)&&(c=a.getEnd),l(a)&&(p=a.getStart);else if(a.hasOwnProperty("value"))d=h(u,a.value);else{var B=a.hasOwnProperty("to"),G=a.hasOwnProperty("from"),z=a.hasOwnProperty("start");if(B&&(G||z)){if(d=h(u,a.to),z){var Y=h(u,a.start);d.getActive=Y.getEnd}if(G){var J=h(u,a.from);d.getStart=J.getEnd}}}return d||(d={getActive:v,getEnd:c,getStart:p}),d};C.exports=h},88032:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70402),y=s(69902),f=s(23568),l=s(57355),o=s(6113),r=s(95540),h=s(55292),u=s(35154),a=s(17777),d=s(269),c=s(86081),p=function(v,m,T){if(m instanceof c)return m.parent=v,m;T===void 0?T=y:T=d(y,T);var E=r(m,"from",0),P=r(m,"to",1),w=[{value:E}],R=r(m,"delay",T.delay),L=r(m,"easeParams",T.easeParams),O=r(m,"ease",T.ease),I=a("value",P),F=new c(v,w),B=F.add(0,"value",I.getEnd,I.getStart,I.getActive,o(r(m,"ease",O),r(m,"easeParams",L)),h(m,"delay",R),r(m,"duration",T.duration),l(m,"yoyo",T.yoyo),r(m,"hold",T.hold),r(m,"repeat",T.repeat),r(m,"repeatDelay",T.repeatDelay),!1,!1);B.start=E,B.current=E,F.completeDelay=f(m,"completeDelay",0),F.loop=Math.round(f(m,"loop",0)),F.loopDelay=Math.round(f(m,"loopDelay",0)),F.paused=l(m,"paused",!1),F.persist=l(m,"persist",!1),F.isNumberTween=!0,F.callbackScope=u(m,"callbackScope",F);for(var G=g.TYPES,z=0;z<G.length;z++){var Y=G[z],J=u(m,Y,!1);if(J){var $=u(m,Y+"Params",[]);F.setCallback(Y,J,$)}}return F};C.exports=p},93109:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6113),y=s(35154),f=s(36383),l=function(o,r){r===void 0&&(r={});var h,u=y(r,"start",0),a=y(r,"ease",null),d=y(r,"grid",null),c=y(r,"from",0),p=c==="first",v=c==="center",m=c==="last",T=typeof c=="number",E=Array.isArray(o),P=parseFloat(E?o[0]:o),w=E?parseFloat(o[1]):0,R=Math.max(P,w);if(E&&(u+=P),d){var L=d[0],O=d[1],I=0,F=0,B=0,G=0,z=[];m?(I=L-1,F=O-1):T?(I=c%L,F=Math.floor(c/L)):v&&(I=(L-1)/2,F=(O-1)/2);for(var Y=f.MIN_SAFE_INTEGER,J=0;J<O;J++){z[J]=[];for(var $=0;$<L;$++){B=I-$,G=F-J;var j=Math.sqrt(B*B+G*G);j>Y&&(Y=j),z[J][$]=j}}}var X=a?g(a):null;return d?h=function(H,N,Q,U){var q=0,et=U%L,it=Math.floor(U/L);et>=0&&et<L&&it>=0&&it<O&&(q=z[it][et]);var rt;if(E){var lt=w-P;X?rt=q/Y*lt*X(q/Y):rt=q/Y*lt}else X?rt=q*P*X(q/Y):rt=q*P;return rt+u}:h=function(H,N,Q,U,q){q--;var et;p?et=U:v?et=Math.abs(q/2-U):m?et=q-U:T&&(et=Math.abs(c-U));var it;if(E){var rt;v?rt=(w-P)/q*(et*2):rt=(w-P)/q*et,X?it=rt*X(et/q):it=rt}else X?it=q*R*X(et/q):it=et*P;return it+u},h};C.exports=l},8357:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70402),y=s(69902),f=s(23568),l=s(57355),o=s(6113),r=s(95540),h=s(91389),u=s(55292),a=s(82985),d=s(62329),c=s(35154),p=s(17777),v=s(269),m=s(86081),T=function(E,P,w){if(P instanceof m)return P.parent=E,P;w===void 0?w=y:w=v(y,w);var R=d(P);!R&&w.targets&&(R=w.targets);for(var L=a(P),O=r(P,"delay",w.delay),I=r(P,"duration",w.duration),F=r(P,"easeParams",w.easeParams),B=r(P,"ease",w.ease),G=r(P,"hold",w.hold),z=r(P,"repeat",w.repeat),Y=r(P,"repeatDelay",w.repeatDelay),J=l(P,"yoyo",w.yoyo),$=l(P,"flipX",w.flipX),j=l(P,"flipY",w.flipY),X=r(P,"interpolation",w.interpolation),H=function(vt,xt,yt,Ct){if(yt==="texture"){var Rt=Ct,bt=void 0;Array.isArray(Ct)?(Rt=Ct[0],bt=Ct[1]):Ct.hasOwnProperty("value")?(Rt=Ct.value,Array.isArray(Ct.value)?(Rt=Ct.value[0],bt=Ct.value[1]):typeof Ct.value=="string"&&(Rt=Ct.value)):typeof Ct=="string"&&(Rt=Ct),vt.addFrame(xt,Rt,bt,u(Ct,"delay",O),r(Ct,"duration",I),r(Ct,"hold",G),r(Ct,"repeat",z),r(Ct,"repeatDelay",Y),l(Ct,"flipX",$),l(Ct,"flipY",j))}else{var Lt=p(yt,Ct),St=h(r(Ct,"interpolation",X));vt.add(xt,yt,Lt.getEnd,Lt.getStart,Lt.getActive,o(r(Ct,"ease",B),r(Ct,"easeParams",F)),u(Ct,"delay",O),r(Ct,"duration",I),l(Ct,"yoyo",J),r(Ct,"hold",G),r(Ct,"repeat",z),r(Ct,"repeatDelay",Y),l(Ct,"flipX",$),l(Ct,"flipY",j),St,St?Ct:null)}},N=new m(E,R),Q=0;Q<L.length;Q++)for(var U=L[Q].key,q=L[Q].value,et=0;et<R.length;et++)U==="scale"&&!R[et].hasOwnProperty("scale")?(H(N,et,"scaleX",q),H(N,et,"scaleY",q)):H(N,et,U,q);N.completeDelay=f(P,"completeDelay",0),N.loop=Math.round(f(P,"loop",0)),N.loopDelay=Math.round(f(P,"loopDelay",0)),N.paused=l(P,"paused",!1),N.persist=l(P,"persist",!1),N.callbackScope=r(P,"callbackScope",N);for(var it=g.TYPES,rt=0;rt<it.length;rt++){var lt=it[rt],ft=c(P,lt,!1);if(ft){var gt=c(P,lt+"Params",[]);N.setCallback(lt,ft,gt)}}return N};C.exports=T},26012:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70402),y=s(23568),f=s(57355),l=s(62329),o=s(35154),r=s(8357),h=s(43960),u=function(a,d){if(d instanceof h)return d.parent=a,d;var c=new h(a);c.startDelay=o(d,"delay",0),c.completeDelay=y(d,"completeDelay",0),c.loop=Math.round(y(d,"loop",o(d,"repeat",0))),c.loopDelay=Math.round(y(d,"loopDelay",o(d,"repeatDelay",0))),c.paused=f(d,"paused",!1),c.persist=f(d,"persist",!1),c.callbackScope=o(d,"callbackScope",c);var p,v=g.TYPES;for(p=0;p<v.length;p++){var m=v[p],T=o(d,m,!1);if(T){var E=o(d,m+"Params",[]);c.setCallback(m,T,E)}}var P=o(d,"tweens",null);if(Array.isArray(P)){var w=[],R=l(d),L=void 0;for(R&&(L={targets:R}),p=0;p<P.length;p++)w.push(r(c,P[p],L));c.add(w)}return c};C.exports=u},30231:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={GetBoolean:s(57355),GetEaseFunction:s(6113),GetInterpolationFunction:s(91389),GetNewValue:s(55292),GetProps:s(82985),GetTargets:s(62329),GetValueOp:s(17777),NumberTweenBuilder:s(88032),StaggerBuilder:s(93109),TweenBuilder:s(8357)}},73685:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="active"},98540:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},67233:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loop"},2859:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},98336:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="repeat"},25764:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},32193:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},84371:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stop"},70766:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="update"},55659:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="yoyo"},842:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={TWEEN_ACTIVE:s(73685),TWEEN_COMPLETE:s(98540),TWEEN_LOOP:s(67233),TWEEN_PAUSE:s(2859),TWEEN_RESUME:s(25764),TWEEN_REPEAT:s(98336),TWEEN_START:s(32193),TWEEN_STOP:s(84371),TWEEN_UPDATE:s(70766),TWEEN_YOYO:s(55659)}},43066:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={States:s(86353),Builders:s(30231),Events:s(842),TweenManager:s(40382),Tween:s(86081),TweenData:s(48177),TweenFrameData:s(42220),BaseTween:s(70402),TweenChain:s(43960)};C.exports=g},70402:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(842),l=s(86353),o=new g({Extends:y,initialize:function(h){y.call(this),this.parent=h,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=l.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(r){return this.timeScale=r,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(f.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(f.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(f.TWEEN_COMPLETE,"onComplete")},complete:function(r){return r===void 0&&(r=0),r?(this.setCompleteDelayState(),this.countdown=r):this.onCompleteHandler(),this},completeAfterLoop:function(r){return r===void 0&&(r=0),this.loopCounter>r&&(this.loopCounter=r),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(f.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(r){this.countdown-=r,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(r){return this.countdown-=r,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(f.TWEEN_START,"onStart"),r=0),r},updateCompleteDelay:function(r){this.countdown-=r,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(r,h,u){return u===void 0&&(u=[]),this.callbacks.hasOwnProperty(r)&&(this.callbacks[r]={func:h,params:u}),this},setPendingState:function(){this.state=l.PENDING},setActiveState:function(){this.state=l.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=l.LOOP_DELAY},setCompleteDelayState:function(){this.state=l.COMPLETE_DELAY},setStartDelayState:function(){this.state=l.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=l.PENDING_REMOVE},setRemovedState:function(){this.state=l.REMOVED},setFinishedState:function(){this.state=l.FINISHED},setDestroyedState:function(){this.state=l.DESTROYED},isPending:function(){return this.state===l.PENDING},isActive:function(){return this.state===l.ACTIVE},isLoopDelayed:function(){return this.state===l.LOOP_DELAY},isCompleteDelayed:function(){return this.state===l.COMPLETE_DELAY},isStartDelayed:function(){return this.state===l.START_DELAY},isPendingRemove:function(){return this.state===l.PENDING_REMOVE},isRemoved:function(){return this.state===l.REMOVED},isFinished:function(){return this.state===l.FINISHED},isDestroyed:function(){return this.state===l.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(r){r.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});o.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],C.exports=o},95042:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(842),f=s(86353),l=new g({initialize:function(r,h,u,a,d,c,p,v,m,T){this.tween=r,this.targetIndex=h,this.duration=a<=0?.01:a,this.totalDuration=0,this.delay=0,this.getDelay=u,this.yoyo=d,this.hold=c,this.repeat=p,this.repeatDelay=v,this.repeatCounter=0,this.flipX=m,this.flipY=T,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(o){o===void 0&&(o=this.current),this.tween.targets[this.targetIndex][this.key]=o},setCreatedState:function(){this.state=f.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=f.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=f.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=f.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=f.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=f.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=f.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=f.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===f.CREATED},isDelayed:function(){return this.state===f.DELAY},isPendingRender:function(){return this.state===f.PENDING_RENDER},isPlayingForward:function(){return this.state===f.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===f.PLAYING_BACKWARD},isHolding:function(){return this.state===f.HOLD_DELAY},isRepeating:function(){return this.state===f.REPEAT_DELAY},isComplete:function(){return this.state===f.COMPLETE},setStateFromEnd:function(o){this.yoyo?this.onRepeat(o,!0,!0):this.repeatCounter>0?this.onRepeat(o,!0,!1):this.setCompleteState()},setStateFromStart:function(o){this.repeatCounter>0?this.onRepeat(o,!1):this.setCompleteState()},reset:function(){var o=this.tween,r=o.totalTargets,h=this.targetIndex,u=o.targets[h],a=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(u,a,0,h,r,o),this.repeatCounter=this.repeat===-1?f.MAX:this.repeat,this.setPendingRenderState();var d=this.duration+this.hold;this.yoyo&&(d+=this.duration);var c=d+this.repeatDelay;this.totalDuration=this.delay+d,this.repeat===-1?(this.totalDuration+=c*f.MAX,o.isInfinite=!0):this.repeat>0&&(this.totalDuration+=c*this.repeat),this.totalDuration>o.duration&&(o.duration=this.totalDuration),this.delay<o.startDelay&&(o.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(o,r,h){var u=this.tween,a=u.totalTargets,d=this.targetIndex,c=u.targets[d],p=this.key,v=p!=="texture";if(this.elapsed=o,this.progress=o/this.duration,this.flipX&&c.toggleFlipX(),this.flipY&&c.toggleFlipY(),v&&(r||h)&&(this.start=this.getStartValue(c,p,this.start,d,a,u)),h){this.setPlayingBackwardState(),this.dispatchEvent(y.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(c,p,this.start,d,a,u)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-o,v&&(this.current=this.start,c[p]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(y.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});C.exports=l},69902:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};C.exports=A},81076:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70402),y=s(83419),f=s(842),l=s(44603),o=s(39429),r=s(36383),h=s(86353),u=s(48177),a=s(42220),d=new y({Extends:g,initialize:function(p,v){g.call(this,p),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(c,p,v,m,T,E,P,w,R,L,O,I,F,B,G,z){var Y=new u(this,c,p,v,m,T,E,P,w,R,L,O,I,F,B,G,z);return this.totalData=this.data.push(Y),Y},addFrame:function(c,p,v,m,T,E,P,w,R,L){var O=new a(this,c,p,v,m,T,E,P,w,R,L);return this.totalData=this.data.push(O),O},getValue:function(c){c===void 0&&(c=0);var p=null;return this.data&&(p=this.data[c].current),p},hasTarget:function(c){return this.targets&&this.targets.indexOf(c)!==-1},updateTo:function(c,p,v){if(v===void 0&&(v=!1),c!=="texture")for(var m=0;m<this.totalData;m++){var T=this.data[m];T.key===c&&(T.isPlayingForward()||T.isPlayingBackward())&&(T.end=p,v&&(T.start=T.current))}return this},restart:function(){switch(this.state){case h.REMOVED:case h.FINISHED:this.seek(),this.parent.makeActive(this);break;case h.PENDING:case h.PENDING_REMOVE:this.parent.reset(this);break;case h.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,g.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(c,p,v){if(c===void 0&&(c=0),p===void 0&&(p=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive");var m=this.paused;if(this.paused=!1,c>0){for(var T=Math.floor(c/p),E=c-T*p,P=0;P<T;P++)this.update(p);E>0&&this.update(E)}return this.paused=m,this.isSeeking=!1,this},initTweenData:function(c){c===void 0&&(c=!1),this.duration=0,this.startDelay=r.MAX_SAFE_INTEGER;for(var p=this.data,v=0;v<this.totalData;v++)p[v].reset(c);this.duration=Math.max(this.duration,.01);var m=this.duration,T=this.completeDelay,E=this.loopCounter,P=this.loopDelay;E>0?this.totalDuration=m+T+(m+P)*E:this.totalDuration=m+T},reset:function(c){return c===void 0&&(c=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=h.MAX),c||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")),this},update:function(c){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(c*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(c),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(c),!1;this.hasStarted||(this.startDelay-=c,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(f.TWEEN_START,"onStart"),c=0));var p=!1;if(this.isActive())for(var v=this.data,m=0;m<this.totalData;m++)v[m].update(c)&&(p=!0);this.elapsed+=c,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=c,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),p||this.nextState();var T=this.isPendingRemove();return T&&this.persist&&(this.setFinishedState(),T=!1),T},forward:function(c){return this.update(c),this},rewind:function(c){return this.update(-c),this},dispatchEvent:function(c,p){if(!this.isSeeking){if(this.emit(c,this,this.targets),!this.callbacks)return;var v=this.callbacks[p];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){g.prototype.destroy.call(this),this.targets=null}});o.register("tween",function(c){return this.scene.sys.tweens.add(c)}),l.register("tween",function(c){return this.scene.sys.tweens.create(c)}),C.exports=d},43960:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(72905),y=s(70402),f=s(83419),l=s(842),o=s(44603),r=s(39429),h=s(86353),u=new f({Extends:y,initialize:function(d){y.call(this,d),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?h.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(a){var d=this.parent.create(a);Array.isArray(d)||(d=[d]);for(var c=this.data,p=0;p<d.length;p++){var v=d[p];v.parent=this,c.push(v.reset())}return this.totalData=c.length,this},remove:function(a){return g(this.data,a),a.setRemovedState(),a===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(a){for(var d=this.data,c=0;c<this.totalData;c++)if(d[c].hasTarget(a))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(a){return a.seek(),a.setActiveState(),this},makeActive:function(a){return a.reset(),a.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var a=this.data,d=this.totalData,c=0;c<d;c++)a[c].reset(!1);this.setCurrentTween(0)},update:function(a){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(a*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(a),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(a),!1;this.hasStarted||(this.startDelay-=a,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),a=0));var d=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(a)&&this.nextTween()&&this.nextState(),d=this.isPendingRemove(),d&&this.persist&&(this.setFinishedState(),d=!1)),d},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(a){this.currentIndex=a,this.currentTween=this.data[a],this.currentTween.setActiveState()},dispatchEvent:function(a,d){this.emit(a,this);var c=this.callbacks[d];c&&c.func.apply(this.callbackScope,[this].concat(c.params))},destroy:function(){y.prototype.destroy.call(this),this.currentTween=null}});r.register("tweenchain",function(a){return this.scene.sys.tweens.chain(a)}),o.register("tweenchain",function(a){return this.scene.sys.tweens.create(a)}),C.exports=u},48177:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95042),y=s(45319),f=s(83419),l=s(842),o=new f({Extends:g,initialize:function(h,u,a,d,c,p,v,m,T,E,P,w,R,L,O,I,F){g.call(this,h,u,m,T,E,P,w,R,L,O),this.key=a,this.getActiveValue=p,this.getEndValue=d,this.getStartValue=c,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=I,this.interpolationData=F},reset:function(r){g.prototype.reset.call(this);var h=this.tween.targets[this.targetIndex],u=this.key;r&&(h[u]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(h[u]=this.getActiveValue(h,u,0))},update:function(r){var h=this.tween,u=h.totalTargets,a=this.targetIndex,d=h.targets[a],c=this.key;if(!d)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=r,this.elapsed<=0&&(this.elapsed=0,r=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(d,c,d[c],a,u,h),this.end=this.getEndValue(d,c,this.start,a,u,h),this.current=this.start,d[c]=this.start,this.setPlayingForwardState(),!0;var p=this.isPlayingForward(),v=this.isPlayingBackward();if(p||v){var m=this.elapsed,T=this.duration,E=0,P=!1;m+=r,m>=T?(E=m-T,m=T,P=!0):m<0&&(m=0);var w=y(m/T,0,1);this.elapsed=m,this.progress=w,this.previous=this.current,p||(w=1-w);var R=this.ease(w);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,d[c]=this.current,P&&(p?(h.isNumberTween&&(this.current=this.end,d[c]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(E)):(h.isNumberTween&&(this.current=this.start,d[c]=this.current),this.setStateFromStart(E))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(r,h){var u=this.tween;if(!u.isSeeking){var a=u.targets[this.targetIndex],d=this.key,c=this.current,p=this.previous;u.emit(r,u,d,a,c,p);var v=u.callbacks[h];v&&v.func.apply(u.callbackScope,[u,a,d,c,p].concat(v.params))}},destroy:function(){g.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});C.exports=o},42220:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95042),y=s(45319),f=s(83419),l=s(842),o=new f({Extends:g,initialize:function(h,u,a,d,c,p,v,m,T,E,P){g.call(this,h,u,c,p,!1,v,m,T,E,P),this.key="texture",this.startTexture=null,this.endTexture=a,this.startFrame=null,this.endFrame=d,this.yoyo=m!==0},reset:function(r){g.prototype.reset.call(this);var h=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=h.texture.key,this.startFrame=h.frame.name),r&&h.setTexture(this.startTexture,this.startFrame)},update:function(r){var h=this.tween,u=this.targetIndex,a=h.targets[u];if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=r,this.elapsed<=0&&(this.elapsed=0,r=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&a.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),c=this.isPlayingBackward();if(d||c){var p=this.elapsed,v=this.duration,m=0,T=!1;p+=r,p>=v?(m=p-v,p=v,T=!0):p<0&&(p=0);var E=y(p/v,0,1);this.elapsed=p,this.progress=E,T&&(d?(a.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(a.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(m))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(r,h){var u=this.tween;if(!u.isSeeking){var a=u.targets[this.targetIndex],d=this.key;u.emit(r,u,d,a);var c=u.callbacks[h];c&&c.func.apply(u.callbackScope,[u,a,d].concat(c.params))}},destroy:function(){g.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});C.exports=o},86353:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};C.exports=A},83419:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}function s(o,r,h){var u=h?o[r]:Object.getOwnPropertyDescriptor(o,r);return!h&&u.value&&typeof u.value=="object"&&(u=u.value),u&&A(u)?(typeof u.enumerable>"u"&&(u.enumerable=!0),typeof u.configurable>"u"&&(u.configurable=!0),u):!1}function g(o,r){var h=Object.getOwnPropertyDescriptor(o,r);return h?(h.value&&typeof h.value=="object"&&(h=h.value),h.configurable===!1):!1}function y(o,r,h,u){for(var a in r)if(r.hasOwnProperty(a)){var d=s(r,a,h);if(d!==!1){var c=u||o;if(g(c.prototype,a)){if(l.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(o.prototype,a,d)}else o.prototype[a]=r[a]}}function f(o,r){if(r){Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++)y(o,r[h].prototype||r[h])}}function l(o){o||(o={});var r,h;if(o.initialize){if(typeof o.initialize!="function")throw new Error("initialize must be a function");r=o.initialize,delete o.initialize}else if(o.Extends){var u=o.Extends;r=function(){u.apply(this,arguments)}}else r=function(){};o.Extends?(r.prototype=Object.create(o.Extends.prototype),r.prototype.constructor=r,h=o.Extends,delete o.Extends):r.prototype.constructor=r;var a=null;return o.Mixins&&(a=o.Mixins,delete o.Mixins),f(r,a),y(r,o,!0,h),r}l.extend=y,l.mixin=f,l.ignoreFinals=!1,C.exports=l},29747:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){};C.exports=A},20242:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){return null};C.exports=A},71146:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){if(l===void 0&&(l=s),y>0){var o=y-s.length;if(o<=0)return null}if(!Array.isArray(g))return s.indexOf(g)===-1?(s.push(g),f&&f.call(l,g),g):null;for(var r=g.length-1;r>=0;)s.indexOf(g[r])!==-1&&g.splice(r,1),r--;if(r=g.length,r===0)return null;y>0&&r>o&&(g.splice(o),r=o);for(var h=0;h<r;h++){var u=g[h];s.push(u),f&&f.call(l,u)}return g};C.exports=A},51067:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,o){if(y===void 0&&(y=0),o===void 0&&(o=s),f>0){var r=f-s.length;if(r<=0)return null}if(!Array.isArray(g))return s.indexOf(g)===-1?(s.splice(y,0,g),l&&l.call(o,g),g):null;for(var h=g.length-1;h>=0;)s.indexOf(g[h])!==-1&&g.pop(),h--;if(h=g.length,h===0)return null;f>0&&h>r&&(g.splice(r),h=r);for(var u=h-1;u>=0;u--){var a=g[u];s.splice(y,0,a),l&&l.call(o,a)}return g};C.exports=A},66905:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.indexOf(g);return y!==-1&&y<s.length&&(s.splice(y,1),s.push(g)),g};C.exports=A},21612:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,o,r,h){r===void 0&&(r=0),h===void 0&&(h=f.length);var u=0;if(g(f,r,h))for(var a=r;a<h;a++){var d=f[a];d[l]===o&&u++}return u};C.exports=y},95428:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f,l=[null];for(f=3;f<arguments.length;f++)l.push(arguments[f]);for(f=0;f<s.length;f++)l[0]=s[f],g.apply(y,l);return s};C.exports=A},36914:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,o,r,h){if(r===void 0&&(r=0),h===void 0&&(h=f.length),g(f,r,h)){var u,a=[null];for(u=5;u<arguments.length;u++)a.push(arguments[u]);for(u=r;u<h;u++)a[0]=f[u],l.apply(o,a)}return f};C.exports=y},81957:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g.length){if(g.length===1)return g[0]}else return NaN;var f=1,l,o;if(y){if(s<g[0][y])return g[0];for(;g[f][y]<s;)f++}else for(;g[f]<s;)f++;return f>g.length&&(f=g.length),y?(l=g[f-1][y],o=g[f][y],o-s<=s-l?g[f]:g[f-1]):(l=g[f-1],o=g[f],o-s<=s-l?o:l)};C.exports=A},43491:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=[]);for(var y=0;y<s.length;y++)Array.isArray(s[y])?A(s[y],g):g.push(s[y]);return g};C.exports=A},46710:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,o,r,h){r===void 0&&(r=0),h===void 0&&(h=f.length);var u=[];if(g(f,r,h))for(var a=r;a<h;a++){var d=f[a];(!l||l&&o===void 0&&d.hasOwnProperty(l)||l&&o!==void 0&&d[l]===o)&&u.push(d)}return u};C.exports=y},58731:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,o,r,h){if(r===void 0&&(r=0),h===void 0&&(h=f.length),r!==-1){if(g(f,r,h))for(var u=r;u<h;u++){var a=f[u];if(!l||l&&o===void 0&&a.hasOwnProperty(l)||l&&o!==void 0&&a[l]===o)return a}}else if(g(f,0,h))for(var u=h;u>=0;u--){var a=f[u];if(!l||l&&o===void 0&&a.hasOwnProperty(l)||l&&o!==void 0&&a[l]===o)return a}return null};C.exports=y},26546:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){g===void 0&&(g=0),y===void 0&&(y=s.length);var f=g+Math.floor(Math.random()*y);return s[f]===void 0?null:s[f]};C.exports=A},85835:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===y)return s;var f=s.indexOf(g),l=s.indexOf(y);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return f>l||(s.splice(f,1),l=s.indexOf(y),s.splice(l+1,0,g)),s};C.exports=A},83371:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===y)return s;var f=s.indexOf(g),l=s.indexOf(y);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return f<l||(s.splice(f,1),l===0?s.unshift(g):s.splice(l,0,g)),s};C.exports=A},70864:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.indexOf(g);if(y>0){var f=s[y-1],l=s.indexOf(f);s[y]=f,s[l]=g}return s};C.exports=A},69693:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=s.indexOf(g);if(f===-1||y<0||y>=s.length)throw new Error("Supplied index out of bounds");return f!==y&&(s.splice(f,1),s.splice(y,0,g)),g};C.exports=A},40853:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.indexOf(g);if(y!==-1&&y<s.length-1){var f=s[y+1],l=s.indexOf(f);s[y]=f,s[l]=g}return s};C.exports=A},20283:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=[],o,r=!1;if((y||f)&&(r=!0,y||(y=""),f||(f="")),g<s)for(o=s;o>=g;o--)r?l.push(y+o.toString()+f):l.push(o);else for(o=s;o<=g;o++)r?l.push(y+o.toString()+f):l.push(o);return l};C.exports=A},593:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2284),y=function(f,l,o){f===void 0&&(f=0),l===void 0&&(l=null),o===void 0&&(o=1),l===null&&(l=f,f=0);for(var r=[],h=Math.max(g((l-f)/(o||1)),0),u=0;u<h;u++)r.push(f),f+=o;return r};C.exports=y},43886:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(y,f,l){var o=y[f];y[f]=y[l],y[l]=o}function s(y,f){return y<f?-1:y>f?1:0}var g=function(y,f,l,o,r){for(l===void 0&&(l=0),o===void 0&&(o=y.length-1),r===void 0&&(r=s);o>l;){if(o-l>600){var h=o-l+1,u=f-l+1,a=Math.log(h),d=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*d*(h-d)/h)*(u-h/2<0?-1:1),p=Math.max(l,Math.floor(f-u*d/h+c)),v=Math.min(o,Math.floor(f+(h-u)*d/h+c));g(y,f,p,v,r)}var m=y[f],T=l,E=o;for(A(y,l,f),r(y[o],m)>0&&A(y,l,o);T<E;){for(A(y,T,E),T++,E--;r(y[T],m)<0;)T++;for(;r(y[E],m)>0;)E--}r(y[l],m)===0?A(y,l,E):(E++,A(y,E,o)),E<=f&&(l=E+1),f<=E&&(o=E-1)}};C.exports=g},88492:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35154),y=s(33680),f=function(o,r,h){for(var u=[],a=0;a<o.length;a++)for(var d=0;d<r.length;d++)for(var c=0;c<h;c++)u.push({a:o[a],b:r[d]});return u},l=function(o,r,h){var u=g(h,"max",0),a=g(h,"qty",1),d=g(h,"random",!1),c=g(h,"randomB",!1),p=g(h,"repeat",0),v=g(h,"yoyo",!1),m=[];if(c&&y(r),p===-1)if(u===0)p=0;else{var T=o.length*r.length*a;v&&(T*=2),p=Math.ceil(u/T)}for(var E=0;E<=p;E++){var P=f(o,r,a);d&&y(P),m=m.concat(P),v&&(P.reverse(),m=m.concat(P))}return u&&m.splice(u),m};C.exports=l},72905:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19133),y=function(f,l,o,r){r===void 0&&(r=f);var h;if(!Array.isArray(l))return h=f.indexOf(l),h!==-1?(g(f,h),o&&o.call(r,l),l):null;for(var u=l.length-1,a=[];u>=0;){var d=l[u];h=f.indexOf(d),h!==-1&&(g(f,h),a.push(d),o&&o.call(r,d)),u--}return a};C.exports=y},60248:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19133),y=function(f,l,o,r){if(r===void 0&&(r=f),l<0||l>f.length-1)throw new Error("Index out of bounds");var h=g(f,l);return o&&o.call(r,h),h};C.exports=y},81409:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,o,r,h){if(l===void 0&&(l=0),o===void 0&&(o=f.length),h===void 0&&(h=f),g(f,l,o)){var u=o-l,a=f.splice(l,u);if(r)for(var d=0;d<a.length;d++){var c=a[d];r.call(h,c)}return a}else return[]};C.exports=y},31856:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19133),y=function(f,l,o){l===void 0&&(l=0),o===void 0&&(o=f.length);var r=l+Math.floor(Math.random()*o);return g(f,r)};C.exports=y},42169:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=s.indexOf(g),l=s.indexOf(y);return f!==-1&&l===-1?(s[f]=y,!0):!1};C.exports=A},86003:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=1);for(var y=null,f=0;f<g;f++)y=s.shift(),s.push(y);return y};C.exports=A},49498:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=1);for(var y=null,f=0;f<g;f++)y=s.pop(),s.unshift(y);return y};C.exports=A},82011:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=s.length;if(g<0||g>=l||g>=y||y>l){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};C.exports=A},89545:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.indexOf(g);return y!==-1&&y>0&&(s.splice(y,1),s.unshift(g)),g};C.exports=A},17810:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,o,r,h){if(r===void 0&&(r=0),h===void 0&&(h=f.length),g(f,r,h))for(var u=r;u<h;u++){var a=f[u];a.hasOwnProperty(l)&&(a[l]=o)}return f};C.exports=y},33680:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=s.length-1;g>0;g--){var y=Math.floor(Math.random()*(g+1)),f=s[g];s[g]=s[y],s[y]=f}return s};C.exports=A},90126:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=/\D/g;return s.sort(function(y,f){return parseInt(y.replace(g,""),10)-parseInt(f.replace(g,""),10)}),s};C.exports=A},19133:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){if(!(g>=s.length)){for(var y=s.length-1,f=s[g],l=g;l<y;l++)s[l]=s[l+1];return s.length=y,f}};C.exports=A},19186:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82264);function y(r,h){return String(r).localeCompare(h)}function f(r,h){var u=r.length;if(u<=1)return r;for(var a=new Array(u),d=1;d<u;d*=2){l(r,h,d,a);var c=r;r=a,a=c}return r}function l(r,h,u,a){var d=r.length,c=0,p=u*2,v,m,T,E,P;for(v=0;v<d;v+=p)for(m=v+u,T=m+u,m>d&&(m=d),T>d&&(T=d),E=v,P=m;;)if(E<m&&P<T)h(r[E],r[P])<=0?a[c++]=r[E++]:a[c++]=r[P++];else if(E<m)a[c++]=r[E++];else if(P<T)a[c++]=r[P++];else break}var o=function(r,h){if(h===void 0&&(h=y),!r||r.length<2)return r;if(g.features.stableSort)return r.sort(h);var u=f(r,h);return u!==r&&l(u,null,r.length,r),r};C.exports=o},25630:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===y)return s;var f=s.indexOf(g),l=s.indexOf(y);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return s[f]=y,s[l]=g,s};C.exports=A},37105:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Matrix:s(54915),Add:s(71146),AddAt:s(51067),BringToTop:s(66905),CountAllMatching:s(21612),Each:s(95428),EachInRange:s(36914),FindClosestInSorted:s(81957),Flatten:s(43491),GetAll:s(46710),GetFirst:s(58731),GetRandom:s(26546),MoveDown:s(70864),MoveTo:s(69693),MoveUp:s(40853),MoveAbove:s(85835),MoveBelow:s(83371),NumberArray:s(20283),NumberArrayStep:s(593),QuickSelect:s(43886),Range:s(88492),Remove:s(72905),RemoveAt:s(60248),RemoveBetween:s(81409),RemoveRandomElement:s(31856),Replace:s(42169),RotateLeft:s(86003),RotateRight:s(49498),SafeRange:s(82011),SendToBack:s(89545),SetAll:s(17810),Shuffle:s(33680),SortByDigits:s(90126),SpliceOne:s(19133),StableSort:s(19186),Swap:s(25630)}},86922:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){if(!Array.isArray(s)||!Array.isArray(s[0]))return!1;for(var g=s[0].length,y=1;y<s.length;y++)if(s[y].length!==g)return!1;return!0};C.exports=A},63362:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41836),y=s(86922),f=function(l){var o="";if(!y(l))return o;for(var r=0;r<l.length;r++){for(var h=0;h<l[r].length;h++){var u=l[r][h].toString();u!=="undefined"?o+=g(u,2):o+="?",h<l[r].length-1&&(o+=" |")}if(r<l.length-1){o+=`
`;for(var a=0;a<l[r].length;a++)o+="---",a<l[r].length-1&&(o+="+");o+=`
`}}return o};C.exports=f},92598:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.reverse()};C.exports=A},21224:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=0;g<s.length;g++)s[g].reverse();return s};C.exports=A},98717:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37829),y=function(f){return g(f,180)};C.exports=y},44657:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37829),y=function(f,l){l===void 0&&(l=1);for(var o=0;o<l;o++)f=g(f,90);return f};C.exports=y},37829:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(86922),y=s(2429),f=function(l,o){if(o===void 0&&(o=90),!g(l))return null;if(typeof o!="string"&&(o=(o%360+360)%360),o===90||o===-270||o==="rotateLeft")l=y(l),l.reverse();else if(o===-90||o===270||o==="rotateRight")l.reverse(),l=y(l);else if(Math.abs(o)===180||o==="rotate180"){for(var r=0;r<l.length;r++)l[r].reverse();l.reverse()}return l};C.exports=f},92632:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37829),y=function(f,l){l===void 0&&(l=1);for(var o=0;o<l;o++)f=g(f,-90);return f};C.exports=y},69512:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(86003),y=s(49498),f=function(l,o,r){if(o===void 0&&(o=0),r===void 0&&(r=0),r!==0&&(r<0?g(l,Math.abs(r)):y(l,r)),o!==0)for(var h=0;h<l.length;h++){var u=l[h];o<0?g(u,Math.abs(o)):y(u,o)}return l};C.exports=f},2429:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=s.length,y=s[0].length,f=new Array(y),l=0;l<y;l++){f[l]=new Array(g);for(var o=g-1;o>-1;o--)f[l][o]=s[o][l]}return f};C.exports=A},54915:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CheckMatrix:s(86922),MatrixToString:s(63362),ReverseColumns:s(92598),ReverseRows:s(21224),Rotate180:s(98717),RotateLeft:s(44657),RotateMatrix:s(37829),RotateRight:s(92632),Translate:s(69512),TransposeMatrix:s(2429)}},71334:C=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(g,y){for(var f=new Uint8Array(g),l=f.length,o=y?"data:"+y+";base64,":"",r=0;r<l;r+=3)o+=A[f[r]>>2],o+=A[(f[r]&3)<<4|f[r+1]>>4],o+=A[(f[r+1]&15)<<2|f[r+2]>>6],o+=A[f[r+2]&63];return l%3===2?o=o.substring(0,o.length-1)+"=":l%3===1&&(o=o.substring(0,o.length-2)+"=="),o};C.exports=s},53134:C=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),g=0;g<A.length;g++)s[A.charCodeAt(g)]=g;var y=function(f){f=f.substr(f.indexOf(",")+1);var l=f.length,o=l*.75,r=0,h,u,a,d;f[l-1]==="="&&(o--,f[l-2]==="="&&o--);for(var c=new ArrayBuffer(o),p=new Uint8Array(c),v=0;v<l;v+=4)h=s[f.charCodeAt(v)],u=s[f.charCodeAt(v+1)],a=s[f.charCodeAt(v+2)],d=s[f.charCodeAt(v+3)],p[r++]=h<<2|u>>4,p[r++]=(u&15)<<4|a>>2,p[r++]=(a&3)<<6|d&63;return c};C.exports=y},65839:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ArrayBufferToBase64:s(71334),Base64ToArrayBuffer:s(53134)}},91799:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Array:s(37105),Base64:s(65839),Objects:s(1183),String:s(31749),NOOP:s(29747),NULL:s(20242)}},41786:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g={};for(var y in s)Array.isArray(s[y])?g[y]=s[y].slice(0):g[y]=s[y];return g};C.exports=A},62644:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g,y,f;if(typeof s!="object"||s===null)return s;g=Array.isArray(s)?[]:{};for(f in s)y=s[f],g[f]=A(y);return g};C.exports=A},79291:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41212),y=function(){var f,l,o,r,h,u,a=arguments[0]||{},d=1,c=arguments.length,p=!1;for(typeof a=="boolean"&&(p=a,a=arguments[1]||{},d=2),c===d&&(a=this,--d);d<c;d++)if((f=arguments[d])!=null)for(l in f)o=a[l],r=f[l],a!==r&&(p&&r&&(g(r)||(h=Array.isArray(r)))?(h?(h=!1,u=o&&Array.isArray(o)?o:[]):u=o&&g(o)?o:{},a[l]=y(p,u,r)):r!==void 0&&(a[l]=r));return a};C.exports=y},23568:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(75508),y=s(35154),f=function(l,o,r){var h=y(l,o,null);if(h===null)return r;if(Array.isArray(h))return g.RND.pick(h);if(typeof h=="object"){if(h.hasOwnProperty("randInt"))return g.RND.integerInRange(h.randInt[0],h.randInt[1]);if(h.hasOwnProperty("randFloat"))return g.RND.realInRange(h.randFloat[0],h.randFloat[1])}else if(typeof h=="function")return h(o);return h};C.exports=f},95540:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=typeof s;return!s||f==="number"||f==="string"?y:s.hasOwnProperty(g)&&s[g]!==void 0?s[g]:y};C.exports=A},82840:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35154),y=s(45319),f=function(l,o,r,h,u){u===void 0&&(u=r);var a=g(l,o,u);return y(a,r,h)};C.exports=f},35154:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){if(!s&&!f||typeof s=="number")return y;if(s&&s.hasOwnProperty(g))return s[g];if(f&&f.hasOwnProperty(g))return f[g];if(g.indexOf(".")!==-1){for(var l=g.split("."),o=s,r=f,h=y,u=y,a=!0,d=!0,c=0;c<l.length;c++)o&&o.hasOwnProperty(l[c])?(h=o[l[c]],o=o[l[c]]):a=!1,r&&r.hasOwnProperty(l[c])?(u=r[l[c]],r=r[l[c]]):d=!1;return a?h:d?u:y}else return y};C.exports=A},69036:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){for(var y=0;y<g.length;y++)if(!s.hasOwnProperty(g[y]))return!1;return!0};C.exports=A},1985:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){for(var y=0;y<g.length;y++)if(s.hasOwnProperty(g[y]))return!0;return!1};C.exports=A},97022:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.hasOwnProperty(g)};C.exports=A},41212:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){if(!s||typeof s!="object"||s.nodeType||s===s.window)return!1;try{if(s.constructor&&!{}.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};C.exports=A},46975:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41786),y=function(f,l){var o=g(f);for(var r in l)o.hasOwnProperty(r)||(o[r]=l[r]);return o};C.exports=y},269:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41786),y=function(f,l){var o=g(f);for(var r in l)o.hasOwnProperty(r)&&(o[r]=l[r]);return o};C.exports=y},18254:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(97022),y=function(f,l){for(var o={},r=0;r<l.length;r++){var h=l[r];g(f,h)&&(o[h]=f[h])}return o};C.exports=y},61622:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(!s||typeof s=="number")return!1;if(s.hasOwnProperty(g))return s[g]=y,!0;if(g.indexOf(".")!==-1){for(var f=g.split("."),l=s,o=s,r=0;r<f.length;r++)if(l.hasOwnProperty(f[r]))o=l,l=l[f[r]];else return!1;return o[f[f.length-1]]=y,!0}return!1};C.exports=A},1183:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Clone:s(41786),DeepCopy:s(62644),Extend:s(79291),GetAdvancedValue:s(23568),GetFastValue:s(95540),GetMinMaxValue:s(82840),GetValue:s(35154),HasAll:s(69036),HasAny:s(1985),HasValue:s(97022),IsPlainObject:s(41212),Merge:s(46975),MergeRight:s(269),Pick:s(18254),SetValue:s(61622)}},27902:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.replace(/%([0-9]+)/g,function(y,f){return g[Number(f)-1]})};C.exports=A},41836:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g===void 0&&(g=0),y===void 0&&(y=" "),f===void 0&&(f=3),s=s.toString();var l=0;if(g+1>=s.length)switch(f){case 1:s=new Array(g+1-s.length).join(y)+s;break;case 3:var o=Math.ceil((l=g-s.length)/2),r=l-o;s=new Array(r+1).join(y)+s+new Array(o+1).join(y);break;default:s=s+new Array(g+1-s.length).join(y);break}return s};C.exports=A},33628:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===0?s.slice(1):s.slice(0,g)+s.slice(g+1)};C.exports=A},27671:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.split("").reverse().join("")};C.exports=A},45650:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var g=Math.random()*16|0,y=s==="x"?g:g&3|8;return y.toString(16)})};C.exports=A},35355:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s&&s[0].toUpperCase()+s.slice(1)};C.exports=A},31749:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Format:s(27902),Pad:s(41836),RemoveAt:s(33628),Reverse:s(27671),UppercaseFirst:s(35355),UUID:s(45650)}}},ht={};function ot(C){var A=ht[C];if(A!==void 0)return A.exports;var s=ht[C]={exports:{}};return K[C](s,s.exports,ot),s.exports}ot.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var pt=ot(85454);return pt})())})(HS);var qW=HS.exports;const he=YS(qW);var $S={exports:{}};(function(wt,V){(function(K,ht){wt.exports=ht()})(XS,function(){class K{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,i){K.prototype[t]=i}}var ht=function(e){return e===void 0&&(e=ot),this.getFrameNameCallback=e,this},ot=function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`};function pt(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>pt(i));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let i in e)e.hasOwnProperty(i)&&(t[i]=pt(e[i]));return t}var C=function(e,t,i,n){Array.isArray(t)&&(n=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],n=[arguments[4],void 0,arguments[5]]):i===void 0&&n===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(i=this.columns.data,n=this.rows.data):(i=pt(i),n=pt(n)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=n,this.rows.count=n?n.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var x=this.scene.sys.textures.get(e);if(!x)return this.clear(),this;if(!i||!n)return this.clear(),this;for(var S=x.get(t),M=S.width,b=0,D=0,k=i.length;D<k;D++)i[D]===void 0?b++:typeof i[D]=="number"?M-=i[D]:M-=i[D].width;for(var W=b>0?M/b:0,Z=S.height,tt=0,D=0,k=n.length;D<k;D++)n[D]===void 0?tt++:typeof n[D]=="number"?Z-=n[D]:Z-=n[D].width;for(var _=tt?Z/tt:0,st,at,nt,ut,ct,dt=0,mt=0,Tt=0,Pt=n.length;Tt<Pt;Tt++){n[Tt]===void 0&&(n[Tt]=_),typeof n[Tt]=="number"&&(n[Tt]={height:n[Tt],stretch:Tt%2}),st=n[Tt],nt=st.height,this.rows.stretch+=st.stretch|0,this.rows.minHeight+=st.stretch>0?0:nt,dt=0;for(var D=0,At=i.length;D<At;D++){if(i[D]===void 0&&(i[D]=W),typeof i[D]=="number"&&(i[D]={width:i[D],stretch:D%2}),at=i[D],ut=at.width,Tt===0&&(this.columns.stretch+=at.stretch|0,this.columns.minWidth+=at.stretch>0?0:ut),ut>=1&&nt>=1){ct=this.getFrameNameCallback(D,Tt,t);var Ft=typeof ct;(Ft==="string"||Ft==="number")&&x.add(ct,0,dt+S.cutX,mt+S.cutY,ut,nt)}dt+=ut}mt+=nt}return this.updateTexture(),this},A=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,n=this.width-t,x=this.height-i,S=n>=0?this.maxFixedPartScaleX:this.width/t,M=x>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var b=Math.min(S,M);if(S>b){var D=(S-b)*t;n>=0?n+=D:n=D,S=b}if(M>b){var k=(M-b)*i;x>=0?x+=k:x=k,M=b}}this.columns.scale=S,this.rows.scale=M;var W;n>0?W=this.columns.stretch>0?n/this.columns.stretch:0:W=0;var Z;x>0?Z=this.rows.stretch>0?x/this.rows.stretch:0:Z=0;var tt,_,st,at,nt,ut=0,ct=0,dt;this._beginDraw();for(var mt=0,Tt=this.rows.count;mt<Tt;mt++){st=this.rows.data[mt],nt=st.stretch===0?st.height*M:Z*st.stretch,ut=0;for(var Pt=0,At=this.columns.count;Pt<At;Pt++)_=this.columns.data[Pt],at=_.stretch===0?_.width*S:W*_.stretch,tt=this.getFrameNameCallback(Pt,mt,this.baseFrameName),e.has(tt)&&at>0&&nt>0&&(st.stretch===0&&_.stretch===0||this.getStretchMode(Pt,mt)===0?dt=0:dt=1,dt===0?this._drawImage(this.textureKey,tt,ut,ct,at,nt):this._drawTileSprite(this.textureKey,tt,ut,ct,at,nt)),ut+=at;ct+=nt}this._endDraw()};const s=Phaser.Utils.Objects.IsPlainObject,g=Phaser.Utils.Objects.GetValue;var y=function(e){return s(e)?(this.stretchMode.edge=f(g(e,"edge",0)),this.stretchMode.internal=f(g(e,"internal",0))):(e=f(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},f=function(e){return typeof e=="string"&&(e=l[e]),e};const l={scale:0,repeat:1};var o=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},r=function(e,t){return o.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},h=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},u=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},a=function(){},d={_beginDraw:a,_drawImage:a,_drawTileSprite:a,_endDraw:a,setGetFrameNameCallback:ht,setBaseTexture:C,updateTexture:A,setStretchMode:y,getStretchMode:r,setPreserveRatio:h,setMaxFixedPartScale:u};const c=Phaser.Utils.Objects.IsPlainObject,p=Phaser.Utils.Objects.GetValue;var v=function(e,t){class i extends e{constructor(x,S,M,b,D,k,W,Z,tt,_){if(c(S)?(_=S,S=p(_,"x",0),M=p(_,"y",0),b=p(_,"width",1),D=p(_,"height",1),k=p(_,"key",void 0),W=p(_,"baseFrame",void 0),Z=p(_,"columns",void 0),tt=p(_,"rows",void 0)):c(b)?(_=b,b=p(_,"width",1),D=p(_,"height",1),k=p(_,"key",void 0),W=p(_,"baseFrame",void 0),Z=p(_,"columns",void 0),tt=p(_,"rows",void 0)):c(k)?(_=k,k=p(_,"key",void 0),W=p(_,"baseFrame",void 0),Z=p(_,"columns",void 0),tt=p(_,"rows",void 0)):c(W)?(_=W,W=p(_,"baseFrame",void 0),Z=p(_,"columns",void 0),tt=p(_,"rows",void 0)):Array.isArray(W)?(_=tt,tt=Z,Z=W,W=p(_,"baseFrame",void 0)):c(Z)&&(_=Z,Z=p(_,"columns",void 0),tt=p(_,"rows",void 0)),W===void 0&&(W=p(_,"frame",void 0)),Z===void 0){var st=p(_,"leftWidth",void 0),at=p(_,"rightWidth",void 0);st!==void 0&&at!==void 0&&(Z=[st,void 0,at])}if(tt===void 0){var nt=p(_,"topHeight",void 0),ut=p(_,"bottomHeight",void 0);nt!==void 0&&ut!==void 0&&(tt=[nt,void 0,ut])}super(x),this.type=t,this.setPosition(S,M).setSize(b,D).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(p(_,"getFrameNameCallback",void 0)),this.setStretchMode(p(_,"stretchMode",0)),this.setPreserveRatio(p(_,"preserveRatio",!0));var ct=p(_,"maxFixedPartScale",1),dt=p(_,"maxFixedPartScaleX",ct),mt=p(_,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(dt,mt),this.setBaseTexture(k,W,Z,tt)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(x,S){return this.width===x&&this.height===S?this:(super.resize?super.resize(x,S):super.setSize(x,S),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(i.prototype,d),i};const m=Phaser.Game;var T=function(e){return e instanceof m};const E=Phaser.Scene;var P=function(e){return e instanceof E},w=function(e){if(e==null||typeof e!="object")return null;if(T(e))return e;if(T(e.game))return e.game;if(P(e))return e.sys.game;if(P(e.scene))return e.scene.sys.game};const R=Phaser.GameObjects;var L=void 0,O=function(e,t){if(L||(L={},w(e).events.once("destroy",function(){for(var n in L)L[n].destroy();L=void 0})),!L.hasOwnProperty(t)){var i=w(e).scene.systemScene,e=new R[t](i);e.setOrigin(0),L[t]=e}return L[t]},I=function(e,t,i,n,x,S){var M=O(this,"Image").setTexture(e,t).setDisplaySize(x,S);this.draw(M,i,n)},F=function(e,t,i,n,x,S){var M=O(this,"TileSprite").setTexture(e,t).setSize(x,S);this.draw(M,i,n)};const B=Phaser.GameObjects.RenderTexture;let G=class extends v(B,"rexNinePatch"){};var z={_drawImage:I,_drawTileSprite:F};Object.assign(G.prototype,z);var Y=function(e){return e==null||e===""||e.length===0},J=function(e,t,i){var n=e;if(!Y(t)){typeof t=="string"&&(t=t.split("."));for(var x,S=0,M=t.length;S<M;S++){if(x=t[S],n[x]==null||typeof n[x]!="object"){var b;S===M-1?b={}:b={},n[x]=b}n=n[x]}}return n},$=function(e,t,i,n){if(n===void 0&&(n="."),typeof e=="object"){if(Y(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(n));var x=t.pop(),S=J(e,t);S[x]=i}return e}};K.register("ninePatch",function(e,t,i,n,x,S,M,b){var D=new G(this.scene,e,t,i,n,x,S,M,b);return this.scene.add.existing(D),D}),$(window,"RexPlugins.UI.NinePatch",G);const j=Phaser.GameObjects.GetCalcMatrix;var X=function(e,t,i,n){var x=t.getRenderList();if(x.length!==0){i.addToRenderList(t);var S=e.pipelines.set(t.pipeline),M=t.frame.glTexture,b=S.setGameObject(t),D=i.roundPixels,k=j(t,i,n),W=S.calcMatrix.copyFrom(k.calc),Z=t._displayOriginX,tt=t._displayOriginY,_=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var st=0,at=x.length;st<at;st++)x[st].webglRender(S,W,_,Z,tt,M,b,D);e.pipelines.postBatch(t)}};const H=Phaser.Renderer.Canvas.SetTransform;var N=function(e,t,i,n){var x=e.currentContext,S=t.getRenderList();if(!(S.length===0||!H(e,x,t,i,n))){i.addToRenderList(t);var M=i.roundPixels,b=-t._displayOriginX,D=-t._displayOriginY;x.translate(b,D);for(var k=0,W=S.length;k<W;k++)S[k].canvasRender(x,b,D,M);x.restore()}},Q={renderWebGL:X,renderCanvas:N},U=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},q=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},et=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const it=Phaser.Utils.Array.Remove;var rt=function(e){return this.poolManager&&this.poolManager.free(e),it(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},lt=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},ft=function(){return this.lastAppendedChildren},gt=function(){return this.children.list},vt={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}},xt={setTexture:U,resize:q,setSize:q,addChild:et,removeChild:rt,removeChildren:lt,clear:lt,getLastAppendedChildren:ft,getChildren:gt};Object.assign(xt,vt);class yt{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const Ct=Phaser.Utils.Objects.GetValue;var Rt={};let bt=class{constructor(t){this.pools=Ct(t,"pools",Rt)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new yt),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const Lt=60;var St=!1,Et=function(e){if(!St){e===void 0&&(e=Lt);var t=Phaser.VERSION.split("."),i=parseInt(t[0]);if(i===3){var n=parseInt(t[1]);n<e&&console.error(`Minimum supported version : ${i}.${n}`)}else console.error(`Can't supported version : ${i}`);St=!0}};Et();const Mt=Phaser.GameObjects.GameObject,Vt=Phaser.Utils.Objects.IsPlainObject,Kt=Phaser.Utils.Objects.GetValue,oe=Phaser.Structs.List,Jt=Phaser.Utils.Array.StableSort;class Qt extends Mt{constructor(t,i,n,x,S,M){Vt(i)&&(M=i,i=Kt(M,"x",0),n=Kt(M,"y",0),x=Kt(M,"texture"),S=Kt(M,"frame")),i===void 0&&(i=0),n===void 0&&(n=0),super(t,"rexBlitter"),this.children=new oe,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var b=Kt(M,"reuseBob",!0);this.poolManager=b?new bt(M):void 0,this.setTexture(x,S),this.setPosition(i,n),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,n=0,x=i.length;n<x;n++){var S=i[n];fe(S)&&(this.renderList.push(S),t||(t=S.depth!==0))}t&&Jt(this.renderList,be),this.displayListDirty=!1}return this.renderList}}var fe=function(e){return e.active&&e.visible&&e.alpha>0},be=function(e,t){return e._depth-t._depth};const $t=Phaser.GameObjects.Components;Phaser.Class.mixin(Qt,[$t.Alpha,$t.BlendMode,$t.ComputedSize,$t.Depth,$t.GetBounds,$t.Mask,$t.Origin,$t.Pipeline,$t.PostPipeline,$t.ScrollFactor,$t.Transform,$t.Visible,Q,xt]);const le="image";var kt=function(e,t,i){if(!e||typeof e=="number")return i;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return i}for(var n=t,x=e,S=i,M=0;M<n.length;M++)if(t=n[M],x.hasOwnProperty(t))S=x[t],x=S;else{S=i;break}return S},ve=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e},Mi={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:kt(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&ve(this.data),this}};let rs=class{constructor(t,i){this.type=i,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(rs.prototype,Mi);const Ts=Phaser.Math.DegToRad,Ps=Phaser.Math.RadToDeg,oi=Phaser.Utils.Objects.GetValue;let ZS=class extends rs{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setRotation(t){return this.rotation=t,this}get angle(){return Ps(this.rotation)}set angle(t){this.rotation=Ts(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,i){return i===void 0&&(i=!1),this.displayWidth=t,i&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,i){return i===void 0&&(i=!1),this.displayHeight=t,i&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,i){return i===void 0&&(i=t),this.setOriginX(t).setOriginY(i),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=oi(t,"width",void 0),n=oi(t,"height",void 0),x=oi(t,"scale",void 0),S=oi(t,"scaleX",x),M=oi(t,"scaleY",x);i!==void 0?n===void 0&&M===void 0?this.setWidth(i,!0):this.setWidth(i):S!==void 0?this.setScaleX(S):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),n!==void 0?i===void 0&&S===void 0?this.setHeight(n,!0):this.setHeight(n):M!==void 0?this.setScaleY(M):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var b=oi(t,"origin",void 0);return b!==void 0?this.setOrigin(b):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,i,n,x,S,M,b,D){}canvasRender(t,i,n,x){}};const JS=Phaser.GameObjects.Components.TransformMatrix,QS=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Oh=new JS,jS=function(e,t,i,n,x,S,M,b){var D=this.frame;if(D){var k=this._width,W=this._height,Z=k*this.originX,tt=W*this.originY,_=this.x-n,st=this.y-x,at,nt,ut,ct,dt,mt,Tt,Pt;if(this.isCropped){var At=this._crop;(At.flipX!==this.flipX||At.flipY!==this.flipY)&&D.updateCropUVs(At,this.flipX,this.flipY),at=At.u0,nt=At.v0,ut=At.u1,ct=At.v1,Tt=At.width,Pt=At.height,dt=At.x,mt=At.y}else at=this.frame.u0,nt=this.frame.v0,ut=this.frame.u1,ct=this.frame.v1,Tt=k,Pt=W,dt=0,mt=0;var Ft=1,Dt=1;this.flipX&&(_+=k-Z*2,Ft=-1),this.flipY&&(st+=W-tt*2,Dt=-1),Oh.applyITRS(_,st,this.rotation,this.scaleX*Ft,this.scaleY*Dt),t.multiply(Oh,Oh);var zt=-Z+dt,Gt=-tt+mt,qt=zt+Tt,_t=Gt+Pt,It=Oh.setQuad(zt,Gt,qt,_t,b),de=QS(this.tint,this.alpha*i);e.batchQuad(this.parent,It[0],It[1],It[2],It[3],It[4],It[5],It[6],It[7],at,nt,ut,ct,de,de,de,de,this.tintFill,S,M)}},qS=function(e,t,i,n){var x=this.frame;if(x){e.save();var S=this._width,M=this._height,b=S*this.originX,D=M*this.originY,k=this.x-b,W=this.y-D,Z,tt,_,st;if(this.isCropped){var at=this._crop;(at.flipX!==this.flipX||at.flipY!==this.flipY)&&x.updateCropUVs(at,this.flipX,this.flipY),_=at.cw,st=at.ch,Z=at.cx,tt=at.cy}else _=x.cutWidth,st=x.cutHeight,Z=x.cutX,tt=x.cutY;var nt=1,ut=1;this.flipX&&(k+=S,nt=-1),this.flipY&&(W+=M,ut=-1);var ct=x.source.resolution,dt=_/ct,mt=st/ct;n&&(k=Math.floor(k+.5),W=Math.floor(W+.5),dt+=.5,mt+=.5),e.translate(k,W),e.rotate(this.rotation),e.scale(this.scaleX*nt,this.scaleY*ut),e.drawImage(x.source.image,Z,tt,_,st,0,0,dt,mt),e.restore()}};const _S=Phaser.Utils.Objects.IsPlainObject;let vv=class extends ZS{constructor(t,i){super(t,le),this._crop=tT(),this.setFrame(i)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!_S(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,i,n,x){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&i===0&&n===this._width&&x===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,i,n,x,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var tT=function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},eT={webglRender:jS,canvasRender:qS};Object.assign(vv.prototype,eT);var pv=function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(le):null;return i===null?i=new vv(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},iT=function(e,t,i,n,x,S){pv(this,{frame:t,x:i,y:n,width:x,height:S})},sT=function(e,t,i,n,x,S){var M=this.texture.get(t),b=M.width,D=M.height,k=x%b,W=S%D;k===0&&(k=b),W===0&&(W=D);for(var Z=Math.ceil(x/b),tt=Math.ceil(S/D),_=Z-1,st=tt-1,at=0;at<Z;at++)for(var nt=0;nt<tt;nt++){let dt=pv(this,{frame:t,x:i+at*b,y:n+nt*D});var ut=at===_?k:b,ct=nt===st?W:D;(ut!==b||ct!==D)&&dt.setCrop(0,0,ut,ct)}},rT={_drawImage:iT,_drawTileSprite:sT};class du extends v(Qt,"rexNinePatch2"){setBaseTexture(t,i,n,x){return this.setTexture(t,i),super.setBaseTexture(t,i,n,x),this}}Object.assign(du.prototype,rT),K.register("ninePatch2",function(e,t,i,n,x,S,M,b){var D=new du(this.scene,e,t,i,n,x,S,M,b);return this.scene.add.existing(D),D}),$(window,"RexPlugins.UI.NinePatch2",du);var nT=Phaser.Renderer.WebGL.Utils,gv=function(e,t,i,n,x,S){for(var M=nT.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*n),b=i.pathData,D=i.pathIndexes,k=0;k<D.length;k+=3){var W=D[k]*2,Z=D[k+1]*2,tt=D[k+2]*2,_=b[W+0]-x,st=b[W+1]-S,at=b[Z+0]-x,nt=b[Z+1]-S,ut=b[tt+0]-x,ct=b[tt+1]-S,dt=t.getX(_,st),mt=t.getY(_,st),Tt=t.getX(at,nt),Pt=t.getY(at,nt),At=t.getX(ut,ct),Ft=t.getY(ut,ct);e.batchTri(i,dt,mt,Tt,Pt,At,Ft,0,0,1,1,M,M,M,2)}},aT=Phaser.Renderer.WebGL.Utils,Dh=function(e,t,i,n,x){var S=e.strokeTint,M=aT.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);S.TL=M,S.TR=M,S.BL=M,S.BR=M;var b=t.pathData,D=b.length-1,k=t.lineWidth,W=k/2,Z=b[0]-n,tt=b[1]-x;t.closePath||(D-=2);for(var _=2;_<D;_+=2){var st=b[_]-n,at=b[_+1]-x;e.batchLine(Z,tt,st,at,W,W,k,_-2,t.closePath?_===D-1:!1),Z=st,tt=at}};const hT=Phaser.GameObjects.GetCalcMatrix;var oT=function(e,t,i,n){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var x=e.pipelines.set(t.pipeline),S=hT(t,i,n),M=x.calcMatrix.copyFrom(S.calc),b=t._displayOriginX,D=t._displayOriginY,k=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&gv(x,M,t,k,b,D),t.isStroked&&Dh(x,t,k,b,D),e.pipelines.postBatch(t)},na=function(e,t,i,n){var x=t.fillColor,S=t.fillAlpha,M=(x&16711680)>>>16,b=(x&65280)>>>8,D=x&255;e.fillStyle="rgba("+M+","+b+","+D+","+S+")"},aa=function(e,t,i,n){var x=t.strokeColor,S=t.strokeAlpha,M=(x&16711680)>>>16,b=(x&65280)>>>8,D=x&255;e.strokeStyle="rgba("+M+","+b+","+D+","+S+")",e.lineWidth=t.lineWidth};const lT=Phaser.Renderer.Canvas.SetTransform;var uT=function(e,t,i,n){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var x=e.currentContext;if(lT(e,x,t,i,n)){var S=t._displayOriginX,M=t._displayOriginY,b=t.pathData,D=b.length-1,k=b[0]-S,W=b[1]-M;x.beginPath(),x.moveTo(k,W),t.closePath||(D-=2);for(var Z=2;Z<D;Z+=2){var tt=b[Z]-S,_=b[Z+1]-M;x.lineTo(tt,_)}x.closePath(),t.isFilled&&(na(x,t),x.fill()),t.isStroked&&(aa(x,t),x.stroke()),x.restore()}},dT={renderWebGL:oT,renderCanvas:uT};const fT=Phaser.GameObjects.Shape;class fu extends fT{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,n){return n===void 0&&(n=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=n,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}}Object.assign(fu.prototype,dT);const $s=Phaser.Utils.Objects.GetValue;let cu=class{constructor(t,i,n,x,S){t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,n,x,S)}setTo(t,i,n,x,S){return this.setPosition(t,i),this.setRadius(S),this.setSize(n,x),this}setPosition(t,i){return this.x=t,this.y=i,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var i,n;typeof t=="number"?(i=t,n=t):(i=$s(t,"x",0),n=$s(t,"y",0));var x=this.cornerRadius;x.tl=Fh($s(t,"tl",void 0),i,n),x.tr=Fh($s(t,"tr",void 0),i,n),x.bl=Fh($s(t,"bl",void 0),i,n),x.br=Fh($s(t,"br",void 0),i,n)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){Bh(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){Bh(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){Bh(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){Bh(this.cornerRadius.br,t)}};var Fh=function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),mv(e),e},Bh=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=$s(t,"x",0),e.y=$s(t,"y",0)),mv(e)},mv=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},ge=function(e){return e.x>0&&e.y>0},Ve=function(e,t,i){var n=i.length;if(n>=2){var x=i[n-2],S=i[n-1];if(e===x&&t===S)return i}return i.push(e,t),i};const xv=Phaser.Math.DegToRad;var We=function(e,t,i,n,x,S,M,b,D){M&&S>x?S-=360:!M&&S<x&&(S+=360);var k=S-x,W=xv(k)/b;x=xv(x);for(var Z=0;Z<=b;Z++){var tt=x+W*Z,_=e+i*Math.cos(tt),st=t+n*Math.sin(tt);Ve(_,st,D)}return D};const cT=Phaser.Utils.Objects.IsPlainObject,yv=Phaser.Utils.Objects.GetValue,vT=Phaser.Geom.Polygon.Earcut;let Tr=class extends fu{constructor(t,i,n,x,S,M,b,D){var k,W,Z,tt;if(cT(i)){var _=i;i=_.x,n=_.y,x=_.width,S=_.height,M=_.radius,b=_.color,D=_.alpha,k=_.strokeColor,W=_.strokeAlpha,Z=_.strokeWidth,tt=_.shape}i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=x),M===void 0&&(M=0),tt===void 0&&(tt=0);var st=new cu;if(super(t,"rexRoundRectangleShape",st),this.setShapeType(tt),this.shapeType===0){var at=yv(M,"radius",M);st.setTo(0,0,x,S,at)}else{var at={x:x/2,y:S/2};st.setTo(0,0,x,S,at)}this.setIteration(yv(M,"iteration",void 0)),this.setPosition(i,n),this.setFillStyle(b,D),Z===void 0&&(Z=2),this.setStrokeStyle(Z,k,W),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var n=t.width,x=t.height,S=t.cornerRadius,M,b=this.iteration+1;if(M=S.tl,ge(M))if(M.convex){var D=M.x,k=M.y;We(D,k,M.x,M.y,180,270,!1,b,i)}else{var D=0,k=0;We(D,k,M.x,M.y,90,0,!0,b,i)}else Ve(0,0,i);if(M=S.tr,ge(M))if(M.convex){var D=n-M.x,k=M.y;We(D,k,M.x,M.y,270,360,!1,b,i)}else{var D=n,k=0;We(D,k,M.x,M.y,180,90,!0,b,i)}else Ve(n,0,i);if(M=S.br,ge(M))if(M.convex){var D=n-M.x,k=x-M.y;We(D,k,M.x,M.y,0,90,!1,b,i)}else{var D=n,k=x;We(D,k,M.x,M.y,270,180,!0,b,i)}else Ve(n,x,i);if(M=S.bl,ge(M))if(M.convex){var D=M.x,k=x-M.y;We(D,k,M.x,M.y,90,180,!1,b,i)}else{var D=0,k=x;We(D,k,M.x,M.y,360,270,!0,b,i)}else Ve(0,x,i);return i.push(i[0],i[1]),this.pathIndexes=vT(i),this}setShapeType(t){return typeof t=="string"&&(t=pT[t]),this.shapeType=t,this}setSize(t,i){return i===void 0&&(i=t),this.geom.width===t&&this.geom.height===i?this:(this.geom.setSize(t,i),this.shapeType===1&&this.setRadius({x:t/2,y:i/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,i),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};const pT={rectangle:0,circle:1};K.register("roundRectangle",function(e,t,i,n,x,S,M){var b=new Tr(this.scene,e,t,i,n,x,S,M);return this.scene.add.existing(b),b}),$(window,"RexPlugins.UI.RoundRectangle",Tr);const gT=Phaser.Renderer.WebGL.Utils;var mT=function(e,t,i,n){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var x=t.frame,S=x.width,M=x.height,b=gT.getTintAppendFloatAlpha,D=e.pipelines.set(t.pipeline,t),k=D.setTexture2D(x.glTexture,t);e.pipelines.preBatch(t),D.batchTexture(t,x.glTexture,S,M,t.x,t.y,S/t.resolution,M/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,M,b(t.tintTopLeft,i.alpha*t._alphaTL),b(t.tintTopRight,i.alpha*t._alphaTR),b(t.tintBottomLeft,i.alpha*t._alphaBL),b(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,n,!1,k),e.pipelines.postBatch(t)}},xT=function(e,t,i,n){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))},yT={renderWebGL:mT,renderCanvas:xT};const CT=Phaser.Display.Color;var ST={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,n,x,S,M,b,D,k){var W=this.scene.sys.textures.getFrame(e,t);if(!W)return this;var Z=W.cutWidth,tt=W.cutHeight;i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=Z),S===void 0&&(S=tt),M===void 0&&(M=0),b===void 0&&(b=0),D===void 0&&(D=Z),k===void 0&&(k=tt);var _=W.cutX+M,st=W.cutY+b;return this.context.drawImage(W.source.image,_,st,D,k,i,n,x,S),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new CT);var n=this.context.getImageData(e,t,1,1);return i.setTo(n.data[0],n.data[1],n.data[2],n.data[3]),i},setPixel(e,t,i,n,x,S){if(typeof i!="number"){var M=i;i=M.red,n=M.green,x=M.blue,S=M.alpha}S===void 0&&(S=i!==0||n!==0||x!==0?255:0);var b=this.context.createImageData(1,1);return b.data[0]=i,b.data[1]=n,b.data[2]=x,b.data[3]=S,this.context.putImageData(b,e,t),this.dirty=!0,this}},Cv=function(e,t,i,n,x,S,M){var b=e.sys.textures,D=e.renderer;n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=t.width),M===void 0&&(M=t.height);var k;b.exists(i)?k=b.get(i):k=b.createCanvas(i,S,M);var W=k.getSourceImage();W.width!==S&&(W.width=S),W.height!==M&&(W.height=M);var Z=W.getContext("2d",{willReadFrequently:!0});Z.clearRect(0,0,S,M),Z.drawImage(t,n,x,S,M),D.gl&&k&&D.canvasToTexture(W,k.source[0].glTexture,!0,0)},TT={updateTexture(e,t){if(e){var i=this.resolution;i!==1&&(this.context.save(),this.context.scale(i,i)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),i!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},generateTexture(e,t,i,n,x){var S=this.canvas;return n===void 0?n=S.width:n*=this.resolution,x===void 0?x=S.height:x*=this.resolution,Cv(this.scene,S,e,t,i,n,x),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};Et();const Sv=Phaser.Display.Canvas.CanvasPool,PT=Phaser.GameObjects.GameObject,ET=Phaser.Utils.String.UUID;let Ks=class extends PT{constructor(t,i,n,x,S,M){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=1),M===void 0&&(M=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=x,this._height=S,this.resolution=M,x=Math.max(Math.ceil(x*this.resolution),1),S=Math.max(Math.ceil(S*this.resolution),1),this.canvas=Sv.create(this,x,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(i,n),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=ET(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){Sv.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var i=Math.max(Math.ceil(this.width*t),1),n=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=i,this.canvas.height=n,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,i){return this._width===t&&this._height===i?this:(this._width=t,this._height=i,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),i=Math.max(Math.ceil(i*this.resolution),1),this.canvas.width=t,this.canvas.height=i,this.frame.setSize(t,i),this.dirty=!0,this)}setSize(t,i){return this.setCanvasSize(t,i),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,i){return this.displayWidth=t,this.displayHeight=i,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,i){return this.setSize(t,i),this}};const li=Phaser.GameObjects.Components;Phaser.Class.mixin(Ks,[li.Alpha,li.BlendMode,li.Crop,li.Depth,li.Flip,li.GetBounds,li.Mask,li.Origin,li.Pipeline,li.PostPipeline,li.ScrollFactor,li.Tint,li.Transform,li.Visible,yT,ST,TT]);const MT=Phaser.Utils.String.Pad;var Ut=function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${MT(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const Tv=Phaser.Math.DegToRad;var Pv=function(e,t,i,n,x,S,M){var b=new cu(t,i,n,x,S),D=b.minWidth,k=b.minHeight,W=n>=D?1:n/D,Z=x>=k?1:x/k,tt=b.cornerRadius,_,st,at,nt,ut,ct,dt;e.save(),e.beginPath(),e.translate(t,i),_=tt.tl,kh(_)?(st=_.x*W,at=_.y*Z,Ih(_)?(nt=st,ut=at,Zs(e,nt,ut,st,at,180,270,!1,M)):(nt=0,ut=0,Zs(e,nt,ut,st,at,90,0,!0,M)),ct=0,dt=at):(e.lineTo(0,0),ct=0,dt=0),_=tt.tr,kh(_)?(st=_.x*W,at=_.y*Z,Ih(_)?(nt=n-st,ut=at,Zs(e,nt,ut,st,at,270,360,!1,M)):(nt=n,ut=0,Zs(e,nt,ut,st,at,180,90,!0,M))):e.lineTo(n,0),_=tt.br,kh(_)?(st=_.x*W,at=_.y*Z,Ih(_)?(nt=n-st,ut=x-at,Zs(e,nt,ut,st,at,0,90,!1,M)):(nt=n,ut=x,Zs(e,nt,ut,st,at,270,180,!0,M))):e.lineTo(n,x),_=tt.bl,kh(_)?(st=_.x*W,at=_.y*Z,Ih(_)?(nt=st,ut=x-at,Zs(e,nt,ut,st,at,90,180,!1,M)):(nt=0,ut=x,Zs(e,nt,ut,st,at,360,270,!0,M))):e.lineTo(0,x),e.lineTo(ct,dt),e.closePath(),e.restore()},Ih=function(e){return!e.hasOwnProperty("convex")||e.convex},kh=function(e){return e.x>0&&e.y>0},Zs=function(e,t,i,n,x,S,M,b,D){if(b&&M>S?M-=360:!b&&M<S&&(M+=360),S=Tv(S),M=Tv(M),D==null)e.ellipse(t,i,n,x,0,S,M,b);else{D+=1;for(var k,W,Z,tt=(M-S)/D,_=0;_<=D;_++)Z=S+tt*_,k=t+n*Math.cos(Z),W=i+x*Math.sin(Z),e.lineTo(k,W)}},wT=function(e,t,i,n,x,S,M,b,D,k,W,Z,tt){if(Pv(t,i,n,x,S,M,tt),b!=null){if(W!=null){var _;Z?_=t.createLinearGradient(0,0,x,0):_=t.createLinearGradient(0,0,0,S),_.addColorStop(0,b),_.addColorStop(1,W),b=_}t.fillStyle=b,t.fill()}D!=null&&k>0&&(t.strokeStyle=D,t.lineWidth=k,t.stroke())},vu=function(e,t,i,n,x,S,M,b){if(!(t==null&&i==null)){var D=e.canvas.width,k=e.canvas.height;i==null&&(n=0);var W=n/2;D=Math.max(1,D-n),k=Math.max(1,k-n),wT(e.canvas,e.context,W,W,D,k,x,t,i,n,S,M,b)}},RT=function(){vu(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const Ev=Phaser.Utils.Objects.GetValue;let Mv=class extends Ks{constructor(t,i,n,x,S,M,b,D,k,W,Z,tt){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=x),M===void 0&&(M=0),tt===void 0&&(tt=1),super(t,i,n,x,S,tt),this.type="rexRoundRectangleCanvas";var _=Ev(M,"radius",M),st=Ev(M,"iteration",void 0);this.setRadius(_),this.setIteration(st),this.setFillStyle(b,W,Z),this.setStrokeStyle(D,k)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=Ut(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=Ut(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,i,n){return n===void 0&&(n=!0),this.fillStyle=t,this.fillColor2=i,this.isHorizontalGradient=n,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=Ut(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,i){return this.strokeStyle=t,this.lineWidth=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),RT.call(this)},this),this}};K.register("roundRectangleCanvas",function(e,t,i,n,x,S,M,b,D,k){var W=new Mv(this.scene,e,t,i,n,x,S,M,b,D,k);return this.scene.add.existing(W),W}),$(window,"RexPlugins.UI.RoundRectangleCanvas",Mv);var ie=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},Js=function(e,t,i){!t||ie(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return i.x},set:function(n){i.x=n,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return i.y},set:function(n){i.y=n,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return i.t},set:function(n){i.t=n,e.dirty=!0}}))},AT={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,i,n){var x=this.geom.topSidePoints;if(Array.isArray(e))for(var x=e,S,M=0,b=x.length;M<b;M++)S=x[M],this.geom.insertTopSidePoint(S.t,S.x,S.y),Js(this,S.key,x[x.length-1]);else this.geom.insertTopSidePoint(e,t,i),Js(this,n,x[x.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,i,n){var x=this.geom.rightSidePoints;if(Array.isArray(e))for(var x=e,S,M=0,b=x.length;M<b;M++)S=x[M],this.geom.insertRightSidePoint(S.t,S.x,S.y),Js(this,S.key,x[x.length-1]);else this.geom.insertRightSidePoint(e,t,i),Js(this,n,x[x.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,i,n){var x=this.geom.bottomSidePoints;if(Array.isArray(e))for(var x=e,S,M=0,b=x.length;M<b;M++)S=x[M],this.geom.insertBottomSidePoint(S.t,S.x,S.y),Js(this,S.key,x[x.length-1]);else this.geom.insertBottomSidePoint(e,t,i),Js(this,n,x[x.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,i,n){var x=this.geom.leftSidePoints;if(Array.isArray(e))for(var x=e,S,M=0,b=x.length;M<b;M++)S=x[M],this.geom.insertLeftSidePoint(S.t,S.x,S.y),Js(this,S.key,x[x.length-1]);else this.geom.insertLeftSidePoint(e,t,i),Js(this,n,x[x.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class bT{constructor(t,i,n,x){t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=0),x===void 0&&(x=0),this.setTo(t,i,n,x),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,i,n,x){return this.setPosition(t,i),this.setSize(n,x),this}setPosition(t,i){return this.x=t,this.y=i,this}setSize(t,i){return this.width=t,this.height=i,this}setTLPosition(t,i){return this.tlx=t,this.tly=i,this}setTRPosition(t,i){return this.trx=t,this.try=i,this}setBLPosition(t,i){return this.blx=t,this.bly=i,this}setBRPosition(t,i){return this.brx=t,this.bry=i,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,i,n){return Gh(this.topSidePoints,t,i,n),this}insertRightSidePoint(t,i,n){return Gh(this.rightSidePoints,t,i,n),this}insertBottomSidePoint(t,i,n){return Gh(this.bottomSidePoints,t,i,n),this}insertLeftSidePoint(t,i,n){return Gh(this.leftSidePoints,t,i,n),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var Gh=function(e,t,i,n){if(typeof t!="number"){var x=t;t=x.t,i=x.x,n=x.y}e.push({t,x:i,y:n})};const LT=Phaser.Utils.Objects.IsPlainObject,wi=Phaser.Utils.Objects.GetValue,Qs=Phaser.Math.Linear,OT=Phaser.Geom.Polygon.Earcut;class pu extends fu{constructor(t,i,n,x,S,M,b){var D,k,W;if(LT(i)){var Z=i;i=Z.x,n=Z.y,x=Z.width,S=Z.height,M=Z.color,b=Z.alpha,D=Z.strokeColor,k=Z.strokeAlpha,W=Z.strokeWidth}i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=x);var tt=new bT;super(t,"rexQuadShape",tt),tt.setTo(0,0,x,S),this.setPosition(i,n),this.setFillStyle(M,b),D!==void 0&&W===void 0&&(W=2),this.setStrokeStyle(W,D,k),this.setTLPosition(wi(Z,"tlx",0),wi(Z,"tly",0)).setTRPosition(wi(Z,"trx",0),wi(Z,"try",0)).setBLPosition(wi(Z,"blx",0),wi(Z,"bly",0)).setBRPosition(wi(Z,"brx",0),wi(Z,"bry",0));var _=wi(Z,"leftSidePoints");_&&this.insertLeftSidePoint(_);var st=wi(Z,"topSidePoints");st&&this.insertTopSidePoint(st);var at=wi(Z,"rightSidePoints");at&&this.insertRightSidePoint(at);var nt=wi(Z,"bottomSidePoints");nt&&this.insertBottomSidePoint(nt),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var n=t.width,x=t.height,S=0+t.tlx,M=0+t.tly,b=n+t.trx,D=0+t.try,k=n+t.brx,W=x+t.bry,Z=0+t.blx,tt=x+t.bly,_=t.topSidePoints,st=t.rightSidePoints,at=t.bottomSidePoints,nt=t.leftSidePoints;Ve(S,M,i),zh(_);for(var ut=0,ct=_.length;ut<ct;ut++){var dt=_[ut],mt=Qs(S,b,dt.t)+dt.x,Tt=Qs(M,D,dt.t)+dt.y;Ve(mt,Tt,i)}Ve(b,D,i),zh(st);for(var ut=0,ct=st.length;ut<ct;ut++){var dt=st[ut],mt=Qs(b,k,dt.t)+dt.x,Tt=Qs(D,W,dt.t)+dt.y;Ve(mt,Tt,i)}Ve(k,W,i),zh(at);for(var ut=at.length-1;ut>=0;ut--){var dt=at[ut],mt=Qs(Z,k,dt.t)+dt.x,Tt=Qs(tt,W,dt.t)+dt.y;Ve(mt,Tt,i)}Ve(Z,tt,i),zh(nt);for(var ut=nt.length-1;ut>=0;ut--){var dt=nt[ut],mt=Qs(S,Z,dt.t)+dt.x,Tt=Qs(M,tt,dt.t)+dt.y;Ve(mt,Tt,i)}return i.push(i[0],i[1]),this.pathIndexes=OT(i),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var zh=function(e){e.length<=1||e.sort(function(t,i){return t.t-i.t})};Object.assign(pu.prototype,AT),K.register("QuadShape",function(e,t,i,n,x,S){var M=new pu(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),$(window,"RexPlugins.UI.QuadShape",pu);var DT=Phaser.Renderer.WebGL.Utils,FT=function(e,t,i,n){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var x=t.frame,S=x.width,M=x.height,b=DT.getTintAppendFloatAlpha,D=e.pipelines.set(t.pipeline,t),k=D.setTexture2D(x.glTexture,t);e.pipelines.preBatch(t),D.batchTexture(t,x.glTexture,S,M,t.x,t.y,S/t.style.resolution,M/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,M,b(t.tintTopLeft,i.alpha*t._alphaTL),b(t.tintTopRight,i.alpha*t._alphaTR),b(t.tintBottomLeft,i.alpha*t._alphaBL),b(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,n,!1,k),e.pipelines.postBatch(t)}},BT=function(e,t,i,n){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))},IT={renderWebGL:FT,renderCanvas:BT};const gu=Phaser.Display.Canvas.CanvasPool;var kT=function(e,t,i){i===void 0&&(i={});var n=gu.create(this),x=n.getContext("2d",{willReadFrequently:!0});e.syncFont(n,x);var S=x.measureText(t),M=Math.ceil(S.width*e.baselineX),b=M,D=2*b;if(b=b*e.baselineY|0,n.width=M,n.height=D,x.fillStyle="#f00",x.fillRect(0,0,M,D),x.font=e._font,x.textBaseline="alphabetic",x.fillStyle="#000",x.fillText(e.testString,0,b),i.left=0,M===0||D===0||!x.getImageData(0,0,M,D))return gu.remove(n),i;for(var k=x.getImageData(0,0,M,D).data,W=!1,Z=0;Z<M;Z++){for(var tt=0;tt<D;tt++){var _=(tt*M+Z)*4;if(k[_]!==255){i.left=Z,W=!0;break}}if(W)break}return gu.remove(n),i};Et();const GT=Phaser.GameObjects.GameObject;class wv extends GT{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,n){return this.style.setBackgroundColor(t,i,n)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,n,x,S,M){return this.style.setShadow(t,i,n,x,S,M)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,i,n){return this.style.setUnderline(t,i,n)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,i,n){return this.style.setStrikethrough(t,i,n)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return kT(this.style,t,i)}}const ii=Phaser.GameObjects.Components;Phaser.Class.mixin(wv,[ii.Alpha,ii.BlendMode,ii.ComputedSize,ii.Crop,ii.Depth,ii.Flip,ii.GetBounds,ii.Mask,ii.Origin,ii.Pipeline,ii.PostPipeline,ii.ScrollFactor,ii.Tint,ii.Transform,ii.Visible,IT]);var zT={backgroundColor:["backgroundColor",null,Ut],backgroundColor2:["backgroundColor2",null,Ut],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,Ut],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",Ut],stroke:["stroke","#fff",Ut],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",Ut],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",Ut],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",Ut],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|MÃ‰qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const Nh=Phaser.Display.Canvas.CanvasPool;var Rv=function(e){var t=Nh.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var n=i.measureText(e.testString);if("actualBoundingBoxAscent"in n){var x=n.actualBoundingBoxAscent,S=n.actualBoundingBoxDescent,k={ascent:x,descent:S,fontSize:x+S};return Nh.remove(t),k}var M=Math.ceil(n.width*e.baselineX),b=M,D=2*b;b=b*e.baselineY|0,t.width=M,t.height=D,i.fillStyle="#f00",i.fillRect(0,0,M,D),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,b);var k={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,M,D))return k.ascent=b,k.descent=b+6,k.fontSize=k.ascent+k.descent,Nh.remove(t),k;var W=i.getImageData(0,0,M,D).data,Z=W.length,tt=M*4,_,st,at=0,nt=!1;for(_=0;_<b;_++){for(st=0;st<tt;st+=4)if(W[at+st]!==255){nt=!0;break}if(!nt)at+=tt;else break}for(k.ascent=b-_,at=Z-tt,nt=!1,_=D;_>b;_--){for(st=0;st<tt;st+=4)if(W[at+st]!==255){nt=!0;break}if(!nt)at-=tt;else break}return k.descent=_-b,k.fontSize=k.ascent+k.descent,Nh.remove(t),k},Le={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const Vh={none:Le.NO_WRAP,word:Le.WORD_WRAP,char:Le.CHAR_WRAP,character:Le.CHAR_WRAP,mix:Le.MIX_WRAP},NT=Phaser.Utils.Objects.GetAdvancedValue,pi=Phaser.Utils.Objects.GetValue;let mu=class{constructor(t,i,n){this.parent=t,n===void 0&&(n=zT),this.propertyMap=n,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(i,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==Le.NO_WRAP&&this.wrapWidth===0}setStyle(t,i,n){if(i===void 0&&(i=!0),n===void 0&&(n=!1),t&&t.hasOwnProperty("wordWrap")){var x=t.wordWrap;x.hasOwnProperty("width")&&(t.wrap={mode:"word",width:x.width})}if(t&&t.hasOwnProperty("wrap")){var S=t.wrap;if(S.hasOwnProperty("mode")){var M=S.mode;typeof M=="string"&&(S.mode=Vh[M])}else S.hasOwnProperty("width")&&(S.mode=1)}t&&t.rtl&&n&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var b=this.propertyMap;for(var D in b){var k=b[D],W=k[0],Z=n?k[1]:this[D],tt=k[2];if(D==="wrapCallback"||D==="wrapCallbackScope")this[D]=pi(t,W,Z);else{var _=NT(t,W,Z);tt&&(_=tt(_)),this[D]=_}}var st=pi(t,"font",null);st===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=st;var at=pi(t,"fill",null);at!==null&&(this.color=Ut(at));var nt=pi(t,"metrics",!1);return nt?this.metrics={ascent:pi(nt,"ascent",0),descent:pi(nt,"descent",0),fontSize:pi(nt,"fontSize",0)}:(i||!this.metrics)&&(this.metrics=Rv(this)),i?this.parent.updateText():this.parent}syncFont(t,i){i.font=this._font}syncStyle(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"}syncShadow(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=Rv(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=pi(t,"fontFamily","Courier"),this.fontSize=pi(t,"fontSize","16px"),this.fontStyle=pi(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,i,n){return n===void 0&&(n=!0),this.backgroundColor=Ut(t,this.parent.canvas,this.parent.context),this.backgroundColor2=Ut(i,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=n,this.update(!1)}setBackgroundStrokeColor(t,i){return this.backgroundStrokeColor=Ut(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=i,this.update(!1)}setBackgroundCornerRadius(t,i){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=i,this.update(!1)}setFill(t){return this.color=Ut(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=Ut(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,i){return t===void 0?this.strokeThickness=0:(i===void 0&&(i=this.strokeThickness),this.stroke=Ut(t,this.parent.canvas,this.parent.context),this.strokeThickness=i),this.update(!0)}setShadow(t,i,n,x,S,M){return t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n="#000"),x===void 0&&(x=0),S===void 0&&(S=!1),M===void 0&&(M=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=Ut(n,this.parent.canvas,this.parent.context),this.shadowBlur=x,this.shadowStroke=S,this.shadowFill=M,this.update(!1)}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=Ut(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,i,n){return t===void 0&&(t="#000"),i===void 0&&(i=0),n===void 0&&(n=0),this.underlineColor=Ut(t,this.parent.canvas,this.parent.context),this.underlineThickness=i,this.underlineOffset=n,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=Ut(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,i,n){return t===void 0&&(t="#000"),i===void 0&&(i=0),n===void 0&&(n=0),this.strikethroughColor=Ut(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=i,this.strikethroughOffset=n,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=Ut(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=Vh[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,i){return t===void 0&&(t="left"),i===void 0&&(i="top"),this.halign=t,this.valign=i,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,i){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,i&&(typeof i=="string"?(this.fontFamily=i,this.fontSize="",this.fontStyle=""):(this.fontFamily=pi(i,"fontFamily",this.fontFamily),this.fontSize=pi(i,"fontSize",this.fontSize),this.fontStyle=pi(i,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},i=this.propertyMap;for(var n in i)t[n]=this[n];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};var fn=function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e},VT={draw(e,t,i,n){var x=this.penManager;this.hitAreaManager.clear();var S=this.context;S.save();var M=this.defaultStyle;this.clear(),vu(this,M.backgroundColor,M.backgroundStrokeColor,M.backgroundStrokeLineWidth,M.backgroundCornerRadius,M.backgroundColor2,M.backgroundHorizontalGradient,M.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var b=M.halign,D=M.valign,k,W=M.lineHeight,Z=x.lines,tt=Z.length,_=M.maxLines,st,at,nt;_>0&&tt>_?(st=_,D==="center"?at=Math.floor((tt-st)/2):D==="bottom"?at=tt-st:at=0):(st=tt,at=0),nt=at+st;var ut,ct,dt=this.rtl,mt=dt?this.parent.width:void 0;D==="center"?ct=Math.max((n-st*W)/2,0):D==="bottom"?ct=Math.max(n-st*W-2,0):ct=0,ct+=t;for(var Tt=at;Tt<nt;Tt++)if(k=x.getLineWidth(Tt),k!==0){for(var Pt=Z[Tt],At=Pt.length,Ft=b,Dt=0;Dt<At;Dt++){var zt=Pt[Dt].prop.align;if(zt!==void 0){Ft=zt;break}}Ft==="center"?ut=(i-k)/2:Ft==="right"?ut=dt?0:i-k:ut=dt?i-k:0,ut+=e;for(var Dt=0;Dt<At;Dt++)this.drawPen(Pt[Dt],ut,ct,mt)}S.restore()},drawPen(e,t,i,n){t+=e.x,i+=e.y+(e.prop.y||0),n!==void 0&&(t=n-t);var x=this.canvas,S=this.context;S.save();var M=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(M.bgcolor!==null&&e.width>0){var b=this.defaultStyle.metrics,D=i-b.ascent,k=b.fontSize;this.drawRectangle(t,D,e.width,k,M.bgcolor,M)}if(M.underlineThickness>0&&e.width>0){var W=i+M.underlineOffset-M.underlineThickness/2;this.drawLine(t,W,e.width,M.underlineThickness,M.underlineColor,M)}if(e.isTextPen&&(M.buildFont(),M.syncFont(x,S),M.syncStyle(x,S),this.drawText(t,i,e.text,M)),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,M),M.strikethroughThickness>0&&e.width>0){var W=i+M.strikethroughOffset-M.strikethroughThickness/2;this.drawLine(t,W,e.width,M.strikethroughThickness,M.strikethroughColor,M)}if(S.restore(),e.hasAreaMarker&&e.width>0){var Z,tt=e.prop.area;if(tt)Z={key:tt};else{var _=e.prop.url;Z={key:`url:${_}`,url:_}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,Z)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,i,n,x,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var M=this.context;M.fillStyle=x,M.fillRect(e,t,i,n)},drawLine(e,t,i,n,x,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var M=this.context;S.syncShadow(M,S.shadowStroke);var b=M.lineCap;M.lineCap="butt",M.strokeStyle=x,M.lineWidth=n,M.beginPath(),M.moveTo(e,t),M.lineTo(e+i,t),M.stroke(),M.lineCap=b},drawText(e,t,i,n){this.autoRound&&(e=Math.round(e),t=Math.round(t));var x=this.context;n.stroke&&n.stroke!=="none"&&n.strokeThickness>0&&(n.syncShadow(x,n.shadowStroke),x.strokeText(i,e,t)),n.color&&n.color!=="none"&&(n.syncShadow(x,n.shadowFill),x.fillText(i,e,t))},drawImage(e,t,i,n,x){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,n,this.autoRound)}};const Pr=Phaser.Utils.Objects.GetValue,WT=Le.NO_NEWLINE,Av=Le.RAW_NEWLINE;class UT{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=Pr(t,"text",""),this.x=Pr(t,"x",0),this.y=Pr(t,"y",0),this.width=Pr(t,"width",0);var i=Pr(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=Pr(t,"newLineMode",0),this.startIndex=Pr(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===Av&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==WT&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===Av&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var Ui=function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:ve(t),i){t.length=e.length;for(var n=0,x=e.length;n<x;n++)t[n]=e[n]}else for(var S in e)t[S]=e[S];return t};const bv=Phaser.Utils.Objects.GetFastValue,Lv=Le.NO_NEWLINE,XT=Le.WRAPPED_NEWLINE;class xu{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=bv(t,"tagToText",a),this.tagToTextScope=bv(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,n,x,S,M){var b=this.pensPool.pop();return b==null&&(b=new UT),Er.text=t,Er.x=i,Er.y=n,Er.width=x,Er.prop=S,Er.newLineMode=M,b.resetFromJSON(Er),this.addPen(b),this}addImagePen(t,i,n,x){return this.addTextPen("",t,i,n,x,Lv),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,n=t?t.y:0,x=t?Ui(t.prop):null;return this.addTextPen("",i,n,0,x,XT),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var n=this.lastLine;n==null&&(n=this.linesPool.pop()||[],this.lines.push(n)),n.push(t),t.newLineMode!==Lv&&(n=this.linesPool.pop()||[],this.lines.push(n)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new xu),t.clear();for(var i=0,n=this.lines.length;i<n;i++)for(var x=this.lines[i],S=0,M=x.length;S<M;S++){var b=x[S];t.addPen(b.text,b.x,b.y,b.width,Ui(b.prop),b.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,n=!1,x;for(i=t;i>=0&&(x=this.lines[i],n=x!=null&&x.length>0,!n);i--);if(!n)return 0;var S=x[x.length-1];return S.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var n=i[i.length-1];if(n==null)return 0;var x=n.lastX;return x}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,n=0,x=this.lines.length;n<x;n++)t=this.getLineWidth(n),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,n=this.lines.length;i<n;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,n=0,x=i.length;n<x;n++)t+=i[n].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,n=0,x=this.pens.length;n<x;n++)t+=i[n].rawTextLength;return t}getSliceTagText(t,i,n){var x=this.lastPen;if(x==null)return"";var S=x.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===S)&&(i=S+1),n===void 0&&(n=!1);for(var M="",b,D,k,W,Z,tt,_,st=0,at=this.pens.length;st<at&&(b=this.pens[st],W=b.endIndex,!(!(W<=t)&&(b=this.pens[st],D=n?b.wrapText:b.plainText,tt=b.prop,k=b.startIndex,Z=k>=t&&W<=i,Z||(D=D.substring(t-k,i-k)),this.tagToTextScope?M+=this.tagToText.call(this.tagToTextScope,D,tt,_):M+=this.tagToText(D,tt,_),_=tt,W>=i)));st++);return M}get length(){return this.lines.length}set length(t){this.clear()}}var Er={};const YT=Phaser.Geom.Rectangle;var Ov=new yt;class HT{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)this.hitAreas[t].data=null;return Ov.pushMultiple(this.hitAreas),this}add(t,i,n,x,S){S===void 0&&(S={});var M=Ov.pop();return M===null?M=new YT(t,i,n,x):M.setTo(t,i,n,x),M.data=S,this.hitAreas.push(M),this}getFirst(t,i){for(var n=0,x=this.hitAreas.length;n<x;n++){var S=this.hitAreas[n];if(S.contains(t,i))return S}return null}getByKey(t){for(var i=0,n=this.hitAreas.length;i<n;i++){var x=this.hitAreas[i];if(x.data.key===t)return x}return null}drawBounds(t,i,n){i===void 0&&(i=16777215),n&&t.save().translateCanvas(n.x,n.y).rotateCanvas(n.rotation).scaleCanvas(n.scaleX,n.scaleY);for(var x=0,S=this.hitAreas.length;x<S;x++){var M=this.hitAreas[x];t.lineStyle(1,i).strokeRect(M.x,M.y,M.width,M.height)}return n&&t.restore(),this}}var $T=function(){this.parent.on("pointerdown",KT,this).on("pointerup",ZT,this).on("pointermove",yu,this).on("pointerover",yu,this).on("pointerout",function(e,t){yu.call(this,e,null,null,t)},this)},KT=function(e,t,i,n){var x=this.hitAreaManager.getFirst(t,i);if(x!==null){var S=x.data.key;cn.call(this,"areadown",S,e,t,i,n),x.data&&(x.data.isDown=!0)}},ZT=function(e,t,i,n){var x=this.hitAreaManager.getFirst(t,i);if(x!==null){var S=x.data.key;if(cn.call(this,"areaup",S,e,t,i,n),!!x.data){if(x.data.isDown){if(cn.call(this,"areaclick",S,e,t,i,n),!x.data)return;var M=x.data.url;M&&window.open(M,"_blank")}x.data.isDown=!1}}},yu=function(e,t,i,n){if(t===null){if(this.lastHitAreaKey!==null){cn.call(this,"areaout",this.lastHitAreaKey,e,t,i,n);var x=this.hitAreaManager.getByKey(this.lastHitAreaKey);x&&x.data&&(x.data.isDown=!1),this.lastHitAreaKey=null}return}var x=this.hitAreaManager.getFirst(t,i),S=x?x.data.key:null;if(this.lastHitAreaKey!==S){if(this.lastHitAreaKey!==null){cn.call(this,"areaout",this.lastHitAreaKey,e,t,i,n);var M=this.hitAreaManager.getByKey(this.lastHitAreaKey);M&&(this.urlTagCursorStyle&&Dv(this.scene,M,""),M.data.isDown=!1)}S!==null&&(cn.call(this,"areaover",S,e,t,i,n),x.data&&this.urlTagCursorStyle&&Dv(this.scene,x,this.urlTagCursorStyle)),this.lastHitAreaKey=S}},cn=function(e,t,i,n,x,S){this.parent.emit(`${e}-${t}`,i,n,x,S),this.parent.emit(e,t,i,n,x,S)},Dv=function(e,t,i){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=i)};const Fv=Phaser.GameObjects.Components.TransformMatrix,JT=Phaser.Math.TransformXY;var Bv=function(e,t,i,n,x){n===void 0&&(n=e.scene.cameras.main),x===void 0?x={}:x===!0&&(x=QT);var S=n.scrollX,M=n.scrollY,b=t+S*e.scrollFactorX-S,D=i+M*e.scrollFactorY-M;return e.parentContainer?(Wh===void 0&&(Wh=new Fv,Iv=new Fv),e.getWorldTransformMatrix(Wh,Iv),Wh.applyInverse(b,D,x)):JT(b,D,e.x,e.y,e.rotation,e.scaleX,e.scaleY,x),x.x+=e.displayOriginX,x.y+=e.displayOriginY,x},Wh,Iv,QT={},jT=function(e,t,i){var n=Bv(this.parent,e,t,i,!0),x=this.hitAreaManager.getFirst(n.x,n.y);if(x!==null)return x.data.key},qT=/^[\x00-\x7F]+$/,ha=function(e){return qT.test(e)};const _T=Le.NO_NEWLINE,t1=Le.RAW_NEWLINE,Cu=Le.WRAPPED_NEWLINE,kv=Le.NO_WRAP,e1=Le.WORD_WRAP,Gv=Le.CHAR_WRAP,i1=Le.SPLITREGEXP;var zv=function(e,t,i,n,x,S){n<=0&&(i=kv);var M=[];if(!e||!e.length)return M;for(var b=i===kv,D=e.split(i1),k,W,Z,tt=0,_=D.length;tt<_;tt++){if(k=D[tt],Z=tt===_-1?_T:t1,b){var st=t.measureText(k).width;M.push(S.getLine(k,st,Z));continue}if(W=tt===0?n-x:n,k.length<=100){var st=t.measureText(k).width;if(st<=W){M.push(S.getLine(k,st,Z));continue}}for(var at=s1(k,i),nt,ut,ct="",dt=0,mt,Tt=0,Pt=at.length;Tt<Pt;Tt++){if(nt=at[Tt],ut=t.measureText(nt).width,ut>n&&r1(nt)){ct!==""?M.push(S.getLine(ct,dt,Cu)):Tt===0&&x>0&&M.push(S.getLine("",0,Cu)),M.push(...zv(nt,t,Gv,n,0,S));var At=M.pop();ct=At.text,dt=At.width,S.freeLine(At),ct===" "&&(ct="",dt=0);continue}mt=dt+ut,mt>W?(M.push(S.getLine(ct,dt,Cu)),ct=nt,dt=ut,W=n):(ct+=nt,dt=mt),Tt===Pt-1&&M.push(S.getLine(ct,dt,Z))}}return M},s1=function(e,t){var i;switch(t){case e1:i=[],e=e.split(" ");for(var n=0,x=e.length;n<x;n++){var S=e[n];n<x-1?i.push(S+" "):S!==""&&i.push(S)}break;case Gv:i=e.split("");break;default:i=[],e=e.split(" ");for(var n=0,x=e.length;n<x;n++){var S=e[n];n<x-1?ha(S)?i.push(S+" "):(i.push(...S.split("")),i.push(" ")):S!==""&&(ha(S)?i.push(S):i.push(...S.split("")))}break}return i},r1=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const Su=Phaser.Utils.Objects.GetValue,n1=Le.NO_WRAP,Nv=Le.NO_NEWLINE,a1=Le.WRAPPED_NEWLINE;class Vv{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Su(t,"context",null),this.canvas=this.context.canvas,this.parser=Su(t,"parser",null),this.defaultStyle=Su(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new HT,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,n,x,S){if(S===void 0&&(S=this.penManager),S.clear(),t==="")return S;var M=this.parent.style;if(M.isWrapFitMode){var b=this.parent.padding;n=M.fixedWidth-b.left-b.right}for(var D=this.canvas,k=this.context,W=0,Z=0,tt=M.wrapCallback,_=M.wrapCallbackScope,st=!0,at,nt,ut,ct=this.parser.splitText(t),dt,mt,Tt=this.wrapTextLinesPool,Pt=0,At=ct.length;Pt<At;Pt++)if(dt=this.parser.tagTextToProp(ct[Pt],nt),at=dt.plainText,nt=dt.prop,nt.img){var Ft=this.imageManager.getOuterWidth(nt.img);n>0&&i!==n1&&n<W+Ft&&(S.addNewLinePen(),Z+=x,W=0),S.addImagePen(W,Z,Ft,Ui(nt)),W+=Ft}else if(at!==""){if(k.save(),ut=this.parser.propToContextStyle(this.defaultStyle,nt),ut.buildFont(),ut.syncFont(D,k),ut.syncStyle(D,k),!tt)mt=zv(at,k,i,n,W,Tt);else{mt=tt.call(_,at,k,n,W),typeof mt=="string"&&(mt=mt.split(`
`));for(var Gt,Dt=0,zt=mt.length;Dt<zt;Dt++)Gt=mt[Dt],typeof Gt=="string"?mt[Dt]=Tt.getLine(Gt,k.measureText(Gt).width,Dt<zt-1?a1:Nv):st=!1}for(var Gt,Dt=0,zt=mt.length;Dt<zt;Dt++)Gt=mt[Dt],S.addTextPen(Gt.text,W,Z,Gt.width,Ui(nt),Gt.newLineMode),Gt.newLineMode!==Nv?(W=0,Z+=x):W+=Gt.width;st&&Tt.freeLines(mt),mt=null,k.restore()}for(var Pt=0,At=this.lines.length;Pt<At;Pt++){var qt=this.lines[Pt],_t=qt[qt.length-1];_t&&(_t.width+=this.parser.getStrokeThinkness(this.defaultStyle,_t.prop))}return S}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new xu({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,n){var x;if(t==null)x=this.penManager.plainText;else{var S=this.parser.splitText(t,1);x="";for(var M=0,b=S.length;M<b;M++)x+=S[M]}return(i!=null||n!=null)&&(i==null&&(i=0),n==null&&(n=x.length),x=x.substring(i,n)),x}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,i),i}getText(t,i,n,x){if(t==null)return this.penManager.getSliceTagText(i,n,x);var S=this.tmpPenManager,M=this.defaultStyle;return this.updatePenManager(t,M.wrapMode,M.wrapWidth,M.lineHeight,S),S.getSliceTagText(i,n,x)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var h1={setInteractive:$T,getHitArea:jT};Object.assign(Vv.prototype,VT,h1);class Wv extends yt{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,n){var x=this.pop();return x===null&&(x={}),x.text=t,x.width=i,x.newLineMode=n,x}}const o1=Phaser.Utils.Objects.IsPlainObject,vn=Phaser.Utils.Objects.GetValue;var Tu=function(e,t){o1(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,n=t.frame,x=t.width,S=t.height;if(x===void 0||S===void 0){var M=this.textureManager.getFrame(i,n),b=M?M.cutWidth:0,D=M?M.cutHeight:0;x===void 0&&S===void 0?(x=b,S=D):x===void 0?x=b*(S/D):S===void 0&&(S=D*(x/b))}this.images[e]={key:i,frame:n,width:x,height:S,y:vn(t,"y",0),left:vn(t,"left",0),right:vn(t,"right",0),originX:vn(t,"originX",0),originY:vn(t,"originY",0),tintFill:vn(t,"tintFill",!1)}};const Uv=Phaser.Display.Canvas.CanvasPool;var Xv=function(e,t,i,n,x,S,M,b){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=e.cutWidth),S===void 0&&(S=e.cutHeight),b===void 0&&(b=!1),b&&(i=Math.round(i),n=Math.round(n));var D=t.getContext("2d",{willReadFrequently:!0});if(M){var k=Uv.create(null,x,S,Phaser.CANVAS,!0),W=k.getContext("2d",{willReadFrequently:!0});W.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,x,S),W.globalCompositeOperation="source-in",W.fillStyle=M,W.fillRect(0,0,x,S),D.drawImage(k,0,0,x,S,i,n,x,S),Uv.remove(k)}else D.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,n,x,S)},l1=function(e,t,i,n,x,S){var M=this.get(e);if(M){var b=this.textureManager.getFrame(M.key,M.frame),D=M.width,k=M.height;i+=M.left-M.originX*D,n+=M.y-M.originY*k,M.tintFill||(x=void 0),Xv(b,t.canvas,i,n,D,k,x,S)}};class Pu{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")Tu.call(this,t,i);else if(Array.isArray(t))for(var n=t,x=0,S=n.length;x<S;x++)Tu.call(this,n[x]);else{var n=t;for(var t in n)Tu.call(this,t,n[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var u1={draw:l1};Object.assign(Pu.prototype,u1);var Yv=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this};const d1=Phaser.Utils.Objects.IsPlainObject,Hv=Phaser.DOM.AddToDOM,$v=Phaser.Display.Canvas.CanvasPool,f1=Phaser.GameObjects.GameObject,ui=Phaser.Utils.Objects.GetValue,c1=Phaser.DOM.RemoveFromDOM,v1=Le.SPLITREGEXP,p1=Phaser.Utils.String.UUID;var pn=null,Eu=null,Mu=null;class wu extends wv{constructor(t,i,n,x,S,M,b){if(d1(i)){var D=i;i=ui(D,"x",0),n=ui(D,"y",0),x=ui(D,"text",""),S=ui(D,"style")}if(i===void 0&&(i=0),n===void 0&&(n=0),super(t,M),this.renderer=t.sys.game.renderer,this.setPosition(i,n),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=$v.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,S){if(S.hasOwnProperty("align")){var k=S.align;delete S.align,S.halign=k}S.hasOwnProperty("stroke")&&!S.hasOwnProperty("strokeThickness")&&(S.strokeThickness=1)}this.style=new mu(this,S);var W=ui(S,"images",void 0);W&&this.addImage(W),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=p1(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var Z=ui(S,"sharedPool",!0),tt,_,st;Z?(pn||(pn={},Eu=new yt,Mu=new Wv,this.scene.game.events.once("destroy",function(){pn=null,Eu=null,Mu=null})),pn.hasOwnProperty(M)||(pn[M]=new yt),tt=pn[M],_=Eu,st=Mu):(tt=new yt,_=new yt,st=new Wv),this.canvasText=new Vv({parent:this,context:this.context,parser:b,style:this.style,pensPool:tt,linesPool:_,wrapTextLinesPool:st}),this.parser=b,this.initRTL(),S&&S.padding&&this.setPadding(S.padding),this.setText(x),this.setUrlTagCursorStyle(ui(S,"urlTagCursorStyle","pointer")),ui(S,"interactive",!1)&&this.setInteractive()}preDestroy(){c1(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),$v.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Hv(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Hv(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var n=this._imageManager.images;for(var x in n)n[x].originX=1-n[x].originX}return this}setText(t){return t=fn(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,n,x){if(typeof t=="object"){var S=t,M=ui(S,"x",null);M!==null?(t=M,n=M):(t=ui(S,"left",0),n=ui(S,"right",t));var b=ui(S,"y",null);b!==null?(i=b,x=b):(i=ui(S,"top",0),x=ui(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=t),x===void 0&&(x=i);return this.padding.left=t,this.padding.top=i,this.padding.right=n,this.padding.bottom=x,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,n=this.style;t&&i.updatePenManager(this._text,n.wrapMode,n.wrapWidth,n.lineHeight);var x=this.padding,S,M,b=Math.ceil(i.linesWidth);n.fixedWidth===0?(this.width=b+x.left+x.right,S=b):(this.width=n.fixedWidth,S=this.width-x.left-x.right,S<b&&(S=b)),n.fixedHeight===0?(this.height=i.linesHeight+x.top+x.bottom,M=i.linesHeight):(this.height=n.fixedHeight,M=this.height-x.top-x.bottom,M<i.linesHeight&&(M=i.linesHeight));var D=this.width,k=this.height;this.updateDisplayOrigin();var W=n.resolution;D*=W,k*=W,D=Math.max(Math.ceil(D),1),k=Math.max(Math.ceil(k),1);var Z=this.canvas,tt=this.context;Z.width!==D||Z.height!==k?(Z.width=D,Z.height=k,this.frame.setSize(D,k)):tt.clearRect(0,0,D,k),tt.save(),tt.scale(W,W);var _=this.style.rtl?x.right:x.left,st=x.top;i.draw(_,st,S,M),tt.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(Z,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var at=this.input;return at&&!at.customHitArea&&(at.hitArea.width=this.width,at.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,n){var x=!!this.input;return f1.prototype.setInteractive.call(this,t,i,n),x||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),t=this.canvasText.getText(t,i,n,!0),t.split(v1)}getPlainText(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,n)}getText(t,i,n,x){return typeof t=="number"&&(x=n,n=i,i=t,t=void 0),x===void 0&&(x=!1),this.canvasText.getText(t,i,n,x)}getSubString(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),this.getText(t,i,n)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new Pu(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,n,x,S){var M=this.canvas;return x===void 0?x=M.width:x*=this.resolution,S===void 0?S=M.height:S*=this.resolution,Cv(this.scene,M,t,i,n,x,S),this}getHitArea(t,i,n){return this.canvasText.getHitArea(t,i,n)}}var g1={appendText:Yv};Object.assign(wu.prototype,g1);var m1=function(e,t){for(var i=this.tagRegex,n=[],x=0,S=!1,M=!1;;){var b=i.RE_SPLITTEXT.exec(e);if(!b)break;var D=b[0];if(M)if(i.RE_ESC_CLOSE.test(D))M=!1;else continue;else if(S)if(i.RE_RAW_CLOSE.test(D))S=!1;else continue;else i.RE_ESC_OPEN.test(D)?M=!0:i.RE_RAW_OPEN.test(D)&&(S=!0);var k=i.RE_SPLITTEXT.lastIndex,W=k-D.length;if(x<W){var Z=e.substring(x,W);n.push(Z)}t===void 0&&n.push(D),x=k}var tt=e.length;return x<tt&&n.push(e.substring(x,tt)),n};const Pe=!1,me=!0;var x1={plainText:null,prevProp:null},y1=function(e,t){var i=this.tagRegex;t==null&&(t={});var n="";if(t.img&&Xt(t,Pe,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?Xt(t,Pe,"esc"):n=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?Xt(t,Pe,"raw"):n=e;else if(i.RE_ESC_OPEN.test(e))Xt(t,me,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))Xt(t,Pe,"esc");else if(i.RE_RAW_OPEN.test(e))Xt(t,me,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))Xt(t,Pe,"raw");else if(i.RE_BLOD_OPEN.test(e))Xt(t,me,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))Xt(t,Pe,"b");else if(i.RE_ITALICS_OPEN.test(e))Xt(t,me,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))Xt(t,Pe,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var x=e.match(i.RE_WEIGHT_OPEN);Xt(t,me,"weight",x[1])}else if(i.RE_WEIGHT_CLOSE.test(e))Xt(t,Pe,"weight");else if(i.RE_SIZE_OPEN.test(e)){var x=e.match(i.RE_SIZE_OPEN);Xt(t,me,"size",`${x[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))Xt(t,Pe,"size");else if(i.RE_FAMILY_OPEN.test(e)){var x=e.match(i.RE_FAMILY_OPEN);Xt(t,me,"family",x[1])}else if(i.RE_FAMILY_CLOSE.test(e))Xt(t,Pe,"family");else if(i.RE_COLOR_OPEN.test(e)){var x=e.match(i.RE_COLOR_OPEN);Xt(t,me,"color",x[1])}else if(i.RE_COLOR_CLOSE.test(e))Xt(t,Pe,"color");else if(i.RE_UNDERLINE_OPEN.test(e))Xt(t,me,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var x=e.match(i.RE_UNDERLINE_OPENC);Xt(t,me,"u",x[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))Xt(t,Pe,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))Xt(t,me,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var x=e.match(i.RE_STRIKETHROUGH_OPENC);Xt(t,me,"s",x[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))Xt(t,Pe,"s");else if(i.RE_SHADOW_OPEN.test(e))Xt(t,me,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var x=e.match(i.RE_SHADOW_OPENC);Xt(t,me,"shadow",x[1])}else if(i.RE_SHADOW_CLOSE.test(e))Xt(t,Pe,"shadow");else if(i.RE_STROKE_OPEN.test(e))Xt(t,me,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var x=e.match(i.RE_STROKE_OPENC);Xt(t,me,"stroke",x[1])}else if(i.RE_STROKE_CLOSE.test(e))Xt(t,Pe,"stroke");else if(i.RE_BGCOLOR_OPEN.test(e)){var x=e.match(i.RE_BGCOLOR_OPEN);Xt(t,me,"bgcolor",x[1])}else if(i.RE_BGCOLOR_CLOSE.test(e))Xt(t,Pe,"bgcolor");else if(i.RE_OFFSETY_OPEN.test(e)){var x=e.match(i.RE_OFFSETY_OPEN);Xt(t,me,"y",parseFloat(x[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))Xt(t,Pe,"y");else if(i.RE_IMAGE_OPEN.test(e)){var x=e.match(i.RE_IMAGE_OPEN);Xt(t,me,"img",x[1])}else if(i.RE_IMAGE_CLOSE.test(e))Xt(t,Pe,"img");else if(i.RE_AREA_OPEN.test(e)){var x=e.match(i.RE_AREA_OPEN);Xt(t,me,"area",x[1])}else if(i.RE_AREA_CLOSE.test(e))Xt(t,Pe,"area");else if(i.RE_URL_OPEN.test(e)){var x=e.match(i.RE_URL_OPEN);Xt(t,me,"url",x[1])}else if(i.RE_URL_CLOSE.test(e))Xt(t,Pe,"url");else if(i.RE_ALIGN_OPEN.test(e)){var x=e.match(i.RE_ALIGN_OPEN);Xt(t,me,"align",x[1])}else if(i.RE_ALIGN_CLOSE.test(e))Xt(t,Pe,"align");else if(i.RE_ID_OPEN.test(e)){var x=e.match(i.RE_ID_OPEN);Xt(t,me,"id",x[1])}else i.RE_ID_CLOSE.test(e)?Xt(t,Pe,"id"):n=e;var S=x1;return S.plainText=n,S.prop=t,S},Xt=function(e,t,i,n){return t===me?e[i]=n:e.hasOwnProperty(i)&&delete e[i],e},C1=function(e,t){var i=T1;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var n=t.size;typeof n=="number"&&(n=`${n}px`),i.fontSize=n}else i.fontSize=e.fontSize;i.fontStyle=S1(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?i.bgcolor=t.bgcolor:i.bgcolor=null,i},S1=function(e){var t=e.b,i=e.weight,n=e.i;return t||i||n?n?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},T1=new mu,P1=function(e,t,i){i==null&&(i=E1);var n=this.delimiters[0],x=this.delimiters[1],S=[];for(var M in i)t.hasOwnProperty(M)||S.push(`${n}/${M}${x}`);for(var M in t){var b=t[M];if(M!=="img"){if(i[M]===b)continue}switch(M){case"size":S.push(`${n}size=${b.replace("px","")}${x}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":S.push(`${n}${M}=${b}${x}`);break;case"u":case"s":b===!0?S.push(`${n}${M}${x}`):S.push(`${n}${M}=${b}${x}`);break;default:S.push(`${n}${M}${x}`);break}}return S.push(e),S.join("")},E1={},gn=function(e){return e.replace(M1,"\\$&").replace(w1,"\\x2d")},M1=/[|\\{}()[\]^$+*?.]/g,w1=/-/g,Kv,Zv,Yt={},ye=function(e,t,i,n){return n===void 0?`${e}${i}${t}`:`${e}${i}=(${n})${t}`},ke=function(e,t,i){return`${e}/${i}${t}`},R1=function(e){return`[^${e}]+`},Ru="[-.0-9]+",A1=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],mn=A1.join("|"),Jv=function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(Kv===e&&Zv===t)return!1;Kv=e,Zv=t,e=gn(e),t=gn(t);var n=R1(t),x="esc",S=ye(e,t,x),M=ke(e,t,x),b="raw",D=ye(e,t,b),k=ke(e,t,b),W="b",Z=ye(e,t,W),tt=ke(e,t,W),_="i",st=ye(e,t,_),at=ke(e,t,_),nt="weight",ut=ye(e,t,nt,Ru),ct=ke(e,t,nt),dt="size",mt=ye(e,t,dt,Ru),Tt=ke(e,t,dt),Pt="family",At=ye(e,t,Pt,n),Ft=ke(e,t,Pt),Dt="color",zt=ye(e,t,Dt,mn),Gt=ke(e,t,Dt),qt="u",_t=ye(e,t,qt),It=ye(e,t,qt,mn),de=ke(e,t,qt),pe="s",Te=ye(e,t,pe),Ne=ye(e,t,pe,mn),Ie=ke(e,t,pe),ai="shadow",Ni=ye(e,t,ai),Vi=ye(e,t,ai,mn),Ss=ke(e,t,ai),en="stroke",ou=ye(e,t,en),hi=ye(e,t,en,mn),Rh=ke(e,t,en),Ah="bgcolor",lu=ye(e,t,Ah,mn),Us=ke(e,t,Ah),yS="y",CS=ye(e,t,yS,Ru),SS=ke(e,t,yS),TS="img",PS=ye(e,t,TS,n),ES=ke(e,t,TS),MS="area",wS=ye(e,t,MS,n),RS=ke(e,t,MS),AS="url",bS=ye(e,t,AS,n),LS=ke(e,t,AS),OS="align",DS=ye(e,t,OS,n),FS=ke(e,t,OS),BS="id",IS=ye(e,t,BS,n),kS=ke(e,t,BS);return Yt.RE_ESC_OPEN=new RegExp(S,"i"),Yt.RE_ESC_CLOSE=new RegExp(M,"i"),Yt.RE_RAW_OPEN=new RegExp(D,"i"),Yt.RE_RAW_CLOSE=new RegExp(k,"i"),Yt.RE_BLOD_OPEN=new RegExp(Z,"i"),Yt.RE_BLOD_CLOSE=new RegExp(tt,"i"),Yt.RE_ITALICS_OPEN=new RegExp(st,"i"),Yt.RE_ITALICS_CLOSE=new RegExp(at,"i"),Yt.RE_WEIGHT_OPEN=new RegExp(ut,"i"),Yt.RE_WEIGHT_CLOSE=new RegExp(ct,"i"),Yt.RE_SIZE_OPEN=new RegExp(mt,"i"),Yt.RE_SIZE_CLOSE=new RegExp(Tt,"i"),Yt.RE_FAMILY_OPEN=new RegExp(At,"i"),Yt.RE_FAMILY_CLOSE=new RegExp(Ft,"i"),Yt.RE_COLOR_OPEN=new RegExp(zt,"i"),Yt.RE_COLOR_CLOSE=new RegExp(Gt,"i"),Yt.RE_UNDERLINE_OPEN=new RegExp(_t,"i"),Yt.RE_UNDERLINE_OPENC=new RegExp(It,"i"),Yt.RE_UNDERLINE_CLOSE=new RegExp(de,"i"),Yt.RE_STRIKETHROUGH_OPEN=new RegExp(Te,"i"),Yt.RE_STRIKETHROUGH_OPENC=new RegExp(Ne,"i"),Yt.RE_STRIKETHROUGH_CLOSE=new RegExp(Ie,"i"),Yt.RE_SHADOW_OPEN=new RegExp(Ni,"i"),Yt.RE_SHADOW_OPENC=new RegExp(Vi,"i"),Yt.RE_SHADOW_CLOSE=new RegExp(Ss,"i"),Yt.RE_STROKE_OPEN=new RegExp(ou,"i"),Yt.RE_STROKE_OPENC=new RegExp(hi,"i"),Yt.RE_STROKE_CLOSE=new RegExp(Rh,"i"),Yt.RE_BGCOLOR_OPEN=new RegExp(lu,"i"),Yt.RE_BGCOLOR_CLOSE=new RegExp(Us,"i"),Yt.RE_OFFSETY_OPEN=new RegExp(CS,"i"),Yt.RE_OFFSETY_CLOSE=new RegExp(SS,"i"),Yt.RE_IMAGE_OPEN=new RegExp(PS,"i"),Yt.RE_IMAGE_CLOSE=new RegExp(ES,"i"),Yt.RE_AREA_OPEN=new RegExp(wS,"i"),Yt.RE_AREA_CLOSE=new RegExp(RS,"i"),Yt.RE_URL_OPEN=new RegExp(bS,"i"),Yt.RE_URL_CLOSE=new RegExp(LS,"i"),Yt.RE_ALIGN_OPEN=new RegExp(DS,"i"),Yt.RE_ALIGN_CLOSE=new RegExp(FS,"i"),Yt.RE_ID_OPEN=new RegExp(IS,"i"),Yt.RE_ID_CLOSE=new RegExp(kS,"i"),Yt.RE_SPLITTEXT=new RegExp([D,k,S,M,Z,tt,st,at,ut,ct,mt,Tt,At,Ft,zt,Gt,_t,It,de,Te,Ne,Ie,Ni,Vi,Ss,ou,hi,Rh,lu,Us,CS,SS,PS,ES,wS,RS,bS,LS,DS,FS,IS,kS].join("|"),"ig"),!0},Qv=function(e,t){return e!==void 0&&Jv(e,t),Object.assign({},Yt)};const b1=Phaser.Utils.Objects.GetValue;let jv=class{constructor(t){var i=b1(t,"delimiters","[]");this.tagRegex=Qv(i),this.delimiters=i}getStrokeThinkness(t,i){var n;return i.hasOwnProperty("stroke")?n=t.strokeThickness:n=0,n}setDelimiters(t,i){return Jv(t,i)&&(this.tagRegex=Qv()),this}};var L1={splitText:m1,tagTextToProp:y1,propToContextStyle:C1,propToTagText:P1};Object.assign(jv.prototype,L1);class Au extends wu{constructor(t,i,n,x,S){var M=new jv(S);super(t,i,n,x,S,"rexBBCodeText",M)}setDelimiters(t,i){return this.parser.setDelimiters(t,i),this}}K.register("BBCodeText",function(e,t,i,n){var x=new Au(this.scene,e,t,i,n);return this.scene.add.existing(x),x}),$(window,"RexPlugins.UI.BBCodeText",Au);var O1={plainText:null,prevProp:null},D1=new mu;let F1=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,i){this.tags[t]=i}getTag(t){return this.tags[t]}splitText(t,i){for(var n=[],x=0;;){var S=bu.exec(t);if(!S)break;var M=S[0],b=bu.lastIndex-M.length;if(x<b&&n.push(t.substring(x,b)),i===void 0)n.push(M);else if(i===1){if(_v.test(M)){var D=M.match(tp);n.push(D[2])}else if(ep.test(M)){var D=M.match(ip);n.push(D[2])}}x=bu.lastIndex}var k=t.length;return x<k&&n.push(t.substring(x,k)),n}tagTextToProp(t,i){var n,x;if(_v.test(t)){var S=t.match(tp);if(S!=null){var M=S[1],b=this.tags;b.hasOwnProperty(M)?x=b[M]:x={},x._class=M,n=S[2]}}else if(ep.test(t)){var S=t.match(ip);if(S!=null){var D=S[1];x=B1(D),x._style=D,n=S[2]}}n==null&&(n=t),x==null&&(x={});var k=O1;return k.plainText=n,k.prop=x,k}propToContextStyle(t,i){var n=D1;if(i.hasOwnProperty("img"))n.image=i.img;else{if(n.image=null,i.hasOwnProperty("family")||i.hasOwnProperty("fontFamily")||i.hasOwnProperty("font-family")){var x=i.hasOwnProperty("family")?i.family:i.hasOwnProperty("fontFamily")?i.fontFamily:i["font-family"];n.fontFamily=x}else n.fontFamily=t.fontFamily;if(i.hasOwnProperty("size")||i.hasOwnProperty("fontSize")||i.hasOwnProperty("font-size")){var S=i.hasOwnProperty("size")?i.size:i.hasOwnProperty("fontSize")?i.fontSize:i["font-size"];typeof S=="number"&&(S=`${S}px`),n.fontSize=S}else n.fontSize=t.fontSize;if(i.hasOwnProperty("style")||i.hasOwnProperty("fontStyle")||i.hasOwnProperty("font-style")){var M=i.hasOwnProperty("style")?i.style:i.hasOwnProperty("fontStyle")?i.fontStyle:i["font-style"];n.fontStyle=M}else n.fontStyle=t.fontStyle;if(i.hasOwnProperty("color")||i.hasOwnProperty("font-color")){var b=i.hasOwnProperty("color")?i.color:i["font-color"];n.color=b}else n.color=t.color;if(i.hasOwnProperty("stroke")){var D=i.stroke;n.stroke=D.hasOwnProperty("color")?D.color:t.stroke,n.strokeThickness=D.hasOwnProperty("thickness")?D.thickness:t.strokeThickness}else n.stroke=t.stroke,n.strokeThickness=t.strokeThickness}if(i.hasOwnProperty("shadow")){var k=i.shadow;n.shadowColor=k.hasOwnProperty("color")?k.color:t.shadowColor,n.shadowOffsetX=k.hasOwnProperty("offsetX")?k.offsetX:t.shadowOffsetX,n.shadowOffsetY=k.hasOwnProperty("offsetY")?k.offsetY:t.shadowOffsetY,n.shadowBlur=k.hasOwnProperty("blur")?k.blur:t.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0}else n.shadowColor=t.shadowColor,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY,n.shadowBlur=t.shadowBlur,n.shadowStroke=t.shadowStroke,n.shadowFill=t.shadowFill;if(i.hasOwnProperty("u")||i.hasOwnProperty("underline")){var W=i.hasOwnProperty("u")?i.u:i.underline;n.underlineColor=W.hasOwnProperty("color")?W.color:t.underlineColor,n.underlineThickness=W.hasOwnProperty("thickness")?W.thickness:t.underlineThickness,n.underlineOffset=W.hasOwnProperty("offset")?W.offset:t.underlineOffset}else n.underlineColor=t.underlineColor,n.underlineThickness=t.underlineThickness,n.underlineOffset=t.underlineOffset;if(i.hasOwnProperty("s")||i.hasOwnProperty("strikethrough")){var Z=i.hasOwnProperty("s")?i.s:i.strikethrough;n.strikethroughColor=Z.hasOwnProperty("color")?Z.color:t.strikethroughColor,n.strikethroughThickness=Z.hasOwnProperty("thickness")?Z.thickness:t.strikethroughThickness,n.strikethroughOffset=Z.hasOwnProperty("offset")?Z.offset:t.strikethroughOffset}else n.strikethroughColor=t.strikethroughColor,n.strikethroughThickness=t.strikethroughThickness,n.strikethroughOffset=t.strikethroughOffset;return n}getStrokeThinkness(t,i){var n;if(i.hasOwnProperty("stroke")){var x=i.stroke;n=x.hasOwnProperty("thickness")?x.thickness:t.strokeThickness}else n=t.strokeThickness;return n}propToTagText(t,i,n){return i.hasOwnProperty("_class")?t===""&&this.isTextTag(i._class)?"":`<class='${i._class}'>${t}</class>`:i.hasOwnProperty("_style")?`<style='${i._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var i=this.tags[t];return i?i.img==null:!1}};var B1=function(e){e=e.split(";");for(var t={},i,n,x,S=0,M=e.length;S<M;S++)if(i=e[S].split(":"),n=i[0],x=i[1],!(qv(n)||qv(x))){switch(n){case"stroke":var b=x.split(" "),D=b.length;x={},D>=1&&(x.color=b[0]),D>=2&&(x.thickness=parseInt(b[1].replace("px","")));break;case"shadow":var b=x.split(" "),D=b.length;x={},D>=1&&(x.color=b[0]),D>=2&&(x.offsetX=parseInt(b[1].replace("px",""))),D>=3&&(x.offsetY=parseInt(b[2].replace("px",""))),D>=4&&(x.blur=parseInt(b[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var b=x.split(" "),D=b.length;x={},D>=1&&(x.color=b[0]),D>=2&&(x.thickness=parseInt(b[1].replace("px",""))),D>=3&&(x.offset=parseInt(b[2].replace("px",""))),n==="underline"?n="u":n==="strikethrough"&&(n="s");break;case"y":x=parseFloat(x);break}t[n]=x}return t},qv=function(e){return e=e.replace(I1,""),e.length===0},bu=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,_v=/<\s*class=/i,tp=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,ep=/<\s*style=/i,ip=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,I1=/^\s+|\s+$/;const k1=Phaser.Utils.Objects.GetValue;class sp extends wu{constructor(t,i,n,x,S){var M=k1(S,"tags",void 0),b=new F1(M);super(t,i,n,x,S,"rexTagText",b)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}K.register("tagText",function(e,t,i,n){var x=new sp(this.scene,e,t,i,n);return this.scene.add.existing(x),x}),$(window,"RexPlugins.UI.TagText",sp);const Uh=Phaser.Utils.Objects.GetValue;var Xh=function(e,t){return t===void 0?e:e[t]},js=function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var n=typeof t;return n==="string"?e[t]=i:n==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=Uh(t,"left",0),e.right=Uh(t,"right",0),e.top=Uh(t,"top",0),e.bottom=Uh(t,"bottom",0)),e};let Lu=class{constructor(t,i){this.setParent(t),this.type=i,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,i){return!1}};Object.assign(Lu.prototype,Mi);var G1={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}};const z1=Phaser.Math.RotateAround;var N1=function(e,t,i,n){return n===void 0?n={}:n===!0&&(Ou===void 0&&(Ou={}),n=Ou),n.x=(e-i.drawX)/i.scaleX,n.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&z1(n,0,0,-i.rotation),n},Ou;const V1=Phaser.Geom.Rectangle;var W1=function(e,t){if(this.width===0||this.height===0)return!1;var i=N1(e,t,this,!0);return U1(this).contains(i.x,i.y)},U1=function(e){Yh===void 0&&(Yh=new V1);var t=e.drawTLX,i=e.drawTLY;return Yh.setTo(t,i,e.drawTRX-t,e.drawBLY-i),Yh},Yh;const X1=Phaser.Math.RotateAround;var rp=function(e,t,i,n){return n===void 0?n={}:n===!0&&(Du===void 0&&(Du={}),n=Du),n.x=t,n.y=i,e.rotation!==0&&X1(n,0,0,e.rotation),n.x=n.x*e.scaleX+e.drawX,n.y=n.y*e.scaleY+e.drawY,n},Du;const np=Phaser.GameObjects.Components.TransformMatrix;var Y1=function(e,t,i,n){n===void 0?n={}:n===!0&&(n=H1);var x=t-e.width*e.originX,S=i-e.height*e.originY;return oa===void 0&&(oa=new np,ap=new np),e.parentContainer?e.getWorldTransformMatrix(oa,ap):oa.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),oa.transformPoint(x,S,n),n},oa,ap,H1={},$1=function(e,t,i,n,x){var S=rp(t,i,n,!0),M=Y1(e,S.x,S.y,x);return M},hp=function(e,t,i,n,x){typeof i!="number"&&(x=i,i=0,n=0);var S=t.drawCenterX+i,M=t.drawCenterY+n;return $1(e,t,S,M,x)},K1=function(e,t,i){return hp(this.parent,this,e,t,i)},op={contains:W1,getWorldPosition:K1};Object.assign(op,G1);const Z1=Phaser.Math.DegToRad,J1=Phaser.Math.RadToDeg,Hh=Phaser.Utils.Objects.GetValue;class Mr extends Lu{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return J1(this._rotation)}set angle(t){this.rotation=Z1(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=Hh(t,"width",void 0),n=Hh(t,"height",void 0),x=Hh(t,"scaleX",void 0),S=Hh(t,"scaleY",void 0);return i!==void 0?n===void 0&&S===void 0?this.setWidth(i,!0):this.setWidth(i):x!==void 0&&this.setScaleX(x),n!==void 0?i===void 0&&x===void 0?this.setHeight(n,!0):this.setHeight(n):S!==void 0&&this.setScaleY(S),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(Mr.prototype,op);var qs=function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]};const wr=Phaser.Utils.Objects.GetValue;class Q1 extends Mr{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(wr(i,"color",null),wr(i,"color2",null),wr(i,"horizontalGradient",!0)),this.setStroke(wr(i,"stroke",null),wr(i,"strokeThickness",2)),this.setCornerRadius(wr(i,"cornerRadius",0),wr(i,"cornerIteration",null))}set color(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,n){return n===void 0&&(n=!0),this.color=t,this.color2=i,this.horizontalGradient=n,this}set stroke(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,qs("color2",t,this),qs("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,qs("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,qs("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){vu(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const _s=Phaser.Utils.Objects.GetValue;class j1 extends Mr{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(_s(i,"color",null),_s(i,"color2",null),_s(i,"horizontalGradient",!0)),this.setStroke(_s(i,"stroke",null),_s(i,"strokeThickness",2))}set color(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,n){return n===void 0&&(n=!0),this.color=t,this.color2=i,this.horizontalGradient=n,this}set stroke(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,_s(t,"color2",null),_s(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,_s(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,n=t.top,x=this.parent.width-t.left-t.right,S=this.parent.height-t.top-t.bottom,M=this.context;if(this.color!=null){var b;if(this.color2!=null){var D;this.horizontalGradient?D=M.createLinearGradient(0,0,x,0):D=M.createLinearGradient(0,0,0,S),D.addColorStop(0,this.color),D.addColorStop(1,this.color2),b=D}else b=this.color;M.fillStyle=b,M.fillRect(i,n,x,S)}this.stroke!=null&&this.strokeThickness>0&&(M.strokeStyle=this.stroke,M.lineWidth=this.strokeThickness,M.strokeRect(i,n,x,S))}}const Oe=Phaser.Utils.Objects.GetValue;class $h{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(Oe(t,"bold",!1)),this.setItalic(Oe(t,"italic",!1)),this.setFontSize(Oe(t,"fontSize","16px")),this.setFontFamily(Oe(t,"fontFamily","Courier")),this.setColor(Oe(t,"color","#fff")),this.setStrokeStyle(Oe(t,"stroke",null),Oe(t,"strokeThickness",0)),this.setShadow(Oe(t,"shadowColor",null),Oe(t,"shadowOffsetX",0),Oe(t,"shadowOffsetY",0),Oe(t,"shadowBlur",0)),this.setOffset(Oe(t,"offsetX",0),Oe(t,"offsetY",0)),this.setSpace(Oe(t,"leftSpace",0),Oe(t,"rightSpace",0)),this.setAlign(Oe(t,"align",void 0)),this.setBackgroundColor(Oe(t,"backgroundColor",null)),this.setBackgroundHeight(Oe(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(Oe(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(Oe(t,"backgroundLeftX",0)),this.setBackgroundRightX(Oe(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(qs("stroke",t,this),qs("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(qs("shadowOffsetX",t,this),qs("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new $h(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=Ut(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=Ut(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=Ut(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,n,x){return this.setShadowColor(t).setShadowOffset(i,n).setShadowBlur(x),this}setBackgroundColor(t){return this.backgroundColor=Ut(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,n=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=n?this.stroke:"#000",t.lineWidth=n?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}}var q1=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},_1=function(e,t){var i=this.padding,n=i.left,x=i.right,S=i.top,M=i.bottom;return js(i,e,t),this.dirty=this.dirty||n!=i.left||x!=i.right||S!=i.top||M!=i.bottom,this},tP=function(e){return Xh(this.padding,e)},eP=function(e){return this.textStyle.modify(e),this},iP=function(e){return this.defaultTextStyle.modify(e),this},sP=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},rP=function(e){return this.testString=e,this};const nP=Phaser.Utils.Array.Remove;var aP=function(e){return this.poolManager.free(e),nP(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},hP=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const oP=Phaser.Utils.Array.Remove;var lP=function(e){return oP(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},uP=function(){return this.setText(),this},dP=function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const Es="text",lp="image",up="drawer",dp="space",Fu="command";var fp=function(e){return e.type===Es&&e.text===`
`},cp=function(e){return e.type===Es&&e.text==="\f"},fP=function(e){return e.type===Es&&e.text===" "},Rr=function(e){return e.type===Es},cP=function(e){return e.type===Fu};class vp extends Mr{constructor(t,i,n){super(t,Es),this.updateTextFlag=!1,this.style=new $h(this,n),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var n,x;"actualBoundingBoxAscent"in i?(n=i.actualBoundingBoxAscent,x=i.actualBoundingBoxDescent):(n=0,x=0),this.textHeight=n+x,this.ascent=n,this.descent=x}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var n=this.drawTLX+i.backgroundLeftX,x=this.drawTRX+i.backgroundRightX,S=n,M=x-n+1;if(M>0){var b=i.backgroundBottomY;b==null&&(b=this.drawBLY);var D=i.backgroundHeight;D==null&&(D=b-this.drawTLY);var k=b-D;t.fillRect(S,k,M,D)}}var W=i.hasFill,Z=i.hasStroke;!W&&!Z||(i.syncFont(t).syncStyle(t),Z&&(i.syncShadow(t),t.strokeText(this.text,0,0)),W&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var vP=function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(Es);return i===null?i=new vp(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},pP=function(e,t){t&&this.textStyle.modify(t);for(var i=[],n=0,x=e.length;n<x;n++){var S=e.charAt(n),M=this.poolManager.allocate(Es);M===null?M=new vp(this,S,this.textStyle):M.setParent(this).setActive().modifyStyle(this.textStyle).setText(S),i.push(M)}return i},la=function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},gP=function(e,t){return e===void 0&&(e=""),this.removeChildren(),la.call(this,e,t),this.dirty=!0,this},mP=function(e,t,i){var n=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(n,e),this},xP=function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var n=this.getCharChildIndex(e,!0);if(n===void 0)break;this.removeChild(this.children[n])}return this},yP=function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class CP extends Mr{constructor(t,i,n){super(t,lp),this.setTexture(i,n),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){Xv(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var SP=function(e,t,i){var n=this.poolManager.allocate(lp);return n===null?n=new CP(this,e,t):n.setParent(this).setActive().setTexture(e,t),n.modifyPorperties(i),n},pp=function(e,t,i){var n=this.createImageChild(e,t,i);return this.addChild(n),this};class TP extends Mr{constructor(t,i,n,x){super(t,up),this.setRenderCallback(i),this.setDrawerSize(n,x)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var PP=function(e,t,i){var n=this.poolManager.allocate(up);return n===null?n=new TP(this,e,t,i):n.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),n},EP=function(e,t,i){var n=this.createDrawerChild(e,t,i);return this.addChild(n),this};let MP=class extends Mr{constructor(t,i){super(t,dp),this.setSpaceWidth(i)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var wP=function(e){var t=this.poolManager.allocate(dp);return t===null?t=new MP(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},gp=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class RP extends Lu{constructor(t,i,n,x,S){super(t,Fu),this.setName(i).setParameter(x).setCallback(n,S)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var AP=function(e,t,i,n){var x=this.poolManager.allocate(Fu);return x===null?x=new RP(this,e,t,i,n):x.setParent(this).setActive().setName(e).setCallback(t,n).setParameter(i),x},Bt=function(e,t,i,n){var x=this.createCommandChild(e,t,i,n);return this.addChild(x),this},bP=function(e){return e===void 0?e={}:typeof e=="object"&&(e=pt(e)),this.wrapConfig=e,this},mp=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const LP={none:0,word:1,char:2,character:2,mix:3};var OP=function(e,t,i,n){n===void 0&&(n={word:[],width:0}),n.word.length=0;for(var x=i===2,S=i===3,M=!x&&!S,b=e.length,D=t,k=n.word,W=0,Z=!1;D<b;){var tt=e[D];if(!tt.renderable){k.push(tt),D++;continue}var _=tt.type===Es?tt.text:null;if(_===null||_===`
`||_==="\f"){D===t&&(k.push(tt),W+=tt.outerWidth);break}if(M){if(k.push(tt),W+=tt.outerWidth,_===" ")break;D++}else if(x){k.push(tt),W+=tt.outerWidth;break}else if(S)if(ha(_)){if(k.push(tt),W+=tt.outerWidth,_===" ")break;D++,Z=!0}else{if(Z)break;k.push(tt),W+=tt.outerWidth;var st=e[D+1];st&&st.type===Es&&st.text===" "&&(k.push(st),W+=st.outerWidth);break}}return n.width=W,n},xp=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n.align!==void 0)return n.align}},yp=function(e,t,i){if(!(t===0&&i===0))for(var n=0,x=e.length;n<x;n++){var S=e[n];S.renderable&&(S.x+=t,S.y+=i)}},DP=function(e,t,i){for(var n=e.hAlign,x=e.vAlign,S=e.justifyPercentage,M=e.lines,b,D,k=0,W=M.length;k<W;k++){var Z=M[k],tt=Z.width,_=Z.children,st=xp(_);switch(st===void 0&&(st=n),st){case 0:case"left":b=0;break;case 1:case"center":var at=t-tt;b=at/2;break;case 2:case"right":var at=t-tt;b=at;break;case 3:case"justify":case"justify-left":var at=t-tt,nt=at/t;nt<S&&Bu(_,at),b=0;break;case 4:case"justify-center":var at=t-tt,nt=at/t;nt<S?(Bu(_,at),b=0):b=at/2;break;case 5:case"justify-right":var at=t-tt,nt=at/t;nt<S?(Bu(_,at),b=0):b=at;break;default:b=0;break}var ut=e.linesHeight;switch(x){case 1:case"center":D=(i-ut)/2;break;case 2:case"bottom":D=i-ut;break;default:D=0;break}yp(_,b,D)}},Bu=function(e,t){for(var i=t/e.length,n=0,x=e.length;n<x;n++){var S=e[n];S.renderable&&(S.x+=i*n)}},Cp=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),Kh.ascent=t,Kh.descent=i,Kh.height=t+i,Kh},Kh={};const si=Phaser.Utils.Objects.GetValue;var FP=function(e){var t=si(e,"start",0);js(this.wrapPadding,si(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,n=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,x=si(e,"lineHeight"),S=si(e,"ascent",x),M;if(x===void 0){var b=si(e,"useDefaultTextHeight",!1);if(M=si(e,"maxLines",0),this.fixedHeight>0&&!b){var Us=this.fixedHeight-i;if(M>0)x=Us/M;else{var D=Cp.call(this);x=D.height,S=D.ascent,M=Math.floor((Us-S)/x)}}else{var D=Cp.call(this);x=D.height,S=D.ascent}}else if(this.fixedHeight>0){if(M=si(e,"maxLines"),M===void 0){var Us=this.fixedHeight-i;M=Math.floor(Us/x)}}else M=si(e,"maxLines",0);S===void 0&&(S=x);var k=M===0,W=si(e,"wrapMode");if(W===void 0){var Z=si(e,"charWrap",!1);W=Z?"char":"word"}typeof W=="string"&&(W=LP[W]);var tt=si(e,"wrapWidth",void 0);tt===void 0&&(this.fixedWidth>0?tt=this.fixedWidth-n:(tt=1/0,W=0));for(var _=si(e,"letterSpacing",0),st=si(e,"hAlign",0),at=si(e,"vAlign",0),nt=si(e,"justifyPercentage",.25),ut=mp({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:_,maxLines:M,hAlign:st,vAlign:at,justifyPercentage:nt,ascent:S,lineHeight:x,wrapWidth:tt,wrapMode:W}),ct=this.children,dt=0,mt=ct.length;dt<mt;dt++)ct[dt].setActive(!1);tt+=_;for(var Tt=this.padding.left+this.wrapPadding.left,Pt=this.padding.top+this.wrapPadding.top+S,At=Tt,Ft=Pt,Dt=tt,zt=t,Gt=ct.length,qt=ut.children,_t=ut.lines,It=[],de=0,pe=0,Te,Ne=!1;zt<Gt;){Te=OP(ct,zt,W,Te);var Ie=Te.word,ai=Ie.length,Ni=Te.width+ai*_;zt+=ai;var Vi=fp(Ie[0]);Ne=cp(Ie[0]);var Ss=Vi||Ne;if(Dt<Ni||Ss){if(Ss){var en=Ie[0];en.setActive().setPosition(At,Ft),qt.push(en),It.push(en)}At=Tt,Ft+=x,Dt=tt,_t.push({children:It,width:de}),pe=Math.max(pe,de),de=0,It=[];var ou=Ne||!k&&_t.length===M;if(ou)break;if(Ss)continue}Dt-=Ni,de+=Ni;for(var dt=0,mt=Ie.length;dt<mt;dt++){var hi=Ie[dt];hi.setActive(),qt.push(hi),It.push(hi),hi.renderable&&(hi.setPosition(At,Ft),At+=hi.outerWidth+_)}}It.length>0&&(_t.push({children:It,width:de}),pe=Math.max(pe,de)),ut.start+=qt.length,ut.isLastPage=!Ne&&ut.start===Gt,ut.maxLineWidth=pe,ut.linesHeight=_t.length*x;var Rh=this.fixedWidth>0?this.fixedWidth:ut.maxLineWidth+n,Ah=this.fixedHeight>0?this.fixedHeight:ut.linesHeight+i,lu=Rh-n,Us=Ah-i;DP(ut,lu,Us),this.setCanvasSize(Rh,Ah);for(var dt=0,mt=qt.length;dt<mt;dt++){var hi=qt[dt];hi.renderable&&(hi.x0=hi.x,hi.y0=hi.y)}return ut};const BP=Phaser.Utils.Objects.Merge;var IP=function(e){return e===void 0&&(e={}),FP.call(this,BP(e,this.wrapConfig))},kP=function(e,t,i){var n=e.hAlign,x=e.vAlign,S,M,b=e.rtl,D=e.lines,k=e.lineWidth,W=e.linesWidth;switch(n){case 1:case"center":S=(t-W)/2;break;case 2:case"right":S=t-W;break;default:S=0;break}b&&(S+=k);for(var Z=0,tt=D.length;Z<tt;Z++){var _=D[b?tt-Z-1:Z],st=_.children,at=_.height,nt=xp(st);switch(nt===void 0&&(nt=x),nt){case 1:case"center":M=(i-at)/2;break;case 2:case"bottom":M=i-at;break;default:M=0;break}yp(st,S,M),S+=k}};const gi=Phaser.Utils.Objects.GetValue;var GP=function(e){var t=gi(e,"start",0);js(this.wrapPadding,gi(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,n=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,x=gi(e,"lineWidth",void 0),S;if(x===void 0)if(S=gi(e,"maxLines",0),this.fixedWidth>0){var Vi=this.fixedWidth-n;x=Vi/S}else x=0;else if(this.fixedWidth>0){if(S=gi(e,"maxLines",void 0),S===void 0){var Vi=this.fixedWidth-n;S=Math.floor(Vi/x)+1}}else S=gi(e,"maxLines",0);var M=S===0,b=gi(e,"fixedCharacterHeight",void 0);if(b===void 0){var D=gi(e,"charPerLine",void 0);if(D!==void 0){var Ss=this.fixedHeight-i;b=Math.floor(Ss/D)}}var k=gi(e,"wrapHeight",void 0);k===void 0&&(this.fixedHeight>0?k=this.fixedHeight-i:k=1/0);for(var W=gi(e,"letterSpacing",0),Z=gi(e,"rtl",!0),tt=gi(e,"hAlign",Z?2:0),_=gi(e,"vAlign",0),st=mp({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:W,maxLines:S,hAlign:tt,vAlign:_,lineWidth:x,fixedCharacterHeight:b,wrapHeight:k,rtl:Z}),at=this.children,nt=0,ut=at.length;nt<ut;nt++)at[nt].setActive(!1);k+=W;for(var ct=this.padding.left+this.wrapPadding.left,dt=this.padding.top+this.wrapPadding.top,mt=ct,Tt=dt,Pt=k,At=t,Ft=at.length,Dt=st.children,zt=st.lines,Gt=[],qt=0,_t=0;At<Ft;){var It=at[At];if(At++,!It.renderable){It.setActive(),Dt.push(It),Gt.push(It);continue}var de=(b!==void 0?b:It.height)+W,pe=fp(It),Te=cp(It),Ne=pe||Te;if(Pt<de||Ne){pe&&(It.setActive().setPosition(mt,Tt).setOrigin(.5),Dt.push(It),Gt.push(It)),mt=ct,Tt=dt,Pt=k,zt.push({children:Gt,height:qt}),_t=Math.max(_t,qt),qt=0,Gt=[];var Ie=Te||!M&&zt.length===S;if(Ie)break;if(Ne)continue}Pt-=de,qt+=de,It.setActive().setPosition(mt,Tt).setOrigin(.5),Dt.push(It),Gt.push(It),Tt+=de}Gt.length>0&&(zt.push({children:Gt,height:qt}),_t=Math.max(_t,qt)),st.start+=Dt.length,st.isLastPage=st.start===Ft,st.maxLineHeight=_t,st.linesWidth=zt.length*x;var ai=this.fixedWidth>0?this.fixedWidth:st.linesWidth+n,Ni=this.fixedHeight>0?this.fixedHeight:st.maxLineHeight+i,Vi=ai-n,Ss=Ni-i;kP(st,Vi,Ss),this.setCanvasSize(ai,Ni);for(var nt=0,ut=Dt.length;nt<ut;nt++){var It=Dt[nt];It.renderable&&(It.x0=It.x,It.y0=It.y)}return st};const zP=Phaser.Utils.Objects.Merge;var NP=function(e){return e===void 0&&(e={}),GP.call(this,zP(e,this.wrapConfig))};const Sp=Phaser.Utils.Objects.GetValue;var VP=function(e){var t=Sp(this.wrapConfig,"callback");return t||(t=Sp(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)},WP={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},UP={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}},XP=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},YP=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(D){return!(i&&!D.active)}),x=0,S=n.length;x<S;x++){var M=n[x],b;if(t?b=e.call(this,M,x,n):b=e(M,x,n),b)break}return this},HP=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(D){return!(i&&!D.active||!D.renderable||D.removed)}),x=0,S=n.length;x<S;x++){var M=n[x],b;if(t?b=e.call(this,M,x,n):b=e(M,x,n),b)break}return this},$P=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(D){return!(i&&!D.active||!Rr(D)||D.removed)}),x=0,S=n.length;x<S;x++){var M=n[x],b;if(t?b=e.call(this,M,x,n):b=e(M,x,n),b)break}return this},KP=function(){return this.children};const ZP=Phaser.Utils.Array.GetAll;var JP=function(){return ZP(this.children,"active",!0)},QP=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},jP=function(){return this.lastAppendedChildren},qP=function(e,t,i,n){typeof t!="number"&&(n=t,t=0,i=0);var x=e.drawCenterX+t,S=e.drawCenterY+i;return rp(e,x,S,n)};const _P=Phaser.Math.Distance.BetweenPointsSquared;var tE=function(e,t){var i={x:e,y:t},n=1/0,x=null;return this.forEachRenderableChild(function(S){var M=_P(i,qP(S,!0));n>M&&(n=M,x=S)}),x},eE=function(e,t,i,n){return typeof e=="number"&&(e=this.getCharChild(e,!0)),hp(this,e,t,i,n)},iE=function(){for(var e=this.children,t=0,i=0,n=0,x=e.length;n<x;n++){var S=e[n];if(!(!S.renderable||!S.active||!S.visible)){var M=S.x0!==void 0?S.x0:S.x,b=S.y0!==void 0?S.y0:S.y;t=Math.max(t,M),i=Math.max(i,b)}}var D=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,k=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==D||this.height!==k)&&(this.dirty=!0,this.setCanvasSize(D,k)),this},sE=function(e,t){t===void 0&&(t=!0);for(var i=this.children,n=0,x=i.length;n<x;n++){var S=i[n];if(!(t&&!S.active)&&Rr(S)&&!S.removed){if(e===0)return n;e--}}},rE=function(e,t){t===void 0&&(t=!0);for(var i=this.children,n=0,x=i.length;n<x;n++){var S=i[n];if(!(t&&!S.active)&&Rr(S)&&!S.removed){if(e===0)return S;e--}}},nE=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var n=0,x=0;x<e;x++){var S=i[x];t&&!S.active||Rr(S)&&!S.removed&&n++}return n},aE=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},Iu=function(n,t,i){for(var n=n,x=0,S=n.length;x<S;x++){var M=n[x];if(!(!M.active||!M.renderable)&&M.contains(t,i))return M}return null},hE=function(){return this.on("pointerdown",oE,this).on("pointerdown",lE,this).on("pointermove",ku,this).on("pointerover",ku,this).on("pointerout",function(e,t){ku.call(this,e,null,null,t)},this),this},oE=function(e,t,i,n){if(this.childrenInteractiveEnable){var x=Iu(this.children,t,i);x&&this.emit("child.pointerdown",x,e,t,i,n)}},lE=function(e,t,i,n){if(this.childrenInteractiveEnable){var x=Iu(this.children,t,i);x&&this.emit("child.pointerup",x,e,t,i,n)}},ku=function(e,t,i,n){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,n),this.lastOverChild=null);return}var x=Iu(this.children,t,i);x!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,n),x!==null&&this.emit("child.pointerover",x,e,t,i,n),this.lastOverChild=x)}};const uE=Phaser.GameObjects.GameObject;var dE=function(e,t,i){var n=!!this.input;return uE.prototype.setInteractive.call(this,e,t,i),n||hE.call(this),this};const fE=Phaser.Utils.Array.BringToTop,cE=Phaser.Utils.Array.SendToBack,vE=Phaser.Utils.Array.MoveUp,pE=Phaser.Utils.Array.MoveDown,gE=Phaser.Utils.Array.MoveAbove,mE=Phaser.Utils.Array.MoveBelow;var xE={moveChildToFist(e){return cE(this.children,e),this},moveChildToLast(e){return fE(this.children,e),this},movechildUp(e){return vE(this.children,e),this},movechildDown(e){return pE(this.children,e),this},movechildAbove(e,t){return gE(this.children,e,t),this},movechildBelow(e,t){return mE(this.children,e,t),this}},yE={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},CE={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}},Tp={setFixedSize:q1,setPadding:_1,getPadding:tP,modifyTextStyle:eP,modifyDefaultTextStyle:iP,resetTextStyle:sP,setTestString:rP,removeChild:aP,removeChildren:hP,popChild:lP,clearContent:uP,addChild:dP,createCharChild:vP,createCharChildren:pP,setText:gP,appendText:la,insertText:mP,removeText:xP,getText:yP,createImageChild:SP,appendImage:pp,createDrawerChild:PP,appendDrawer:EP,createSpaceChild:wP,appendSpace:gp,createCommandChild:AP,appendCommand:Bt,setWrapConfig:bP,runWordWrap:IP,runVerticalWrap:NP,runWrap:VP,renderContent:XP,forEachChild:YP,forEachRenderableChild:HP,forEachCharChild:$P,getChildren:KP,getActiveChildren:JP,getCharChildren:QP,getLastAppendedChildren:jP,getNearestChild:tE,getCharWorldPosition:eE,setToMinSize:iE,getCharChildIndex:sE,getCharChild:rE,getCharIndex:nE,setChildrenInteractiveEnable:aE,setInteractive:dE};Object.assign(Tp,xE,yE,CE,WP,UP);const SE=Phaser.Utils.Objects.GetFastValue;var TE={};class PE{constructor(t){this.pools=SE(t,"pools",TE)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new yt),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const Gu=Phaser.Utils.Objects.IsPlainObject,He=Phaser.Utils.Objects.GetValue;class xn extends Ks{constructor(t,i,n,x,S,M,b){Gu(i)?(b=i,i=He(b,"x",0),n=He(b,"y",0),x=He(b,"width",0),S=He(b,"height",0),M=He(b,"resolution",1)):Gu(x)?(b=x,x=He(b,"width",0),S=He(b,"height",0),M=He(b,"resolution",1)):Gu(M)&&(b=M,M=He(b,"resolution",1));var D=x===0?1:x,k=S===0?1:S;super(t,i,n,D,k,M),this.type="rexDynamicText",this.autoRound=!0,this.padding=js(),this.wrapPadding=js();var W=He(b,"style",void 0);this.defaultTextStyle=new $h(null,W),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(He(b,"testString","|MÉqgy")),this._textOX=0,this._textOY=0,this.background=new Q1(this,He(b,"background",void 0)),this.innerBounds=new j1(this,He(b,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new PE(b),this.setFixedSize(x,S),this.setPadding(He(b,"padding",0)),this.setWrapConfig(He(b,"wrap",void 0)),this.setChildrenInteractiveEnable(He(b,"childrenInteractive",!1));var Z=He(b,"text",void 0);Z&&this.setText(Z)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(xn.prototype,Tp),K.register("dynamicText",function(e,t,i,n,x){var S=new xn(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.DynamicText",xn);var ua={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},EE={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(tt){var t=tt.property,i=tt.value,n=tt.duration,x=tt.delay,S=tt.ease,M=tt.repeat,b=tt.yoyo,D=tt.from,k=tt.complete,W=tt.target;if(n===void 0&&(n=1e3),x===void 0&&(x=0),S===void 0&&(S="Linear"),M===void 0&&(M=0),b===void 0&&(b=!1),W===void 0&&(W=this.gameObject),D){var Z=i;i=W[t],W[t]=Z}var tt={targets:W,duration:n,delay:x,ease:S,repeat:M,yoyo:b,onComplete:k};return tt[t]=i,this.addTweenTask(t,tt),this},addTweenTask(e,t){var i=this.tweens,n=i[e];n&&n.remove();var x=t.onComplete;return t.onComplete=function(){i[e].remove(),i[e]=null,x&&x(t.targets,e)},n=this.scene.tweens.add(t),n.timeScale=this.timeScale,i[e]=n,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},ME={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var i=this.gameObject;return i[e].apply(i,t),this}},wE={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class zu{constructor(t,i,n){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,n)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.goName=i,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var n in i){var x=i[n];x&&(x.timeScale=t)}return this}}Object.assign(zu.prototype,EE,ME,wE);var da=function(e){for(var t in e)return!1;return!0},Ar=function(e){return e&&e.charAt(0)!=="!"},RE={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(Ar(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var i in this.bobs)e&&i===e||t.push(this.bobs[i]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var i=this.get(e);if(i)if(Array.isArray(i)){t===void 0&&(t=[]);var n=i;return n.forEach(function(x){t.push(x.gameObject)}),t}else return i.gameObject;else return null},forEachGO(e,t){for(var i in this.bobs){var n=this.bobs[i].gameObject,x;if(t?x=e.call(t,n,i,this):x=e(n,i,this),x)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var i=this.bobs[t].gameObject;e.push(i)}return e}},fa=function(e){return e>>16&255},ca=function(e){return e>>8&255},va=function(e){return e&255},Pp=function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t};const AE=65535,bE=16711935,LE=16776960;var OE=function(e,t){return(t&255)<<16|e&AE},DE=function(e,t){return(t&255)<<8|e&bE},FE=function(e,t){return t&255|e&LE},BE=function(e,t,i,n){return(t&255)<<16|(i&255)<<8|n&255},IE=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=fa(t),n=ca(t),x=va(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(S){S=Math.floor(S)&16777215,e.setTint&&e.setTint(S),t!==S&&(t=S,i=fa(t),n=ca(t),x=va(t))}}),Object.defineProperty(e,"tintR",{get:function(){return i},set:function(S){S=Math.floor(S)&255,i!==S&&(i=S,e.tint=OE(t,S))}}),Object.defineProperty(e,"tintG",{get:function(){return n},set:function(S){S=Math.floor(S)&255,n!==S&&(n=S,e.tint=DE(t,S))}}),Object.defineProperty(e,"tintB",{get:function(){return x},set:function(S){S=Math.floor(S)&255,x!==S&&(x=S,e.tint=FE(t,S))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((i+n+x)/3)},set:function(S){S=Math.floor(S)&255,(i!==S||n!==S||x!==S)&&(i=S,n=S,x=S,e.tint=BE(t,S,S,S))}}),e.tint=t,e};const kE=Phaser.Events.EventEmitter;var GE=function(e){if(e.events)return e;var t=new kE,i=e.x;Object.defineProperty(e,"x",{get:function(){return i},set:function(M){i!==M&&(i=M,t.emit("update",e))}});var n=e.y;Object.defineProperty(e,"y",{get:function(){return n},set:function(M){n!==M&&(n=M,t.emit("update",e))}});var x=e.width;Object.defineProperty(e,"width",{get:function(){return x},set:function(M){x!==M&&(x=M,t.emit("update",e))}});var S=e.height;return Object.defineProperty(e,"height",{get:function(){return S},set:function(M){S!==M&&(S=M,t.emit("update",e))}}),e.events=t,e},zE=function(e,t,i,n,x,S){return S===void 0?S={}:S===!0&&(S=NE),typeof i!="number"&&(i=0,n=0),S.x=x.x+x.width*e+i,S.y=x.y+x.height*t+n,S},NE={},VE=function(e,t,i,n,x,S,M){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(M=i,i=void 0),typeof x=="function"&&(M=x,x=void 0),i===void 0&&(i=.5),n===void 0&&(n=.5),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=zE),GE(t);var b=t.events;e.vp=t;var D=function(){M(i,n,x,S,t,e)};b.on("update",D),e.once("destroy",function(){b.off("update",D),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return i},set:function(k){i!==k&&(i=k,D())}}),Object.defineProperty(e,"vpy",{get:function(){return n},set:function(k){n!==k&&(n=k,D())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return x},set:function(k){x!==k&&(x=k,D())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return S},set:function(k){S!==k&&(S=k,D())}}),D()},Qe=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},Ee=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,n=0,x=i.length;n<x;n++)e[i[n]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},WE=function(e){if(ie(e,"barrel"))return e;var t=Qe(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))}}),e.barrel=null,Ee(e,"barrel"),e},$e=function(e,t,i){if(ie(e,t))return e;var n=Qe(e);if(!n)return e;var x=`_${t}Effect`,S;return Object.defineProperty(e,t,{get:function(){return S},set:function(M){if(S!==M)if(S=M,S===null||S===!1)e[x]&&(n.remove(e[x]),e[x]=void 0);else{e[x]||(e[x]=n.addColorMatrix());var b=e[x];b[t](i===1?M:void 0)}}}),e[t]=null,Ee(e,t),e},UE=function(e){return $e(e,"blackWhite"),e},XE=function(e){if(ie(e,"bloomColor"))return e;var t=Qe(e);if(!t)return e;var i,n=1,x=1,S=1,M=1,b=4;return Object.defineProperty(e,"bloomColor",{get:function(){return i},set:function(D){i!==D&&(i=D,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,n,x,S,M,b),t.setPadding(Math.max(n,x)+1)),e._bloom.color=i))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return n},set:function(D){if(n!==D&&(n=D,e._bloom)){var k=Math.max(n,x);t.setPadding(k+1),e._bloom.offsetX=n}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return x},set:function(D){if(x!==D&&(x=D,e._bloom)){var k=Math.max(n,x);t.setPadding(k+1),e._bloom.offsetY=x}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return S},set:function(D){S!==D&&(S=D,e._bloom&&(e._bloom.blurStrength=S))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return M},set:function(D){M!==D&&(M=D,e._bloom&&(e._bloom.strength=M))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return b},set:function(D){b!==D&&(b=D,e._bloom&&(e._bloom.steps=b))}}),e.bloomColor=null,Ee(e,"bloomColor"),e},YE=function(e){if(ie(e,"blurColor"))return e;var t=Qe(e);if(!t)return e;var i,n=0,x=1,S=1,M=1,b=4;return Object.defineProperty(e,"blurColor",{get:function(){return i},set:function(D){i!==D&&(i=D,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(n,x,S,M,i,b),t.setPadding(Math.max(x,S)+1)),e._blur.color=i))}}),Object.defineProperty(e,"blurQuality",{get:function(){return n},set:function(D){n!==D&&(n=D,e._blur&&(e._blur.quality=n))}}),Object.defineProperty(e,"blurX",{get:function(){return x},set:function(D){if(x!==D&&(x=D,e._blur)){var k=Math.max(x,S);t.setPadding(k+1),e._blur.x=x}}}),Object.defineProperty(e,"blurY",{get:function(){return S},set:function(D){if(S!==D&&(S=D,e._blur)){var k=Math.max(x,S);t.setPadding(k+1),e._blur.y=S}}}),Object.defineProperty(e,"blurStrength",{get:function(){return M},set:function(D){M!==D&&(M=D,e._blur&&(e._blur.strength=M))}}),Object.defineProperty(e,"blurSteps",{get:function(){return b},set:function(D){b!==D&&(b=D,e._blur&&(e._blur.steps=b))}}),e.blurColor=null,Ee(e,"blurColor"),e},HE=function(e){if(ie(e,"bokehRadius"))return e;var t=Qe(e);if(!t)return e;var i,n=1,x=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,n,x)),e._bokeh.radius=i))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return n},set:function(S){n!==S&&(n=S,e._bokeh&&(e._bokeh.amount=n))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return x},set:function(S){x!==S&&(x=S,e._bokeh&&(e._bokeh.contrast=x))}}),e.bokehRadius=null,Ee(e,"bokehRadius"),e},$E=function(e){return $e(e,"brightness",1),e},KE=function(e){return $e(e,"brown"),e},ZE=function(e){if(ie(e,"circleColor"))return e;var t=Qe(e);if(!t)return e;var i,n=8,x=0,S=.4,M=1,b=.005;return Object.defineProperty(e,"circleColor",{get:function(){return i},set:function(D){i!==D&&(i=D,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(n,i,x,M,b),e.circleBackgroundAlpha=S),e._circle.color=i))}}),Object.defineProperty(e,"circleThickness",{get:function(){return n},set:function(D){n!==D&&(n=D,e._circle&&(e._circle.thickness=n))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return x},set:function(D){x!==D&&(x=D,e._circle&&(e._circle.backgroundColor=x))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return S},set:function(D){S!==D&&(S=D,e._circle&&(e._circle.glcolor2[3]=S))}}),Object.defineProperty(e,"circleScale",{get:function(){return M},set:function(D){M!==D&&(M=D,e._circle&&(e._circle.scale=M))}}),Object.defineProperty(e,"circleFeather",{get:function(){return b},set:function(D){b!==D&&(b=D,e._circle&&(e._circle.feather=b))}}),e.circleColor=null,Ee(e,"circleColor"),e},JE=function(e){return $e(e,"contrast",1),e},QE=function(e){return $e(e,"desaturate",1),e},jE=function(e){return $e(e,"desaturateLuminance"),e},qE=function(e){if(ie(e,"displacementKey"))return e;var t=Qe(e);if(!t)return e;var i,n=.005,x=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,n,x)),e._displacement.setTexture(i)))}}),Object.defineProperty(e,"displacementX",{get:function(){return n},set:function(S){n!==S&&(n=S,e._displacement&&(e._displacement.x=n))}}),Object.defineProperty(e,"displacementY",{get:function(){return x},set:function(S){x!==S&&(x=S,e._displacement&&(e._displacement.y=x))}}),e.displacementKey=null,Ee(e,"displacementKey"),e},_E=function(e){if(ie(e,"glowColor"))return e;var t=Qe(e);if(!t)return e;var i,n=4,x=0;return Object.defineProperty(e,"glowColor",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,n,x),t.setPadding(n+1)),e._glow.color=i))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return n},set:function(S){n!==S&&(n=S,e._glow&&(t.setPadding(n+1),e._glow.outerStrength=n))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return x},set:function(S){x!==S&&(x=S,e._glow&&(e._glow.innerStrength=x))}}),e.glowColor=null,Ee(e,"glowColor"),e},t2=function(e){if(ie(e,"gradientColor"))return e;var t=Qe(e);if(!t)return e;var i,n,x=.5,S=0,M=0,b=0,D=1,k=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[i,n]},set:function(W){var Z,tt;W===null||W===!1?(Z=null,tt=null):(Z=W[0],tt=W[1]),!(i===Z&&n===tt)&&(i=Z,n=tt,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,n,x,S,M,b,D,k)),e._gradient.color1=i,e._gradient.color2=n))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return i},set:function(W){if(W===null||W===!1){e.gradientColor=W;return}i!==W&&(i=W,e._gradient&&(e._gradient.color1=i))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return n},set:function(W){if(W===null||W===!1){e.gradientColor=W;return}n!==W&&(n=W,e._gradient&&(e._gradient.color2=n))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return x},set:function(W){x!==W&&(x=W,e._gradient&&(e._gradient.alpha=x))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return S},set:function(W){S!==W&&(S=W,e._gradient&&(e._gradient.fromX=S))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return M},set:function(W){M!==W&&(M=W,e._gradient&&(e._gradient.fromY=M))}}),Object.defineProperty(e,"gradientToX",{get:function(){return b},set:function(W){b!==W&&(b=W,e._gradient&&(e._gradient.toX=b))}}),Object.defineProperty(e,"gradientToY",{get:function(){return D},set:function(W){D!==W&&(D=W,e._gradient&&(e._gradient.toY=D))}}),Object.defineProperty(e,"gradientSize",{get:function(){return k},set:function(W){k!==W&&(k=W,e._gradient&&(e._gradient.size=k))}}),e.gradientColor=null,Ee(e,"gradientColor"),e},e2=function(e){return $e(e,"grayscale",1),e},i2=function(e){return $e(e,"hue",1),e},s2=function(e){return $e(e,"kodachrome"),e},r2=function(e){return $e(e,"lsd"),e},n2=function(e){return $e(e,"negative"),e},a2=function(e){if(ie(e,"pixelate"))return e;var t=Qe(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))}}),e.pixelate=null,Ee(e,"pixelate"),e},h2=function(e){return $e(e,"polaroid"),e},o2=function(e){if(ie(e,"revealLeft"))return e;var t=Qe(e);if(!t)return e;var i,n,x,S,M=.1,b=function(){i=null,n=null,x=null,S=null},D=function(k){k._revealEffect&&(t.remove(k._revealEffect),k._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return i},set:function(k){i!==k&&(b(),i=k,i===null||i===!1?D(e):(e._revealEffect||(e._revealEffect=t.addReveal(M,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))}}),Object.defineProperty(e,"revealRight",{get:function(){return n},set:function(k){n!==k&&(b(),n=k,n===null||n===!1?D(e):(e._revealEffect||(e._revealEffect=t.addReveal(M,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=n))}}),Object.defineProperty(e,"revealUp",{get:function(){return x},set:function(k){x!==k&&(b(),x=k,x===null||x===!1?D(e):(e._revealEffect||(e._revealEffect=t.addReveal(M,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=x))}}),Object.defineProperty(e,"revealDown",{get:function(){return S},set:function(k){S!==k&&(b(),S=k,S===null||S===!1?D(e):(e._revealEffect||(e._revealEffect=t.addReveal(M,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=S))}}),Object.defineProperty(e,"revealWidth",{get:function(){return M},set:function(k){M!==k&&(M=k,e._revealEffect&&(e._revealEffect.wipeWidth=M))}}),e.revealLeft=null,Ee(e,"revealLeft"),Ee(e,"revealRight"),Ee(e,"revealUp"),Ee(e,"revealDown"),e},l2=function(e){return $e(e,"saturate",1),e},u2=function(e){return $e(e,"sepia"),e},d2=function(e){if(ie(e,"shadowColor"))return e;var t=Qe(e);if(!t)return e;var i,n=0,x=0,S=.1,M=1,b=6,D=1;return Object.defineProperty(e,"shadowColor",{get:function(){return i},set:function(k){i!==k&&(i=k,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(n,x,S,M,i,b,D)),e._shadow.color=i))}}),Object.defineProperty(e,"shadowX",{get:function(){return n},set:function(k){n!==k&&(n=k,e._shadow&&(e._shadow.x=n))}}),Object.defineProperty(e,"shadowY",{get:function(){return x},set:function(k){x!==k&&(x=k,e._shadow&&(e._shadow.y=x))}}),Object.defineProperty(e,"decay",{get:function(){return S},set:function(k){S!==k&&(S=k,e._shadow&&(e._shadow.decay=S))}}),Object.defineProperty(e,"shadowPower",{get:function(){return M},set:function(k){M!==k&&(M=k,e._shadow&&(e._shadow.power=M))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return b},set:function(k){b!==k&&(b=k,e._shadow&&(e._shadow.samples=b))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return D},set:function(k){D!==k&&(D=k,e._shadow&&(e._shadow.intensity=D))}}),e.shadowColor=null,Ee(e,"shadowColor"),e},f2=function(e){return $e(e,"shiftToBGR"),e},c2=function(e){if(ie(e,"shineSpeed"))return e;var t=Qe(e);if(!t)return e;var i,n=.5,x=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,n,x)),e._shine.speed=i))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return n},set:function(S){n!==S&&(n=S,e._shine&&(e._shine.lineWidth=n))}}),Object.defineProperty(e,"shineGradient",{get:function(){return x},set:function(S){x!==S&&(x=S,e._shine&&(e._shine.gradient=x))}}),e.shineSpeed=null,Ee(e,"shineSpeed"),e},v2=function(e){return $e(e,"technicolor"),e},p2=function(e){if(ie(e,"tiltShiftRadius"))return e;var t=Qe(e);if(!t)return e;var i,n=1,x=.2,S=1,M=1,b=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return i},set:function(D){i!==D&&(i=D,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,n,x,S,M,b)),e._tiltShift.radius=i))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return n},set:function(D){n!==D&&(n=D,e._tiltShift&&(e._tiltShift.amount=n))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return x},set:function(D){x!==D&&(x=D,e._tiltShift&&(e._tiltShift.contrast=x))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return S},set:function(D){S!==D&&(S=D,e._tiltShift&&(e._tiltShift.blurX=S))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return M},set:function(D){M!==D&&(M=D,e._tiltShift&&(e._tiltShift.blurY=M))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return b},set:function(D){b!==D&&(b=D,e._tiltShift&&(e._tiltShift.strength=b))}}),e.tiltShiftRadius=null,Ee(e,"tiltShiftRadius"),e},g2=function(e){if(ie(e,"vignetteRadius"))return e;var t=Qe(e);if(!t)return e;var i,n=.5,x=.5,S=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return i},set:function(M){i!==M&&(i=M,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(n,x,i,S)),e._vignette.radius=i))}}),Object.defineProperty(e,"vignetteX",{get:function(){return n},set:function(M){n!==M&&(n=M,e._vignette&&(e._vignette.x=n))}}),Object.defineProperty(e,"vignetteY",{get:function(){return x},set:function(M){x!==M&&(x=M,e._vignette&&(e._vignette.y=x))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return S},set:function(M){S!==M&&(S=M,e._vignette&&(e._vignette.strength=S))}}),e.vignetteRadius=null,Ee(e,"vignetteRadius"),e},m2=function(e){return $e(e,"vintagePinhole"),e},x2=function(e){if(ie(e,"wipeLeft"))return e;var t=Qe(e);if(!t)return e;var i,n,x,S,M=.1,b=function(){i=null,n=null,x=null,S=null},D=function(k){k._wipeEffect&&(t.remove(k._wipeEffect),k._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return i},set:function(k){i!==k&&(b(),i=k,i===null||i===!1?D(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(M,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))}}),Object.defineProperty(e,"wipeRight",{get:function(){return n},set:function(k){n!==k&&(b(),n=k,n===null||n===!1?D(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(M,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=n))}}),Object.defineProperty(e,"wipeUp",{get:function(){return x},set:function(k){x!==k&&(b(),x=k,x===null||x===!1?D(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(M,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=x))}}),Object.defineProperty(e,"wipeDown",{get:function(){return S},set:function(k){S!==k&&(b(),S=k,S===null||S===!1?D(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(M,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=S))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return M},set:function(k){M!==k&&(M=k,e._wipeEffect&&(e._wipeEffect.wipeWidth=M))}}),e.wipeLeft=null,Ee(e,"wipeLeft"),Ee(e,"wipeRight"),Ee(e,"wipeUp"),Ee(e,"wipeDown"),e};const Zh={barrel:WE,blackWhite:UE,bloom:XE,blur:YE,bokeh:HE,brightness:$E,brown:KE,circle:ZE,contrast:JE,desaturate:QE,desaturateLuminance:jE,displacement:qE,glow:_E,gradient:t2,grayscale:e2,hue:i2,kodachrome:s2,lsd:r2,negative:n2,pixelate:a2,polaroid:h2,reveal:o2,saturate:l2,sepia:u2,shadow:d2,shiftToBGR:f2,shine:c2,technicolor:v2,tiltShift:p2,vignette:g2,vintagePinhole:m2,wipe:x2};var yn=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},n=0,x=i.length;n<x;n++)t[i[n]]=!0;if(t===!0)for(var S in Zh)Zh[S](e);else for(var S in t)t[S]&&Zh[S]&&Zh[S](e);return e};const y2=Phaser.Utils.Array.Remove;var C2={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&IE(t),this.viewportCoordinateEnable&&VE(t,this.viewport),this.effectPropertiesConfig&&yn(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){y2(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,n=this.createGameObjectScope,x=i.call(n,this.scene,...t);this.addGO(e,x),this.gameObjectDepth!=null&&x.setDepth(this.gameObjectDepth);var S=this.get(e);return this.fadeBob(S,0,1),this}},S2={remove(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var n=this;return i.forEach(function(x){delete n.bobs[x.name];var S=x.gameObject;n.removedGOs.push(S),S.setName(),t?x.destroy():n.fadeBob(x,void 0,0,function(){x.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},T2={hasProperty(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);return i?i.hasProperty(t):!1},getProperty(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);if(i)return i.getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),n.forEach(function(x){x.setProperty(t,i)}),this},easeProperty(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var n=t.value,x=t.property;return this.symbols&&typeof n=="string"&&this.isNumberProperty(e,x)&&n in this.symbols&&(t.value=this.symbols[n]),i.forEach(function(S){S.easeProperty(t)}),this},hasTweenTask(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);return i?i.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);return i&&i.tweens[t]||null}},P2={hasMethod(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);return i?i.hasMethod(t):!1},call(e,t,...i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return n.forEach(function(x){x.call(t,...i)}),this}},E2={hasData(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);return i?i.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return n.forEach(function(x){x.setData(t,i)}),this}};const Ep=0,Mp=1,Nu=2,wp=3,Rp=4,Vu=5,M2={tint:Ep,alpha:Mp,revealUp:Nu,revealDown:wp,revealLeft:Rp,revealRight:Vu};var w2={setGOFadeMode(e){return typeof e=="string"&&(e=M2[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===Ep)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===Mp)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=Nu&&this.fadeMode<=Vu&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,n){var x=e.gameObject;if(this.useTintFadeEffect(x))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*i),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n});else if(this.useAlphaFadeEffect(x))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n});else if(this.useRevealEffect(x)){yn(x,"reveal");var S;switch(this.fadeMode){case Nu:S="revealUp";break;case wp:S="revealDown";break;case Rp:S="revealLeft";break;case Vu:S="revealRight";break}t===void 0&&(t=0),x[S]=t,e.easeProperty({property:S,value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n}),e.getTweenTask(S).once("complete",function(){x[S]=null})}else n&&n(x);return this}},se=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},re=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const Ap=Phaser.Geom.Rectangle,ns=Phaser.Math.Vector2,R2=Phaser.Math.RotateAround,A2=Phaser.GameObjects.Container;var Wu=function(e,t){if(t===void 0?t=new Ap:t===!0&&(Uu===void 0&&(Uu=new Ap),t=Uu),e.getBounds&&!(e instanceof A2))return e.getBounds(t);var i,n,x,S,M,b,D,k;if(e.parentContainer){var W=e.parentContainer.getBoundsTransformMatrix();br(e,t),W.transformPoint(t.x,t.y,t),i=t.x,n=t.y,pa(e,t),W.transformPoint(t.x,t.y,t),x=t.x,S=t.y,ga(e,t),W.transformPoint(t.x,t.y,t),M=t.x,b=t.y,Xu(e,t),W.transformPoint(t.x,t.y,t),D=t.x,k=t.y}else br(e,t),i=t.x,n=t.y,pa(e,t),x=t.x,S=t.y,ga(e,t),M=t.x,b=t.y,Xu(e,t),D=t.x,k=t.y;return t.x=Math.min(i,x,M,D),t.y=Math.min(n,S,b,k),t.width=Math.max(i,x,M,D)-t.x,t.height=Math.max(n,S,b,k)-t.y,t},Uu=void 0,br=function(e,t,i){return t===void 0?t=new ns:t===!0&&(ri===void 0&&(ri=new ns),t=ri),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-se(e)*e.originX,t.y=e.y-re(e)*e.originY,ma(e,t,i))},pa=function(e,t,i){return t===void 0?t=new ns:t===!0&&(ri===void 0&&(ri=new ns),t=ri),e.getTopRight?e.getTopRight(t):(t.x=e.x-se(e)*e.originX+se(e),t.y=e.y-re(e)*e.originY,ma(e,t,i))},ga=function(e,t,i){return t===void 0?t=new ns:t===!0&&(ri===void 0&&(ri=new ns),t=ri),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-se(e)*e.originX,t.y=e.y-re(e)*e.originY+re(e),ma(e,t,i))},Xu=function(e,t,i){return t===void 0?t=new ns:t===!0&&(ri===void 0&&(ri=new ns),t=ri),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-se(e)*e.originX+se(e),t.y=e.y-re(e)*e.originY+re(e),ma(e,t,i))},bp=function(e,t,i){t===void 0?t=new ns:t===!0&&(ri===void 0&&(ri=new ns),t=ri);var n=se(e),x=re(e);return t.x=e.x+n*(.5-e.originX),t.y=e.y+x*(.5-e.originY),ma(e,t,i)},ri=void 0,ma=function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&R2(t,e.x,e.y,e.rotation),i&&e.parentContainer){var n=e.parentContainer.getBoundsTransformMatrix();n.transformPoint(t.x,t.y,t)}return t};const xa=Phaser.Utils.Objects.GetValue;var Lp=function(e,t,i){var n,x,S,M,b;if(typeof i=="number"?n=i:(n=xa(i,"color"),x=xa(i,"lineWidth"),S=xa(i,"fillColor"),M=xa(i,"fillAlpha",1),b=xa(i,"padding",0)),Array.isArray(e))for(var D=0,k=e.length;D<k;D++)Op(e[D],t,n,x,S,M,b);else Op(e,t,n,x,S,M,b)},Op=function(e,t,i,n,x,S,M){var b=e.getBounds||e.width!==void 0&&e.height!==void 0;if(b){i===void 0&&(i=16777215),n===void 0&&(n=1),x===void 0&&(x=null),S===void 0&&(S=1),M===void 0&&(M=0);var D=br(e,Cn[0]);D.x-=M,D.y-=M;var k=pa(e,Cn[1]);k.x+=M,k.y-=M;var W=Xu(e,Cn[2]);W.x+=M,W.y+=M;var Z=ga(e,Cn[3]);Z.x-=M,Z.y+=M,x!==null&&t.fillStyle(x,S).fillPoints(Cn,!0,!0),i!==null&&t.lineStyle(n,i).strokePoints(Cn,!0,!0)}},Cn=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],b2=function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):Lp(i,e,t)}),this},Dp=function(e,t){var i=e.cameras,n;if(t===void 0)n=i.main;else{var x=typeof t;switch(x){case"string":n=i.getCamera(t);break;case"number":n=i.cameras[t];break;default:n=t;break}}return n},L2={setCamera(e,t){var i=this.get(e);if(!i)return this;var n=Dp(this.scene,t);return n?(i.gameObject.cameraFilter=4294967295^n.id,i.camera=n,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}},Fp={drawGameObjectsBounds:b2};Object.assign(Fp,RE,C2,S2,T2,P2,E2,w2,L2);const O2=Phaser.Cameras.Scene2D.BaseCamera;var D2=function(e){return e instanceof O2};const Bp=Phaser.Geom.Rectangle;var Sn=function(e,t,i){return D2(t)||(i=t,t=void 0),i===void 0?i=new Bp:i===!0&&(i=F2),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},F2=new Bp;const di=Phaser.Utils.Objects.GetValue;class Tn{constructor(t,i){this.scene=t,this.BobClass=di(i,"BobClass",zu),this.setCreateGameObjectCallback(di(i,"createGameObject"),di(i,"createGameObjectScope")),this.setEventEmitter(di(i,"eventEmitter",void 0)),this.setGameObjectDepth(di(i,"depth",void 0));var n=di(i,"fade",500);typeof n=="number"?(this.setGOFadeMode(),this.setGOFadeTime(n)):(this.setGOFadeMode(di(n,"mode")),this.setGOFadeTime(di(n,"time",500)));var x=di(i,"viewportCoordinate",!1);x!==!1?(this.setViewportCoordinateEnable(di(i,"enable",!0)),this.setViewport(di(x,"viewport"))):this.setViewportCoordinateEnable(!1);var S=di(i,"effectProperties",!1);this.setEffectPropertiesConfig(S),this.setSymbols(di(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=di(i,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var n in i)i[n].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=Sn(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return da(this.bobs)&&this.removedGOs.length===0}}Object.assign(Tn.prototype,ua,Fp);const B2=Phaser.GameObjects.GameObject,I2=Phaser.GameObjects.Layer;var fi=function(e){return e instanceof B2||e instanceof I2};const k2=Phaser.GameObjects.Layer;var ya=function(e){return e instanceof k2},Ip=function(e){var t=e.displayList;return ya(t)?t:null},Ri=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,n=0,x=e.length;n<x;n++){var S=e[n];if(S.displayList?i=S.displayList:S.parentContainer&&(i=S.parentContainer.list),i)break}return i||(i=S.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(M,b){return i.indexOf(b)-i.indexOf(M)}):e.sort(function(M,b){return i.indexOf(M)-i.indexOf(b)}),e},G2={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),Ri(e,!1),e},addToLayer(e,t){var i=this.getGO(e);if(!i){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var n=0,x=t.length;n<x;n++){var S=t[n];S.isRexContainerLite?S.addToLayer(i):i.add(S)}return i.scrollFactorX!==void 0&&S.setScrollFactor(i.scrollFactorX,i.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),i=t[t.length-1];return this.addToLayer(i.goName,e),this},removeFromLayer(e,t,i){var n=this.getGO(e);if(!n){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return i===void 0&&(i=!0),t.isRexContainerLite?t.removeFromLayer(n,i):(n.remove(t),i&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var i=this.getGO(e);if(!i){console.warn(`Can't get layer "${e}"`);return}if(t)for(var n=i.getAll(),x=0,S=n.length;x<S;x++)n[x].destroy();else i.removeAll();return this}},z2={setScrollFactor(e,t,i){i===void 0&&(i=t);var n=this.getLayer(e);if(!n)return this;n.scrollFactorX=t,n.scrollFactorY=i;for(var x=n.getAll(),S=0,M=x.length;S<M;S++)x[S].setScrollFactor(t,i);return this}};const Jh=Phaser.Utils.Array,N2=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Jh.BringToTop(e,this),this):this},V2=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Jh.SendToBack(e,this),this):this},kp=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(Jh.MoveBelow(t,this,e),this):this},Gp=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(Jh.MoveAbove(t,this,e),this):this};var Qh={bringMeToTop:N2,sendMeToBack:V2,moveMyDepthBelow:kp,moveMyDepthAbove:Gp},W2={bringLayerToTop(e){var t=this.getLayer(e);return t?(Qh.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(Qh.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var i=this.getLayer(e),n=this.getLayer(t);return!i||!n?this:(Qh.moveMyDepthBelow.call(i,n),this)},moveLayerAbove(e,t){if(e===t)return this;var i=this.getLayer(e),n=this.getLayer(t);return!i||!n?this:(Qh.moveMyDepthAbove.call(i,n),this)}};const U2=Tn.prototype.setCamera;var X2={setCamera(e,t){var i=Dp(this.scene,t);return i||(i=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),U2.call(this,e,i),this}},zp={};Object.assign(zp,G2,z2,W2,X2);const jh=Phaser.Utils.Objects.GetValue;class qh extends Tn{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var n=jh(i,"rootLayer");this.setRootLayer(n);var x=jh(i,"layers");if(x)for(var S=0,M=x.length;S<M;S++){var b=x[S];if(typeof b=="string")this.add(b);else{var D=b.name;this.add(D);var k=b.scrollFactor,W=jh(b,"scrollFactorX",k),Z=jh(b,"scrollFactorY",k);W!==void 0&&this.setScrollFactor(D,W,Z),this.setCamera(D,b.cameraName)}}}setCreateGameObjectCallback(t,i){return t||(t=Y2),super.setCreateGameObjectCallback(t,i),this}setRootLayer(t){if(t===this.rootLayer)return this;var i=this.getAllGO();return t?t.add(i):this.scene.displayList.add(i),this.rootLayer=t,this}addGO(t,i){return super.addGO(t,i),i.name=t,this.rootLayer&&this.rootLayer.add(i),this}get(t,i){if(fi(t)){var n=Ip(t);if(!n||(t=n.name,!t))return}return super.get(t,i)}}var Y2=function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i};Object.assign(qh.prototype,zp);var H2=function(e){return P(e)?e.sys.sound:e.sound},$2=function(e){return this.sound.game.cache.audio.has(e)},Pn=function(e){return e==null||typeof e!="object"?null:P(e)?e:e.scene&&P(e.scene)?e.scene:e.parent&&e.parent.scene&&P(e.parent.scene)?e.parent.scene:null};const K2=Phaser.Utils.Objects.GetValue;class xe{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(K2(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=Pn(t),this.game=w(t),this}}Object.assign(xe.prototype,ua);const Z2=Phaser.Utils.Objects.GetValue;class _h extends xe{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(Z2(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=J2[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const J2={no:0,lazy:1,always:2},Q2=Phaser.Utils.Objects.GetValue;class j2 extends _h{constructor(t,i){super(t,i);var n=this.scene?"update":"step";this.tickEventName=Q2(i,"tickEventName",n),this.isSceneTicker=!q2(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var q2=function(e){return e==="step"||e==="poststep"};const Ms=Phaser.Utils.Objects.GetValue,Np=Phaser.Math.Clamp;let Vp=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=Ms(t,"state",Ca),this.timeScale=Ms(t,"timeScale",1),this.delay=Ms(t,"delay",0),this.repeat=Ms(t,"repeat",0),this.repeatCounter=Ms(t,"repeatCounter",0),this.repeatDelay=Ms(t,"repeatDelay",0),this.duration=Ms(t,"duration",0),this.nowTime=Ms(t,"nowTime",0),this.justRestart=Ms(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?En:Sa,this.repeatCounter=0,this}stop(){return this.state=Ca,this}update(t,i){this.state===Ca||this.state===to||i===0||this.timeScale===0||(this.nowTime+=i*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=Wp)):(this.nowTime=this.duration,this.state=to):this.nowTime>=0&&(this.state=En))}get t(){var t;switch(this.state){case Ca:case Sa:case Wp:t=0;break;case En:t=this.nowTime/this.duration;break;case to:t=1;break}return Np(t,0,1)}set t(t){t=Np(t,-1,1),t<0?(this.state=Sa,this.nowTime=-this.delay*t):(this.state=En,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===Ca}get isDelay(){return this.state===Sa}get isCountDown(){return this.state===En}get isRunning(){return this.state===Sa||this.state===En}get isDone(){return this.state===to}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const Ca=0,Sa=1,En=2,Wp=3,to=-1;class _2 extends j2{constructor(t,i){super(t,i),this.timer=new Vp}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const Ta=Phaser.Utils.Objects.GetValue,Up=Phaser.Utils.Objects.GetAdvancedValue,tM=Phaser.Tweens.Builders.GetEaseFunction;class Lr extends _2{resetFromJSON(t){return this.timer.resetFromJSON(Ta(t,"timer")),this.setEnable(Ta(t,"enable",!0)),this.setTarget(Ta(t,"target",this.parent)),this.setDelay(Up(t,"delay",0)),this.setDuration(Up(t,"duration",1e3)),this.setEase(Ta(t,"ease","Linear")),this.setRepeat(Ta(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=tM(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var n=this.target,x=this.timer;return x.update(t,i),x.isDelay||this.updateTarget(n,x),this.emit("update",n,this),x.isDone&&this.complete(),this}updateTarget(t,i){}}const eM=Phaser.Sound.BaseSound;var Yu=function(e){return e instanceof eM};const Xp=Phaser.Utils.Objects.GetValue,Yp=Phaser.Utils.Objects.GetAdvancedValue,iM=Phaser.Math.Linear;let Hp=class extends Lr{constructor(t,i,n){Yu(t)&&(n=i,i=t,t=void 0),i.active=!0,i.scene=t,i.game=i.manager.game,super(i,n),this.volume={},this.resetFromJSON(n)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Xp(t,"mode",0)),this.setEnable(Xp(t,"enable",!0)),this.setVolumeRange(Yp(t,"volume.start",this.parent.volume),Yp(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=sM[t]),this.mode=t,this}setVolumeRange(t,i){return this.volume.start=t,this.volume.end=i,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,i){t.volume=iM(this.volume.start,this.volume.end,i.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const sM={stop:1,destroy:2};var eo=function(e,t,i,n,x){Yu(e)&&(x=n,n=i,i=t,t=e,e=void 0),n===void 0&&(n=1),x===void 0&&(x=0);var S={mode:0,volume:{start:x,end:n},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var M;return t.hasOwnProperty("_fade")?(M=t._fade,M.stop().resetFromJSON(S)):(M=new Hp(e,t,S),t._fade=M),M.start(),t.isPlaying||t.setVolume(x).play(),t},Mn=function(e,t,i,n){Yu(e)&&(n=i,i=t,t=e,e=void 0),n===void 0&&(n=!0);var x={mode:n?2:1,volume:{start:t.volume,end:0},duration:i},S;return t.hasOwnProperty("_fade")?(S=t._fade,S.stop().resetFromJSON(x)):(S=new Hp(e,t,x),t._fade=S),S.start(),t.isPlaying||t.play(),t};const Pa=Phaser.Utils.Objects.GetValue;var rM={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:Pa(t,"loop",this.backgroundMusicLoop),mute:Pa(t,"mute",this.backgroundMusicMute),volume:Pa(t,"volume",this.backgroundMusicVolume),detune:Pa(t,"detune",0),rate:Pa(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&eo(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&Mn(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}};const Ea=Phaser.Utils.Objects.GetValue;var nM={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:Ea(t,"loop",this.backgroundMusicLoop),mute:Ea(t,"mute",this.backgroundMusic2Mute),volume:Ea(t,"volume",this.backgroundMusic2Volume),detune:Ea(t,"detune",0),rate:Ea(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&eo(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&Mn(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}};const $p=Phaser.Utils.Array.Remove,io=Phaser.Utils.Objects.GetValue;var aM={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:io(t,"mute",this.soundEffectsMute),volume:io(t,"volume",this.soundEffectsVolume),detune:io(t,"detune",0),rate:io(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&$p(this.soundEffects,i)},this).once("destroy",function(){this.sound&&$p(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&eo(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&Mn(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)Mn(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var n=0,x=i.length;n<x;n++)i[n].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var n=0,x=i.length;n<x;n++)i[n].setRate(e);return this}};const Kp=Phaser.Utils.Array.Remove,so=Phaser.Utils.Objects.GetValue;var hM={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:so(t,"mute",this.soundEffects2Mute),volume:so(t,"volume",this.soundEffects2Volume),detune:so(t,"detune",0),rate:so(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&Kp(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&Kp(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&eo(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&Mn(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)Mn(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var n=0,x=i.length;n<x;n++)i[n].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var n=0,x=i.length;n<x;n++)i[n].setRate(e);return this}},Zp={hasAudio:$2};Object.assign(Zp,rM,nM,aM,hM);const Ai=Phaser.Utils.Objects.GetValue;class Jp{constructor(t,i){this.sound=H2(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Ai(i,"bgm.volume",1),this._backgroundMusicMute=Ai(i,"bgm.mute",!1),this.setBackgroundMusicLoop(Ai(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Ai(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Ai(i,"bgm2.volume",1),this._backgroundMusic2Mute=Ai(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Ai(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Ai(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Ai(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Ai(i,"soundEffect2.volume",1);var n=Ai(i,"bgm.initial",void 0);n&&this.setCurrentBackgroundMusic(n);var x=Ai(i,"bgm2.initial",void 0);x&&this.setCurrentBackgroundMusic2(x)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,n=0,x=i.length;n<x;n++)i[n].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,n=0,x=i.length;n<x;n++)i[n].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,n=0,x=soundEffects2.length;n<x;n++)i[n].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,n=0,x=i.length;n<x;n++)i[n].setVolume(t)}}Object.assign(Jp.prototype,Zp);const Hu=Phaser.Utils.Objects.GetValue;class oM extends _h{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=Hu(t,"isRunning",!1),this.timeScale=Hu(t,"timeScale",1),this.now=Hu(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class Qp extends oM{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}}var ue=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const jp=Phaser.Math.Clamp;class lM{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,n,x){return this.target=t,this.onStart=i,this.onProgress=n,this.onComplete=x,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=jp(t,0,1),this.yoyo&&(t=ue(t)),t}setProgress(t){t=jp(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var n=this.remainder<=0;return n&&this.runCallback(this.onComplete),n}}let uM=class extends yt{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}};const dM=Phaser.Utils.Objects.GetValue,fM=new uM;class cM extends Qp{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=dM(i,"pool",fM)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new lM(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,n,x){var S=this.addTimer({duration:t,onComplete:function(M,b,D){n===void 0&&(n=[]),n.push(D),i.apply(x,n)}});return S}delayEvent(t,i){this.removeDelayEvent(i);var n=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){n.remove(),n=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],n=[this.addedTimers,this.timers],x=0,S=n.length;x<S;x++)for(var M=n[x],b=0,D=M.length;b<D;b++){var k=M[b];k.name===t&&i.push(k)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var n=[],x=0,S=this.timers.length;x<S;x++){var M=this.timers[x],b=M.update(this.now,this.delta);b?this.timerPool.free(M):n.push(M)}this.timers=n,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const vM="_wait.complete",pM="_remove.wait";var gM=function(e,t,i,n,x){var S=Pn(e),M=S.time.delayedCall(t,function(){S.sys.events.once("preupdate",function(){i.call(n,x)})});return M};let qp=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=vM,this.removeWaitEventsEventName=pM}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,i,n){var x=this.getWaitCompleteTriggerCallback(n);return t.once(i,x,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(i,x,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var i=this.waitId,n=this,x=function(){i<n.waitId||(n.waitId++,n.removeWaitEvents(),n.parent.emit(n.waitCompleteEventName))};if(t){var S=function(){gM(n.parent,0,x)};return S}else return x}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,i){return this.parent.on(this.waitCompleteEventName,t,i),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(qp.prototype,ua);var mM={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}},xM=function(e,t){var i=`(?<!\\\\)\\${t}`,n=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(x){return x.replace(n,t)})},yM={setClickTarget(e){return this.clickTarget=e,e?P(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=xM(e,"|"),n=0,x=i.length;n<x;n++)this.waitEvent(t,`keydown-${i[n].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},CM={waitGameObjectTweenComplete(e,t,i){var n=this.parent.getGameObjectTweenTask(e,t,i);return n?this.waitEvent(n,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,n){var x=this.parent.getGameObject(e,t);if(!x)return this.waitTime(0);if(x.getData(i)===n)return this.waitTime(0);var S=`changedata-${i}`,M=function(b,D,k){D=!!D,D===n&&b.emit("_dataFlagMatch")};return x.on(S,M),this.parent.once(this.removeWaitEventsEventName,function(){x.off(S,M)}),this.waitEvent(x,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,n=!1;for(var x in i)n=!0,this.waitEvent(i[x],"empty");return n?this.parent:this.waitTime(0)}}},SM={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var i;if(t?i=this.scene.cameras.getCamera(t):i=this.cameraTarget,!i)return this.waitTime(0);var n,x;switch(e){case"camera.fadein":n=i.fadeEffect,x="camerafadeincomplete";break;case"camera.fadeout":n=i.fadeEffect,x="camerafadeoutcomplete";break;case"camera.flash":n=i.flashEffect,x="cameraflashcomplete";break;case"camera.shake":n=i.shakeEffect,x="camerashakecomplete";break;case"camera.zoom":n=i.zoomEffect,x="camerazoomcomplete";break;case"camera.rotate":n=i.rotateToEffect,x="camerarotatecomplete";break;case"camera.scroll":n=i.panEffect,x="camerapancomplete";break}return n.isRunning?this.waitEvent(i,x):this.waitTime(0)}},TM={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}},PM=function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var n=i.split(".");if(n.length===2){var x=n[0],S=n[1],M=this.parent.getGameObjectManager(void 0,x);if(!M)continue;if(S==="destroy")return this.waitGameObjectDestroy(void 0,x);var b=M.getProperty(x,S);if(typeof b=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,x,S);continue}var D=S,k=D.startsWith("!");if(k&&(D=D.substring(1)),M.hasData(x,S)){t=!0,this.waitGameObjectDataFlag(void 0,x,D,!k);continue}this.waitEvent(gameObject,S);continue}else n.length;break}return t||this.waitTime(0),this.parent},_p={waitAny:PM};Object.assign(_p,mM,yM,CM,SM,TM);class tg extends qp{constructor(t,i){super(t),this.waitCompleteEventName=kt(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(kt(i,"clickTarget",this.scene)),this.setClickShortcutKeys(kt(i,"clickShortcutKeys",void 0)),this.setCameraTarget(kt(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(tg.prototype,_p);const ro=Phaser.Utils.Objects.GetValue;var EM=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=ro(t,"layers",!1);if(i!==!1){var n=new qh(e,{name:"LAYER",layers:i,rootLayer:ro(t,"rootLayer",void 0),depth:ro(t,"layerDepth",void 0)});this.addGameObjectManager(n),this.layerManager=n}var x=ro(t,"sounds");return x!==!1&&(this.soundManager=new Jp(e,x)),this.timeline=new cM(this),this.waitEventManager=new tg(this,t),this},MM=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},wM=function(){return this.timeline.timeScale},RM=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0},eg={addGameObjectManager(e,t){var i;return e instanceof Tn?i=e:typeof e=="string"?(i=t,i.name=e):(e===void 0&&(e={}),t===void 0&&(t=Tn),e.createGameObjectScope||(e.createGameObjectScope=this),i=new t(this.managersScene,e)),this.gameObjectManagers[i.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},AM={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...n){return this.getGameObjectManager(e,t).call(t,i,...n),this},setGameObjectProperty(e,t,i,n){return this.getGameObjectManager(e,t).setProperty(t,i,n),this},easeGameObjectProperty(e,t,i){return this.getGameObjectManager(e,t).easeProperty(t,i),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var n=this.getGameObjectManager(e,t);if(!n)return i;if(typeof t=="string")return n.getGO(t);i===void 0&&(i=[]);var x=t;x===void 0&&(x=Object.keys(n.bobs));for(var S=Array.isArray(i),M=0,b=x.length;M<b;M++){t=x[M];var D=n.getGO(t);D&&(S?i.push(D):i[t]=D)}return i},addGameObject(e,t,i){var n=this.getGameObjectManager(e,t);if(typeof t=="string")n.addGO(t,i);else{var x=t;for(t in x)n.addGO(t,x[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var n=0,x=e.length;n<x;n++)this.getGameObjectManager(e[n]).drawGameObjectsBounds(t,i);return this}},bM=function(e){class t extends e{}var i={initManagers:EM,setTimeScale:MM,getTimeScale:wM,destroyManagers:RM};return Object.assign(t.prototype,i,eg,AM),t};function LM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ig={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function x(D,k,W){this.fn=D,this.context=k,this.once=W||!1}function S(D,k,W,Z,tt){if(typeof W!="function")throw new TypeError("The listener must be a function");var _=new x(W,Z||D,tt),st=i?i+k:k;return D._events[st]?D._events[st].fn?D._events[st]=[D._events[st],_]:D._events[st].push(_):(D._events[st]=_,D._eventsCount++),D}function M(D,k){--D._eventsCount===0?D._events=new n:delete D._events[k]}function b(){this._events=new n,this._eventsCount=0}b.prototype.eventNames=function(){var k=[],W,Z;if(this._eventsCount===0)return k;for(Z in W=this._events)t.call(W,Z)&&k.push(i?Z.slice(1):Z);return Object.getOwnPropertySymbols?k.concat(Object.getOwnPropertySymbols(W)):k},b.prototype.listeners=function(k){var W=i?i+k:k,Z=this._events[W];if(!Z)return[];if(Z.fn)return[Z.fn];for(var tt=0,_=Z.length,st=new Array(_);tt<_;tt++)st[tt]=Z[tt].fn;return st},b.prototype.listenerCount=function(k){var W=i?i+k:k,Z=this._events[W];return Z?Z.fn?1:Z.length:0},b.prototype.emit=function(k,W,Z,tt,_,st){var at=i?i+k:k;if(!this._events[at])return!1;var nt=this._events[at],ut=arguments.length,ct,dt;if(nt.fn){switch(nt.once&&this.removeListener(k,nt.fn,void 0,!0),ut){case 1:return nt.fn.call(nt.context),!0;case 2:return nt.fn.call(nt.context,W),!0;case 3:return nt.fn.call(nt.context,W,Z),!0;case 4:return nt.fn.call(nt.context,W,Z,tt),!0;case 5:return nt.fn.call(nt.context,W,Z,tt,_),!0;case 6:return nt.fn.call(nt.context,W,Z,tt,_,st),!0}for(dt=1,ct=new Array(ut-1);dt<ut;dt++)ct[dt-1]=arguments[dt];nt.fn.apply(nt.context,ct)}else{var mt=nt.length,Tt;for(dt=0;dt<mt;dt++)switch(nt[dt].once&&this.removeListener(k,nt[dt].fn,void 0,!0),ut){case 1:nt[dt].fn.call(nt[dt].context);break;case 2:nt[dt].fn.call(nt[dt].context,W);break;case 3:nt[dt].fn.call(nt[dt].context,W,Z);break;case 4:nt[dt].fn.call(nt[dt].context,W,Z,tt);break;default:if(!ct)for(Tt=1,ct=new Array(ut-1);Tt<ut;Tt++)ct[Tt-1]=arguments[Tt];nt[dt].fn.apply(nt[dt].context,ct)}}return!0},b.prototype.on=function(k,W,Z){return S(this,k,W,Z,!1)},b.prototype.once=function(k,W,Z){return S(this,k,W,Z,!0)},b.prototype.removeListener=function(k,W,Z,tt){var _=i?i+k:k;if(!this._events[_])return this;if(!W)return M(this,_),this;var st=this._events[_];if(st.fn)st.fn===W&&(!tt||st.once)&&(!Z||st.context===Z)&&M(this,_);else{for(var at=0,nt=[],ut=st.length;at<ut;at++)(st[at].fn!==W||tt&&!st[at].once||Z&&st[at].context!==Z)&&nt.push(st[at]);nt.length?this._events[_]=nt.length===1?nt[0]:nt:M(this,_)}return this},b.prototype.removeAllListeners=function(k){var W;return k?(W=i?i+k:k,this._events[W]&&M(this,W)):(this._events=new n,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=i,b.EventEmitter=b,e.exports=b})(ig);var OM=ig.exports,DM=LM(OM);class sg extends DM{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}var rg={setEventEmitter(e,t){return t===void 0&&(t=sg),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},FM=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,BM=/^0x[0-9A-F]+$/i,$u=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(FM.test(e))e=parseFloat(e);else if(BM.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let ng=class{constructor(t){this.setEventEmitter(kt(t,"eventEmitter",void 0)),this.setValueConverter(kt(t,"valueConvert",!0)),this.setLoopEnable(kt(t,"loop",!1)),this.setMultipleLinesTagEnable(kt(t,"multipleLinesTag",!1));var i=kt(t,"delimiters","<>");this.setDelimiters(i[0],i[1]),this.setTranslateTagNameCallback(kt(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,i){i===void 0&&(i=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=i,t=gn(this.delimiterLeft),i=gn(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${i}`,n),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=$u:t||(t=IM),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,i=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var n=this.reSplit.exec(t);if(!n){if(this.progressIndex<i&&(this.onContent(t.substring(this.progressIndex,i)),this.isPaused)){this.progressIndex=i;break}this.onComplete(),this.isRunning=!1;return}var x=this.reSplit.lastIndex,S=x-n[0].length;if(this.progressIndex<S&&(this.onContent(t.substring(this.progressIndex,S)),this.isPaused)){this.progressIndex=S;break}if(this.lastTagSource=n[0],this.onTag(n[1]),this.lastTagSource=void 0,this.progressIndex=x,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,i){return this.isPaused?this:(this.pause(),t.once(i,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const IM=function(e){return e};Object.assign(ng.prototype,rg);var kM=function(e,t,i){if(e==null)return[];t===void 0&&(t=$u),i===void 0&&(i=",");for(var n=e.split(i),x=0,S=n.length;x<S;x++)n[x]=t(n[x]);return n};class GM extends ng{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(kt(t,"regex.tag",void 0)),this.setValueExpression(kt(t,"regex.value",void 0));var i=kt(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=no),this.tagExpression=t,this}setValueExpression(t){return t||(t=no),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var n=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(n,"i"),this.tagExpression!==no||this.valueExpression!==no){var x=`${this.tagExpression}(=${this.valueExpression})?`,S=`/${this.tagExpression}`;t=gn(this.delimiterLeft),i=gn(this.delimiterRight);var M=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${x})|(${S}))${i}`,M)}return this}onTag(t){var i=t.match(this.reTag),n=i[1],x=n.charAt(0)==="/";if(x&&(n=n.substring(1,n.length)),this.translateTagNameCallback&&(n=this.translateTagNameCallback(n)),this.skipEventFlag=!1,x)this.emit(`-${n}`),this.skipEventFlag||this.emit("-",n),this.lastTagEnd=n;else{var S=kM(i[3],this.valueConverter);this.emit(`+${n}`,...S),this.skipEventFlag||this.emit("+",n,...S),this.lastTagStart=n}}}const no="[^=]+";var zM=function(e,t,i){var n="color",x;t.on("start",function(){x=e.textStyle.color}).on(`+${n}`,function(S){e.textStyle.setColor(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setColor(x),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(x)})},NM=function(e,t,i){var n="stroke",x;t.on("start",function(){x=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setStrokeStyle(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(x)})},VM=function(e,t,i){var n="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${n}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},WM=function(e,t,i){var n="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${n}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},UM=function(e,t,i){var n="size",x;t.on("start",function(){x=e.textStyle.fontSize}).on(`+${n}`,function(S){e.textStyle.setFontSize(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setFontSize(x),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(x)})},XM=function(e,t,i){var n="y",x;t.on("start",function(){x=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setOffsetY(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},YM=function(e,t,i){var n="x",x;t.on("start",function(){x=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setOffsetX(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},HM=function(e,t,i){var n="left",x;t.on("start",function(){x=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setLeftSpace(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},$M=function(e,t,i){var n="right",x;t.on("start",function(){x=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setRightSpace(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},KM=function(e,t,i){var n="shadow",x;t.on("start",function(){x=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setShadowColor(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(x)})},ZM=function(e,t,i){var n="align";t.on(`+${n}`,function(x){e.textStyle.setAlign(x),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},JM=function(e,t,i){var n="img";t.on(`+${n}`,function(x){var S=e.imageManager.get(x);S&&pp.call(e,S.key,S.frame,{width:S.width,hieght:S.height,leftSpace:S.left,rightSpace:S.right,color:S.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},QM=function(e,t,i){var n="space";t.on(`+${n}`,function(x){gp.call(e,x),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},jM=function(e,t,i){var n="speed";t.on(`+${n}`,function(x){ag(e,x),t.skipEvent()}).on(`-${n}`,function(){ag(e,void 0),t.skipEvent()})},qM=function(e){this.typeWriter.setTypingSpeed(e)},ag=function(e,t){Bt.call(e,"speed",qM,t,e)},_M=function(e,t,i){var n="se";t.on(`+${n}`,function(x,S){Bt.call(e,n,tw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2";t.on(`+${n}`,function(x,S){Bt.call(e,n,ew,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},tw=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},ew=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},iw=function(e,t,i){var n="se.fadein";t.on(`+${n}`,function(x){Bt.call(e,n,sw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.fadein";t.on(`+${n}`,function(x){Bt.call(e,n,rw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},sw=function(e){this.soundManager.fadeInSoundEffect(e)},rw=function(e){this.soundManager.fadeInSoundEffect2(e)},nw=function(e,t,i){var n="se.fadeout";t.on(`+${n}`,function(x,S){S=S==="stop",Bt.call(e,n,aw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.fadeout";t.on(`+${n}`,function(x,S){S=S==="stop",Bt.call(e,n,hw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},aw=function(e){this.soundManager.fadeOutSoundEffect(...e)},hw=function(e){this.soundManager.fadeOutSoundEffect2(...e)},ow=function(e,t,i){var n="se.volume";t.on(`+${n}`,function(x){Bt.call(e,n,lw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.volume";t.on(`+${n}`,function(x){Bt.call(e,n,uw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},lw=function(e){this.soundManager.setSoundEffectVolume(e,!0)},uw=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},dw=function(e,t,i){var n="se.mute";t.on(`+${n}`,function(){Bt.call(e,n,fw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.mute";t.on(`+${n}`,function(){Bt.call(e,n,cw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se.unmute";t.on(`+${n}`,function(){Bt.call(e,n,vw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.unmute";t.on(`+${n}`,function(){Bt.call(e,n,pw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},fw=function(){this.soundManager.setSoundEffectMute(!0)},cw=function(){this.soundManager.setSoundEffect2Mute(!0)},vw=function(){this.soundManager.setSoundEffectMute(!1)},pw=function(){this.soundManager.setSoundEffect2Mute(!1)},gw=function(e,t,i){var n="bgm";t.on(`+${n}`,function(x,S){Bt.call(e,n,mw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){Bt.call(e,"bgm.stop",xw,void 0,e),t.skipEvent()});var n="bgm2";t.on(`+${n}`,function(x,S){Bt.call(e,n,yw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){Bt.call(e,"bgm2.stop",Cw,void 0,e),t.skipEvent()})},mw=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},xw=function(){this.soundManager.stopBackgroundMusic()},yw=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},Cw=function(){this.soundManager.stopBackgroundMusic2()},Sw=function(e,t,i){var n="bgm.fadein";t.on(`+${n}`,function(x){Bt.call(e,n,Tw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.fadein";t.on(`+${n}`,function(x){Bt.call(e,n,Pw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Tw=function(e){this.soundManager.fadeInBackgroundMusic(e)},Pw=function(e){this.soundManager.fadeInBackgroundMusic2(e)},Ew=function(e,t,i){var n="bgm.fadeout";t.on(`+${n}`,function(x,S){S=S==="stop",Bt.call(e,n,Mw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.fadeout";t.on(`+${n}`,function(x,S){S=S==="stop",Bt.call(e,n,ww,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Mw=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},ww=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},Rw=function(e,t,i){var n="bgm.cross";t.on(`+${n}`,function(x,S){Bt.call(e,n,Aw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.cross";t.on(`+${n}`,function(x,S){Bt.call(e,n,bw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Aw=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},bw=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},Lw=function(e,t,i){var n="bgm.pause";t.on(`+${n}`,function(){Bt.call(e,n,Ow,void 0,e),t.skipEvent()}).on(`-${n}`,function(){Bt.call(e,"bgm.resume",Dw,void 0,e),t.skipEvent()});var n="bgm2.pause";t.on(`+${n}`,function(){Bt.call(e,n,Fw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){Bt.call(e,"bgm2.resume",Bw,void 0,e),t.skipEvent()})},Ow=function(){this.soundManager.pauseBackgroundMusic()},Dw=function(){this.soundManager.resumeBackgroundMusic()},Fw=function(){this.soundManager.pauseBackgroundMusic2()},Bw=function(){this.soundManager.resumeBackgroundMusic2()},Iw=function(e,t,i){var n="bgm.volume";t.on(`+${n}`,function(x){Bt.call(e,n,kw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.volume";t.on(`+${n}`,function(x){Bt.call(e,n,Gw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},kw=function(e){this.soundManager.setBackgroundMusicVolume(e)},Gw=function(e){this.soundManager.setBackgroundMusicVolume2(e)},zw=function(e,t,i){var n="bgm.mute";t.on(`+${n}`,function(){Bt.call(e,n,Nw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.mute";t.on(`+${n}`,function(){Bt.call(e,n,Vw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm.unmute";t.on(`+${n}`,function(){Bt.call(e,n,Ww,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.unmute";t.on(`+${n}`,function(){Bt.call(e,n,Uw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Nw=function(){this.soundManager.setBackgroundMusicMute(!0)},Vw=function(){this.soundManager.setBackgroundMusic2Mute(!0)},Ww=function(){this.soundManager.setBackgroundMusicMute(!1)},Uw=function(){this.soundManager.setBackgroundMusic2Mute(!1)},Xw=function(e,t,i){var n="camera.fadein";t.on(`+${n}`,function(x,S,M,b){Bt.call(e,n,Yw,[x,S,M,b],e),t.skipEvent()})},Yw=function(e){this.cameraTarget.fadeIn(...e)},Hw=function(e,t,i){var n="camera.fadeout";t.on(`+${n}`,function(x,S,M,b){Bt.call(e,n,$w,[x,S,M,b],e),t.skipEvent()})},$w=function(e){this.cameraTarget.fadeOut(...e)},Kw=function(e,t,i){var n="camera.shake";t.on(`+${n}`,function(x,S){Bt.call(e,n,Zw,[x,S],e),t.skipEvent()})},Zw=function(e){this.cameraTarget.shake(...e)},Jw=function(e,t,i){var n="camera.flash";t.on(`+${n}`,function(x,S,M,b){Bt.call(e,n,Qw,[x,S,M,b],e),t.skipEvent()})},Qw=function(e){this.cameraTarget.flash(...e)},jw=function(e,t,i){var n="camera.zoom";t.on(`+${n}`,function(x){Bt.call(e,n,qw,x,e),t.skipEvent()}).on(`+${n}.to`,function(x,S,M){Bt.call(e,"camera.zoom.to",_w,[x,S,M],e),t.skipEvent()})},qw=function(e){this.cameraTarget.setZoom(e)},_w=function(e){this.cameraTarget.zoomTo(...e)};const hg=Phaser.Math.DegToRad;var tR=function(e,t,i){var n="camera.rotate";t.on(`+${n}`,function(x){x=hg(x),Bt.call(e,n,eR,x,e),t.skipEvent()}).on(`+${n}.to`,function(x,S,M){x=hg(x),Bt.call(e,"camera.rotate.to",iR,[x,S,M],e),t.skipEvent()})},eR=function(e){this.cameraTarget.setRotation(e)},iR=function(e){var t=e[0],i=e[1],n=e[2];this.cameraTarget.rotateTo(t,!1,i,n)},sR=function(e,t,i){var n="camera.scroll";t.on(`+${n}`,function(x,S){Bt.call(e,n,rR,[x,S],e),t.skipEvent()}).on(`+${n}.to`,function(x,S,M,b){Bt.call(e,"camera.scroll.to",nR,[x,S,M,b],e),t.skipEvent()})},rR=function(e){this.cameraTarget.setScroll(...e)},nR=function(e){var t=e[0],i=e[1],n=e[2],x=e[3],S=this.cameraTarget,M=S.scrollX,b=S.scrollY;S.setScroll(t,i),t+=S.centerX,i+=S.centerY,S.setScroll(M,b),S.pan(t,i,n,x)},aR=function(e,t,i){var n="wait",x="click";t.on(`+${n}`,function(S){og(e,S),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()}).on(`+${x}`,function(){og(e,"click"),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},hR=function(e){this.typeWriter.wait(e)},og=function(e,t){Bt.call(e,"wait",hR,t,e)},oR=function(e,t,i){var n="r";t.on(`+${n}`,function(){la.call(e,`
`),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},lR=function(e,t,i){for(var n=["pagebreak","pb"],x=0,S=n.length;x<S;x++){var M=n[x];t.on(`+${M}`,function(){la.call(e,"\f"),t.skipEvent()}).on(`-${M}`,function(){t.skipEvent()})}},uR=function(e,t,i){var n="content.off";t.on(`+${n}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},dR=function(e,t,i){var n="content.on";t.on(`+${n}`,function(){t.setContentOutputEnable(),t.skipEvent()})},fR=function(e,t,i){t.on("content",function(n){if(t.contentOutputEnable)la.call(e,n);else{var x=`+${t.lastTagStart}`;e.emit(`parser.${x}#content`,t,n)}})},cR=function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(n,...x){if(!t.skipEventFlag){var S=`+${n}`,M=x;e.emit(`parser.${S}`,t,...x,M),lg(e,S,M)}}).on("-",function(n){if(!t.skipEventFlag){var x=`-${n}`,S=[];e.emit(`parser.${x}`,t,S),lg(e,x,S)}}).on("complete",function(){e.emit("parser.complete",t)})},vR=function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},lg=function(e,t,i){Bt.call(e,t,vR,i,e)};const ug=[zM,NM,VM,WM,UM,KM,ZM,XM,YM,HM,$M,JM,QM,jM,_M,iw,nw,ow,dw,gw,Sw,Ew,Rw,Lw,Iw,zw,Xw,Hw,Kw,Jw,jw,tR,sR,aR,oR,lR,uR,dR,fR,cR];var pR=function(e,t,i){for(var n=0,x=ug.length;n<x;n++)ug[n](e,t,i)},gR=function(e,t){for(var i=e.commentLineStart,n=t.split(`
`),x=0,S=n.length;x<S;x++){var M=n[x];M===""||(M.trim().length===0||i&&M.startsWith(i))&&(n[x]="")}return n.join("")};const mR=Phaser.Utils.Objects.GetValue;class xR extends GM{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),pR(t,this,i),this.setCommentLineStartSymbol(mR(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(gR(this,t)),this}}var yR={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}};const Or="page.fadeout",Ku="_remove.play",dg=[Or,Ku];var CR=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(Or),this;var e=this.children.filter(function(n){return n.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(Or);else if(t.once)t.once("complete",function(){this.emit(Or)},this);else if(t.then){var i=this;t.then(function(){i.emit(Or)})}else this.emit(Or);return this},ao=function(e,t){return new Promise(function(i,n){e.once(t,function(){i()})})},Ke=function(e){return ao(e,"complete")},SR=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),Ke(this)};const TR="delay",fg="anim";var cg=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var n=this.animationConfig;if(n.duration>0){var x=this.timeline.addTimer({name:fg,target:i,duration:n.duration,yoyo:n.yoyo,onStart:n.onStart,onProgress:n.onProgress,onComplete:n.onComplete});this.skipTypingAnimation&&x.seek(1)}else n.onStart&&n.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var S=this.nextChild;if(S&&!(this.skipSpaceEnable&&fP(S))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:TR,target:this,duration:t,onComplete:function(M,b,D){M.typingTimer=void 0,cg.call(M,D.remainder)}});break}}}else cP(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},PR=function(){return this.timeline.pause(),this},ER=function(){return this.timeline.resume(),this},MR=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},wR=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},RR=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},AR=function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},bR=function(e,t,i,n){var x=e.waitEventManager,S=t.split("."),M=S[0],b=e.getGameObjectManager(M),D=`wait.${M}`;switch(S.length){case 1:x.waitGameObjectManagerEmpty(M),e.emit(D);return;case 2:var k=S[1];x.waitGameObjectDestroy(M,k),e.emit(D,k);return;case 3:var k=S[1],W=S[2],Z=b.getProperty(k,W);if(typeof Z=="number"){x.waitGameObjectTweenComplete(M,k,W),e.emit(D,k,W);return}var tt=W,_=tt.startsWith("!");if(_&&(tt=tt.substring(1)),b.hasData(k,tt)){x.waitGameObjectDataFlag(M,k,tt,!_),e.emit(D,k,tt);return}else{x.waitTime(0);return}}};const LR=Phaser.Input.Keyboard.KeyCodes;var vg=function(e,t,i,n){var x=e.waitEventManager;x.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,n),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var S=0,M=t.length;S<M;S++){var b=t[S];if(b==null||b==="wait"){var D=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",D)}else if(typeof b=="number"||!isNaN(b)){var k=parseFloat(b);x.waitTime(k),e.emit("wait.time",k)}else if(b==="click")x.waitClick(),e.emit("wait.click");else if(b==="se"){x.waitSoundEffectComplete();var W=e.soundManager.getLastSoundEffect();e.emit("wait.music",W)}else if(b==="se2"){x.waitSoundEffect2Complete();var W=e.soundManager.getLastSoundEffect2();e.emit("wait.music",W)}else if(b==="bgm"){x.waitBackgroundMusicComplete();var W=e.soundManager.getBackgroundMusic();e.emit("wait.music",W)}else if(b==="bgm2"){x.waitBackgroundMusic2Complete();var W=e.soundManager.getBackgroundMusic2();e.emit("wait.music",W)}else if(LR.hasOwnProperty(b.toUpperCase()))x.waitKeyDown(b),e.emit("wait.keydown",b);else if(RR(b))x.waitCameraEffectComplete(b),e.emit("wait.camera",b);else if(AR(e,b))bR(e,b);else{var D=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${b}`,D)}}},OR=function(e){return this.ignoreWait?this:(this.pauseTyping(),vg(this.textPlayer,e,this.resumeTyping,this),this)},DR=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},FR=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},BR=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(fg),i=0,n=t.length;i<n;i++)t[i].seek(1);return this},IR=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},kR=function(){return this.typingTimer&&this.typingTimer.seek(1),this},pg={fadeOutPage:CR,start:SR,typing:cg,pause:PR,resume:ER,pauseTyping:MR,resumeTyping:wR,wait:OR,setIgnoreWait:DR,setSkipSpaceEnable:FR,setSkipTypingAnimation:BR,setSkipSoundEffect:IR,skipCurrentTypingDelay:kR};Object.assign(pg,yR);const wn=Phaser.Utils.Objects.GetValue;class gg{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(wn(i,"onTypingStart",zR)),this.setDefaultTypingSpeed(wn(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(wn(i,"skipSpace",!1)),this.setAnimationConfig(wn(i,"animation",void 0)),this.setMinSizeEnable(wn(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(wn(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=GR),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var GR=function(e){e.setVisible&&e.setVisible()},zR=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];n.setVisible&&n.setVisible(!1)}};Object.assign(gg.prototype,ua,pg);class NR extends zu{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}var VR={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}},mg={};Object.assign(mg,VR);var xg=function(e){return!e||e==="sprite"?e=WR:e==="image"&&(e=UR),e},WR=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},UR=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)};class yg extends Tn{constructor(t,i){i===void 0&&(i={}),i.BobClass=NR,super(t,i)}setCreateGameObjectCallback(t,i){return t=xg(t),super.setCreateGameObjectCallback(t,i),this}}Object.assign(yg.prototype,mg);var Cg=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},XR=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},YR=function(e,t,i){var n=i.name;t.on("+",function(x,...S){if(!t.skipEventFlag){var M=x.split("."),b;if(Cg(M,n))b=M[1];else return;Bt.call(e,`${n}.play`,HR,[n,b,S],e),t.skipEvent()}}).on("+",function(x){if(!t.skipEventFlag){var S=x.split("."),M;if(XR(S,n))M=S[1];else return;Bt.call(e,`${n}.stop`,Sg,[n,M],e),t.skipEvent()}}).on("-",function(x){if(!t.skipEventFlag){var S=x.split("."),M;if(Cg(S,n))M=S[1];else return;Bt.call(e,`${n}.stop`,Sg,[n,M],e),t.skipEvent()}})},HR=function(e){var t,i,n;[t,i,n]=e;var x=n.shift(),S=this.getGameObjectManager(t);S.playAnimation(i,x),n.length>0&&S.chainAnimation(i,n)},Sg=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.stopAnimation(...i)},$R=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},KR=function(e,t,i){var n=i.name;t.on("+",function(x){if(!t.skipEventFlag){var S=x.split("."),M;if($R(S,n))M=S[1];else return;Bt.call(e,`${n}.pause`,ZR,[n,M],e),t.skipEvent()}})},ZR=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.pauseAnimation(...i)},JR=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},QR=function(e,t,i){var n=i.name;t.on("+",function(x){if(!t.skipEventFlag){var S=x.split("."),M;if(JR(S,n))M=S[1];else return;var b=Array.prototype.slice.call(arguments,1);Bt.call(e,`${n}.chain`,jR,[n,M,b],e),t.skipEvent()}})},jR=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.chainAnimation(...i)};const qR=[YR,KR,QR];var _R=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=qR,e.createGameObject=xg(e.createGameObject),this.addGameObjectManager(e,yg)},Tg=function(e,t){return e.length===2&&e[0]===t},tA=function(e,t,i){var n=i.name;t.on("+",function(x,...S){if(!t.skipEventFlag){var M=x.split("."),b;if(Tg(M,n))b=M[1];else return;Bt.call(e,`${n}.add`,eA,[n,b,...S],e),t.skipEvent()}}).on("-",function(x){if(!t.skipEventFlag){var S=x.split("."),M;if(Tg(S,n))M=S[1];else return;Bt.call(e,`${n}.remove`,iA,[n,M],e),t.skipEvent()}})},eA=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.add(...i)},iA=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.remove(...i)},sA=function(e,t,i){var n=i.name;t.on("-",function(x){t.skipEventFlag||x===n&&(Bt.call(e,`${n}.removeall`,rA,n,e),t.skipEvent())})},rA=function(e){var t=this.getGameObjectManager(e);t.removeAll()},nA=function(e,t){return e.length===3&&e[0]===t},aA=function(e,t,i){var n=i.name;t.on("+",function(x,...S){if(!t.skipEventFlag){var M=x.split("."),b,D;if(nA(M,n))b=M[1],D=M[2];else return;Bt.call(e,`${n}.call`,hA,[n,b,D,...S],e),t.skipEvent()}})},hA=function(e){var t,i,n,x;[t,i,n,...x]=e;var S=`${t}.${n}`;if(this.emit(S,i,...x),!(this.listenerCount(S)>0)){var M=this.getGameObjectManager(t);M.hasMethod(i,n)?M.call(i,n,...x):M.setProperty(i,n,x[0])}},oA={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},lA=function(e,t){return e.length===4&&e[0]===t&&oA[e[3]]},uA=function(e,t,i){var n=i.name;e.getGameObjectManager(n),t.on("+",function(x,S,M,b,D){if(!t.skipEventFlag){var k=x.split("."),W,Z,tt;if(lA(k,n))W=k[1],Z=k[2],tt=k[3];else return;typeof b=="number"&&(D=b,b=void 0),Bt.call(e,`${n}.ease`,dA,[n,W,Z,S,M,b,D,tt],e),t.skipEvent()}})},dA=function(e){var t,i,n,x,S,M,b,D;[t,i,n,x,S,M,b,D]=e;var k=this.getGameObjectManager(t),W=k.getProperty(i,n);if(typeof W=="number"){D.endsWith("Left")||D.endsWith("Up")?D.startsWith("to")||D.startsWith("yoyo")?x=W-x:D.startsWith("from")&&(k.setProperty(i,n,W-x),x=W):D.endsWith("Right")||D.endsWith("Down")?D.startsWith("to")||D.startsWith("yoyo")?x=W+x:D.startsWith("from")&&(k.setProperty(i,n,W+x),x=W):D==="from"&&(k.setProperty(i,n,x),x=W);var Z=D.startsWith("yoyo");k.easeProperty(i,{property:n,value:x,duration:S,ease:M,repeat:b,yoyo:Z})}};const Pg=[tA,sA,aA,uA],fA=eg.addGameObjectManager;var cA={addGameObjectManager(e,t){e=e?Ui(e):{};var i=e.name;i||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var n=e.defaultLayer,x=e.createGameObject,S=this.layerManager;e.createGameObject=function(k,...W){var Z=x.call(this,k,...W);return n&&S&&S.addToLayer(n,Z),Z},fA.call(this,e,t);var M=e.parseCallbacks;M?M=[...M,...Pg]:M=Pg;for(var b=0,D=M.length;b<D;b++)M[b](this,this.parser,e);return this}},vA=function(e){return this.waitEventManager.setClickTarget(e),this},pA=function(e){return this.waitEventManager.setCameraTarget(e),this},gA=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,n){var x=t.waitEventManager;x.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,n);var S=x.getWaitCompleteTriggerCallback();e.call(t,S)}:this.nextPageInput=function(i,n){vg(t,e,i,n)}:this.nextPageInput=null},mA=function(e,t){return this.imageManager.add(e,t),this},xA={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=Ke(this);return this.play(e),t}},Zu=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(Or,yA,this).fadeOutPage(),this)},yA=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(Ku),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?Zu.call(this):this.nextPageInput&&this.nextPageInput(Zu,this))};this.once(Ku,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)},CA={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},SA={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}},TA=function(e){return this.typeWriter.wait(e),this},PA={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}},EA=function(e){return this.typeWriter.setIgnoreWait(e),this},MA=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},wA=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,n=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(n)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this},RA={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},AA={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}},Eg={setClickTarget:vA,setCameraTarget:pA,setNextPageInput:gA,addImage:mA,typingNextPage:Zu,wait:TA,setIgnoreWait:EA,setIgnoreNextPageInput:MA,showPage:wA};Object.assign(Eg,cA,xA,CA,SA,PA,RA,AA);var bA=function(e){for(var t=0,i=dg.length;t<i;t++)e.emit(dg[t])};const Mg=Phaser.Utils.Objects.IsPlainObject,Rn=Phaser.Utils.Objects.GetValue;class Ju extends bM(xn){constructor(t,i,n,x,S,M){Mg(i)?M=i:Mg(x)&&(M=x),M===void 0&&(M={});var b=M.text;delete M.text,super(t,i,n,x,S,M),this.type="rexTextPlayer",this.initManagers(t,M),this.parser=new xR(this,Rn(M,"parser",void 0)),this.typeWriter=new gg(this,Rn(M,"typing",void 0)),this._imageManager=void 0;var D=Rn(M,"images",void 0);D&&this.addImage(D);var k=Rn(M,"sprites");k!==!1&&k!==null&&_R.call(this,k),this.setIgnoreNextPageInput(Rn(M,"ignoreNextPageInput",!1)),this.setNextPageInput(Rn(M,"nextPageInput",null)),this.isPlaying=!1,b&&this.play(b)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new Pu(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(bA(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(Ju.prototype,Eg),K.register("textPlayer",function(e,t,i,n,x){var S=new Ju(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.TextPlayer",Ju);const wg={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},Rg={direction:["direction",void 0]};var tr=function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var n=i;if(Array.isArray(n))for(var x=0,S=n.length;x<S;x++)tr(e,t,n[x]);else for(var i in n)tr(e,t,i)}},LA=function(e){e===void 0&&(e={});var t={};return tr(e,t,"inputType"),tr(e,t,"type"),tr(e,t,"style"),tr(e,t,Rg),tr(e,t,wg),t},Qu=function(e,t,i,n,x){if(t)return!(i&&!i(e,t)||!Ag(e,t)||n&&!n(e,t));x===void 0&&(x=!1);for(var S=e.scene.input.manager,M=S.pointersTotal,b=S.pointers,t,D=0;D<M;D++)if(t=b[D],!(i&&!i(e,t))&&Ag(e,t)&&!(n&&!n(e,t)))return x?t:!0;return!1},Ag=function(e,t){for(var i=e.scene,n=i.input.cameras.getCamerasBelowPointer(t),x=i.input.manager,S=[e],M=0,b=n.length;M<b;M++)if(x.hitTest(t,S,n[M],ho),ho.length>0)return ho.length=0,!0;return ho.length=0,!1},ho=[],An=void 0,OA=function(e){e!==An&&(An!==void 0&&An.close(),An=e)},DA=function(e){e===An&&(An=void 0)};const FA=Phaser.Utils.Objects.GetValue;var oo=function(e,t,i){i===void 0&&(i={});var n,x;for(var S in e)n=e[S],x=FA(t,S,n[1]),x!==void 0&&(i[n[0]]=x);return i},bg=function(e){e.addEventListener("touchstart",bn,!1),e.addEventListener("touchmove",bn,!1),e.addEventListener("touchend",bn,!1),e.addEventListener("mousedown",bn,!1),e.addEventListener("mouseup",bn,!1),e.addEventListener("mousemove",bn,!1)},bn=function(e){e.stopPropagation()},Lg=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},BA=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",Lg,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(Gp.call(this.clickOutSideTarget,this.parent),kp.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},IA=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},kA=function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",Lg,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),IA(this.node),this.node=void 0,this.emit("close",this)};const ju=Phaser.Utils.Objects.GetValue;var GA=function(e,t){var i,n=ju(t,"inputType",void 0);n===void 0&&(n=ju(t,"type","text")),n==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=n);var x=ju(t,"style",void 0),S=i.style;oo(Rg,x,S),S.position="absolute",S.opacity=0,S.pointerEvents="none",S.zIndex=0,S.transform="scale(0)",oo(wg,t,i),bg(i);var M=e.scene.sys.scale,b=M.isFullscreen?M.fullscreenTarget:document.body;return b.appendChild(i),i.addEventListener("focus",function(D){BA.call(e)}),i.addEventListener("blur",function(D){kA.call(e)}),i},zA=function(){return this.isOpened?this:this.readOnly?this:(OA(this),this.node||(this.node=GA(this,this.nodeConfig)),this.setFocus(),this)},NA=function(){return this.isOpened?(DA(this),this.setBlur(),this):this},VA={open:zA,close:NA};const ws=Phaser.Utils.Objects.GetValue;class qu extends xe{constructor(t,i){super(t);var n=ws(i,"inputType",void 0);n===void 0&&(n=ws(i,"type","text")),this.setEnterCloseEnable(ws(i,"enterClose",n!=="textarea"));var x=ws(i,"onOpen",void 0);x||(x=ws(i,"onFocus",void 0)),this.onOpenCallback=x,this.clickOutSideTarget=ws(i,"clickOutSideTarget",void 0);var S=ws(i,"onClose",void 0);S||(S=ws(i,"onBlur",void 0)),this.onCloseCallback=S,this.onUpdateCallback=ws(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=LA(i),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){Qu(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(qu.prototype,VA);var Og=function(e,t,i){e=e.replace(" ","");var n=i.previousText;if(e===n)return e;if(isNaN(e)){i.emit("nan",e,i),e=n;var x=i.cursorPosition-1;i.setText(e),i.setCursorPosition(x)}else i.previousText=e;return e},WA=function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,n=e.isOpened?e.selectionEnd:null,x=e.prevSelectionStart,S=e.prevSelectionEnd;if(!(x===i&&S===n)){var M,b;x===null?(M=i,b=n):i===null?(M=x,b=S):(M=Math.min(x,i),b=Math.max(S,n));for(var D=M;D<b;D++){var k;x===null?k=!1:k=D>=x&&D<S;var W;if(i===null?W=!1:W=D>=i&&D<n,k!==W){var Z=t.getCharChild(D);if(Z){var tt=k?"rangeout":"rangein";t.emit(tt,Z,D,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=n}},UA=function(e){var t=e.parent,i=0,n=t.width,x=0,S=t.height,M=e.drawX,b=e.drawY,D=M+e.drawTLX,k=M+e.drawTRX,W=b+e.drawTLY,Z=b+e.drawBLY,tt;D<i?tt=i-D:k>n?tt=n-k:tt=0;var _;W<x?_=x-W:Z>S?_=S-Z:_=0,t._textOX+=tt,t._textOY+=_},XA=function(e){var t=e.parent,i=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var n=e.cursorPosition;if(e.prevCursorPosition!==n){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var x=t.getCharChild(e.prevCursorPosition);x&&(x.text===`
`&&x.clearTextSize(),t.emit("cursorout",x,e.prevCursorPosition,t))}if(n!=null){var x=t.getCharChild(n);x&&(x.text===`
`&&x.copyTextSize(t.lastInsertCursor),UA(x),t.emit("cursorin",x,n,t))}t.emit("movecursor",n,e.prevCursorPosition,t),e.prevCursorPosition=n}},Dg=function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,n=e.parent,x=t;x<i;x++){var S=n.getCharChild(x);S&&n.emit("cursorout",S,x,n)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},Fg=function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,n=i.getCharChild(t);n&&i.emit("cursorout",n,t,i),e.prevCursorPosition=null}};const YA=Phaser.Utils.Objects.GetValue;let HA=class extends qu{constructor(t,i){super(t,i),this.setSelectAllWhenFocusEnable(YA(i,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(n,x,S,M){var b=t.getNearestChild(x,S),D=t.getCharIndex(b);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(D),this.cursorMoveStartIndex=D,this.firstClickAfterOpen=!1},this).on("pointermove",function(n,x,S,M){if(n.isDown){var b=t.getNearestChild(x,S),D=t.getCharIndex(b);this.cursorMoveStartIndex<D?this.selectText(this.cursorMoveStartIndex,D+1):this.selectText(D,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var n=this.onUpdateCallback(i,t,this);n!=null&&(i=n)}return t.text!==i&&t.setText(i),this.isOpened?this.selectionStart!==this.selectionEnd?(Fg(this),WA(this)):(Dg(this),XA(this)):(Dg(this),Fg(this)),this}setNumberInput(){return this.onUpdateCallback=Og,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}};const $A=Phaser.Utils.Objects.GetValue,KA=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var ZA=function(e,t){var i=$A(t,"edit");return i===void 0&&(i={}),tr(t,i,KA),new HA(e,i)},Rs=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),n=e,x=0;x<i.length;x++)if(n.hasOwnProperty(i[x]))n=n[i[x]];else return!1;return!0}else return!1},_u=function(e){if(e.parentContainer)return _u(e.parentContainer);var t=Ip(e);return t?_u(t):e},JA=function(e){for(var t=_u(e).cameraFilter,i=e.scene.sys.cameras.cameras,n,x,S=0,M=i.length;S<M;S++)if(n=i[S],x=(t&n.id)>0,!x)return n;return null};class Bg extends xe{constructor(t,i){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,i=this.parent,n=JA(i);if(n){i.setScrollFactor(0).setOrigin(.5);var x=t.sys.scale.gameSize,S=x.width,M=x.height,b=1/n.zoom,D=S/2,k=M/2,W=S*b,Z=M*b;(i.x!==D||i.y!==k)&&i.setPosition(D,k),(i.width!==W||i.height!==Z)&&i.setSize(W,Z)}}}const QA=Phaser.GameObjects.Zone;let td=class extends QA{constructor(t){super(t,0,0,2,2),this.fullWindow=new Bg(this)}};var jA=function(e,t){var i=!t.textArea;if(!Rs(t,"wrap.vAlign")){var n=i?"center":"top";$(t,"wrap.vAlign",n)}if(Rs(t,"wrap.wrapMode")||$(t,"wrap.wrapMode","char"),!Rs(t,"wrap.maxLines")){var n=i?1:void 0;$(t,"wrap.maxLines",n)}if(i&&$(t,"wrap.wrapWidth",1/0),Rs(t,"wrap.useDefaultTextHeight")||$(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!Rs(t.edit,"inputType")){var n=i?"text":"textarea";$(t.edit,"inputType",n)}if(t.clickOutSideTarget===!0){var x=new td(e);e.add.existing(x),t.clickOutSideTarget=x}return t},lo=function(e,t,i,n){if(i===void 0&&(i="."),n===void 0&&(n={}),!e)return n;if(t in e)return Object.assign(n,e[t]);t+=i;for(var x in e)x.startsWith(t)&&(n[x.replace(t,"")]=e[x]);return n},qA=function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},uo=function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var n,x=0,S=t.length;x<S;x++)n=t[x],i[n]=e[n];else for(var n in t)i[n]=e[n];return i},Ma=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},_A=function(e){da(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,n=uo(t.style,i);Ma(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},tb=function(e){da(e)||this.setRangeStyle(e).on("rangein",function(t){var i=this.rangeStyle,n=uo(t.style,i);Ma(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},eb=function(e){da(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,n=uo(t,i);Ma(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},ib=function(e){var t=e.createCharChild("|");return t.text="",t};function As(){}As.prototype={diff(e,t,i={}){let n=i.callback;typeof i=="function"&&(n=i,i={}),this.options=i;let x=this;function S(_){return n?(setTimeout(function(){n(void 0,_)},0),!0):_}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let M=t.length,b=e.length,D=1,k=M+b;i.maxEditLength&&(k=Math.min(k,i.maxEditLength));let W=[{newPos:-1,components:[]}],Z=this.extractCommon(W[0],t,e,0);if(W[0].newPos+1>=M&&Z+1>=b)return S([{value:this.join(t),count:t.length}]);function tt(){for(let _=-1*D;_<=D;_+=2){let st,at=W[_-1],nt=W[_+1],ut=(nt?nt.newPos:0)-_;at&&(W[_-1]=void 0);let ct=at&&at.newPos+1<M,dt=nt&&0<=ut&&ut<b;if(!ct&&!dt){W[_]=void 0;continue}if(!ct||dt&&at.newPos<nt.newPos?(st=rb(nt),x.pushComponent(st.components,void 0,!0)):(st=at,st.newPos++,x.pushComponent(st.components,!0,void 0)),ut=x.extractCommon(st,t,e,_),st.newPos+1>=M&&ut+1>=b)return S(sb(x,st.components,t,e,x.useLongestToken));W[_]=st}D++}if(n)(function _(){setTimeout(function(){if(D>k)return n();tt()||_()},0)})();else for(;D<=k;){let _=tt();if(_)return _}},pushComponent(e,t,i){let n=e[e.length-1];n&&n.added===t&&n.removed===i?e[e.length-1]={count:n.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,n){let x=t.length,S=i.length,M=e.newPos,b=M-n,D=0;for(;M+1<x&&b+1<S&&this.equals(t[M+1],i[b+1]);)M++,b++,D++;return D&&e.components.push({count:D}),e.newPos=M,b},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function sb(e,t,i,n,x){let S=0,M=t.length,b=0,D=0;for(;S<M;S++){let W=t[S];if(W.removed){if(W.value=e.join(n.slice(D,D+W.count)),D+=W.count,S&&t[S-1].added){let Z=t[S-1];t[S-1]=t[S],t[S]=Z}}else{if(!W.added&&x){let Z=i.slice(b,b+W.count);Z=Z.map(function(tt,_){let st=n[D+_];return st.length>tt.length?st:tt}),W.value=e.join(Z)}else W.value=e.join(i.slice(b,b+W.count));b+=W.count,W.added||(D+=W.count)}}let k=t[M-1];return M>1&&typeof k.value=="string"&&(k.added||k.removed)&&e.equals("",k.value)&&(t[M-2].value+=k.value,t.pop()),t}function rb(e){return{newPos:e.newPos,components:e.components.slice(0)}}const nb=new As;function ab(e,t,i){return nb.diff(e,t,i)}const Ig=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,kg=/\S/,Gg=new As;Gg.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!kg.test(e)&&!kg.test(t)},Gg.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&Ig.test(t[i])&&Ig.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const zg=new As;zg.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let n=0;n<i.length;n++){let x=i[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=x:(this.options.ignoreWhitespace&&(x=x.trim()),t.push(x))}return t};const hb=new As;hb.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const ob=new As;ob.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const lb=Object.prototype.toString,wa=new As;wa.useLongestToken=!0,wa.tokenize=zg.tokenize,wa.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=(n,x)=>typeof x>"u"?t:x}=this.options;return typeof e=="string"?e:JSON.stringify(ed(e,null,null,i),i,"  ")},wa.equals=function(e,t){return As.prototype.equals.call(wa,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function ed(e,t,i,n,x){t=t||[],i=i||[],n&&(e=n(x,e));let S;for(S=0;S<t.length;S+=1)if(t[S]===e)return i[S];let M;if(lb.call(e)==="[object Array]"){for(t.push(e),M=new Array(e.length),i.push(M),S=0;S<e.length;S+=1)M[S]=ed(e[S],t,i,n,x);return t.pop(),i.pop(),M}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),M={},i.push(M);let b=[],D;for(D in e)e.hasOwnProperty(D)&&b.push(D);for(b.sort(),S=0;S<b.length;S+=1)D=b[S],M[D]=ed(e[D],t,i,n,D);t.pop(),i.pop()}else M=e;return M}const id=new As;id.tokenize=function(e){return e.slice()},id.join=id.removeEmpty=function(e){return e};const ub=Phaser.Utils.Array.Remove;var db=function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),ub(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var n=ab(i,t),x=0,S=0,M=n.length;S<M;S++){var b=n[S];b.removed?e.removeText(x,b.count):(b.added&&e.insertText(x,b.value),x+=b.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}},fb={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}};const fo=Phaser.Math.Clamp;var Ng=function(e,t){var i={lineIndex:0,position:0};if(t<0)return i;for(var n=0,x=e.length;n<x;n++){var S=e[n];if(t<=S){i.lineIndex=n;break}t-=S}return i.position=t,i},Vg=function(e,t){var i=0,n=t.lineIndex;if(n<0)return i;for(var x=0,S=e.length;x<S;x++){var M=e[x];if(n>x)i+=M;else if(n===x)i+=Math.min(t.position,M);else break}return i},cb={cursorMoveLeft(){if(!this.isOpened)return this;var e=fo(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=fo(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=Ng(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=fo(Vg(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=Ng(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=fo(Vg(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}};const Wg=Phaser.Utils.Objects.IsPlainObject;class Ra extends xn{constructor(t,i,n,x,S,M){Wg(i)?M=i:Wg(x)&&(M=x),M===void 0&&(M={}),jA(t,M);var b=M.text;b&&delete M.text;var D=lo(M.background,"focus"),k=lo(M.style,"cursor"),W=lo(M.style,"range");super(t,i,n,x,S,M),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=ZA(this,M),qA.call(this),M.focusStyle&&Object.assign(D,M.focusStyle),eb.call(this,D),M.cursorStyle&&Object.assign(k,M.cursorStyle),_A.call(this,k),M.rangeStyle&&Object.assign(W,M.rangeStyle),da(W)&&Object.assign(W,k),tb.call(this,W);var Z=M.onAddChar;Z&&this.on("addchar",Z);var tt=M.onCursorIn;tt&&this.on("cursorin",tt);var _=M.onCursorOut;_&&this.on("cursorout",_);var st=!M.onRangeIn&&!M.onRangeOut,at=st?M.onCursorIn:M.onRangeIn;at&&this.on("rangein",at);var nt=st?M.onCursorOut:M.onRangeOut;nt&&this.on("rangeout",nt);var ut=M.onMoveCursor;ut&&this.on("movecursor",ut),this.setParseTextCallback(M.parseTextCallback),this.lastInsertCursor=ib(this),b||(b=""),this.setText(b)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var n=t,x=0,S=n.length;x<S;x++){var t=n[x];Rr(t)&&this.emit("addchar",t,i+x,this)}else Rr(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(db(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,this.characterCountOfLines.length=0;for(var n=i.lines,x=0,S=n.length;x<S;x++){for(var M=n[x].children,b=0,D=0,k=M.length;D<k;D++){var W=M[D];W.active&&!W.removed&&Rr(W)&&b++}this.characterCountOfLines.push(b)}return i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=vb),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var vb=function(e){return e};Object.assign(Ra.prototype,fb,cb),K.register("canvasInput",function(e,t,i,n,x){var S=new Ra(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.CanvasInput",Ra);var sd=function(e){return w(e).loop.delta};const Ug=Phaser.Utils.Objects.GetValue,pb=Phaser.Math.Wrap;class Xg extends qu{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=Og),super(t,i),this.setCursor(Ug(i,"cursor","|")),this.setCursorFlashDuration(Ug(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var n=this.onUpdateCallback(i,t,this);n!=null&&(i=n)}if(this.isOpened&&this.hasCursor){var x=this.cursorPosition;i=i.substring(0,x)+this.cursor+i.substring(x),this.prevCursorPosition!==x&&(this.prevCursorPosition=x)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+sd(this.scene);return this.cursorFlashTimer=pb(i,0,this.cursorFlashDuration),t}}K.register("hiddenEdit",function(e,t){var i=new Xg(e,t);return i}),$(window,"RexPlugins.UI.HiddenEdit",Xg);const gb=Phaser.GameObjects.GetCalcMatrix;var mb=function(e,t,i,n){t.updateData(),i.addToRenderList(t);var x=e.pipelines.set(t.pipeline),S=gb(t,i,n),M=x.calcMatrix.copyFrom(S.calc),b=t._displayOriginX,D=t._displayOriginY,k=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var W=t.geom,Z,tt=0,_=W.length;tt<_;tt++)Z=W[tt],Z.visible&&Z.webglRender(x,M,k,b,D);e.pipelines.postBatch(t)};const xb=Phaser.Renderer.Canvas.SetTransform;var yb=function(e,t,i,n){t.updateData(),i.addToRenderList(t);var x=e.currentContext;if(xb(e,x,t,i,n)){for(var S=t._displayOriginX,M=t._displayOriginY,b=t.geom,D,k=0,W=b.length;k<W;k++)D=b[k],D.visible&&D.canvasRender(x,S,M);x.restore()}},Cb={renderWebGL:mb,renderCanvas:yb};const Sb=Phaser.GameObjects.Shape,Tb=Phaser.Utils.Array.Remove;class bs extends Sb{constructor(t,i,n,x,S){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=2),S===void 0&&(S=x),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,n),this.setSize(x,S),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==n,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=n,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,n=t.length;i<n;i++){var x=t[i];x.dirty&&x.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,ve(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],Tb(this.geom,i)),this}}Object.assign(bs.prototype,Cb);var Pb={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},Eb={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}},Mb=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},wb=function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this},Rb={fillStyle:Mb,lineStyle:wb};class co{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,n,x,S){}canvasRender(t,i,n){}updateData(){this.dirty=!1}}Object.assign(co.prototype,Rb,Mi);const Ab=Phaser.Geom.Polygon.Earcut;class Aa extends co{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=Ab(this.pathData),super.updateData(),this}webglRender(t,i,n,x,S){this.isFilled&&gv(t,i,this,n,x,S),this.isStroked&&Dh(t,this,n,x,S)}canvasRender(t,i,n){var x=this.pathData,S=x.length-1,M=x[0]-i,b=x[1]-n;t.beginPath(),t.moveTo(M,b),this.closePath||(S-=2);for(var D=2;D<S;D+=2){var k=x[D]-i,W=x[D+1]-n;t.lineTo(k,W)}this.closePath&&t.closePath(),this.isFilled&&(na(t,this),t.fill()),this.isStroked&&(aa(t,this),t.stroke())}}const Yg=Phaser.Math.DegToRad;class Ln extends Aa{constructor(t,i,n,x,S,M,b,D){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=360),b===void 0&&(b=!1),D===void 0&&(D=!1),super(),this.setCenterPosition(t,i),this.setRadius(n,x),this.setAngle(S,M,b),this.setPie(D),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,n){return n===void 0&&(n=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=n,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),We(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,n){t.beginPath();var x=this.x-i,S=this.y-n,M=Yg(this.startAngle),b=Yg(this.endAngle);this.pie&&(t.moveTo(x,S),t.lineTo(x+Math.cos(M)*this.radiusX,S+Math.sin(M)*this.radiusY)),t.ellipse(x,S,this.radiusX,this.radiusY,0,M,b,this.anticlockwise),this.pie&&t.lineTo(x,S),this.isFilled&&(na(t,this),t.fill()),this.isStroked&&(aa(t,this),t.stroke())}}class bi extends Ln{constructor(t,i,n){super(t,i,n,n,0,360)}}class bb extends Aa{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,n=t.length;i<n;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class Lb extends Ln{constructor(t,i,n,x){super(t,i,n,x,0,360)}}class er extends Aa{constructor(t,i,n,x){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=0),super(),this.setP0(t,i),this.setP1(n,x)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var Ob=function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i};const Hg=Phaser.Math.Interpolation.QuadraticBezier;var Db=function(e,t,i,n,x,S){for(var M=S.length,b=S[M-2],D=S[M-1],k=1,W=x-1;k<=W;k++){var Z=k/W;S.push(Hg(Z,b,e,i),Hg(Z,D,t,n))}return S};const $g=Phaser.Math.Interpolation.CubicBezier;var Fb=function(e,t,i,n,x,S,M,b){for(var D=b.length,k=b[D-2],W=b[D-1],Z=1,tt=M-1;Z<=tt;Z++){var _=Z/tt;b.push($g(_,k,e,i,x),$g(_,W,t,n,S))}return b};const Kg=Phaser.Math.Interpolation.CatmullRom;var Bb=function(e,t,i){for(var n=i.length,x=i[n-2],S=i[n-1],M=[x],b=[S],D=0,k=e.length;D<k;D+=2)M.push(e[D]),b.push(e[D+1]);for(var D=1,W=t-1;D<=W;D++){var Z=D/W;i.push(Kg(M,Z),Kg(b,Z))}return i},Zg=function(e){var t=e.length;if(t<2)return e;var i=e[t-2],n=e[t-1];return e.push(i),e.push(n),e},Ib={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,Ob(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),Ve(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,n,x,S,M){return M===void 0&&(M=!1),We(e,t,i,n,x,S,M,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,n,x,S){return this.ellipticalArc(e,t,i,i,n,x,S),this},quadraticBezierTo(e,t,i,n){return Db(e,t,i,n,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=n,this},cubicBezierTo(e,t,i,n,x,S){return Fb(e,t,i,n,x,S,this.iterations,this.pathData),this.lastPointX=x,this.lastPointY=S,this},catmullRomTo(...e){return Bb(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return Zg(this.pathData),this}};const kb=Phaser.Math.RotateAround;var Gb=function(e,t,i,n){for(var x={x:0,y:0},S=0,M=n.length-1;S<M;S+=2)x.x=n[S],x.y=n[S+1],kb(x,e,t,i),n[S]=x.x,n[S+1]=x.y;return n},zb=function(e,t,i,n,x){for(var S=0,M=x.length-1;S<M;S+=2){var b=x[S]-e,D=x[S+1]-t;b*=i,D*=n,x[S]=b+e,x[S+1]=D+t}return x},Jg=function(e,t,i){for(var n=0,x=i.length-1;n<x;n+=2)i[n]+=e,i[n+1]+=t;return i};const Nb=Phaser.Math.DegToRad;Phaser.Math.RotateAround;var Vb={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=Nb(i),Gb(e,t,i,this.pathData);var n=this.pathData.length;return this.lastPointX=this.pathData[n-2],this.lastPointY=this.pathData[n-1],this},scale(e,t,i,n){return this.pathData.length===0?this:(zb(e,t,i,n,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return Jg(e,t,this.pathData),this}},vo=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=t.length),e.length=n-i;for(var x=0,S=e.length;x<S;x++)e[x]=t[x+i];return e},Wb={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(vo(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}};const Ub=Phaser.Math.Distance.Between,Xb=Phaser.Math.Wrap,Yb=Phaser.Math.Linear;var Qg=function(e,t,i,n,x){if(n===void 0&&(n=i,i=0),i=jg(i),n=jg(n),i!==n){var S=t[t.length-1],M=S*i,b=S*n;i<n?rd(e,t,M,b,x):(rd(e,t,M,S,x),rd(e,t,0,b,x)),Zg(x)}},rd=function(e,t,i,n,x){for(var S=i>0,M=0,b=t.length;M<b;M++){var D=M*2,k=t[M];if(S){if(k<i)continue;if(k==i)S=!1;else{var W=k-t[M-1],Z=1-(k-i)/W;x.push(po(e,D-2,D,Z)),x.push(po(e,D-1,D+1,Z)),S=!1}}if(k<=n){if(x.push(e[D]),x.push(e[D+1]),k===n)break}else{var W=k-t[M-1],Z=1-(k-n)/W;x.push(po(e,D-2,D,Z)),x.push(po(e,D-1,D+1,Z));break}}},po=function(e,t,i,n){var x=e[t],S=e[i];return Yb(x,S,n)},jg=function(e){return e===0?0:e%1===0?1:Xb(e,0,1)},Hb={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,n,x,S,M,b=0,D=0,k=t.length;D<k;D+=2)x=t[D],S=t[D+1],M=i===void 0?0:Ub(i,n,x,S),b+=M,e.push(b),i=x,n=S;return this.totalPathLength=b,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,Qg(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),Qg(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},$b={draw(e,t,i){var n=this.toPoints();return t&&e.fillPoints(n,this.closePath,this.closePath),i&&e.strokePoints(n,this.closePath,this.closePath),this}},Kb=function(e,t){t===void 0&&(t=[]);for(var i=0,n=e.length-1;i<n;i+=2)t.push({x:e[i],y:e[i+1]});return t};const Zb=Phaser.Geom.Polygon;var Jb=function(e,t){return t===void 0&&(t=new Zb),t.setTo(e),t};class qg{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return Kb(this.pathData)}toPolygon(t){return Jb(this.pathData,t)}}Object.assign(qg.prototype,Ib,Vb,Wb,Hb,$b);class Ze extends Aa{constructor(){super(),this.builder=new qg(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,n){return this.builder.lineTo(t,i,n),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,n,x,S,M,b){return this.builder.ellipticalArc(t,i,n,x,S,M,b),this.dirty=!0,this}arc(t,i,n,x,S,M){return this.builder.arc(t,i,n,x,S,M),this.dirty=!0,this}quadraticBezierTo(t,i,n,x){return this.builder.quadraticBezierTo(t,i,n,x),this.dirty=!0,this}cubicBezierTo(t,i,n,x,S,M){return this.builder.cubicBezierTo(t,i,n,x,S,M),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,n){return this.builder.rotateAround(t,i,n),this.dirty=!0,this}scale(t,i,n,x){return this.builder.scale(t,i,n,x),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,n){return this.builder.appendFromPathSegment(t.builder,i,n),this}copyPathFrom(t,i,n){return this.builder.clear().appendFromPathSegment(t.builder,i,n),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}}const Qb=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let jb=class extends co{constructor(t,i,n,x){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=n),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,i),this.setSize(n,x)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}updateData(){this.pathData.length=0;var t=this.x,i=t+this.width,n=this.y,x=n+this.height;return this.pathData.push(t,n),this.pathData.push(i,n),this.pathData.push(i,x),this.pathData.push(t,x),this.pathData.push(t,n),super.updateData(),this}webglRender(t,i,n,x,S){if(this.isFilled){var M=t.fillTint,b=Qb(this.fillColor,this.fillAlpha*n);M.TL=b,M.TR=b,M.BL=b,M.BR=b,t.batchFillRect(-x+this.x,-S+this.y,this.width,this.height)}this.isStroked&&Dh(t,this,n,x,S)}canvasRender(t,i,n){this.isFilled&&(na(t,this),t.fillRect(-i,-n,this.width,this.height)),this.isStroked&&(aa(t,this),t.beginPath(),t.rect(-i,-n,this.width,this.height),t.stroke())}};const go=Phaser.Utils.Objects.GetValue;class mo extends Aa{constructor(t,i,n,x,S,M){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=n),S===void 0&&(S=0),M===void 0&&(M=6),super(),this.setTopLeftPosition(t,i),this.setSize(n,x),this.setRadius(S),this.setIterations(M),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=go(t,"tl",0),this.radiusTR=go(t,"tr",0),this.radiusBL=go(t,"bl",0),this.radiusBR=go(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,n=this.height,x,S=this.iterations+1;if(x=this.radiusTL,x>0)if(this._convexTL){var M=x,b=x;We(M,b,x,x,180,270,!1,S,t)}else{var M=0,b=0;We(M,b,x,x,90,0,!0,S,t)}else Ve(0,0,t);if(x=this.radiusTR,x>0)if(this._convexTR){var M=i-x,b=x;We(M,b,x,x,270,360,!1,S,t)}else{var M=i,b=0;We(M,b,x,x,180,90,!0,S,t)}else Ve(i,0,t);if(x=this.radiusBR,x>0)if(this._convexBR){var M=i-x,b=n-x;We(M,b,x,x,0,90,!1,S,t)}else{var M=i,b=n;We(M,b,x,x,270,180,!0,S,t)}else Ve(i,n,t);if(x=this.radiusBL,x>0)if(this._convexBL){var M=x,b=n-x;We(M,b,x,x,90,180,!1,S,t)}else{var M=0,b=n;We(M,b,x,x,360,270,!0,S,t)}else Ve(0,n,t);return t.push(t[0],t[1]),Jg(this.x,this.y,t),super.updateData(),this}}const qb=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let _b=class extends co{constructor(t,i,n,x,S,M){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,i),this.setP1(n,x),this.setP2(S,M)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,i){return this.dirty=this.dirty||this.x2!==t||this.y2!==i,this.x2=t,this.y2=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,i,n,x,S){if(this.isFilled){var M=qb(this.fillColor,this.fillAlpha*n),b=this.x0-x,D=this.y0-S,k=this.x1-x,W=this.y1-S,Z=this.x2-x,tt=this.y2-S,_=i.getX(b,D),st=i.getY(b,D),at=i.getX(k,W),nt=i.getY(k,W),ut=i.getX(Z,tt),ct=i.getY(Z,tt);t.batchTri(_,st,at,nt,ut,ct,M,M,M)}this.isStroked&&Dh(t,this,n,x,S)}canvasRender(t,i,n){var x=this.x1-i,S=this.y1-n,M=this.x2-i,b=this.y2-n,D=this.x3-i,k=this.y3-n;t.beginPath(),t.moveTo(x,S),t.lineTo(M,b),t.lineTo(D,k),t.closePath(),this.isFilled&&(na(t,this),t.fill()),this.isStroked&&(aa(t,this),t.stroke())}};var tL={buildShapes(){this.addShape(new mo().setName("box")).addShape(new Ze().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),n=i*2,x=e-i,S=t-i,M=this.boxLineWidth,b=Math.max(n/10,2),D=this.getShape("box"),k=this.getShape("checker");if(this.isSizeChanged){var tt=n*(1-this.boxSize)/2,W=M/2,Z=n*this.boxSize-M;D.setTopLeftPosition(x+W+tt,S+W+tt).setSize(Z,Z),this.isCircleShape?D.setRadius(Z/2):D.setRadius(0);var tt=n*(1-this.checkerSize)/2,_=n*this.checkerSize/4,st=_*1,at=_*2,nt=_*3;k.startAt(st,at).lineTo(at,nt).lineTo(nt,st).offset(x+tt,S+tt).end()}this.checked?(D.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(M,this.boxStrokeColor,this.boxStrokeAlpha),k.lineStyle(b,this.checkerColor)):(D.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(M,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),k.lineStyle()),this.checked&&k.setDisplayPathSegment(this.checkerAnimProgress)}};const ir=Phaser.Utils.Objects.GetValue,eL=Phaser.Math.Linear;class Xi extends Lr{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=ir(t,"key","value");var n=i[this.propertyKey];return this.fromValue=ir(t,"from",n),this.toValue=ir(t,"to",n),this.setEase(ir(t,"ease",this.ease)),this.setDuration(ir(t,"duration",this.duration)),this.setRepeat(ir(t,"repeat",0)),this.setDelay(ir(t,"delay",0)),this.setRepeatDelay(ir(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,i){var n=i.t;n=this.easeFn(n),t[this.propertyKey]=eL(this.fromValue,this.toValue,n)}}var iL={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new Xi(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}},_g={};Object.assign(_g,Pb,Eb,tL,iL);const ba=23730,sL=16777215,Me=Phaser.Utils.Objects.GetValue,t0=Phaser.Utils.Objects.IsPlainObject;class e0 extends bs{constructor(t,i,n,x,S,M,b){t0(i)?(b=i,i=Me(b,"x",0),n=Me(b,"y",0),x=Me(b,"width",2),S=Me(b,"height",2),M=Me(b,"color",ba)):t0(M)&&(b=M,M=Me(b,"color",ba)),super(t,i,n,x,S),this.type="rexCheckbox",M===void 0&&(M=ba),this.setBoxShape(Me(b,"circleBox",!1)),this.setBoxFillStyle(M,Me(b,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(Me(b,"uncheckedColor",null),Me(b,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(Me(b,"boxLineWidth",4),Me(b,"boxStrokeColor",M),Me(b,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,Me(b,"uncheckedBoxStrokeColor",this.boxStrokeColor),Me(b,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(Me(b,"checkerColor",sL),Me(b,"checkerAlpha",1)),this.setBoxSize(Me(b,"boxSize",1)),this.setCheckerSize(Me(b,"checkerSize",1)),this.setCheckerAnimationDuration(Me(b,"animationDuration",150)),this.buildShapes();var D=Me(b,"checked");D===void 0&&(D=Me(b,"value",!1)),this.setValue(D)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(e0.prototype,_g);const La=Phaser.Utils.Objects.GetValue;class Ls extends xe{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(La(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(La(t,"enable",!0)),this.setMode(La(t,"mode",1)),this.setClickInterval(La(t,"clickInterval",100)),this.setDragThreshold(La(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=rL[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,n,x){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,x),this.mode===0&&this.click(t.downTime,t,x))}onRelease(t,i,n,x){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,x),this.mode===1&&this.click(t.upTime,t,x),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,n,x){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,n,x){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,x),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,n){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,n),this;this.pointer=void 0;var x=this.lastClickTime;return x!==void 0&&t-x<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,n),this)}cancel(){return this.pointer=void 0,this}}const rL={press:0,pointerdown:0,release:1,pointerup:1},sr=Phaser.Utils.Objects.GetValue,i0=Phaser.Utils.Objects.IsPlainObject;class nd extends e0{constructor(t,i,n,x,S,M,b){i0(i)?(b=i,i=sr(b,"x",0),n=sr(b,"y",0),x=sr(b,"width",2),S=sr(b,"height",2),M=sr(b,"color",ba)):i0(M)&&(b=M,M=sr(b,"color",ba)),super(t,i,n,x,S,M,b),this._click=new Ls(this,sr(b,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(sr(b,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}K.register("checkbox",function(e,t,i,n,x,S){var M=new nd(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),$(window,"RexPlugins.UI.Checkbox",nd);var nL={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},aL={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},hL={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ad=function(e,t,i){return(t-e)*i+e},oL=function(e,t,i){var n=ad(fa(e),fa(t),i),x=ad(ca(e),ca(t),i),S=ad(va(e),va(t),i);return(n&255)<<16|(x&255)<<8|S&255};const s0=Phaser.Math.Linear;var lL={buildShapes(){this.addShape(new mo().setName("track")).addShape(new mo().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,n=this.getShape("track");if(this.isSizeChanged){var x=e*this.trackWidth,S=t*this.trackHeight,M=(e-x)/2,b=(t-S)/2,D=t*this.trackRadius;n.setTopLeftPosition(M,b).setSize(x,S).setRadius(D)}var k=oL(this.falseValueTrackColor,this.trackFillColor,i),W=s0(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);n.fillStyle(k,W);var Z=this.getShape("thumb");if(this.isSizeChanged){var tt=e*this.thumbWidth,_=t*this.thumbHeight,st=t*this.thumbRadius;Z.setSize(tt,_).setRadius(st)}var at=s0(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(at=e-at);var nt=t/2;Z.setCenterPosition(at,nt),Z.fillStyle(this.thumbColor,this.thumbAlpha)}},uL={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new Xi(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}},r0={};Object.assign(r0,nL,aL,hL,lL,uL);var dL=function(e){var t=.3*fa(e)+.59*ca(e)+.11*va(e);return(t&255)<<16|(t&255)<<8|t&255};const we=Phaser.Utils.Objects.GetValue,n0=Phaser.Utils.Objects.IsPlainObject,hd=23730,fL=16777215;class a0 extends bs{constructor(t,i,n,x,S,M,b){n0(i)?(b=i,i=we(b,"x",0),n=we(b,"y",0),x=we(b,"width",2),S=we(b,"height",2),M=we(b,"color",hd)):n0(M)&&(b=M,M=we(b,"color",hd)),super(t,i,n,x,S),this.type="rexToggleSwitch",M===void 0&&(M=hd),this.setTrackFillStyle(M,we(b,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(we(b,"falseValueTrackColor",dL(M)),we(b,"falseValueTrackFillAlpha",1)),this.setThumbStyle(we(b,"thumbColor",fL),we(b,"thumbAlpha",1)),this.setTrackSize(we(b,"trackWidth",.9),we(b,"trackHeight",.5)),this.setTrackRadius(we(b,"trackRadius",this.trackHeight*.5));var D=we(b,"thumbHeight",void 0),k=we(b,"thumbWidth",D);k===void 0&&(k=this.trackHeight*.9),this.setThumbSize(k,D),this.setThumbRadius(we(b,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(we(b,"thumbLeft",.3),we(b,"thumbRight",void 0)),this.setRTL(we(b,"rtl",!1)),this.setToggleAnimationDuration(we(b,"animationDuration",150)),this.buildShapes(),this.setValue(we(b,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var n=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=n,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(a0.prototype,r0);const h0=Phaser.Utils.Objects.GetValue;class od extends a0{constructor(t,i,n,x,S,M,b){super(t,i,n,x,S,M,b),this._click=new Ls(this,h0(b,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(h0(b,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}K.register("toggleSwitch",function(e,t,i,n,x,S){var M=new od(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),$(window,"RexPlugins.UI.ToggleSwitch",od);var cL={loadFromURL(e,t){var i=this,n=new Image;return n.onload=function(){i.width!==n.width||i.height!==n.height?i.resize(n.width,n.height):i.clear(),i.context.drawImage(n,0,0),i.updateTexture(),t&&t(),n.onload=null,n.src="",n.remove()},n.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,n){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,n){t.loadFromFile(e,i)})}};class Dr extends Ks{}Object.assign(Dr.prototype,cL),K.register("canvas",function(e,t,i,n){var x=new Dr(this.scene,e,t,i,n);return this.scene.add.existing(x),x}),$(window,"RexPlugins.UI.Canvas",Dr);const On=Phaser.Utils.Objects.GetValue;class o0 extends Ks{constructor(t,i,n,x,S,M){super(t,i,n),this.type="rexCircleMaskImage",this.setTexture(x,S,M)}setTexture(t,i,n){typeof i=="object"&&(n=i,i=void 0),typeof n=="string"&&(n={maskType:n});var x=On(n,"maskType",0),S=On(n,"backgroundColor",void 0),M=On(n,"strokeColor",void 0),b=M!=null?10:0,D=On(n,"strokeWidth",b);if(x===void 0?x=0:typeof x=="string"&&(x=vL[x]),this._textureKey=t,this._frameName=i,x===null)return this.loadTexture(t,i),this.dirty=!0,this;var k=this.scene.sys.textures.getFrame(t,i);if(!k)return this;k.cutWidth!==this.width||k.cutHeight!==this.height?this.setCanvasSize(k.cutWidth,k.cutHeight):this.clear();var W=this.canvas,Z=this.context,tt=W.width,_=W.height;S!=null&&(Z.fillStyle=S,Z.fillRect(0,0,tt,_)),Z.save(),Z.beginPath();var st=D/2;switch(x){case 1:var dt=Math.floor(tt/2),mt=Math.floor(_/2),at=dt-st,nt=mt-st;Z.ellipse(dt,mt,at,nt,0,0,2*Math.PI);break;case 2:var ut=On(n,"radius",0),ct=On(n,"iteration",void 0);Pv(Z,st,st,tt-D,_-D,ut,ct);break;default:var dt=Math.floor(tt/2),mt=Math.floor(_/2),Tt=Math.min(dt,mt)-st;Z.arc(dt,mt,Tt,0,2*Math.PI);break}return M!=null&&(Z.strokeStyle=M,Z.lineWidth=D,Z.stroke()),Z.clip(),this.loadTexture(t,i),Z.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}const vL={circle:0,ellipse:1,roundRectangle:2};K.register("circleMaskImage",function(e,t,i,n,x){var S=new o0(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.CircleMaskImage",o0);const Oa=Phaser.Utils.Objects.GetValue;class l0 extends Ks{constructor(t,i,n,x,S,M){super(t,i,n),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(x,S,M)}setTexture(t,i,n){typeof i=="object"&&(n=i,i=void 0),typeof n=="string"&&(n={mask:{key:n}});var x=Oa(n,"mask.key"),S=Oa(n,"mask.frame"),M=Oa(n,"mask.invertAlpha",!1),b=Oa(n,"mask.scale"),D=Oa(n,"backgroundColor");if(x){this._maskKey=x,this._maskFrame=S,this._maskScale=b;var k=x?this.scene.sys.textures.get(x):null;this.maskFrame=k?k.get(S):null}this._textureKey=t,this._frameName=i;var W=this.maskFrame;if(W===null)return this.loadTexture(t,i),this.dirty=!0,this;var Z=D!=null;this.loadTexture(t,i);var tt=this.canvas,_=this.context,st=tt.width,at=tt.height;_.save(),_.globalCompositeOperation=M?"destination-out":"destination-in";var nt,ut;this._maskScale!=null?(nt=W.cutWidth*this._maskScale,ut=W.cutHeight*this._maskScale):(nt=st,ut=at);var ct=(st-nt)/2,dt=(at-ut)/2;return this.drawFrame(this._maskKey,this._maskFrame,ct,dt,nt,ut),_.restore(),Z&&(_.save(),_.globalCompositeOperation="destination-over",_.fillStyle=D,_.fillRect(0,0,st,at),_.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}K.register("alphaMaskImage",function(e,t,i,n,x){var S=new l0(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.AlphaMaskImage",l0);const pL=Phaser.Math.Linear,u0=Phaser.Math.Percent;var gL={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=u0(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=u0(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&t!==void 0&&(i=pL(e,t,i)),i}};const mL=Phaser.Math.Percent;var xL={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,i){return e==null?this:(t!==void 0&&(e=mL(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new Xi(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,i,n){return i===void 0&&(i=-1),n===void 0&&(n=0),this.easeValueTask===void 0&&(this.easeValueTask=new Xi(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:n}),this}};const Da=Phaser.Utils.Objects.GetValue,yL=Phaser.Math.Clamp;function rr(e){class t extends e{bootProgressBase(n){this.eventEmitter=Da(n,"eventEmitter",this);var x=Da(n,"valuechangeCallback",null);if(x!==null){var S=Da(n,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",x,S)}return this.setEaseValuePropName("value").setEaseValueDuration(Da(n,"easeValue.duration",0)).setEaseValueFunction(Da(n,"easeValue.ease","Linear")),this}get value(){return this._value}set value(n){n=yL(n,0,1);var x=this._value,S=x!=n;this.dirty=this.dirty||S,this._value=n,S&&this.eventEmitter.emit("valuechange",this._value,x,this.eventEmitter)}}return Object.assign(t.prototype,gL,xL),t}const CL=Phaser.Math.RadToDeg,d0=Phaser.Math.DegToRad;var f0=function(e,t,i,n,x,S,M,b){var D=Math.abs(M-S)===360,k=d0(S),W=d0(M),Z=Math.cos(k),tt=Math.sin(k),_=Math.cos(W),st=Math.sin(W);return e.startAt(t+Z*n,i+tt*n),e.arc(t,i,n,S,M,b),D&&x===0||(e.lineTo(t+_*x,i+st*x),x>0&&e.arc(t,i,x,M,S,!b)),e.close(),e},SL={buildShapes(){var e=this.iterations;this.addShape(new Ze().setIterations(e).setName("track")).addShape(new Ze().setIterations(e).setName("bar")).addShape(new bi().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,n=i-t,x=this.getShape("track");this.trackColor!=null&&this.thickness>0?(x.fillStyle(this.trackColor),f0(x,e,e,i,n,0,360,!1)):x.reset();var S=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var M,b,D;if(this.value===1)M=!1,b=0,D=360;else{M=this.anticlockwise,b=CL(this.startAngle);var k=360*(M?1-this.value:this.value);D=k+b}S.fillStyle(this.barColor),f0(S,e,e,i+1,n-1,b,D,!1)}else S.reset();var W=this.getShape("center");this.centerColor&&n>0?W.setCenterPosition(e,e).setRadius(n).fillStyle(this.centerColor):W.reset()}};const Yi=Phaser.Utils.Objects.GetValue,TL=Phaser.Utils.Objects.IsPlainObject,PL=Phaser.Math.Clamp,EL=Phaser.Math.DegToRad(270);let ld=class extends rr(bs){constructor(t,i,n,x,S,M,b){TL(i)&&(b=i,i=Yi(b,"x",0),n=Yi(b,"y",0),x=Yi(b,"radius",1),S=Yi(b,"barColor",void 0),M=Yi(b,"value",0)),x===void 0&&(x=1);var D=x*2;super(t,i,n,D,D),this.type="rexCircularProgress",this.bootProgressBase(b),this.setRadius(x),this.setTrackColor(Yi(b,"trackColor",void 0)),this.setBarColor(S),this.setCenterColor(Yi(b,"centerColor",void 0)),this.setThickness(Yi(b,"thickness",.2)),this.setStartAngle(Yi(b,"startAngle",EL)),this.setAnticlockwise(Yi(b,"anticlockwise",!1)),this.iterations=Yi(b,"iterations",128),this.buildShapes(),this.setValue(M)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=PL(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(ld.prototype,SL),K.register("circularProgress",function(e,t,i,n,x,S){var M=new ld(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),$(window,"RexPlugins.UI.CircularProgress",ld);var ud=function(e,t,i,n,x,S,M,b,D,k,W,Z){k===void 0&&(k=0),W===void 0&&(W=2*Math.PI),Z===void 0&&(Z=!1),t.beginPath(),t.ellipse(i,n,x,S,0,k,W,Z),M!=null&&(t.fillStyle=M,t.fill()),b!=null&&(t.strokeStyle=b,t.lineWidth=D,t.stroke())};const c0=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],ML=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];for(var dd={},v0,xo=0,wL=c0.length;xo<wL;xo++)v0=c0[xo].toLowerCase(),dd[v0]=ML[xo];var RL=function(e){return e=e.toLowerCase(),dd.hasOwnProperty(e)?dd[e]:null},fd=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=RL(e)),e};const AL=Phaser.Math.DegToRad,cd=Phaser.Math.Linear;var bL=function(e,t,i,n,x,S,M,b,D,k,W,Z,tt){k===void 0&&(k=0),W===void 0&&(W=2*Math.PI),Z===void 0&&(Z=!1),tt===void 0&&(tt=2),M=fd(M),b=fd(b),Fa=Pp(M,Fa),Ba=Pp(b,Ba);var _=AL(tt),st;Z?st=k-W:st=W-k,st<0&&(st+=2*Math.PI);var at=Math.ceil(st/_),nt=st/at;Z&&(nt=-nt);for(var ut=0;ut<at;ut++){var ct=ut/at,dt=Math.round(cd(Fa.r,Ba.r,ct)),mt=Math.round(cd(Fa.g,Ba.g,ct)),Tt=Math.round(cd(Fa.b,Ba.b,ct)),Pt=k+ut*nt,At=Pt+nt;ut<at-1&&(At+=nt/2),t.beginPath(),t.ellipse(i,n,x,S,0,Pt,At,Z),t.strokeStyle=`rgb(${dt},${mt},${Tt})`,t.lineWidth=D,t.stroke()}},Fa,Ba,LL=function(e,t,i,n,x,S,M,b,D,k,W){D===void 0&&b!=null&&(D=2),t.font=S,t.textAlign=k,t.textBaseline=W,t.fillStyle=M,t.strokeStyle=b,t.lineWidth=D,t.lineCap="round",t.lineJoin="round",b!=null&&b!=="none"&&D>0&&t.strokeText(x,i,n),M!=null&&M!=="none"&&t.fillText(x,i,n)};const vd=Phaser.Math.PI2;var OL=function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,n=this.radius-t,x=this.canvas,S=this.context,M=this.anticlockwise,b=this.startAngle,D=this.endAngle,k=this._deltaAngle;if(this.trackColor&&t>0&&(S.save(),ud(x,S,e,e,i,i,void 0,this.trackColor,t,b,D,M),S.restore()),this.barColor&&i>0){var W;this.value>=1?W=D:M?W=(b-k*this.value+vd)%vd:W=(b+k*this.value)%vd,S.save(),this.barColor2?bL(x,S,e,e,i,i,this.barColor2,this.barColor,t,b,W,M):ud(x,S,e,e,i,i,void 0,this.barColor,t,b,W,M),S.restore()}if(this.centerColor&&n>0){var Z;this.centerColor2?(Z=this.context.createRadialGradient(e,e,0,e,e,n),Z.addColorStop(0,this.centerColor),Z.addColorStop(1,this.centerColor2)):Z=this.centerColor,S.save(),ud(x,S,e,e,n,n,Z),S.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(S.save(),LL(x,S,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),S.restore())};const Ce=Phaser.Utils.Objects.GetValue,DL=Phaser.Utils.Objects.IsPlainObject,FL=Phaser.Math.Clamp,BL=Phaser.Math.DegToRad(270),yo=Phaser.Math.PI2;class Co extends rr(Ks){constructor(t,i,n,x,S,M,b){DL(i)&&(b=i,i=Ce(b,"x",0),n=Ce(b,"y",0),x=Ce(b,"radius",1),S=Ce(b,"barColor",void 0),M=Ce(b,"value",0));var D=x*2,k=Ce(b,"resolution",1);super(t,i,n,D,D,k),this.type="rexCircularProgressCanvas",this.bootProgressBase(b),this.setRadius(x),this.setTrackColor(Ce(b,"trackColor",void 0)),this.setBarColor(S),this.setBarColor2(Ce(b,"barColor2",void 0)),this.setCenterColor(Ce(b,"centerColor",void 0)),this.setThickness(Ce(b,"thickness",.2)),this.setAnticlockwise(Ce(b,"anticlockwise",!1)),this.setStartAngle(Ce(b,"startAngle",BL));var W=Ce(b,"endAngle");W===void 0&&(this.anticlockwise?W=this.startAngle-yo:W=this.startAngle+yo),this.setEndAngle(Ce(b,"endAngle",W)),this.setTextColor(Ce(b,"textColor",void 0)),this.setTextStrokeColor(Ce(b,"textStrokeColor",void 0),Ce(b,"textStrokeThickness",void 0));var Z=Ce(b,"textFont",void 0);Z?this.setTextFont(Z):this.setTextFont(Ce(b,"textSize","16px"),Ce(b,"textFamily","Courier"),Ce(b,"textStyle","")),this.setTextFormatCallback(Ce(b,"textFormatCallback",void 0),Ce(b,"textFormatCallbackScope",void 0)),this.setValue(M)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=pd(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=pd(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=pd(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=FL(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,n){var x;return i===void 0?x=t:x=n+" "+t+" "+i,this.textFont=x,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),OL.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}}var pd=function(e,t,i){return i?e<=t?yo+e-t:e-t:e>=t?yo+t-e:t-e};K.register("circularProgressCanvas",function(e,t,i,n,x,S){var M=new Co(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),$(window,"RexPlugins.UI.CircularProgressCanvas",Co);var IL=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,n=this.getShape("trackFill");n.fillStyle(this.trackColor),n.isFilled&&gd(n,0,0,t,i,e);var x=this.getShape("bar");if(x.fillStyle(this.barColor),x.isFilled){var S,M;this.rtl?(S=t*(1-this.value),M=t):(S=0,M=t*this.value),gd(x,S,0,M,i,e)}var b=this.getShape("trackStroke");b.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),b.isStroked&&gd(b,0,0,t,i,e)},gd=function(e,t,i,n,x,S){var M=(t+n)/2;return S>=0?e.startAt(M+S,i).lineTo(n+S,i).lineTo(n,x).lineTo(t,x).lineTo(t+S,i).lineTo(M+S,i):e.startAt(M,i).lineTo(n,i).lineTo(n-S,x).lineTo(t-S,x).lineTo(t,i).lineTo(M,i),e.close(),e};const Ia=Phaser.Utils.Objects.GetValue,md=Phaser.Utils.Objects.IsPlainObject;let So=class extends rr(bs){constructor(t,i,n,x,S,M,b,D){md(i)?(D=i,i=D.x,n=D.y,x=D.width,S=D.height,M=D.barColor,b=D.value):md(x)?(D=x,x=D.width,S=D.height,M=D.barColor,b=D.value):md(M)&&(D=M,M=D.barColor,b=D.value),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=2),S===void 0&&(S=x),b===void 0&&(b=0),super(t,i,n,x,S,D),this.type="rexLineProgress",this.bootProgressBase(D),this.addShape(new Ze().setName("trackFill")).addShape(new Ze().setName("bar")).addShape(new Ze().setName("trackStroke")),this.setTrackColor(Ia(D,"trackColor",void 0)),this.setBarColor(M),this.setTrackStroke(Ia(D,"trackStrokeThickness",2),Ia(D,"trackStrokeColor",void 0)),this.setSkewX(Ia(D,"skewX",0)),this.setRTL(Ia(D,"rtl",!1)),this.setValue(b)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var kL={updateShapes:IL};Object.assign(So.prototype,kL),K.register("lineProgress",function(e,t,i,n,x,S,M){var b=new So(this.scene,e,t,i,n,x,S,M);return this.scene.add.existing(b),b}),$(window,"RexPlugins.UI.LineProgress",So);var xd=function(e,t,i,n,x){e.setIterations(x).start();var b=n.tl;if(ge(b))if(b.convex){var S=b.x,M=b.y;e.ellipticalArc(S,M,b.x,b.y,180,270,!1)}else{var S=0,M=0;e.ellipticalArc(S,M,b.x,b.y,90,0,!0)}else e.lineTo(0,0);var b=n.tr;if(ge(b))if(b.convex){var S=t-b.x,M=b.y;e.ellipticalArc(S,M,b.x,b.y,270,360,!1)}else{var S=t,M=0;e.ellipticalArc(S,M,b.x,b.y,180,90,!0)}else e.lineTo(t,0);var b=n.br;if(ge(b))if(b.convex){var S=t-b.x,M=i-b.y;e.ellipticalArc(S,M,b.x,b.y,0,90,!1)}else{var S=t,M=i;e.ellipticalArc(S,M,b.x,b.y,270,180,!0)}else e.lineTo(t,i);var b=n.bl;if(ge(b))if(b.convex){var S=b.x,M=i-b.y;e.ellipticalArc(S,M,b.x,b.y,90,180,!1)}else{var S=0,M=i;e.ellipticalArc(S,M,b.x,b.y,360,270,!0)}else e.lineTo(0,i);return e.close(),e},To=Phaser.Math.RadToDeg,GL=function(e,t,i,n,x){var S=t*x,k=n.tl;if(ge(k)){var M;S>k.x?M=90:M=To(Math.acos((k.x-S)/k.x));var b=k.x,D=k.y;e.ellipticalArc(b,D,k.x,k.y,180,180+M,!1)}else e.lineTo(0,0);var k=n.tr;if(ge(k)&&S>t-k.x){var M=90-To(Math.acos((S-(t-k.x))/k.x)),b=t-k.x,D=k.y;e.ellipticalArc(b,D,k.x,k.y,270,270+M,!1)}else e.lineTo(S,0);var k=n.br;if(ge(k)&&S>t-k.x){var M=90-To(Math.acos((S-(t-k.x))/k.x)),b=t-k.x,D=i-k.y;e.ellipticalArc(b,D,k.x,k.y,90-M,90,!1)}else e.lineTo(S,i);var k=n.bl;if(ge(k)){var M;S>k.x?M=90:M=To(Math.acos((k.x-S)/k.x));var b=k.x,D=i-k.y;e.ellipticalArc(b,D,k.x,k.y,180-M,180,!1)}else e.lineTo(0,i)},Po=Phaser.Math.RadToDeg,zL=function(e,t,i,n,x){var S=i*x,k=n.tl;if(ge(k)){var M;S>k.y?M=90:M=Po(Math.acos((k.y-S)/k.y));var b=k.x,D=k.y;e.ellipticalArc(b,D,k.x,k.y,270-M,270,!1)}else e.lineTo(0,0);var k=n.tr;if(ge(k)){var M;S>k.y?M=90:M=Po(Math.acos((k.y-S)/k.y));var b=t-k.x,D=k.y;e.ellipticalArc(b,D,k.x,k.y,270,270+M,!1)}else e.lineTo(t,0);var k=n.br;if(ge(k)&&S>i-k.y){var M=90-Po(Math.acos((S-(i-k.y))/k.y)),b=t-k.x,D=i-k.y;e.ellipticalArc(b,D,k.x,k.y,0,0+M,!1)}else e.lineTo(t,S);var k=n.bl;if(ge(k)&&S>i-k.y){var M=90-Po(Math.acos((S-(i-k.y))/k.y)),b=k.x,D=i-k.y;e.ellipticalArc(b,D,k.x,k.y,180-M,180,!1)}else e.lineTo(0,S)},Eo=Phaser.Math.RadToDeg,NL=function(e,t,i,n,x){var S=t*x,k=n.tr;if(ge(k)){var M;S>k.x?M=90:M=Eo(Math.acos((k.x-S)/k.x));var b=t-k.x,D=k.y;e.ellipticalArc(b,D,k.x,k.y,360-M,360,!1)}else e.lineTo(t,0);var k=n.br;if(ge(k)){var M;S>k.x?M=90:M=Eo(Math.acos((k.x-S)/k.x));var b=t-k.x,D=i-k.y;e.ellipticalArc(b,D,k.x,k.y,0,0+M,!1)}else e.lineTo(t,i);var k=n.bl;if(ge(k)&&S>t-k.x){var M=90-Eo(Math.acos((S-(t-k.x))/k.x)),b=k.x,D=i-k.y;e.ellipticalArc(b,D,k.x,k.y,90,90+M,!1)}else e.lineTo(t-S,i);var k=n.tl;if(ge(k)&&S>t-k.x){var M=90-Eo(Math.acos((S-(t-k.x))/k.x)),b=k.x,D=k.y;e.ellipticalArc(b,D,k.x,k.y,270-M,270,!1)}else e.lineTo(t-S,0)},Mo=Phaser.Math.RadToDeg,VL=function(e,t,i,n,x){var S=i*x,k=n.br;if(ge(k)){S>k.y?D=90:D=Mo(Math.acos((k.y-S)/k.y));var M=t-k.x,b=i-k.y;e.ellipticalArc(M,b,k.x,k.y,90-D,90,!1)}else e.lineTo(t,i);var k=n.bl;if(ge(k)){S>k.y?D=90:D=Mo(Math.acos((k.y-S)/k.y));var M=k.x,b=i-k.y;e.ellipticalArc(M,b,k.x,k.y,90,90+D,!1)}else e.lineTo(0,i);var k=n.tl;if(ge(k)&&S>i-k.y){var D=90-Mo(Math.acos((S-(i-k.y))/k.y)),M=k.x,b=k.y;e.ellipticalArc(M,b,k.x,k.y,180,180+D,!1)}else e.lineTo(0,i-S);var k=n.tr;if(ge(k)&&S>i-k.y){var D=90-Mo(Math.acos((S-(i-k.y))/k.y)),M=t-k.x,b=k.y;e.ellipticalArc(M,b,k.x,k.y,360-D,360,!1)}else e.lineTo(t,i-S)},WL=function(e,t,i,n,x,S,M,b){if(e.setIterations(b).start(),x===0)return e;if(x===1)return xd(e,t,i,n,b);var D;return S===0?D=M?NL:GL:D=M?VL:zL,D(e,t,i,n,x),e.close(),e},UL=function(){var e=this.width,t=this.height,i=this.rrGeom.cornerRadius,n=this.value,x=this.orientation,S=this.rtl,M=this.iteration+1,b=this.getShape("trackFill");b.fillStyle(this.trackColor),b.isFilled&&xd(b,e,t,i,M);var D=this.getShape("bar");D.fillStyle(this.barColor),D.isFilled&&WL(D,e,t,i,n,x,S,M);var k=this.getShape("trackStroke");k.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),k.isStroked&&xd(k,e,t,i,M)},XL={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Fr=function(e){return typeof e=="string"&&(e=XL[e]),e};const Dn=Phaser.Utils.Objects.GetValue,yd=Phaser.Utils.Objects.IsPlainObject;class Cd extends rr(bs){constructor(t,i,n,x,S,M,b,D,k){yd(i)?(k=i,i=k.x,n=k.y,x=k.width,S=k.height,M=k.radius,b=k.barColor,D=k.value):yd(x)?(k=x,x=k.width,S=k.height,M=k.radius,b=k.barColor,D=k.value):yd(M)&&(k=M,M=k.radius,b=k.barColor,D=k.value),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=x),M===void 0&&(M=0),D===void 0&&(D=0),super(t,i,n,x,S,k),this.type="rexRoundRectangleProgress",this.rrGeom=new cu,this.bootProgressBase(k),this.addShape(new Ze().setName("trackFill")).addShape(new Ze().setName("bar")).addShape(new Ze().setName("trackStroke")),this.setTrackColor(Dn(k,"trackColor",void 0)),this.setBarColor(b),this.setTrackStroke(Dn(k,"trackStrokeThickness",2),Dn(k,"trackStrokeColor",void 0)),this.setOrientation(Dn(k,"orientation",0)),this.setRTL(Dn(k,"rtl",!1)),this.setRadius(M),this.setIteration(Dn(M,"iteration",void 0)),this.setValue(D)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=Fr(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var YL={updateShapes:UL};Object.assign(Cd.prototype,YL),K.register("roundRectanleProgress",function(e,t,i,n,x,S,M,b){var D=new Cd(this.scene,e,t,i,n,x,S,M,b);return this.scene.add.existing(D),D}),$(window,"RexPlugins.UI.RoundRectangleProgress",Cd);var HL=function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var n=1,x=t.length;n<x;n++)i=t[n],e.lineTo(i.x,i.y);e.closePath(),e.restore()},Sd=function(e,t,i,n,x,S,M){M===void 0&&(M="round"),HL(t,i),t.lineJoin=M,n!=null&&(t.fillStyle=n,t.fill()),x!=null&&(t.strokeStyle=x,t.lineWidth=S,t.stroke())},$L=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,n=this.canvas,x=this.context;(this.trackColor||this.trackStrokeColor)&&p0(0,0,t,i,e,this.trackPoints);var S,M;if(this.barColor&&(this.rtl?(S=t*(1-this.value),M=t):(S=0,M=t*this.value),p0(S,0,M,i,e,this.barPoints)),this.trackColor&&(x.save(),Sd(n,x,this.trackPoints,this.trackColor),x.restore()),this.barColor){x.save();var b;if(this.barColor2){var D;if(this.isHorizontalGradient){var k=i/2;D=x.createLinearGradient(S,k,M,k)}else{var W=t/2;D=x.createLinearGradient(W,0,W,i)}D.addColorStop(0,this.rtl?this.barColor:this.barColor2),D.addColorStop(1,this.rtl?this.barColor2:this.barColor),b=D}else b=this.barColor;Sd(n,x,this.barPoints,b),x.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(x.save(),Sd(n,x,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),x.restore())},p0=function(e,t,i,n,x,S){S===void 0&&(S=[]),S.length=4;for(var M=0;M<4;M++)S[M]||(S[M]={});var b;return x>=0?(b=S[0],b.x=e+x,b.y=t,b=S[1],b.x=i+x,b.y=t,b=S[2],b.x=i,b.y=n,b=S[3],b.x=e,b.y=n):(b=S[0],b.x=e,b.y=t,b=S[1],b.x=i,b.y=t,b=S[2],b.x=i-x,b.y=n,b=S[3],b.x=e-x,b.y=n),S};const Fe=Phaser.Utils.Objects.GetValue,Td=Phaser.Utils.Objects.IsPlainObject;class Pd extends rr(Ks){constructor(t,i,n,x,S,M,b,D){Td(i)?(D=i,i=Fe(D,"x",0),n=Fe(D,"y",0),x=Fe(D,"width",2),S=Fe(D,"height",2),M=Fe(D,"barColor",void 0),b=Fe(D,"value",0)):Td(x)?(D=x,x=Fe(D,"width",2),S=Fe(D,"height",2),M=Fe(D,"barColor",void 0),b=Fe(D,"value",0)):Td(M)&&(D=M,M=Fe(D,"barColor",void 0),b=Fe(D,"value",0));var k=Fe(D,"resolution",1);super(t,i,n,x,S,k),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(D),this.setTrackColor(Fe(D,"trackColor",void 0)),this.setBarColor(M,Fe(D,"barColor2",void 0),Fe(D,"isHorizontalGradient",void 0)),this.setTrackStroke(Fe(D,"trackStrokeThickness",2),Fe(D,"trackStrokeColor",void 0)),this.setSkewX(Fe(D,"skewX",0)),this.setRTL(Fe(D,"rtl",!1)),this.setValue(b)}get trackColor(){return this._trackColor}set trackColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,n){return n===void 0&&(n=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=n,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),$L.call(this)},this),this}}K.register("circularProgressCanvas",function(e,t,i,n,x,S,M){var b=new Pd(this.scene,e,t,i,n,x,S,M);return this.scene.add.existing(b),b}),$(window,"RexPlugins.UI.LineProgressCanvas",Pd),Phaser.Math.Wrap;const Fn=Phaser.Math.Linear;var KL=function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,n=0+t.left,x=this.height-t.bottom,S=0+t.top,M=(n+i)/2,b=(S+x)/2,D={0:{a:{x:n,y:S},b:{x:i,y:b},c:{x:n,y:x}},1:{a:{x:n,y:S},b:{x:M,y:x},c:{x:i,y:S}},2:{a:{x:i,y:S},b:{x:n,y:b},c:{x:i,y:x}},3:{a:{x:n,y:x},b:{x:M,y:S},c:{x:i,y:x}}},k,W,Z,tt,_,st;if(this.previousDirection===void 0){var at=D[this.direction],nt=at.a,ut=at.b,ct=at.c;k=nt.x,W=nt.y,Z=ut.x,tt=ut.y,_=ct.x,st=ct.y}else{var dt=D[this.previousDirection],mt=D[this.direction],Tt=this.easeDirectionProgress;k=Fn(dt.a.x,mt.a.x,Tt),W=Fn(dt.a.y,mt.a.y,Tt),Z=Fn(dt.b.x,mt.b.x,Tt),tt=Fn(dt.b.y,mt.b.y,Tt),_=Fn(dt.c.x,mt.c.x,Tt),st=Fn(dt.c.y,mt.c.y,Tt)}e.startAt(k,W).lineTo(Z,tt).lineTo(_,st),this.arrowOnly?e.end():e.close()};const ZL=Phaser.Math.DegToRad,wo=ZL(120);var JL=function(t){var t=this.getShape("triangle"),i=this.width/2,n=this.height/2,x=Math.min(i,n)*this.radius,S=this.verticeRotation;t.startAt(i+x*Math.cos(S+wo),n+x*Math.sin(S+wo)).lineTo(i+x*Math.cos(S),n+x*Math.sin(S)).lineTo(i+x*Math.cos(S-wo),n+x*Math.sin(S-wo)),this.arrowOnly?t.end():t.close()},QL={buildShapes(){this.addShape(new Ze().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?KL.call(this):JL.call(this)}},jL={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new Xi(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}};const Bn=Phaser.Utils.Objects.GetValue,qL=Phaser.Utils.Objects.IsPlainObject,_L=Phaser.Math.DegToRad,tO=Phaser.Math.RadToDeg;class ka extends bs{constructor(t,i,n,x,S,M,b){var D,k,W,Z,tt,_,st,at;if(qL(i)){var nt=i;i=nt.x,n=nt.y,x=nt.width,S=nt.height,M=nt.color,b=nt.alpha,D=nt.strokeColor,k=nt.strokeAlpha,W=nt.strokeWidth,Z=nt.arrowOnly,tt=nt.direction,_=nt.easeDuration,st=nt.padding,at=nt.radius}i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=x),Z===void 0&&(Z=!1),tt===void 0&&(tt=0),_===void 0&&(_=0),st===void 0&&(st=0),at===void 0&&(at=void 0),super(t,i,n,x,S),this.type="rexTriangle",this.setFillStyle(M,b),D!==void 0&&W===void 0&&(W=2),this.setStrokeStyle(W,D,k),this.setArrowOnly(Z),this.setDirection(tt,_),this.setPadding(st),this.setRadius(at),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=iO(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,n,x){if(typeof t=="object"){var S=t,M=Bn(S,"x",null);M!==null?(t=M,n=M):(t=Bn(S,"left",0),n=Bn(S,"right",t));var b=Bn(S,"y",null);b!==null?(i=b,x=b):(i=Bn(S,"top",0),x=Bn(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=t),x===void 0&&(x=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=n||this.padding.bottom!=x,this.padding.left=t,this.padding.top=i,this.padding.right=n,this.padding.bottom=x,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return tO(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=_L(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const eO={right:0,down:1,left:2,up:3};var iO=function(e){return typeof e=="string"&&(e=eO[e]),e=e%4,e};Object.assign(ka.prototype,QL,jL),K.register("triangle",function(e,t,i,n,x,S){var M=new ka(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),$(window,"RexPlugins.UI.Triangle",ka),Et();const sO=Phaser.GameObjects.Zone,rO=Phaser.Utils.Array.Add,nO=Phaser.Utils.Array.Remove;let Ga=class extends sO{constructor(t,i,n,x,S){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=1),super(t,i,n,x,S),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i,n=this.children.length-1;n>=0;n--)i=this.children[n],!i.parentContainer&&!i.displayList&&i.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var i=this;return rO(this.children,t,0,function(n){n.once("destroy",i.onChildDestroy,i)},this),this}remove(t,i){var n=this;return nO(this.children,t,function(x){x.off("destroy",n.onChildDestroy,n),i&&x.destroy()}),this}onChildDestroy(t,i){this.remove(t,!1)}clear(t){for(var i=this,n,x=0,S=this.children.length;x<S;x++)n=this.children[x],n.off("destroy",i.onChildDestroy,i),t&&n.destroy();return this.children.length=0,this}};const g0=Phaser.GameObjects.Components;Phaser.Class.mixin(Ga,[g0.Alpha,g0.Flip]);var mi=function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=mi(e);i&&i.name!==t;)i=mi(i);return i},m0=function(e){for(var t=mi(e);t;)e=t,t=mi(t);return e};const aO=Phaser.Math.DegToRad,hO=Phaser.Math.RadToDeg;var Zt=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return hO(this.rotation)},set:function(i){this.rotation=aO(i)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(i){this.scaleX=i/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(i){this.scaleY=i/e.height}}),e.rexContainer=t}return e.rexContainer},oO={setParent(e,t){t===void 0&&(t=this);var i=Zt(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),mi(e,t)},getTopmostParent(e){return e===void 0&&(e=this),m0(e)}};const Br=Phaser.Utils.Objects.GetValue,x0=Ga.prototype.add;var y0=function(e,t){this.setParent(e);var i=Zt(e);return C0(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),x0.call(this,e),S0.call(this,e,i),this},Ed=function(e,t){this.setParent(e);var i=Zt(e);return C0(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),x0.call(this,e),S0.call(this,e,i),this},C0=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=Br(t,"syncPosition",!0),e.syncRotation=Br(t,"syncRotation",!0),e.syncScale=Br(t,"syncScale",!0),e.syncAlpha=Br(t,"syncAlpha",!0),e.syncScrollFactor=Br(t,"syncScrollFactor",!0),e.syncCameraFilter=Br(t,"syncCameraFilter",!0),e.syncDisplayList=Br(t,"syncDisplayList",!0))},S0=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)},lO={add(e){return Array.isArray(e)?this.addMultiple(e):y0.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):y0.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),i=0,n=e.length;i<n;i++)t[0]=e[i],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):Ed.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):Ed.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)Ed.call(this,e[t]);return this}};const T0=Ga.prototype.remove,uO=Ga.prototype.clear;var dO={remove(e,t){return mi(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),T0.call(this,e,t),this)},unpin(e,t){return mi(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),T0.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,n=t.length;i<n;i++){var x=t[i];this.setParent(x,null),e||this.removeFromRenderLayer(x)}return uO.call(this,e),this}},fO={getLocalState(e){return Zt(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},cO={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),i=Math.sin(-this.rotation),n=e.x,x=e.y;return e.x=n*t-x*i,e.y=n*i+x*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),i=Math.sin(this.rotation),n=e.x,x=e.y;return e.x=n*t-x*i,e.y=n*i+x*t,e.x+=this.x,e.y+=this.y,e}},za=function(e,t){return e===t?1:e/t},vO={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=Zt(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=Zt(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=za(e.scaleX,i.scaleX),t.scaleY=za(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var n=Zt(e);return n.x=t,n.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=Zt(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=Zt(e);return t.x},getChildLocalY(e){var t=Zt(e);return t.y}};const pO=Phaser.Math.DegToRad;var gO={updateChildRotation(e){var t=Zt(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=Zt(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=Zt(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=Zt(e);return i.rotation=pO(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=Zt(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=Zt(e);return t.rotation}},mO={updateChildScale(e){var t=Zt(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=Zt(e),i=t.parent;return t.scaleX=za(e.scaleX,i.scaleX),t.scaleY=za(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var n=Zt(e);return n.scaleX=t,n.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=Zt(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=Zt(e);return t.scaleX},getChildLocalScaleY(e){var t=Zt(e);return t.scaleY}},xO={updateChildVisible(e){var t=Zt(e),i=t.parent,n=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,x=i?i.visible:!0;return e.visible=x&&t.visible&&n,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=Zt(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=Zt(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=Zt(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=Zt(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=Zt(e);return t.visible}},yO={updateChildAlpha(e){var t=Zt(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=Zt(e),i=t.parent;return t.alpha=za(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=Zt(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=Zt(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=Zt(e);return t.alpha}},CO={updateChildActive(e){var t=Zt(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=Zt(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=Zt(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=Zt(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=Zt(e);return t.active}},SO={updateChildScrollFactor(e){var t=Zt(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},TO={updateCameraFilter(e){var t=Zt(e),i=t.parent;return t.syncCameraFilter&&(e.cameraFilter=i.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},PO={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}},Ro=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})},EO={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),n=0,x=i.length;n<x;n++)i[n].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,n=t.length;i<n;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);Ri(t,!1);for(var i=0,n=t.length;i<n;i++){var x=t[i];e.exists(x)&&e.bringToTop(x)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);Ri(t,!0);for(var i=0,n=t.length;i<n;i++){var x=t[i];e.exists(x)&&e.sendToBack(x)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);Ri(i,!1);for(var n=0,x=i.length;n<x;n++){var S=i[n];if(t.exists(S)){t.moveBelow(e,S);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);Ri(i,!0);for(var n=0,x=i.length;n<x;n++){var S=i[n];if(t.exists(S)){t.moveAbove(e,S);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=Ro(t),t=Ri(t,!1)):t=[e];var i=this.getAllChildren([this]);i=Ro(i),i=Ri(i,!1);for(var n=i[i.length-1],x=0,S=t.length;x<S;x++){var M=t[x];n!==M&&(M!==this&&n.displayList!==M.displayList||(n.displayList.moveAbove(M,n),n=M))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=Ro(t),t=Ri(t,!1)):t=[e];var i=this.getAllChildren([this]);i=Ro(i),i=Ri(i,!1);for(var n=i[0],x=t.length-1;x>=0;x--){var S=t[x];n!==S&&(S!==this&&n.displayList!==S.displayList||(n.displayList.moveBelow(S,n),n=S))}return this}},P0=function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var n=e.children,x=0,S=n.length;x<S;x++)P0(n[x],t)},Md=function(e,t){for(var i=[e];i.length>0;){var n=i.shift(),x=t(n);!x&&n.isRexContainerLite&&i.push(...n.children)}};const Ir=Phaser.Utils.Array;var MO={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return Md(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return Md(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),Md(t,e),this},dfs(e,t){return t===void 0&&(t=this),P0(t,e),this},contains(e){var t=mi(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],n,x;i.length;){n=i.shift();for(var S=0,M=n.children.length;S<M;S++){if(x=n.children[S],x.name===e)return x;x.isRexContainerLite&&i.push(x)}}return null}else return Ir.GetFirst(this.children,"name",e)},getRandom(e,t){return Ir.GetRandom(this.children,e,t)},getFirst(e,t,i,n){return Ir.GetFirstElement(this.children,e,t,i,n)},getAll(e,t,i,n){return Ir.GetAll(this.children,e,t,i,n)},count(e,t,i,n){return Ir.CountAllMatching(this.children,e,t,i,n)},swap(e,t){return Ir.Swap(this.children,e,t),this},setAll(e,t,i,n){return Ir.SetAll(this.children,e,t,i,n),this}},E0=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var x=e[i];x.hasOwnProperty("rexContainer")&&t.push(x.rexContainer)}return t},wO=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t].scene;if(n)return n}return null},M0=function(e,t,i){if(!i.parent){e.remove();return}var n=i.parent,x=i.self;switch(t){case"x":case"y":n.updateChildPosition(x);break;case"angle":case"rotation":n.updateChildRotation(x);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":n.updateChildScale(x);break;case"alpha":n.updateChildAlpha(x);break;default:n.updateChildPosition(x),n.updateChildRotation(x),n.updateChildScale(x),n.updateChildAlpha(x);break}},RO={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||wO(t);if(i){e.targets=E0(t);var n=i.tweens.add(e);return n.on("update",M0),n}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=E0(t));var i=e.onUpdate;return e.onUpdate=function(n,x){i&&i(n,x),M0(n,void 0,x)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}};const AO=Phaser.GameObjects.Container;var bO=function(e){return e instanceof AO},w0=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},R0=function(e){var t=w0(this);t.indexOf(this)===-1&&t.push(this),Ri(t),e.add(t)},A0=function(e,t,i){if(this.scene){var n=w0(this);Ri(n,t),e.remove(n),i&&n.forEach(function(x){x.addToDisplayList()})}},LO={addToContainer(e){return bO(e)?(this._setParentContainerFlag=!0,R0.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return ya(e)?(R0.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,A0.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),ya(this.displayList)?(A0.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(ya(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},OO={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=Zt(e);return i.layer=t,this},removeFromRenderLayer(e){var t=Zt(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}};const b0=Phaser.Geom.Rectangle,DO=Phaser.Geom.Rectangle.Union;var FO=function(e,t){t===void 0?t=new b0:t===!0&&(wd===void 0&&(wd=new b0),t=wd),t.setTo(0,0,0,0);for(var i,n=!0,x=0,S=e.length;x<S;x++)if(i=e[x],!!i.getBounds){var M=Wu(i,!0);n?(t.setTo(M.x,M.y,M.width,M.height),n=!1):DO(M,t,t)}return t},wd,kr=Phaser.Utils.Objects.GetValue,Rd=function(e){if(e){var t=e.gameObjects,i=e.renderTexture,n=e.saveTexture,x=kr(e,"x",void 0),S=kr(e,"y",void 0),M=kr(e,"width",void 0),b=kr(e,"height",void 0),D=kr(e,"originX",0),k=kr(e,"originY",0),W=kr(e,"padding",0),Z,tt;if(M===void 0||b===void 0||x===void 0||S===void 0){var _=FO(t,!0),st=x!==void 0&&S!==void 0;st?(M=Math.max(x-_.left,_.right-x)*2,b=Math.max(S-_.top,_.bottom-S)*2,D=.5,k=.5):(x=_.x,S=_.y,M=_.width,b=_.height,D=0,k=0),Z=_.x,tt=_.y}else Z=x+(0-D)*M,tt=S+(0-k)*b;Z-=W,tt-=W,M+=W*2,b+=W*2;var at=t[0].scene,nt=at.sys.textures;return n&&!i&&(i=nt.addDynamicTexture(n,M,b)),i||(i=at.add.renderTexture(0,0,M,b)),i.setPosition&&i.setPosition(x,S),(i.width!==M||i.height!==b)&&i.setSize(M,b),i.setOrigin&&i.setOrigin(D,k),i.camera.setScroll(Z,tt),t=Ri(Ui(t)),i.draw(t),n&&(fi(i)?i.saveTexture(n):i.key!==n&&nt.renameTexture(i.key,key)),i}},BO={snapshot(e){var t=this.scaleX,i=this.scaleY,n=t===1&&i===1;n||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var x=Rd(e),S=!!x.scene;return n||(this.setScale(t,i),S&&x.setScale(t,i)),S?x:this}};const L0=Phaser.Utils.Objects.GetValue;var IO=function(e,t){var i=L0(t,"drawContainer",!0),n=L0(t,"children");return n===void 0&&(n=this.getAllVisibleChildren([this])),i||(n=n.filter(function(x){return!x.isRexContainerLite})),Lp(n,e,t),this};const kO=Phaser.Math.RotateAround;var GO=function(e,t,i){i===void 0&&(i=t);var n={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return kO(n,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+n.x,e.y=e.y+n.y,e},zO=function(e,t){this.syncChildrenEnable=!1,GO(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),n=0,x=i.length;n<x;n++)this.resetChildPositionState(i[n]);return this},O0={changeOrigin:zO,drawBounds:IO};Object.assign(O0,oO,lO,dO,fO,cO,vO,gO,mO,xO,yO,CO,SO,TO,PO,EO,MO,RO,LO,OO,BO);class xi extends Ga{constructor(t,i,n,x,S,M){Array.isArray(x)&&(M=x,x=void 0,S=void 0),super(t,i,n,x,S),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,M&&this.add(M)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return mi(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=mi(this);return t?t.setParentContainerFlag:!1}}Object.assign(xi.prototype,O0);var Ao=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function NO(e){return e===void 0&&(e=this),Ao(e)}var VO=function(e){var t=Ao(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},WO=function(e){return e===void 0&&(e=Sn(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const Re=Phaser.Display.Align;var In={center:Re.CENTER,left:Re.LEFT_CENTER,right:Re.RIGHT_CENTER,top:Re.TOP_CENTER,bottom:Re.BOTTOM_CENTER,"left-top":Re.TOP_LEFT,"top-left":Re.TOP_LEFT,"left-center":Re.LEFT_CENTER,"center-left":Re.LEFT_CENTER,"left-bottom":Re.BOTTOM_LEFT,"bottom-left":Re.BOTTOM_LEFT,"center-top":Re.TOP_CENTER,"top-center":Re.TOP_CENTER,"center-center":Re.CENTER,"center-bottom":Re.BOTTOM_CENTER,"bottom-center":Re.BOTTOM_CENTER,"right-top":Re.TOP_RIGHT,"top-right":Re.TOP_RIGHT,"right-center":Re.RIGHT_CENTER,"center-right":Re.RIGHT_CENTER,"right-bottom":Re.BOTTOM_RIGHT,"bottom-right":Re.BOTTOM_RIGHT},Ad=new Phaser.GameObjects.Zone({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1);Ad.setOrigin(0);var Os={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_CENTER:4,CENTER:6,RIGHT_CENTER:8,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},bd=function(e){var t=re(e);return e.y+t-t*e.originY},Ld=function(e){var t=se(e);return e.x-t*e.originX+t*.5},Od=function(e,t){var i=re(e);return e.y=t-i+i*e.originY,e},Dd=function(e,t){var i=se(e),n=i*e.originX;return e.x=t+n-i*.5,e},UO=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),Dd(e,Ld(t)+i),Od(e,bd(t)+n),e},Fd=function(e){var t=se(e);return e.x-t*e.originX},Bd=function(e,t){var i=se(e);return e.x=t+i*e.originX,e},XO=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),Bd(e,Fd(t)-i),Od(e,bd(t)+n),e},Id=function(e){var t=se(e);return e.x+t-t*e.originX},kd=function(e,t){var i=se(e);return e.x=t-i+i*e.originX,e},YO=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),kd(e,Id(t)+i),Od(e,bd(t)+n),e},Gd=function(e,t){var i=re(e),n=i*e.originY;return e.y=t+n-i*.5,e},HO=function(e,t,i){return Dd(e,t),Gd(e,i)},zd=function(e){var t=re(e);return e.y-t*e.originY+t*.5},$O=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),HO(e,Ld(t)+i,zd(t)+n),e},KO=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),Bd(e,Fd(t)-i),Gd(e,zd(t)+n),e},ZO=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),kd(e,Id(t)+i),Gd(e,zd(t)+n),e},Nd=function(e){var t=re(e);return e.y-t*e.originY},Vd=function(e,t){var i=re(e);return e.y=t+i*e.originY,e},JO=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),Dd(e,Ld(t)+i),Vd(e,Nd(t)-n),e},QO=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),Bd(e,Fd(t)-i),Vd(e,Nd(t)-n),e},jO=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),kd(e,Id(t)+i),Vd(e,Nd(t)-n),e},as=[];as[Os.BOTTOM_CENTER]=UO,as[Os.BOTTOM_LEFT]=XO,as[Os.BOTTOM_RIGHT]=YO,as[Os.CENTER]=$O,as[Os.LEFT_CENTER]=KO,as[Os.RIGHT_CENTER]=ZO,as[Os.TOP_CENTER]=JO,as[Os.TOP_LEFT]=QO,as[Os.TOP_RIGHT]=jO;var D0=function(e,t,i,n,x){return as[i](e,t,n,x)},Na=function(e,t,i,n,x,S){Ad.setPosition(t,i).setSize(n,x),D0(e,Ad,S)};const kn=Phaser.Utils.Objects.GetValue,qO=Phaser.GameObjects.Group,_O=Phaser.GameObjects.Container;var tD=function(e,t){var i=e.scene,n,x,S,M,b;if(typeof t=="number")n=t;else{n=kn(t,"color"),x=kn(t,"lineWidth");var D=kn(t,"name",!1);D&&(S=kn(D,"createTextCallback",eD),M=kn(D,"createTextCallbackScope",void 0),b=kn(D,"align","left-top"),typeof b=="string"&&(b=In[b]))}if(n===void 0&&(n=16777215),x===void 0&&(x=1),S&&!e.children){e.children=new qO(i),e.once("destroy",function(at,nt){at.children.destroy(!nt),at.children=void 0});var k=e.clear.bind(e);e.clear=function(){k(),e.children.clear(!1,!0)}}var W=this.getAllShownChildren([this]);F0(W,W);for(var Z,tt,_=0,st=W.length;_<st;_++){if(Z=W[_],Z.getBounds||Z.width!==void 0&&Z.height!==void 0)Gr=Wu(Z,Gr);else continue;n!=null&&e.lineStyle(x,n).strokeRectShape(Gr),Z.name&&S&&(M?tt=S.call(M,i):tt=S(i),tt&&(tt.setText(Z.name),e.children.add(tt),Na(tt,Gr.x,Gr.y,Gr.width,Gr.height,b)))}return this},eD=function(e,t,i){return e.add.text(0,0,"")},F0=function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var i=0,n=e.length;i<n;i++){var x=e[i];x instanceof _O&&(t.push(...x.list),F0(x.list,t))}return t},Gr=void 0;const bo=Phaser.Utils.Objects.GetValue;var zr=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=bo(e,"left",0),t.right=bo(e,"right",0),t.top=bo(e,"top",0),t.bottom=bo(e,"bottom",0)),t};const iD=xi.prototype.add;var Va=function(e){return iD.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this},sD={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),Va.call(this,e),this.backgroundChildren.push(e);var n=this.getSizerConfig(e);return n.padding=zr(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}},nr=function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=nr(i)):i=null);else for(i=nr(e);i&&i.name!==t;)i=nr(i);return i},rD=function(e){for(var t=nr(e);t;)e=t,t=nr(t);return e},Gn={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),nr(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),rD(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=nr(t);i;){if(i===e)return!0;i=nr(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}};const nD=Phaser.Utils.Array.Remove,aD=xi.prototype.remove,B0=Gn.getParentSizer;var Wa=function(e,t){for(var i=B0(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=B0(i);return this.isBackground(e)&&nD(this.backgroundChildren,e),aD.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const hD=Phaser.Utils.Array.Remove,oD=Gn.getParentSizer;var lD={removeFromParentSizer(){var e=oD(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(hD(this.backgroundChildren,e),Wa.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}},I0=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},uD=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},dD=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var i=e.shift(),n=null;if(i.charAt(0)==="#")i=i.substring(1),n=this.getByName(i,t);else if(e.length===0&&t){var x=this.childrenMap;if(x)for(var S=[x],M;S.length;){x=S.shift();for(var b in x)if(M=x[b],b===i){n=M;break}else M&&typeof M=="object"&&M.childrenMap&&S.push(M.childrenMap);if(n)break}}else if(i.indexOf("[")===-1)this.childrenMap&&(n=this.childrenMap[i]);else{var D=i.match(fD);if(D!=null&&this.childrenMap){var k=this.childrenMap[D[1]];k&&(n=k[D[2]])}}return e.length===0?n:n&&n.childrenMap?n.getElement(e):null}};const fD=/(\S+)\[(\d+)\]/i;var cD=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}},vD={getInnerPadding(e){return Xh(this.space,e)},setInnerPadding(e,t){return js(this.space,e,t),this},getOuterPadding(e){return Xh(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return js(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),Xh(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),js(this.getSizerConfig(e).padding,t,i),this}},Wd=function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},Ud=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},pD=function(e){var t,i,n;for(var x in this.sizerChildren)t=this.sizerChildren[x],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),n=t.resolveWidth(i),n===void 0&&(n=i),t.resolveChildrenWidth(n))},Xd=function(e){var t,i,n;for(var x in this.sizerChildren)t=this.sizerChildren[x],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(n=t.resolveWidth(i),n===void 0&&(n=i)):n=i,t.runWidthWrap(n));return this},Yd=function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},Hd=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},gD=function(e){var t,i,n;for(var x in this.sizerChildren)t=this.sizerChildren[x],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),n=t.resolveHeight(i),n===void 0&&(n=i),t.resolveChildrenHeight(n))},$d=function(e){var t,i,n;for(var x in this.sizerChildren)t=this.sizerChildren[x],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(n=t.resolveHeight(i),n===void 0&&(n=i)):n=i,t.runHeightWrap(n));return this},mD=function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;var n=e.minWidth*e.scaleX;t=Math.max(n,i)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=se(e);return t},xD=function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;var n=e.minHeight*e.scaleY;t=Math.max(n,i)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=re(e);return t},yD=function(e,t){return t},CD=function(e,t){return t},SD=function(){return 0},TD=function(){return 0},PD=function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),n=e.length,x=t;x<n;x++)i[x].getAllChildrenSizers(e);return e},ED=function(e){return e===void 0&&(e=[]),e},MD={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,n=0,x=t.length;n<x;n++)i=t[n],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}},Ua=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,n=e.length;i<n;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},wD=function(){return this.runLayout(),this},RD=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=k0.length;t<i;t++){var n=k0[t];if(n&&e instanceof n)return!1}return!0},k0=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],AD=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=G0.length;t<i;t++){var n=G0[t];if(n&&e instanceof n)return!1}return!0},G0=[Phaser.GameObjects.BitmapText],je=function(e,t,i){if(!(!e||t===void 0&&i===void 0))if(RD(e)){var n,x;t===void 0?n=e.width:n=t/e.scaleX,i===void 0?x=e.height:x=i/e.scaleY,e.resize?e.resize(n,x):e.setSize(n,x)}else{var S=AD(e);t!==void 0&&(S?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(S?e.displayHeight=i:e.scaleY=i/e.height)}},bD=function(e,t,i){if(this.ignoreLayout)return this;var n=!e;n&&this.preLayout();var x,S;n||e.runChildrenWrapFlag?(x=this.hasWidthWrap(),S=this.hasHeightWrap()):(x=!1,S=!1);var M=LD(this,t,i,x,S);M||console.error("Can't resolve size of ",this);var b=M.width,D=M.height;return je(this,b,D),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,b,D),n&&this._anchor&&this._anchor.updatePosition(),this},LD=function(e,t,i,n,x){var S=z0(e,t,n),M=OD(e,i,x);return S===void 0&&(S=z0(e,t,n)),S!==void 0&&M!==void 0?{width:S,height:M}:!1},z0=function(e,n,i){var n=e.resolveWidth(n);return n!==void 0&&i&&(e.resolveChildrenWidth(n),e.runWidthWrap(n)),n},OD=function(e,n,i){var n=e.resolveHeight(n);return n!==void 0&&i&&(e.resolveChildrenHeight(n),e.runHeightWrap(n)),n},DD=function(){},FD=function(e,t,i){return this},BD=function(e,t,i,n){je(i,e,t)};const Lo=Phaser.Utils.Objects.GetValue;class Kd extends xe{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,n;t.x!==void 0?(i=null,n=t.x):t.left!==void 0?(i=0,n=t.left):t.right!==void 0?(i=1,n=t.right):t.centerX!==void 0&&(i=.5,n=t.centerX);var x,S;t.y!==void 0?(x=null,S=t.y):t.top!==void 0?(x=0,S=t.top):t.bottom!==void 0?(x=1,S=t.bottom):t.centerY!==void 0&&(x=.5,S=t.centerY);var M,b;n!==void 0&&(n=n.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),M=parseFloat(n[0])/100,b=n[1]===""?0:parseFloat(n[1]));var D,k;S!==void 0&&(S=S.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),D=parseFloat(S[0])/100,k=S[1]===""?0:parseFloat(S[1]));var W=t.width,Z,tt;W!==void 0&&(W=W.split("%"),Z=parseFloat(W[0])/100,tt=W[1]===""?0:parseFloat(W[1]));var _=t.height,st,at;_!==void 0&&(_=_.split("%"),st=parseFloat(_[0])/100,at=_[1]===""?0:parseFloat(_[1])),this.setAlign(i,x),this.setPercentage(M,D),this.setOffset(b,k),this.setSizePercentage(Z,st),this.setSizePadding(tt,at);var nt=Lo(t,"onResizeCallback",BD),ut=Lo(t,"onResizeCallbackScope");this.setResizeCallback(nt,ut);var ct=Lo(t,"onUpdateViewportCallback"),dt=Lo(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(ct,dt),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,n=this.anchorWidth,x=this.anchorHeight;if(!(n===void 0&&x===void 0||!t)){var S=this.parent;n===void 0&&(n=S.width),x===void 0&&(x=S.height),i?t.call(i,n,x,S,this):t(n,x,S,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=Sn(this.scene,t,this.viewport);var i=this.viewport,n=this.onUpdateViewportCallback,x=this.onUpdateViewportCallbackScope;n&&(x?n.call(x,i,this.parent,this):n(i,this.parent,this))}}var ID=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),n=e.hasOwnProperty("onResizeCallback");return(t||i)&&!n&&(e.onResizeCallback=function(x,S,M){t&&M.setMinWidth(x),i&&M.setMinHeight(S),M.layout()}),this._anchor===void 0?this._anchor=new Kd(this,e):this._anchor.resetFromJSON(e),this};const kD=Phaser.Utils.Objects.GetValue,zn=Phaser.Utils.Objects.GetAdvancedValue,N0=Phaser.Math.Linear;class Xa extends Lr{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(kD(t,"mode",0)),this.setScaleRange(zn(t,"start",void 0),zn(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=GD[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=zn(t,"x",this.parent.scaleX),this.startY=zn(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=zn(i,"x",void 0),this.endY=zn(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n),this.hasScaleX&&(t.scaleX=N0(this.startX,this.endX,n)),this.hasScaleY&&(t.scaleY=N0(this.startY,this.endY,n))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const GD={stop:0,destroy:1,yoyo:2};var Zd=function(e,t,i,n,x){n===void 0&&(n="Cubic");var S,M;switch(i){case 0:case"x":S={x:0},M={x:e.scaleX};break;case 1:case"y":S={y:0},M={y:e.scaleY};break;default:S=0,M=e.scale;break}var b={mode:0,start:S,end:M,duration:t,ease:n};return x===void 0?x=new Xa(e,b):x.resetFromJSON(b),x.restart(),x},V0=function(e,t,i,n,x,S){n===void 0&&(n="Linear"),x instanceof Xa&&(S=x,x=void 0),x===void 0&&(x=!0);var M={};switch(M.mode=x?1:0,i){case 0:case"x":M.end={x:0};break;case 1:case"y":M.end={y:0};break;default:M.end=0;break}return M.duration=t,M.ease=n,S===void 0?S=new Xa(e,M):S.resetFromJSON(M),S.restart(),S},zD=function(e,t,i,n,x,S,M){i===void 0&&(i=1.2),n===void 0&&(n=0),S===void 0&&(S="Cubic");var b,D;switch(x){case 0:case"x":b={x:e.scaleX},D={x:i};break;case 1:case"y":b={y:e.scaleX},D={y:i};break;default:b=e.scaleX,D=i;break}var k={mode:2,start:b,end:D,duration:t/2,ease:S,repeat:n};return M===void 0?M=new Xa(e,k):M.resetFromJSON(k),M.restart(),M};const Jd=Phaser.Utils.Objects.IsPlainObject;var W0={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,i){if(Jd(e)){var n=e;e=n.duration,t=n.orientation,i=n.ease}var x=this._scaleBehavior===void 0;return this._scaleBehavior=Zd(this,e,t,i,this._scaleBehavior),x&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),Ke(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,i,n){if(Jd(e)){var x=e;e=x.duration,t=x.orientation,i=x.ease,n=x.destroy}var S=this._scaleBehavior===void 0;return this._scaleBehavior=V0(this,e,t,i,n,this._scaleBehavior),S&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,n){return this.scaleDownDestroy(e,t,i,n),Ke(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),Ke(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,i,n,x){if(Jd(e)){var S=e;e=S.duration,t=S.peakValue,i=S.repeat,n=S.orientation,x=S.ease}var M=this._scaleBehavior===void 0;return this._scaleBehavior=zD(this,e,t,i,n,x,this._scaleBehavior),M&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,n,x){return this.scaleYoyo(e,t,i,n,x),Ke(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}},Ds={};Object.assign(Ds,W0),Ds.onInitScale=function(){W0.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var i=Gn.getParentSizer(e);i&&i.resetChildPositionState(e)})};const ND=Phaser.Utils.Objects.GetValue,U0=Phaser.Utils.Objects.GetAdvancedValue,VD=Phaser.Math.Linear;let Qd=class extends Lr{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(ND(t,"mode",0)),this.setAlphaRange(U0(t,"start",this.parent.alpha),U0(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=WD[t]),this.mode=t,this}setAlphaRange(t,i){return this.alphaStart=t,this.alphaEnd=i,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),t.alpha=VD(this.alphaStart,this.alphaEnd,n)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const WD={stop:0,destroy:1,yoyo:2},UD=Phaser.Utils.Objects.IsPlainObject;var Oo=function(e,t,i,n){var x,S;UD(i)?(x=i.start,S=i.end):S=i,x===void 0&&(x=0),S===void 0&&(S=1);var M={mode:0,start:x,end:S,duration:t};return n===void 0?n=new Qd(e,M):n.resetFromJSON(M),n.restart(),n},Do=function(e,t,i,n){i instanceof Qd&&(n=i,i=void 0),i===void 0&&(i=!0);var x={mode:i?1:0,end:0,duration:t};return n===void 0?n=new Qd(e,x):n.resetFromJSON(x),n.restart(),n};const X0=Phaser.Utils.Objects.IsPlainObject;var Y0={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(X0(e)){var i=e;e=i.duration,t=i.alpha}var n=this._fade===void 0;return this._fade=Oo(this,e,t,this._fade),n&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),Ke(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(X0(e)){var i=e;e=i.duration,t=i.destroy}var n=this._fade===void 0;return this._fade=Do(this,e,t,this._fade),n&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),Ke(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),Ke(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}},Ya={};Object.assign(Ya,Y0),Ya.onInitFade=function(){Y0.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var i=Gn.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const XD=Phaser.Utils.Objects.GetValue,Nn=Phaser.Utils.Objects.GetAdvancedValue,H0=Phaser.Math.Linear;class Fo extends Lr{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(XD(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=Nn(t,"x",void 0),n=Nn(t,"y",void 0);this.setTargetPosition(i,n)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=YD[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var n=t;this.startX=Nn(n,"startX",void 0),this.startY=Nn(n,"startY",void 0),this.endX=Nn(n,"endX",void 0),this.endY=Nn(n,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n),this.hasMoveX&&(t.x=H0(this.startX,this.endX,n)),this.hasMoveY&&(t.y=H0(this.startY,this.endY,n))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const YD={stop:0,destroy:1,yoyo:2};var Bo=function(e,t){if(typeof e=="number")return e;var i=e[0],n=parseFloat(e.substr(2));switch(i){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n}},$0=function(e,t,i,n,x,S,M){S instanceof Fo&&(M=S,S=void 0),S===void 0&&(S=!1);var b={};return b.mode=S?1:0,i!==void 0&&(b.startX=e.x,b.endX=Bo(i,e.x)),n!==void 0&&(b.startY=e.y,b.endY=Bo(n,e.y)),b.duration=t,b.ease=x===void 0?"Linear":x,M===void 0?M=new Fo(e,b):M.resetFromJSON(b),M.restart(),M},K0=function(e,t,i,n,x,S,M){S instanceof Fo&&(M=S,S=void 0),S===void 0&&(S=!1);var b={};return b.mode=S?1:0,i!==void 0&&(b.startX=Bo(i,e.x),b.endX=e.x),n!==void 0&&(b.startY=Bo(n,e.y),b.endY=e.y),b.duration=t,b.ease=x===void 0?"Linear":x,M===void 0?M=new Fo(e,b):M.resetFromJSON(b),M.restart(),M};const Z0=Phaser.Utils.Objects.IsPlainObject,J0=Phaser.Math.Distance.Between;var Q0={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,i,n,x){if(Z0(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=J0(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,n=S.ease}var M=this._easeMove===void 0;return this._easeMove=K0(this,e,t,i,n,x,this._easeMove),M&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,n,x){return this.moveFrom(e,t,i,n,x),Ke(this._easeMove)},moveFromDestroy(e,t,i,n){return this.moveFrom(e,t,i,n,!0),this},moveFromDestroyPromise(e,t,i,n){return this.moveFromDestroy(e,t,i,n),Ke(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,i,n,x){if(Z0(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=J0(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,n=S.ease}var M=this._easeMove===void 0;return this._easeMove=$0(this,e,t,i,n,x,this._easeMove),M&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,i,n,x){return this.moveTo(e,t,i,n,x),Ke(this._easeMove)},moveToDestroy(e,t,i,n){return this.moveTo(e,t,i,n,!0),this},moveToDestroyPromise(e,t,i,n){return this.moveToDestroy(e,t,i,n,!0),Ke(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}},Io={};Object.assign(Io,Q0),Io.onInitEaseMove=function(){Q0.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var i=Gn.getParentSizer(e);i&&i.resetChildPositionState(e)})};const Li=Phaser.Utils.Objects.GetValue;class jd extends _h{constructor(t,i){super(t,i),this.timer=new Vp,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Li(t,"timer")),this.setEnable(Li(t,"enable",!0)),this.setMode(Li(t,"mode",1)),this.isRunning=Li(t,"isRunning",!1),this.setMagnitudeMode(Li(t,"magnitudeMode",1)),this.setAxisMode(Li(t,"axis",0)),this.setDuration(Li(t,"duration",500)),this.setMagnitude(Li(t,"magnitude",10)),this.ox=Li(t,"ox",void 0),this.oy=Li(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=HD[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=KD[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=$D[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var n=t;i=Li(n,"magnitude",void 0),t=Li(n,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var n=this.parent;if(!n.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=n.x,this.oy=n.y);var x=this.magnitude;this.magnitudeMode===1&&(x*=1-this.timer.t);var S=Math.random()*Math.PI*2,M=this.ox+Math.cos(S)*x,b=this.oy+Math.sin(S)*x;switch(this.axisMode){case 1:n.x=M;break;case 2:n.y=b;break;default:n.x=M,n.y=b;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const HD={effect:0,behavior:1},$D={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},KD={constant:0,decay:1},ZD=Phaser.Utils.Objects.IsPlainObject;var JD=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})},QD={shake(e,t,i){if(ZD(e)){var n=e;e=n.duration,t=n.magnitude,i=n.magnitudeMode}return this._shake===void 0&&(this._shake=new jd(this,{mode:0,magnitudeMode:1}),JD(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),Ke(this._shake)}};const j0=Phaser.Utils.Objects.IsPlainObject;class jD extends xe{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new Xi(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,n,x){if(j0(t)){var S=t;t=S.key,i=S.value,n=S.duration,x=S.ease;var M=S.speed;n===void 0&&M!==void 0&&(n=Math.abs(i-this.parent.data.values[t])/M*1e3)}n===void 0&&(n=1e3),x===void 0&&(x="Linear");var b=this.getEaseTask(t);return b.restart({key:t,to:i,duration:n,ease:x}),this}easeFrom(t,i,n,x){if(j0(t)){var S=t;t=S.key,i=S.value,n=S.duration,x=S.ease;var M=S.speed;n===void 0&&M!==void 0&&(n=Math.abs(i-this.parent.data.values[t])/M*1e3)}n===void 0&&(n=1e3),x===void 0&&(x="Linear");var b=this.getEaseTask(t);return b.restart({key:t,from:i,duration:n,ease:x}),this}stopEase(t,i){i===void 0&&(i=!0);var n=this.easeTasks[t];return n&&n.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}}var qD=function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})},_D={easeDataTo(e,t,i,n){return this._easeData||(this._easeData=new jD(this),qD(this,this._easeData)),this._easeData.easeTo(e,t,i,n),this},easeDataToPromise(e,t,i,n){return this.easeDataTo(e,t,i,n),ao(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}},tF=Phaser.Utils.Array.Remove,eF=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,i=0,n=t.length;i<n;i++)t[i].remove();e._delayCallTimers=void 0})},q0={delayCall(e,t,i){var n=this._delayCallTimers;n===void 0&&eF(this);var x,S=this,M=function(){tF(S._delayCallTimers,x),i?t.call(i):t()};return x=this.scene.time.delayedCall(e,M),this._delayCallTimers.push(x),this}},ar=function(e){_0(e,!1)},hr=function(e){_0(e,!0)},qd=function(e){if(!e)return!1;var t=Ao(e);return!t.hidden},_0=function(e,t){if(e){var i=Ao(e);i.hidden=t;var n=mi(e);n?n.setChildVisible(e,!t):e.setVisible(!t)}},iF={show(e){return e===void 0&&(e=this),ar(e),this},hide(e){return e===void 0&&(e=this),hr(e),this},isShow(e){return e===void 0&&(e=this),qd(e)}};const sF=["next","exit","enter"];let tm=class{constructor(t){var i=kt(t,"states",void 0);i&&this.addStates(i);var n=kt(t,"extend",void 0);if(n)for(var x in n)(!this.hasOwnProperty(x)||this[x]===void 0)&&(this[x]=n[x]);var S=kt(t,"eventEmitter",void 0),M=kt(t,"EventEmitterClass",void 0);this.setEventEmitter(S,M),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(kt(t,"enable",!0)),this.start(kt(t,"start",void 0));var i=kt(t,"init",void 0);return i&&i.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var i="exit_"+this._prevState,n=this[i];n&&n.call(this),this.emit(i,this)}if(this._stateLock=!1,this._state!=null){var x="enter_"+this._state,S=this[x];S&&S.call(this),this.emit(x,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,i=this["next_"+this.state];return i&&(typeof i=="string"?t=i:t=i.call(this)),this.goto(t),this}get stateProperties(){return sF}addState(t,i){typeof t!="string"&&(i=t,t=i.name);for(var n=this.stateProperties,x=0,S=n.length;x<S;x++){var M=n[x],b=i[M];b&&(this[`${M}_${t}`]=b)}return this}addStates(t){if(Array.isArray(t))for(var i=0,n=t.length;i<n;i++)this.addState(t[i]);else for(var x in t)this.addState(x,t[x]);return this}runMethod(t,i,n,x,S,M){var b=this[t+"_"+this.state];if(b){var D=arguments.length;switch(D){case 1:return b.call(this);case 2:return b.call(this,i);case 3:return b.call(this,i,n);case 4:return b.call(this,i,n,x);case 5:return b.call(this,i,n,x,S);case 6:return b.call(this,i,n,x,S,M)}for(var k=new Array(D-1),W=1;W<D;W++)k[W-1]=arguments[W];return b.apply(this,k)}}};Object.assign(tm.prototype,rg);var _d=function(e,t,i,n,x){x===void 0&&(x=!1);var S=e._events[t];if(!S)return!1;for(var M=0,b=S.length;M<b;M++){var D=S[M];if(D.fn===i&&D.context===n&&D.once===x)return!0}return!1};const rF=["next","exit","enter","update","preupdate","postupdate"];class Fs extends tm{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=kt(t,"scene",void 0),this}get stateProperties(){return rF}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return _d(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return _d(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return _d(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let nF=class extends Fs{constructor(t,i){super(i),this.parent=t;var n=i.initState||"IDLE";this.start(n)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var i=t.runTransitionInCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var i=t.runTransitionOutCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var aF=function(e,t,i,n,x){var S=Pn(e),M=S.time.delayedCall(t,function(){S.game.events.once("poststep",function(){i.call(n,x)})});return M},hF={delayCall(e,t,i){return this.delayCallTimer=aF(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},oF={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=a),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=a),this.transitOutCallback=e,this}},lF={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},uF={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}},em={};Object.assign(em,hF,oF,lF,uF);const Vn=Phaser.Utils.Objects.GetValue;class ko extends xe{constructor(t,i){super(t,i),this.setTransitInTime(Vn(i,"duration.in",200)),this.setTransitOutTime(Vn(i,"duration.out",200)),this.setTransitInCallback(Vn(i,"transitIn")),this.setTransitOutCallback(Vn(i,"transitOut")),this.oneShotMode=Vn(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new nF(this,{eventEmitter:!1,initState:Vn(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(ko.prototype,em);const dF=Phaser.GameObjects.Rectangle;class tf extends dF{constructor(t,i,n){super(t,0,0,2,2,i,1),this.fullWindow=new Bg(this),this.setAlpha(n)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const ef=Phaser.Utils.Objects.GetValue;class Go extends xe{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(ef(t,"hitAreaMode",0)),this.setEnable(ef(t,"enable",!0)),this.setStopMode(ef(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,n,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointerup",function(t,i,n,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointermove",function(t,i,n,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointerover",function(t,i,n,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=fF[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var fF={default:0,fullWindow:1};const im=Phaser.Utils.Objects.GetValue;class sf extends tf{constructor(t,i){var n=im(i,"color",0),x=im(i,"alpha",.8);super(t,n,x),this.touchEventStop=new Go(this,{hitAreaMode:1})}}var cF=function(e,t){var i=e.scene,n=new sf(i,t);return i.add.existing(n),e.isRexContainerLite?(e.pin(n,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(n)):i.children.moveBelow(n,e),n},zo={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,Zd(e,t)},scaleDown(e,t){V0(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Oo(e,t)},fadeOut(e,t){Do(e,t,!1)}},vF=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Oo(e,t,e.alpha)},pF=function(e,t){Do(e,t,!1)},No=function(e,t,i,n,x){if(!e||n&&!n(e,t,i))return!1;var S=Wu(e,!0);return!(!S.contains(t,i)||x&&!x(e,t,i))};const hs=Phaser.Utils.Objects.GetValue;let gF=class extends ko{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=or.popUp),i.transitOut==null&&(i.transitOut=or.scaleDown),i.destroy=hs(i,"destroy",!0),super(t,i);var n=hs(i,"cover");this.cover=n!==!1?cF(t,n):void 0,this.cover&&(this.setCoverTransitInCallback(hs(n,"transitIn",vF)),this.setCoverTransitOutCallback(hs(n,"transitOut",pF)));var x=hs(i,"touchOutsideClose",!1),S=hs(i,"duration.hold",-1),M=hs(i,"timeOutClose",S>=0),b=hs(i,"anyTouchClose",!1),D=hs(i,"manualClose",!1);D&&(x=!1,b=!1,M=!1),b&&(x=!1),M?this.setDisplayTime(S):this.setDisplayTime(-1),b?this.once("open",this.anyTouchClose,this):x&&this.once("open",this.touchOutsideClose,this),hs(i,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&No(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),i=this.cover;return i&&this.coverTransitInCallback&&this.coverTransitInCallback(i,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),i=this.cover;return i&&this.coverTransitOutCallback&&this.coverTransitOutCallback(i,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=or[t]),t){case or.popUp:t=zo.popUp;break;case or.fadeIn:t=zo.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=or[t]),t){case or.scaleDown:t=zo.scaleDown;break;case or.fadeOut:t=zo.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const or={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var rf=function(e,t){var i=new gF(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(n){e.emit("modal.close",n,i)}),e.on("modal.requestClose",i.requestClose,i),i},mF=function(e,t){var i=rf(e,t);return new Promise(function(n,x){i.once("close",function(S){n(S)})})},sm=function(e,t){e.emit("modal.requestClose",t)},Hi=function(e){return e&&typeof e=="function"},Vo={modal(e,t){return Hi(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=rf(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,n){t.modal(e,i)})},modalClose(e){return sm(this,e),this}},xF=function(e,t,i,n,x,S){return S===void 0&&(S=!1),t[S?"once":"on"](i,n,x),e.once("destroy",function(){t.off(i,n,x)}),e},Bs=function(e,t,i,n,x){Hi(t)&&(x=n,n=i,i=t,t=this);var S=this.scene.events;return this.bindEvent(t,S,e,i,n,x),this},yF={bindEvent(e,t,i,n,x,S){return typeof t=="string"&&(S=x,x=n,n=i,i=t,t=e,e=this),xF(e,t,i,n,x,S),this},bindScenePreupdateEvent(e,t,i,n){return Bs.call(this,"preupdate",e,t,i,n),this},bindSceneUpdateEvent(e,t,i,n){return Bs.call(this,"update",e,t,i,n),this},bindScenePostupdateEvent(e,t,i,n){return Bs.call(this,"postupdate",e,t,i,n),this},bindSceneRenderEvent(e,t,i,n){return Bs.call(this,"render",e,t,i,n),this},bindScenePauseEvent(e,t,i,n){return Bs.call(this,"pause",e,t,i,n),this},bindSceneResumeEvent(e,t,i,n){return Bs.call(this,"resume",e,t,i,n),this},bindSceneSleepEvent(e,t,i,n){return Bs.call(this,"sleep",e,t,i,n),this},bindSceneWakeEvent(e,t,i,n){return Bs.call(this,"wake",e,t,i,n),this},bindSceneShutdownEvent(e,t,i,n){return Bs.call(this,"shutdown",e,t,i,n),this}},Wo=function(e,t,i){var n=e.camera;return n?(i===void 0?i={}:i===!0&&(i=CF),n===t?(i.x=e.worldX,i.y=e.worldY):n.getWorldPoint(e.x,e.y,i),i):null},CF={},SF=function(e,t,i,n,x){var S=e.scene.sys.cameras.main,M,b=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return b?i(e,t.x,t.y,n,x):(M=Wo(t,S,!0),M?i(e,M.x,M.y,n,x):!1);for(var D=e.scene.input.manager,k=D.pointersTotal,W=D.pointers,Z=0;Z<k;Z++)if(t=W[Z],b){if(i(e,t.x,t.y,n,x))return!0}else{if(M=Wo(t,S,!0),!M)continue;if(i(e,M.x,M.y,n,x))return!0}return!1},os=function(e,t,i,n){return SF(e,t,No,i,n)},TF=function(e,t){return(fi(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),os(t,e)},$i=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Nr=function(e,t,i,n,x){return No(e,t,i,PF(n),x)},rm=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},PF=function(e){return e?function(t,i,n){return rm(t)?(e(t,i,n),!0):!1}:rm},nm=function(e,t,i,n,x){if(Hi(i)||(x=i,i=void 0,n=void 0),x===void 0&&(this.sizerChildren?x=this.sizerChildren:this.isRexContainerLite?x=this.children:x=this.list),$i(x)){for(var S,M=0,b=x.length;M<b;M++)if(S=x[M],Nr(S,e,t,i,n))return S}else{var S;for(var D in x)if(S=x[D],Nr(S,e,t,i,n))return S}return null},EF=function(e,t){return t===void 0?t={}:t===!0&&(t=MF),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},MF={},Ha=function(e){this.sizerEventsEnable&&(EF(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},$a=function(e,t,i,n,x,S,M,b){M===void 0&&(M=0),b===void 0&&(b=0),Na(e,t,i,n,x,S),e.x+=M,e.y+=b,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const wF=Phaser.Display.Align.CENTER;var RF=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,n=this.width*this.scaleX,x=this.height*this.scaleY,S,M,b,D,k,W,Z,tt=0,_=e.length;tt<_;tt++)S=e[tt],M=S.rexSizer,!M.hidden&&(b=M.padding,Ha.call(this,S),D=t+b.left*this.scaleX,k=i+b.top*this.scaleY,W=n-(b.left+b.right)*this.scaleX,Z=x-(b.top+b.bottom)*this.scaleY,je(S,W,Z),$a.call(this,S,D,k,W,Z,wF,0,0))};const AF=Phaser.Utils.Objects.IsPlainObject;var bF=function(e,t,i){if(AF(e)){var n=e;e=n.sensor,i=n.target,t=n.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var x=typeof e;if(x==="string"){var S=e;if(e=this.getElement(S),!e)return console.error(`Can get element '${S}'`),this}else(e===void 0||x!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(M,b,D){var k=i===void 0?this.getTopmostSizer():i;k.x+=b-e.x,k.y+=D-e.y,k.emit("sizer.drag",M,b,D)},this).on("dragstart",function(M,b,D){var k=i===void 0?this.getTopmostSizer():i;k.emit("sizer.dragstart",M,b,D)},this).on("dragend",function(M,b,D,k){var W=i===void 0?this.getTopmostSizer():i;W.emit("sizer.dragend",M,b,D,k)},this).on("drop",function(M,b){var D=i===void 0?this.getTopmostSizer():i;D.emit("sizer.drop",M,b)}),e.input._rexUIDragSizer=!0),this},nf={onClick(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new Ls(e,n)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}};const Ka=Phaser.Utils.Objects.GetValue;class af extends xe{constructor(t,i){super(t,i),this._enable=void 0;var n=Ka(i,"inputConfig",void 0);n&&t.setInteractive(n),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Ka(t,"enable",!0)),this.setMode(Ka(t,"mode",1)),this.setClickInterval(Ka(t,"clickInterval",100)),this.setDragThreshold(Ka(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=LF[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,n=i.input?Qu:os;return n(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,n,x){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var n=this.lastClickTime;return n!==void 0&&t-n<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}}const LF={press:0,pointerdown:0,release:1,pointerup:1};var OF={onClickOutside(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new af(e,n)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class DF extends Fs{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const hf=Phaser.Utils.Objects.GetValue;class Wn extends xe{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new DF,this.parent.setInteractive(hf(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(hf(t,"enable",!0)),this.setCooldown(hf(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,n){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}var FF={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?os(e):!1},onTouching(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Wn(e,n)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Wn(e,n)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},BF={onOver(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerover",t,i),this):this},onOut(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerout",t,i),this):this}},am=function(e,t,i,n){if(e==="parent"){for(var x,S=0,M=t.length;S<M;S++)if(x=t[S],!!Nr(x,i,n))return x.pointToChild?x.pointToChild(i,n):nm.call(x,i,n)}else for(var S=0,M=t.length;S<M;S++){var b=t[S];if(Nr(b,i,n))return b}return null},Oi=function(e,t,i,n,x,S,M,b){var D;if(S===void 0)D=x;else{var k=i[0];if(!k)return;var W=M.camera,Z=x+W.scrollX*(k.scrollFactorX-1),tt=S+W.scrollY*(k.scrollFactorY-1);D=am(n,i,Z,tt)}D&&e.emit(t,D,M,b)};const IF=Phaser.Utils.Objects.GetValue;var kF=function(e){var t=IF(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",GF,this))},GF=function(e,t,i,n){var x=this._childrenInteractive;Oi(x.eventEmitter,`${x.eventNamePrefix}down`,x.targetSizers,x.targetMode,e.worldX,e.worldY,e,n)};const zF=Phaser.Utils.Objects.GetValue;var NF=function(e){var t=zF(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",VF,this))},VF=function(e,t,i,n){var x=this._childrenInteractive;Oi(x.eventEmitter,`${x.eventNamePrefix}up`,x.targetSizers,x.targetMode,e.worldX,e.worldY,e,n)};const WF=Phaser.Utils.Objects.GetValue;var UF=function(e){var t=WF(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",hm,this).on("pointerover",hm,this).on("pointerout",XF,this))},hm=function(e,t,i,n){var x=this._childrenInteractive,S=x.targetSizers[0];if(S){var M=e.camera,b=e.worldX+M.scrollX*(S.scrollFactorX-1),D=e.worldY+M.scrollY*(S.scrollFactorY-1),k=am(x.targetMode,x.targetSizers,b,D),W=x.lastOverChild;k&&W&&k===W||(x.lastOverChild=k,Oi(x.eventEmitter,`${x.eventNamePrefix}out`,x.targetSizers,x.targetMode,W,void 0,e,n),Oi(x.eventEmitter,`${x.eventNamePrefix}over`,x.targetSizers,x.targetMode,k,void 0,e,n))}},XF=function(e,t){var i=this._childrenInteractive,n=i.lastOverChild;i.lastOverChild=null,Oi(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,n,void 0,e,t)};const YF=Phaser.Utils.Objects.GetValue;var HF=function(e){var t=YF(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new Ls(this,t),this._click.on("click",function(n,x,S,M){Oi(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,S.worldX,S.worldY,S,M)},this)}};const of=Phaser.Utils.Objects.GetValue;class Uo extends _h{constructor(t,i){var n=Pn(t);n===t&&(t=void 0),super(n,i),this.gameObject=t,t&&t.setInteractive(of(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(of(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(of(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=lf,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;n&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=om,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=lf,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,n=this.pointer===t;!n&&i||(n&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===om&&this.onDragEnd(),this.pointer=void 0,this.tracerState=lf,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=$F,this}isPointerInGameObject(t,i,n){var x=this.lastPointer;return x?os(t,x,i,n):!1}}const lf=0,om=1,$F="IDLE",Vr=Phaser.Utils.Objects.GetValue,KF=Phaser.Math.Distance.Between;class Xo extends Uo{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{enter:function(){n.stop(),n.tapsCount=0,n.x=0,n.y=0,n.worldX=0,n.worldY=0,n.lastPointer=void 0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.start(),n.tapsCount=0,n.emit("tappingstart",n,n.gameObject,n.lastPointer)}},RECOGNIZED:{enter:function(){n.start(),n.emit("tap",n,n.gameObject,n.lastPointer),n.emit(`${n.tapsCount}tap`,n,n.gameObject,n.lastPointer)}}},init:function(){this.state=Wr},eventEmitter:!1};this.setRecongizedStateObject(new Fs(x))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Vr(t,"time",250)),this.setTapInterval(Vr(t,"tapInterval",200)),this.setDragThreshold(Vr(t,"threshold",9)),this.setTapOffset(Vr(t,"tapOffset",10));var i=Vr(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(Vr(t,"maxTaps",void 0)),this.setMinTaps(Vr(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case Wr:this.state=Un;break;case Un:var t=this.lastPointer,i=KF(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=Xn,this.state=Un);break;case Xn:this.state=Un;break}}onDragEnd(){this.state===Un&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=Xn))}onDrag(){this.state!==Wr&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Wr)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===Un){var n=this.lastPointer;if(n.isDown){var x=t-n.downTime;x>this.holdTime&&(this.state=Wr)}else{var S=t-n.upTime;S>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=Xn:this.state=Wr)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===Xn&&(this.state=Wr)}get isTapping(){return this.state===Xn}get isTapped(){return this.isTapping}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}}const Wr="IDLE",Un="BEGIN",Xn="RECOGNIZED",lm=Phaser.Utils.Objects.GetValue;class Yo extends Uo{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{enter:function(){n.x=0,n.y=0,n.worldX=0,n.worldY=0,n.lastPointer=void 0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.start()},exit:function(){n.stop()}},RECOGNIZED:{enter:function(){n.emit("pressstart",n,n.gameObject,n.lastPointer)},exit:function(){n.emit("pressend",n,n.gameObject,n.lastPointer)}}},init:function(){this.state=Ho},eventEmitter:!1};this.setRecongizedStateObject(new Fs(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(lm(t,"threshold",9)),this.setHoldTime(lm(t,"time",251)),this}onDragStart(){this.state=um,this.holdTime===0&&(this.state=uf)}onDragEnd(){this.state=Ho}onDrag(){this.state!==Ho&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Ho)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===um){var n=t-this.pointer.downTime;n>=this.holdTime&&(this.state=uf)}}get isPressing(){return this.state===uf}get isPressed(){return this.isPressing}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const Ho="IDLE",um="BEGIN",uf="RECOGNIZED",ZF=Phaser.Utils.Objects.GetValue;class dm extends Uo{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{},BEGIN:{enter:function(){var S=n.pointer;n.startX=S.x,n.startY=S.y,n.startWorldX=S.worldX,n.startWorldY=S.worldY}},RECOGNIZED:{enter:function(){n.emit("panstart",n,n.gameObject,n.lastPointer)},exit:function(){var S=n.lastPointer;n.endX=S.x,n.endY=S.y;var M=Wo(S,n.pointerCamera,!0);n.endWorldX=M.x,n.endWorldY=M.y,n.emit("panend",n,n.gameObject,n.lastPointer)}}},init:function(){this.state=fm},eventEmitter:!1};this.setRecongizedStateObject(new Fs(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(ZF(t,"threshold",10)),this}onDragStart(){this.state=cm,this.dragThreshold===0&&(this.state=$o)}onDragEnd(){this.state=fm}onDrag(){switch(this.state){case cm:if(this.pointer.getDistance()>=this.dragThreshold){this.state=$o,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var x=this.pointer;this.x=x.x,this.y=x.y,this.worldX=x.worldX,this.worldY=x.worldY}break;case $o:var t=this.pointerCamera,i=this.pointer.position,n=this.pointer.prevPosition;this.dx=i.x-n.x,this.dy=i.y-n.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var x=this.pointer;this.x=x.x,this.y=x.y;var S=Wo(x,t,!0);this.worldX=S.x,this.worldY=S.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanning(){return this.state===$o}get isPanned(){return this.isPanning}setDragThreshold(t){return this.dragThreshold=t,this}}const fm="IDLE",cm="BEGIN",$o="RECOGNIZED",JF=Phaser.Math.Distance.Between,QF=Phaser.Math.Angle.Between;var jF={getDt:function(){var e=sd(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=JF(t.x,t.y,e.x,e.y),n=i/(this.getDt()*.001);return n},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),n=i/(this.getDt()*.001);return n},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),n=i/(this.getDt()*.001);return n},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=QF(t.x,t.y,e.x,e.y);return i}},qF={"up&down":0,"left&right":1,"4dir":2,"8dir":3},_F=function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=t3),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},t3={};const df=Phaser.Utils.Objects.GetValue,e3=Phaser.Math.RadToDeg;class Za extends Uo{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{enter:function(){n.x=0,n.y=0,n.worldX=0,n.worldY=0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.validDrag=!1}},RECOGNIZED:{enter:function(){n.start(),n.updateDirectionStates(),n.emit("swipe",n,n.gameObject,n.lastPointer)},exit:function(){n.stop(),n.clearDirectionStates()}}},init:function(){this.state=ff},eventEmitter:!1};this.setRecongizedStateObject(new Fs(x)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(df(t,"threshold",10)),this.setVelocityThreshold(df(t,"velocityThreshold",1e3)),this.setDirectionMode(df(t,"dir","8dir")),this}onDragStart(){this.state=vm}onDragEnd(){this.state=ff}onDrag(){this.state===vm&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=cf))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===cf&&(this.state=ff)}get isSwiping(){return this.state===cf}get isSwiped(){return this.isSwiping}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=qF[t]),this.dirMode=t,this}updateDirectionStates(){var t=e3(this.getVelocityAngle());return _F(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(Za.prototype,jF);const ff="IDLE",vm="BEGIN",cf="RECOGNIZED",Ko=Phaser.Utils.Objects.GetValue,i3=Phaser.Utils.Array.SpliceOne,s3=Phaser.Math.Distance.Between,r3=Phaser.Math.Angle.Between;class vf{constructor(t,i){var n=Pn(t);n===t&&(t=void 0);var x=n.input.manager.pointersTotal-1;x<2&&n.input.addPointer(2-x),this.scene=n,this.gameObject=t,t&&t.setInteractive(Ko(i,"inputConfig",void 0)),this.setEventEmitter(Ko(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(Ko(t,"enable",!0)),this.bounds=Ko(t,"bounds",void 0),this.tracerState=Zo,this.pointers.length=0,ve(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,ve(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var n=this.pointers.indexOf(t);if(n===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case Zo:this.tracerState=Qa,this.onDrag1Start();break;case Qa:this.tracerState=ls,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var n=this.pointers.indexOf(t);if(n!==-1)switch(delete this.movedState[t.id],i3(this.pointers,n),this.tracerState){case Qa:this.tracerState=Zo,this.onDrag1End();break;case ls:this.tracerState=Qa,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,n=this.pointers.indexOf(t)!==-1;if(!(!n&&i)){if(n&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case Qa:this.onDrag1();break;case ls:this.onDrag2();break}}}}dragCancel(){return this.tracerState===ls&&this.onDrag2End(),this.pointers.length=0,ve(this.movedState),this.tracerState=Zo,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==ls)return 0;var t=this.pointers[0],i=this.pointers[1];return s3(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==ls)return 0;var t=this.pointers[0],i=this.pointers[1];return r3(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,n=t.prevPosition;Ja.x=i.x-n.x,Ja.y=i.y-n.y}else Ja.x=0,Ja.y=0;return Ja}get centerX(){if(this.tracerState!==ls)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==ls)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==ls)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==ls)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=n3,this}isPointer0InGameObject(t,i,n){var x=this.pointers[0];return x?os(t,x,i,n):!1}isPointer1InGameObject(t,i,n){var x=this.pointers[1];return x?os(t,x,i,n):!1}}Object.assign(vf.prototype,ua);var Ja={};const Zo=0,Qa=1,ls=2,n3="IDLE",a3=Phaser.Utils.Objects.GetValue;class pm extends vf{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{enter:function(){n.prevDistance=void 0,n.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){n.emit("pinchstart",n)},exit:function(){n.emit("pinchend",n)}}},init:function(){this.state=gm},eventEmitter:!1};this.setRecongizedStateObject(new Fs(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(a3(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=mm,this.dragThreshold===0&&(this.state=Jo)}onDrag2End(){this.state=gm}onDrag2(){switch(this.state){case mm:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=Jo}break;case Jo:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinching(){return this.state===Jo}get isPinched(){return this.isPinching}setDragThreshold(t){return this.dragThreshold=t,this}}const gm="IDLE",mm="BEGIN",Jo="RECOGNIZED",h3=Phaser.Math.RotateAround;var xm=function(e,t,i,n){return h3(e,t,i,n),e.rotation+=n,e},o3=function(e,t,i,n){return n===void 0?n={}:n===!0&&(n=l3),i.getWorldPoint(e,t,n),n},l3={},u3=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,n=this.movementCenterY,x=o3(this.centerX,this.centerY,t,!0),S=x.x,M=x.y,b=this.rotation;if(Array.isArray(e))for(var D=e,k=0,W=D.length;k<W;k++)e=D[k],e.x+=i,e.y+=n,xm(e,S,M,b);else e.x+=i,e.y+=n,xm(e,S,M,b);return this};const d3=Phaser.Utils.Objects.GetValue,pf=Phaser.Math.Angle.WrapDegrees,ym=Phaser.Math.Angle.ShortestBetween,gf=Phaser.Math.RadToDeg,f3=Phaser.Math.DegToRad;class mf extends vf{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{enter:function(){n.prevAngle=void 0,n.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){n.emit("rotatestart",n)},exit:function(){n.emit("rotateend",n)}}},init:function(){this.state=Cm},eventEmitter:!1};this.setRecongizedStateObject(new Fs(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(d3(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=pf(gf(this.angleBetween)),this.state=Sm,this.dragThreshold===0&&(this.state=Qo)}onDrag2End(){this.state=Cm}onDrag2(){switch(this.state){case Sm:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=pf(gf(this.angleBetween));this.angle=ym(this.prevAngle,t),this.prevAngle=t,this.state=Qo}break;case Qo:var t=pf(gf(this.angleBetween));this.angle=ym(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotating(){return this.state===Qo}get isRotated(){return this.isRotating}get rotation(){return f3(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var c3={spinObject:u3};Object.assign(mf.prototype,c3);const Cm="IDLE",Sm="BEGIN",Qo="RECOGNIZED",v3=Phaser.Utils.Objects.GetValue;var p3=function(e){var t=v3(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new Xo(this,t),this._tap.on("tap",function(n,x,S){Oi(i.eventEmitter,`${i.eventNamePrefix}${n.tapsCount}tap`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n),Oi(i.eventEmitter,`${i.eventNamePrefix}tap`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this)}};const g3=Phaser.Utils.Objects.GetValue;var m3=function(e){var t=g3(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new Yo(this,t),this._press.on("pressstart",function(n,x,S){Oi(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this).on("pressend",function(n,x,S){Oi(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this)}};const x3=Phaser.Utils.Objects.GetValue;var y3=function(e){var t=x3(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new Za(this,t),this._swipe.on("swipe",function(n,x,S){var M=n.left?"left":n.right?"right":n.up?"up":"down";Oi(i.eventEmitter,`${i.eventNamePrefix}swipe${M}`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n),Oi(i.eventEmitter,`${i.eventNamePrefix}swipe`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this)}};const ja=Phaser.Utils.Objects.GetValue;var jo=function(e,t){return e.setInteractive(),ja(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:ja(t,"targets",[e]),targetMode:ja(t,"targetMode","parent"),eventEmitter:ja(t,"eventEmitter",e),eventNamePrefix:ja(t,"inputEventPrefix","child.")},kF.call(e,t),NF.call(e,t),UF.call(e,t),HF.call(e,t),p3.call(e,t),m3.call(e,t),y3.call(e,t),e},C3=function(e){return jo(this,e),this},S3=function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var n=e[t];n.emit.apply(n,arguments)}return this},Tm={getSizerConfig:NO,getChildPrevState:VO,pushIntoBounds:WO,drawBounds:tD,resolveWidth:Wd,hasWidthWrap:Ud,resolveChildrenWidth:pD,runWidthWrap:Xd,resolveHeight:Yd,hasHeightWrap:Hd,resolveChildrenHeight:gD,runHeightWrap:$d,getChildWidth:mD,getChildHeight:xD,getExpandedChildWidth:yD,getExpandedChildHeight:CD,getChildrenWidth:SD,getChildrenHeight:TD,addChildrenMap:I0,addElement:I0,removeChildrenMap:uD,getElement:dD,getChildIndex:cD,getAllChildrenSizers:PD,getChildrenSizers:ED,preLayout:Ua,layout:wD,runLayout:bD,layoutChildren:DD,layoutBackgrounds:RF,postLayout:FD,setAnchor:ID,isInTouching:TF,pointToChild:nm,setDraggable:bF,setChildrenInteractive:C3,broadcastEvent:S3};Object.assign(Tm,vD,sD,lD,Gn,Ds,Ya,Io,QD,_D,q0,nf,OF,FF,BF,iF,Vo,MD,yF);const Is=Phaser.Utils.Objects.GetValue;let Ur=class extends xi{constructor(t,i,n,x,S,M){super(t,i,n,1,1),this.isRexSizer=!0;var b=Is(M,"origin",.5),D=Is(M,"originX",b),k=Is(M,"originY",b);this.setOrigin(D,k),this.setMinSize(x,S),this.setName(Is(M,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var W=Is(M,"anchor",void 0);W&&this.setAnchor(W),this.setInnerPadding(Is(M,"space",0));var Z=Is(M,"draggable",!1);Z&&this.setDraggable(Z),this.setSizerEventsEnable(Is(M,"sizerEvents",!1)),this.setDirty(!0),Is(M,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i=this.getAllChildrenSizers([this]),n=0,x=i.length;n<x;n++)i[n].sizerEventsEnable=!1;super.destroy(t),ve(this.backgroundChildren),ve(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,i){return this.setMinWidth(t).setMinHeight(i),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-se(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+se(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+se(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-re(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+re(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+re(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}};Object.assign(Ur.prototype,Tm);var T3=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,n,x,S=!1;for(var M in t)i=t[M],x=this.getChildWidth(i),x===void 0&&(S=!0),!S&&(n=i.rexSizer.padding,x+=(n.left+n.right)*this.scaleX,e=Math.max(x,e));if(!S)return e+(this.space.left+this.space.right)*this.scaleX},P3=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,n,x,S=!1;for(var M in t)i=t[M],x=this.getChildHeight(i),x===void 0&&(S=!0),!S&&(n=i.rexSizer.padding,x+=(n.top+n.bottom)*this.scaleY,e=Math.max(x,e));if(!S)return e+(this.space.top+this.space.bottom)*this.scaleY},E3=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,n=e.rexSizer;if(n.expandWidth){var x=t-(this.space.left+this.space.right)*this.scaleX,S=n.padding;i=x-(S.left+S.right)*this.scaleX}return i},M3=function(e,t){t===void 0&&(t=this.height);var i,n=e.rexSizer;if(n.expandHeight){var x=t-(this.space.top+this.space.bottom)*this.scaleY,S=n.padding;i=x-(S.top+S.bottom)*this.scaleY}return i},w3=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var n in t)i=t[n],i.isRexSizer&&e.push(i);return e},xf=function(e,t,i,n){if(i===void 0)i=0;else{var x=typeof i;x==="boolean"?(n=i,i=0):x==="string"&&(i=R3[i])}n===void 0?n={}:n===!0&&(n=A3);var S=t.width/e.width,M=t.height/e.height,b=i?Math.max(S,M):Math.min(S,M);return n.width=e.width*b,n.height=e.height*b,n};const R3={fit:0,FIT:0,envelop:1,ENVELOP:1};var A3={},yf=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},b3=function(){var e,t,i,n=this.innerLeft,x=this.innerTop,S=this.innerWidth,M=this.innerHeight,b,D,k,W,Z,tt,_,st,at,nt=this.sizerChildren;for(var ut in nt)e=nt[ut],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,Ha.call(this,e),_=this.getExpandedChildWidth(e),st=this.getExpandedChildHeight(e),t.aspectRatio>0&&(Cf.width=t.aspectRatio,Cf.height=1,Sf.width=_,Sf.height=st,at=xf(Cf,Sf,"FIT",!0),_=at.width,st=at.height),e.isRexSizer?(e.runLayout(this,_,st),yf(e,this)):je(e,_,st),b=n+i.left*this.scaleX,k=S-(i.left+i.right)*this.scaleX,D=x+i.top*this.scaleY,W=M-(i.top+i.bottom)*this.scaleY,_===void 0&&(_=se(e)),st===void 0&&(st=re(e)),Z=(t.alignOffsetX+t.alignOffsetOriginX*_)*this.scaleX,tt=(t.alignOffsetY+t.alignOffsetOriginY*st)*this.scaleY,$a.call(this,e,b,D,k,W,t.align,Z,tt))},Cf={},Sf={};const Pm=Phaser.Utils.Objects.IsPlainObject,yi=Phaser.Utils.Objects.GetValue,Em=Phaser.Display.Align.CENTER,L3=Phaser.Utils.String.UUID;var O3=function(e,t,i,n,x,S,M,b,D,k){var W,Z;if(Va.call(this,e),Pm(t)){var _=t;t=yi(_,"key",void 0),i=yi(_,"align",Em),n=yi(_,"padding",0),x=yi(_,"expand",!0),e.isRexSizer||(S=yi(_,"minWidth",e._minWidth),M=yi(_,"minHeight",e._minHeighted)),b=yi(_,"offsetX",0),D=yi(_,"offsetY",0),W=yi(_,"offsetOriginX",0),Z=yi(_,"offsetOriginY",0),k=yi(_,"aspectRatio",0)}var tt=t!==void 0;tt||(t=L3()),typeof i=="string"&&(i=In[i]),i===void 0&&(i=Em),n===void 0&&(n=0),x===void 0&&(x=!0),e.isRexSizer||(S===void 0&&(S=e._minWidth),M===void 0&&(M=e._minHeight)),b===void 0&&(b=0),D===void 0&&(D=0),W===void 0&&(W=0),Z===void 0&&(Z=0),k===void 0?k=0:k===!0&&(k=se(e)/re(e)),k>0&&(x=!0,S===void 0&&(S=0),M===void 0&&(M=0));var _=this.getSizerConfig(e);return _.align=i,_.padding=zr(n),Pm(x)?(_.expandWidth=yi(x,"width",!1),_.expandHeight=yi(x,"height",!1)):(_.expandWidth=x,_.expandHeight=x),e.isRexSizer||(_.expandWidth&&(e.minWidth=S===void 0?se(e):S),_.expandHeight&&(e.minHeight=M===void 0?re(e):M)),_.alignOffsetX=b,_.alignOffsetY=D,_.alignOffsetOriginX=W,_.alignOffsetOriginY=Z,_.aspectRatio=k,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,tt&&this.addChildrenMap(t,e),this},D3={add:O3};const F3=xi.prototype.clear;var qo=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),F3.call(this,e),t)for(var n,x=0,S=i.length;x<S;x++)n=i[x],n.emit("sizer.remove",n,this),this.emit("remove",n,this);return this},B3={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),Wa.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return qo.call(this,e),this}},Mm={getChildrenWidth:T3,getChildrenHeight:P3,getExpandedChildWidth:E3,getExpandedChildHeight:M3,getChildrenSizers:w3,layoutChildren:b3};Object.assign(Mm,D3,B3);var _o=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null};const wm=Phaser.Utils.Objects.IsPlainObject,Yn=Phaser.Utils.Objects.GetValue;class Di extends Ur{constructor(t,i,n,x,S,M){wm(i)?(M=i,i=Yn(M,"x",0),n=Yn(M,"y",0),x=Yn(M,"width",void 0),S=Yn(M,"height",void 0)):wm(x)&&(M=x,x=Yn(M,"width",void 0),S=Yn(M,"height",void 0)),super(t,i,n,x,S,M),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return _o(this.sizerChildren,t);return null}}Object.assign(Di.prototype,Mm);var I3=Phaser.Math.Distance.Between,tl=function(e,t,i){var n=e.width/2;return I3(n,n,t,i)<=n};const k3=Phaser.Math.Angle.Between,G3=Phaser.Math.Angle.Normalize;var Rm=function(e,t,i){if(this.enable&&e.isDown){var n=this.sizerChildren.knob;if(tl(n,t,i)){var x=n.width/2,S=n.startAngle,M=k3(x,x,t,i),b=n.anticlockwise?S-M:M-S,D=G3(b)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-D)<.1?this.value=D:this.easeValueTo(D)}}},z3=function(){var e=this.sizerChildren.knob;e.on("pointerdown",Rm,this).on("pointermove",Rm,this).setInteractive()};const Am=Phaser.Math.Angle.Between,N3=Phaser.Math.Angle.Wrap;var V3=function(e,t,i){if(!(!this.enable||this.panPointer)){var n=this.sizerChildren.knob;tl(n,t,i)&&bm.call(this,e)}},W3=function(e,t,i){if(this.enable&&e.isDown){var n=this.sizerChildren.knob;switch(this.panState){case Tf:tl(n,t,i)&&bm.call(this,e);break;case Om:tl(n,t,i)?X3.call(this):Lm.call(this);break}}},U3=function(e,t,i){!this.enable||this.panPointer!==e||Lm.call(this)},bm=function(e){this.panPointer=e,this.panState=Om},Lm=function(){this.panPointer=void 0,this.panState=Tf},X3=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,n=Am(i.x,i.y,e.x,e.y),x=Am(i.x,i.y,t.x,t.y),S=i.anticlockwise?n-x:x-n,M=N3(S)/(Math.PI*2);this.stopEaseValue(),this.value+=M};const Tf=0,Om=1;var Y3=function(){var e=this.sizerChildren.knob;e.on("pointerdown",V3,this).on("pointermove",W3,this).on("pointerup",U3,this).setInteractive(),this.panPointer=void 0,this.panState=Tf},H3=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},Dm=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},$3=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(Dm.call(this,e)),t.layout&&t.layout()),this},K3={setTextFormatCallback:H3,getFormatText:Dm,updateText:$3};const Ki=Phaser.Utils.Objects.GetValue,Z3=Phaser.Math.Snap.To;class Pf extends rr(Di){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var n=Ki(i,"background",void 0),x=Ki(i,"text",void 0);n&&this.addBackground(n),x&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(Ki(i,"textFormatCallback",void 0),Ki(i,"textFormatCallbackScope",void 0)),i.textFormatCallback=void 0,i.textFormatCallbackScope=void 0);var S=new Co(t,i);S.setDepth(Ki(i,"knobDepth",0)),S._value=-1,t.add.existing(S),this.add(S,"knob"),x&&(this.add(x,"text","center",0,!1),t.children.moveBelow(S,x)),this.addChildrenMap("background",n),this.addChildrenMap("knob",S),this.addChildrenMap("text",x),this.setEnable(Ki(i,"enable",void 0)),this.setGap(Ki(i,"gap",void 0)),this.setValue(Ki(i,"value",0),Ki(i,"min",void 0),Ki(i,"max",void 0));var M=Ki(i,"input",0);switch(typeof M=="string"&&(M=J3[M]),M){case 0:Y3.call(this);break;case 1:z3.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=Z3(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var n=this.value;i!==n&&(this.updateText(),this.eventEmitter.emit("valuechange",n,i,this.eventEmitter))}}const J3={pan:0,drag:0,click:1,none:-1};Object.assign(Pf.prototype,K3),K.register("knob",function(e){var t=new Pf(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Knob",Pf);const Q3={arc:Ln,circle:bi,curve:bb,ellipse:Lb,line:er,lines:Ze,rectangle:jb,roundRectangle:mo,triangle:_b},Fm=Phaser.Utils.Objects.GetValue,j3=Phaser.Utils.Objects.IsPlainObject,q3=function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()};var _3={createShape(e,t){var i=Q3[e],n=new i;return t&&n.setName(t),n},buildShapes(e){var t=Fm(e,"create",void 0);if(j3(t)){var i=t;for(var n in i){var x=i[n];switch(typeof x){case"number":for(var S=0;S<x;S++)this.addShape(this.createShape(n));break;case"string":this.addShape(this.createShape(n,x));break;default:for(var M=x,S=0,b=M.length;S<b;S++)this.addShape(this.createShape(n,M[S]));break}}}else if(Array.isArray(t))for(var i=t,S=0,b=i.length;S<b;S++){var D=i[S];this.addShape(this.createShape(D.type,D.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(Fm(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=q3),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}};const qa=Phaser.Utils.Objects.GetValue,tB=Phaser.Utils.Objects.IsPlainObject;class el extends bs{constructor(t,i,n,x,S,M){tB(i)&&(M=i,i=qa(M,"x",0),n=qa(M,"y",0),x=qa(M,"width",2),S=qa(M,"height",2)),super(t,i,n,x,S),this.type=qa(M,"type","rexCustomShapes"),this.buildShapes(M)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,n,x){return typeof n=="boolean"&&(x=n,n=void 0),Bv(this,t,i,n,x)}}Object.assign(el.prototype,_3),K.register("customShapes",function(e,t,i,n,x){var S=new el(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.CustomShapes",el);const _a=Phaser.Utils.Objects.GetValue,eB=Phaser.Utils.Objects.IsPlainObject;class us extends rr(el){constructor(t,i,n,x,S,M){eB(i)&&(M=i,i=_a(M,"x",0),n=_a(M,"y",0),x=_a(M,"width",2),S=_a(M,"height",2)),M===void 0&&(M={}),M.type||(M.type="rexCustomProgress"),super(t,i,n,x,S,M),this.bootProgressBase(M),this.setValue(_a(M,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}K.register("customProgress",function(e,t,i,n,x){var S=new us(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.CustomProgress",us);var iB=function(e){return this.easeValueTask||(this.easeValueTask=new Xi(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},sB=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},rB=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},nB=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},aB={start:iB,stop:sB,pause:rB,resume:nB};const Zi=Phaser.Utils.Objects.GetValue;class Bm extends bs{constructor(t,i){var n=Zi(i,"x",0),x=Zi(i,"y",0),S=Zi(i,"width",64),M=Zi(i,"height",64);super(t,n,x,S,M),this.resetFromConfig(i,!0),this.buildShapes(i),Zi(i,"start",!0)&&this.start()}resetFromConfig(t,i){i===void 0&&(i=!1);var n;return n=i?1e3:this.duration,this.setDuration(Zi(t,"duration",n)),n=i?"Linear":this.ease,this.setEase(Zi(t,"ease",n)),n=i?0:this.delay,this.setDelay(Zi(t,"delay",n)),n=i?0:this.repeatDelay,this.setRepeatDelay(Zi(t,"repeatDelay",n)),n=i?16777215:this.color,this.setColor(Zi(t,"color",n)),n=i?0:this.value,this.setValue(Zi(t,"value",n)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(Bm.prototype,aB);const lr=Phaser.Math.DegToRad,hB=Phaser.Math.Linear,oB=Phaser.Math.Easing.Expo.In,lB={right:0,down:1,left:2,up:3};var uB=function(e,t,i,n,x,S,M,b,D,k,W){var Z=Hn(t,0,n,x,S,M,b,D,k,W);e.startAt(Z.x,Z.y);var tt=Hn(i,0,n,x,S,M,b,D,k,W);e.lineTo(tt.x,tt.y);var _=Hn(i,i,n,x,S,M,b,D,k,W);e.lineTo(_.x,_.y);var st=Hn(0,i,n,x,S,M,b,D,k,W);e.lineTo(st.x,st.y);var at=Hn(0,t,n,x,S,M,b,D,k,W);e.lineTo(at.x,at.y);var nt=Hn(t,t,n,x,S,M,b,D,k,W);e.lineTo(nt.x,nt.y),e.close()},Ef={},Hn=function(e,t,i,n,x,S,M,b,D,k){var W=e*i,Z=t*n;return Ef.x=M*W+b*Z+x,Ef.y=D*W+k*Z+S,Ef},il={setDirection(e){return typeof e=="string"&&(e=lB[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new Ze)},updateShapes(){var e,t,i,n,x,S;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var M=lr(315);i=Math.cos(M),n=Math.sin(M);var b=lr(45);x=Math.cos(b),S=Math.sin(b);break;case 3:e=this.centerX,t=this.centerY+this.radius;var M=lr(135);i=Math.cos(M),n=Math.sin(M);var b=lr(225);x=Math.cos(b),S=Math.sin(b);break;case 2:e=this.centerX+this.radius,t=this.centerY;var M=lr(225);i=Math.cos(M),n=Math.sin(M);var b=lr(315);x=Math.cos(b),S=Math.sin(b);break;default:e=this.centerX-this.radius,t=this.centerY;var M=lr(45);i=Math.cos(M),n=Math.sin(M);var b=lr(135);x=Math.cos(b),S=Math.sin(b);break}for(var D=this.radius/7,k=this.getShapes(),W=0,Z=k.length;W<Z;W++){var tt=k[W],_=(this.value+(Z-W)*.1)%1;_=oB(ue(_));var st=hB(.25,1,_);tt.fillStyle(this.color,st);var at=W*3+1,nt=at+2;uB(tt,at,nt,D,D,e,t,i,n,x,S)}}};const dB=Phaser.Math.Linear;var fB={buildShapes(){for(var e=0;e<4;e++)this.addShape(new er);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,x=t+i,S=i*2,M=this.getShapes(),b=M.length,D=i*2/b,k=D*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var W=0;W<b;W++){var Z=M[W],tt=this.prevValue===void 0?Math.random():Z.getData("to");Z.setData("from",tt).setData("to",Math.random())}this.prevValue=this.value;for(var W=0;W<b;W++){var Z=M[W],tt=Z.getData("from"),_=Z.getData("to"),st=dB(tt,_,this.value),at=st*S,nt=n+D*(W+.5);Z.lineStyle(k,this.color,1).setP0(nt,x).setP1(nt,x-at)}}};const cB=Phaser.Math.Linear;var vB={buildShapes(){for(var e=0;e<3;e++)this.addShape(new bi)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=i*.1,x=Math.ceil(n*.25),S=1-ue(this.value),M=cB(.3,.9,S)*i,b=this.getShapes(),D=0,k=b.length;D<k;D++){var W=b[D],S=(this.value+D/k)%1,Z=Math.PI*2*S;W.lineStyle(x,this.color).setRadius(n).setCenterPosition(e+Math.cos(Z)*M,t+Math.sin(Z)*M)}}};const pB=Phaser.Math.Linear,gB=Phaser.Math.Easing.Expo.In;var mB={buildShapes(){for(var e=5,t=0;t<e;t++){var i=new er;this.addShape(i);var n=ue(t/(e-1))/2;i.setData("offset",n)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,x=i*2,S=this.getShapes(),M=S.length,b=i*2/M,D=b*.7,k=0;k<M;k++){var W=S[k],Z=(this.value+W.getData("offset"))%1;Z=gB(ue(Z));var tt=pB(.4,1,Z)*x,_=n+b*(k+.5);W.lineStyle(D,this.color,1).setP0(_,t-tt/2).setP1(_,t+tt/2)}}},xB={buildShapes(){this.addShape(new Ze().setName("border")),this.addShape(new Ze().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*.7,x=e-n,S=t-n,M=n*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(x,S).lineTo(M,0,!0).lineTo(0,M,!0).lineTo(-M,0,!0).lineTo(0,-M,!0).close(),this.value<.5){var b=(.5-this.value)*2,D=M*b;this.getShape("fill").fillStyle(this.color,1).startAt(x,S).lineTo(M,0,!0).lineTo(0,D,!0).lineTo(-M,0,!0).lineTo(0,-D,!0).close()}else{var b=(this.value-.5)*2,k=180*b;this.getShape("border").rotateAround(e,t,k),this.getShape("fill").fillStyle().lineStyle()}}};const Im=Phaser.Math.RadToDeg,km=Phaser.Math.Angle.WrapDegrees,yB=Phaser.Math.Angle.Wrap,CB=Phaser.Math.Angle.ShortestBetween,SB=Phaser.Math.DegToRad,Gm=Phaser.Math.DegToRad(270);var TB={buildShapes(){this.addShape(new bi().setName("border")),this.addShape(new er().setName("minuteHand")),this.addShape(new er().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),x=i-n/2,S=i*.8,M=i*.5,b=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var D=km(Im(b)),k=km(Im(this.minuteHandAngle)),W=CB(D,k);this.hourHandAngle=yB(this.hourHandAngle+SB(W)/12),this.getShape("border").lineStyle(n,this.color).setRadius(x).setCenterPosition(e,t);var Z=this.minuteHandAngle+Gm;this.getShape("minuteHand").lineStyle(n,this.color).setP0(e,t).setP1(e+Math.cos(Z)*S,t+Math.sin(Z)*S);var Z=this.hourHandAngle+Gm;this.getShape("hourHand").lineStyle(n,this.color).setP0(e,t).setP1(e+Math.cos(Z)*M,t+Math.sin(Z)*M)}};const zm=Phaser.Math.Linear,PB=Phaser.Math.Easing.Expo.In,Mf=2,wf=2;var EB={buildShapes(){for(var e=Mf*wf,t=0;t<e;t++){var i=new er;this.addShape(i)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,x=t-i,S=i*2/wf,M=i*2/Mf,b=this.getShapes(),D=b.length,k=0;k<D;k++){var W=k%wf,Z=Math.floor(k/Mf),tt=n+S*(W+.5),_=x+M*(Z+.5),st=b[k],at=(this.value+(D-k)*.1)%1;at=PB(ue(at));var nt=(D-k)/D,ut=zm(.7,1,at)*M,ct=zm(.7,1,at)*S;st.lineStyle(ct,this.color,nt).setP0(tt-ut/2,_).setP1(tt+ut/2,_)}}};const Nm=Phaser.Math.Linear;var MB={buildShapes(){for(var e=3,t=0;t<e;t++){var i=new bi;this.addShape(i);var n=ue(t/(e-1))/2;i.setData("offset",n)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,x=this.getShapes(),S=x.length,M=i*2/S,b=M/2,D=0;D<S;D++){var k=x[D],W=(this.value+k.getData("offset"))%1;W=ue(W);var Z=Nm(.25,1,W),tt=Nm(.5,1,W)*b;k.fillStyle(this.color,Z).setRadius(tt).setCenterPosition(n+M*(D+.5),t)}}};const Vm=Phaser.Math.Linear,wB=Phaser.Math.Easing.Expo.In;var RB={buildShapes(){for(var e=0;e<3;e++){var t=new er;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,x=this.getShapes(),S=x.length,M=i*2/S,b=i*2,D=0;D<S;D++){var k=x[D],W=(this.value+(S-D)*.1)%1;W=wB(ue(W));var Z=(D+1)/S,tt=Vm(.7,1,W)*b,_=Vm(.7,1,W)*M,st=n+M*(D+.5);k.lineStyle(_,this.color,Z).setP0(st,t-tt/2).setP1(st,t+tt/2)}}};const AB=Phaser.Math.Linear,Rf=3,Af=3;var bB={buildShapes(){for(var e=Rf*Af,t=0;t<e;t++){var i=new bi;this.addShape(i),i.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=this.isInitialize||this.isSizeChanged,x=e-i,S=t-i,M=i*2/Af,b=i*2/Rf,D=Math.min(M,b)/2*.8,k=this.getShapes(),W=0,Z=k.length;W<Z;W++){var tt=W%Af,_=Math.floor(W/Rf),st=x+M*(tt+.5),at=S+b*(_+.5),nt=k[W],ut=(this.value+nt.getData("offset"))%1;ut=ue(ut),nt.fillStyle(this.color,AB(.25,1,ut)),n&&nt.setRadius(D).setCenterPosition(st,at)}this.isInitialize=!1}},LB={buildShapes(){for(var e=0;e<2;e++)this.addShape(new Ze)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),x=i-n,S=x*.6,M=x*.7,b=x*1.2,D=this.getShapes(),k=0,W=D.length;k<W;k++){var Z=D[k],tt=(this.value+k/W)%1,_=ue(tt),st=e,at=t-15*tt,nt=x*tt,ut=S*tt,ct=M*tt,dt=b*tt;Z.lineStyle(n,this.color,_).startAt(st,at).cubicBezierTo(st,at-ut,st-nt,at-ut,st-nt,at).cubicBezierTo(st-nt,at+ut,st,at+ct,st,at+dt).cubicBezierTo(st,at+ct,st+nt,at+ut,st+nt,at).cubicBezierTo(st+nt,at-ut,st,at-ut,st,at).close()}}};const OB=Phaser.Math.Linear;var DB={buildShapes(){for(var e=0;e<12;e++)this.addShape(new er);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.isInitialize||this.isSizeChanged,n=this.radius,x=n/2,S=Math.ceil(n/20),M=this.getShapes(),b=0,D=M.length;b<D;b++){var k=M[b],W=b/D,Z=Math.PI*2*W,tt=OB(.25,1,(1-this.value+W)%1);k.lineStyle(S,this.color,tt),i&&k.setP0(e+Math.cos(Z)*x,t+Math.sin(Z)*x).setP1(e+Math.cos(Z)*n,t+Math.sin(Z)*n)}this.isInitialize=!1}},FB={buildShapes(){this.addShape(new bi().setName("track")),this.addShape(new bi().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*.9,x=Math.ceil(n/25),S=i*.1,M=Math.PI*2*this.value;this.getShape("track").lineStyle(x,this.color,.7).setRadius(n).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(S).setCenterPosition(e+Math.cos(M)*n,t+Math.sin(M)*n)}},BB={buildShapes(){this.addShape(new bi().setName("track")),this.addShape(new Ln().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),x=i-n/2;this.getShape("track").lineStyle(n,this.color,.5).setRadius(x).setCenterPosition(e,t);var S=this.value*360,M=S+60;this.getShape("arc").lineStyle(n,this.color,1).setRadius(x).setCenterPosition(e,t).setAngle(S,M)}};const IB=Phaser.Math.Linear;var kB={buildShapes(){for(var e=0;e<4;e++){var t=new Ln().setPie();this.addShape(t),t.setData("speed",IB(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n;this.prevValue!==void 0&&(n=this.value-this.prevValue,this.prevValue>this.value&&(n+=1));for(var x=this.getShapes(),S=0,M=x.length;S<M;S++){var b=x[S],D=(S+1)/M;if(this.prevValue===void 0){var k=S/M*360,W=k+90;b.fillStyle(this.color,D).setRadius(i).setCenterPosition(e,t).setAngle(k,W).setData("angle",k)}else{var k=b.getData("angle")+b.getData("speed")*n;k=k%360;var W=k+90;b.fillStyle(this.color,D).setRadius(i).setCenterPosition(e,t).setAngle(k,W).setData("angle",k)}}this.prevValue=this.value}},GB={buildShapes(){this.addShape(new bi)},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*this.value,x=Math.ceil(i/25),S=ue(this.value);this.getShapes()[0].lineStyle(x,this.color,S).setRadius(n).setCenterPosition(e,t)}};const zB=Phaser.Math.Linear,NB=Phaser.Math.Easing.Expo.In;var VB={buildShapes(){this.addShape(new bi().setName("center")),this.addShape(new Ze().setName("arc0")),this.addShape(new Ze().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=this.isInitialize||this.isSizeChanged,x=i*2/6,S=e-i+x,M=t+i-x,b=this.getShapes(),D=0,k=b.length;D<k;D++){var W=b[D],Z=(this.value+(k-D)*.1)%1;Z=NB(ue(Z));var tt=zB(.25,1,Z);switch(W.name){case"center":W.fillStyle(this.color,tt),n&&W.setRadius(x).setCenterPosition(S,M);break;case"arc0":if(W.fillStyle(this.color,tt),n){var _=x*2,st=x*3;W.startAt(S,M-_).lineTo(S,M-st).setIterations(8).arc(S,M,st,270,360).lineTo(S+_,M).setIterations(6).arc(S,M,_,360,270,!0).close()}break;case"arc1":if(W.fillStyle(this.color,tt),n){var _=x*4,st=x*5;W.startAt(S,M-_).lineTo(S,M-st).setIterations(8).arc(S,M,st,270,360).lineTo(S+_,M).setIterations(6).arc(S,M,_,360,270,!0).close()}break}}this.isInitialize=!1}},WB={buildShapes(){for(var e=0;e<2;e++)this.addShape(new bi)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),x=i-n,S=this.getShapes(),M=0,b=S.length;M<b;M++){var D=S[M],k=(this.value+M/b)%1,W=ue(k);D.lineStyle(n,this.color,W).setRadius(k*x).setCenterPosition(e,t)}}},UB={buildShapes(){this.addShape(new Ln().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/10),x=i-n,S=this.value*720,M=ue(this.value)*180,b=S-M;this.getShape("arc").lineStyle(n,this.color,1).setRadius(x).setCenterPosition(e,t).setAngle(b+315,S+315)}};Phaser.Utils.Objects.GetValue;const bf={leftArrow:il,rightArrow:il,upArrow:il,downArrow:il,audio:fB,ball:vB,bars:mB,box:xB,clock:TB,cube:EB,dots:MB,facebook:RB,grid:bB,hearts:LB,ios:DB,oribit:FB,oval:BB,pie:kB,puff:GB,radio:VB,rings:WB,spinner:UB},Lf=[];for(var XB in bf)Lf.push(XB);const Wm=Phaser.Utils.Array.GetRandom;var YB={setAnimationMode(e,t){bf.hasOwnProperty(e)||(e=Wm(Lf)),this.animationMode=e;var i=bf[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":i.setDirection.call(this,"left");break;case"rightArrow":i.setDirection.call(this,"right");break;case"upArrow":i.setDirection.call(this,"up");break;case"downArrow":i.setDirection.call(this,"down");break}return this.clear(),i.buildShapes.call(this),this.updateShapes=i.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=Wm(Lf);return this.setAnimationMode(t,e),this}};const HB=Phaser.Utils.Objects.GetValue;class Of extends Bm{constructor(t,i){super(t,i),this.type="rexSpinnerAIO",this.setAnimationMode(HB(i,"animationMode"))}}Object.assign(Of.prototype,YB),K.register("aioSpinner",function(e){var t=new Of(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.AIOSpinner",Of);var $B={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}},Um=function(){for(var e=this.scaleMode-1,t=0,i=this.images.length;t<i;t++){var n=this.images[t],x=xf(n,this,e,!0),S=x.width/n.width;this.setChildLocalScale(n,S),n.biasScale=S}},sl=function(e){this.scaleMode===0?this.resize(e.width,e.height):Um.call(this)};const Xm=Phaser.Utils.Objects.IsPlainObject,Df=Phaser.Utils.Objects.GetValue,KB=Phaser.Utils.Array.GetRandom;var ZB={out:0,in:1},ds=function(e,t,...i){for(var n=0,x=i.length;n<x;n++){var S=i[n];if(S&&S.hasOwnProperty(e))return S[e]}return t},JB={setTransitionDirection(e){return typeof e=="string"&&(e=ZB[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),sl.call(this,this.nextImage),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,Xm(e)){var n=e;e=Df(n,"key",void 0),t=Df(n,"frame",void 0),i=Df(n,"mode"),Array.isArray(i)&&(i=KB(i));var x;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(x=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(ds("duration",this.duration,n,x)).setEaseFunction(ds("ease",this.easeFunction,n,x)).setTransitionDirection(ds("dir",this.dir,n,x));var S=ds("mask",void 0,n,x);S&&this.setMaskGameObject(S),this.setMaskEnable(S===!0);var M=ds("onStart",void 0,n,x),b=ds("onProgress",void 0,n,x),D=ds("onComplete",void 0,n,x);(M!==void 0||b!==void 0||D!==void 0)&&this.setTransitionStartCallback(M,ds("onStartScope",void 0,n,x)).setTransitionProgressCallback(b,ds("onProgressScope",void 0,n,x)).setTransitionCompleteCallback(D,ds("onCompleteScope",void 0,n,x))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),Xm(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new Xi(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};const QB=Phaser.GameObjects.Graphics.prototype.setPosition;var jB=function(e,t){var i=this.parent;return e===void 0&&(e=i.x),t===void 0&&(t=i.y),QB.call(this,e,t),this};const Ym=Phaser.Geom.Rectangle,Hm=Phaser.Geom.Circle;var qB=function(e,t,i,n,x,S,M){switch(e){case 1:n=n.left;var b=-t*(x-.5),D=-i*(S-.5),k=Math.min(t,i)/2+n;(M===void 0||!(M instanceof Hm))&&(M=new Hm),M.setTo(b,D,k);break;default:var W=-(t*x)-n.left,Z=-(i*S)-n.top,tt=t+n.left+n.right,_=i+n.top+n.bottom;(M===void 0||!(M instanceof Ym))&&(M=new Ym),M.setTo(W,Z,tt,_);break}return M},$m=function(e,t,i,n,x){switch(this.geom=qB(this.shapeType,e,t,i,n,x,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},_B=function(e,t,i){var n=this.parent;e===void 0&&(e=n.width),t===void 0&&(t=n.height),i===void 0?i=this.padding:typeof i=="number"&&(i=GetBoundsConfig(i));var x=this.width!==e||this.height!==t,S=this.padding!==i&&!Ma(this.padding,i);return!x&&!S?this:(this.width=e,this.height=t,S&&Ui(i,this.padding),this.originX=n.originX,this.originY=n.originY,$m.call(this,e,t,i,n.originX,n.originY),this)},t5=function(e,t){t===void 0&&(t=e);var i=this.parent;return e===void 0&&(e=i.originX),t===void 0&&(t=i.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,$m.call(this,this.width,this.height,this.padding,e,t),this)},e5=function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},i5={setPosition:jB,resize:_B,setOrigin:t5,contains:e5};const s5=Phaser.GameObjects.Graphics;class rl extends s5{constructor(t,i,n){i===void 0&&(i=0),typeof i=="string"&&(i=r5[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=zr(n),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}}const r5={rectangle:0,circle:1};Object.assign(rl.prototype,i5);var n5={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof rl)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new rl(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),n=0,x=i.length;n<x;n++)this.setImageMaskEnable(i[n],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}},a5=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=function(n,x){return`${n}${t}${x}`}:i=function(n,x){return`${e}_${n}${t}${x}`},i},h5=function(e,t,i,n,x,S){i==null&&(i="__BASE"),S||(S=a5(i,S));for(var M=e.sys.textures.get(t),b=typeof i=="object"?i:M.get(i),D=b.width,k=b.height,W,Z,tt,_=D/n,st=k/x,at=b.cutX,nt=b.cutY,ut=0,ct=0,dt=0;dt<x;dt++){ut=0;for(var mt=0;mt<n;mt++)tt=S(mt,dt),W=ut+at,Z=ct+nt,M.add(tt,0,W,Z,_,st),ut+=_;ct+=st}return{getFrameNameCallback:S,cellWidth:_,cellHeight:st,columns:n,rows:x}};const ks=Phaser.Utils.Objects.GetValue,o5=Phaser.GameObjects.Image,l5=Phaser.Utils.Objects.IsPlainObject,u5=Phaser.Math.RotateAround;var d5=function(e,t,i,n){l5(t)&&(n=t,t=ks(n,"columns",1),i=ks(n,"rows",1));var x=ks(n,"createImageCallback");if(!x){var S=ks(n,"ImageClass",o5);x=function(Te,Ne,Ie){return new S(Te,0,0,Ne,Ie)}}for(var M=ks(n,"originX",.5),b=ks(n,"originY",.5),D=ks(n,"add",!0),k=ks(n,"align",D),W=ks(n,"objectPool",void 0),Z=e.scene,tt=e.texture,_=e.frame,st=h5(Z,tt,_,t,i),at=st.getFrameNameCallback,nt=e.scaleX,ut=e.scaleY,ct=e.rotation,dt=e.getTopLeft(),mt=dt.x,Tt=dt.y,Pt=[],At=st.cellWidth*nt,Ft=st.cellHeight*ut,Dt=0;Dt<i;Dt++)for(var zt=0;zt<t;zt++){var Gt,qt=at(zt,Dt);if(W&&W.length>0?Gt=W.pop().setTexture(tt,qt):Gt=x(Z,tt,qt),D&&Z.add.existing(Gt),k){var _t=mt+At*zt,It=Tt+Ft*Dt,de=_t+M*At,pe=It+b*Ft;Gt.setOrigin(M,b).setPosition(de,pe).setScale(nt,ut).setRotation(ct),u5(Gt,mt,Tt,ct)}Pt.push(Gt)}return Pt},f5={gridCutImage(e,t,i,n){n===void 0&&(n={}),n.objectPool=this.imagesPool;for(var x=d5(e,t,i,n),S,M=0,b=x.length;M<b;M++)S=x[M],S.setVisible(!0),this.add(S);return this.cellImages=x,this.setChildLocalVisible(e,!1),x},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,n,x=0,S=t.length;x<S;x++)i=t[x],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),n=i.frame.name,i.setTexture(),e.remove(n);return this.imagesPool.push(...t),t.length=0,this}},Km={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}},Zm={};Object.assign(Zm,$B,JB,n5,f5,Km);var c5=function(e,t,i,n){},v5=function(e,t,i,n){e.setChildLocalAlpha(t,1-n).setChildLocalAlpha(i,n)},p5=function(e,t,i,n){e.setChildLocalAlpha(t,1)};const Jm=Phaser.Utils.Objects.IsPlainObject,Ge=Phaser.Utils.Objects.GetValue,g5=Phaser.Math.Clamp;class nl extends xi{constructor(t,i,n,x,S,M){Jm(i)?(M=i,i=Ge(M,"x",0),n=Ge(M,"y",0),x=Ge(M,"key",void 0),S=Ge(M,"frame",void 0)):Jm(S)&&(M=S,S=void 0);var b=Ge(M,"back",void 0),D=Ge(M,"front",void 0);b||(b=t.add.image(i,n,x,S)),D||(D=t.add.image(i,n,x,S));var k=Ge(M,"width",void 0),W=Ge(M,"height",void 0),Z=k!==void 0&&W!==void 0?1:0;k===void 0&&(k=D.width),W===void 0&&(W=D.height),super(t,i,n,k,W),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,Z=Ge(M,"scaleMode",Z),typeof Z=="string"&&(Z=m5[Z]),this.scaleMode=Z,b.setVisible(!1),this.addMultiple([b,D]),this.backImage=b,this.frontImage=D,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var tt=Ge(M,"onStart",void 0),_=Ge(M,"onProgress",void 0),st=Ge(M,"onComplete",void 0),at=Ge(M,"dir",0);tt===void 0&&_===void 0&&st===void 0&&(tt=c5,_=v5,st=p5,at=0),this.setTransitionStartCallback(tt,Ge(M,"onStartScope",void 0)).setTransitionProgressCallback(_,Ge(M,"onProgressScope",void 0)).setTransitionCompleteCallback(st,Ge(M,"onCompleteScope",void 0)).setTransitionDirection(at).setDuration(Ge(M,"duration",1e3)).setEaseFunction(Ge(M,"ease","Linear"));var nt=Ge(M,"mask",void 0);nt&&this.setMaskGameObject(nt),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,sl.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,i){return this.flipX=t,this.flipY=i,this}get t(){return this._t}set t(t){if(t=g5(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,n=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),Ff.call(this,this.onStartCallback,this.onStartCallbackScope,this,i,n,t)),Ff.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,i,n,t),t===1){Ff.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,i,n,t);var x=n.texture.key,S=n.frame.name;this.frontImage.setTexture(x,S),this.backImage.setTexture(x,S),sl.call(this,n),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),sl.call(this,this.frontImage),this}setSize(t,i){return super.setSize(t,i),this.scaleMode&&Um.call(this),this}}var Ff=function(e,t,i,n,x,S){if(e){if(this.scaleMode){var M;n.biasScale>0&&(M=this.getChildLocalScaleX(n),M=M/n.biasScale,this.setChildLocalScale(n,M)),x.biasScale&&(M=this.getChildLocalScaleX(x),M=M/x.biasScale,this.setChildLocalScale(x,M))}if(t?e.call(t,i,n,x,S):e(i,n,x,S),this.scaleMode){var M;n.biasScale>0&&(M=this.getChildLocalScaleX(n),M=M*n.biasScale,this.setChildLocalScale(n,M)),x.biasScale&&(M=this.getChildLocalScaleX(x),M=M*x.biasScale,this.setChildLocalScale(x,M))}}};Object.assign(nl.prototype,Zm);const m5={fit:1,FIT:1,envelop:2,ENVELOP:2};K.register("transitionImage",function(e,t,i,n,x){var S=new nl(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.TransitionImage",nl);const x5="slideLeft",y5="slideRight",C5="slideUp",S5="slideDown",T5="slideAwayLeft",P5="slideAwayRight",E5="slideAwayUp",M5="slideAwayDown",w5="pushLeft",R5="pushRight",A5="pushUp",b5="pushDown",L5="zoomOut",O5="zoomIn",D5="zoomInOut",F5="fade",B5="crossFade",I5="wipeLeft",k5="wipeRight",G5="wipeUp",z5="wipeDown",N5="irisOut",V5="irisIn",W5="irisInOut",U5="pieOut",X5="pieIn",Y5="pieInOut",H5="blinds",$5="squares",K5="diamonds",Z5="circles",J5="curtain",Q5="pixellate",j5="dissolve",q5="revealLeft",_5="revealRight",tI="revealUp",eI="revealDown";var iI=function(e){e.addTransitionMode(P5,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.width*x;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(T5,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.width*-x;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(M5,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.height*x;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(E5,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.height*-x;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0)}})},sI=function(e){e.addTransitionMode(y5,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=n.width*(x-1);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(x5,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=n.width*(1-x);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(S5,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=n.height*(x-1);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(C5,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=n.height*(1-x);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(n,0,0)}})},rI=function(e){e.addTransitionMode(R5,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.width*x;t.setChildLocalPosition(i,S,0);var S=n.width*(x-1);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(w5,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.width*-x;t.setChildLocalPosition(i,S,0);var S=n.width*(1-x);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(b5,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.height*x;t.setChildLocalPosition(i,0,S);var S=n.height*(x-1);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(A5,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.height*-x;t.setChildLocalPosition(i,0,S);var S=n.height*(1-x);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}})},nI=function(e){e.addTransitionMode(L5,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=1-x;t.setChildLocalScale(i,S,S)},onComplete:function(t,i,n,x){t.setChildLocalScale(i,1,1)}}).addTransitionMode(O5,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=x;t.setChildLocalScale(n,S,S)},onComplete:function(t,i,n,x){t.setChildLocalScale(n,1,1)}}).addTransitionMode(D5,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,x){n.tint=0},onProgress:function(t,i,n,x){var S;x<.5?(S=1-ue(x),t.setChildLocalScale(i,S,S)):(i.visible&&t.setChildVisible(i,!1),S=1-ue(x),t.setChildLocalScale(n,S,S))},onComplete:function(t,i,n,x){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(n,1,1),t.setChildVisible(n,!0),n.tint=16777215}})},aI=function(e){e.addTransitionMode(F5,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,x){n.tint=0},onProgress:function(t,i,n,x){var S;x<.5?(x=ue(x),S=Math.floor(255*(1-x)),i.tint=(S<<16)+(S<<8)+S):(i.visible&&t.setChildVisible(i,!1),x=ue(x),S=Math.floor(255*(1-x)),n.tint=(S<<16)+(S<<8)+S)},onComplete:function(t,i,n,x){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(n,!0),n.tint=16777215}}).addTransitionMode(B5,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){t.setChildLocalAlpha(i,1-x),t.setChildLocalAlpha(n,x)},onComplete:function(t,i,n,x){t.setChildLocalAlpha(i,1)}})},hI=function(e){var t=new us(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var i=this.getShape("rect").fillStyle(16777215),n=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*n,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*n,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*n).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*n).setTopLeftPosition(0,0);break}}});return t},oI=function(e){var t=hI(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(k5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(I5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(z5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(G5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}})},lI=function(e){var t=new us(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},uI=function(e){var t=lI(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(N5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(V5,{ease:"Linear",dir:"in",mask:t,onStart:function(i,n,x,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(W5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){x.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,n,x,S){var M;S<.5?(S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),n.tint=(M<<16)+(M<<8)+M):(n.visible&&i.setChildVisible(n,!1),S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),x.tint=(M<<16)+(M<<8)+M)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(x,!0),x.tint=16777215}})},dI=function(e){var t=new us(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var i=Math.max(this.width,this.height)*2,n=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-n,90+n).setPie()}});return t},fI=function(e){var t=dI(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(U5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(X5,{ease:"Linear",dir:"in",mask:t,onStart:function(i,n,x,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Y5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){x.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,n,x,S){var M;S<.5?(S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),n.tint=(M<<16)+(M<<8)+M):(n.visible&&i.setChildVisible(n,!1),S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),x.tint=(M<<16)+(M<<8)+M)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(x,!0),x.tint=16777215}})},cI=function(e,t){var i=new us(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var n=this.getShapes(),x=this.width/t,S=0;S<t;S++)n[S].fillStyle(16777215).setSize(x*this.value,this.height).setTopLeftPosition(x*S,0)}});return i},vI=function(e){var t=cI(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(H5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}})},pI=function(e,t,i){var n=new us(e,{type:"Graphics",create:{rectangle:t*i},update:function(){for(var x=this.getShapes(),S=this.width/t,M=this.height/i,b=0;b<i;b++)for(var D=0;D<t;D++)x[D*i+b].fillStyle(16777215).setSize(S*this.value,M*this.value).setCenterPosition(S*(D+.5),M*(b+.5))}});return n},gI=function(e){var t=pI(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode($5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}})},mI=function(e,t,i){var n=new us(e,{type:"Graphics",create:{lines:t*i},update:function(){for(var x=this.getShapes(),S=this.width/(t-1),M=this.height/i,b=M*2,D=S*this.value,k=M*this.value,W=0;W<i;W++)for(var Z=0;Z<t;Z++){var tt=Z*S,_=W*b+Z%2*M;x[Z*i+W].fillStyle(16777215).start(tt+D,_).lineTo(tt,_+k).lineTo(tt-D,_).lineTo(tt,_-k).lineTo(tt+D,_).close()}}});return n},xI=function(e){var t=mI(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(K5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}})},yI=function(e,t,i){var n=new us(e,{type:"Graphics",create:{circle:t*i},update:function(){for(var x=this.getShapes(),S=this.width/(t-1),M=this.height/i,b=M*2,D=Math.max(S,M)*this.value,k=0;k<i;k++)for(var W=0;W<t;W++){var Z=W*S,tt=k*b+W%2*M;x[W*i+k].fillStyle(16777215).setCenterPosition(Z,tt).setRadius(D)}}});return n},CI=function(e){var t=yI(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Z5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}})},SI=function(e,t){var i=new us(e,{type:"Graphics",create:{lines:t},update:function(){for(var n=this.getShapes(),x=this.width/t,S=x/2,M=0;M<t;M++){var b=x*M,D=this.height*this.value,k=b+S;n[M].fillStyle(16777215).start(b,0).horizontalLineTo(D).arc(k,D,S,180,0,!0).horizontalLineTo(-D).lineTo(b,0).close()}}});return i},TI=function(e){var t=SI(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(J5,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){x.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){var M;S<.5?(S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),n.tint=(M<<16)+(M<<8)+M):(n.visible&&i.setChildVisible(n,!1),S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),x.tint=(M<<16)+(M<<8)+M)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(x,!0),x.tint=16777215}})},PI=function(e){e.addTransitionMode(Q5,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){t.setChildVisible(n,!1),i.effect=i.preFX.addPixelate(0),n.effect=n.preFX.addPixelate(0)},onProgress:function(t,i,n,x){if(x<.5){x=ue(x);var S=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(S*x)}else{i.visible&&t.setChildVisible(i,!1),n.visible||t.setChildVisible(n,!0),x=ue(x);var S=Math.min(n.width,n.height)/5;n.effect.amount=Math.ceil(S*x)}},onComplete:function(t,i,n,x){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),n.preFX.remove(n.effect),delete n.effect}})};const EI=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }


vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,MI=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,Ji=Phaser.Utils.Objects.GetValue,wI=Phaser.Math.Clamp;class Bf extends MI{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:EI}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(Ji(t,"progress",0)),this.setTransitionTargetTexture(Ji(t,"toTexture","__DEFAULT"),Ji(t,"toFrame",void 0),Ji(t,"resizeMode",1)),this.setNoise(Ji(t,"noiseX",void 0),Ji(t,"noiseY",void 0),Ji(t,"noiseZ",void 0)),this.setFromEdge(Ji(t,"fromEdgeStart",.01),Ji(t,"fromEdgeWidth",.05)),this.setToEdge(Ji(t,"toEdgeStart",.01),Ji(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=wI(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,n){t===void 0&&(t="__DEFAULT");var x=this.game.textures.getFrame(t,i);return x||(x=this.game.textures.getFrame("__DEFAULT")),this.toRatio=x.width/x.height,this.toFrame=x,this.targetTexture=x.glTexture,n!==void 0&&(this.resizeMode=n),this}setResizeMode(t){return typeof t=="string"&&(t=RI[t]),this.resizeMode=t,this}setNoise(t,i,n){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),n===void 0&&(n=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=n,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}}var RI={stretch:0,contain:1,cover:2},AI=function(e,t,i){w(e).renderer.pipelines.addPostPipeline(t,i)},bI=function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var n=e.postPipelines[e.postPipelines.length-1];return n.resetFromJSON(i),i.name&&(n.name=i.name),n};const LI=Phaser.Utils.Array.SpliceOne;var OI=function(e,t,i){for(var n,x,S,n=e.postPipelines,x=n.length-1;x>=0;x--){var S=n[x];S instanceof t&&(S.destroy(),LI(n,x))}e.hasPostPipeline=e.postPipelines.length>0},DI=function(e){AI(e.scene.game,"rexDissolvePostFx",Bf),e.addTransitionMode(j5,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,x){i.effect=bI(i,Bf)},onProgress:function(t,i,n,x){i.effect.setProgress(x)},onComplete:function(t,i,n,x){OI(i,Bf),delete i.effect}})};const al=.1,FI=0,BI=0,II=1,kI=1,Qm=0,jm=1;var GI=function(e){e.addTransitionMode(_5,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,x){n.effect=n.preFX.addReveal(al,FI,Qm)},onProgress:function(t,i,n,x){n.effect.progress=x},onComplete:function(t,i,n,x){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(q5,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,x){n.effect=n.preFX.addReveal(al,II,Qm)},onProgress:function(t,i,n,x){n.effect.progress=x},onComplete:function(t,i,n,x){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(eI,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,x){n.effect=n.preFX.addReveal(al,BI,jm)},onProgress:function(t,i,n,x){n.effect.progress=x},onComplete:function(t,i,n,x){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(tI,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,x){n.effect=n.preFX.addReveal(al,kI,jm)},onProgress:function(t,i,n,x){n.effect.progress=x},onComplete:function(t,i,n,x){n.preFX.remove(n.effect),delete n.effect}})};const qm=[iI,sI,rI,nI,aI,uI,fI,oI,vI,gI,xI,CI,TI,PI,DI,GI];class _m extends nl{constructor(t,i,n,x,S,M){super(t,i,n,x,S,M);for(var b=0,D=qm.length;b<D;b++)qm[b](this)}}K.register("transitionImagePack",function(e,t,i,n,x){var S=new _m(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.TransitionImagePack",_m);var zI=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=xf(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},tx={scaleImage:zI};Object.assign(tx,Km);var NI=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),je(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const ex=Phaser.Utils.Objects.IsPlainObject,Gs=Phaser.Utils.Objects.GetValue;class hl extends xi{constructor(t,i,n,x,S,M){ex(i)?(M=i,i=Gs(M,"x",0),n=Gs(M,"y",0),x=Gs(M,"key",void 0),S=Gs(M,"frame",void 0)):ex(S)&&(M=S,S=void 0);var b=Gs(M,"image");b?b.setPosition(i,n).setOrigin(.5):(b=t.add.image(i,n,x,S),x===void 0&&b.setVisible(!1)),super(t,i,n,1,1),this.type="rexImageBox";var D=Gs(M,"background");D&&this.add(D),this.background=D,this.add(b),this.image=b,this.scaleUp=Gs(M,"scaleUp",!1);var k=Gs(M,"width",b.width),W=Gs(M,"height",b.height);this.resize(k,W)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),NI.call(this),this.scaleImage(),this}setTexture(t,i){var n=this.image;return n.setTexture(t,i),t!==null?(this.setChildVisible(n,!0),this.scaleImage()):this.setChildVisible(n,!1),this}}Object.assign(hl.prototype,tx),K.register("imageBox",function(e,t,i,n,x){var S=new hl(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.ImageBox",hl),K.register("fullWindowRectangle",function(e,t){var i=new tf(this.scene,e,t);return this.scene.add.existing(i),i}),$(window,"RexPlugins.UI.FullWindowRectangle",tf),K.register("fullWindowZone",function(){var e=new td(this.scene);return this.scene.add.existing(e),e}),$(window,"RexPlugins.UI.FullWindowZone",td),K.register("cover",function(e){var t=new sf(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Cover",sf);var If=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this};const ix={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},sx={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},VI={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},rx=Phaser.Utils.Objects.GetValue;var nx=function(e,t,i,n){var x=rx(n,"preventDefault",!1),S=rx(n,"preTest");for(let M in i)t.addEventListener(M,function(b){(!S||S(e,M))&&e.emit(i[M],e,b),x&&b.preventDefault()})};const WI=Phaser.GameObjects.DOMElement,ax=Phaser.Utils.Objects.IsPlainObject,fs=Phaser.Utils.Objects.GetValue;class ol extends WI{constructor(t,i,n,x,S,M){ax(i)?(M=i,i=fs(M,"x",0),n=fs(M,"y",0),x=fs(M,"width",0),S=fs(M,"height",0)):ax(x)&&(M=x,x=fs(M,"width",0),S=fs(M,"height",0)),M===void 0&&(M={});var b,D=fs(M,"inputType",void 0);D===void 0&&(D=fs(M,"type","text")),D==="textarea"?(b=document.createElement("textarea"),b.style.resize="none"):(b=document.createElement("input"),b.type=D),oo(ix,M,b);var k=fs(M,"style",void 0);k=oo(sx,M,k);var W=b.style;for(var Z in M)if(!(Z in ix||Z in sx)){if(Z in W)k[Z]=M[Z];else if(Z in b){if(Z==="type")continue;b[Z]=M[Z]}}k["box-sizing"]="border-box",super(t,i,n,b,k),this.type="rexInputText",this.resize(x,S),nx(this,b,VI),bg(b),fs(M,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var UI={resize:If};Object.assign(ol.prototype,UI),K.register("inputText",function(e){var t=new ol(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.InputText",ol);const hx=Phaser.Utils.Objects.GetValue;var XI=function(e,t){var i=document.createElement("input");i.type="file";var n=hx(t,"accept",""),x=hx(t,"multiple",!1);return i.setAttribute("accept",n),x?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},ox=function(e,t){return e===void 0&&(e=0),new Promise(function(i,n){setTimeout(function(){i(t)},e)})},lx=function({game:e,fileInput:t,closeDelay:i}){return ao(w(e).events,"focus").then(function(){return ox(i)}).then(function(){var n={files:t.files};return Promise.resolve(n)})};const YI=Phaser.Utils.Objects.GetValue,HI=Phaser.DOM.RemoveFromDOM;var ux=function(e,t){var i=YI(t,"closeDelay",200),n=XI(e,t);return n.click(),lx({game:e,fileInput:n,closeDelay:i}).then(function(x){return HI(n),n.remove(),Promise.resolve(x)})},dx=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},$I=function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=w(e);var n;return i==="textures"?n=e.textures:n=e.cache[i],n},fx=function(e,t,i,n,x,S){if(!(x===null||x===!1))if(Hi(x))x();else{var M=$I(e,i,x);M.exists(n)&&M.remove(n)}var b=e.load;if(S&&b.once(`filecomplete-${i}-${n}`,function(k,W,Z){S(Z)}),Hi(t))t();else{var D=window.URL.createObjectURL(t);b[i](n,D)}b.start()},KI=function(e,t,i,n,x){var S=this.scene;return fx(S,e,t,i,n,x),this},ZI=function(e,t,i,n){var x=this.scene;return new Promise(function(S,M){var b=function(D){S(D)};fx(x,e,t,i,n,b)})},cx={loadFile:KI,loadFilePromise:ZI};const JI=Phaser.GameObjects.DOMElement,vx=Phaser.Utils.Objects.IsPlainObject,cs=Phaser.Utils.Objects.GetValue;class th extends JI{constructor(t,i,n,x,S,M){vx(i)?(M=i,i=cs(M,"x",0),n=cs(M,"y",0),x=cs(M,"width",0),S=cs(M,"height",0)):vx(x)&&(M=x,x=cs(M,"width",0),S=cs(M,"height",0));var b=document.createElement("input");b.type="file";var D=b.style;D.display="none";var k=document.createElement("label");k.appendChild(b);var W=cs(M,"style",void 0);super(t,i,n,k,W),this.type="rexFileChooser",this.resetFromJSON(M),this.resize(x,S);var Z=this;b.onchange=function(){Z.emit("change",Z)},this.setCloseDelay(cs(M,"closeDelay",200)),b.onclick=function(){lx({game:t,fileInput:b,closeDelay:Z.closeDelay}).then(function(){Z.emit("select",Z)})}}resetFromJSON(t){return this.setAccept(cs(t,"accept","")),this.setMultiple(cs(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var QI={resize:If,syncTo:dx};Object.assign(th.prototype,QI,cx),K.register("fileChooser",function(e){var t=new th(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.FileChooser",th);var jI={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},qI={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}},px={resize:If,syncTo:dx};Object.assign(px,jI,qI,cx);const _I={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},t4=Phaser.GameObjects.DOMElement,gx=Phaser.Utils.Objects.IsPlainObject,zs=Phaser.Utils.Objects.GetValue;class kf extends t4{constructor(t,i,n,x,S,M){gx(i)?(M=i,i=zs(M,"x",0),n=zs(M,"y",0),x=zs(M,"width",0),S=zs(M,"height",0)):gx(x)&&(M=x,x=zs(M,"width",0),S=zs(M,"height",0)),M===void 0&&(M={});var b=document.createElement("div"),D=zs(M,"style",void 0);super(t,i,n,b,D),this.type="rexFileDropZone",this.resize(x,S),this._files=[],this.setDropEnable(zs(M,"dropEnable",!0));var k=zs(M,"filters");k&&this.addFilters(k),nx(this,b,_I,{preventDefault:!0,preTest(W){return W.dropEnable}}),this.on("drop",function(W,Z){this._files=Z.dataTransfer.files;var tt=this._files;if(tt&&this.filters)for(var _ in this.filters){for(var st=this.filters[_],at=[],nt=0,ut=tt.length;nt<ut;nt++){var ct=tt[nt];st(ct,tt)&&at.push(ct)}at.length>0&&this.emit(`drop.${_}`,at)}},this)}get files(){return this._files}}Object.assign(kf.prototype,px),K.register("fileDropZone",function(e){var t=new kf(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.FileDropZone",kf);var e4=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,n,x,S,M,b,D=!1;if(this.childrenProportion,this.orientation===0)for(var k=!0,W=0,Z=i.length;W<Z;W++)n=i[W],n.hasOwnProperty("rexSizer")&&(x=n.rexSizer,!x.hidden&&(S=x.proportion,S===0||e?(b=this.getChildWidth(n),x.fitRatio>0&&!x.resolved&&(b=void 0),b===void 0&&(S!==0&&!this.hasProportion0Child?b=0:D=!0)):b=0,!D&&(M=n.rexSizer.padding,b+=(M.left+M.right)*this.scaleX,k?k=!1:b+=this.space.item*this.scaleX,t+=b)));else for(var W=0,Z=i.length;W<Z;W++)n=i[W],n.hasOwnProperty("rexSizer")&&(x=n.rexSizer,!x.hidden&&(b=this.getChildWidth(n),b===void 0&&(D=!0),!D&&(M=x.padding,b+=(M.left+M.right)*this.scaleX,t=Math.max(b,t))));if(!D)return t+(this.space.left+this.space.right)*this.scaleX},i4=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,n,x,S,M,b,D=!1;if(this.childrenProportion,this.orientation===0)for(var k=0,W=i.length;k<W;k++)n=i[k],n.hasOwnProperty("rexSizer")&&(x=n.rexSizer,!x.hidden&&(b=this.getChildHeight(n),b===void 0&&(D=!0),!D&&(M=x.padding,b+=(M.top+M.bottom)*this.scaleY,t=Math.max(b,t))));else for(var Z=!0,k=0,W=i.length;k<W;k++)n=i[k],n.hasOwnProperty("rexSizer")&&(x=n.rexSizer,!x.hidden&&(S=x.proportion,S===0||e?(b=this.getChildHeight(n),x.fitRatio>0&&!x.resolved&&(b=void 0),b===void 0&&(S!==0&&!this.hasProportion0Child?b=0:D=!0)):b=0,!D&&(M=x.padding,b+=(M.top+M.bottom)*this.scaleY,Z?Z=!1:b+=this.space.item*this.scaleY,t+=b)));if(!D)return t+(this.space.top+this.space.bottom)*this.scaleY},s4=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,n=e.rexSizer;if(this.orientation===0)n.proportion>0&&this.proportionLength>0&&(i=n.proportion*this.proportionLength);else if(n.expand){var x=this.space,S=t-(x.left+x.right)*this.scaleX,M=n.padding;i=S-(M.left+M.right)*this.scaleX}return i},r4=function(e,t){t===void 0&&(t=this.height);var i,n=e.rexSizer;if(this.orientation===0){if(n.expand){var x=this.space,S=t-(x.top+x.bottom)*this.scaleY,M=n.padding;i=S-(M.top+M.bottom)*this.scaleY}}else n.proportion>0&&this.proportionLength>0&&(i=n.proportion*this.proportionLength);return i},n4=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,x=t.length;n<x;n++)i=t[n],i.isRexSizer&&e.push(i);return e},a4=function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,n=0,x=i.length;n<x;n++)e=i[n],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(je(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,Ua.call(this),this};const h4=Phaser.Math.Wrap;var o4=function(){for(var e=this.sizerChildren,t,i,n,x=this.innerLeft,S=this.innerTop,M=this.innerWidth,b=this.innerHeight,D=x,k=S,W,Z,tt,_,st,at,nt,ut,ct,dt=this.startChildIndex,mt=0,Tt=e.length;mt<Tt;mt++)dt===0?ct=mt:ct=h4(mt+dt,0,Tt),this.rtl&&(ct=Tt-ct-1),t=e[ct],!t.rexSizer.hidden&&(i=t.rexSizer,n=i.padding,Ha.call(this,t),t.isRexSpace?(nt=0,ut=0):(nt=this.getExpandedChildWidth(t),ut=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,nt,ut),yf(t,this)):je(t,nt,ut),nt===void 0&&(nt=se(t)),ut===void 0&&(ut=re(t)),this.orientation===0?(W=D+n.left*this.scaleX,i.proportion===0||this.proportionLength===0?tt=nt:tt=i.proportion*this.proportionLength,Z=k+n.top*this.scaleY,_=b-(n.top+n.bottom)*this.scaleY):(W=D+n.left*this.scaleX,tt=M-(n.left+n.right)*this.scaleX,Z=k+n.top*this.scaleY,i.proportion===0||this.proportionLength===0?_=ut:_=i.proportion*this.proportionLength),nt===void 0&&(nt=se(t)),ut===void 0&&(ut=re(t)),st=(i.alignOffsetX+i.alignOffsetOriginX*nt)*this.scaleX,at=(i.alignOffsetY+i.alignOffsetOriginY*ut)*this.scaleY,$a.call(this,t,W,Z,tt,_,i.align,st,at),this.orientation===0?D+=tt+(n.left+n.right)*this.scaleX+this.space.item*this.scaleX:k+=_+(n.top+n.bottom)*this.scaleY+this.space.item*this.scaleY)},l4=function(t){var t=Wd.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},u4=function(t){var t=Yd.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},d4=function(){return this.hasRatioFitChild&&this.orientation===1?!0:Ud.call(this)},mx=function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var n,x,S,M,b=this.sizerChildren,D=0,k=b.length;D<k;D++){var n=b[D],x=n.rexSizer;if(!x.hidden){var W=x.fitRatio;W&&(this.orientation===0?(M=i-(this.getChildOuterPadding(n,"top")+this.getChildOuterPadding(n,"bottom"))*this.scaleY,S=M*W):(S=i-(this.getChildOuterPadding(n,"top")+this.getChildOuterPadding(n,"bottom"))*this.scaleX,M=S/W),je(n,S,M),n.isRexSizer&&n.setMinSize(S,M),x.resolved=!0)}}}},f4=function(e){this.wrapResult||(this.orientation===1&&mx.call(this,e,void 0),Xd.call(this,e))},c4=function(){return this.hasRatioFitChild&&this.orientation===0?!0:Hd.call(this)},v4=function(e){this.wrapResult||(this.orientation===0&&mx.call(this,void 0,e),$d.call(this,e))};const p4=Phaser.GameObjects.Zone;class Gf extends p4{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var g4=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var n=-1,x=1/0,S=0,M=i.length;S<M;S++){var b=i[S],D;this.orientation===0?D=Math.abs(b.left-e):D=Math.abs(b.top-t),x>D&&(x=D,n=S)}var b=i[i.length-1],D;return this.orientation===0?D=Math.abs(b.right-e):D=Math.abs(b.bottom-t),x>D&&(x=D,n=S+1),n};const xx=Phaser.Utils.Objects.IsPlainObject,Ci=Phaser.Utils.Objects.GetValue,yx=Phaser.Display.Align.CENTER,m4={min:0,full:-1};var zf=function(e,t,i,n,x,S,M,b,D,k){var W,Z,tt,_;Va.call(this,e);var st=e.isRexSpace,at=typeof t;if(t===null)return this;if(at!=="number"){if(at==="string")t=m4[t];else if(xx(t)){var nt=t;t=Ci(nt,"proportion",void 0),i=Ci(nt,"align",yx),n=Ci(nt,"padding",0),x=Ci(nt,"expand",!1),S=Ci(nt,"key",void 0),M=Ci(nt,"index",void 0),e.isRexSizer||(b=Ci(nt,"minWidth",void 0),D=Ci(nt,"minHeight",void 0)),k=Ci(nt,"fitRatio",0),W=Ci(nt,"offsetX",0),Z=Ci(nt,"offsetY",0),tt=Ci(nt,"offsetOriginX",0),_=Ci(nt,"offsetOriginY",0)}}typeof i=="string"&&(i=In[i]),t===void 0&&(t=st?1:0),i===void 0&&(i=yx),n===void 0&&(n=0),x===void 0&&(x=!1),b===void 0&&(st?b=0:e.isRexSizer||(b=e._minWidth)),D===void 0&&(st?D=0:e.isRexSizer||(D=e._minHeight)),k===void 0||k===!1?k=0:k===!0&&(k=se(e)/re(e)),W===void 0&&(W=0),Z===void 0&&(Z=0),tt===void 0&&(tt=0),_===void 0&&(_=0);var nt=this.getSizerConfig(e);return nt.proportion=t,nt.align=i,nt.padding=zr(n),nt.expand=x,nt.fitRatio=t===0?k:0,nt.alignOffsetX=W,nt.alignOffsetY=Z,nt.alignOffsetOriginX=tt,nt.alignOffsetOriginY=_,M===void 0||M>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(M,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=b===void 0?se(e):b:e.minHeight=D===void 0?re(e):D),x&&(this.orientation===0?e.minHeight=D:e.minWidth=b)),S!==void 0&&this.addChildrenMap(S,e),this},x4={add:zf,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),zf.call(this,new Gf(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,n,x,S,M,b){return xx(i)&&(i.index=e),zf.call(this,t,i,n,x,S,M,e,b),this},insertAtPosition(e,t,i,n,x,S,M,b,D){var k=g4.call(this,e,t);return k===-1&&(k=void 0),this.insert(k,i,n,x,S,M,b,D),this}};const y4=Phaser.Utils.Array.Remove;var C4={remove(e,t){return this.getParentSizer(e)!==this?this:(y4(this.sizerChildren,e),Wa.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,qo.call(this,e),this}},S4={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=In[t]),this.getSizerConfig(e).align=t,this}},T4={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},P4={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}},E4=function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],n=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?n||this.insertSpace(0):n&&this.remove(i,!0);var x=t.length-1,S=t[x],M=S&&S.isRexSpace;return e==="center"?M||this.insertSpace(x+1):M&&this.remove(S,!0),this},Nf={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(i,n){var x=i.getData(e),S=n.getData(e);return t?S-x:x-S}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(i,n){var x=i[e],S=n[e];return t?S-x:x-S}),this}},Cx={getChildrenWidth:e4,getChildrenHeight:i4,getExpandedChildWidth:s4,getExpandedChildHeight:r4,getChildrenSizers:n4,preLayout:a4,layoutChildren:o4,resolveWidth:l4,resolveHeight:u4,hasWidthWrap:d4,runWidthWrap:f4,hasHeightWrap:c4,runHeightWrap:v4,setChildrenAlignMode:E4};Object.assign(Cx,x4,C4,S4,T4,P4,Nf);var M4=function(){for(var e=0,t=this.sizerChildren,i,n,x=0,S=t.length;x<S;x++)i=t[x],!i.rexSizer.hidden&&(n=i.rexSizer.proportion,n>0?e+=n:n===0&&(this.hasProportion0Child=!0));return e};const Vf=Phaser.Utils.Objects.IsPlainObject,Fi=Phaser.Utils.Objects.GetValue;class jt extends Ur{constructor(t,i,n,x,S,M,b){Vf(i)?(b=i,i=Fi(b,"x",0),n=Fi(b,"y",0),x=Fi(b,"width",void 0),S=Fi(b,"height",void 0),M=Fi(b,"orientation",0)):Vf(x)?(b=x,x=Fi(b,"width",void 0),S=Fi(b,"height",void 0),M=Fi(b,"orientation",0)):Vf(M)&&(b=M,M=Fi(b,"orientation",0)),M===void 0&&(M=0),super(t,i,n,x,S,b),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(M),this.setItemSpacing(Fi(b,"space.item",0)),this.setStartChildIndex(Fi(b,"startChildIndex",0)),this.setRTL(Fi(b,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Fr(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=M4.call(this)),this._childrenProportion}}Object.assign(jt.prototype,Cx);var ll=function(e,t,i){if(e){var n=t==null,x=i==null;return n&&x||(n||(e.displayWidth=t),x||(e.displayHeight=i),n&&(e.scaleX=e.scaleY),x&&(e.scaleY=e.scaleX)),e}},w4=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var n=e.iconSize;n&&(this.setChildDisplaySize(i,n,n),this.iconWidth!==void 0&&this.setIconSize(n)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var x=this.childrenMap.action;if(x){e.action?this.show(x):this.hide(x);var S=e.actionSize;S&&(this.setChildDisplaySize(x,S,S),this.actionWidth!==void 0&&this.setActionSize(S)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},R4={appendText:Yv,resetDisplayContent:w4};class Wf extends jt{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var n=this.childrenMap.icon;return!n||!n.setTexture?this:(n.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(ll(n,this.iconWidth,this.iconHeight),this.resetChildScaleState(n)),this)}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var n=this.childrenMap.action;return!n||!n.setTexture?this:(n.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(ll(n,this.actionWidth,this.actionHeight),this.resetChildScaleState(n)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&ll(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&ll(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,n){var x=this.childrenMap.iconMask;x&&(x.setPosition(),this.resetChildPositionState(x));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,i,n),this}resize(t,i){super.resize(t,i);var n=this.childrenMap.iconMask;n&&n.resize();var x=this.childrenMap.actionMask;return x&&x.resize(),this}}Object.assign(Wf.prototype,R4);var Qi=function(e,t,i,n){var x=new rl(t,i,n);if(e&&!e.isRexSizer){var S=x.createGeometryMask();e.setMask(S),this.once("destroy",function(){e.setMask(),S.destroy()})}return this.pin(x),x};const A4=Phaser.GameObjects.Text;var Uf=function(e){return e instanceof A4};const b4=Phaser.GameObjects.BitmapText;var Sx=function(e){return e instanceof b4};const qe=0,_e=1,Si=2;var ur=function(e){var t;return Sx(e)?t=Si:Uf(e)?t=qe:t=_e,t},L4=function(e,t){for(var i=[],n=e.split(`
`),x=t.style,S=x.wordWrapWidth,M=x.hasOwnProperty("wrapMode")?x.wrapMode:3,b=t.context,D=0,k=n.length;D<k;D++)D4(b,n[D],S,M,i);return i},O4=function(e,t){var i;if(t===2)i=e.split("");else{i=[];for(var n=e.split(" "),x,S=0,M=n.length;S<M;S++)x=n[S],S<M-1?ha(x)?i.push(x+" "):(i.push(...x.split("")),i.push(" ")):x!==""&&(ha(x)?i.push(x):i.push(...x.split("")))}return i},D4=function(e,t,i,n,x){if(t.length<=100){var S=e.measureText(t).width;if(S<=i)return x.push(t),x}for(var M=O4(t,n),b,D,k=[],W=i,Z=0,tt=M.length;Z<tt;Z++)b=M[Z],D=e.measureText(b).width,W-=D,W<0&&(x.push(k.join("")),k.length=0,W=i-D),k.push(b);return k.length>0&&x.push(k.join("")),x},Xf=function(e,t){var i=ur(e);switch(i){case qe:switch(typeof t=="string"&&(t=Vh[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=L4;break;case 1:default:e.style.wordWrapCallback=null;break}break;case _e:typeof t=="string"&&(t=Vh[t]||0),e.style.wrapMode=t;break}},F4=function(e){var t=function(i){var n=e.padding,x=i-(n.left+n.right)*e.scaleX,S=e.style;return Uf(e)?(S.wordWrapWidth=x,S.maxLines=0):(S.wrapMode===0&&(S.wrapMode=1),S.wrapWidth=x,S.maxLines=0),S.fixedWidth=i,S.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},B4=function(e){var t=function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e};return t},I4=function(e){var t=function(i){return e.setMaxWidth(i),e.minHeight=e.height,e};return t},k4=function(e){return e instanceof xn},ul=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=k4(e)?B4(e):Sx(e)?I4(e):F4(e),e};const Yf=65535;var dl=function(e,t,i){if(t==null)return e;if(t===0)return Hf(e,0,i),e;var n=e.text.length;if(n===0)return Hf(e,t,i),e;var x=Math.floor(t*1.5/n);i!==void 0&&x>i&&(x=Math.floor(i));for(var S={},M=Px(e,x,t,i,S),b=0;b<=Yf&&M!==0;b++){if(x+=M,x<0){x=0;break}M=Px(e,x,t,i,S)}return b===Yf&&console.warn(`FontSizeFit: Test count exceeds ${Yf}`),e.setFontSize(x),Hf(e,t,i),e},Tx=function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},Px=function(e,t,i,n,x){var S=Tx(e,t,x),M=Tx(e,t+1,x),b;if(n!==void 0)if(S.height<=n&&M.height>n)b=0;else{if(S.height>n)return-1;b=Math.floor(n-S.height)}var D;if(S.width<=i&&M.width>i)return 0;if(S.width>i)return-1;var D=Math.floor(i-S.width);return b===void 0?D:Math.min(D,b)},Hf=function(e,t,i){var n=e.style;n&&(n.fixedWidth=t,n.parent.width=t,i!==void 0&&(n.fixedHeight=i,n.parent.height=i),n.update(!1))};const $f=Phaser.Utils.Objects.GetValue;var fl=function(e,t){typeof t=="number"&&(t={minWidth:t});var i=$f(t,"minWidth",0),n=$f(t,"minHeight",0),x=$f(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=n,x?(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(S,M){return dl(e,S,M),e}):(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),dl(e,S,void 0),e},e.resize=function(S,M){return e.width===S&&e.height===M||e.setFixedSize(S,M),e}),e};const te=Phaser.Utils.Objects.GetValue;class Ns extends Wf{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexLabel";var n=te(i,"background",void 0),x=te(i,"icon",void 0),S=te(i,"iconMask",void 0),M=te(i,"text",void 0),b=te(i,"action",void 0),D=te(i,"actionMask",void 0),k=te(i,"align",void 0);if(n&&this.addBackground(n),x){var W;this.orientation===0?(M||b)&&(W={right:te(i,"space.icon",0),top:te(i,"space.iconTop",0),bottom:te(i,"space.iconBottom",0),left:te(i,"space.iconLeft",0)}):(M||b)&&(W={bottom:te(i,"space.icon",0),left:te(i,"space.iconLeft",0),right:te(i,"space.iconRight",0),top:te(i,"space.iconTop",0)});var Z=te(i,"squareFitIcon",!1)?1:0;if(this.add(x,{proportion:0,padding:W,fitRatio:Z}),S&&(S=Qi.call(this,x,x,1)),!Z){var tt=te(i,"iconSize",void 0);this.setIconSize(te(i,"iconWidth",tt),te(i,"iconHeight",tt))}}if(M){var _=te(i,"wrapText",!1),st=te(i,"adjustTextFontSize",!1);_?(_===!0&&(_="word"),Xf(M,_),i.expandTextWidth=!0,ul(M)):st&&(i.expandTextWidth=!0,i.expandTextHeight=!0,fl(M,{fitHeight:!0}));var at=te(i,"space.text",0),nt=te(i,"expandTextWidth",!1),ut=te(i,"expandTextHeight",!1),ct,W,dt;this.orientation===0?(ct=nt?1:0,b&&(W={right:at}),dt=ut):(ct=ut?1:0,b&&(W={bottom:at}),dt=nt),this.add(M,{proportion:ct,expand:dt,padding:W})}if(b){var W;this.orientation===0?W={top:te(i,"space.actionTop",0),bottom:te(i,"space.actionBottom",0),right:te(i,"space.actionRight",0)}:W={left:te(i,"space.actionLeft",0),right:te(i,"space.actionRight",0),bottom:te(i,"space.actionBottom",0)};var Z=te(i,"squareFitAction",!1)?1:0;if(this.add(b,{proportion:0,padding:W,fitRatio:Z}),D&&(D=Qi.call(this,b,b,1)),!Z){var mt=te(i,"actionSize");this.setActionSize(te(i,"actionWidth",mt),te(i,"actionHeight",mt))}}this.setChildrenAlignMode(k),this.addChildrenMap("background",n),this.addChildrenMap("icon",x),this.addChildrenMap("iconMask",S),this.addChildrenMap("text",M),this.addChildrenMap("action",b),this.addChildrenMap("actionMask",D)}}const dr=Phaser.Utils.Objects.GetValue;var G4=function(e,t){var i=dr(t,"canvas"),n=dr(i,"width",128),x=dr(i,"height",128),S=new Dr(e,0,0,n,x);e.add.existing(S);var M=dr(i,"key"),b=dr(i,"frame"),D=dr(i,"fill");return D!==void 0?S.fill(D):M!==void 0&&S.loadTexture(M,b),S.setTexture=S.loadTexture.bind(S),S},z4=function(e,t){var i=new hl(e,{scaleUp:dr(t,"scaleUpIcon",!1),background:dr(t,"iconBackground"),image:G4(e,t)});return e.add.existing(i),i};const N4=Phaser.Utils.Objects.GetValue;var Ex=function(e,t){var i=N4(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i};const V4=Phaser.Utils.Objects.GetValue;var W4=function(e,t){var i=Ex(e,t);if(i){var n=V4(t,"click"),x=new Ls(i,n);return x.on("click",e.open,e),x}};const Mx={accept:"image/*",multiple:!1};var wx=function(e,t){if(t.length!==0){var i=e.childrenMap.icon,n=i.image,x=t[0];return n.loadFromFilePromise(x).then(function(){return i.scaleImage(),e.emit("select",x,e),Promise.resolve(x)})}},U4=function(e,t){var i=e.scene,n=new th(i,Mx);return i.add.existing(n),e.pin(n),n.on("change",function(){wx(e,n.files)}),n},X4={async openPromise(){var e=this;return ux(this.scene.game,Mx).then(function(t){return wx(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}},Y4=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},H4=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},Rx={getFileName:Y4,saveTexture:H4};Object.assign(Rx,X4);const $4=Phaser.Utils.Objects.GetValue;class Kf extends Ns{constructor(t,i){var n=z4(t,i);i.icon=n,super(t,i),this.type="rexImageFileInputLabel";var x=this.iconWidth,S=this.iconWidth;x!==void 0&&S!==void 0&&n.resize(x,S),this.clickTarget=Ex(this,i),this.clickTarget&&($4(i,"domButton",!0)?this.fileChooser=U4(this):this.clickBehavior=W4(this,i)),this.addChildrenMap("canvas",n.image),this.addChildrenMap("iconBackground",n.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,i,n){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,i,n)}}Object.assign(Kf.prototype,Rx),K.register("imageInputLabel",function(e){var t=new Kf(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.ImageInputLabel",Kf);let K4=class extends xe{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(ie(t,i))return t[i];var n=t.parent;if(ie(n,i))return n[i]}set(t,i,n){return ie(t,i)?t[i]=n:ie(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const Zf=Phaser.Utils.Objects.GetValue;class Z4 extends xe{constructor(t,i){super(t,i),this.style=Zf(i,"style",this);var n=Zf(i,"propertiesMap");this.activeStyle=Jf(i,"active",n),this.hoverStyle=Jf(i,"hover",n),this.disableStyle=Jf(i,"disable",n),this.onModifyStyle=Zf(i,"onModifyStyle")}getStyle(t){return uo(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!Ma(i,t))return this.modifyStyle(t),i}}setActiveState(t){return Qf.call(this,"active",t),this}setHoverState(t){return Qf.call(this,"hover",t),this}setDisableState(t){return Qf.call(this,"disable",t),this}}var Jf=function(e,t,i){var n=lo(e,t);if(i)for(var x in n)i.hasOwnProperty(x)&&(n[i[x]]=n[x],delete n[x]);return n},Qf=function(e,t){t===void 0&&(t=!0);var i=`${e}State`,n=`${e}Style`,x=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[x]=this.applyStyle(this[n]):(this.applyStyle(this[x]),this[x]=void 0))},Xr={addStyleManager(e){return this.styleManager=new Z4(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}};const J4=Phaser.GameObjects.Image,eh=Phaser.Utils.Objects.GetValue;class ih extends J4{constructor(t,i){i===void 0&&(i={});var n=eh(i,"x",0),x=eh(i,"y",0),S=eh(i,"key",""),M=eh(i,"frame",void 0);super(t,n,x,S,M),this.type="rexStatesImage";var b=eh(i,"effects",!0);b&&yn(this,b),this.style=new K4(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(ih.prototype,Xr),K.register("statesImage",function(e){var t=new ih(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.StatesImage",ih);class sh extends Tr{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=Q4,this.addStyleManager(i),delete i.style,delete i.propertiesMap}}const Q4={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(sh.prototype,Xr),K.register("statesRoundRectangle",function(e){var t=new sh(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.StatesRoundRectangle",sh);let j4=class extends xe{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(ie(t,i))return t[i];var n=t.parent;if(ie(n,i))return n[i]}set(t,i,n){return ie(t,i)?t[i]=n:ie(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}};const q4=Phaser.GameObjects.NineSlice,ji=Phaser.Utils.Objects.GetValue;class rh extends q4{constructor(t,i){i===void 0&&(i={});var n=ji(i,"x",0),x=ji(i,"y",0),S=ji(i,"key",null),M=ji(i,"frame",null),b=ji(i,"width",0),D=ji(i,"height",0),k=ji(i,"leftWidth",0),W=ji(i,"rightWidth",0),Z=ji(i,"topHeight",0),tt=ji(i,"bottomHeight",0);super(t,n,x,S,M,b,D,k,W,Z,tt),this.type="rexStatesNineSlice";var _=ji(i,"effects",!0);_&&yn(this,_),this.style=new j4(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(rh.prototype,Xr),K.register("statesNineSlice",function(e){var t=new rh(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.StatesNineSlice",rh);let _4=class extends xe{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(ie(t,i))return t[i];var n=t.parent;if(ie(n,i))return n[i]}set(t,i,n){return ie(t,i)?t[i]=n:ie(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}};const t9=Phaser.Utils.Objects.GetValue;class nh extends G{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesNinePatch";var n=t9(i,"effects",!0);n&&yn(this,n),this.style=new _4(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(nh.prototype,Xr),K.register("statesNinePatch",function(e){var t=new nh(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.StatesNinePatch",nh);const e9=Phaser.GameObjects.Text,jf=Phaser.Utils.Objects.GetValue;class cl extends e9{constructor(t,i){i===void 0&&(i={});var n=jf(i,"x",0),x=jf(i,"y",0),S=jf(i,"text","");super(t,n,x,S,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(M,b){var D=b.hasOwnProperty("fontStyle")||b.hasOwnProperty("fontSize")||b.hasOwnProperty("fontFamily");M.style.update(D)},this.addStyleManager(i),delete i.style}}Object.assign(cl.prototype,Xr),K.register("statesText",function(e){var t=new cl(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.StatesText",cl);class i9 extends xe{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(ie(t,i))return t[i];var n=t.parent;if(ie(n,i))return n[i]}set(t,i,n){return ie(t,i)?t[i]=n:ie(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const s9=Phaser.GameObjects.BitmapText,Yr=Phaser.Utils.Objects.GetValue;class vl extends s9{constructor(t,i){i===void 0&&(i={});var n=Yr(i,"x",0),x=Yr(i,"y",0),S=Yr(i,"font",""),M=Yr(i,"fontSize",!1),b=Yr(i,"align",0),D=Yr(i,"tint");super(t,n,x,S,"",M,b),this.type="rexStatesBitmapText",D!==void 0&&this.setTint(D);var k=Yr(i,"effects",!0);k&&yn(this,k),this.style=new i9(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(vl.prototype,Xr),K.register("statesBitmapText",function(e){var t=new vl(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.StatesBitmapText",vl);class pl extends So{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("value")||(i.value=0),i.hasOwnProperty("hover.bar")||(i["hover.bar"]=!0),i.hasOwnProperty("easeDuration")||(i.easeDuration=200),i.hasOwnProperty("ease")||(i.ease="Quad"),$(i,"easeValue.duration",i.easeDuration),$(i,"easeValue.ease",i.ease),super(t,i),this.type="rexStatesBarRectangleShape",this.barState=!1,i.style=this,i.propertiesMap=r9,this.addStyleManager(i),delete i.style,delete i.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}}const r9={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(pl.prototype,Xr),K.register("statesBarRectangle",function(e){var t=new pl(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.StatesBarRectangle",pl);var n9=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,a9(this,e)),this},a9=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var n=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(n=!0,i.animation={});var x=i.animation;n&&(x.duration=0);var S=x.onProgress;x.onProgress=function(b){S&&S(b),e.needRedraw()};var M=x.onComplete;return x.onComplete=function(b){M&&M(b),e.needRedraw()},t},h9=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,n=0,x=t.length;n<x;n++)if(i=t[n],i.label===e)return i}else return this.chart.data.datasets[e]},o9=function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var n=this.chart.data.labels;if(t=n.indexOf(t),t===-1)return}return i.data[t]}},l9=function(e,t,i){if(this.chart===void 0)return this;var n=this.getChartDataset(e);if(typeof t=="string"){var x=this.chart.data.labels;if(t=x.indexOf(t),t===-1)return this}return n.data[t]=i,this},u9=function(){return this.chart===void 0?this:(this.chart.update(),this)};let qf=class extends Dr{constructor(t,i,n,x,S,M){super(t,i,n,x,S),this.type="rexChart",this.chart=void 0,M!==void 0&&this.setChart(M)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,i){if(t===this.width&&i===this.height)return this;if(super.resize(t,i),this.chart){var n=this.chart;n.height=this.canvas.height,n.width=this.canvas.width,n.aspectRatio=n.height?n.width/n.height:null,n.update()}return this}};var d9={setChart:n9,getChartDataset:h9,getChartData:o9,setChartData:l9,updateChart:u9};Object.assign(qf.prototype,d9),K.register("chart",function(e,t,i,n,x){var S=new qf(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.Chart",qf),K.register("container",function(e,t,i,n,x){var S=new xi(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.Container",xi),K.register("sizer",function(e,t,i,n,x,S){var M=new jt(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),$(window,"RexPlugins.UI.Sizer",jt);var Ax=function(){return Array.prototype.reduce.call(arguments,f9,0)},f9=function(e,t){return e+t},c9=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,n=this.sizerChildren,x,S,M,b,D=!1;this.totalColumnProportions;for(var k=0;k<this.columnCount;k++){if(b=this.columnProportions[k],i=0,b===0||e){for(var W=0;W<this.rowCount;W++)x=n[W*this.columnCount+k],x&&(x.rexSizer.hidden||(M=this.getChildWidth(x),M===void 0&&(b!==0&&!this.hasColumnProportion0Child?M=0:D=!0),!D&&(S=x.rexSizer.padding,M+=(S.left+S.right)*this.scaleX,i=Math.max(i,M))));D||(t+=i)}D||e&&(this.columnWidth[k]=i)}if(!D){var Z=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),tt=Ax(this.space.left,Z,...this.space.column,this.space.right);return t+tt*this.scaleX}},v9=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,n=this.sizerChildren,x,S,M,b,D=!1;this.totalRowProportions;for(var k=0;k<this.rowCount;k++){if(b=this.rowProportions[k],i=0,b===0||e){for(var W=0;W<this.columnCount;W++)x=n[k*this.columnCount+W],x&&(x.rexSizer.hidden||(M=this.getChildHeight(x),M===void 0&&(b!==0&&!this.hasRowProportion0Child?M=0:D=!0),!D&&(S=x.rexSizer.padding,M+=(S.top+S.bottom)*this.scaleY,i=Math.max(i,M))));D||(t+=i)}D||e&&(this.rowHeight[k]=i)}if(!D){var Z=Math.max(this.space.indentTopOdd,this.space.indentTopEven),tt=Ax(this.space.top,Z,...this.space.row,this.space.bottom);return t+tt*this.scaleY}},p9=function(e,t){var i,n=e.rexSizer;if(n.expandWidth){var x=n.padding;i=t-(x.left+x.right)*this.scaleX}return i},g9=function(e,t){var i,n=e.rexSizer;if(n.expandHeight){var x=n.padding;i=t-(x.top+x.bottom)*this.scaleY}return i},m9=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,x=t.length;n<x;n++)i=t[n],i&&i.isRexSizer&&e.push(i);return e},x9=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,Ua.call(this),this},y9=function(){for(var e,t,i,n=this.innerLeft,x=this.innerTop,S,M=x,b,D,k,W,Z,tt,_,st,at,nt,ut,ct,dt=0;dt<this.rowCount;dt++){nt=this.getRowHeight(dt),ut=dt%2?this.space.indentLeftEven:this.space.indentLeftOdd,S=n+ut*this.scaleX;for(var mt=0;mt<this.columnCount;mt++){if(at=this.getColumnWidth(mt),e=this.getChildAt(mt,dt),!e||e.rexSizer.hidden){S+=at+this.space.column[mt]*this.scaleX;continue}Ha.call(this,e),_=this.getExpandedChildWidth(e,at),st=this.getExpandedChildHeight(e,nt),e.isRexSizer?(e.runLayout(this,_,st),yf(e,this)):je(e,_,st),t=e.rexSizer,i=t.padding,b=S+i.left*this.scaleX,k=at-(i.left+i.right)*this.scaleX,ct=mt%2?this.space.indentTopEven:this.space.indentTopOdd,D=M+ct*this.scaleY+i.top*this.scaleY,W=nt-(i.top+i.bottom)*this.scaleY,_===void 0&&(_=se(e)),st===void 0&&(st=re(e)),Z=(t.alignOffsetX+t.alignOffsetOriginX*_)*this.scaleX,tt=(t.alignOffsetY+t.alignOffsetOriginY*st)*this.scaleY,$a.call(this,e,b,D,k,W,t.align,Z,tt),S+=at+this.space.column[mt]*this.scaleX}M+=nt+this.space.row[dt]*this.scaleY}},C9=function(t){var t=Wd.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var n=t-this.getChildrenWidth(!1);n>=0&&(this.proportionWidthLength=n/i)}else this.proportionWidthLength=0}return t},S9=function(t){var t=Yd.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var n=t-this.getChildrenHeight(!1);n>=0&&(this.proportionHeightLength=n/i)}else this.proportionHeightLength=0}return t},T9=function(e){var t,i,n,x;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(x=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,x),n=t.resolveWidth(i),n===void 0&&(n=i),t.resolveChildrenWidth(n))},P9=function(e){var t,i,n,x;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(x=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,x),n=t.resolveHeight(i),n===void 0&&(n=i),t.resolveChildrenHeight(n))},E9=function(e){var t,i,n,x;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(x=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,x),t.isRexSizer&&(n=t.resolveWidth(i),n===void 0&&(n=i)),t.runWidthWrap(n));return this},M9=function(e){var t,i,n,x;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(x=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,x),t.isRexSizer&&(n=t.resolveHeight(i),n===void 0&&(n=i)),t.runHeightWrap(n));return this};const bx=Phaser.Utils.Objects.IsPlainObject,Bi=Phaser.Utils.Objects.GetValue,Lx=Phaser.Display.Align.CENTER;var Ox=function(e,t,i,n,x){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var S,M=0;M<n;M++)if(S=t*n+M,!i[S])return S}else if(t===void 0){for(var S,M=0;M<x;M++)if(S=M*n+e,!i[S])return S}else{var S=t*n+e;if(!i[S])return S}else if(t===!0){for(var S,M=0;M<n;M++)for(var b=0;b<x;b++)if(S=b*n+M,!i[S])return S}else for(var M=0,D=i.length;M<D;M++)if(!i[M])return M;return null},w9=function(e,t,i,n,x,S,M){var b,D,k,W;if(Va.call(this,e),bx(t)){var tt=t;t=Bi(tt,"column",void 0),i=Bi(tt,"row",void 0),n=Bi(tt,"align",Lx),x=Bi(tt,"padding",0),S=Bi(tt,"expand",!1),M=Bi(tt,"key",void 0),b=Bi(tt,"offsetX",0),D=Bi(tt,"offsetY",0),k=Bi(tt,"offsetOriginX",0),W=Bi(tt,"offsetOriginY",0)}var Z=Ox(t,i,this.sizerChildren,this.columnCount,this.rowCount);if(Z===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),Z=Ox(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof n=="string"&&(n=In[n]),n===void 0&&(n=Lx),x===void 0&&(x=0),S===void 0&&(S=!0),b===void 0&&(b=0),D===void 0&&(D=0),k===void 0&&(k=0),W===void 0&&(W=0);var tt=this.getSizerConfig(e);return tt.align=n,tt.padding=zr(x),bx(S)?(tt.expandWidth=Bi(S,"width",!1),tt.expandHeight=Bi(S,"height",!1)):(tt.expandWidth=S,tt.expandHeight=S),tt.alignOffsetX=b,tt.alignOffsetY=D,tt.alignOffsetOriginX=k,tt.alignOffsetOriginY=W,this.sizerChildren[Z]=e,M!==void 0&&this.addChildrenMap(M,e),this},R9={add:w9},$n=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=e.length-1);for(var x=i;x<=n;x++)e[x]=t;return e},A9={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),Wa.call(this,e,t),this},removeAt(e,t,i){var n=this.getChildAt(e,t);return n&&this.remove(n,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return $n(this.sizerChildren,null),qo.call(this,e),this}},b9={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,$n(this.space.column,e);else{this.space.column0=e[0];for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,$n(this.space.row,e);else{this.space.row0=e[t];for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}};const Dx=Phaser.Utils.Objects.GetValue;var L9=function(e,t,i,n,x){if(e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,$n(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")$n(this.columnProportions,i);else for(var S=0;S<e;S++)this.columnProportions[S]=i[S]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof n=="number")$n(this.rowProportions,n);else for(var S=0;S<t;S++)this.rowProportions[S]=n[S]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(Dx(x,"column",0)),this.setRowSpace(Dx(x,"row",0));var M=this.scene,b=this.createCellContainerCallback;if(b)for(var D=0,k=this.rowCount;D<k;D++)for(var W=0,Z=this.columnCount;W<Z;W++){var tt={column:W,row:D},_=b(M,W,D,tt);_&&this.add(_,tt)}return this},Fx=function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var n=[e*this.columnCount,0],x=0;x<this.columnCount;x++)n.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,n),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},O9=function(e,t){return Fx.call(this,this.rowCount,e,t),this},Bx=function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var n=this.rowCount-1;n>=0;n--){var x=n*this.columnCount+e;this.sizerChildren.splice(x,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},D9=function(e,t){return Bx.call(this,this.columnCount,e,t),this},Ix={getChildrenWidth:c9,getChildrenHeight:v9,getExpandedChildWidth:p9,getExpandedChildHeight:g9,getChildrenSizers:m9,preLayout:x9,layoutChildren:y9,resolveWidth:C9,resolveHeight:S9,resolveChildrenWidth:T9,resolveChildrenHeight:P9,runWidthWrap:E9,runHeightWrap:M9,resetGrid:L9,insertEmptyRow:Fx,addEmptyRow:O9,insertEmptyColumn:Bx,addEmptyColumn:D9};Object.assign(Ix,R9,A9,b9,Nf);var F9=function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},B9=function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const gl=Phaser.Utils.Objects.IsPlainObject,ce=Phaser.Utils.Objects.GetValue;class qi extends Ur{constructor(t,i,n,x,S,M,b,D,k,W){gl(i)?(W=i,i=ce(W,"x",0),n=ce(W,"y",0),x=ce(W,"width",void 0),S=ce(W,"height",void 0),M=ce(W,"column",W.col||0),b=ce(W,"row",0),D=ce(W,"columnProportions",0),k=ce(W,"rowProportions",0)):gl(x)?(W=x,x=ce(W,"width",void 0),S=ce(W,"height",void 0),M=ce(W,"column",W.col||0),b=ce(W,"row",0),D=ce(W,"columnProportions",0),k=ce(W,"rowProportions",0)):gl(M)?(W=M,M=ce(W,"column",W.col||0),b=ce(W,"row",0),D=ce(W,"columnProportions",0),k=ce(W,"rowProportions",0)):gl(D)&&(W=D,D=ce(W,"columnProportions",0),k=ce(W,"rowProportions",0)),super(t,i,n,x,S,W),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(ce(W,"createCellContainerCallback")),this.setIndentLeft(ce(W,"space.indentLeftOdd",0),ce(W,"space.indentLeftEven",0)),this.setIndentTop(ce(W,"space.indentTopOdd",0),ce(W,"space.indentTopEven",0)),this.resetGrid(M,b,D,k,ce(W,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=F9.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=B9.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var n=this.sizerChildren.indexOf(t);return n===-1?null:(i===void 0&&(i={}),i.x=n%this.columnCount,i.y=Math.floor(n/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],n=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return n}getRowHeight(t){var i=this.rowProportions[t],n=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return n}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(qi.prototype,Ix),K.register("gridSizer",function(e,t,i,n,x,S,M,b,D){var k=new qi(this.scene,e,t,i,n,x,S,M,b,D);return this.scene.add.existing(k),k}),$(window,"RexPlugins.UI.GridSizer",qi);var I9=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},k9=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},G9=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,x=t.length;n<x;n++)i=t[n],i!==`
`&&i.isRexSizer&&e.push(i);return e},z9=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,Ua.call(this),this},N9=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i,n,x,S=0,M,b,D=this.innerLeft,k=this.innerTop,W,Z,tt,_,st,at,nt=this.wrapResult.lines,ut,ct,dt,mt=D,Tt=k,Pt=0,At=nt.length;Pt<At;Pt++){switch(ut=nt[Pt],ct=ut.children,this.rtl&&ct.reverse(),e?(M=Pt%2?this.space.indentLeftEven:this.space.indentLeftOdd,mt=D+M*this.scaleX):(b=Pt%2?this.space.indentTopEven:this.space.indentTopOdd,Tt=k+b*this.scaleY),dt=t-(e?ut.width:ut.height),this.align){case 0:break;case 1:e?mt+=dt:Tt+=dt;break;case 2:e?mt+=dt/2:Tt+=dt/2;break;case 3:S=_f(t,dt,this.justifyPercentage,ct.length);break;case 4:S=_f(t,dt,this.justifyPercentage,ct.length),S===0&&(e?mt+=dt:Tt+=dt);break;case 5:S=_f(t,dt,this.justifyPercentage,ct.length),S===0&&(e?mt+=dt/2:Tt+=dt/2);break}for(var Ft=!0,Dt=0,zt=ct.length;Dt<zt;Dt++)i=ct[Dt],!i.rexSizer.hidden&&(n=i.rexSizer,x=n.padding,Ha.call(this,i),e?W=mt+x.left*this.scaleX:Z=Tt+x.top*this.scaleY,Ft?Ft=!1:e?W+=this.space.item*this.scaleX:Z+=this.space.item*this.scaleY,tt=se(i),_=re(i),e?(b=Dt%2?this.space.indentTopEven:this.space.indentTopOdd,Z=Tt+b*this.scaleY+x.top*this.scaleY,mt=W+tt+x.right*this.scaleX+S):(M=Dt%2?this.space.indentLeftEven:this.space.indentLeftOdd,W=mt+M*this.scaleX+x.left*this.scaleX,Tt=Z+_+x.top*this.scaleY+S),st=(n.alignOffsetX+n.alignOffsetOriginX*tt)*this.scaleX,at=(n.alignOffsetY+n.alignOffsetOriginY*_)*this.scaleY,$a.call(this,i,W,Z,tt,_,n.align,st,at));e?Tt+=ut.height+this.space.line*this.scaleY:mt+=ut.width+this.space.line*this.scaleX}},_f=function(e,t,i,n){return t/e<=i?t/(n-1):0},V9=function(){return this.orientation===0?!0:Ud.call(this)},kx=function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,n,x,S,M,b=0,D,k,W=t.lines,Z=void 0,tt;if(this.orientation===0){for(var _=0,st=i.length;_<st;_++){if(n=i[_],n===`
`)n=void 0,S=0,tt=!0;else{if(n.rexSizer.hidden)continue;n.isRexSizer&&n.runLayout(this),S=this.getChildWidth(n),x=n.rexSizer.padding,S+=(x.left+x.right)*this.scaleX,tt=b<S||Z===void 0}tt&&(Z&&(Z.width=e-(b+this.space.item*this.scaleX),t.width=Math.max(t.width,Z.width),t.height+=Z.height+this.space.line*this.scaleY),Z={children:[],width:0,height:0},W.push(Z),D=W.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,b=e-D*this.scaleX),b-=S+this.space.item*this.scaleX,n&&(Z.children.push(n),M=this.getChildHeight(n),x=n.rexSizer.padding,M+=(x.top+x.bottom)*this.scaleY,Z.height=Math.max(Z.height,M))}Z&&(Z.width=e-(b+this.space.item*this.scaleX),t.width=Math.max(t.width,Z.width),t.height+=Z.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var at=e,_=0,st=i.length;_<st;_++){if(n=i[_],n===`
`)n=void 0,S=0,tt=!0;else{if(n.rexSizer.hidden)continue;n.isRexSizer&&n.layout(),M=this.getChildHeight(n),x=n.rexSizer.padding,M+=(x.top+x.bottom)*this.scaleY,tt=b<M||Z===void 0}tt&&(Z&&(Z.height=at-(b+this.space.item*this.scaleY),t.height=Math.max(t.height,Z.height),t.width+=Z.width+this.space.line*this.scaleX),Z={children:[],width:0,height:0},W.push(Z),k=W.length%2?this.space.indentTopOdd:this.space.indentTopEven,b=at-k*this.scaleY),b-=M+this.space.item*this.scaleY,n&&(Z.children.push(n),S=this.getChildWidth(n),x=n.rexSizer.padding,S+=(x.left+x.right)*this.scaleX,Z.width=Math.max(Z.width,S))}Z&&(Z.height=at-(b+this.space.item*this.scaleY),t.height=Math.max(t.height,Z.height),t.width+=Z.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},W9=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=kx.call(this,t),this.rexSizer.resolved=!0,Xd.call(this,e)}},U9=function(){return this.orientation===1?!0:Hd.call(this)},X9=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=kx.call(this,t),this.rexSizer.resolved=!0,$d.call(this,e)}},Y9=function(e,t){},H9=function(e,t){};const Gx=Phaser.Math.Distance.Between;var $9=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var n=-1,x=1/0,S=0,M=i.length;S<M;S++){var b=i[S];if(!(Math.abs(b.centerY-t)>b.height/2)){var k=Gx(b.left,b.centerY,e,t);x>k&&(x=k,n=S);var D=i[S+1];if(!(D&&D.y===b.y)){var k=Gx(b.right,b.centerY,e,t);x>k&&(x=k,n=S+1)}}}return n};const K9=Phaser.Utils.Objects.IsPlainObject,Hr=Phaser.Utils.Objects.GetValue,Z9=Phaser.Display.Align.CENTER;var tc=function(e,t,i,n){if(e===`
`)return this.addNewLine(),this;var x,S,M,b;if(Va.call(this,e),K9(t)){var D=t;t=Hr(D,"padding",0),i=Hr(D,"key",void 0),n=Hr(D,"index",void 0),x=Hr(D,"offsetX",0),S=Hr(D,"offsetY",0),M=Hr(D,"offsetOriginX",0),b=Hr(D,"offsetOriginY",0)}t===void 0&&(t=0),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=0),b===void 0&&(b=0);var D=this.getSizerConfig(e);return D.align=Z9,D.padding=zr(t),D.alignOffsetX=x,D.alignOffsetY=S,D.alignOffsetOriginX=M,D.alignOffsetOriginY=b,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),i!==void 0&&this.addChildrenMap(i,e),this},J9={add(e,t,i){if($i(e))for(var n=e,x=0,S=n.length;x<S;x++)tc.call(this,n[x],t);else tc.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,n){return tc.call(this,t,i,n,e),this},insertAtPosition(e,t,i,n,x){var S=$9.call(this,e,t);return S===-1&&(S=void 0),this.insert(S,i,n,x),this}};const Q9=Phaser.Utils.Array.Remove;var j9={remove(e,t){return this.getParentSizer(e)!==this?this:(Q9(this.sizerChildren,e),Wa.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,qo.call(this,e),this}},zx={getChildrenWidth:I9,getChildrenHeight:k9,getChildrenSizers:G9,preLayout:z9,layoutChildren:N9,hasWidthWrap:V9,runWidthWrap:W9,hasHeightWrap:U9,runHeightWrap:X9,getExpandedChildWidth:Y9,getExpandedChildHeight:H9};Object.assign(zx,J9,j9,Nf);var q9=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,n,x=!1,S=0,M=e.length;S<M;S++)i=e[S],i!==`
`&&(n=this.getChildWidth(i),n===void 0&&(x=!0),!x&&(t=Math.max(n,t)));if(!x)return t},_9=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,n,x=!1,S=0,M=e.length;S<M;S++)i=e[S],i!==`
`&&(n=this.getChildHeight(i),n===void 0&&(x=!0),!x&&(t=Math.max(n,t)));if(!x)return t};const Nx=Phaser.Utils.Objects.IsPlainObject,ti=Phaser.Utils.Objects.GetValue;class fr extends Ur{constructor(t,i,n,x,S,M){Nx(i)?(M=i,i=ti(M,"x",0),n=ti(M,"y",0),x=ti(M,"width",void 0),S=ti(M,"height",void 0)):Nx(x)&&(M=x,x=ti(M,"width",void 0),S=ti(M,"height",void 0)),super(t,i,n,x,S,M),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(ti(M,"orientation",0)),this.setItemSpacing(ti(M,"space.item",0)),this.setLineSpacing(ti(M,"space.line",0)),this.setIntentLeft(ti(M,"space.indentLeftOdd",0),ti(M,"space.indentLeftEven",0)),this.setIntentTop(ti(M,"space.indentTopOdd",0),ti(M,"space.indentTopEven",0)),this.setAlign(ti(M,"align",0)),this.setJustifyPercentage(ti(M,"justifyPercentage",.25)),this.setRTL(ti(M,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Fr(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=tk[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=q9.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=_9.call(this)),this._maxChildHeight}}const tk={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(fr.prototype,zx),K.register("fixWidthSizer",function(e,t,i,n,x){var S=new fr(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.FixWidthSizer",fr),K.register("overlapSizer",function(e,t,i,n,x){var S=new Di(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),$(window,"RexPlugins.UI.OverlapSizer",Di),K.register("space",function(){var e=new Gf(this.scene);return e}),$(window,"RexPlugins.UI.Space",Gf),K.register("label",function(e){var t=new Ns(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Label",Ns);const Vx=["alpha","tint","flipX","flipY"];var ec=function(e,t){if(!t)return e;for(var i=0,n=Vx.length;i<n;i++){var x=Vx[i];x in t&&x in e&&(e[x]=t[x])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var S,M;"originX"in t&&"originX"in e&&(S=t.originX),"originY"in t&&"originY"in e&&(M=t.originY),S!==void 0&&M!==void 0&&e.setOrigin(S,M)}return e},ze=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("barColor")?i="bar":t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var n;switch(i){case"bar":n=new pl(e,t);break;case"image":n=new ih(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?n=new nh(e,t):n=new rh(e,t);break;default:n=new sh(e,t);break}return ec(n,t),e.add.existing(n),n},ek=function(){switch(this.scrollMode){case 0:case 1:ic.call(this),this.updateController(),sc.call(this),rc.call(this);break;default:ic.call(this,"y"),ic.call(this,"x"),this.updateController(),sc.call(this,"y"),sc.call(this,"x"),rc.call(this,"y"),rc.call(this,"x");break}return this},ic=function(e){var t,i,n,x;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,n=this.childrenMap.scroller,x=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),n=this.childrenMap[`scroller${e}`],x=this.childrenMap[`slider${e}`]}var S=e==="Y"?this.scaleY:this.scaleX;i*=S,n&&n.setBounds(t,i),x&&(x.setEnable(t!==i),x.tickLength&&x.setTick(x.tickLength,t,i))},sc=function(e){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.slider;i&&this.hideUnscrollableSlider&&this.setChildVisible(i,this.isOverflow);var x=this.childrenMap.scroller;x&&this.disableUnscrollableDrag&&x.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],i=this.childrenMap[`slider${e}`],n=this[`hideUnscrollableSlider${e}`];i&&n&&this.setChildVisible(i,t);var x=this.childrenMap.scroller,S=this[`disableUnscrollableDrag${e}`];x&&S&&x.setEnable(t);break}},rc=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var S=this.childrenMap.slider;if(!S)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),M=S.childrenMap.track,b=S.childrenMap.thumb,D=this.minThumbSize;if(this.scrollMode===0){var i=M.displayHeight*t;D!==void 0&&i<D&&(i=D),je(b,void 0,i)}else{var n=M.displayWidth*t;D!==void 0&&n<D&&(n=D),je(b,n,void 0)}Wx(S);break;default:e=e.toUpperCase();var x=this[`adaptThumb${e}SizeMode`];if(!x)return;var S=this.childrenMap[`slider${e}`];if(!S)return;var M=S.childrenMap.track,b=S.childrenMap.thumb,D=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=M.displayHeight*t;D!==void 0&&i<D&&(i=D),je(b,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),n=M.displayWidth*t;D!==void 0&&n<D&&(n=D),je(b,n,void 0)}Wx(S);break}},Wx=function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},ik=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,n=this.childrenMap.sliderY,x=this.childrenMap.scrollerX,S=this.childrenMap.sliderX;i&&i.setValue(this.childOY),n&&n.setValue(this.t),x&&x.setValue(this.childOX),S&&S.setValue(this.s);break}};const ml=Phaser.Math.Clamp;var sk={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=ml(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=ml(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=ml(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=ml(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}},Ux={resizeController:ek,updateController:ik};Object.assign(Ux,sk);var Xx={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2},nc=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=rk(e));var i=e[t];return typeof i=="string"&&(i=Xx[i]),i},rk=function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,n;return t&&i?n=2:t?n=0:i?n=1:n=0,n};const Ue=Phaser.Utils.Objects.GetValue;var nk=function(e,t,i){var n=Ue(i,"child"),x=Ue(n,"gameObject",void 0);if(x){var S=Ue(i,"space.child",0);e.childMargin={};var M=e.childMargin,b={};if(typeof S=="number")switch(e.scrollMode){case 0:case 1:M.top=0,M.bottom=0,M.left=0,M.right=0;break;default:M.top=S,M.bottom=S,M.left=S,M.right=S;break}else switch(e.scrollMode){case 0:M.top=Ue(S,"top",0),M.bottom=Ue(S,"bottom",0),b.left=Ue(S,"left",0),b.right=Ue(S,"right",0);break;case 1:M.top=Ue(S,"left",0),M.bottom=Ue(S,"right",0),b.top=Ue(S,"top",0),b.bottom=Ue(S,"bottom",0);break;default:M.top=Ue(S,"top",0),M.bottom=Ue(S,"bottom",0),M.left=Ue(S,"left",0),M.right=Ue(S,"right",0);break}t.add(x,{column:1,row:1,align:Ue(n,"align","center"),padding:b,expand:{width:Ue(n,"expandWidth",!0),height:Ue(n,"expandHeight",!0)}})}e.addChildrenMap("child",x)};const Yx=Phaser.Math.Percent;var ak=function(e,t,i){var n;return e.y===t.y?n=Yx(i.x,e.x,t.x):e.x===t.x&&(n=Yx(i.y,e.y,t.y)),n},Hx=function(e,t){ac.x=e,ac.y=t;var i,n;this.reverseAxis?(i=this.getEndPoint(),n=this.getStartPoint()):(i=this.getStartPoint(),n=this.getEndPoint());var x=ak(i,n,ac);return x},ac={},hk=function(e,t,i){!this.enable||!this.inputActive||(this.value=Hx.call(this,t,i))},hc=function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=Hx.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}};const ok=Phaser.Utils.Objects.GetValue;var lk=function(e){this.inputActive=!1;var t=ok(e,"input",0);typeof t=="string"&&(t=uk[t]);var i=this.childrenMap.thumb;switch(t){case 0:i&&(i.setInteractive(),this.scene.input.setDraggable(i),i.on("dragstart",function(x){this.inputActive=!0,this.eventEmitter.emit("inputstart",x)},this).on("dragend",function(x){this.inputActive=!1,this.eventEmitter.emit("inputend",x)},this).on("drag",hk,this));break;case 1:this.setInteractive().on("pointerdown",function(x){this.inputActive=!0,this.eventEmitter.emit("inputstart",x)},this).on("pointerdown",hc,this);var n=function(x){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",x))};this.scene.input.on("pointerup",n,this).on("pointermove",hc,this),this.once("destroy",function(){this.scene.input.on("pointerup",n,this).off("pointermove",hc,this)},this);break}};const uk={pan:0,drag:0,click:1,none:-1};var $x=function(e,t){t===void 0&&(t=dk);var i=this.childrenMap.thumb,n=i.x,x=i.y;return Na(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=n,i.y=x,t},dk={};const fk=Phaser.Display.Align.LEFT_CENTER,ck=Phaser.Display.Align.TOP_CENTER;var vk=function(e){if(e===void 0&&(e=pk),this.childrenMap.thumb){var t=this.orientation===0?fk:ck;$x.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},pk={};const gk=Phaser.Display.Align.RIGHT_CENTER,mk=Phaser.Display.Align.BOTTOM_CENTER;var xk=function(e){if(e===void 0&&(e=yk),this.childrenMap.thumb){var t=this.orientation===0?gk:mk;$x.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},yk={};const Kx=Phaser.Math.Linear;var Ck=function(e,t,i,n){return n===void 0&&(n=Sk),n.x=Kx(t.x,i.x,e),n.y=Kx(t.y,i.y,e),n},Sk={},Tk=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,n;return this.reverseAxis?(i=this.getEndPoint(),n=this.getStartPoint()):(i=this.getStartPoint(),n=this.getEndPoint()),Ck(e,i,n,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const Pk=Phaser.Display.Align.LEFT_CENTER,Ek=Phaser.Display.Align.TOP_CENTER,Mk=Phaser.Display.Align.RIGHT_CENTER,wk=Phaser.Display.Align.BOTTOM_CENTER;var Rk=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,n,x,S=this.childrenMap.thumb;if(S)if(this.orientation===0){var M=se(S);if(i){var b=S.x-M*S.originX;n=this.right-b}else{var b=S.x-M*S.originX,D=b+M;n=D-this.left}}else{var k=re(S);if(i){var W=S.y-k*S.originY;x=this.bottom-W}else{var W=S.y-k*S.originY,Z=W+k;x=Z-this.top}}else this.orientation===0?n=this.width*e:x=this.height*e;je(t,n,x);var tt;i?tt=this.orientation===0?Mk:wk:tt=this.orientation===0?Pk:Ek,D0(t,this,tt),this.resetChildPositionState(t)};const Ti=Phaser.Utils.Objects.GetValue,xl=Phaser.Utils.Objects.IsPlainObject,Ak=Phaser.Math.Clamp,bk=Phaser.Math.Snap.To;class Kn extends rr(jt){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=Ti(i,"reverseAxis",!1);var n=Ti(i,"background",void 0),x=Ti(i,"track",void 0),S=Ti(i,"indicator",void 0),M=Ti(i,"thumb",void 0);if(n&&(xl(n)&&(n=ze(t,n)),this.addBackground(n)),x&&(xl(x)&&(x=ze(t,x)),this.add(x,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),S&&(xl(S)&&(S=ze(t,S)),this.pin(S)),M){xl(M)&&(M=ze(t,M)),this.pin(M);var b=Ti(i,"thumbOffsetX",0),D=Ti(i,"thumbOffsetY",0);this.setThumbOffset(b,D)}this.addChildrenMap("background",n),this.addChildrenMap("track",x),this.addChildrenMap("indicator",S),this.addChildrenMap("thumb",M),this.setEnable(Ti(i,"enable",void 0));var k=Ti(i,"tick",void 0);k===void 0&&(k=Ti(i,"gap",void 0)),this.setGap(k),lk.call(this,i),this.setValue(Ti(i,"value",0),Ti(i,"min",void 0),Ti(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,n){return t&&i!==void 0&&(t=t/(n-i)),this.gap=t,this}setTick(t,i,n){return this.setGap(t,i,n),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,i){return this.thumbOffsetX=t,this.thumbOffsetY=i,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=bk(t,this.gap));var i=this._value;this._value=Ak(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,n){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,i,n),this}}var Lk={getStartPoint:vk,getEndPoint:xk,updateThumb:Tk,updateIndicator:Rk};Object.assign(Kn.prototype,Lk);const ci=Phaser.Utils.Objects.GetValue;class oc extends jt{constructor(t,i){super(t,i),this.type="rexScrollBar";var n=ci(i,"background",void 0),x=ci(i,"buttons",void 0),S=ci(x,"top",ci(x,"left",void 0)),M=ci(x,"bottom",ci(x,"right",void 0)),b,D=ci(i,"slider",void 0);if(n&&this.addBackground(n),S){this.add(S);var k=new Wn(S);k.on("intouch",function(){if(this.enable){var nt=b.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=nt}},this)}if(D){D.orientation=this.orientation,D.eventEmitter=this,D.value=null;var W;if(this.orientation===0){var Z=ci(D,"width",void 0);W=Z===void 0?1:0}else{var tt=ci(D,"height",void 0);W=tt===void 0?1:0}b=new Kn(t,D),t.add.existing(b),this.add(b,{proportion:W})}if(M){this.add(M);var k=new Wn(M);k.on("intouch",function(){if(this.enable){var ut=b.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=ut}},this)}var _=[S,M];this.addChildrenMap("background",n),this.addChildrenMap("slider",b),this.addChildrenMap("buttons",_);var st=ci(i,"valuechangeCallback",null);if(st!==null){var at=ci(i,"valuechangeCallbackScope",void 0);this.on("valuechange",st,at)}this.setEnable(ci(i,"enable",void 0)),this.setValue(ci(i,"value",0)),this.setScrollStep(ci(x,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,n),this}addValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,n),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,n),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,i,n),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,i,n){return this.setGap(t,i,n),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}}var Ok=function(e,t){t===void 0&&(t={});var i=Ui(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var n=new oc(e,t);e.add.existing(n);var x=n.childrenMap.slider;return n.addChildrenMap("track",x.childrenMap.track),n.addChildrenMap("indicator",x.childrenMap.indicator),n.addChildrenMap("thumb",x.childrenMap.thumb),n};const Dk=Phaser.Math.Snap.To;Phaser.Math.Clamp;var Fk=function(){this.emit("dragstart")},Bk=function(){this.emit("dragend")},Ik=function(){this.value+=this.dragDelta},kk=function(){var e=this.value,t=this.dragSpeed,i=this.snapStep,n=!!i;if(n){var S=e,M=t===0?0:t*t/(2*this.slidingDeceleration);if(S+=t>0?M:-M,S=Dk(S,i,this.minValue),M=Math.abs(S-e),M>0){var x;t===0?(x=this.backDeceleration,t=Math.sqrt(2*x*M)):(x=t*t/(2*M),x*=.99),this._slowDown.init(e,void 0,t,x,S)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var x=this.slidingDeceleration;this._slowDown.init(e,t>0,t,x)}},Gk=function(e,t){t*=.001;var i=this._slowDown.update(t).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i},zk=function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(t-e),n=this.backDeceleration,x=Math.sqrt(2*n*i);this._slowDown.init(e,void 0,x,n,t)},Nk=function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},Zx=function(){this._slowDown.stop()};class Vk extends Fs{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,n=i.dragState;return n.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,n=i.dragState;return n.isDown?t=n.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,n=i.dragState;return n.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var n=this.parent,x=n.dragState;x.justMoved&&Ik.call(n),this.next()}enter_DRAG(){Fk.call(this.parent)}exit_DRAG(){Bk.call(this.parent)}next_SLIDE(){var t,i=this.parent,n=i.dragState;return n.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){kk.call(this.parent)}exit_SLIDE(){Zx.call(this.parent)}update_SLIDE(t,i){Gk.call(this.parent,t,i),this.next()}next_BACK(){var t,i=this.parent,n=i.dragState;return n.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){zk.call(this.parent)}exit_BACK(){Zx.call(this.parent)}update_BACK(t,i){Nk.call(this.parent,t,i),this.next()}}const ah=Phaser.Utils.Objects.GetValue,Wk=Phaser.Math.Distance.Between;class Uk extends xe{constructor(t,i){super(t,i),this._enable=void 0,this.rectBoundsInteractive=ah(i,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(ah(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(ah(t,"enable",!0)),this.holdThreshold=ah(t,"holdThreshold",50),this.pointerOutReleaseEnable=ah(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,i=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(i.on("pointerdown",this.onPointIn,this),i.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&i.on("pointerout",this.onPointOut,this),i.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var i=this.scene;this.parent,this.rectBoundsInteractive&&(i.input.off("pointerdown",this.onPointIn,this),i.input.off("pointerup",this.onPointOut,this),i.input.off("pointermove",this.onPointerMove,this)),i.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=sd(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=Wk(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,n){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!os(this.parent,t)||(this.pointer=t,this.localX=i,this.localY=n)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,n){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!os(this.parent,t)){this.onPointOut(t);return}this.localX=i,this.localY=n}}preupdate(t,i){if(this.enable){var n=this.pointer;this.justMoved=!1,n&&!this.isInTouched?(this.x=n.worldX,this.y=n.worldY,this.preX=n.worldX,this.preY=n.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",n,this.localX,this.localY)):n&&this.isInTouched?this.x===n.x&&this.y===n.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=n.worldX,this.y=n.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",n,this.localX,this.localY)):!n&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",n))}}}const lc=Phaser.Utils.Objects.GetValue;class Xk{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(lc(t,"value",0)),this.setSpeed(lc(t,"speed",0)),this.setAcceleration(lc(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class Yk{constructor(){this.value,this.dir,this.movement=new Xk}init(t,i,n,x,S){return this.value=t,this.end=S,S!==void 0?this.dir=t<S:this.dir=i,n=Math.abs(n),this.movement.setSpeed(n).setAcceleration(-x),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const Ae=Phaser.Utils.Objects.GetValue,Hk=Phaser.Math.Clamp;class $k extends xe{constructor(t,i){super(t,i);var n=Ae(i,"enable",!0);this._state=new Vk(this,{enable:n,eventEmitter:!1});var x={rectBoundsInteractive:Ae(i,"rectBoundsInteractive",!1),inputConfig:Ae(i,"inputConfig",void 0),enable:n,pointerOutRelease:Ae(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new Uk(t,x),this._enable=void 0,this._value=void 0,this._slowDown=new Yk,this.setSnapStep(Ae(i,"snapStep",void 0));var S=Ae(i,"valuechangeCallback",null);if(S!==null){var M=Ae(i,"valuechangeCallbackScope",void 0);this.on("valuechange",S,M)}if(S=Ae(i,"overmaxCallback",null),S!==null){var M=Ae(i,"overmaxCallbackScope",void 0);this.on("overmax",S,M)}if(S=Ae(i,"overminCallback",null),S!==null){var M=Ae(i,"overminCallbackScope",void 0);this.on("overmin",S,M)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(Ae(t,"orientation",0)),this.setDragThreshold(Ae(t,"threshold",10)),this.setSlidingDeceleration(Ae(t,"slidingDeceleration",5e3)),this.setBackDeceleration(Ae(t,"backDeceleration",2e3));var i=Ae(t,"dragRate",1);i=i*(Ae(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var n=Ae(t,"bounds",void 0);return n?this.setBounds(n):this.setBounds(Ae(t,"max",0),Ae(t,"min",0)),this.setValue(Ae(t,"value",this.maxValue||0)),this.setEnable(Ae(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=Kk[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var n=t;t=n[0],i=n[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,n=this.overMax(t),x=this.overMin(t);n&&this.emit("overmax",t,i),x&&this.emit("overmin",t,i),this.backEnable||(n&&(t=this.maxValue),x&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=Hk(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}}const Kk={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},yl=Phaser.Utils.Objects.GetValue;class Zk extends xe{constructor(t,i){switch(super(t,i),this.parent!==this.scene?this.focusMode=yl(i,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(yl(i,"speed",.1)),this.setEnable(yl(i,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(yl(i,"inputConfig",void 0)).on("wheel",function(n,x,S,M,b){this.tryScroll(S)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,i,n,x,S,M){this.focusMode===2&&!os(this.parent,t)||this.tryScroll(x)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}}const Se=Phaser.Utils.Objects.GetValue,Jk=Phaser.Math.Snap.To;var Cl=function(e,t,i,n){i=i.toUpperCase();var x=i==="Y",S=e.scrollMode===2,M=e.childrenMap.child,b,D=`snapStep${i}`;if(S)b=Se(n,D,void 0);else{var b=Se(n,"snapStep",void 0);b===void 0&&(b=Se(n,D,void 0))}e[D]=b;var k,W,Z=`slider${i}`;if(S||n.hasOwnProperty(Z)?k=Se(n,Z,void 0):k=Se(n,"slider",void 0),k){k===!0&&(k={}),k.orientation=x?1:0,W=Ok(e.scene,k);var tt,_,st,at=Se(k,"position",0);typeof at=="string"&&(at=Qk[at]);var nt=Se(n,`space.slider${i}`,void 0),ut;nt===void 0&&(nt=Se(n,"space.slider",void 0),nt===void 0&&(S?nt=0:ut=Se(n,"space.child",0)));var ct;ut===void 0?ct=typeof nt=="number":ct=typeof ut=="number",x?at===0?(tt=2,_=1,ut===void 0?st=ct?{left:nt}:nt:st={left:Se(ut,"right",ut)}):(tt=0,_=1,ut===void 0?st=ct?{right:nt}:nt:st={right:Se(ut,"left",ut)}):at===0?(tt=1,_=2,ut===void 0?st=ct?{top:nt}:nt:st={top:Se(ut,"bottom",ut)}):(tt=1,_=0,ut===void 0?st=ct?{bottom:nt}:nt:st={bottom:Se(ut,"top",ut)}),t.add(W,{column:tt,row:_,align:"center",padding:st,expand:!0}),e[`hideUnscrollableSlider${i}`]=Se(k,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${i}`]=Se(k,"disableUnscrollableDrag",!1),e[`adaptThumb${i}SizeMode`]=Se(k,"adaptThumbSize",!1),e[`minThumb${i}Size`]=Se(k,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`disableUnscrollableDrag${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var dt=Se(n,"scrollDetectionMode");typeof dt=="string"&&(dt=jk[dt]);var mt,Tt,Pt=`scroller${i}`;S||n.hasOwnProperty(Pt)?mt=Se(n,Pt,!0):mt=Se(n,"scroller",!0),mt&&M&&(mt===!0&&(mt={}),mt.orientation=x?0:1,dt!==void 0&&(mt.rectBoundsInteractive=dt===1),mt.snapStep=b,Tt=new $k(M,mt),M.isRexContainerLite&&M.sendChildToBack(M));var At=Se(n,S?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),Ft;if(At&&M&&(dt!==void 0&&(At.focus=dt===1?2:0),Ft=new Zk(M,At)),e.addChildrenMap(`slider${i}`,W),e.addChildrenMap(`scroller${i}`,Tt),e.addChildrenMap(`mouseWheelScroller${i}`,Ft),(!S||x)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",W),e.addChildrenMap("scroller",Tt),e.addChildrenMap("mouseWheelScroller",Ft)),W){var Dt,zt;S?(Dt=x?"t":"s",zt=`scroll${i}`):(Dt="t",zt="scroll"),W.on("valuechange",function(_t){e[Dt]=_t,e.emit(zt,e)}).on("inputend",function(){var _t=e[`snapStep${i}`];if(_t){var It=e[x?"topChildOY":"leftChildOX"],de=e[x?"bottomChildOY":"rightChildOX"],pe=e[`childO${i}`],Te=Jk(pe,_t,It),Ne=500*(Math.abs(Te-pe)/_t);W.setEaseValueDuration(Ne).easeValueTo(Te,It,de)}})}if(Tt){var Gt,zt;S?(Gt=`childO${i}`,zt=`scroll${i}`):(Gt="childOY",zt="scroll"),Tt.on("valuechange",function(It){e[Gt]=It,e.emit(zt,e)})}if(Ft){var qt;S?qt=`addChildO${i}`:qt="addChildOY",Ft.on("scroll",function(_t){var It=e[D];It&&(_t=It),e[qt](-_t,!0)})}};const Qk={right:0,left:1,bottom:0,top:1},jk={gameObject:0,rectBounds:1},Sl=Phaser.Utils.Objects.GetValue;var qk=function(e,t){var i=e.scene,n=[0,1,0],x=[0,1,0],S=Sl(t,"width"),M=Sl(t,"height");if(!S){var b=Sl(t,"child.expandWidth",!0);b||(n[1]=0)}if(!M){var D=Sl(t,"child.expandHeight",!0);D||(x[1]=0)}var k=new qi(i,{column:3,row:3,columnProportions:n,rowProportions:x});switch(nk(e,k,t),e.scrollMode){case 0:Cl(e,k,"y",t);break;case 1:Cl(e,k,"x",t);break;default:Cl(e,k,"y",t),Cl(e,k,"x",t);break}return k};const vs=Phaser.Utils.Objects.GetValue;let hh=class extends jt{constructor(t,i){i===void 0&&(i={});var n=nc(i),x=n===1;i.orientation=x?0:1,super(t,i),this.type=vs(i,"type","rexScrollable"),this.scrollMode=n;var S=vs(i,"background",void 0);S&&this.addBackground(S);var M=vs(i,"header",void 0);if(M){var b=vs(i,"align.header","center"),D=vs(i,"space.header",0),k;x?k={right:D}:k={bottom:D},this.add(M,{proportion:0,align:b,padding:k,expand:vs(i,"expand.header",!0)})}var W=qk(this,i);W&&this.add(W,{proportion:1,align:"center",padding:0,expand:!0});var Z=vs(i,"footer",void 0);if(Z){var b=vs(i,"align.footer","center"),tt=vs(i,"space.footer",0),k;x?k={left:tt}:k={top:tt},this.add(Z,{proportion:0,align:b,padding:k,expand:vs(i,"expand.footer",!0)})}this.addChildrenMap("background",S),this.addChildrenMap("header",M),this.addChildrenMap("footer",Z),this.runLayoutFlag=!1}postLayout(t,i,n){var x=0,S=0;return this.runLayoutFlag?(S=this.t,this.scrollMode===2&&(x=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(S),this.scrollMode===2&&this.setS(x),super.postLayout(t,i,n),this}set t(t){var i=this.childMargin;if(i.top!==0||i.bottom!==0){var n=this.childrenMap.child,x=n.topChildOY-n.bottomChildOY,S=x+i.top+i.bottom,M=S*t-i.top;t=x!==0?M/x:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,i=this.childMargin;if(i.top!==0||i.bottom!==0){var n=this.childrenMap.child,x=n.topChildOY-n.bottomChildOY,S=x+i.top+i.bottom,M=x*t+i.top;t=S!==0?M/S:0}return t}set s(t){var i=this.childMargin;if(i.left!==0||i.right!==0){var n=this.childrenMap.child,x=n.leftChildOX-n.rightChildOX,S=x+i.left+i.right,M=S*t-i.left;t=x!==0?M/x:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,i=this.childMargin;if(i.left!==0||i.right!==0){var n=this.childrenMap.child,x=n.leftChildOX-n.rightChildOX,S=x+i.left+i.right,M=x*t+i.left;t=S!==0?M/S:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var i=this.childrenMap.slider;i&&i.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var i=this.childrenMap.sliderX;i&&i.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var i=this.childrenMap.scroller;i&&i.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var i=this.childrenMap.mouseWheelScroller;i&&i.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var i=this.childrenMap.mouseWheelScrollerX;i&&i.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setInteractive(),i.input.dropZone=t,this}};Object.assign(hh.prototype,Ux);var uc=function(e,t,i){var n=ur(e);switch(n){case qe:i=e.getWrappedText(t);break;case _e:i=e.getPenManager(t,i);break;case Si:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},_k=function(e){return e!==void 0&&(this.text=e),this.lines=uc(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},Jx=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},Qx=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},tG=function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case qe:i=this.lines.slice(e,t).join(`
`);break;case _e:var n=this.lines.getLineStartIndex(e),x=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(n,x,!0);break;case Si:i=this.lines.slice(e,t).join(`
`);break}return i},Tl=function(e,t){var i=ur(e);switch(i){case qe:var S=e.style,n=S.wordWrapWidth,x=S.wordWrapCallback;S.wordWrapWidth=0,S.wordWrapCallback=void 0,e.setText(t),S.wordWrapWidth=n,S.wordWrapCallback=x;break;case _e:var S=e.style,M=S.wrapMode;S.wrapMode=0,e.setText(t),S.wrapMode=M;break;case Si:var b=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=b;break}},jx=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&eG.call(this)},eG=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},iG=function(){var e=Math.max(Math.floor(Jx.call(this,-this.textOY)),0),t=Qx.call(this,e)+this.textOY,i=tG.call(this,e);return Tl(this.textObject,i),this.textObject.rexSizer.offsetY=t,jx.call(this),this},sG=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,Ua.call(this),this},rG=function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case qe:case _e:e.setFixedSize(t,i);var n=e.style,x=Math.max(t,0);this.textObjectType===qe?n.wordWrapWidth=x:(n.wrapMode===0&&(n.wrapMode=1),n.wrapWidth=x);break;case Si:e.setMaxWidth(t);break}this.setText()}},nG=function(){var e,t,i,n=this.left,x=this.top,S,M,b,D;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,S=n+i.left*this.scaleX,M=x+i.top*this.scaleY,b=this.width*this.scaleX-(i.left+i.right)*this.scaleX,D=this.height*this.scaleY-(i.top+i.bottom)*this.scaleY,rG.call(this,e,b,D),Na(e,S,M,b,D,t.align),t.preOffsetY=0,jx.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))},aG={setText:_k,updateTextObject:iG,preLayout:sG,layoutChildren:nG};const qx=Phaser.Utils.Objects.IsPlainObject,Pi=Phaser.Utils.Objects.GetValue,hG=Phaser.Display.Align.TOP_LEFT;class _x extends Ur{constructor(t,i,n,x,S,M){qx(i)?(M=i,i=Pi(M,"x",0),n=Pi(M,"y",0),x=Pi(M,"width",void 0),S=Pi(M,"height",void 0)):qx(x)&&(M=x,x=Pi(M,"width",void 0),S=Pi(M,"height",void 0)),super(t,i,n,x,S,M),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=Pi(M,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(Pi(M,"clampTextOY",!0)),this.alwaysScrollable=Pi(M,"alwaysScrollable",!1);var b=Pi(M,"background",void 0),D=Pi(M,"text",void 0);D===void 0&&(D=oG(t)),this.textCropEnable=Pi(M,"textCrop",!!D.setCrop);var k=Pi(M,"textMask",!this.textCropEnable);b&&this.addBackground(b),this.add(D),this.sizerChildren=[D];var W=this.getSizerConfig(D);W.align=hG,W.padding=zr(0),W.expand=!0,this.textObject=D,this.textObjectType=ur(D),W.preOffsetY=0,W.offsetY=0,k&&(this.textMask=Qi.call(this,this.textObject,this)),this.addChildrenMap("background",b),this.addChildrenMap("text",D)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case qe:this.lines.length=0;break;case _e:this.lines.destroy();break;case Si:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case qe:case _e:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case Si:var n=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*n;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case qe:case _e:t=this.textObject.lineSpacing;break;case Si:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(Jx.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=Qx.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,n=this.bottomTextOY,x=this.textOYExceedTop(t),S=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:x?t=i:S&&(t=n)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),x&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=x,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=S}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var oG=function(e){return e.add.text(0,0,"")};Object.assign(_x.prototype,aG);var lG=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})},uG={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},dG={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}};const ps=Phaser.Utils.Objects.GetValue;class oh extends hh{constructor(t,i){i===void 0&&(i={});var n=ps(i,"text",void 0),x=ps(i,"textWidth",void 0),S=ps(i,"textHeight",void 0),M=ps(i,"textCrop",!!n.setCrop),b=ps(i,"textMask",!M),D=ps(i,"content",""),k=new _x(t,{width:x,height:S,text:n,textMask:b,textCrop:M&&!b,content:D,clampTextOY:ps(i,"clampChildOY",!1),alwaysScrollable:ps(i,"alwaysScrollable",!1)});t.add.existing(k),lG(k),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:k,expandWidth:x===void 0,expandHeight:S===void 0};var W=ps(i,"space",void 0);W&&(W.child=ps(W,"text",0)),super(t,i),this.addChildrenMap("text",n)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(oh.prototype,uG,dG);const Pl=Phaser.Utils.Objects.GetValue;var ty=function(e,t,i){t=t?pt(t):{};var n=Pl(i,"background",ze),x=Pl(i,"text",dc),S=Pl(i,"track",ze),M=Pl(i,"thumb",ze);n?t.background=n(e,t.background):delete t.background,x?t.text=x(e,t.text):delete t.text;var b=t.slider;b!==!1&&b!==null&&(b===void 0&&(b={}),S?b.track=S(e,b.track):delete b.track,M?b.thumb=M(e,b.thumb):delete b.thumb,t.slider=b);var D=new oh(e,t);return e.add.existing(D),D},dc=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("key")&&(i="bitmaptext",t.font=t.key));var n;switch(i){case"bitmaptext":case"bitmap":n=new vl(e,t);break;case"bbcodetext":case"bbcode":n=new Au(e,0,0,"",t);break;case"label":n=new lh(e,t);break;case"textarea":n=ty(e,t);break;default:n=new cl(e,t);break}return ec(n,t),e.add.existing(n),n},ey=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(i="roundRectangle"));var n;switch(i){case"nineSlice":t.hasOwnProperty("stretchMode")?n=new nh(e,t):n=new rh(e,t);break;case"roundRectangle":n=new sh(e,t);break;default:n=new ih(e,t);break}return ec(n,t),e.add.existing(n),n};const El=Phaser.Utils.Objects.GetValue;var Ml=function(e,t,i){t=t?pt(t):{};var n=El(i,"background",ze),x=El(i,"text",dc),S=El(i,"icon",ey),M=El(i,"action",ey);return t.background!==null&&n?t.background=n(e,t.background):delete t.background,t.text!==null&&x?t.text=x(e,t.text):delete t.text,t.icon!==null&&S?t.icon=S(e,t.icon):delete t.icon,t.action!==null&&M?t.action=M(e,t.action):delete t.action,t};class lh extends Ns{constructor(t,i,n){i=Ml(t,i,n),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return fc(this.getChildren(),"setActiveState",t),this}setHoverState(t){return fc(this.getChildren(),"setHoverState",t),this}setDisableState(t){return fc(this.getChildren(),"setDisableState",t),this}}var fc=function(e,t,i){for(var n=0,x=e.length;n<x;n++){var S=e[n];S&&S[t]&&S[t](i)}};K.register("simpleLabel",function(e,t){var i=new lh(this.scene,e,t);return this.scene.add.existing(i),i}),$(window,"RexPlugins.UI.SimpleLabel",lh);const Wt=Phaser.Utils.Objects.GetValue;var fG=function(e){var t=this.scene,i=Wt(e,"orientation",0);this.setOrientation(i);var n=Wt(e,"icon",void 0),x=Wt(e,"iconMask",void 0),S=Wt(e,"innerBackground",void 0),M=Wt(e,"title",void 0),b=Wt(e,"separator",void 0),D=Wt(e,"text",void 0),k=Wt(e,"action",void 0),W=Wt(e,"actionMask",void 0);if(n){var Z=Wt(e,"align.icon","center"),Pt;this.orientation===0?Pt={right:Wt(e,"space.icon",0),top:Wt(e,"space.iconTop",0),bottom:Wt(e,"space.iconBottom",0),left:Wt(e,"space.iconLeft",0)}:Pt={bottom:Wt(e,"space.icon",0),left:Wt(e,"space.iconLeft",0),right:Wt(e,"space.iconRight",0),top:Wt(e,"space.iconTop",0)};var tt=Wt(e,"squareFitIcon",!1)?1:0;if(this.add(n,{proportion:0,align:Z,padding:Pt,fitRatio:tt}),x&&(x=Qi.call(this,n,n,1)),!tt){var _=Wt(e,"iconSize",void 0);this.setIconSize(Wt(e,"iconWidth",_),Wt(e,"iconHeight",_))}}var st=new jt(t,{orientation:1});S&&st.addBackground(S);var at=Wt(e,"space.separator",0);if(M){var Z=Wt(e,"align.title","left"),nt=Wt(e,"expandTitleWidth",!1),ut=Wt(e,"expandTitleHeight",!1),ct,Pt,dt;ct=ut?1:0,dt=nt,Pt={bottom:!b&&D?Wt(e,"space.title",at):0,left:Wt(e,"space.titleLeft",0),right:Wt(e,"space.titleRight",0)},st.add(M,{proportion:ct,expand:dt,align:Z,padding:Pt})}if(b){var Pt={top:M?at:0,bottom:D?at:0,left:Wt(e,"space.separatorLeft",0),right:Wt(e,"space.separatorRight",0)};st.add(b,{expand:!0,padding:Pt})}if(D){var Z=Wt(e,"align.text","left"),mt=Wt(e,"expandTextWidth",!1),Tt=Wt(e,"expandTextHeight",!1),ct,Pt,dt;ct=Tt?1:0,dt=mt,Pt={left:Wt(e,"space.textLeft",0),right:Wt(e,"space.textRight",0)},st.add(D,{proportion:ct,expand:dt,align:Z,padding:Pt})}var Pt=void 0;if(k&&(Pt={right:Wt(e,"space.text",0)}),this.add(st,{proportion:1,padding:Pt}),k){var Z=Wt(e,"align.action","center"),Pt;this.orientation===0?Pt={top:Wt(e,"space.actionTop",0),bottom:Wt(e,"space.actionBottom",0),right:Wt(e,"space.actionRight",0)}:Pt={left:Wt(e,"space.actionLeft",0),right:Wt(e,"space.actionRight",0),bottom:Wt(e,"space.actionBottom",0)};var tt=Wt(e,"squareFitAction",!1)?1:0;if(this.add(k,{proportion:0,align:Z,padding:Pt,fitRatio:tt}),W&&(W=Qi.call(this,k,k,1)),!tt){var At=Wt(e,"actionSize");this.setActionSize(Wt(e,"actionWidth",At),Wt(e,"actionHeight",At))}}this.addChildrenMap("icon",n),this.addChildrenMap("iconMask",x),this.addChildrenMap("innerSizer",st),this.addChildrenMap("innerBackground",S),this.addChildrenMap("title",M),this.addChildrenMap("separator",b),this.addChildrenMap("text",D),this.addChildrenMap("action",k),this.addChildrenMap("actionMask",W)};const Nt=Phaser.Utils.Objects.GetValue;var cG=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=Nt(e,"title",void 0),n=Nt(e,"separator",void 0),x=Nt(e,"innerBackground",void 0),S=Nt(e,"icon",void 0),M=Nt(e,"iconMask",void 0),b=Nt(e,"text",void 0),D=Nt(e,"action",void 0),k=Nt(e,"actionMask",void 0);if(i){var W=Nt(e,"align.title","left"),Z=Nt(e,"expandTitleWidth",!1),tt=Nt(e,"expandTitleHeight",!1),_,st,at;_=tt?1:0,at=Z,st={bottom:Nt(e,"space.title",0),left:Nt(e,"space.titleLeft",0),right:Nt(e,"space.titleRight",0)},this.add(i,{proportion:_,expand:at,align:W,padding:st})}if(n){var nt=Nt(e,"space.separator",0),st={top:i?nt:0,bottom:b?nt:0,left:Nt(e,"space.separatorLeft",0),right:Nt(e,"space.separatorRight",0)};this.add(n,{proportion:0,expand:!0,padding:st})}var ut=Nt(e,"orientation",0),ct=new jt(t,{orientation:ut,rtl:Nt(e,"rtl",!1),space:{left:Nt(e,"space.innerLeft",0),right:Nt(e,"space.innerRight",0),top:Nt(e,"space.innerTop",0),bottom:Nt(e,"space.innerBottom",0)}});if(x&&ct.addBackground(x),this.add(ct,{proportion:1,expand:!0}),S){var W=Nt(e,"align.icon","center"),st;ct.orientation===0?st={right:Nt(e,"space.icon",0),top:Nt(e,"space.iconTop",0),bottom:Nt(e,"space.iconBottom",0),left:Nt(e,"space.iconLeft",0)}:st={bottom:Nt(e,"space.icon",0),left:Nt(e,"space.iconLeft",0),right:Nt(e,"space.iconRight",0),top:Nt(e,"space.iconTop",0)};var dt=Nt(e,"squareFitIcon",!1)?1:0;if(ct.add(S,{proportion:0,align:W,padding:st,fitRatio:dt}),M&&(M=Qi.call(this,S,S,1)),!dt){var mt=Nt(e,"iconSize",void 0);this.setIconSize(Nt(e,"iconWidth",mt),Nt(e,"iconHeight",mt))}}if(b){var W=Nt(e,"align.text","left"),Tt=Nt(e,"space.text",0),Pt=Nt(e,"expandTextWidth",!1),At=Nt(e,"expandTextHeight",!1),_,st,at;ct.orientation===0?(_=Pt?1:0,D&&(st={right:Tt}),at=At):(_=At?1:0,D&&(st={bottom:Tt}),at=Pt),ct.add(b,{proportion:_,expand:at,align:W,padding:st})}if(D){var W=Nt(e,"align.action","center"),st;ct.orientation===0?st={top:Nt(e,"space.actionTop",0),bottom:Nt(e,"space.actionBottom",0),right:Nt(e,"space.actionRight",0)}:st={left:Nt(e,"space.actionLeft",0),right:Nt(e,"space.actionRight",0),bottom:Nt(e,"space.actionBottom",0)};var dt=Nt(e,"squareFitAction",!1)?1:0;if(ct.add(D,{proportion:0,align:W,padding:st,fitRatio:dt}),k&&(k=Qi.call(this,D,D,1)),!dt){var Ft=Nt(e,"actionSize");this.setActionSize(Nt(e,"actionWidth",Ft),Nt(e,"actionHeight",Ft))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",n),this.addChildrenMap("innerSizer",ct),this.addChildrenMap("innerBackground",x),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",M),this.addChildrenMap("text",b),this.addChildrenMap("action",D),this.addChildrenMap("actionMask",k)};const cr=Phaser.Utils.Objects.GetValue,iy=[fG,cG];class wl extends Wf{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTitleLabel";var n=cr(i,"background",void 0);n&&this.addBackground(n);var x=cr(i,"title",void 0),S=cr(i,"text",void 0);if(x){var M=cr(i,"wrapTitle",!1),b=cr(i,"adjustTitleFontSize",!1);M?(M===!0&&(M="word"),Xf(x,M),i.expandTitleWidth=!0,ul(x)):b&&(i.expandTextWidth=!0,i.expandTextHeight=!0,fl(x,{fitHeight:!0}))}if(S){var D=cr(i,"wrapText",!1),k=cr(i,"adjustTextFontSize",!1);D?(D===!0&&(D="word"),Xf(S,D),i.expandTextWidth=!0,ul(S)):k&&(i.expandTextWidth=!0,i.expandTextHeight=!0,fl(S,{fitHeight:!0}))}var W=cr(i,"layoutMode",0),Z=iy[W]||iy[0];Z.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}}K.register("titleLabel",function(e){var t=new wl(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.TitleLabel",wl);const cc=Phaser.Utils.Objects.GetValue;var sy=function(e,t,i){var n=cc(i,"innerBackground",ze),x=cc(i,"separator",ze),S=cc(i,"title",dc),M,b;t.innerBackground!==null&&n&&(M=n(e,t.innerBackground)),t.separator!==null&&x&&(b=x(e,t.separator)),t=Ml(e,t,i),M?t.innerBackground=M:delete t.innerBackground,b?t.separator=b:delete t.separator,t.title!==null&&S?t.title=S(e,t.title):delete t.title;var D=t.background;return D&&(M?e.children.moveBelow(D,M):b&&e.children.moveBelow(D,b)),t};class ry extends wl{constructor(t,i,n){i=sy(t,i,n),super(t,i),this.type="rexSimpleTitleLabel"}setActiveState(t){return vc(this.getChildren(),"setActiveState",t),this}setHoverState(t){return vc(this.getChildren(),"setHoverState",t),this}setDisableState(t){return vc(this.getChildren(),"setDisableState",t),this}}var vc=function(e,t,i){for(var n=0,x=e.length;n<x;n++){var S=e[n];S&&S[t]&&S[t](i)}};K.register("simpleTitleLabel",function(e,t){var i=new ry(this.scene,e,t);return this.scene.add.existing(i),i}),$(window,"RexPlugins.UI.SimpleTitleLabel",ry);const ee=Phaser.Utils.Objects.GetValue,vG=Phaser.Utils.Objects.IsPlainObject;var pG=function(e,t){var i=ee(t,"background",void 0),n=ee(t,"icon",void 0),x=ee(t,"iconMask",void 0),S=ee(t,"nameText",void 0),M=ee(t,"valueText",void 0),b=ee(t,"bar",void 0),D=ee(t,"action",void 0),k=ee(t,"actionMask",void 0),W=ee(t,"barShape","line")==="line";if(vG(b)){var Z=W?Pd:Co;b=new Z(e,b),e.add.existing(b),S&&e.children.moveBelow(b,S),M&&e.children.moveBelow(b,M)}var tt=S||M||b;if(i&&this.addBackground(i),n){var _=void 0;this.orientation===0?(tt||D)&&(_={right:ee(t,"space.icon",0),top:ee(t,"space.iconTop",0),bottom:ee(t,"space.iconBottom",0)}):(tt||D)&&(_={bottom:ee(t,"space.icon",0),left:ee(t,"space.iconLeft",0),right:ee(t,"space.iconRight",0)}),this.add(n,{proportion:0,padding:_}),x&&(x=Qi.call(this,n,n,1))}if(tt){var st=new jt(e,{orientation:1}),at;if(S||M){if(at=new jt(e,{orientation:0}),S){S.text===""&&S.setText(" "),S.setOrigin(0,S.originY);var _={left:ee(t,"space.name",0)};at.add(S,{padding:_})}if(M){M.text===""&&M.setText(" "),M.setOrigin(1,M.originY),at.addSpace();var _={right:ee(t,"space.value",0)};at.add(M,{padding:_}),this.setValueTextFormatCallback(ee(t,"valueTextFormatCallback",gG),ee(t,"valueTextFormatCallbackScope",void 0))}st.add(at,{expand:!0})}if(b)if(W){var nt=at?ee(t,"space.bar"):0;nt===void 0&&(nt=ee(t,"space.barTop",0));var _={top:nt,bottom:ee(t,"space.barBottom",0),left:ee(t,"space.barLeft",0),right:ee(t,"space.barRight",0)};st.add(b,{expand:!0,padding:_})}else{var _={top:ee(t,"space.barTop",0),bottom:ee(t,"space.barBottom",0),left:ee(t,"space.barLeft",0),right:ee(t,"space.barRight",0)};this.addBackground(b,_)}var _=void 0;D&&(_={right:ee(t,"space.text",0)});var ut=ee(t,"align.text","bottom");this.add(st,{proportion:1,align:ut,padding:_})}if(D){var _;this.orientation===0?_={top:ee(t,"space.actionTop",0),bottom:ee(t,"space.actionBottom",0)}:_={left:ee(t,"space.actionLeft",0),right:ee(t,"space.actionRight",0)},this.add(D,{proportion:0,padding:_}),k&&(k=Qi.call(this,D,D,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",n),this.addChildrenMap("iconMask",x),this.addChildrenMap("name",S),this.addChildrenMap("value",M),this.addChildrenMap("bar",b),this.addChildrenMap("action",D),this.addChildrenMap("actionMask",k)},gG=function(e,t,i){return e.toString()};const mG=Phaser.Math.Clamp;var xG={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var n;return this.valueTextFormatCallbackScope?n=this.valueTextFormatCallback(e,t,i):n=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),n},updateValueText(e,t,i){var n=this.childrenMap.value;return n&&this.valueTextFormatCallback&&(n.setText(this.getFormatValueText(e,t,i)),n.layout&&n.layout()),this},setValue(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,e=mG(e,t,i),this.value=e,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new Xi(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class Rl extends jt{constructor(t,i){super(t,i),this.type="rexNameValueLabel",pG.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,n){var x=this.childrenMap.bar;return x===void 0?this:(x.setValue(t,i,n),this)}easeBarValueTo(t,i,n){var x=this.childrenMap.bar;return x===void 0?this:(x.easeValueTo(t,i,n),this)}setTexture(t,i){var n=this.childrenMap.icon;if(n!==void 0)return n.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,n){var x=this.childrenMap.iconMask;x&&(x.setPosition(),this.resetChildPositionState(x));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,i,n),this}resize(t,i){super.resize(t,i);var n=this.childrenMap.iconMask;n&&n.resize();var x=this.childrenMap.actionMask;return x&&x.resize(),this}}Object.assign(Rl.prototype,xG),K.register("nameValueLabel",function(e){var t=new Rl(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.NameValueLabel",Rl);class yG extends sg{constructor(t){super(),this.setTable(kt(t,"table")),this.setMaxLevel(kt(t,"maxLevel"));var i=kt(t,"exp",0),n=kt(t,"level",void 0);n!==void 0&&!this.checkLevel(n,i)&&(console.error(`Level ${n} and Exp ${i} are mismatch`),n=void 0),this.resetExp(i,n)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=Hi(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),n=this._level,x=this._exp,S;;){var M=this.getExp(n),b=this.getExp(n+1);if(S=Math.min(b,t),this.emit("levelup",n,x,S,M,b),n===i&&S===t)break;n++,x=b}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var n=this.getExp(i+1);if(n>t||(i++,this.hasMaxLevel&&n===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,n){return i&&this.on("levelup",i,n),this.exp+=t,i&&this.off("levelup",i,n),this}setExp(t,i,n){return i&&this.on("levelup",i,n),this.exp=t,i&&this.off("levelup",i,n),this}setLevel(t,i,n){return i&&this.on("levelup",i,n),this.level=t,i&&this.off("levelup",i,n),this}}var pc=function(e,t,i){var n=kt(i,"reverse",!1),x;if($i(e[0]))if(n)for(var M=e.length,S=M-1;S>=0;S--)x=pc(e[S],t,i);else for(var S=0,M=e.length;S<M;S++)x=pc(e[S],t,i);else x=CG(e,t,i);return x},CG=function(e,t,i){var n=kt(i,"argsConvert",void 0),x=kt(i,"argsConvertScope",void 0),S=e[0];if(vr=vo(vr,e,1),n){n===!0&&(n=$u,x=void 0);for(var M=0,b=vr.length;M<b;M++)x?vr[M]=n.call(x,vr[M],e):vr[M]=n(vr[M],e)}var D;typeof S=="string"?(D=t[S],D==null&&(D=kt(t,S,null))):D=S;var k=D.apply(t,vr);return k},vr=[];const _i=Phaser.Utils.Objects.GetValue;class ny extends xe{constructor(t,i){super(t,i);var n=_i(i,"clock",void 0);n||(n=new Qp(t)),this.clock=n,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON(_i(t,"clock",void 0)),this.state=_i(t,"state",0),this.commands=_i(t,"commands",[]),this.scope=_i(t,"scope",void 0),this.setTimeUnit(_i(t,"timeUnit",0)),this.setDtMode(_i(t,"dtMode",0)),this.index=_i(t,"index",0),this.nextTime=_i(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,n){this.stop();var x=_i(n,"timeUnit",void 0);x!==void 0&&this.setTimeUnit(x);var S=_i(n,"dtMode",void 0);return S!==void 0&&this.setDtMode(S),t=t.filter(function(M){var b=M[0];return!isNaN(b)}).map(function(M){var b=M[0];return typeof b=="string"&&(M[0]=parseFloat(M[0])),M}),this.dtMode===0&&t.sort(function(M,b){var D=M[0],k=b[0];return D>k?1:D<k?-1:0}),vo(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...n){var x;return Array.isArray(i)?x=i:x=[i,...n],this.commands.push([t,x]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var n=i[this.index],x=n[1];if($i(x)||(x=vo(SG,n,1)),pc(x,this.scope),this.emit("runcommand",x,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=PG[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=TG[t]),this.timeUnit=t,this}}var SG=[];const TG={ms:0,s:1,sec:1},PG={abs:0,absolute:0,inc:1,increment:1};var EG=function(e,t,i,n,x){var S=(i-t)/(x-n)*this.totalEaseDuration,M=i===x?e+1:e;this.player.append(0,this.setEaseValueDuration,S).append(0,this.easeValueTo,i,n,x).append(0,this.emit,"levelup.start",e,t,i,this).append(S,a).append(0,this.emit,"levelup.end",M,t,i,this),this.player.isPlaying||this.player.start()},MG={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}};const ay=Phaser.Utils.Objects.GetValue;class gc extends Rl{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration(ay(i,"easeDuration",1e3)),this.levelCounter=new yG(ay(i,"levelCounter")),this.player=new ny(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",EG,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(gc.prototype,MG),K.register("expBar",function(e){var t=new gc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.ExpBar",gc);const Al=jt.prototype.add,hy=jt.prototype.addSpace;var mc=function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var n=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");n&&hy.call(this),Al.call(this,e,{proportion:i,expand:!0});var x=!this.buttonsExpand&&this.buttonsAlign==="center";x&&hy.call(this),this.hasTailSpace=x}else Al.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var S=this.sizerChildren.length-1;Al.call(this,e,{index:S,proportion:i,expand:!0})}else Al.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this},wG={addButton(e){if($i(e))for(var t=e,i=0,n=t.length;i<n;i++)mc.call(this,t[i]);else mc.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)mc.call(this,e[t]);return this}};const RG=jt.prototype.remove,AG=jt.prototype.clear;var xc=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),RG.call(this,e,t),this)},bG={remove(e,t){if($i(e))for(var i=e,n=0,x=i.length;n<x;n++)xc.call(this,i[n],t);else xc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,AG.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)xc.call(this,t[i],e);return this}},LG=function(e,t,i){if(e){var n=this.setValueCallback,x=this.setValueCallbackScope;n&&(x?n.call(x,e,t,i):n(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},OG=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(i){if(e._selected!==i){var n=e._selected;e._selected=i,LG.call(t,e,i,n)}},enumerable:!0,configurable:!0}),e.selected=!1},DG={add(e){return this.buttons.push(e),e._click||(e._click=new Ls(e,this.clickConfig),e._click.on("click",function(t,i,n,x){this.fireEvent("button.click",i,n,x)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,n,x){this.fireEvent("button.over",i,n,x)},this).on("out",function(t,i,n,x){this.fireEvent("button.out",i,n,x)},this).on("down",function(t,i,n,x){this.fireEvent("button.down",i,n,x)},this).on("up",function(t,i,n,x){this.fireEvent("button.up",i,n,x)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),OG.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}};const FG=Phaser.Utils.Array.Remove;var BG={remove(e){return this.buttonsType&&delete e.selected,FG(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}},IG=function(e,t,...i){if(this.buttons){var n;if(typeof t=="number"){if(n=t,t=this.buttons[n],!t)return}else if(n=this.buttons.indexOf(t),n===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,n,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,n,...i):this.eventEmitter.emit(e,t,n,...i)}};const uh=Phaser.Utils.Objects.GetValue;var kG={setButtonsType(e){e===void 0&&(e={});var t=uh(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,n;switch(i=uh(e,"setValueCallback",void 0),n=uh(e,"setValueCallbackScope",void 0),i===void 0&&(i=uh(e,"setButtonStateCallback",void 0),n=uh(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=n,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(n){if(e._value!==n){e._value=n;for(var x=0,S=t.length;x<S;x++){var M=t[x];M.rexSizer.hidden||(i===void 0?M.name===n?M.selected=!0:M.selected=!1:i===x?M.selected=!0:M.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(n){i=this.buttons.indexOf(n),e.value=n.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var n=e[t];n.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,n=t.length;i<n;i++){var x=t[i];x.rexSizer.hidden||(e[x.name]=x.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,n=0,x=i.length;n<x;n++){var S=i[n];if(!S.rexSizer.hidden&&S.name===e){S.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,n=t.length;i<n;i++){var x=t[i];if(!x.rexSizer.hidden&&x.name===e)return x.selected}}},GG=function(e,t){if(e)if($i(e)){for(var i,n=0,x=e.length;n<x;n++)if(i=oy(e[n],t),i)return i}else{var i;for(var S in e)if(i=oy(e[S],t),i)return i}else return null},oy=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null},bl={getButton(e){var t=this.buttons,i,n=typeof e;switch(n){case"number":i=t[e];break;case"string":i=GG(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var n=0,x=i.length;n<x;n++)i[n]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,n=t.length;i<n;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,n=0,x=i.length;n<x;n++){var S=i[n];S._click.isOver&&(S._click.isOver=!1,t.fireEvent("button.out",S))}var S=this.getButton(e);return S&&(S._click.isOver=!0,t.fireEvent("button.over",S)),this},showButton(e){return ar(this.getButton(e)),this},hideButton(e){return hr(this.getButton(e)),this},isButtonShown(e){return qd(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,n=0,x=i.length;n<x;n++)t?e.call(t,i[n],n,i):e(i[n],n,i);return this}};class Ll{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var zG={fireEvent:IG};Object.assign(Ll.prototype,DG,BG,kG,bl,zG);var yc={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}};const $r=Phaser.Utils.Objects.GetValue;let Xe=class extends jt{constructor(t,i){i===void 0&&(i={});var n=i.space;typeof n=="number"&&(i.space={item:n}),super(t,i),this.type="rexButtons",this.buttonGroup=new Ll({parent:this,eventEmitter:$r(i,"eventEmitter",this),groupName:$r(i,"groupName",void 0),clickConfig:$r(i,"click",void 0)}).setButtonsType(i);var x=$r(i,"background",void 0),S=$r(i,"buttons",void 0);this.buttonsExpand=$r(i,"expand",!1),this.buttonsAlign=$r(i,"align",void 0),x&&this.addBackground(x),S&&this.addButtons(S),this.addChildrenMap("background",x),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Xe.prototype,wG,bG,bl,yc),K.register("buttons",function(e){var t=new Xe(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Buttons",Xe);const NG=qi.prototype.add;var VG={addButton(e,t,i){return NG.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,n=e;i<n;i++)this.addButton(e[i],void 0,t);return this}};const WG=qi.prototype.remove,UG=qi.prototype.clear;var Cc=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),WG.call(this,i,t),this):this},XG={remove(e,t){if($i(e))for(var i=e,n=0,x=i.length;n<x;n++)Cc.call(this,i[n],t);else Cc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,UG.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)Cc.call(this,t[i],e);return this}};const gs=Phaser.Utils.Objects.GetValue;class Ol extends qi{constructor(t,i){i===void 0&&(i={});var n=gs(i,"row",0),x=gs(i,"column",i.col||0),S=gs(i,"createCellContainerCallback"),M=gs(i,"buttons",void 0),b=gs(i,"expand",!0),D=b?1:0;if(S&&(i.createCellContainerCallback=void 0),M!==void 0){n=Math.max(n,M.length);for(var k=0,W=M.length;k<W;k++)x=Math.max(x,M[k].length)}i.row=n,i.column=x,i.columnProportions=D,i.rowProportions=D,super(t,i),this.type="rexGridButtons",this.buttonGroup=new Ll({parent:this,eventEmitter:gs(i,"eventEmitter",this),groupName:gs(i,"groupName",void 0),clickConfig:gs(i,"click",void 0)}).setButtonsType(i);var Z=gs(i,"background",void 0);if(this.buttonsExpand=b,gs(i,"space",void 0),Z&&this.addBackground(Z),M)for(var tt,_,st=0,at=M.length;st<at;st++){tt=M[st];for(var nt=0,ut=tt.length;nt<ut;nt++)_=tt[nt],_&&this.addButton(_,nt,st)}else if(S)for(var ct=0;ct<n;ct++)for(var dt=0;dt<x;dt++){var _=S(t,dt,ct);_&&this.addButton(_,dt,ct)}this.addChildrenMap("background",Z),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Ol.prototype,VG,XG,bl,yc),K.register("gridButtons",function(e){var t=new Ol(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.GridButtons",Ol);const ly=fr.prototype.add;var Dl=function(e){return ly.call(this,e),this.buttonGroup.add(e),this},YG={addButton(e){if($i(e))for(var t=e,i=0,n=t.length;i<n;i++)Dl.call(this,t[i]);else Dl.call(this,e);return this},addButtons(e){if($i(e[0]))for(var t=e,i,n=0,x=t.length-1;n<=x;n++){i=t[n];for(var S=0,M=i.length;S<M;S++)Dl.call(this,i[S]);n>x&&ly.addNewLine(this)}else for(var S=0,M=e.length;S<M;S++)Dl.call(this,e[S]);return this}};const HG=fr.prototype.remove,$G=fr.prototype.clear;var Sc=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),HG.call(this,i,t),this):this},KG={remove(e,t){if($i(e))for(var i=e,n=0,x=i.length;n<x;n++)Sc.call(this,i[n],t);else Sc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,$G.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)Sc.call(this,t[i],e);return this}};const Zn=Phaser.Utils.Objects.GetValue;class pr extends fr{constructor(t,i){i===void 0&&(i={});var n=i.space;typeof n=="number"&&(i.space={item:n,line:n}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new Ll({parent:this,eventEmitter:Zn(i,"eventEmitter",this),groupName:Zn(i,"groupName",void 0),clickConfig:Zn(i,"click",void 0)}).setButtonsType(i);var x=Zn(i,"background",void 0),S=Zn(i,"buttons",void 0);this.buttonsAlign=Zn(i,"align",void 0),x&&this.addBackground(x),S&&this.addButtons(S),this.addChildrenMap("background",x),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(pr.prototype,YG,KG,bl,yc),K.register("fixWidthButtons",function(e){var t=new pr(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.FixWidthButtons",pr);var ZG={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,n,x){return this.childrenMap.fileChooser.loadFile(e,t,i,n,x),this},loadFilePromise(e,t,i,n){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,n)}};const uy=Phaser.Utils.Objects.GetValue;class Tc extends Ns{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var n=new th(t);t.add.existing(n),this.addBackground(n),this.addChildrenMap("fileChooser",n),this.setAccept(uy(i,"accept","")),this.setMultiple(uy(i,"multiple",!1)),n.on("change",function(x){var S=x.files;S.length!==0&&(S=Array.from(S),this.emit("select",S,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(Tc.prototype,ZG),K.register("fileSelectorButton",function(e){var t=new Tc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.FileSelectorButton",Tc);var JG={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},QG={onCreateModalBehavior(e){e.on("button.click",function(t,i,n,x,S){var M=!1;switch(i){case"actions":M=!0;break;case"choices":e.hasAnyAction()||(M=!0);break}if(M){var b={index:n,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":b.value=e.getChoicesSelectedButtonName();break;case"checkboxes":b.value=e.getChoicesButtonStates();break;default:b.value=void 0}e.modalClose(b)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,Vo.modal.call(this,e,t),this}},dy={};Object.assign(dy,JG,QG);const Ot=Phaser.Utils.Objects.GetValue;class dh extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=Ot(i,"eventEmitter",this);var n=Ot(i,"background",void 0),x=Ot(i,"title",void 0),S=Ot(i,"toolbar",void 0),M=Ot(i,"toolbarBackground",void 0),b=Ot(i,"leftToolbar",void 0),D=Ot(i,"leftToolbarBackground",void 0),k=Ot(i,"content",void 0),W=Ot(i,"description",void 0),Z,tt=Ot(i,"choices",void 0),_=Ot(i,"choicesBackground",void 0),st,at=Ot(i,"actions",void 0),nt=Ot(i,"actionsBackground",void 0),ut=Ot(i,"click",void 0);n&&this.addBackground(n);var ct;S&&(ct=new Xe(t,{groupName:"toolbar",background:M,buttons:S,orientation:0,space:{item:Ot(i,"space.toolbarItem",0)},click:ut,eventEmitter:this.eventEmitter}),t.add.existing(ct));var dt;if(b&&(dt=new Xe(t,{groupName:"leftToolbar",background:D,buttons:b,orientation:0,space:{item:Ot(i,"space.leftToolbarItem",0)},click:ut,eventEmitter:this.eventEmitter}),t.add.existing(dt)),x||S||b){var mt=!!x&&Ot(i,"expand.title",!0),Tt=Ot(i,"align.title","center"),Pt=x&&!mt&&Tt==="center"||!x&&(S||b),At=!Pt,Ft;At?Ft=new jt(t,{orientation:0}):Ft=new Di(t),t.add.existing(Ft);var Dt=At?!0:{height:!0};if(dt&&Ft.add(dt,{align:"left",expand:Dt}),x){At&&!mt&&Tt==="right"&&Ft.addSpace();var zt={left:Ot(i,"space.titleLeft",0),right:Ot(i,"space.titleRight",0)},Gt=mt?1:0;Ft.add(x,{align:Tt,proportion:Gt,expand:Dt,padding:zt}),At&&!mt&&Tt==="left"&&Ft.addSpace()}ct&&(At&&!x&&Ft.addSpace(),Ft.add(ct,{align:"right",expand:Dt}));var zt;(k||W||tt||at)&&(zt={bottom:Ot(i,"space.title",0),top:Ot(i,"space.titleTop",0)});var Gt=Ot(i,"proportion.title",0);this.add(Ft,{padding:zt,proportion:Gt,expand:!0})}if(k){var qt=Ot(i,"align.content","center"),_t=Ot(i,"space.content",0),zt={left:Ot(i,"space.contentLeft",0),right:Ot(i,"space.contentRight",0),bottom:W||tt||at?_t:0},Gt=Ot(i,"proportion.content",0),It=Ot(i,"expand.content",!0);this.add(k,{align:qt,padding:zt,proportion:Gt,expand:It})}if(W){var qt=Ot(i,"align.description","center"),de=Ot(i,"space.description",0),zt={left:Ot(i,"space.descriptionLeft",0),right:Ot(i,"space.descriptionRight",0),bottom:tt||at?de:0},Gt=Ot(i,"proportion.description",0),It=Ot(i,"expand.description",!0);this.add(W,{align:qt,padding:zt,proportion:Gt,expand:It})}if(tt){var pe=Ot(i,"choicesType","").split("-"),Te=fh(pe,"wrap")?pr:fh(pe,"grid")?Ol:Xe,Ne=fh(pe,"radio")?"radio":fh(pe,"checkboxes")?"checkboxes":void 0,Ie={left:Ot(i,"space.choicesBackgroundLeft",0),right:Ot(i,"space.choicesBackgroundRight",0),top:Ot(i,"space.choicesBackgroundTop",0),bottom:Ot(i,"space.choicesBackgroundBottom",0)},ai=Ot(i,"space.choice",0);Te===Xe?Ie.item=ai:Te===pr?(Ie.item=ai,Ie.line=Ot(i,"space.choiceLine",ai)):(Ie.column=Ot(i,"space.choiceColumn",ai),Ie.row=Ot(i,"space.choiceRow",ai));var Ni={width:Ot(i,"choicesWidth",void 0),height:Ot(i,"choicesHeight",void 0),groupName:"choices",buttonsType:Ne,background:_,buttons:tt,space:Ie,click:ut,eventEmitter:this.eventEmitter,setValueCallback:Ot(i,"choicesSetValueCallback",void 0),setValueCallbackScope:Ot(i,"choicesSetValueCallbackScope",void 0)};Te===Xe&&(Ni.orientation=fh(pe,"x")?0:1),Z=new Te(t,Ni),t.add.existing(Z);var Vi=Ot(i,"space.choices",0),zt={left:Ot(i,"space.choicesLeft",0),right:Ot(i,"space.choicesRight",0),bottom:at?Vi:0},qt=Ot(i,"align.choices","center"),Gt=Ot(i,"proportion.choices",0),It=Ot(i,"expand.choices",!0);this.add(Z,{align:qt,padding:zt,proportion:Gt,expand:It}),this.buttonsType=Ne}if(at){st=new Xe(t,{groupName:"actions",background:nt,buttons:at,orientation:0,space:{item:Ot(i,"space.action",0)},expand:Ot(i,"expand.actions",!1),align:Ot(i,"align.actions","center"),click:ut,eventEmitter:this.eventEmitter}),t.add.existing(st);var zt={left:Ot(i,"space.actionsLeft",0),right:Ot(i,"space.actionsRight",0),bottom:Ot(i,"space.actionsBottom",0)},Gt=Ot(i,"proportion.action",0);this.add(st,{align:"center",padding:zt,proportion:Gt,expand:!0})}ch(this,"click"),ch(this,"over"),ch(this,"out"),ch(this,"enable"),ch(this,"disable"),this.addChildrenMap("background",n),this.addChildrenMap("title",x),this.addChildrenMap("toolbar",S),this.addChildrenMap("leftToolbar",b),this.addChildrenMap("content",k),this.addChildrenMap("description",W),this.addChildrenMap("choices",Z?Z.buttons:void 0),this.addChildrenMap("actions",st?st.buttons:void 0),this.addChildrenMap("choicesSizer",Z),this.addChildrenMap("actionsSizer",st),this.addChildrenMap("toolbarSizer",ct),this.addChildrenMap("leftToolbarSizer",dt)}}var fh=function(e,t){return e.indexOf(t)!==-1},fy={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},ch=function(e,t){e.on(`button.${t}`,function(i,n,x,S,M){fy.hasOwnProperty(n)&&e.emit(`${fy[n]}.${t}`,i,x,S,M)})};Object.assign(dh.prototype,dy),K.register("dialog",function(e){var t=new dh(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Dialog",dh);var Ye=function(e,t,i){var n=new lh(e,t,i);return e.add.existing(n),n},jG=function(e){return e===void 0&&(e={}),qG.call(this,e),_G.call(this,e),t8.call(this,e),e8.call(this,e),this},qG=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},_G=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var i=e||"";t.setText(i)}},t8=function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var S=this.scene,M=this.defaultActionConfig,b=this.defaultActionButtonCreator,D=0,k=i.length;D<k;D++){var W=i[D],Z=t[D];Z||(Z=Ye(S,M,b),this.addAction(Z)),Z.show().resetDisplayContent(W)}this.buttonMode=i.length;for(var D=i.length,k=t.length;D<k;D++)t[D].hide()}else{var n=t[0];n&&(e.buttonA===null?n.hide():(n.show(),n.resetDisplayContent(e.buttonA)));var x=t[1];x&&(e.buttonB===null?x.hide():(x.show(),x.resetDisplayContent(e.buttonB)))}}},e8=function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var n=this.scene,x=this.defaultChoiceConfig,S=this.defaultActionButtonCreator,M=0,b=i.length;M<b;M++){var D=i[M];typeof D=="string"&&(D={text:D});var k=t[M];k||(k=Ye(n,x,S),this.addChoice(k)),k.show().resetDisplayContent(D);var W;D.hasOwnProperty("value")?W=D.value:W=D.text,k.setName(W)}for(var M=i.length,b=t.length;M<b;M++)t[M].hide()}};const i8=Phaser.Utils.Objects.Merge;var s8=function(e,t){Hi(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=i8(e,this.modalStyle);var i;this.buttonMode===0?this.hasAnyChoice()?i=!1:i=!0:i=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var n=this,x=function(S){var M=S.index;M===n.confirmButtonIndex?n.emit("confirm",S):M===n.cancelButtonIndex&&n.emit("cancel",S),t&&t(S)};return Vo.modal.call(this,e,x),this},r8={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}},cy={resetDisplayContent:jG,modal:s8};Object.assign(cy,r8);var n8=function(e){e.setHoverState&&e.setHoverState(!0)},a8=function(e){e.setHoverState&&e.setHoverState(!1)},h8=function(e,t,i,n){e.setActiveState&&e.setActiveState(n)},o8=function(e){e.setDisableState&&e.setDisableState(!1)},l8=function(e){e.setDisableState&&e.setDisableState(!0)},vy=function(){this.on("button.over",n8).on("button.out",a8).on("button.enable",o8).on("button.disable",l8).on("button.statechange",h8)};const u8=Phaser.Utils.Objects.GetValue;var d8=function(e,t,i){var n=u8(t,"$type");n===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(n="textarea");var x;switch(n){case"textarea":x=new ty(e,t,i);break;default:x=new Ye(e,t,i);break}return e.add.existing(x),x};const Pc=Phaser.Utils.Objects.GetValue;class Fl extends dh{constructor(t,i,n){i=i?pt(i):{},n===void 0&&(n={});var x=Pc(n,"background",ze);i.background=x(t,i.background),i.title=Ye(t,i.title,n.title),i.content=d8(t,i.content,n.content),i.content instanceof oh&&Rs(i,"height")&&!Rs(i,"proportion.content")&&$(i,"proportion.content",1);var S=i.button,M=i.buttonA||S,b=i.buttonB||S,D=i.buttonMode;D===void 0&&(D=M&&b?2:M?1:0);var k=n.button,W=n.buttonA||k,Z=n.buttonB||k;switch(D){case 2:i.actions=[Ye(t,M,W),Ye(t,b,Z)];break;case 1:i.actions=[Ye(t,M,W)];break;case 0:break;default:i.actions=[];break}var tt=i.choice;tt&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=D,this.defaultActionConfig=S,this.defaultActionButtonCreator=k,this.defaultChoiceConfig=tt,this.defaultChoiceCreator=n.choice;var _=this.childrenMap.actions;this.addChildrenMap("buttonA",_?_[0]:null),this.addChildrenMap("buttonB",_?_[1]:null),vy.call(this),this.setConfirmButtonIndex(Pc(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(Pc(i,"cancelButtonIndex",1)),this.modalStyle=i.modal||{}}}Object.assign(Fl.prototype,cy),K.register("confirmDialog",function(e,t){var i=new Fl(this.scene,e,t);return this.scene.add.existing(i),i}),$(window,"RexPlugins.UI.ConfirmDialog",Fl);const py=Phaser.Utils.Objects.GetValue;var gy=function(e,t){var i=t.dialog,n=!i;if(n){var x=t.style;x.buttonMode=2,i=new Fl(e,x,t.creators),e.add.existing(i)}i.setConfirmButtonIndex(py(t,"confirmButtonIndex",0)).setCancelButtonIndex(py(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),n&&t.onCreateDialog&&t.onCreateDialog(i);var S=t.modal;S&&!S.hasOwnProperty("destroy")&&(S.destroy=n);var M=t.confirm,b=t.cancel,D=t.confirmScope,k=t.cancelScope;M&&i.once("confirm",M,D),b&&i.once("cancel",b,k);var W=function(Z){i.off("confirm",M,D),i.off("cancel",b,k)};return i.modal(S,W),i};class my extends Ns{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Ui(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=gy(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}}K.register("confirmActionButton",function(e){var t=new my(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.ConfirmActionButton",my);var f8=function(e){return e===void 0&&(e={}),c8.call(this,e),v8.call(this,e),p8.call(this,e),this},c8=function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},v8=function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var i=e.firstNameTitle||"";t.resetDisplayContent(i)}var n=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(n);else{this.show(n);var x=e.firstName||"";n.setText(x)}var S=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(S);else{this.show(S);var M=e.lastNameTitle||"";S.resetDisplayContent(M)}var b=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(b);else{this.show(b);var D=e.lastName||"";b.setText(D)}},p8=function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))};const g8=Phaser.Utils.Objects.Merge;var m8=function(e,t){Hi(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=g8(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var i=this,n=function(x){x.firstName=i.firstName,x.lastName=i.lastName,i.emit("confirm",x),t&&t(x)};return Vo.modal.call(this,e,n),this},x8={resetDisplayContent:f8,modal:m8},gr=function(e,t,i){i===void 0&&(i=!0),i?t=t?pt(t):{}:t||(t={});var n=new Ra(e,t);return e.add.existing(n),n};const Ii=Phaser.Utils.Objects.GetValue;var y8=function(e,t,i){var n=Fr(Ii(t,"layoutMode",0)),x=n===0,S=new jt(e,{orientation:n,space:{item:Ii(t,"space.firstName",0)}});e.add.existing(S);var M=new jt(e,{orientation:"x"});e.add.existing(M);var b=Ii(t,"firstNameTitle",t.nameTitle),D=Ye(e,b,i.firstNameTitle||i.nameTitle);M.add(D,{expand:!0,proportion:Ii(t,"proportion.firstNameTitle",0),padding:{right:Ii(t,"space.firstNameTitle",0)}});var k=t.nameInput||{},W=Ii(t,"firstNameInput",k),Z=gr(e,W,i.firstNameInput||i.nameInput),tt=!W.hasOwnProperty("width");M.add(Z,{expand:!0,proportion:tt?1:0});var _=new jt(e,{orientation:"x"});e.add.existing(_);var st=Ii(t,"lastNameTitle",t.nameTitle),at=Ye(e,st,i.lastNameTitle||i.nameTitle);_.add(at,{expand:!0,proportion:Ii(t,"proportion.lastNameTitle",0),padding:{right:Ii(t,"space.lastNameTitle",0)}});var nt=Ii(t,"firstNameInput",k),ut=gr(e,nt,i.lastNameInput||i.nameInput),ct=!nt.hasOwnProperty("width");if(_.add(ut,{expand:!0,proportion:ct?1:0}),x){var dt=tt?1:0,mt=Ii(t,"proportion.firstName",dt);S.add(M,{expand:!0,proportion:mt});var Tt=ct?1:0,Pt=Ii(t,"proportion.lastName",Tt);S.add(_,{expand:!0,proportion:Pt})}else S.add(M,{expand:tt,proportion:0}),S.add(_,{expand:ct,proportion:0});return S.addChildrenMap("firstNameTitle",D),S.addChildrenMap("firstNameInput",Z),S.addChildrenMap("lastNameTitle",at),S.addChildrenMap("lastNameInput",ut),S};const C8=Phaser.Utils.Objects.GetValue;class Ec extends dh{constructor(t,i,n){i===void 0&&(i={}),n===void 0&&(n={}),i.orientation="y";var x=i.space;x&&(x.hasOwnProperty("names")&&(x.content=x.names),x.hasOwnProperty("namesLeft")&&(x.contentLeft=x.namesLeft),x.hasOwnProperty("namesRight")&&(x.contentRight=x.namesRight));var S=C8(n,"background",ze);i.background=S(t,i.background),i.title=Ye(t,i.title,n.title),i.content=y8(t,i,n),i.actions=[Ye(t,i.button,n.button)],super(t,i),this.type="rexNameInputDialog";var M=i.content.childrenMap;this.addChildrenMap("firstNameTitle",M.firstNameTitle),this.addChildrenMap("firstNameInput",M.firstNameInput),this.addChildrenMap("lastNameTitle",M.lastNameTitle),this.addChildrenMap("lastNameInput",M.lastNameInput),this.addChildrenMap("button",i.actions[0]),vy.call(this),this.modalStyle=i.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}}Object.assign(Ec.prototype,x8),K.register("nameInputDialog",function(e,t){var i=new Ec(this.scene,e,t);return this.scene.add.existing(i),i}),$(window,"RexPlugins.UI.NameInputDialog",Ec);var Kr=function(e,t){if(e){var i=mi(e);i&&i.remove(e,t)}};const Bl=Phaser.Utils.Objects.GetValue;var vh=function(e,t,i){var n=Bl(e,`proportion.${t}`,i.proportion),x=Bl(e,`align.${t}`,"center"),S=Bl(e,`space.${t}`,void 0);if(typeof S=="number"&&i.paddingKey){var M=S;S={},S[i.paddingKey]=M}var b=Bl(e,`expand.${t}`,!0);return{proportion:n,align:x,padding:S,expand:b}},Il=function(e){return vh(e,"header",{proportion:0,paddingKey:"bottom"})},kl=function(e){return vh(e,"leftSide",{proportion:0,paddingKey:"right"})},Gl=function(e){return vh(e,"content",{proportion:1})},zl=function(e){return vh(e,"rightSide",{proportion:0,paddingKey:"left"})},Nl=function(e){return vh(e,"footer",{proportion:0,paddingKey:"top"})},Vs=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},Ws=function(e,t){var i=new jt(e,{orientation:t});return e.add.existing(i),i},S8=function(e){var t=this.scene,i=e.header;i&&this.add(i,Il(e));var n=Ws(t,0);this.add(n,Vs());var x=e.leftSide;x&&n.add(x,kl(e));var S=e.content;S&&n.add(S,Gl(e));var M=e.rightSide;M&&n.add(M,zl(e));var b=e.footer;b&&this.add(b,Nl(e))},T8=function(e){var t=this.scene,i=e.header;i&&this.add(i,Il(e));var n=Ws(t,0);this.add(n,Vs());var x=e.leftSide;x&&n.add(x,kl(e));var S=Ws(t,1);n.add(S,Vs());var M=Ws(t,0);S.add(M,Vs());var b=e.content;b&&M.add(b,Gl(e));var D=e.rightSide;D&&M.add(D,zl(e));var k=e.footer;k&&S.add(k,Nl(e))},P8=function(e){var t=this.scene,i=e.header;i&&this.add(i,Il(e));var n=Ws(t,0);this.add(n,Vs());var x=Ws(t,1);n.add(x,Vs());var S=Ws(t,0);x.add(S,Vs());var M=e.leftSide;M&&S.add(M,kl(e));var b=e.content;b&&S.add(b,Gl(e));var D=e.footer;D&&x.add(D,Nl(e));var k=e.rightSide;k&&n.add(k,zl(e))},E8=function(e){var t=this.scene,i=e.header;i&&this.add(i,Il(e));var n=Ws(t,0);this.add(n,Vs());var x=e.leftSide;x&&n.add(x,kl(e));var S=Ws(t,1);n.add(S,Vs());var M=e.content;M&&S.add(M,Gl(e));var b=e.footer;b&&S.add(b,Nl(e));var D=e.rightSide;D&&n.add(D,zl(e))};const M8=Phaser.Utils.Objects.GetValue,xy=[S8,T8,P8,E8];var w8=function(e){e===void 0&&(e={});var t=e.background,i=e.header,n=e.leftSide,x=e.content,S=e.rightSide,M=e.footer;Kr(t),Kr(i),Kr(n),Kr(x),Kr(S),Kr(M),this.clear(!0),t&&this.addBackground(t);var b=M8(e,"layoutMode",0);typeof b=="string"&&(b=R8[b.toUpperCase()]);var D=xy[b]||xy[0];return D.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",n),this.addChildrenMap("content",x),this.addChildrenMap("rightSide",S),this.addChildrenMap("footer",M),this};const R8={FFF:0,LFF:1,FFR:2,LFR:3};class Mc extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}}var A8={build:w8};Object.assign(Mc.prototype,A8),K.register("holyGrail",function(e){var t=new Mc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.HolyGrail",Mc);var b8={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return ar(this.getButton(e,t)),this},showLeftButton(e){return ar(this.getLeftButton(e)),this},showRightButton(e){return ar(this.getRightButton(e)),this},showTopButton(e){return ar(this.getTopButton(e)),this},showBottomButton(e){return ar(this.getBottomButton(e)),this},hideButton(e,t){return hr(this.getButton(e,t)),this},hideLeftButton(e){return hr(this.getLeftButton(e)),this},hideRightButton(e){return hr(this.getRightButton(e)),this},hideTopButton(e){return hr(this.getTopButton(e)),this},hideBottomButton(e){return hr(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}};const ne=Phaser.Utils.Objects.GetValue;class wc extends qi{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var n=ne(i,"expand.panel",!1);n&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=ne(i,"eventEmitter",this);var x=ne(i,"background",void 0),S=ne(i,"panel",void 0),M=ne(i,"leftButtons",void 0),b=ne(i,"leftButtonsBackground",void 0),D,k=ne(i,"rightButtons",void 0),W=ne(i,"rightButtonsBackground",void 0),Z,tt=ne(i,"topButtons",void 0),_=ne(i,"topButtonsBackground",void 0),st,at=ne(i,"bottomButtons",void 0),nt=ne(i,"bottomButtonsBackground",void 0),ut,ct=ne(i,"click",void 0);if(x&&this.addBackground(x),S&&this.add(S,{column:1,row:1,expand:n}),M){var dt=ne(i,"space.leftButtonsOffset",0),mt=ne(i,"space.leftButton",0),Tt=ne(i,"expand.leftButtons",!1),Pt=ne(i,"align.leftButtons","top");D=new Xe(t,{groupName:"left",background:b,buttons:M,orientation:"y",space:{item:mt},expand:Tt,click:ct,eventEmitter:this.eventEmitter}),this.add(D,{column:0,row:1,align:Pt,padding:{top:dt},expand:Tt})}if(k){var At=ne(i,"space.rightButtonsOffset",0),Ft=ne(i,"space.rightButton",0),Dt=ne(i,"expand.rightButtons",!1),zt=ne(i,"align.rightButtons","top");Z=new Xe(t,{groupName:"right",background:W,buttons:k,orientation:"y",space:{item:Ft},expand:Dt,click:ct,eventEmitter:this.eventEmitter}),this.add(Z,{column:2,row:1,align:zt,padding:{top:At},expand:Dt})}if(tt){var Gt=ne(i,"space.topButtonsOffset",0),qt=ne(i,"space.topButton",0),_t=ne(i,"expand.topButtons",!1),It=ne(i,"align.topButtons","left");st=new Xe(t,{groupName:"top",background:_,buttons:tt,orientation:"x",space:{item:qt},expand:_t,align:ne(i,"align.topButtons",void 0),click:ct,eventEmitter:this.eventEmitter}),this.add(st,{column:1,row:0,align:It,padding:{left:Gt},expand:_t})}if(at){var de=ne(i,"space.bottomButtonsOffset",0),pe=ne(i,"space.bottomButton",0),Te=ne(i,"expand.bottomButtons",!1),Ne=ne(i,"align.bottomButtons","left");ut=new Xe(t,{groupName:"bottom",background:nt,buttons:at,orientation:"x",space:{item:pe},expand:Te,align:ne(i,"align.bottomButtons",void 0),click:ct,eventEmitter:this.eventEmitter}),this.add(ut,{column:1,row:2,align:Ne,padding:{left:de},expand:Te})}this.addChildrenMap("background",x),this.addChildrenMap("panel",S),this.addChildrenMap("leftButtons",M),this.addChildrenMap("rightButtons",k),this.addChildrenMap("topButtons",tt),this.addChildrenMap("bottomButtons",at),this.addChildrenMap("leftButtonsSizer",D),this.addChildrenMap("rightButtonsSizer",Z),this.addChildrenMap("topButtonsSizer",st),this.addChildrenMap("bottomButtonsSizer",ut)}}Object.assign(wc.prototype,b8),K.register("tabs",function(e){var t=new wc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Tabs",wc),K.register("slider",function(e){var t=new Kn(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Slider",Kn);class yy{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=In[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var n=this._deltaHeight!==t;if(this._deltaHeight=t,n){i.resetTotalRowsHeight();var x=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(x,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(yy.prototype,Mi);const Cy=Phaser.Utils.Objects.GetValue,L8=Phaser.Utils.Array.SpliceOne;class O8{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new yt,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=60);var n=t.cellWidth;return n===void 0&&(n=60),this.setDefaultCellHeight(i),this.setDefaultCellWidth(n),this.initCells(Cy(t,"cellsCount",0)),this.setColumnCount(Cy(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var n=0;n<t;n++)i[n]=null;return this}insertNewCells(t,i){var n=this.cells;if(t===n.length){var x=t+i;n.legth=x;for(var S=t;S<x;S++)n[S]=null}else{var M=[];M.length=i;for(var S=0;S<i;S++)M[S]=null;this.cells.splice(t,0,...M)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var n=t+i,x=t;x<n;x++)this.freeCell(x);return n===this.cells.length?this.cells.length=t:(i===1?L8(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var i=this.parent;if(i.expandCellSize){var n=i.scrollMode===0?i.width:i.height,x=n/t;this.setDefaultCellWidth(x)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var b=t/this.defaultCellHeight;switch(i){case 1:b=Math.ceil(b);break;default:b=Math.floor(b);break}return b}for(var n=this.rowCount,x=t,S,M,b=0;;)if(M=this.getRowHeight(b),x-=M,S=b>=0&&b<n,x>0&&S)b+=1;else{if(x===0)return i===2&&(b+=1),b;if(i===1){var D=b;b+=1,S=b>=0&&b<n,S||(b=D)}return b}}widthToColIndex(t,i){if(t===0)return 0;var n=t/this.defaultCellWidth;return i?n=Math.ceil(n):n=Math.floor(n),n}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var n,x=0,S=t;S<=i;S++)n=this.getRowHeight(S),x+=n;return x}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var n=0,x,S=0;S<i;S++)x=this.getCellHeight(this.colRowToCellIndex(S,t)),n<x&&(n=x);return n}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var n=this.getCell(t,!1),x=n?n.deltaHeight:0;i=this.defaultCellHeight+x}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var n=this.newCell(t);this.cells[t]=n}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new yy(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,n,x=t,S=i.length;x<S;x++)n=i[x],n&&(n.index=x);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var D8=function(e){var t=this.table,i=this.topTableOY,n=this.bottomTableOY,x=e>i,S=e<n;if(this.clampTableOXY){var M=t.rowCount,b=t.heightToRowIndex(this.instHeight,1);M<b?e=0:x?e=i:S&&(e=n)}return this._tableOY!==e&&(this._tableOY=e),x&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=x,S&&(this.execeedBottomState||this.emit("execeedbottom",this,e,n)),this.execeedBottomState=S,this},F8=function(e){var t=this.table,i=this.leftTableOX,n=this.rightTableOX,x=e>this.leftTableOX,S=e<this.rightTableOX;if(this.clampTableOXY){var M=t.colCount,b=t.widthToColIndex(this.instWidth,!0);M<b?e=0:x?e=i:S&&(e=n)}return this._tableOX!==e&&(this._tableOX=e),x&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=x,S&&(this.execeedRightState||this.emit("execeedright",this,e,n)),this.execeedRightState=S,this},Rc=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const B8=Phaser.Geom.Intersects.RectangleToRectangle,I8=Phaser.Geom.Rectangle.Overlaps;var k8=function({parent:e,mask:t,children:i,onVisible:n,onInvisible:x,scope:S}){if(t){i===void 0&&(i=e.getAllChildren());for(var M=!!n||!!x,b=e.getBounds(),D=Rc(t),k,W,Z,tt,_=0,st=i.length;_<st;_++)if(k=i[_],k!==D&&G8(k)){if(tt=k.visible,k.getBounds)switch(W=k.getBounds(W),Z=z8(b,W),Z){case 4:N8(e,k);break;case 0:B8(b,W)||I8(b,W)?Ac(e,k,t):V8(e,k);break;default:Ac(e,k,t);break}else Ac(e,k,t);if(M&&k.visible!==tt){var at=k.visible?n:x;at&&(S?at.call(S,k,e):at(k,e))}}}},G8=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},z8=function(e,t){var i=t.top,n=t.bottom,x=t.left,S=t.right,M=0;return M+=e.contains(x,i)?1:0,M+=e.contains(x,n)?1:0,M+=e.contains(S,i)?1:0,M+=e.contains(S,n)?1:0,M},N8=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},Ac=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},V8=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const Jn=Phaser.Utils.Objects.GetValue,W8={update:0,everyTick:1};var Sy={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(Jn(e,"updateMode",0)),this.enableChildrenMask(Jn(e,"padding",0)),this.setMaskLayer(Jn(e,"layer",void 0)),this.onMaskGameObjectVisible=Jn(e,"onVisible"),this.onMaskGameObjectInvisible=Jn(e,"onInvisible"),this.maskGameObjectCallbackScope=Jn(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=W8[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=Qi.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):k8({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=Rc(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}},U8=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;i||this.setScale(1);var n=this.table,x=this.tableOYOffset,S=this.tableOY+x,M=this.tableOX;this.startRowIndex=Math.max(n.heightToRowIndex(-S,2),0);for(var b=this.startRowIndex,D=Math.max(n.widthToColIndex(-M),0),k=D,W=n.colRowToCellIndex(k,b),Z=this.bottomBound,tt=this.rightBound,_=n.cellsCount-1,st=n.colCount-1,at=this.getCellTLX(k),nt=at,ut=this.getCellTLY(b)+x,ct=ut;ct<Z&&W<=_;){if(this.table.isValidCellIdx(W)){var dt=n.getCell(W,!0);this.visibleCells.set(dt),this.preVisibleCells.contains(dt)||this.showCell(dt);var mt,Tt;if(this.scrollMode===0?(mt=nt,Tt=ct):(mt=ct,Tt=nt),dt.cellContainerAlign==null)dt.setXY(mt,Tt);else{var Pt=dt.getContainer();Na(Pt,mt,Tt,dt.width,dt.height,dt.cellContainerAlign),dt.setXY(Pt.x,Pt.y)}}nt<tt&&k<st?(nt+=n.getColWidth(k),k+=1):(nt=at,ct+=n.getRowHeight(b),k=D,b+=1),W=n.colRowToCellIndex(k,b)}i||this.setScale(e,t)}},Ty=function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},X8=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},Y8=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},H8=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},Py=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},$8=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(Ey.call(this),this.hideCells()),Ey.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},Ey=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},K8=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},My=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),n=this.tableOX-(this.scrollMode===0?e:t),x=this.table,S=x.heightToRowIndex(-i,0),M=x.widthToColIndex(-n),b=x.colRowToCellIndex(M,S);return b===null||!this.isCellVisible(b)?null:b},Z8=function(e,t){var i=My.call(this,e,t);if(i!==null)return this.getCellContainer(i)},J8=function(e,t){return this.visibleCells.each(e,t),this},Q8=function(e,t){return this.visibleCells.iterate(e,t),this},j8=function(e,t){return this.table.cells.slice().forEach(e,t),this},q8=function(e,t){return this.table.cells.forEach(e,t),this},_8=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const t6=Phaser.Math.Clamp;var e6=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=t6(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},i6=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,n=e,x=e+t;n<x;n++)i=this.getCell(n,!1),i&&(this.visibleCells.contains(i)&&(Py.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},s6=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},r6=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},n6=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(Ty.call(this,t),this)},wy={setTableOY:D8,setTableOX:F8,showCells:U8,showCell:Ty,getCellTLX:X8,getCellTLY:Y8,hideCells:H8,hideCell:Py,updateTable:$8,isCellVisible:K8,pointToCellIndex:My,pointToCellContainer:Z8,eachVisibleCell:J8,iterateVisibleCell:Q8,eachCell:j8,iterateCell:q8,setCellsCount:_8,insertNewCells:e6,removeCells:i6,setColumnCount:s6,setGridSize:r6,updateVisibleCell:n6};Object.assign(wy,Sy);const a6=Phaser.GameObjects.Group,Ry=Phaser.Structs.Set,ki=Phaser.Utils.Objects.GetValue;let Ay=class extends xi{constructor(t,i,n,x,S,M){M===void 0&&(M={}),super(t,i,n,x,S),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new Ry,this.preVisibleCells=new Ry,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var b=ki(M,"reuseCellContainer",!1);b&&(this.cellContainersPool=new a6(t));var D=ki(M,"cellVisibleCallback",null);if(D!==null){var k=ki(M,"cellVisibleCallbackScope",void 0);this.on("cellvisible",D,k)}if(D=ki(M,"cellInvisibleCallback",null),D!==null){var k=ki(M,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",D,k)}ki(M,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(ki(M,"mask",void 0)),this.setScrollMode(ki(M,"scrollMode",0)),this.setClampMode(ki(M,"clampTableOXY",!0)),this.setStartFromBottomEnable(ki(M,"startFromBottom",!1));var W,Z,tt,_=this.scrollMode===0;if(_?(W=M.cellWidth,Z=M.cellHeight,tt=M.columns):(W=M.cellHeight,Z=M.cellWidth,tt=ki(M,"rows",M.columns)),this.fixedCellSize=ki(M,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&W===void 0,tt||(tt=1),this.fixedCellSize)tt=Math.max(Math.floor(this.instWidth/W),1);else if(this.expandCellSize){var x=_?this.width:this.height;W=x/tt}M.cellWidth=W,M.cellHeight=Z,M.columns=tt,this.table=new O8(this,M),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=h6[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,i){return this.setTableOY(i).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,i){return this.addTableOY(i).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var i=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-i).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var i=this.table.getCell(t,!1),n;return i&&(n=i.getContainer()),n}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,i){var n;return typeof t=="number"?n=this.table.getCell(t,!0):n=t,n.height=i,this}setCellWidth(t,i){var n;return typeof t=="number"?n=this.table.getCell(t,!0):n=t,n.width=i,this}resetAllCellsSize(t,i){if(this.scrollMode===1){var n=t;t=i,i=n}this.table.setDefaultCellHeight(i).setDefaultCellWidth(t);for(var x=this.table.cells,S=0,M=x.length;S<M;S++){var b=x[S];b&&(b.deltaHeight=0)}if(this.fixedCellSize){var D=Math.floor(this.instWidth/t);this.table.setColumnCount(D)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,i){if(this.width===t&&this.height===i)return this;if(super.resize(t,i),this.fixedCellSize){var n=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(n)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}};Object.assign(Ay.prototype,wy);const h6={v:0,vertical:0,h:1,horizontal:1};var o6=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},l6=function(e){e.on("cellvisible",function(t,M,n){var x=this.createCellContainerCallback,S=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var M;S?M=x.call(S,t,M,n):M=x(t,M,n),M&&(t.cellContainerAlign==null&&M.setOrigin&&M.setOrigin(0),M.isRexSizer&&M.layout()),t.item=void 0,t.items=void 0,t.setContainer(M)},this)},ms=function(e,t,i,n,x,S,M){var b;if(x===void 0)b=n;else{var D=S.camera,k=n+D.scrollX*(i.scrollFactorX-1),W=x+D.scrollY*(i.scrollFactorY-1);b=i.pointToCellIndex(k,W)}if(b!=null){var Z=i.getCellContainer(b);Z&&e.emit(t,Z,b,S,M)}},u6=function(e,t){e.on("pointerdown",function(i,n,x,S){ms(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,S)},this).on("pointerup",function(i,n,x,S){ms(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,S)},this)},d6=function(e,t){e.on("pointermove",by,this).on("pointerover",by,this).on("pointerout",f6,this)},by=function(e,t,i,n){var x=this.childrenMap.child,S=e.camera,M=e.worldX+S.scrollX*(x.scrollFactorX-1),b=e.worldY+S.scrollY*(x.scrollFactorY-1),D=x.pointToCellIndex(M,b);if(D!==x.input.lastOverCellIndex){var k=x.input.lastOverCellIndex;x.input.lastOverCellIndex=D,ms(this.eventEmitter,"cell.out",x,k,void 0,e,n),ms(this.eventEmitter,"cell.over",x,D,void 0,e,n)}},f6=function(e,t){var i=this.childrenMap.child,n=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,ms(this.eventEmitter,"cell.out",i,n,void 0,e,t)};const c6=Phaser.Utils.Objects.GetValue;var v6=function(e,t){var i=c6(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new Ls(e,i),e._click.on("click",function(n,x,S,M){ms(this.eventEmitter,"cell.click",x,S.worldX,S.worldY,S,M)},this))};const p6=Phaser.Utils.Objects.GetValue;var g6=function(e,t){var i=p6(t,"tap",void 0);i!==!1&&(e._tap=new Xo(e,i),e._tap.on("tap",function(n,x,S){var M=`cell.${n.tapsCount}tap`;ms(this.eventEmitter,M,n.gameObject,n.worldX,n.worldY,S)},this))};const m6=Phaser.Utils.Objects.GetValue;var x6=function(e,t){var i=m6(t,"press",void 0);i!==!1&&(e._press=new Yo(e,i),e._press.on("pressstart",function(n,x,S){ms(this.eventEmitter,"cell.pressstart",e,n.worldX,n.worldY,S)},this).on("pressend",function(n,x,S){ms(this.eventEmitter,"cell.pressend",e,n.worldX,n.worldY,S)},this))};const y6=Phaser.Utils.Objects.GetValue;var C6=function(e,t){var i=y6(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new Za(e,i),e._swipe.on("swipe",function(n,x,S){var M=n.left?"left":n.right?"right":n.up?"up":"down";ms(this.eventEmitter,`cell.swipe${M}`,e,n.worldX,n.worldY,S)},this))},S6=function(e,t){e.setInteractive(),u6.call(this,e,t),d6.call(this,e,t),v6.call(this,e,t),g6.call(this,e,t),x6.call(this,e,t),C6.call(this,e,t)},T6=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this},P6={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}};const ts=Phaser.Utils.Objects.GetValue;class bc extends hh{constructor(t,i){i===void 0&&(i={});var n=nc(i),x=ts(i,"table",void 0);x===void 0&&(x={}),x.scrollMode=n===2?0:n,x.clampTableOXY=ts(i,"clampChildOY",!1);var S=ts(x,"width",void 0),M=ts(x,"height",void 0),b=new Ay(t,0,0,S,M,x);t.add.existing(b);var D,k;x.scrollMode===0?(D=S===void 0,k=M===void 0):(D=M===void 0,k=S===void 0),o6(b),b._minWidth=S===void 0?0:void 0,b._minHeight=M===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:b,expandWidth:D,expandHeight:k};var W=ts(i,"space",void 0);W&&(W.child=ts(W,"table",0)),super(t,i),this.addChildrenMap("table",b),this.addChildrenMap("tableLayer",b.maskLayer),this.eventEmitter=ts(i,"eventEmitter",this);var Z=ts(i,"createCellContainerCallback",a),tt=ts(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(Z,tt),l6.call(this,b),this.resizeControllerFlag=!1;var _=n===0?"cellheightchange":"cellwidthchange";b.on(_,function(){this.resizeControllerFlag=!0},this),ts(x,"interactive",!0)&&S6.call(this,b,x),this.setItems(ts(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}resetAllCellsSize(t,i){var n=this.childrenMap.child;return n.resetAllCellsSize(t,i),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var E6={setItems:T6};Object.assign(bc.prototype,P6,E6),K.register("gridTable",function(e){var t=new bc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.GridTable",bc);var Lc=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},M6=function(e,t){e.popUp(Lc(e.root.easeIn,e))},w6=function(e,t){e.scaleDown(Lc(e.root.easeOut,e))},R6={setTransitInCallback(e){return e===void 0&&(e=M6),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=w6),this.transitOutCallback=e,this}},A6=function(e,t,i,n,x){var S=Pn(e),M=S.time.delayedCall(t,function(){S.sys.events.once("postupdate",function(){i.call(n,x)})});return M},b6={delayCall(e,t,i){return this.timer=A6(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}},L6=function(e,t){var n=this.childrenMap.subMenu;if(n&&n.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var n=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(n),this.childrenMap.subMenu=n,this.root.emit("expand",n,e,this),this},O6=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},D6=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},Ly={expandSubMenu:L6,collapse:O6,collapseSubMenu:D6};Object.assign(Ly,R6,b6);var F6=function(e,t,i,n){var x;return i&&(t.scene=e,n?x=i.call(n,t):x=i(t),t.scene=void 0),x},B6=function(e,t,i,n){var x,S=[],M;if(t&&i)for(var b=0,D=t.length;b<D;b++)x=t[b],x.scene=e,n?M=i.call(n,x,b,t):M=i(x,b,t),x.scene=void 0,S.push(M);return S},I6=function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var n=this.root.childrenKey,x=this.items[i][n];x&&this.expandSubMenu(t,x)}},e).on("button.click",function(t,i,n,x){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,n,x),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,n,x){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,n,x),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,n,x){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,n,x),this.root._isPassedEvent=!1)},e)},Oy=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Fr(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},k6=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const ni=Phaser.Utils.Objects.GetValue;class Oc extends Xe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var n=i._rootMenu,x=i._parentMenu,S=i._parentButton,M=ni(i,"popup",!0),b=ni(i,"items",void 0),D=ni(i,"createBackgroundCallback",void 0),k=ni(i,"createBackgroundCallbackScope",void 0);i.background=F6(t,b,D,k);var W=ni(i,"createButtonCallback",void 0),Z=ni(i,"createButtonCallbackScope",void 0);if(i.buttons=B6(t,b,W,Z),super(t,i),this.type="rexMenu",this.items=b,this.root=n===void 0?this:n,this.isRoot=this.root===this,this.parentMenu=x,this.parentButton=S,this.timer=void 0,this.isRoot){this.isPopUpMode=M;var tt=i.bounds;tt===void 0&&(tt=Sn(t)),this.bounds=tt,this.subMenuSide=[this.y<tt.centerY?Fc:Wl,this.x<tt.centerX?Dc:Vl];var _=ni(i,"subMenuSide",void 0);_!==void 0&&(typeof _=="string"&&(_=G6[_]),this.subMenuSide[this.orientation]=_),this.toggleOrientation=ni(i,"toggleOrientation",!1),this.expandEventName=ni(i,"expandEvent","button.click"),this.easeIn=Oy(this,ni(i,"easeIn",0)),this.easeOut=Oy(this,ni(i,"easeOut",0)),this.setTransitInCallback(ni(i,"transitIn")),this.setTransitOutCallback(ni(i,"transitOut")),this.createBackgroundCallback=D,this.createBackgroundCallbackScope=k,this.createButtonCallback=W,this.createButtonCallbackScope=Z,this.childrenKey=ni(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=ni(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var st=0,at=0;if(!this.root.easeIn.sameOrientation){var nt=Lc(this.root.easeIn,this).orientation,ut=x?x.orientation:this.orientation,_=this.root.subMenuSide[ut];nt===0&&_===Vl&&(st=1),nt===1&&_===Wl&&(at=1)}if(M&&this.setOrigin(st,at).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var _=this.root.subMenuSide[x.orientation];switch(_){case Vl:this.alignTop(S.top).alignRight(S.left);break;case Dc:this.alignTop(S.top).alignLeft(S.right);break;case Wl:this.alignLeft(S.left).alignBottom(S.top);break;case Fc:this.alignLeft(S.left).alignTop(S.bottom);break}}I6(this),M&&(this.pushIntoBounds(this.root.bounds),k6.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const Vl=2,Dc=0,Wl=3,Fc=1,G6={up:Wl,down:Fc,left:Vl,right:Dc};Object.assign(Oc.prototype,Ly),K.register("menu",function(e){var t=new Oc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Menu",Oc);var z6={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=N6[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const N6={down:0,up:1};var V6=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,n=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(n=!0);break;case 1:e=0;break;default:e=0;break}if(!n)return e},W6=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,n=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(n=!0);break;default:e=0;break}if(!n)return e},U6=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},X6=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},Y6=function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:i=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,i):je(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},H6=function(e,t){t||e.clearMask&&e.clearMask(!1)},Dy={getChildrenWidth:V6,getChildrenHeight:W6,getChildrenSizers:U6,resetChildPosition:X6,layoutChildren:Y6,removeChildCallback:H6};Object.assign(Dy,Sy);const Fy=Phaser.Utils.Objects.IsPlainObject,Gi=Phaser.Utils.Objects.GetValue,$6=Phaser.Display.Align.TOP_LEFT;class By extends Ur{constructor(t,i,n,x,S,M){Fy(i)?(M=i,i=Gi(M,"x",0),n=Gi(M,"y",0),x=Gi(M,"width",void 0),S=Gi(M,"height",void 0)):Fy(x)&&(M=x,x=Gi(M,"width",void 0),S=Gi(M,"height",void 0)),super(t,i,n,x,S,M),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(Gi(M,"scrollMode",0));var b=Gi(M,"clampChildOY",!0),D=Gi(M,"clampChildOX",b);this.setClampMode(b,D);var k=Gi(M,"child",void 0),W=Gi(M,"expand",!0);k.setOrigin&&k.setOrigin(0),this.add(k),this.sizerChildren=[k];var Z=this.getSizerConfig(k);Z.align=$6,Z.expand=W,this.child=k;var tt=Gi(M,"mask");this.setupChildrenMask(tt),this.childrenMask&&(this.maskGameObject=Rc(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=Xx[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?re(this.child):se(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?se(this.child):re(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,n=this.bottomChildOY,x=this.childOYExceedTop(t),S=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:x?t=i:S&&(t=n)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),x&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=x,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=S}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,n=this.rightChildOX,x=this.childOXExceedLeft(t),S=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:x?t=i:S&&(t=n)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),x&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=x,S&&(this.execeedRightState||this.emit("execeedright",this,t,n)),this.execeedRightState=S}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(By.prototype,Dy);var K6=function(e,t,i,n){if(!this.hasChild(e))return this;var x,S;switch(this.scrollMode){case 0:x=this.childOY+Ul.call(this,e,"y",t);break;case 1:x=this.childOY+Ul.call(this,e,"x",t);break;default:x=this.childOY+Ul.call(this,e,"y",t),S=this.childOX+Ul.call(this,e,"x",t);break}return i===void 0||i<=0?(this.childOY=x,this.scrollMode===2&&(this.childOX=S)):(this._easeScrollChildOY===void 0&&(this._easeScrollChildOY=new Xi(this)),this._easeScrollChildOY.restart({key:"childOY",to:x,duration:i,ease:n}),this.scrollMode===2&&(this._easeScrollChildOX===void 0&&(this._easeScrollChildOX=new Xi(this)),this._easeScrollChildOX.restart({key:"childOX",to:S,duration:i,ease:n}))),this};const Iy=["top","bottom","centerY","center"],ky=["left","right","centerX","center"];var Ul=function(e,t,i){t=t.toUpperCase();var n=t==="Y",x=this.childrenMap.child,S;if(n){if(i)for(var M=0,b=Iy.length;M<b;M++){var D=Iy[M];if(i.indexOf(D)!==-1){i=D;break}}switch(i){case"top":S=x.top-br(e).y;break;case"bottom":S=x.bottom-ga(e).y;break;case"centerY":case"center":S=x.centerY-bp(e).y;break;default:var k=x.top-br(e).y,W=x.bottom-ga(e).y;k<=0&&W>=0?S=0:S=Math.abs(k)<=Math.abs(W)?k:W;break}}else{if(i)for(var M=0,b=ky.length;M<b;M++){var D=ky[M];if(i.indexOf(D)!==-1){i=D;break}}switch(i){case"left":S=x.left-br(e).x;break;case"right":S=x.right-pa(e).x;break;case"centerX":case"center":S=x.centerX-bp(e).x;break;default:var Z=x.left-br(e).x,tt=x.right-pa(e).x;Z<=0&&tt>=0?S=0:S=Math.abs(Z)<=Math.abs(tt)?Z:tt;break}}return S};const mr=Phaser.Utils.Objects.GetValue;class ph extends hh{constructor(t,i){i===void 0&&(i={});var n=nc(i),x=mr(i,"panel",void 0);x===void 0&&(x={}),x.scrollMode=n,x.clampChildOY=mr(i,"clampChildOY",!1),x.clampChildOX=mr(i,"clampChildOX",!1);var S=new By(t,x);t.add.existing(S);var M,b;switch(n){case 0:M=mr(i,"expand.panel",!0),b=!0;break;case 1:M=!0,b=mr(i,"expand.panel",!0);break;default:M=!0,b=!0}i.type="rexScrollablePanel",i.child={gameObject:S,expandWidth:M,expandHeight:b,align:mr(i,"align.panel","center")};var D=mr(i,"space",void 0);D&&(D.child=mr(D,"panel",0)),super(t,i),this.addChildrenMap("panel",S.child),this.addChildrenMap("panelLayer",S.maskLayer),this.addChildrenMap("mask",S.maskGameObject),this.addChildrenMap("scrollableBlock",S)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),jo(this.childrenMap.child,t),this}}var Z6={scrollToChild:K6};Object.assign(ph.prototype,Z6);const J6=Phaser.Utils.Objects.GetValue;var Q6=function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var Z=[],n=this.listCreateButtonCallback;if(n)for(var x=this.options,S=0,M=x.length;S<M;S++){var b=n.call(this,e,x[S],S,x);b&&(e.add.existing(b),Z.push(b))}var D=this.listWidth;D===void 0&&(this.listAlignMode==="text"?D=this.getElement("text").width:D=this.width);var k=this.listHeight,W={width:D,buttons:Z,space:this.listSpace},Z,tt,_;if(this.listCreateSliderThumbCallback?_=k>0||this.listMaxHeight>0:_=!1,!_)W.height=k,Z=Gy(e,W,this.listWrapEnable),tt=Z;else{var Z=Gy(e,W,this.listWrapEnable);if(this.listMaxHeight>0&&(Z.layout(),Z.height<=this.listMaxHeight&&(tt=Z)),!tt){k===0&&(k=this.listMaxHeight);var st=zy(e,this.listCreateSliderTrackCallback),at=zy(e,this.listCreateSliderThumbCallback);tt=new ph(e,{height:k,scrollMode:0,panel:{child:Z,mask:{padding:1}},slider:{track:st,thumb:at,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:J6(this.listSpace,"panel",0)}}),e.add.existing(tt)}}return t&&tt.addBackground(t,"background"),this.listDraggable&&tt.setDraggable(!0),tt!==Z&&Z.on("button.over",function(nt,ut,ct,dt){tt.emit("button.over",nt,ut,ct,dt)}).on("button.out",function(nt,ut,ct,dt){tt.emit("button.out",nt,ut,ct,dt)}).on("button.click",function(nt,ut,ct,dt){tt.emit("button.click",nt,ut,ct,dt)}),tt},Gy=function(e,t,i){var n;return i?(t.orientation="x",n=new pr(e,t)):(t.orientation="y",n=new Xe(e,t)),e.add.existing(n),n},zy=function(e,t,i){var n;return t&&(n=t.call(i,e),e.add.existing(n)),n},j6=function(e,t,i,n,x){var S={};switch(S.mode=0,i){case 0:case"x":S.end={x:0};break;case 1:case"y":S.end={y:0};break;default:S.end=0;break}return S.duration=t,S.ease=n,x===void 0?x=new Xa(e,S):x.resetFromJSON(S),x.restart(),x},q6=function(e,t,i,n,x){return Rs(e,t)?kt(e,t):Rs(e,i)?kt(e,i):x};const Qn=Phaser.Utils.Objects.GetValue;var _6=function(e,t){var i=Qn(t,"expandDirection",void 0);typeof i=="string"&&(i=t7[i]);var n=q6(t,"alignTarget","alignTargetX"),x=Qn(t,"alignTargetY",n),S=Qn(t,"alignOffsetX",0),M=Qn(t,"alignOffsetY",0),b=Qn(t,"alignSide",""),D=b.includes("right"),k=Qn(t,"bounds"),W=i===0,Z=i===1,tt=!W&&!Z,_=D?1:0,st=W||tt?0:1;e.setOrigin(_,st);var at,nt;D?at=n.getTopRight().x:at=n.getTopLeft().x,nt=x.getBottomLeft().y,e.setPosition(at+S,nt+M);var ut=k;ut||(ut=Sn(e.scene)),tt&&e.getBottomLeft().y>ut.bottom&&(nt=x.getTopLeft().y,e.setOrigin(0,1).setPosition(at+S,nt+M))};const t7={down:0,up:1},Ny=Phaser.Utils.Objects.GetValue;class Vy extends ko{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(S,M){Zd(S,M,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(S,M){j6(S,M,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),_6(t,i),t.isRexSizer&&t.layout();var n=Ny(i,"touchOutsideClose",!1),x=Ny(i,"anyTouchClose",!1);x&&(n=!1),x?this.once("open",this.anyTouchClose,this):n&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&No(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var e7=function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=Q6.call(this);e.on("button.over",function(n,x,S,M){this.currentOverIndex=x,this.listOnButtonOver&&this.listOnButtonOver.call(this,n,x,S,M),this.emit("button.over",this,e,n,x,S,M)},this).on("button.out",function(n,x,S,M){this.currentOverIndex===x&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,n,x,S,M),this.emit("button.out",this,e,n,x,S,M)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new Vy(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(n,x,S,M){this.listOnButtonClick&&this.listOnButtonClick.call(this,n,x,S,M),this.emit("button.click",this,e,n,x,S,M),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){i.requestClose()}),this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},i7=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},s7=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},r7=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},n7=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this},a7={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}},Wy={openListPanel:e7,closeListPanel:i7,toggleListPanel:s7,emitButtonClick:r7,emitButtonOver:n7};Object.assign(Wy,z6,a7);const ae=Phaser.Utils.Objects.GetValue;class gh extends Ns{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(ae(i,"options"));var n=ae(i,"list");this.setWrapEnable(ae(n,"wrap",!1)),this.setCreateButtonCallback(ae(n,"createButtonCallback")),this.setCreateListBackgroundCallback(ae(n,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(ae(n,"createTrackCallback")),this.setCreateListSliderThumbCallback(ae(n,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(ae(n,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(ae(n,"scroller")),this.setListMouseWheelScrollerConfig(ae(n,"mouseWheelScroller")),this.setButtonClickCallback(ae(n,"onButtonClick")),this.setButtonOverCallback(ae(n,"onButtonOver")),this.setButtonOutCallback(ae(n,"onButtonOut")),this.setListExpandDirection(ae(n,"expandDirection")),this.setListEaseInDuration(ae(n,"easeIn",500)),this.setListEaseOutDuration(ae(n,"easeOut",100)),this.setListTransitInCallback(ae(n,"transitIn")),this.settListTransitOutCallback(ae(n,"transitOut")),this.setListMaxHeight(ae(n,"maxHeight",0)),this.setListSize(ae(n,"width"),ae(n,"height",0)),this.setListAlignmentMode(ae(n,"alignParent","text")),this.setListAlignmentSide(ae(n,"alignSide","")),this.setListBounds(ae(n,"bounds")),this.setListSpace(ae(n,"space")),this.setListDraggable(ae(n,"draggable",!1)),this.setValueChangeCallback(ae(i,"setValueCallback"),ae(i,"setValueCallbackScope")),this.setValue(ae(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var n=this.valueChangeCallback,x=this.valueChangeCallbackScope;n&&(x?n.call(x,this,t,i):n(this,t,i)),this.emit("valuechange",this,t,i)}}}Object.assign(gh.prototype,Wy),K.register("dropDownList",function(e){var t=new gh(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.DropDownList",gh);var Uy=function(e,t,i){t=t?pt(t):{},i===void 0&&(i={});var n=t.label||t.button,x=t.button||t.label;delete t.label,delete t.button;var S=i.label||i.button||i,M=i.button||i.label||i,b=Ml(e,n,S);b.list=t.list||{},b.list.createButtonCallback=function(W,Z){var tt=Ye(W,x,M).resetDisplayContent(Z);return Z.hasOwnProperty("value")&&(tt.value=Z.value),tt};var D=t.track;D&&(b.list.createTrackCallback=function(W){return ze(W,D)},delete t.track);var k=t.thumb;return k&&(b.list.createThumbCallback=function(W){return ze(W,k)},delete t.thumb),b.list.onButtonOver=function(W,Z,tt,_){W.setHoverState&&W.setHoverState(!0)},b.list.onButtonOut=function(W,Z,tt,_){W.setHoverState&&W.setHoverState(!1)},b};class Xy extends gh{constructor(t,i,n){i=Uy(t,i,n),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,n=t.length;i<n;i++){var x=t[i];typeof x=="string"&&(t[i]={text:x,value:x})}return super.setOptions(t),this}}K.register("simpleDropDownList",function(e,t){var i=new Xy(this.scene,e,t);return this.scene.add.existing(i),i}),$(window,"RexPlugins.UI.SimpleDropDownList",Xy);var h7=function(e){var t=ur(e),i,n,x;switch(t){case qe:case _e:i=e.height-e.padding.top-e.padding.bottom,n=e.lineSpacing,x=e.style.metrics.fontSize+e.style.strokeThickness;break;case Si:i=e.height,n=0;var S=e.fontSize/e.fontData.size;x=e.fontData.lineHeight*S;break}return(i-n)/(x+n)},o7=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var i=this.pageLinesCount;i>0?t=e+i:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var n;switch(this.textObjectType){case qe:case Si:n=this.lines.slice(e,t).join(`
`);break;case _e:var x=this.lines.getLineStartIndex(e),S=this.lines.getLineEndIndex(t-1);n=this.lines.getSliceTagText(x,S,!0);var M=(n.match(/\n/g)||[]).length;M>t-e-1&&(n=n.substring(0,n.length-1));break}return n},l7={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(fn(i));var i=this.sections.join(`
`);this.lines=uc(this.parent,i,this.lines);var n=this.totalLinesCount-t,x=this.pageLinesCount,S;x>0?S=Math.ceil(n/this.pageLinesCount):S=1;for(var M=0;M<S;M++)this.pageStartIndexes.push(t+M*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var i=fn(e).split(this.pageBreak),n=0,x=i.length;n<x;n++)this.appendPage(i[n]);return this},appendText(e){var t=this.content+fn(e);return this.setText(t,!1),this}};const Yy=Phaser.Math.Clamp;var u7={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=Yy(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=Yy(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},d7={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){Tl(this.parent,e)}},Hy={getLines:o7};Object.assign(Hy,l7,u7,d7);const jn=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class Xl extends xe{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=ur(this.parent),this.pageStartIndexes=[],this.lines=uc(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){this.setMaxLines(jn(t,"maxLines",void 0)),this.setPageBreak(jn(t,"pageBreak",`\f
`)),this.setText(jn(t,"text","")),this.startLineIndex=jn(t,"start",-1),this.endLineIndex=jn(t,"end",void 0);var i=jn(t,"page");return i===void 0?this.resetIndex():this.setPageIndex(i),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case qe:this.lines.length=0;break;case _e:this.lines.destroy();break;case Si:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case qe:case _e:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(h7(this.parent));break;case Si:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(Xl.prototype,Hy);var f7={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?Tl(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(fn(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}},c7=function(e,t,i,n){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),i===void 0&&(i=0),this.typingIndex=i+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(n)),this},$y=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},v7=function(e,t,i,n,x){var S;if(t>0){n===void 0&&(n=0);var M=$y(this.parent,e);S=p7(M,t)+n}return this.start(e,i,S,x)},p7=function(e,t){for(var i=void 0,n=0;n<t&&(i=e.indexOf(`
`,i+1),i!==-1);n++);return i},mh=function(e,t,i,n){var x;return e.getSubString?x=e.getSubString(t,i,n):x=t.slice(i,n),x},Ky=function(e,t,i,n){var x=this.parent,S;if(n===0){var M=0,b=t;this.insertIndex=b,S=mh(x,e,M,b)}else if(n===1){var b=i,M=b-t;this.insertIndex=0,S=mh(x,e,M,b)}else if(n===2){var D=i/2,M=Math.floor(D-t/2),b=M+t;this.insertIndex=t%2?t:0,S=mh(x,e,M,b)}else if(n===3){var k=Math.floor(t/2),W;if(k>0){var b=i,M=b-k;W=mh(x,e,M,b)}else W="";var Z=t-k,tt;if(Z>0){var M=0,b=M+Z;this.insertIndex=b,tt=mh(x,e,M,b)}else tt="",this.insertIndex=0;S=tt+W}return this.insertChar=S.charAt(this.insertIndex-1),S},g7=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)Ky.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},m7=function(){var e=this.getTimer();return e&&(e.paused=!0),this},x7=function(){var e=this.getTimer();return e&&(e.paused=!1),this},Zy={start:c7,startFromLine:v7,stop:g7,pause:m7,resumeTyping:x7};Object.assign(Zy,f7);var y7=function(e,t){var i=ur(e);switch(i){case qe:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case _e:t=e.getText(t,void 0,void 0,!0);break;case Si:t=e.setText(t).getTextBounds().wrappedText;break}return t};const xh=Phaser.Utils.Objects.GetFastValue,Bc=Phaser.Utils.Objects.GetValue;class Yl extends xe{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(Bc(t,"wrap",!1)),this.setTypeMode(Bc(t,"typeMode",0)),this.setTypingSpeed(Bc(t,"speed",333)),this.setTextCallback=xh(t,"setTextCallback",null),this.setTextCallbackScope=xh(t,"setTextCallbackScope",null),this.setTypingContent(xh(t,"text","")),this.typingIndex=xh(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var i=xh(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIndex,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=C7[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=fn(t);this.textWrapEnable&&(i=y7(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=$y(this.parent,this.text).length,this}onTyping(){var t=Ky.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?Tl(this.parent,t):this.parent.setText(t)}}const C7={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(Yl.prototype,Zy);const yh=Phaser.Utils.Objects.GetValue;var S7=function(e,t){t===void 0&&(t="rexTextBox");class i extends e{constructor(x,S){super(x,S),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var M=this.childrenMap.text,b=yh(S,"expandTextWidth",!1),D=yh(S,"expandTextHeight",!1);if(b||D){var k=ur(M);switch(k){case qe:case _e:if(M.resize=function(Z,tt){var _=b?Z:0,st=D?tt:0;M.setFixedSize(_,st),_>0&&M.setWordWrapWidth(_)},k===_e){var W=M.style;W.wrapMode===0&&(W.wrapMode=1)}break}b&&(M._minWidth=0),D&&(M._minHeight=0)}this.setTypingMode(yh(S,"typingMode","page")),this.page=new Xl(M,yh(S,"page",void 0)),this.typing=new Yl(M,yh(S,"typing",S.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=M.width,this.textHeightSave=M.height}setTypingMode(x){return typeof x=="string"&&(x=T7[x]),this.typingMode=x,this}start(x,S){return S!==void 0&&this.setTypingSpeed(S),this.isRunning=!0,this.page.setText(x),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(x,S){if(S!==void 0&&this.setTypingSpeed(S),this.isRunning)this.page.appendText(x),this.typing.appendText(x);else{if(this.isRunning=!0,this.page.appendText(x),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var M=this.page.getPage(),b=this.typing.textLength;this.typing.start(M,void 0,b)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var x=this.page.getNextPage();this.typing.start(x)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var x=this.page.getPageOfNextLine(),S;this.isFirstLine?S=0:S=this.page.pageLinesCount-1,this.typing.startFromLine(x,S)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(x){return this.isRunning?(this.typing.stop(x),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(x){return this.typing.setTypingSpeed(x),this}setTypingSpeed(x){return this.typing.setTypingSpeed(x),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var x=this.childrenMap.text;(this.textWidthSave!==x.width||this.textHeightSave!==x.height)&&(this.textWidthSave=x.width,this.textHeightSave=x.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(x){this.emit("typechar",x)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var x=this.isLastPage;this.isRunning=!x,this.emit("pageend"),x&&this.emit("complete")}else this.typeNextLine()}}return i};const T7={page:0,line:1};class Ic extends S7(wl){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}}K.register("textBox",function(e){var t=new Ic(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.TextBox",Ic);class Jy extends Ic{constructor(t,i,n){i=sy(t,i,n),super(t,i)}}K.register("simpleTextBox",function(e){var t=new Jy(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.SimpleTextBox",Jy);const Ei=Phaser.Utils.Objects.GetValue;class Qy extends jt{constructor(t,i){super(t,i),this.type="rexNumberBar";var n=Ei(i,"background",void 0),x=Ei(i,"icon",void 0),S=Ei(i,"iconMask",void 0),M=Ei(i,"slider",void 0),b=Ei(i,"text",void 0),D=Ei(i,"space.icon",0),k=Ei(i,"space.slider",0);if(n&&this.addBackground(n),x){var W;this.orientation===0?(M||b)&&(W={right:D}):(M||b)&&(W={bottom:D}),this.add(x,{proportion:0,align:"center",padding:W}),S&&(S=Qi.call(this,x,x,1))}var Z;if(M){M.orientation=this.orientation,M.eventEmitter=this,M.value=null,M.hasOwnProperty("input")||(M.input=-1),Z=new Kn(t,M),t.add.existing(Z);var W;this.orientation===0?b&&(W={right:k}):b&&(W={bottom:k});var tt;if(this.orientation===0){var _=Ei(M,"width",void 0);tt=_===void 0?1:0}else{var st=Ei(M,"height",void 0);tt=st===void 0?1:0}this.add(Z,{proportion:tt,align:"center",padding:W})}b&&this.add(b),this.addChildrenMap("background",n),this.addChildrenMap("icon",x),this.addChildrenMap("iconMask",S),this.addChildrenMap("slider",Z),this.addChildrenMap("text",b);var at=Ei(i,"valuechangeCallback",null);if(at!==null){var nt=Ei(i,"valuechangeCallbackScope",void 0);this.on("valuechange",at,nt)}this.setEnable(Ei(i,"enable",void 0)),this.setValue(Ei(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,n),this}addValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,n),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,n),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}}K.register("numberBar",function(e){var t=new Qy(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.NumberBar",Qy),K.register("scrollBar",function(e){var t=new oc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.ScrollBar",oc);const kc=Phaser.Utils.Objects.GetValue,jy={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class qy extends Di{constructor(t,i){super(t,i),this.type="rexBadge";var n=kc(i,"background",void 0);n&&this.addBackground(n),this.addChildrenMap("background",n);var x=kc(i,"main",void 0);x&&this.add(x,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",x);for(var S in jy){var M=kc(i,S,void 0);M&&(this.add(M,{key:S,align:jy[S],expand:!1}),this.addChildrenMap(S,M))}}}K.register("badgeLabel",function(e){var t=new qy(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.BadgeLabel",qy);const P7=Di.prototype.add;var _y=function(e,t,i,n,x,S,M,b,D){return e.setVisible(!1),P7.call(this,e,t,i,n,x,S,M,b,D),this},E7={add:_y,addPage:_y},M7=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const tC=xi.prototype.setChildVisible;var w7=function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?(tC.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var n=this.currentPage;return n&&(tC.call(this,n,!0),this.emit("pagevisible",n,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&n.setAlpha(0).fadeIn(t,1)),this},R7=function(e){return this.sizerChildren.hasOwnProperty(e)},eC={getPage:M7,swapPage:w7,hasPage:R7};Object.assign(eC,E7);const iC=Phaser.Utils.Objects.GetValue;class Hl extends Di{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(iC(i,"swapMode",0)),this.setFadeInDuration(iC(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=A7[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(Hl.prototype,eC);const A7={invisible:0,destroy:1};K.register("pages",function(e){var t=new Hl(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Pages",Hl);const b7=Phaser.GameObjects.Mesh;class sC extends b7{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const rC=Phaser.Math.Vector3,L7=Phaser.Math.Matrix4;var nC=new rC,aC=new rC,hC=new L7,O7=function(e,t,i,n,x,S,M){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=0),nC.set(t,i,n),aC.set(x,S,M),hC.fromRotationXYTranslation(aC,nC,!0);for(var b=0,D=e.vertices.length;b<D;b++)e.vertices[b].transformMat4(hC)};const D7=Phaser.Utils.Objects.IsPlainObject,Zr=Phaser.Utils.Objects.GetValue,F7=Phaser.Geom.Mesh.GenerateGridVerts,Gc=Phaser.Math.RadToDeg,$l=Phaser.Math.DegToRad,oC=45,B7=1+1/Math.sin($l(oC));let lC=class extends sC{constructor(t,i,n,x,S,M){D7(i)&&(M=i,i=Zr(M,"x",0),n=Zr(M,"y",0),x=Zr(M,"key",null),S=Zr(M,"frame",null)),super(t,i,n,x,S),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(B7),this.hideCCW=Zr(M,"hideCCW",!0);var b=Zr(M,"gridWidth",0),D=Zr(M,"gridHeight",b);this.resetVerts(b,D),this.prevFrame=this.frame}preUpdate(t,i){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,oC),this}resetVerts(S,M){if(S!==void 0&&(this.gridWidth=S),M!==void 0&&(this.gridHeight=M),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var n=this.frame.cutWidth,x=this.frame.cutHeight,S,M;this.gridWidth===0?S=Math.max(n/8,32):M=this.gridWidth,this.gridHeight===0?M=Math.max(x/8,32):M=this.gridHeight,F7({mesh:this,width:n/this.height,height:x/this.height,widthSegments:Math.ceil(n/S),heightSegments:Math.ceil(x/M)});var b=this.transformInfo;return b&&this.transformVerts(b.x,b.y,b.z,b.rotateX,b.rotateY,b.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return Gc(this.rotationX)}set angleX(t){this.rotationX=$l(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return Gc(this.rotationY)}set angleY(t){this.rotationY=$l(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return Gc(this.rotationZ)}set angleZ(t){this.rotationZ=$l(t)}transformVerts(t,i,n,x,S,M){return t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=i,this.transformInfo.rotateX=x,this.transformInfo.rotateY=S,this.transformInfo.rotateZ=M,O7(this,t,i,n,x,S,M),this}};const I7=Phaser.Textures.DynamicTexture;var uC=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var n=new I7(e.sys.textures,null,t,i);return n};const k7=Phaser.Utils.Objects.IsPlainObject,Kl=Phaser.Utils.Objects.GetValue;class dC extends lC{constructor(t,i,n,x,S,M){k7(i)&&(M=i,i=Kl(M,"x",0),n=Kl(M,"y",0),x=Kl(M,"width",32),S=Kl(M,"height",32));var b=uC(t,x,S);super(t,i,n,b,null,M),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,Rd(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState,Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue;var es=function(e,t,i,n){if(Array.isArray(e))for(var x=!1,S=0,M=e.length;S<M;S++){var b=e[S];if(!(n&&!b)&&(i?x=t.call(i,b,S,e):x=t(b,S,e),x))return}else{var x=!1;for(var D in e){var b=e[D];if(!(n&&!b)&&(i?x=t.call(i,b,D,e):x=t(b,D,e),x))return}}};const qn=Phaser.Math.RadToDeg,_n=Phaser.Math.DegToRad;class G7 extends xi{constructor(t,i,n,x,S,M){super(t,i,n,x,S),this.faces=M,es(M,function(b){b.setPosition(i,n),this.add(b)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return qn(this.rotationX)}set angleX(t){this.rotationX=_n(t)}get rotateX(){return qn(this.rotationX)}set rotateX(t){this.rotationX=_n(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return qn(this.rotationY)}set angleY(t){this.rotationY=_n(t)}get rotateY(){return qn(this.rotationY)}set rotateY(t){this.rotationY=_n(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return qn(this.rotationZ)}set angleZ(t){this.rotationZ=_n(t)}get rotateZ(){return qn(this.rotationZ)}set rotateZ(t){this.rotationZ=_n(t)}setDebug(t,i){return es(this.faces,function(n){n.setDebug(t,i)},null,!0),this}panX(t){return es(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return es(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return es(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,n,x,S,M){return es(this.faces,function(b){b.transformVerts(t,i,n,x,S,M)},null,!0),this}forEachFace(t,i,n){return es(this.faces,t,i,n),this}}const z7=Phaser.Utils.Objects.IsPlainObject,N7={key:"__WHITE"},V7={image:lC,rendertexture:dC};var fC=function(e,t){t===void 0&&(t=N7);var i;return z7(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new V7[t.type](e,t),e.add.existing(i)):i=t,i},W7=function(e,t,i){var n;if(i===void 0){n=[];for(var x,S,M=0,b=t.length;M<b;M++)S=t[M],S?x=fC(e,S):x=null,n.push(x)}else{n={};for(var x,D,M=0,b=i.length;M<b;M++)D=i[M],t.hasOwnProperty(D)?x=fC(e,t[D]):x=null,n[D]=x}return n};const U7=Phaser.Math.DegToRad,cC=U7(180);var X7=function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,cC,0):i.transformVerts(0,0,0,cC,0,0))};const zc=Phaser.Utils.Objects.GetValue,Y7=Phaser.Math.Linear;let H7=class extends Lr{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(zc(t,"ease","Cubic")),this.setFrontToBackDirection(zc(t,"frontToBack",0)),this.setBackToFrontDirection(zc(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=vC[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=vC[t]),this.endAngleBF=t===0?-180:180,this}start(t,i){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var n=i+1,x=this.parent;return x.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*n):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*n),super.start(),this}flip(t,i){return this.isRunning?this:(t===void 0&&(t=this.duration),i===void 0&&(i=0),this.start(t,i),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+i+1)%2,this)}flipRight(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,i),this}flipLeft(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,i),this}updateTarget(t,i){var n=this.easeFn(i.t),x=Y7(this.startAngle,this.endAngle,n);t.orientation===0?t.angleY=x:t.angleX=x}};const vC={right:0,"left-to-right":0,left:1,"right-to-left":1},$7=Phaser.Utils.Objects.IsPlainObject,Jr=Phaser.Utils.Objects.GetValue,K7=["back","front"];class Z7 extends G7{constructor(t,i,n,x){$7(i)&&(x=i,i=Jr(x,"x",0),n=Jr(x,"y",0));var S=W7(t,x,K7),M=S.back,b=S.front,D=Jr(x,"width"),k=Jr(x,"height");if(D===void 0||k===void 0){if(D===void 0){var W=b?b.width:0,Z=M?M.width:0;D=Math.max(W,Z)}if(k===void 0){var tt=b?b.height:0,_=M?M.height:0;k=Math.max(tt,_)}}super(t,i,n,D,k,S),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,es(S,function(at,nt){this[`${nt}Face`]=at},this);var st=Jr(x,"flip",void 0);st!==!1&&(this.flip=new H7(this,st)),this.setOrientation(Jr(x,"orientation",0)),X7(this,S),this.setFace(Jr(x,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,es(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,es(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,es(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=J7[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=Q7[t]),this.currentFaceIndex=t;var i=t===1,n=i?180:0;this.orientation===0?this.angleY=n:this.angleX=n}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const J7={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},Q7={front:0,back:1};Phaser.Utils.Objects.GetValue,Phaser.Math.RadToDeg,Phaser.Math.DegToRad,Phaser.Math.Angle.WrapDegrees,Phaser.Math.Angle.ShortestBetween,Phaser.Math.Wrap,Phaser.Math.Linear,Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue,Phaser.Math.DegToRad,Phaser.Math.RadToDeg,Phaser.Math.Angle.WrapDegrees,Phaser.Math.Linear,Phaser.Math.Wrap,Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue,Phaser.Math.Wrap;const j7=Phaser.Utils.Objects.GetValue;var q7=function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=j7(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},pC=function(e,t){if(!e)return!1;for(var i=t.visibleSibling,n=0,x=i.length;n<x;n++)e.setChildVisible(i[n],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},_7=function(e,t){if(!e)return!1;pC(e,t);var i=t.useParentBounds;Rd({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var n=t.visibleSibling,x=e.children,S=0,M=x.length;S<M;S++){var b=x[S];b.visible&&b!==t&&(e.setChildVisible(b,!1),n.push(b))}return t.isRunning=!0,!0},gC=function(e){return class extends e{constructor(i,n){var x=i.scene;super(x,0,0,1,1,n),x.add.existing(this),q7(i,this,n)}destroy(i){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(i))}enter(){var i=_7(this.rexContainer.parent,this);return i&&this.syncSize(),this}exit(){return pC(this.rexContainer.parent,this),this}}};class mC extends gC(dC){get perspectiveState(){return this.isRunning}}const tz=Phaser.Utils.Objects.GetValue;var ez=function(e){var t=this.scene;this.setSnapshotPadding(tz(e,"snapshotPadding",0)),e=Ui(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new Z7(t,e);t.add.existing(i);var n=i.flip;if(n){var x=this;n.on("start",function(){x.enterPerspectiveMode()}).on("complete",function(){x.exitPerspectiveMode()})}return i};const iz=["front","back"];var sz={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=iz[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var n=i.visible;i.visible=!0;var x=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(x,{padding:this.snapshotPadding}),i.visible=n,this}};const xC=Phaser.Utils.Objects.GetValue;class Nc extends Di{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var n=i.back,x=xC(i,"expand.back",!0);this.add(n,{key:"back",expand:x});var S=i.front,M=xC(i,"expand.front",!0);this.add(S,{key:"front",expand:M}),this.perspectiveCard=ez.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,n=this.childrenMap.front,x=this.childrenMap.back;this.setChildVisible(n,i),this.setChildVisible(x,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,n,x,S,M){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,n,x,S,M),this}forEachFace(t,i,n){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,n),this}}Object.assign(Nc.prototype,sz),K.register("perspectiveCard",function(e){var t=new Nc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.PerspectiveCard",Nc);var rz=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},nz=function(e){for(var t=this.getElement("tabs.buttons"),i=0,n=t.length;i<n;i++)if(t[i].name===e)return i};const az=Phaser.Utils.Objects.IsPlainObject,Vc=Phaser.Utils.Objects.GetValue,hz=Phaser.Utils.String.UUID;var oz=function(e,t,i){if(az(e)){var n=e;e=Vc(n,"key"),t=Vc(n,"tab"),i=Vc(n,"page")}return e||(e=hz()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},lz=function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var n;t!==void 0&&(n=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),n!==void 0&&(this.childrenMap.pages.fadeInDuration=n)}return this},uz=function(e){return this.swapPage(0,e),this},dz=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this},fz={swapPage:lz,swapFirstPage:uz,swapLastPage:dz},cz={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,n=i.getByName(e),x=this.childrenMap.pages,S=x.getElement(e);return!n||!S?this:(x.removeChildrenMap(e),i.removeButton(n,t),x.remove(S,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}},vz=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},pz=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},gz={top:1,left:3,right:5,bottom:7},yC={top:"bottom",left:"right",right:"left",bottom:"top"},mz=function(e){var t=gz[e];if(t===void 0)return this;var i=this.childrenMap.tabs,n=this.sizerChildren.indexOf(i);if(n===t)return this;this.sizerChildren[n]=null,this.sizerChildren[t]=i;var x=this.getSizerConfig(i).padding,S=yC[this.tabsPosition],M=yC[e];return x[M]=x[S],x[S]=0,this.tabsPosition=e,this},xz={setTabsPadding(e,t){var i=this.childrenMap.tabs;return i.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}},CC={getPageKey:rz,getPageIndex:nz,addPage:oz,getPage:vz,getTab:pz,setTabPosition:mz};Object.assign(CC,fz,cz,xz);const is=Phaser.Utils.Objects.GetValue,SC=qi.prototype.add;let Zl=class extends qi{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var n=is(i,"expand.pages",!0);n&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabPages";var x=is(i,"background",void 0);x&&this.addBackground(x);var S=is(i,"pages"),M=new Hl(t,S);t.add.existing(M);var b=is(i,"tabsPosition",void 0);b===void 0&&(b=is(i,"tabPosition","top"));var D=is(i,"wrapTabs",!1),k=D?pr:Xe,W=is(i,"tabs",void 0);W===void 0&&(W={}),W.orientation=b==="top"||b==="bottom"?"x":"y",W.buttonsType="radio",!D&&!W.hasOwnProperty("expand")&&(W.expand=is(i,"expand.tabs",!1));var Z=new k(t,W);t.add.existing(Z),SC.call(this,M,{column:1,row:1,expand:n});var tt,_,st=is(i,"space.item",0);switch(b){case"top":tt=1,_=0,st={bottom:st};break;case"bottom":tt=1,_=2,st={top:st};break;case"left":tt=0,_=1,st={right:st};break;case"right":tt=2,_=1,st={left:st};break}SC.call(this,Z,{column:tt,row:_,padding:st,expand:D?!0:is(i,"expand.tabs",!1),align:is(i,"align.tabs","left")}),this.addChildrenMap("background",x),this.addChildrenMap("tabs",Z),this.addChildrenMap("pages",M),this.tabsPosition=b,Z.on("button.click",function(at){var nt=at.name;M.hasPage(nt)&&M.swapPage(nt)}),Z.on("button.statechange",function(at,nt,ut,ct){var dt=ut?"tab.focus":"tab.blur";this.emit(dt,at,at.name)},this),M.on("pagevisible",function(at,nt,ut){this.emit("page.focus",at,nt)}),M.on("pageinvisible",function(at,nt,ut){this.emit("page.blur",at,nt)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(Zl.prototype,CC),K.register("tabPages",function(e){var t=new Zl(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.TabPages",Zl);class yz extends ko{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var Cz={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var n=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();n.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var n=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();n.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}},Sz=function(e,t){Ds.popUp.call(e,t,this.expandDirection)},Tz=function(e,t){Ds.scaleDown.call(e,t,this.expandDirection)},Pz={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=Sz.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=Tz.bind(this)),this.childTransition.setTransitOutCallback(e),this}};const De=Phaser.Utils.Objects.GetValue;let Ch=class extends jt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var n=i.background,x=i.title,S=i.child;n&&this.addBackground(n);var M=De(i,"space"),b=this.orientation===1?"left":"top",tt=De(i,"align.title",b),_=De(i,"expand.title",!0);this.add(x,{proportion:0,align:tt,expand:_,padding:{left:De(M,"titleLeft",0),right:De(M,"titleRight",0),top:De(M,"titleTop",0),bottom:De(M,"titleBottom",0)}});var D=De(i,"toggleByTarget",void 0),k=De(i,"toggleClickConfig");D===void 0&&(D=x),D&&nf.onClick.call(D,function(){this.toggle()},this,k),this.childTransition=new yz(S);var W=De(i,"customChildOrigin",!1);if(!W){var Z=this.rtl?1:0;S.setOrigin(Z)}var tt=De(i,"align.child","left"),_=De(i,"expand.child",!0),st=_?1:0;this.add(S,{proportion:st,align:tt,expand:_,padding:{left:De(M,"childLeft",0),right:De(M,"childRight",0),top:De(M,"childTop",0),bottom:De(M,"childBottom",0)}}),this.addChildrenMap("title",x),this.addChildrenMap("child",S),this.addChildrenMap("background",n);var at=i.transition;this.setTransitionDuration(De(at,"duration",200)),this.setExpandCallback(De(at,"expandCallback",void 0)),this.setCollapseCallback(De(at,"collapseCallback",void 0)),this.reLayoutTarget=De(i,"reLayoutTarget",void 0);var nt=i.onExpandStart;nt&&this.on("expand.start",nt);var ut=i.onExpandComplete;ut&&this.on("expand.complete",ut);var ct=i.onCollapseStart;ct&&this.on("collapse.start",ct);var dt=i.onCollapseComplete;dt&&this.on("collapse.complete",dt);var mt=De(i,"expanded",void 0);mt!==void 0&&this.setExpandedState(mt)}};Object.assign(Ch.prototype,Cz,Pz),K.register("folder",function(e){var t=new Ch(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Folder",Ch);var Ez=function(e,t,i,n){for(var x in this.treesMap){var S=this.treesMap[x];if(Nr(S.nodeBody,e,t,i,n))return S;var M=S.pointToChild(e,t,i,n);if(M)return M}return null},Mz=function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],jo(this,e),this},TC=function(e){return class extends e{get isTree(){return!1}get isNode(){return!1}setText(i){return this.text=i,this}get text(){var i=this.nodeBody;return i.text}set text(i){var n=this.nodeBody;n.setText&&n.setText(i)}setTexture(i,n){var x=this.nodeBody;return x.setTexture&&x.setTexture(i,n),this}get texture(){var i=this.nodeBody;if(i)return i.texture}get frame(){var i=this.nodeBody;if(i)return i.frame}}},wz=function(e,t,i,n){for(var x in this.nodesMap){var S=this.nodesMap[x];if(this.isTreeObject(S)){var M=S;if(Nr(M.nodeBody,e,t,i,n))return M;var b=M.pointToChild(e,t,i,n);if(b)return b}else if(Nr(S,e,t,i,n))return S}return null},Rz={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}},Sh=function(e,t,i,n,x=!1){var S;if(fi(t))S=t,delete t[key];else if(Hi(t)){var M=t;S=M(e,i),S&&e.add.existing(S)}else(x||t)&&n&&(S=n(e,t,i));return S},Wc=function(e,t,i){var n=ze(e,t);return n},Az=function(e,t,i){var n=new lh(e,t);return e.add.existing(n),n.resetDisplayContent(""),n};const ta=Phaser.Utils.Objects.GetValue;class PC extends TC(jt){constructor(t,i,n){var x=i.space;super(t,{orientation:"x",space:{left:ta(x,"nodeLeft",0),right:ta(x,"nodeRight",0),top:ta(x,"nodeTop",0),bottom:ta(x,"nodeBottom",0)}}),this.type="rexTreeNode";var S=Sh(t,ta(i,"nodeBackground"),n,Wc,!1),M=Sh(t,ta(i,"nodeBody"),n,Az,!0);S&&this.addBackground(S),this.add(M,{proportion:1}),this.nodeBody=M,this.addChildrenMap("background",S),this.addChildrenMap("nodeBody",M)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}}var EC=function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var n=e.displayList;if(ya(n)){t.isRexContainerLite?t.addToLayer(n):n.add(t);return}e.scene.add.existing(t)};const MC=Phaser.Utils.String.UUID;var bz={addTree(e,t){if(fi(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=MC());var n=this.createTree(t);return EC(this,n),this.insertNode(e,n,{expand:!0}),n._postAddCallback(),n},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var n;fi(t)||(i=t,t=new PC(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(n=i,i=void 0):i&&(n=i.nodeKey,delete i.nodeKey),n===void 0&&(n=MC()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(n)&&(console.error(`[Trees] Duplicate nodeKey '${n}'`),this.removeNode(this.nodesMap[n],!0)),t.nodeKey=n,this.nodesMap[n]=t;var x=this.childrenMap.child;return x.insert(e,t,i),t}},Lz={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var n=i.childrenMap.child;return n.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},Oz={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTreeObject(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}},wC={pointToChild:wz};Object.assign(wC,Rz,bz,Lz,Oz);var Dz=function(e,t,i){var n=new ka(e,t);return e.add.existing(n),n.on("expand.start",function(x){x.setDirection("down")}).on("collapse.complete",function(x){x.setDirection("right")}),n};const RC=Phaser.Utils.Objects.GetValue;var Fz=function(e,t){var i=new PC(e,t,{isLeaf:!1});e.add.existing(i);var n=Sh(e,RC(t,"toggleButton"),{isLeaf:!1},Dz,!0);return i.insert(0,n,{padding:{right:RC(t,"space.toggleButton",0)},fitRatio:1}),i.addChildrenMap("toggleButton",n),i};const AC=Phaser.Utils.Objects.GetValue;var Bz=function(e,t){var i=new jt(e,{orientation:AC(t,"childrenOrientation","y")});e.add.existing(i);var n=Sh(e,AC(t,"childrenBackground"),{isLeaf:!1},Wc,!1);return n&&i.addBackground(n),i};const Iz=Phaser.Utils.Objects.Clone;var kz=function(e,t){var i=e?Iz(e):{};if(!t)return i;for(var n in t)i[n]=t[n];return i};const xr=Phaser.Utils.Objects.GetValue;class Qr extends TC(Ch){constructor(t,i){i===void 0&&(i={});var n=Sh(t,xr(i,"background"),{isLeaf:!1},Wc,!1),x=Bz(t,i),S=x.childrenMap.items,M=Fz(t,i),b=M.childrenMap.toggleButton,D=M.childrenMap.nodeBody,k=Fr(xr(i,"orientation","y")),W=i.space;if(W){var Z=xr(W,"indent",0);W.childLeft=xr(W,"indentLeft",k===1?Z:0),W.childRight=xr(W,"indentRight",0),W.childTop=xr(W,"indentTop",k===0?Z:0),W.childBottom=xr(W,"indentBottom",0)}var tt={background:n,title:M,child:x,toggleByTarget:b,transition:i.transition,orientation:k,space:W,align:i.align,expand:i.expand};super(t,tt),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.nodeBody=D,this.addChildrenMap("toggleButton",b),this.addChildrenMap("nodeBody",D),this.addChildrenMap("childrenNodes",S),this.on("expand.start",function(){b.emit("expand.start",b),Jl(this,"expand.start")},this).on("expand.complete",function(){b.emit("expand.complete",b),Jl(this,"expand.complete")}).on("collapse.start",function(){b.emit("collapse.start",b),Jl(this,"collapse.start")}).on("collapse.complete",function(){b.emit("collapse.complete",b),Jl(this,"collapse.complete")});var _=this;_._postAddCallback=function(){var st=xr(i,"expanded",!0);st!==void 0&&_.setExpandedState(st),delete _._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return Qr.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof Qr}}Qr.CreateTree=function(e,t,i){return new Qr(e,kz(t,i))};var Jl=function(e,t){var i=e.getTreesSizer();i&&i.emit(t,e)};Object.assign(Qr.prototype,wC);const Gz=Phaser.Utils.String.UUID;var zz={addTree(e){if(fi(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=Gz());var n=Qr.CreateTree(this.scene,this.treeConfig,t);return EC(this,n),n.nodeKey=i,this.treesMap[i]=n,this.insert(e,n,{expand:!0}),n._postAddCallback(),n}},Nz={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},Vz={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}},bC={pointToChild:Ez,setChildrenInteractive:Mz};Object.assign(bC,zz,Nz,Vz);const Wz=Phaser.Utils.Objects.GetValue;class Uc extends jt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=Wz(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(Uc.prototype,bC),K.register("trees",function(e){var t=new Uc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Trees",Uc),K.register("textArea",function(e){var t=new oh(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.TextArea",oh);var Uz=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})},Xz={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},Yz={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}};const Ql=Phaser.Utils.Objects.GetValue;class jl extends hh{constructor(t,i){i===void 0&&(i={});var n=Ql(i,"text"),x;fi(n)?x=n:(n===void 0&&(n={}),n.textArea=!0,x=new Ra(t,n),t.add.existing(x)),Uz(x);var S=n.width===void 0,M=n.height===void 0;S&&(x.minWidth=0),M&&(x.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:x,expandWidth:S,expandHeight:M};var b=Ql(i,"space",void 0);b&&(b.child=Ql(b,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",x);var D,k;x.on("cursorin",function(){var Z=x.textOY,tt=x.contentHeight,_=D!==Z,st=k!==tt;D=Z,k=tt,st&&this.resizeController(),(_||st)&&(this.t=x.t)},this),x.on("textchange",function(Z){this.emit("textchange",Z,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var W=Ql(i,"content",void 0);W&&this.setText(W)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(jl.prototype,Xz,Yz),K.register("textAreaInput",function(e){var t=new jl(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.TextAreaInput",jl),K.register("scrollablePanel",function(e){var t=new ph(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.ScrollablePanel",ph);var ql={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}};const yr={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var Hz={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=yr[e]),e){case yr.popUp:e=ql.popUp;break;case yr.fadeIn:e=ql.fadeIn;break}return e||(e=a),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=yr[e]),e){case yr.scaleDown:e=ql.scaleDown;break;case yr.fadeOut:e=ql.fadeOut;break}return e||(e=a),this.transitOutCallback=e,this}},$z={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[a]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[a]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}};const Th=Phaser.Utils.Objects.GetValue;class Xc extends Ns{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(Th(i,"duration.in",200)),this.setDisplayTime(Th(i,"duration.hold",1200)),this.setTransitOutTime(Th(i,"duration.out",200)),this.setTransitInCallback(Th(i,"transitIn",yr.popUp)),this.setTransitOutCallback(Th(i,"transitOut",yr.scaleDown)),this.player=new ny(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}get isShowingMessage(){return this.player.isPlaying}}Object.assign(Xc.prototype,Hz,$z),K.register("toast",function(e){var t=new Xc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Toast",Xc);var Kz={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0},Zz={setQueueDirection(e){return typeof e=="string"&&(e=Kz[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=a),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=a),this.transitOutCallback=e,this}};const Jz=nf.onClick,LC=q0.delayCall,Qz=Io.moveTo;var jz=function(e,t,i){var n=t(e.scene,i,e);if(Jz.call(n,function(){e.removeMessage(n)}),e.displayTime){var x=e.transitInTime+e.displayTime+10;LC.call(n,x,function(){e.removeMessage(n)})}return n},OC=function(e){for(var t=e.childrenMap.items,i,n=[],x=0,S=t.length;x<S;x++)i=t[x],n.push({x:i.x,y:i.y});return n},qz=function(e){for(var t=e.childrenMap.items,i,n=[],x=0,S=t.length;x<S;x++)i=t[x],n.push({x:i.scaleX,y:i.scaleY}),i.setScale(1);e.layout();for(var M=OC(e),x=0,S=t.length;x<S;x++){var b=n[x];t[x].setScale(b.x,b.y)}return M},_z=function(e,t,i,n){for(var x=e.childrenMap.items,S=Math.min(t.length,i.length,x.length),M,b,D,k=e.queueDirection,W=0;W<S;W++){switch(M=x[W],b=t[W],D=i[W],M.setPosition(b.x,b.y),k){case 0:if(b.y<=D.y)continue;break;case 1:if(b.y>=D.y)continue;break;case 2:if(b.x<=D.x)continue;break;case 3:if(b.x>=D.x)continue;break}Qz.call(M,n,D.x,D.y)}},tN=function(e,t,i){var n=OC(e);e.add(t);var x=qz(e);_z(e,n,x,i),e.transitInCallback(t,i,e)},eN={showMessage(e){var t=jz(this,this.createMessageLabelCallback,e);return tN(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),LC.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,i=e.length;t<i;t++)this.removeMessage(e[t]);return this}},DC={};Object.assign(DC,Zz,eN);var FC={transitIn(e,t,i){switch(i.queueDirection){case 0:e.setOrigin(.5,1),Ds.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),Ds.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),Ds.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),Ds.popUp.call(e,t,"x");break}Ya.fadeIn.call(e,t)},transitOut(e,t,i){Ya.fadeOut.call(e,t)}};const jr=Phaser.Utils.Objects.GetValue;class Yc extends jt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexToastQueue",this.setCreateMessageLabelCallback(jr(i,"createMessageLabelCallback")),this.setQueueDirection(jr(i,"queueDirection",1)),this.setTransitInTime(jr(i,"duration.in",200)),this.setDisplayTime(jr(i,"duration.hold",2e3)),this.setTransitOutTime(jr(i,"duration.out",200)),this.setTransitInCallback(jr(i,"transitIn",FC.transitIn)),this.setTransitOutCallback(jr(i,"transitOut",FC.transitOut))}}Object.assign(Yc.prototype,DC),K.register("toastQueue",function(e){var t=new Yc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.ToastQueue",Yc);var iN=function(e,t){if(t===!1)return null;if(fi(t))return t;var i=new Tr(e,t);return e.add.existing(i),i};const sN=Phaser.Utils.String.Pad;var BC=function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=sN(i,6,0,1),i=t+i,i},rN=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const zi=Phaser.Utils.Objects.GetValue,nN=Phaser.Utils.Objects.IsPlainObject,aN=Phaser.Math.Clamp;let Hc=class extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorInputLite";var n=zi(i,"background",void 0),x=zi(i,"swatch"),S;nN(x)&&(S=zi(x,"size"));var M=iN(t,zi(i,"swatch")),b=zi(i,"inputText",{}),D;if(b&&(D=gr(t,b)),n&&this.addBackground(n),M){S=zi(i,"swatchSize",S);var k;S!==void 0?(je(M,S,S),k=!1):k=zi(i,"squareExpandSwatch",!0);var W=k?1:0;this.add(M,{proportion:0,expand:!0,fitRatio:W})}if(D){var Z=zi(b,"width")===void 0?1:0,tt=zi(b,"height")===void 0;this.add(D,{proportion:Z,expand:tt})}this.addChildrenMap("background",n),this.addChildrenMap("swatch",M),this.addChildrenMap("inputText",D),D&&D.on("close",function(){this.setValue(D.value)},this);var _=zi(i,"valuechangeCallback",null);if(_!==null){var st=zi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",_,st)}this.setValue(zi(i,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=fd(t),t==null){var n=this.childrenMap.inputText;n&&n.setText(BC(this._value));return}}else t=aN(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var i=this.childrenMap.swatch;i&&rN(i,t);var n=this.childrenMap.inputText;n&&n.setText(BC(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var hN={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=oN[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const oN={down:0,up:1},IC=Phaser.Display.Color,_l=Phaser.Math.Percent;var lN=function(e,t,i){i===void 0&&(i=!1);var n=e.width,x=e.height,S=new IC;if(i)for(var M=0;M<x;M++){var b=_l(M,0,x);S.setFromHSV(b,1,1),t.fillStyle=S.rgba,t.fillRect(0,M,n,1)}else for(var D=0;D<n;D++){var b=_l(D,0,n);S.setFromHSV(b,1,1),t.fillStyle=S.rgba,t.fillRect(D,0,1,x)}},uN=function(e,t,i){for(var n=e.width,x=e.height,S=t.getImageData(0,0,n,x),M=S.data,b=new IC,D=0;D<x;D++)for(var k=0;k<n;k++){var W=_l(k,0,n),Z=1-_l(D,0,x);b.setFromHSV(i,W,Z);var tt=(D*n+k)*4;M[tt]=b.red,M[tt+1]=b.green,M[tt+2]=b.blue,M[tt+3]=255}t.putImageData(S,0,0)};const dN=Phaser.Display.Color,kC=Phaser.Math.Percent,fN=Phaser.Display.Color.ColorToRGBA,cN=Phaser.Display.Color.HSVToRGB;class vN extends Dr{constructor(t,i,n,x,S,M){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=2),S===void 0&&(S=2),super(t,i,n,x,S),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new dN,this.setOrientation(M),this.setSize(x,S)}setOrientation(t){return this.orientation=Fr(t),this}updateTexture(){return lN(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=kC(t,0,this.width):this.hue=kC(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var n=this.getHue(t,i);return this.colorObject.setFromRGB(cN(n,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&($c===void 0&&($c={}),i=$c),this.colorObject.setFromRGB(fN(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}}var $c=void 0,pN=Phaser.Math.RotateAround,GC=function(e,t,i,n){n===void 0?n={}:n===!0&&(Kc===void 0&&(Kc={}),n=Kc),t-=e.width*e.originX,i-=e.height*e.originY;var x={x:t*e.scaleX,y:i*e.scaleY};return pN(x,0,0,-e.rotation),n.x=e.x+t,n.y=e.y+i,n},Kc;class gN extends Di{constructor(t,i){i===void 0&&(i={}),super(t,i);var n=i.width!=null?1:0,x=new vN(t).setOrientation(n);t.add.existing(x),this.type="rexColorPicker.HPalette",x.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var S=new Tr(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(S),this.add(x,{key:"paletteCanvas",expand:!0}).add(S,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var n=Math.min(t,i);return this.childrenMap.marker.setSize(n,n),this}onPaletteCanvasPointerDown(t,i,n,x){if(t.isDown){var S=this.childrenMap.paletteCanvas,M=S.getColor(i,n);this.setMarkerPosition(M),this.emit("input",M)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,n=this.childrenMap.marker,x=i.colorToLocalPosition(t,!0);return GC(i,x.x,x.y,n),this.resetChildPositionState(n),this}getHue(t,i){var n=this.childrenMap.paletteCanvas;return n.getHue(t,i)}}const mN=Phaser.Display.Color,zC=Phaser.Math.Percent,NC=Phaser.Display.Color.ColorToRGBA,xN=Phaser.Display.Color.HSVToRGB;class yN extends Dr{constructor(t,i,n,x,S,M){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=2),S===void 0&&(S=2),super(t,i,n,x,S),this.type="rexColorPicker.SVPaletteCanvas",M===void 0&&(M=1),this.colorObject=new mN,this.setHue(M),this.setSize(x,S)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return uN(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var n=zC(t,0,this.width),x=1-zC(i,0,this.height);return this.colorObject.setFromRGB(xN(this.hue,n,x)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(NC(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(Zc===void 0&&(Zc={}),i=Zc),this.colorObject.setFromRGB(NC(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}}var Zc=void 0;class CN extends Di{constructor(t,i){super(t,i);var n=new yN(t);t.add.existing(n),this.type="rexColorPicker.SVPalette",n.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var x=new Tr(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(x),this.add(n,{key:"paletteCanvas",expand:!0}).add(x,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,n,x){if(t.isDown){var S=this.childrenMap.paletteCanvas,M=S.getColor(i,n);this.setMarkerPosition(M),this.emit("input",M)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,n=this.childrenMap.marker,x=i.colorToLocalPosition(t,!0);return GC(i,x.x,x.y,n),this.resetChildPositionState(n),this}}const ss=Phaser.Utils.Objects.GetValue;class Jc extends jt{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var n=ss(i,"hPalette.position",0);typeof n=="string"&&(n=SN[n]);var x=n===0||n===2?1:0;this.setOrientation(x);var S=ss(i,"background",void 0),M,b;if(this.orientation===0){var M=ss(i,"hPalette.width",void 0);M===void 0&&(M=ss(i,"hPalette.size",10))}else b=ss(i,"hPalette.height",void 0),b===void 0&&(b=ss(i,"hPalette.size",10));var D=new gN(t,{width:M,height:b});t.add.existing(D);var k=ss(i,"svPalette.width",void 0),W=ss(i,"svPalette.height",void 0),Z=new CN(t,{width:k,height:W});t.add.existing(Z),S&&this.addBackground(S);var tt={proportion:0,expand:!0},_,st;this.orientation===0?(_=k===void 0?1:0,st=W===void 0):(_=W===void 0?1:0,st=k===void 0);var at={proportion:_,expand:st};n===0||n===3?this.add(Z,at).add(D,tt):this.add(D,tt).add(Z,at),D.on("input",function(){Z.setHue(D.getHue()),this.setValue(Z.color,!0)},this),Z.on("input",function(){this.setValue(Z.color,!0)},this),this.addChildrenMap("background",S),this.addChildrenMap("hPalette",D),this.addChildrenMap("svPalette",Z);var nt=ss(i,"valuechangeCallback",null);if(nt!==null){var ut=ss(i,"valuechangeCallbackScope",void 0);this.on("valuechange",nt,ut)}this.setValue(ss(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,n){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,i,n),this}}var SN={bottom:0,left:1,top:2,right:3};const xs=Phaser.Utils.Objects.GetValue,TN=Phaser.Display.Color,PN=Phaser.Display.Color.ColorToRGBA,EN=Phaser.Display.Color.HSVToRGB,qr=Phaser.Math.Clamp;class Qc extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new TN;var n=xs(i,"background",void 0),x=xs(i,"formatLabel",void 0);fi(x)||(x=Ye(t,x).resetDisplayContent());var S=[];if(i.inputText0&&i.inputText1&&i.inputText2)S.push(i.inputText0),S.push(i.inputText1),S.push(i.inputText2);else for(var M=xs(i,"inputText"),b=0;b<3;b++){var D=gr(t,M).setMaxLength(3).setNumberInput();S.push(D)}n&&this.addBackground(n);var W=xs(i,"proportion.formatLabel",0),k=!!x.isRexContainerLite,Z=xs(i,"expand.formatLabel",k);this.add(x,{proportion:W,expand:Z});for(var W=xs(M,"width")===void 0?1:0,Z=xs(M,"height")===void 0,b=0,tt=S.length;b<tt;b++)this.add(S[b],{proportion:W,expand:Z});this.addChildrenMap("background",n),this.addChildrenMap("formatLabel",x),this.addChildrenMap("components",S),this.onClick(x,this.toggleColorFormat,this);for(var b=0,tt=S.length;b<tt;b++)S[b].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var _=xs(i,"valuechangeCallback",null);if(_!==null){var st=xs(i,"valuechangeCallbackScope",void 0);this.on("valuechange",_,st)}x.setText("RGB"),this.setValue(xs(i,"value",16777215))}get value(){return this._value}set value(t){t=qr(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(PN(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,n,x;return this.colorFormat==="RGB"?(i=this.colorObject.red,n=this.colorObject.green,x=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),n=Math.floor(this.colorObject.s*100),x=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(n),t[2].setValue(x),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=qr(t[0].value,0,255),n=qr(t[1].value,0,255),x=qr(t[2].value,0,255);this.colorObject.setTo(i,n,x)}else{var S=qr(t[0].value,0,359)/360,M=qr(t[1].value,0,100)/100,b=qr(t[2].value,0,100)/100;this.colorObject.setFromRGB(EN(S,M,b))}return this}}const jc=Phaser.Utils.Objects.GetValue;class MN extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var n=jc(i,"background",void 0),x=new Jc(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:jc(i,"space.hPalette",8)}});t.add.existing(x);var S;i.colorComponents&&(S=new Qc(t,i.colorComponents),t.add.existing(S)),n&&(this.addBackground(n),new Go(n,{stopAllLevels:!1})),this.add(x,{proportion:1,expand:!0}),S&&this.add(S,{proportion:0,expand:!0}),this.addChildrenMap("background",n),this.addChildrenMap("colorPicker",x),this.addChildrenMap("colorComponents",S),x.on("valuechange",function(M){this.setValue(M)},this),S&&S.on("valuechange",function(M){this.setValue(M)},this),this.setValue(jc(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var n=this.childrenMap.colorComponents;n&&n.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var wN=function(t){var t=this.scene,i,n=this.colorPickerCreateBackgroundCallback;n&&(i=n.call(this,t),t.add.existing(i));var x=this.colorPickerWidth;x===void 0&&(x=this.width);var S=this.colorPickerHeight;S===void 0&&(S=x);var M;this.colorComponentsHeight>0?M={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:M=!1;var b=new MN(t,{width:x,height:S,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:M,value:this.value});return t.add.existing(b),b},RN=function(){if(!this.colorPicker){var e=wN.call(this).layout(),t=new Vy(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},VC={openColorPicker:RN};Object.assign(VC,hN);const Je=Phaser.Utils.Objects.GetValue;class tu extends Hc{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var n=i.colorPicker,x=n!==!1&&n!==null;if(x){this.setColorPickerSize(Je(n,"width",160),Je(n,"height",170));var S,M=Je(n,"background");M?S=function(_){return ze(_,M)}:S=Je(n,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(S),this.setColorPickerHPalettePosition(Je(n,"hPalettePosition",0)),this.setColorPickerExpandDirection(Je(n,"expandDirection")),this.setColorPickerEaseInDuration(Je(n,"easeIn",200)),this.setColorPickerEaseOutDuration(Je(n,"easeOut",200)),this.setColorPickerTransitInCallback(Je(n,"transitIn")),this.setColorPickerTransitOutCallback(Je(n,"transitOut")),this.setColorPickerBounds(Je(n,"bounds"));var b=Je(n,"space");b===void 0&&(b={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(b)}var D=i.colorComponents,k=D!==!1&&D!==null;if(x&&k){this.setColorComponentsHeight(Je(D,"height",30)),this.setColorComponentsFormatLabelConfig(Je(D,"formatLabel"));var W=Je(D,"inputText");W||(W=Je(i,"inputText")),this.setColorComponentsInputTextConfig(W);var Z=Je(D,"space");Z===void 0&&(Z={item:8}),this.setColorComponentsSpace(Z)}var tt=this.childrenMap.swatch;tt&&x&&this.onClick(tt,this.openColorPicker,this)}}Object.assign(tu.prototype,VC),K.register("colorInput",function(e){var t=new tu(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.ColorInput",tu),K.register("colorInputLite",function(e){var t=new Hc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.ColorInputBase",Hc),K.register("colorPicker",function(e){var t=new Jc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.ColorPicker",Jc),K.register("colorComponents",function(e){var t=new Qc(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.ColorComponents",Qc);var WC=function(e){for(var t=e.scene.input,i=t.manager,n=i.pointersTotal,x=i.pointers,S,M=0;M<n;M++)if(S=x[M],!(!S.primaryDown||t.getDragState(S)!==0||!Qu(e,S)))return t.setDragState(S,1),t._drag[S.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(S,3),t.processDragStartList(S)):t.setDragState(S,2),!0;return!1};const eu=Phaser.Utils.Objects.GetValue,UC=Phaser.Math.Distance.Between,XC=Phaser.Math.RotateAroundDistance;class qc extends xe{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(eu(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(eu(t,"enable",!0)),this.setAxisMode(eu(t,"axis",0)),this.setAxisRotation(eu(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=AN[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return WC(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,n){this.isDragging||(this.pointer=t)}onDrag(t,i,n){if(this.pointer===t){var x=this.parent;if(this.axisMode===0)x.x=i,x.y=n;else if(this.axisRotation===0)this.axisMode===1?x.x=i:this.axisMode===2&&(x.y=n);else{var S,M={x:i,y:n};S=UC(M.x,M.y,x.x,x.y),M=XC(M,x.x,x.y,-this.axisRotation,S),this.axisMode===1?M.y=x.y:this.axisMode===2&&(M.x=x.x),S=UC(M.x,M.y,x.x,x.y),M=XC(M,x.x,x.y,this.axisRotation,S),x.x=M.x,x.y=M.y}}}onDragEnd(t,i,n,x){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const AN={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var bN=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],n=this.getSizerConfig(e).padding,x=this.getSizerConfig(t).padding,S=this.getSizerConfig(i).padding;if(this.orientation===0){var M=this.innerLeft+n.left,b=this.innerRight-S.right,D=se(t),k=t.x+D*(0-t.originX),W=t.x+D*(1-t.originX),Z=k-x.left-this.space.item-n.right,tt=W+x.right+this.space.item+S.left,_=Z-M,st=b-tt,at=_+st;this.minFirstChildSize>0&&_<this.minFirstChildSize&&(_=this.minFirstChildSize,st=at-_),this.minSecondChildSize>0&&st<this.minSecondChildSize&&(st=this.minSecondChildSize,_=at-st),this.setSplitRatio(_/at)}else{var nt=this.innerTop+n.top,ut=this.innerBottom-S.bottom,ct=re(t),dt=t.y+ct*(0-t.originY),mt=t.y+ct*(1-t.originY),Tt=dt-x.top-this.space.item-n.bottom,Pt=mt+x.bottom+this.space.item+S.top,At=Tt-nt,Ft=ut-Pt,Dt=At+Ft;this.minFirstChildSize>0&&At<this.minFirstChildSize&&(At=this.minFirstChildSize,Ft=Dt-At),this.minSecondChildSize>0&&Ft<this.minSecondChildSize&&(Ft=this.minSecondChildSize,At=Dt-Ft),this.setSplitRatio(At/Dt)}var zt=this.minWidth,Gt=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(zt,Gt)};const Be=Phaser.Utils.Objects.GetValue,LN=Phaser.Math.Clamp;class YC extends jt{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var n=Be(i,"background",void 0),x,S,M,b;this.orientation===0?(x="leftPanel",S="rightPanel",M="minLeftPanelWidth",b="minRightPanelWidth"):(x="topPanel",S="bottomPanel",M="minTopPanelHeight",b="minBottomPanelHeight");var D=Be(i,x,void 0),k=Be(i,"splitter",void 0),W=Be(i,S,void 0);n&&this.addBackground(n);var Z=Be(i,"space",void 0);this.add(D,{proportion:1,expand:!0,padding:{left:Be(Z,`${x}Left`,0),right:Be(Z,`${x}Right`,0),top:Be(Z,`${x}Top`,0),bottom:Be(Z,`${x}Bottom`,0)}}),this.add(k,{proportion:0,expand:!0,padding:{left:Be(Z,"splitterLeft",0),right:Be(Z,"splitterRight",0),top:Be(Z,"splitterTop",0),bottom:Be(Z,"splitterBottom",0)}}),this.add(W,{proportion:1,expand:!0,padding:{left:Be(Z,`${S}Left`,0),right:Be(Z,`${S}Right`,0),top:Be(Z,`${S}Top`,0),bottom:Be(Z,`${S}Bottom`,0)}}),this.addChildrenMap("background",n),this.addChildrenMap(x,D),this.addChildrenMap("splitter",k),this.addChildrenMap(S,W),this.minFirstChildSize=Be(i,M,0),this.minSecondChildSize=Be(i,b,0),this.setSplitRatio(Be(i,"splitRatio",.5)),this.splitterDragBehavior=new qc(k,{axis:this.orientation===0?1:2}),k.on("dragstart",function(){this.emit("splitter.dragstart",k,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",k,this.splitRatio)},this).on("drag",function(){bN.call(this),this.emit("splitter.drag",k,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",k,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",k,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=LN(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}K.register("splitPanels",function(e){var t=new YC(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.SplitPanels",YC);var ON=function(){return function(e,t,i,n){t!=="panel"&&i.setChildVisible(e,!0)}},DN=function(){return function(e,t,i,n){t!=="panel"&&i.setChildVisible(e,!1)}},FN={show:ON,hide:DN},BN=function(e,t){return t===void 0&&(t=1),function(i,n,x,S){n!=="panel"&&x.fadeChild(i,S?0:e,t)}},IN=function(e,t){return t===void 0&&(t=0),function(i,n,x,S){n!=="panel"&&x.fadeChild(i,S?0:e,t)}},kN={show:BN,hide:IN},HC=function(e,t){return function(i,n,x,S){n!=="panel"&&x.moveChild(i,S?0:e,t)}},GN={show:HC,hide:HC},$C=function(e,t){return function(i,n,x,S){n==="panel"&&x.moveChild(i,S?0:e,t)}},zN={show:$C,hide:$C};const _c={visible:FN,fade:kN,move:GN,"move-panel":zN};var NN=function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var n,x;return _c.hasOwnProperty(t)?(n=_c[t].show.apply(null,i),x=_c[t].hide.apply(null,i)):(n=a,x=a),{show:n,hide:x}},VN={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}};const WN=xi.prototype.setChildVisible;var UN={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=_o(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),WN.call(this,e,t),this}},XN={fadeChild(e,t,i){var n;return typeof e=="string"?(n=e,e=this.sizerChildren[n]):n=_o(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===n?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?Ke(e._fade):Promise.resolve()}},YN={moveChild(e,t,i,n){var x;typeof e=="string"?(x=e,e=this.sizerChildren[x]):x=_o(this.sizerChildren,e),t===void 0&&(t=500);var S=this.currentChildKey===x;if(n===void 0)switch(x){case"leftSide":case"rightSide":n=se(e);break;case"topSide":case"bottomSide":n=re(e);break;default:if(S)switch(this.previousChildKey){case"leftSide":case"rightSide":n=se(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":n=re(this.sizerChildren[this.previousChildKey]);break;default:n=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":n=se(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":n=re(this.sizerChildren[this.currentChildKey]);break;default:n=0;break}break}var M,b,D,k;if(S)switch(x){case"panel":switch(this.previousChildKey){case"leftSide":M=!0;break;case"rightSide":b=!0;break;case"topSide":D=!0;break;case"bottomSide":k=!0;break}break;case"leftSide":b=!0;break;case"rightSide":M=!0;break;case"topSide":k=!0;break;case"bottomSide":D=!0;break}else switch(x){case"panel":switch(this.currentChildKey){case"leftSide":b=!0;break;case"rightSide":M=!0;break;case"topSide":k=!0;break;case"bottomSide":D=!0;break}break;case"leftSide":M=!0;break;case"rightSide":b=!0;break;case"topSide":D=!0;break;case"bottomSide":k=!0;break}return M?e.moveTo(t,`-=${n}`,void 0,i):b?e.moveTo(t,`+=${n}`,void 0,i):D?e.moveTo(t,void 0,`-=${n}`,i):k?e.moveTo(t,void 0,`+=${n}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,n){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,n),e._easeMove?Ke(e._easeMove):Promise.resolve()}},KC={};Object.assign(KC,UN,XN,YN);const vi=Phaser.Utils.Objects.GetValue;class tv extends Di{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var n=vi(i,"showChildCallback",void 0);if(n)if(Hi(n)){var x=vi(i,"showChildCallbackScope",void 0);this.on("showchild",n,x);var S=vi(i,"hideChildCallback",void 0),M=vi(i,"hideChildCallbackScope",void 0);this.on("hidechild",S,M)}else{var b=NN(n);this.on("showchild",b.show),this.on("hidechild",b.hide)}var D=vi(i,"background",void 0),k=vi(i,"panel",void 0),W=vi(i,"leftSide",void 0),Z=vi(i,"rightSide",void 0),tt=vi(i,"topSide",void 0),_=vi(i,"bottomSide",void 0);if(D&&this.addBackground(D),k&&this.add(k,"panel","center",0,!0),W){var st=vi(i,"expand.left",!0);this.add(W,"leftSide","left-top",0,{height:st})}if(Z){var st=vi(i,"expand.right",!0);this.add(Z,"rightSide","right-top",0,{height:st})}if(tt){var st=vi(i,"expand.top",!0);this.add(tt,"topSide","left-top",0,{width:st})}if(_){var st=vi(i,"expand.bottom",!0);this.add(_,"bottomSide","left-bottom",0,{width:st})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(tv.prototype,VN,KC),K.register("sides",function(e){var t=new tv(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Sides",tv);var HN=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const $N=Phaser.Utils.Array.GetFirst,KN=Phaser.Utils.Array.Remove;var ZN=function(e){var t=$N(this.inputHandlers,"name",e);return t&&KN(this.inputHandlers,t),this};class Ph extends Ns{constructor(t,i){i=Ml(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?pt(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class JN extends Ph{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var n=new ka(t,i.expandedIcon);t.add.existing(n),this.addSpace().add(n,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",n)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",n=this.childrenMap.expandedIcon;return n.setDirection(i),this}}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var ZC=function(e,t){var i=Ui(e);for(var n in t)i.hasOwnProperty(n)||(i[n]=t[n]);return i},Eh=function(e,t,i){return ze(e,ZC(t,i))},QN={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},jN={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class JC extends Ch{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}}Object.assign(JC.prototype,QN,jN);const ea=Phaser.Utils.Objects.GetValue;var qN=function(e,t,i){var n=e.scene,x=ea(i,"title")||{},S=new JN(n,x);n.add.existing(S),S.on("folder.expand",function(){S.setExpandedState(!0)}).on("folder.collapse",function(){S.setExpandedState(!1)});var M={root:ea(i,"root"),styles:ea(i,"tweaker"),space:ea(i,"space")||{}},b=e.createTweaker(M),D=ea(i,"background"),k=Eh(n,t,D),W=new JC(n,{title:S,child:b,background:k,transition:{duration:ea(i,"transition.duration",200)}});return n.add.existing(W),W};const QC=Phaser.Utils.Objects.GetValue;var _N=function(e){e===void 0&&(e={});var t=QC(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var i=qN(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=QC(e,"expanded",!0);n!==void 0&&i.setExpandedState(n);var x=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,x),x},tV={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},eV={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)t[i].setInputRowTitleWidth(e);return this}};class jC extends Zl{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}}Object.assign(jC.prototype,tV,eV);const iu=Phaser.Utils.Objects.GetValue;var iV=function(e,t,i){var n=e.scene,x=new jC(n,i);n.add.existing(x);for(var S=iu(i,"tab"),M={root:iu(i,"root"),styles:iu(i,"tweaker")},b=iu(t,"pages")||[],D=0,k=b.length;D<k;D++){var W=b[D];x.addPage({key:W.title,tab:Ye(n,S).setActiveState(!1).resetDisplayContent({text:W.title}),page:e.createTweaker(M)})}return x.on("tab.focus",function(Z,tt){Z.setActiveState(!0)}).on("tab.blur",function(Z,tt){Z.setActiveState(!1)}),x};const qC=Phaser.Utils.Objects.GetValue;var sV=function(e){e===void 0&&(e={});var t=qC(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var i=iV(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0});for(var n=qC(e,"pages")||[],x=[],S=0,M=0,b=n.length;M<b;M++){var D=i.getPage(M),k=n[M].show;k&&(S=M);var W=n[M].key;W&&this.root.addChildrenMap(W,D),x.push(D)}return i.swapPage(S,0),x},rV={setBindingTarget(e){for(var t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},nV={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)t[i].setInputRowTitleWidth(e);return this}};const ia=Phaser.Utils.Objects.GetValue;class _C extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Columns";var n=ia(i,"background",void 0),x=ia(i,"title",void 0);n&&this.addBackground(n),x&&this.add(x,{expand:!0,space:{bottom:ia(i,"space.title",0)}});var S=new jt(t,{orientation:"x",space:{item:ia(i,"space.column",0)}});t.add.existing(S);for(var M=ia(i,"columns",void 0),b,D,k=0,W=M.length;k<W;k++)b=M[k],D=b.child,S.add(b.child,{proportion:D.minWidth===0?1:0,expand:ia(b,"expand",!0)});this.add(S,{expand:!0}),this.addChildrenMap("title",x),this.addChildrenMap("columnsSizer",S),this.addChildrenMap("columns",S.childrenMap.items)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}}Object.assign(_C.prototype,rV,nV);const _r=Phaser.Utils.Objects.GetValue;var aV=function(e,t,i){var n=e.scene,x=_r(i,"title")||{},S=new Ph(n,x);n.add.existing(S);var M={root:_r(i,"root"),styles:_r(i,"tweaker")},b=_r(i,"background");b&&!Array.isArray(b)&&(b=[b]);var D=_r(t,"columns",2);if(typeof D=="number"){var k=D;D=[];for(var W=0,Z=k;W<Z;W++)D.push({})}for(var W=0,Z=D.length;W<Z;W++){var tt=D[W];b&&(M.background=b[W%b.length]),M.width=_r(tt,"width",0);var _=e.createTweaker(M);tt.child=_}var st=new _C(n,{title:S,columns:D,space:_r(i,"space")});return n.add.existing(st),st};const tS=Phaser.Utils.Objects.GetValue;var hV=function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=tS(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var i=aV(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=tS(e,"columns",void 0);if(n&&Array.isArray(n))for(var x=0,S=n.length;x<S;x++){var M=n[x].key;M&&this.root.addChildrenMap(M,i.getColumn(x))}return i.getColumns()},oV={setBindingTarget(e){for(var t=this.childrenMap.child,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},lV={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}};const su=Phaser.Utils.Objects.GetValue;class eS extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Wrap";var n=su(i,"background",void 0),x=su(i,"title",void 0);n&&this.addBackground(n),x&&this.add(x,{expand:!0,space:{bottom:su(i,"space.title",0)}});var S=su(i,"child",void 0);this.add(S,{expand:!0}),this.addChildrenMap("title",x),this.addChildrenMap("child",S)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(eS.prototype,oV,lV);const ys=Phaser.Utils.Objects.GetValue;var uV=function(e,t,i){var n=e.scene,x=ys(i,"title")||{},S=new Ph(n,x);n.add.existing(S);var M=ys(i,"itemWidth",0),b=ys(i,"itemHeight",0),D={root:ys(i,"root"),styles:ys(i,"tweaker"),space:ys(i,"space"),align:ys(i,"align",5),wrap:!0,itemWidth:ys(t,"itemWidth",M),itemHeight:ys(t,"itemHeight",b)};ys(i,"background");var k=e.createTweaker(D),W=new eS(n,{title:S,child:k});return n.add.existing(W),W};const dV=Phaser.Utils.Objects.GetValue;var fV=function(e){e===void 0&&(e={});var t=dV(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var i=uV(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,n),n},cV={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},vV={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}};class iS extends ph{constructor(t,i){super(t,i),this.type="rexTweaker.Scrollable"}setTitle(t){var i=this.childrenMap.header;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(iS.prototype,cV,vV);const Cr=Phaser.Utils.Objects.GetValue;var pV=function(e,t,i){var n=e.scene,x=Cr(i,"title")||{},S=new Ph(n,x);n.add.existing(S);var M={root:Cr(i,"root"),styles:Cr(i,"tweaker"),space:Cr(i,"space")||{}},b=e.createTweaker(M),D=Cr(i,"slider");if(D){D=pt(D);var k=D.track;k&&(D.track=Eh(n,t,k));var W=D.thumb;W&&(D.thumb=Eh(n,t,W))}var Z=Cr(i,"background"),tt=Eh(n,t,Z),_=new iS(n,{scrollMode:0,header:S,panel:{child:b,mask:{padding:1}},slider:D,background:tt,height:Cr(t,"height",0),space:Cr(i,"space",void 0)});return n.add.existing(_),_};const gV=Phaser.Utils.Objects.GetValue;var mV=function(e){e===void 0&&(e={});var t=gV(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var i=pV(this,e,t);delete t.tweaker,delete t.root,this.add(i,{proportion:i.minWidth===0?1:0,expand:!0}),i.setTitle(e);var n=i.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,n),n};const sS=Phaser.Utils.Objects.GetValue;var xV={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var i=this.childrenMap.inputField;return i.onBindTarget&&i.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=sS(e,"onGetValue"),this.onSetValue=sS(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},yV={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},CV={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=(i.left+i.right)*t.scaleX,t.minWidth=e,this}};const ev=Phaser.Utils.Objects.GetValue;class iv extends jt{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var n=i.inputTitle,x=i.inputField,S=i.background,k=ev(i,"proportion.title",0),M=ev(i,"space.title",0),b;this.orientation===0?b={right:M}:b={bottom:M},this.add(n,{proportion:k,expand:!0,padding:b});var D=x.defaultProportion;D===void 0&&(D=i.defaultExpandWidth?1:0);var k=ev(i,"proportion.inputField",D);this.add(x,{proportion:k,expand:!0}),S&&this.addBackground(S),this.addChildrenMap("title",n),this.addChildrenMap("inputField",x),this.addChildrenMap("background",S),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(iv.prototype,xV,yV,CV);var rS=function(e,t,i){var n=new Ph(e,i);return e.add.existing(n),n},SV=function(e){e===void 0&&(e=jt);class t extends e{get bindingTarget(){var n=this.getParentSizer();return n.bindingTarget}get bindingKey(){var n=this.getParentSizer();return n.bindTargetKey}get value(){return this._value}get root(){var n=this.getParentSizer(),x=n.getParentSizer();return x.root}onBindTarget(n,x){this.onBindTargetCallback&&this.onBindTargetCallback(this,n,x)}validate(n){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(n,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(n){return this.textFormatCallback?n=this.textFormatCallback(n):n=n.toString(),n}set value(n){if(this._value!==n&&(this.validate(n)||(n=this._value),this.filterValueCallback&&(n=this.filterValueCallback(this,n)),this.displayValueCallback&&this.displayValueCallback(this,n),this._value!==n)){var x=this._value;if(this._value=n,!this.syncValueFlag){var S=this.bindingTarget,M=this.bindingKey;this.emit("valuechange",n,x,S,M),this.root.emit("valuechange",n,x,S,M)}}}getValue(){return this.value}setValue(n){return this.value=n,this}syncValue(n){return this.syncValueFlag=!0,this.value=n,this.syncValueFlag=!1,this}setup(n,x){return x===void 0&&(x=!1),(x||n.hasOwnProperty("format"))&&this.setTextFormatCallback(n.format),(x||n.hasOwnProperty("onValidate"))&&this.setValidateCallback(n.onValidate),this.setupCallback&&this.setupCallback(this,n,x),this}setSetupCallback(n){return this.setupCallback=n,this}setFilterValueCallback(n){return this.filterValueCallback=n,this}setDisplayValueCallback(n){return this.displayValueCallback=n,this}setOnBindTargetCallback(n){return this.onBindTargetCallback=n,this}setTextFormatCallback(n){return this.textFormatCallback=n,this}setValidateCallback(n){return this.validateCallback=n,this}}return t},TV=function(e,t,i){for(var n,x=this.inputHandlers,S=0,M=x.length;S<M;S++){var b=x[S];if(b.accept(t)){var D=SV(b.baseClass);n=new D(e),e.add.existing(n),n.setSetupCallback(b.setup).setFilterValueCallback(b.filterValue).setDisplayValueCallback(b.displayValue).setOnBindTargetCallback(b.onBindTarget),b.build(n,i);break}}return n&&n.setup(t,!0),n};const nS=Phaser.Utils.Objects.GetValue;var PV=function(e,t,i){var n=TV.call(this,e,t,i);if(!n)return null;var x=nS(i,"title")||{},S=rS(e,t,x),M=nS(i,"background")||{},b=ze(e,M),D=new iv(e,{...i,...t,inputTitle:S,inputField:n,background:b});return e.add.existing(D),D.setTitle(t),D.setValueCallbacks(t),D},EV=function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var n=this.styles.inputRow||{};this.isWrapMode?n.defaultExpandWidth=!0:n.defaultExpandWidth=this.styles.orientation===1;var x=PV.call(this,this.scene,i,n);if(!x)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;if(this.isWrapMode)x.setMinWidth(this.itemWidth),x.setMinHeight(this.itemHeight),this.add(x);else{var S;this.orientation===1?S=0:(S=this.itemWidth>0?0:1,x.minWidth===0&&x.setMinWidth(this.itemWidth)),x.minHeight===0&&x.setMinHeight(this.itemHeight),this.add(x,{proportion:S,expand:!0})}if(i.onValueChange){var M=x.childrenMap.inputField;M.on("valuechange",i.onValueChange)}return x.setAutoUpdateEnable(i.autoUpdate),x.setBindingTarget(e,t),i.monitor&&x.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,x),this},MV=function(e,t){var i=new Tr(e,t);return e.add.existing(i),i};const wV=Phaser.Utils.Objects.GetValue;var RV=function(e,t){var i=wV(t,"wrap",!1),n=i?pr:Xe,x=new n(e,t);return e.add.existing(x),x};const ru=Phaser.Utils.Objects.GetValue;var AV=function(e,t,i){for(var n=ru(i,"title")||{},x=rS(e,t,n),S=t.buttons,M=ru(i,"button")||{},b=[],D=0,k=S.length;D<k;D++){var W=Ye(e,M);b.push(W);var Z=S[D];W.resetDisplayContent(Z.label),W.callback=Z.callback}var tt=RV(e,{buttons:b,expand:!0,wrap:ru(t,"wrap",!1)});tt.defaultProportion=1;var _=ru(i,"background")||{},st=MV(e,_),at=new iv(e,{...i,inputTitle:x,inputField:tt,background:st});return e.add.existing(at),at.setTitle(t),tt.on("button.click",function(nt){nt.callback(at.bindingTarget)}),at};const bV=Phaser.Utils.Objects.GetValue;var LV=function(e){e===void 0&&(e={});var t=this.scene,i=e.bindingTarget;delete e.bindingTarget;var n=bV(this.styles,"inputRow")||{},x=AV(t,e,n);return this.add(x,{expand:!0}),i&&x.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,x),this},OV=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},DV=function(e,t,i){return ze(e,ZC(t,i))};const FV=Phaser.Utils.Objects.GetValue;var BV=function(e){e===void 0&&(e={});var t=this.scene,i=FV(this.styles,"separator"),n=DV(t,e,i);return this.add(n,{expand:!0}),this},IV=function(e,t,i){return typeof t=="boolean"&&(i=t,t=void 0),i===void 0&&(i=!0),Mh(this,pt(e),t,i),this},Mh=function(e,t,i,n){if(t)for(var x=0,S=t.length;x<S;x++){var M=t[x];M.hasOwnProperty("$target")&&(i=M.$target,delete M.$target);var b=M.$type;switch(delete M.$type,b){case"folder":var D=e.addFolder(M);Mh(D,M.$properties,i,n);break;case"tab":for(var k=e.addTab(M),W=0,Z=k.length;W<Z;W++)Mh(k[W],M.pages[W].$properties,i,n);break;case"columns":for(var tt=e.addColumns(M),W=0,Z=tt.length;W<Z;W++)Mh(tt[W],M.columns[W].$properties,i,n);break;case"scrollable":var _=e.addScrollable(M);Mh(_,M.$properties,i,n);break;case"separator":e.addSeparator();break;case"button":M.bindingTarget=i,e.addButton(M);break;case"buttons":M.bindingTarget=i,e.addButtons(M);break;default:var st=M.$key;if(delete M.$key,st.indexOf(".")===-1)M.bindingTarget=i,M.bindingKey=st;else{var at=st.split(".");M.bindingKey=at.pop();for(var nt=i,ut=0,ct=at.length;ut<ct;ut++)if(nt=nt[at[ut]],!i){console.warn(`[Monitor] Key path '${st}' is invalid`);continue}M.bindingTarget=nt}M.hasOwnProperty("monitor")||(M.monitor=n),e.addInput(M);break}}},kV=function(e){for(var t=this.sizerChildren,i=0,n=t.length;i<n;i++){var x=t[i];x.setBindingTarget&&x.setBindingTarget(e)}return this},GV=function(){for(var e=0,t=this.sizerChildren,i=0,n=t.length;i<n;i++){var x=t[i];x.rexSizer.hidden||(x.getMinTitleWidth?e=Math.max(e,x.getMinTitleWidth()):x.getMaxInputRowTitleWidth&&(e=Math.max(e,x.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},zV=function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,i=0,n=t.length;i<n;i++){var x=t[i];x.rexSizer.hidden||(x.setMinTitleWidth?x.setMinTitleWidth(e):x.setInputRowTitleWidth&&x.setInputRowTitleWidth(e))}return this},NV={registerInputHandler:HN,removeInputHandler:ZN,addFolder:_N,addTab:sV,addColumns:hV,addWrap:fV,addScrollable:mV,addInput:EV,addButtons:LV,addButton:OV,addSeparator:BV,addRows:IV,setBindingTarget:kV,getMaxInputRowTitleWidth:GV,setInputRowTitleWidth:zV};const Sr=Phaser.Utils.Objects.GetValue;var aS=function(e){var t=Sr(e,"wrap",!1),i=t?fr:jt;class n extends i{constructor(S,M){M===void 0&&(M={}),M.orientation===void 0&&(M.orientation=t?0:1),super(S,M),this.type="rexTweakerShell",this.isWrapMode=t,M.root?(this.root=M.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=Sr(M,"styles")||{},this.styles.orientation=this.orientation;var b=Sr(M,"itemWidth");b===void 0&&(b=Sr(this.styles,"itemWidth",0)),this.itemWidth=b;var D=Sr(M,"itemHeight");if(D===void 0&&(D=Sr(this.styles,"itemHeight",0)),this.itemHeight=D,t||this.root===this&&this.orientation===1){var k=Sr(M,"inputRow.alignTitle");if(k===void 0){var W=Sr(this.styles,"inputRow.proportion.title");k=!W}else k&&$(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=k}else this.alignInputRowTitleStartFlag=!1;var Z=Eh(S,void 0,M.background);Z&&this.addBackground(Z)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(S,M){M===void 0&&(M=!0);var b=aS(S),D=new b(this.scene,S);return M&&this.scene.add.existing(D),D}}return Object.assign(n.prototype,NV),n},VV=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},WV={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var n=t.inputText,x=gr(i,n);e.add(x,{proportion:1,expand:!0,key:"inputText"}),x.on("close",function(){e.setValue(x.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&VV(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}},UV=function(e,t,i){i===void 0&&(i=!0),i?t=t?pt(t):{}:t||(t={});var n=new jl(e,t);return e.add.existing(n),n},XV=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},YV={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var n=t.inputTextArea;n===void 0&&(n={}),n.hasOwnProperty("text")||(n.text=t.inputText),n.hasOwnProperty("slider")||(n.slider=t.slider);var x=UV(i,n);e.add(x,{proportion:1,expand:!0,key:"inputText"}),x.on("close",function(){e.setValue(x.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&XV(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}},HV=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},$V={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var n=t.inputNumber||t.inputText,x=gr(i,n).setNumberInput();e.add(x,{proportion:1,expand:!0,key:"inputText"}),x.on("close",function(){e.setValue(x.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&HV(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}},KV=function(e,t){var i=new Kn(e,t);return e.add.existing(i),i};const sv=Phaser.Utils.Objects.GetValue,ZV=Phaser.Math.Linear,JV=Phaser.Math.Snap.Floor;var QV=function(e,t,i,n){e.minValue=t,e.maxValue=i,e.step=n;var x=e.childrenMap.slider;x.setGap(n,t,i)},jV=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},qV={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var n=t.slider,x=e.orientation===0?"track.height":"track.width",S=sv(n,x),M=KV(i,n),W=t.defaultExpandWidth?2:0,Z=sv(t,"proportion.range.slider",W),b=S===void 0;e.add(M,{proportion:Z,expand:b,key:"slider"});var D=t.inputNumber||t.inputText,k=gr(i,D).setNumberInput(),W=t.defaultExpandWidth?1:0,Z=sv(t,"proportion.range.inputText",W);e.add(k,{proportion:Z,expand:!0,key:"inputText"}),k.on("close",function(){e.setValue(k.value)}),M.on("valuechange",function(){var tt=ZV(e.minValue,e.maxValue,M.value);e.step&&(tt=JV(tt,e.step,e.minValue)),e.setValue(tt)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&QV(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&jV(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.slider;i.setValue(t,e.minValue,e.maxValue);var n=e.childrenMap.inputText;n.setText("").setText(e.getFotmatText(t))}},hS=function(e,t){var i=new Xe(e,t);return e.add.existing(i),i};const _V=Phaser.Utils.Objects.GetValue;var tW=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},eW={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var i=e.scene;e.type="rexTweaker.IncDecInput";var n=_V(t,"incDec")||{},x={text:null,action:null},S=hS(i,{expand:!1}),M=t.defaultExpandWidth?1:0;e.add(S,{proportion:M,expand:!0});var b=t.inputNumber||t.inputText,D=gr(i,b).setNumberInput();D.on("close",function(){e.setValue(D.value)});var k=Object.assign(pt(x),n.incButton||{}),W=Ye(i,k),Z=Object.assign(pt(x),n.decButton||{}),tt=Ye(i,Z);S.addButton(W),S.addButton(tt);var _=n.inputTextIndex||0;S.insert(_,D,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,S.on("button.click",function(st,at,nt,ut){var ct=e.value;at===0?ct+=e.step:ct-=e.step,e.maxValue!==void 0&&ct>e.maxValue&&(ct=e.maxValue),e.minValue!==void 0&&ct<e.minValue&&(ct=e.minValue),e.setValue(ct)}),e.addChildrenMap("incButton",W),e.addChildrenMap("decButton",tt),e.addChildrenMap("inputText",D)},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&tW(e,!!t.inputTextReadOnly),(i||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(i||t.hasOwnProperty("min"))&&(e.minValue=t.min),(i||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText("").setText(e.getFotmatText(t))}},iW=function(e,t,i){i===void 0&&(i=!0),i?t=t?pt(t):{}:t||(t={});var n=new tu(e,t);return e.add.existing(n),n},sW={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var n=t.colorInput;n===void 0&&(n={}),n.hasOwnProperty("inputText")||(n.inputText=t.inputText);var x=iW(i,n);e.add(x,{proportion:1,expand:!0,key:"colorInput"}),x.on("valuechange",function(S){e.setValue(S)})},displayValue(e,t){var i=e.childrenMap.colorInput;i.setValue(t)}},rW=function(e,t){var i=new nd(e,t);return e.add.existing(i),i},nW={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var n=t.checkbox,x=rW(i,n),S=n.size;S!==void 0&&x.setSize(S,S);var M=S!==void 0?0:1;e.add(x,{proportion:0,expand:!1,fitRatio:M,key:"checkbox"}),x.on("valuechange",function(b){e.setValue(b)})},displayValue(e,t){var i=e.childrenMap.checkbox;i.setValue(t)}},aW=function(e,t){var i=new od(e,t);return e.add.existing(i),i},hW={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var n=t.toggleSwitch,x=aW(i,n),S=n.size;S!==void 0&&x.setSize(S,S);var M=S!==void 0?0:1;e.addSpace().add(x,{proportion:0,expand:!1,fitRatio:M,key:"toggleSwitch"}),x.on("valuechange",function(b){e.setValue(b)})},displayValue(e,t){var i=e.childrenMap.toggleSwitch;i.setValue(t)}},oW=function(e,t){t=Uy(e,t);var i=new gh(e,t);return e.add.existing(i),i},oS=function(e,t){for(var i=0,n=e.length;i<n;i++){var x=e[i];if(x.value===t)return i}},lW=function(e,t){var i=oS(e,t);if(i!=null)return e[i]},uW=function(e,t){var i=e.childrenMap.list;i.setOptions(t)},dW={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var n=oW(i,t.list);e.add(n,{proportion:1,expand:!0,key:"list"}),n.on("button.click",function(x,S,M,b,D,k){e.setValue(M.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&uW(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,n=lW(i.options,t);i.resetDisplayContent(n).setMinSize(i.width,i.height).layout().setMinSize(0,0)}},fW=function(e,t){for(var i=0,n=e.length;i<n;i++){var x=e[i];x&&x.setActiveState(i===t)}};const cW=Phaser.Utils.Objects.GetValue;var vW=function(e,t){var i=e.childrenMap.list;i.options=t;var n=e.scene,x=i.buttonConfig;i.clearButtons(!0);for(var S=0,M=t.length;S<M;S++){var b=t[S],D=Ye(n,x).setActiveState(!1).resetDisplayContent({text:b.text});i.addButton(D)}},pW={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var n=t.button?pt(t.button):{},x=cW(n,"expand",!0);x&&(n.align="center"),delete n.expand;var S=hS(i,{expand:x});S.buttonConfig=n,e.add(S,{proportion:1,expand:!0,key:"list"}),S.on("button.click",function(M,b,D,k){var W=S.options[b];W&&(e._selectedIndex=b,e.setValue(W.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&vW(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,n=e._selectedIndex;n===void 0&&(n=oS(i.options,t)),fW(i.childrenMap.buttons,n)}},gW=function(){this.registerInputHandler(WV).registerInputHandler(YV).registerInputHandler($V).registerInputHandler(qV).registerInputHandler(eW).registerInputHandler(sW).registerInputHandler(nW).registerInputHandler(hW).registerInputHandler(dW).registerInputHandler(pW)};class lS extends aS(){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",gW.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}K.register("tweaker",function(e){var t=new lS(this.scene,e);return this.scene.add.existing(t),t}),$(window,"RexPlugins.UI.Tweaker",lS),K.register("click",function(e,t){return new Ls(e,t)}),$(window,"RexPlugins.UI.Click",Ls),K.register("clickOutside",function(e,t){return new af(e,t)}),$(window,"RexPlugins.UI.ClickOutside",af),K.register("inTouching",function(e,t){return new Wn(e,t)}),$(window,"RexPlugins.UI.InTouching",Wn),K.register("tap",function(e,t){return fi(e)||(t=e,e=this.scene),new Xo(e,t)}),$(window,"RexPlugins.UI.Tap",Xo),K.register("press",function(e,t){return fi(e)||(t=e,e=this.scene),new Yo(e,t)}),$(window,"RexPlugins.UI.Press",Yo),K.register("swipe",function(e,t){return fi(e)||(t=e,e=this.scene),new Za(e,t)}),$(window,"RexPlugins.UI.Swipe",Za),K.register("pan",function(e,t){return fi(e)||(t=e,e=this.scene),new dm(e,t)}),$(window,"RexPlugins.UI.Pan",dm),K.register("drag",function(e,t){return new qc(e,t)}),$(window,"RexPlugins.UI.Drag",qc),K.register("pinch",function(e){return new pm(this.scene,e)}),$(window,"RexPlugins.UI.Pinch",pm),K.register("rotate",function(e){return new mf(this.scene,e)}),$(window,"RexPlugins.UI.Rotate",mf);const mW=Phaser.Utils.Objects.IsPlainObject,uS=Phaser.Utils.Objects.GetValue;var dS=function(e,t,i){var n;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(mW(e)){var x=e;e=uS(x,"key",i.texture.key),t=uS(x,"frame",i.frame.name)}else typeof e=="string"||(n=e);return n===void 0&&(n=function(S){S.setTexture(e,t)}),n};const wh=Phaser.Utils.Objects.GetValue,xW=Phaser.Utils.Objects.GetAdvancedValue,yW=Phaser.Math.Linear;class fS extends Lr{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(xW(t,"duration",500)),this.setEase(wh(t,"ease","Sine")),this.setOrientation(wh(t,"orientation",0)),this.setFrontFace(wh(t,"front",void 0)),this.setBackFace(wh(t,"back",void 0)),this.setFace(wh(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=CW[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=SW[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=dS(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=dS(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,i){i.justRestart&&this.toggleFace();var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n);var x=yW(this.scale0,0,n);this.orientation===0?t.scaleX=x:t.scaleY=x}}const CW={x:0,horizontal:0,y:1,vertical:1},SW={front:0,back:1};K.register("flip",function(e,t){return new fS(e,t)}),$(window,"RexPlugins.UI.Flip",fS),K.register("shake",function(e,t){return new jd(e,t)}),$(window,"RexPlugins.UI.Shake",jd),K.register("touchEventStop",function(e,t){return new Go(e,t)}),$(window,"RexPlugins.UI.TouchEventStop",Go),K.register("perspective",function(e,t){return new mC(e,t)}),$(window,"RexPlugins.UI.Perspective",mC);const cS=Phaser.Math.RotateAround;var rv=function(e,t,i){var n=e.width/2,x=e.height/2;return ei.x=t-n,ei.y=i-x,cS(ei,0,0,e.rotation),ei.x*=e.scaleX,ei.y*=e.scaleY,ei.x+=e.x,ei.y+=e.y,ei},TW=function(e,t,i){var n=e.width/2,x=e.height/2;return ei.x=t-e.x,ei.y=i-e.y,ei.x/=e.scaleX,ei.y/=e.scaleY,cS(ei,0,0,-e.rotation),ei.x+=n,ei.y+=x,ei},ei={x:0,y:0};class PW{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var n=this.parent,x=n.height,S=n.frame.cutWidth/x/2,M=n.frame.cutHeight/x/2,b=t/x-S,D=i/x-M,k=this.vertex;return k.x=b,k.y=-D,n.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,n){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,n||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var n=TW(this.parent,t,i);return this.setLocalXY(n.x,n.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return rv(this.parent,this._localX,this._localY)}get x(){var t=rv(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=rv(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const EW=Phaser.Geom.Mesh.Vertex,MW=Phaser.Geom.Mesh.Face;var wW=function(e){for(var t=e.isNinePointMode,i=t?9:4,n=e.vertices,x=e.faces,S=e.controlPoints,M=0;M<i;M++){var b=new EW;n.push(b),S.push(new PW(e,b))}var D;t?D=bW:e.fourPointsModeRTL?D=AW:D=RW;for(var M=0,k=D.length;M<k;M+=3){var W=n[D[M+0]],Z=n[D[M+1]],tt=n[D[M+2]];x.push(new MW(W,Z,tt))}t?(e.topLeft=S[0],e.topCenter=S[1],e.topRight=S[2],e.centerLeft=S[3],e.center=S[4],e.centerRight=S[5],e.bottomLeft=S[6],e.bottomCenter=S[7],e.bottomRight=S[8]):(e.topLeft=S[0],e.topRight=S[1],e.bottomLeft=S[2],e.bottomRight=S[3])};const RW=[0,2,3,0,3,1],AW=[1,3,2,1,2,0],bW=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var LW=function(e){var t,i=0,n=e.height,x=0,S=e.width;if(e.isNinePointMode){var M=(x+S)/2,b=(i+n)/2;t=[x,i,M,i,S,i,x,b,M,b,S,b,x,n,M,n,S,n]}else t=[x,i,S,i,x,n,S,n];return t};const OW=Phaser.Utils.Objects.IsPlainObject,sa=Phaser.Utils.Objects.GetValue;let DW=class extends sC{constructor(t,i,n,x,S,M){OW(i)&&(M=i,i=sa(M,"x",0),n=sa(M,"y",0),x=sa(M,"key",null),S=sa(M,"frame",null)),super(t,i,n,x,S),this.type="rexQuadImage",this.isNinePointMode=sa(M,"ninePointMode",!1),this.fourPointsModeRTL=sa(M,"rtl",!1),this.controlPoints=[],wW(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var i=0,n=this.controlPoints.length;i<n;i++)this.controlPoints[i].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=LW(this),i=this.width,n=this.height,x=this.frame.cutWidth/n/2,S=this.frame.cutHeight/n/2,M=this.frame.u0,b=this.frame.u1,D=this.frame.v0,k=this.frame.v1,W=b-M,Z=k-D,tt=this.controlPoints,_=0,st=t.length;_<st;_+=2){var at=t[_+0],nt=t[_+1],ut=_/2,ct=at/n-x,dt=nt/n-S,mt=M+W*(at/i),Tt=D+Z*(nt/n);this.vertices[ut].set(ct,-dt,0).setUVs(mt,Tt),tt[ut].resetLocalXY(at,nt)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue;var vS=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var n=e.width,x=e.height,S=n*.5,M=x*.5,b=Math.tan(t)*M,D=Math.tan(i)*S,k=e.controlPoints,W=0,Z=k.length;W<Z;W++){var tt=k[W],_=tt.localXOrigin,st=tt.localYOrigin;tt.localX=_+(st>M?b:-b),tt.localY=st+(_>S?D:-D)}};const FW=Phaser.Utils.Objects.IsPlainObject,nu=Phaser.Utils.Objects.GetValue,pS=Phaser.Math.DegToRad,gS=Phaser.Math.RadToDeg;class BW extends DW{constructor(t,i,n,x,S){if(FW(i)){var M=i;i=nu(M,"x",0),n=nu(M,"y",0),x=nu(M,"key",null),S=nu(M,"frame",null)}super(t,i,n,x,S),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,vS(this,this._skewX,this._skewY)}get skewXDeg(){return gS(this._skewX)}set skewXDeg(t){this.skewX=pS(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,vS(this,this._skewX,this._skewY)}get skewYDeg(){return gS(this._skewY)}set skewYDeg(t){this.skewY=pS(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}}const IW=Phaser.Utils.Objects.IsPlainObject,au=Phaser.Utils.Objects.GetValue;class kW extends BW{constructor(t,i,n,x,S){if(IW(i)){var M=i;i=au(M,"x",0),n=au(M,"y",0),x=au(M,"width",32),S=au(M,"height",32)}var b=uC(t,x,S);super(t,i,n,b,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class mS extends gC(kW){get skewState(){return this.isRunning}}K.register("skew",function(e,t){return new mS(e,t)}),$(window,"RexPlugins.UI.Skew",mS),K.register("anchor",function(e,t){return new Kd(e,t)}),$(window,"RexPlugins.UI.Anchor",Kd),K.register("textTyping",function(e,t){return new Yl(e,t)}),$(window,"RexPlugins.UI.TextTyping",Yl),K.register("textPage",function(e,t){return new Xl(e,t)}),$(window,"RexPlugins.UI.TextPage",Xl);var ra=void 0,GW=function(e){e!==ra&&(ra!==void 0&&ra.close(),ra=e)},zW=function(e){e===ra&&(ra=void 0)};const Cs=Phaser.Utils.Objects.GetValue,NW=Phaser.Utils.Objects.Clone;var VW=function(e,t){t===void 0&&(t={}),t=NW(t);var i=e.scene,n=e.style,x=Cs(t,"backgroundColor",n.backgroundColor);x===null&&(x="transparent"),t.text=Cs(t,"text",e.text),t.fontFamily=Cs(t,"fontFamily",n.fontFamily),t.fontSize=Cs(t,"fontSize",n.fontSize),t.color=Cs(t,"color",n.color),t.backgroundColor=x,t.direction=Cs(t,"rtl",n.rtl)?"rtl":"ltr",t.align=Cs(t,"align",WW(n)),t.direction==="rtl"&&Uf(e)&&(t.align="right");var S=e.padding;S.left>0&&(t.paddingLeft=`${S.left}px`),S.right>0&&(t.paddingRight=`${S.right}px`),n.backgroundCornerRadius&&(t.borderRadius=Cs(t,"borderRadius",`${n.backgroundCornerRadius}px`));var M=new ol(i,e.x,e.y,Cs(t,"width",e.width),Cs(t,"height",e.height),t);M.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var b=e.parentContainer;return b?b.add(M):i.add.existing(M),M},WW=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},UW=function(e,t,i){return e.time.delayedCall(0,t,[],i)};const tn=Phaser.Utils.Objects.GetValue,XW=Phaser.Utils.Objects.Merge;var YW=function(e,t){e===void 0&&(e={}),e=XW(e,this.openConfig),GW(this),Hi(e)&&(t=e,e=void 0);var i=tn(e,"inputType",void 0);i===void 0&&(i=tn(e,"type","text")),t===void 0&&(t=tn(e,"onClose",void 0));var n=tn(e,"onCreate",void 0),x=tn(e,"onOpen",void 0),S=tn(e,"onTextChanged",void 0);return this.inputText=VW(this.parent,e),n&&n(this.parent,this.inputText),this.inputText.on("textchange",function(M){var b=M.text;S?S(this.parent,b):this.parent.text=b},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,tn(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=UW(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),x&&x(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},HW=function(){return zW(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},$W={open:YW,close:HW};const KW=Phaser.Utils.Objects.GetValue;class hu extends xe{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var n=KW(i,"clickEnable",!0);n&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(hu.prototype,$W);var ZW=function(e,t,i){return e._edit||(e._edit=new hu(e,{clickEnable:!1})),e._edit.open(t,i),e._edit};K.register("textEdit",function(e,t){return new hu(e,t)}),$(window,"RexPlugins.UI.TextEdit",hu),K.register("layerManager",function(e){return new qh(this.scene,e)}),$(window,"RexPlugins.UI.LayerManager",qh);class xS extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new K(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,i,n,x){return t.visible?os(t,i,n,x):!1}get viewport(){return Sn(this.scene,this.scene.cameras.main,!0)}}var JW={getParentSizer:mi,getTopmostSizer:m0,removeFromParent:Kr,hide:hr,show:ar,isShown:qd,confirmAction:gy,edit:ZW,wrapExpandText:ul,fontSizeExpandText:fl,fontSizeResize:dl,setFontSizeToFitWidth:dl,waitEvent:ao,waitComplete:Ke,delayPromise:ox,setChildrenInteractive:jo,fadeIn:Oo,fadeOutDestroy:Do,easeMoveTo:$0,easeMoveFrom:K0,modal:rf,modalPromise:mF,modalClose:sm,requestDrag:WC,openFileChooser:ux};return Object.assign(xS.prototype,JW),xS})})($S);var _W=$S.exports;const tU=YS(_W),eU=[{key:"anemo-fragment",path:"assets/images/cards/coin/anemo-fragment.webp"},{key:"anemo-resonance",path:"assets/images/cards/coin/anemo-resonance.webp"},{key:"cryo-fragment",path:"assets/images/cards/coin/cryo-fragment.webp"},{key:"cryo-resonance",path:"assets/images/cards/coin/cryo-resonance.webp"},{key:"dendro-fragment",path:"assets/images/cards/coin/dendro-fragment.webp"},{key:"dendro-resonance",path:"assets/images/cards/coin/dendro-resonance.webp"},{key:"electro-fragment",path:"assets/images/cards/coin/electro-fragment.webp"},{key:"electro-resonance",path:"assets/images/cards/coin/electro-resonance.webp"},{key:"geo-fragment",path:"assets/images/cards/coin/geo-fragment.webp"},{key:"geo-resonance",path:"assets/images/cards/coin/geo-resonance.webp"},{key:"hydro-fragment",path:"assets/images/cards/coin/hydro-fragment.webp"},{key:"hydro-resonance",path:"assets/images/cards/coin/hydro-resonance.webp"},{key:"pyro-fragment",path:"assets/images/cards/coin/pyro-fragment.webp"},{key:"pyro-resonance",path:"assets/images/cards/coin/pyro-resonance.webp"}],nv=[{key:"eula-sprite",path:"assets/images/cards/character/eula-sprite.webp"},{key:"furina-sprite",path:"assets/images/cards/character/furina-sprite.webp"},{key:"mavuika-sprite",path:"assets/images/cards/character/mavuika-sprite.webp"},{key:"nahida-sprite",path:"assets/images/cards/character/nahida-sprite.webp"},{key:"raiden-sprite",path:"assets/images/cards/character/raiden-sprite.webp"},{key:"venti-sprite",path:"assets/images/cards/character/venti-sprite.webp"},{key:"zhongli-sprite",path:"assets/images/cards/character/zhongli-sprite.webp"},{key:"eula",path:"assets/images/cards/character/eula.webp"},{key:"furina",path:"assets/images/cards/character/furina.webp"},{key:"mavuika",path:"assets/images/cards/character/mavuika.webp"},{key:"nahida",path:"assets/images/cards/character/nahida.webp"},{key:"raiden",path:"assets/images/cards/character/raiden.webp"},{key:"venti",path:"assets/images/cards/character/venti.webp"},{key:"zhongli",path:"assets/images/cards/character/zhongli.webp"}],iU=[{key:"sword-steampunk",path:"assets/images/cards/weapon/sword/steampunk.webp"},{key:"sword-forest",path:"assets/images/cards/weapon/sword/forest.webp"},{key:"sword-skyward",path:"assets/images/cards/weapon/sword/skyward.webp"},{key:"sword-sacrificial",path:"assets/images/cards/weapon/sword/sacrificial.webp"},{key:"sword-traveler",path:"assets/images/cards/weapon/sword/traveler.webp"},{key:"sword-splendor",path:"assets/images/cards/weapon/sword/splendor.webp"}],sU=[{key:"catalyst-steampunk",path:"assets/images/cards/weapon/catalyst/steampunk.webp"},{key:"catalyst-forest",path:"assets/images/cards/weapon/catalyst/forest.webp"},{key:"catalyst-skyward",path:"assets/images/cards/weapon/catalyst/skyward.webp"},{key:"catalyst-sacrificial",path:"assets/images/cards/weapon/catalyst/sacrificial.webp"},{key:"catalyst-dreams",path:"assets/images/cards/weapon/catalyst/dreams.webp"},{key:"catalyst-magic-guide",path:"assets/images/cards/weapon/catalyst/magic-guide.webp"}],rU=[{key:"anemo-samachurl",path:"assets/images/cards/enemy/hilichurl/anemo-samachurl.webp"},{key:"electro-samachurl",path:"assets/images/cards/enemy/hilichurl/electro-samachurl.webp"},{key:"hydro-samachurl",path:"assets/images/cards/enemy/hilichurl/hydro-samachurl.webp"},{key:"dendro-samachurl",path:"assets/images/cards/enemy/hilichurl/dendro-samachurl.webp"},{key:"geo-samachurl",path:"assets/images/cards/enemy/hilichurl/geo-samachurl.webp"},{key:"shooter",path:"assets/images/cards/enemy/hilichurl/shooter.webp"},{key:"electro-shooter",path:"assets/images/cards/enemy/hilichurl/electro-shooter.webp"},{key:"cryo-shooter",path:"assets/images/cards/enemy/hilichurl/cryo-shooter.webp"},{key:"crackling",path:"assets/images/cards/enemy/hilichurl/crackling.webp"},{key:"blazing",path:"assets/images/cards/enemy/hilichurl/blazing.webp"},{key:"berserker",path:"assets/images/cards/enemy/hilichurl/berserker.webp"},{key:"fighter",path:"assets/images/cards/enemy/hilichurl/fighter.webp"},{key:"ice-shieldwall",path:"assets/images/cards/enemy/hilichurl/ice-shieldwall.webp"},{key:"rock-shieldwall",path:"assets/images/cards/enemy/hilichurl/rock-shieldwall.webp"},{key:"wooden-shieldwall",path:"assets/images/cards/enemy/hilichurl/wooden-shieldwall.webp"},{key:"lawachurl",path:"assets/images/cards/enemy/hilichurl/lawachurl.webp"},{key:"hilistray-water",path:"assets/images/cards/enemy/hilichurl/hilistray-water.webp"}],nU=[{key:"slime-electro",path:"assets/images/cards/enemy/slime/electro.webp"},{key:"slime-cryo",path:"assets/images/cards/enemy/slime/cryo.webp"},{key:"slime-hydro",path:"assets/images/cards/enemy/slime/hydro.webp"},{key:"slime-large-hydro",path:"assets/images/cards/enemy/slime/large-hydro.webp"},{key:"slime-large-cryo",path:"assets/images/cards/enemy/slime/large-cryo.webp"},{key:"hydro-phantasm",path:"assets/images/cards/enemy/slime/hydro-phantasm.webp"}],aU=[{key:"macarons",path:"assets/images/cards/food/macarons.webp"},{key:"mystique-soup",path:"assets/images/cards/food/mystique-soup.webp"},{key:"pizza",path:"assets/images/cards/food/pizza.webp"},{key:"roast-chicken",path:"assets/images/cards/food/roast-chicken.webp"},{key:"life-essence",path:"assets/images/cards/food/life-essence.webp"}],hU=[{key:"breathe-fire",path:"assets/images/cards/trap/breathe-fire.webp"},{key:"quicksand",path:"assets/images/cards/trap/quicksand.webp"},{key:"abyss-call",path:"assets/images/cards/trap/abyss-call.webp"}],oU=[{key:"bribery",path:"assets/images/cards/treasure/bribery.webp"},{key:"gold-mine",path:"assets/images/cards/treasure/gold-mine.webp"},{key:"chest",path:"assets/images/cards/treasure/chest.webp"}],lU=[{key:"explosive",path:"assets/images/cards/bomb/explosive.webp"}],GS=[{key:"empty",path:"assets/images/cards/empty.webp"}],zS=[{key:"equipment-slot",path:"assets/images/ui/equipment-slot.webp"},{key:"black-hole",path:"assets/images/item/black-hole.webp"},{key:"catalyst",path:"assets/images/item/catalyst.webp"},{key:"claw",path:"assets/images/item/claw.webp"},{key:"cooldown",path:"assets/images/item/cooldown.webp"},{key:"corruption",path:"assets/images/item/corruption.webp"},{key:"healing-potion",path:"assets/images/item/healing-potion.webp"},{key:"refinement",path:"assets/images/item/refinement.webp"},{key:"repair",path:"assets/images/item/repair.webp"},{key:"seasoning",path:"assets/images/item/seasoning.webp"},{key:"sword",path:"assets/images/item/sword.webp"},{key:"tax-waiver",path:"assets/images/item/tax-waiver.webp"},{key:"toxic",path:"assets/images/item/toxic.webp"}],NS=[{key:"element-pyro",path:"assets/images/element/pyro.webp"},{key:"element-hydro",path:"assets/images/element/hydro.webp"},{key:"element-electro",path:"assets/images/element/electro.webp"},{key:"element-cryo",path:"assets/images/element/cryo.webp"},{key:"element-dendro",path:"assets/images/element/dendro.webp"},{key:"element-anemo",path:"assets/images/element/anemo.webp"},{key:"element-geo",path:"assets/images/element/geo.webp"}],uU=[{key:"background",path:"assets/images/ui/background.webp"},{key:"compass",path:"assets/images/ui/compass.webp"},{key:"library",path:"assets/images/ui/library.webp"},{key:"equip",path:"assets/images/ui/equip.webp"}];class bh{constructor(){if(bh.instance)return bh.instance;bh.instance=this,this.scene=null}setScene(V){this.scene=V}preloadSceneAssets(V,K){if(!this.scene){console.warn("AssetManager: Scene chưa được set"),K&&K();return}switch(this.scene.load.on("complete",K),V){case"MenuScene":this.loadImages([...uU,...nv]);break;case"GameScene":this.loadImages(this.getLoadImagesListGameScene());break;case"EquipScene":this.loadImages(zS);break;case"LibraryScene":case"MapScenes":this.loadImages([...nv,...NS,...GS]);break;case"SelectCharacterScene":this.loadImages(NS);break;default:console.warn(`AssetManager: Không tìm thấy scene "${V}"`),K&&K();return}this.scene.load.start()}loadImage(V,K){this.scene.textures.exists(V)?console.log(`AssetManager: ${V} đã tồn tại`):V.endsWith("sprite")?(this.scene.load.spritesheet(V,K,{frameWidth:350,frameHeight:590}),console.log(`AssetManager: Đã load sprite sheet ${V} từ ${K}`)):(this.scene.load.image(V,K),console.log(`AssetManager: Đã load image ${V} từ ${K}`))}loadImages(V){V.forEach(K=>this.loadImage(K.key,K.path))}loadAudio(V,K){this.scene.cache.audio.exists(V)||(this.scene.load.audio(V,K),console.log(`AssetManager: Đã load audio ${V} từ ${K}`))}loadAudios(V){V.forEach(K=>this.loadAudio(K.key,K.path))}getLoadImagesListGameScene(){let V=[];return V.push(...zS),V.push(...eU),V.push(...nv),V.push(...iU),V.push(...sU),V.push(...rU),V.push(...nU),V.push(...aU),V.push(...hU),V.push(...oU),V.push(...lU),V.push(...GS),V}}const VS=new bh;class dU extends he.Scene{constructor(){super({key:"LoadingScene"})}init(V){const{targetScene:K,dataTargetScene:ht}=V||{};this.targetScene=K||"MenuScene",this.dataTargetScene=ht||{}}preload(){}create(){const{width:V,height:K}=this.scale;this.add.rectangle(V/2,K/2,V,K,9852778);const ht=this.add.text(V/2-120,K*.5,"⏳",{fontSize:"64px",fontFamily:"Arial, sans-serif"}).setOrigin(.5),ot=this.add.text(V/2-60,K*.5-28,"loading . . .",{fontSize:"48px",fontWeight:"bold",stroke:"#000000ff",fill:"#ecf0f1",fontFamily:"Arial, sans-serif"}).setOrigin(0),pt=this.add.text(V/2,K*.6,"▱▱▱▱▱▱▱▱▱▱",{fontSize:"48px",fontFamily:"Arial, sans-serif",fill:"#622945"}).setOrigin(.5);this.tweens.add({targets:ht,rotation:Math.PI*2,duration:1500,repeat:-1,repeatDelay:1500,ease:"Linear"});let C=0,A=0;this.time.addEvent({delay:1e3,callback:()=>{if(A<9){A++;const g="▰".repeat(A),y="▱".repeat(10-A);pt.setText(g+y)}C=(C+1)%4;const s=".".repeat(C);ot.setText(`loading ${s}`)},loop:!0}),VS.setScene(this),VS.preloadSceneAssets(this.targetScene,()=>{this.scene.start(this.targetScene,this.dataTargetScene)})}}class fU{constructor(){Xs(this,"MOVEMENT_TABLE",{0:{3:{first:1,second:2},1:{first:3,second:6}},2:{5:{first:1,second:0},1:{first:5,second:8}},6:{3:{first:7,second:8},7:{first:3,second:0}},8:{5:{first:7,second:6},7:{first:5,second:2}},4:{1:{first:7,second:null},3:{first:5,second:null},5:{first:3,second:null},7:{first:1,second:null}},5:{2:{first:8,second:null},8:{first:2,second:null},4:{first:2,second:null}},3:{0:{first:6,second:null},4:{first:6,second:null},6:{first:0,second:null}},1:{0:{first:2,second:null},2:{first:0,second:null},4:{first:0,second:null}},7:{6:{first:8,second:null},4:{first:8,second:null},8:{first:6,second:null}}})}isValidMove(V,K){if(V===K)return!1;const ht={row:Math.floor(V/3),col:V%3},ot={row:Math.floor(K/3),col:K%3},pt=Math.abs(ht.row-ot.row),C=Math.abs(ht.col-ot.col);return pt===1&&C===0||pt===0&&C===1}calculateMovement(V,K){const{first:ht,second:ot}=this.MOVEMENT_TABLE[V][K]||{first:null,second:null},pt=[];return pt.push({from:V,to:K}),pt.push({from:ht,to:V}),ot!==null&&pt.push({from:ot,to:ht}),pt}}const cU={enemyBehavior(){return console.log("Enemy card behavior activated"),{type:"enemy",canAttack:!0}}},vU={coinBehavior(){return console.log("Coin card behavior activated"),{value:10,type:"coin"}}},pU={foodBehavior(){return console.log("Food card behavior activated"),console.log("TODO: Implement food consumption logic"),console.log("TODO: Add healing effects"),console.log("TODO: Add buff effects"),console.log("TODO: Add food animation"),{healing:20,type:"food"}},consumeFood(){return console.log("TODO: Food consumed - implement healing logic"),{consumed:!0,healing:20}}};class Ht extends he.GameObjects.Container{constructor(V,K,ht,ot,pt,C,A){super(V,K,ht),this.index=ot,this.name=pt,this.nameId=C,this.type=A,this.pressStartTime=0,this.cardInfoDialog=null,A==="enemy"?Object.assign(this,cU):A==="coin"?Object.assign(this,vU):A==="food"&&Object.assign(this,pU)}createCard(){this.cardImage=this.scene.add.image(0,0,this.nameId),this.cardImage.setDisplaySize(160,274.3),this.border=this.scene.add.graphics(),this.border.fillStyle(16777215,1),this.border.lineStyle(2,16777215,1),this.border.fillRoundedRect(-82,-139,164,278.3,20),this.border.strokeRoundedRect(-82,-139,164,278.3,20),this.add([this.border,this.cardImage]),this.addDisplayHUD(),this.setInteractive(new he.Geom.Rectangle(-80,-137,160,274.3),he.Geom.Rectangle.Contains),this.on("pointerdown",()=>this.onCardPointerDown()),this.on("pointerup",()=>this.onCardPointerUp()),this.on("pointerover",()=>this.onCardHover()),this.on("pointerout",()=>this.onCardOut())}addDisplayHUD(){}onCardPointerDown(){this.scene.gameManager.animationManager.isProcessing||(this.pressStartTime=Date.now(),this.isLongPressed=!1)}onCardPointerUp(){if(this.scene.gameManager.animationManager.isProcessing){this.pressStartTime=0,this.isLongPressed=!1;return}if(this.pressStartTime===0)return;const V=Date.now()-this.pressStartTime;!this.isLongPressed&&V>0&&(V<1500?this.onCardClick():(this.isLongPressed=!0,this.onLongPress())),this.pressStartTime=0}onLongPress(){this.showCardInfoDialog()}showCardInfoDialog(){this.cardInfoDialog&&this.cardInfoDialog.destroy();const{width:V,height:K}=this.scene.scale;this.cardInfoDialog=this.scene.add.container(V/2,K/2),this.cardInfoDialog.setDepth(120);const ht=this.scene.add.rectangle(-V/2,-K/2,V,K,0,.7);ht.setOrigin(0,0),ht.setInteractive();const ot=this.scene.add.graphics();ot.fillStyle(0,.3),ot.fillRoundedRect(-195,-145,400,300,20);const pt=this.scene.add.graphics();pt.fillStyle(8388736,.95),pt.lineStyle(3,16724838),pt.fillRoundedRect(-200,-150,400,300,20),pt.strokeRoundedRect(-200,-150,400,300,20);const C=this.scene.add.image(0,0,this.nameId);C.setDisplaySize(80,137.14);const A=this.scene.add.text(0,-120,this.name,{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial"});A.setOrigin(.5);const s=this.scene.add.text(0,-100,`Type: ${this.type}`,{fontSize:"16px",fill:"#ffb3d9",fontFamily:"Arial"});s.setOrigin(.5);const g=this.getDescription(),y=this.scene.add.text(0,100,g,{fontSize:"14px",fill:"#ecf0f1",fontFamily:"Arial",wordWrap:{width:300},align:"center"});y.setOrigin(.5);const f=this.scene.add.graphics();f.fillStyle(16724838),f.fillRoundedRect(-30,-25,60,50,8),f.setPosition(0,190);const l=this.scene.add.text(0,190,"X",{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial"});l.setOrigin(.5),f.setInteractive(new he.Geom.Rectangle(-30,-25,60,50),he.Geom.Rectangle.Contains),f.on("pointerover",()=>{f.clear(),f.setScale(1.2),f.fillStyle(16739229),f.fillRoundedRect(-30,-25,60,50,8)}),f.on("pointerout",()=>{f.clear(),f.setScale(1),f.fillStyle(16724838),f.fillRoundedRect(-30,-25,60,50,8)}),f.on("pointerdown",()=>{this.hideCardInfoDialog()}),this.cardInfoDialog.add([ht,ot,pt,C,A,s,y,f,l]),this.scene.add.existing(this.cardInfoDialog),this.escKey=this.scene.input.keyboard.addKey("ESC"),this.escKey.on("down",()=>{this.hideCardInfoDialog()})}hideCardInfoDialog(){this.cardInfoDialog&&(this.cardInfoDialog.destroy(),this.cardInfoDialog=null),this.escKey&&(this.escKey.off("down"),this.escKey=null),this.isLongPressed=!1,this.pressStartTime=0,console.log("Card: Dialog đã đóng, reset trạng thái long press")}getDescription(){return this.description||"Không có mô tả cho thẻ này."}onCardClick(){this.scene.gameManager.moveCharacter(this.index)}onCardHover(){this.setScale(1.05)}onCardOut(){this.setScale(1)}createDisplay(V,K){const{fillColor:ht=65280,text:ot="0"}=V||{};try{const pt=this.scene.add.graphics();pt.fillStyle(ht),pt.fillCircle(0,0,18);const C=this.scene.add.text(0,0,ot.toString(),{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"});C.setOrigin(.5);const A=this.scene.add.container(0,0,[pt,C]);return K==="leftTop"?A.setPosition(-57,-113):K==="rightTop"?A.setPosition(57,-113):K==="rightBottom"?A.setPosition(57,113):K==="leftBottom"&&A.setPosition(-57,113),this.add(A),{container:A,text:C,updateText:s=>{C&&C.setText&&C.setText(s.toString())},updateColor:s=>{pt&&pt.fillStyle&&(pt.clear(),pt.fillStyle(s),pt.fillCircle(0,0,radius))},destroy:()=>{A&&A.destroy&&A.destroy()}}}catch(pt){return console.error("Card: Lỗi khi tạo circular display:",pt),null}}GetRandom(V,K){return Math.floor(Math.random()*(K-V+1))+V}CardEffect(){console.log(`Card ${this.name} (${this.nameId}) đang chạy hiệu ứng...`)}ProgressDestroy(){this.scene.tweens.add({targets:this,alpha:0,scaleX:.5,scaleY:.5,duration:300,ease:"Power2",onComplete:()=>{this.destroy()}})}processCreation(){this.setAlpha(0),this.setScale(.5),this.scene.tweens.add({targets:this,alpha:1,scaleX:1,scaleY:1,duration:400,ease:"Back.easeOut",onComplete:()=>{}})}}class WS extends Ht{constructor(V,K,ht,ot,pt){super(V,K,ht,ot,`Mảnh Vỡ Nguyên Tố ${pt.charAt(0).toUpperCase()+pt.slice(1).toLowerCase()}`,`${pt}-fragment`,"coin"),this.score=this.GetRandom(1,9),this.rarity=2,this.description=`Mảnh Vỡ Nguyên Tố ${pt.charAt(0).toUpperCase()+pt.slice(1).toLowerCase()} nhặt có thể đổi Xu.`,this.createCard(),V.add.existing(this)}addDisplayHUD(){this.coinDisplay=this.createDisplay({fillColor:16737792,text:this.score.toString()},"rightBottom")}createScoreDisplay(){this.scoreBackground=this.scene.add.graphics(),this.scoreBackground.fillStyle(11897600),this.scoreBackground.fillCircle(0,0,18),this.scoreText=this.scene.add.text(0,0,this.score.toString(),{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.scoreText.setOrigin(.5),this.scoreDisplay=this.scene.add.container(0,0,[this.scoreBackground,this.scoreText]),this.scoreDisplay.setPosition(57,113),this.add(this.scoreDisplay)}updateScore(V){this.score=V,this.scoreText&&this.scoreText.setText(this.score.toString())}CardEffect(){return console.log("Coin ---------------------- đang chạy hiệu ứng..."),this.scene.gameManager.addCoin(this.score),!1}onLongPress(){console.log("=== COIN ITEM INFO ==="),console.log("Score:",this.score),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=========================="),super.onLongPress()}}const rn=class rn extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Eula","eula","character"),this.hp=rn.DEFAULT.hp,this.element=rn.DEFAULT.element,this.weapon=null,this.rarity=1,this.description=rn.DEFAULT.description,this.createCard(),V.add.existing(this)}addDisplayHUD(){this.hpDisplay=this.createDisplay({fillColor:16711680,text:this.hp.toString()},"rightTop")}get maxHP(){return rn.DEFAULT.hp}takeDamage(V){this.hp=Math.max(0,this.hp-V),this.hpText.setText(this.hp.toString()),this.hp<=0&&console.log("Eula is defeated!")}heal(V){this.hp=Math.min(this.maxHP,this.hp+V),this.hpText.setText(this.hp.toString())}onCardClick(){super.onCardClick()}onLongPress(){console.log("=== EULA CHARACTER INFO ==="),console.log("HP:",`${this.hp}/${this.maxHP}`),console.log("Element:",this.element),console.log("Weapon:",this.weapon||"None"),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=========================="),super.onLongPress()}};Xs(rn,"DEFAULT",{id:"eula",name:"Eula",description:"Eula – nữ thần của thủy quyền, đại diện cho sự cân bằng giữa lực lượng và tình cảm. Bên ngoài là vị thần đầy sức mạnh, nhưng bên trong là người phụ nữ đầy tình cảm và nhạy cảm.",hp:10,element:"cryo"});let sn=rn;const nn=class nn extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Furina","furina","character"),this.hp=nn.DEFAULT.hp,this.element=nn.DEFAULT.element,this.weapon=null,this.rarity=1,this.description=nn.DEFAULT.description,this.createCard(),V.add.existing(this)}addDisplayHUD(){this.hpDisplay=this.createDisplay({fillColor:26367,text:this.hp.toString()},"rightTop")}createHpDisplay(){this.hpBackground=this.scene.add.graphics(),this.hpBackground.fillStyle(26367),this.hpBackground.fillCircle(0,0,18),this.hpText=this.scene.add.text(0,0,this.hp.toString(),{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.hpText.setOrigin(.5),this.hpDisplay=this.scene.add.container(0,0,[this.hpBackground,this.hpText]),this.hpDisplay.setPosition(57,-113),this.add(this.hpDisplay)}get maxHP(){return nn.DEFAULT.hp}takeDamage(V){this.hp=Math.max(0,this.hp-V),this.hpText.setText(this.hp.toString()),this.hp<=0&&console.log("Furina is defeated!")}heal(V){this.hp=Math.min(this.maxHP,this.hp+V),this.hpText.setText(this.hp.toString())}onCardClick(){super.onCardClick()}onLongPress(){console.log("=== FURINA CHARACTER INFO ==="),console.log("HP:",`${this.hp}/${this.maxHP}`),console.log("Element:",this.element),console.log("Weapon:",this.weapon||"None"),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================="),super.onLongPress()}};Xs(nn,"DEFAULT",{id:"furina",name:"Furina",description:"Furina – nữ thần của thủy quyền, đại diện cho sự cân bằng giữa lực lượng và tình cảm. Bên ngoài là vị thần đầy sức mạnh, nhưng bên trong là người phụ nữ đầy tình cảm và nhạy cảm.",hp:12,element:"hydro"});let hv=nn;const an=class an extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Mavuika","mavuika","character"),this.hp=an.DEFAULT.hp,this.element=an.DEFAULT.element,this.weapon=null,this.rarity=1,this.description=an.DEFAULT.description,this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHpDisplay()}createHpDisplay(){this.hpBackground=this.scene.add.graphics(),this.hpBackground.fillStyle(16737792),this.hpBackground.fillCircle(0,0,18),this.hpText=this.scene.add.text(0,0,this.hp.toString(),{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.hpText.setOrigin(.5),this.hpDisplay=this.scene.add.container(0,0,[this.hpBackground,this.hpText]),this.hpDisplay.setPosition(57,-113),this.add(this.hpDisplay)}get maxHP(){return an.DEFAULT.hp}takeDamage(V){this.hp=Math.max(0,this.hp-V),this.hpText.setText(this.hp.toString()),this.hp<=0&&console.log("Mavuika is defeated!")}heal(V){this.hp=Math.min(this.maxHP,this.hp+V),this.hpText.setText(this.hp.toString())}onCardClick(){super.onCardClick()}onLongPress(){console.log("=== MAVUIKA CHARACTER INFO ==="),console.log("HP:",`${this.hp}/${this.maxHP}`),console.log("Element:",this.element),console.log("Weapon:",this.weapon||"None"),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}};Xs(an,"DEFAULT",{id:"mavuika",name:"Mavuika",description:"Mavuika – Hỏa Thần Natlan, biểu tượng của sức mạnh và ý chí bất khuất. Ngọn lửa trong nàng cháy rực như tinh thần chiến binh, soi sáng con đường tự do và khát vọng vĩnh cửu.",hp:11,element:"pyro"});let ov=an;const hn=class hn extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Nahida","nahida","character"),this.hp=hn.DEFAULT.hp,this.element=hn.DEFAULT.element,this.weapon=null,this.rarity=1,this.description=hn.DEFAULT.description,this.createCard(),V.add.existing(this)}addDisplayHUD(){this.hpDisplay=this.createDisplay({fillColor:65280,text:this.hp.toString()},"leftTop")}createHpDisplay(){this.hpBackground=this.scene.add.graphics(),this.hpBackground.fillStyle(65280),this.hpBackground.fillCircle(0,0,18),this.hpText=this.scene.add.text(0,0,this.hp.toString(),{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.hpText.setOrigin(.5),this.hpDisplay=this.scene.add.container(0,0,[this.hpBackground,this.hpText]),this.hpDisplay.setPosition(57,-113),this.add(this.hpDisplay)}get maxHP(){return hn.DEFAULT.hp}takeDamage(V){this.hp=Math.max(0,this.hp-V),this.hpText.setText(this.hp.toString()),this.hp<=0&&console.log("Nahida is defeated!")}heal(V){this.hp=Math.min(this.maxHP,this.hp+V),this.hpText.setText(this.hp.toString())}onCardClick(){super.onCardClick()}onLongPress(){console.log("=== NAHIDA CHARACTER INFO ==="),console.log("HP:",`${this.hp}/${this.maxHP}`),console.log("Element:",this.element),console.log("Weapon:",this.weapon||"None"),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}};Xs(hn,"DEFAULT",{id:"nahida",name:"Nahida",description:"Nahida – Tiểu Vương Kusanali, vị Thảo Thần bé nhỏ của Sumeru. Với trái tim thuần khiết và trí tuệ hiền hòa, nàng mang khát vọng dẫn dắt nhân loại đến sự khai sáng và tự do.",hp:9,element:"dendro"});let lv=hn;const on=class on extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Raiden","raiden","character"),this.hp=on.DEFAULT.hp,this.element=on.DEFAULT.element,this.weapon=null,this.rarity=1,this.description=on.DEFAULT.description,this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHpDisplay()}createHpDisplay(){this.hpBackground=this.scene.add.graphics(),this.hpBackground.fillStyle(10040319),this.hpBackground.fillCircle(0,0,18),this.hpText=this.scene.add.text(0,0,this.hp.toString(),{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.hpText.setOrigin(.5),this.hpDisplay=this.scene.add.container(0,0,[this.hpBackground,this.hpText]),this.hpDisplay.setPosition(57,-113),this.add(this.hpDisplay)}get maxHP(){return on.DEFAULT.hp}takeDamage(V){this.hp=Math.max(0,this.hp-V),this.hpText.setText(this.hp.toString()),this.hp<=0&&console.log("Raiden is defeated!")}heal(V){this.hp=Math.min(this.maxHP,this.hp+V),this.hpText.setText(this.hp.toString())}onCardClick(){super.onCardClick()}onLongPress(){console.log("=== RAIDEN CHARACTER INFO ==="),console.log("HP:",`${this.hp}/${this.maxHP}`),console.log("Element:",this.element),console.log("Weapon:",this.weapon||"None"),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================="),super.onLongPress()}};Xs(on,"DEFAULT",{id:"raiden",name:"Raiden",description:"Raiden Shogun – vĩnh hằng thống trị Inazuma, kiếm thần uy nghiêm với quyết tâm bất diệt. Bên ngoài lạnh lùng nhưng ẩn sâu là khát vọng giữ trọn lời hứa và bảo vệ thần dân.",hp:10,element:"electro"});let uv=on;const ln=class ln extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Venti","venti","character"),this.hp=ln.DEFAULT.hp,this.element=ln.DEFAULT.element,this.weapon=null,this.rarity=1,this.description=ln.DEFAULT.description,this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHpDisplay()}createHpDisplay(){this.hpBackground=this.scene.add.graphics(),this.hpBackground.fillStyle(52479),this.hpBackground.fillCircle(0,0,18),this.hpText=this.scene.add.text(0,0,this.hp.toString(),{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.hpText.setOrigin(.5),this.hpDisplay=this.scene.add.container(0,0,[this.hpBackground,this.hpText]),this.hpDisplay.setPosition(57,-113),this.add(this.hpDisplay)}get maxHP(){return ln.DEFAULT.hp}takeDamage(V){this.hp=Math.max(0,this.hp-V),this.hpText.setText(this.hp.toString()),this.hp<=0&&console.log("Venti is defeated!")}heal(V){this.hp=Math.min(this.maxHP,this.hp+V),this.hpText.setText(this.hp.toString())}onCardClick(){super.onCardClick()}onLongPress(){console.log("=== VENTI CHARACTER INFO ==="),console.log("HP:",`${this.hp}/${this.maxHP}`),console.log("Element:",this.element),console.log("Weapon:",this.weapon||"None"),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}};Xs(ln,"DEFAULT",{id:"venti",name:"Venti",description:"Venti – nhà thơ du ca tự do, chính là Phong Thần Mondstadt. Dáng vẻ nghịch ngợm và phóng khoáng, nhưng bên trong là vị thần nhân từ luôn dùng âm nhạc để xoa dịu lòng người.",hp:8,element:"anemo"});let dv=ln;const un=class un extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Zhongli","zhongli","character"),this.hp=un.DEFAULT.hp,this.element=un.DEFAULT.element,this.weapon=null,this.rarity=1,this.description=un.DEFAULT.description,this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHpDisplay()}createHpDisplay(){this.hpBackground=this.scene.add.graphics(),this.hpBackground.fillStyle(16763904),this.hpBackground.fillCircle(0,0,18),this.hpText=this.scene.add.text(0,0,this.hp.toString(),{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.hpText.setOrigin(.5),this.hpDisplay=this.scene.add.container(0,0,[this.hpBackground,this.hpText]),this.hpDisplay.setPosition(57,-113),this.add(this.hpDisplay)}get maxHP(){return un.DEFAULT.hp}takeDamage(V){this.hp=Math.max(0,this.hp-V),this.hpText.setText(this.hp.toString()),this.hp<=0&&console.log("Zhongli is defeated!")}heal(V){this.hp=Math.min(this.maxHP,this.hp+V),this.hpText.setText(this.hp.toString())}onCardClick(){super.onCardClick()}onLongPress(){console.log("=== ZHONGLI CHARACTER INFO ==="),console.log("HP:",`${this.hp}/${this.maxHP}`),console.log("Element:",this.element),console.log("Weapon:",this.weapon||"None"),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}};Xs(un,"DEFAULT",{id:"zhongli",name:"Zhongli",description:"Zhongli – hiền giả tao nhã, thực chất là Nham Thần Liyue. Với trí tuệ hàng ngàn năm và phong thái điềm tĩnh, ông là hiện thân của vững bền, mang gánh nặng lịch sử nặng nề.",hp:10,element:"geo"});let fv=un;class gU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Sword Steampunk","sword-steampunk","weapon"),this.attackBoost=this.GetRandom(8,15),this.durability=this.GetRandom(50,80),this.rarity=3,this.description="Sword Steampunk - Kiếm công nghệ Steampunk tăng sức mạnh tấn công.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(26316),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(V){this.attackBoost=V,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateDurability(V){this.durability=Math.max(0,V),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=20&&(this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Steampunk đã bị vỡ!"),this.destroy()}CardEffect(){return console.log("Sword Steampunk ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Steampunk được trang bị, tăng ${this.attackBoost} tấn công!`)),!1}onLongPress(){console.log("=== SWORD STEAMPUNK INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("===================================="),super.onLongPress()}}class mU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Sword Forest","sword-forest","weapon"),this.attackBoost=this.GetRandom(6,12),this.defenseBoost=this.GetRandom(3,8),this.durability=this.GetRandom(60,90),this.rarity=2,this.description="Sword Forest - Kiếm rừng tự nhiên tăng sức mạnh và khả năng phòng thủ.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createDefenseBoostDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createDefenseBoostDisplay(){this.defenseBoostBackground=this.scene.add.graphics(),this.defenseBoostBackground.fillStyle(65280),this.defenseBoostBackground.fillCircle(0,0,15),this.defenseBoostText=this.scene.add.text(0,0,this.defenseBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.defenseBoostText.setOrigin(.5),this.defenseBoostDisplay=this.scene.add.container(0,0,[this.defenseBoostBackground,this.defenseBoostText]),this.defenseBoostDisplay.setPosition(0,113),this.add(this.defenseBoostDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(26316),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(V){this.attackBoost=V,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateDefenseBoost(V){this.defenseBoost=V,this.defenseBoostText&&this.defenseBoostText.setText(this.defenseBoost.toString())}updateDurability(V){this.durability=Math.max(0,V),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=20&&(this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Forest đã bị vỡ!"),this.destroy()}CardEffect(){return console.log("Sword Forest ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Forest được trang bị, tăng ${this.attackBoost} tấn công và ${this.defenseBoost} phòng thủ!`)),!1}onLongPress(){console.log("=== SWORD FOREST INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Defense Boost:",this.defenseBoost),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class xU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Sword Skyward","sword-skyward","weapon"),this.attackBoost=this.GetRandom(10,18),this.speedBoost=this.GetRandom(5,12),this.durability=this.GetRandom(70,100),this.rarity=4,this.description="Sword Skyward - Kiếm bầu trời thiêng liêng tăng sức mạnh và tốc độ.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createSpeedBoostDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createSpeedBoostDisplay(){this.speedBoostBackground=this.scene.add.graphics(),this.speedBoostBackground.fillStyle(10040319),this.speedBoostBackground.fillCircle(0,0,15),this.speedBoostText=this.scene.add.text(0,0,this.speedBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.speedBoostText.setOrigin(.5),this.speedBoostDisplay=this.scene.add.container(0,0,[this.speedBoostBackground,this.speedBoostText]),this.speedBoostDisplay.setPosition(0,113),this.add(this.speedBoostDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(26316),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(V){this.attackBoost=V,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateSpeedBoost(V){this.speedBoost=V,this.speedBoostText&&this.speedBoostText.setText(this.speedBoost.toString())}updateDurability(V){this.durability=Math.max(0,V),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=20&&(this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Skyward đã bị vỡ!"),this.destroy()}CardEffect(){return console.log("Sword Skyward ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Skyward được trang bị, tăng ${this.attackBoost} tấn công và ${this.speedBoost} tốc độ!`)),!1}onLongPress(){console.log("=== SWORD SKYWARD INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Speed Boost:",this.speedBoost),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("================================"),super.onLongPress()}}class yU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Sword Splendor","sword-splendor","weapon"),this.attackBoost=this.GetRandom(12,20),this.luckBoost=this.GetRandom(8,15),this.durability=this.GetRandom(80,120),this.rarity=4,this.description="Sword Splendor - Kiếm huy hoàng quý giá tăng sức mạnh và may mắn.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createLuckBoostDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createLuckBoostDisplay(){this.luckBoostBackground=this.scene.add.graphics(),this.luckBoostBackground.fillStyle(16766720),this.luckBoostBackground.fillCircle(0,0,15),this.luckBoostText=this.scene.add.text(0,0,this.luckBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.luckBoostText.setOrigin(.5),this.luckBoostDisplay=this.scene.add.container(0,0,[this.luckBoostBackground,this.luckBoostText]),this.luckBoostDisplay.setPosition(0,113),this.add(this.luckBoostDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(26316),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(V){this.attackBoost=V,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateLuckBoost(V){this.luckBoost=V,this.luckBoostText&&this.luckBoostText.setText(this.luckBoost.toString())}updateDurability(V){this.durability=Math.max(0,V),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=20&&(this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Splendor đã bị vỡ!"),this.destroy()}CardEffect(){return console.log("Sword Splendor ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Splendor được trang bị, tăng ${this.attackBoost} tấn công và ${this.luckBoost} may mắn!`)),!1}onLongPress(){console.log("=== SWORD SPLENDOR INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Luck Boost:",this.luckBoost),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=================================="),super.onLongPress()}}class CU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Sword Traveler","sword-traveler","weapon"),this.attackBoost=this.GetRandom(5,10),this.adaptability=this.GetRandom(10,20),this.durability=this.GetRandom(40,70),this.rarity=2,this.description="Sword Traveler - Kiếm lữ khách đa năng tăng sức mạnh và khả năng thích ứng.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createAdaptabilityDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createAdaptabilityDisplay(){this.adaptabilityBackground=this.scene.add.graphics(),this.adaptabilityBackground.fillStyle(52479),this.adaptabilityBackground.fillCircle(0,0,15),this.adaptabilityText=this.scene.add.text(0,0,this.adaptability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.adaptabilityText.setOrigin(.5),this.adaptabilityDisplay=this.scene.add.container(0,0,[this.adaptabilityBackground,this.adaptabilityText]),this.adaptabilityDisplay.setPosition(0,113),this.add(this.adaptabilityDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(26316),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(V){this.attackBoost=V,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateAdaptability(V){this.adaptability=V,this.adaptabilityText&&this.adaptabilityText.setText(this.adaptability.toString())}updateDurability(V){this.durability=Math.max(0,V),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=20&&(this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Traveler đã bị vỡ!"),this.destroy()}CardEffect(){return console.log("Sword Traveler ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Traveler được trang bị, tăng ${this.attackBoost} tấn công và ${this.adaptability} khả năng thích ứng!`)),!1}onLongPress(){console.log("=== SWORD TRAVELER INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Adaptability:",this.adaptability),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=================================="),super.onLongPress()}}class SU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Sword Sacrificial","sword-sacrificial","weapon"),this.attackBoost=this.GetRandom(15,25),this.durability=this.GetRandom(20,40),this.sacrificeBonus=this.GetRandom(5,10),this.rarity=3,this.description="Sword Sacrificial - Kiếm hy sinh mạnh mẽ nhưng độ bền thấp.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createSacrificeBonusDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createSacrificeBonusDisplay(){this.sacrificeBonusBackground=this.scene.add.graphics(),this.sacrificeBonusBackground.fillStyle(16711782),this.sacrificeBonusBackground.fillCircle(0,0,15),this.sacrificeBonusText=this.scene.add.text(0,0,this.sacrificeBonus.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.sacrificeBonusText.setOrigin(.5),this.sacrificeBonusDisplay=this.scene.add.container(0,0,[this.sacrificeBonusBackground,this.sacrificeBonusText]),this.sacrificeBonusDisplay.setPosition(0,113),this.add(this.sacrificeBonusDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(V){this.attackBoost=V,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateSacrificeBonus(V){this.sacrificeBonus=V,this.sacrificeBonusText&&this.sacrificeBonusText.setText(this.sacrificeBonus.toString())}updateDurability(V){this.durability=Math.max(0,V),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=10&&(this.durabilityBackground.fillStyle(10027008),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Sacrificial đã bị vỡ!"),this.destroy()}activateSacrifice(){this.durability>0&&(this.updateDurability(this.durability-this.sacrificeBonus),this.attackBoost+=this.sacrificeBonus,this.updateAttackBoost(this.attackBoost),console.log(`Sword Sacrificial kích hoạt hy sinh, tăng ${this.sacrificeBonus} tấn công!`))}CardEffect(){return console.log("Sword Sacrificial ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Sacrificial được trang bị, tăng ${this.attackBoost} tấn công!`),this.activateSacrifice()),!1}onLongPress(){console.log("=== SWORD SACRIFICIAL INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Sacrifice Bonus:",this.sacrificeBonus),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("====================================="),super.onLongPress()}}class TU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Anemo Samachurl","anemo-samachurl","enemy"),this.health=this.GetRandom(12,20),this.attack=this.GetRandom(2,5),this.defense=this.GetRandom(0,2),this.magicPower=this.GetRandom(4,8),this.rarity=3,this.description="Anemo Samachurl - Kẻ địch caster gió có thể tạo gió và làm chậm người chơi.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createMagicDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createMagicDisplay(){this.magicBackground=this.scene.add.graphics(),this.magicBackground.fillStyle(52479),this.magicBackground.fillCircle(0,0,15),this.magicText=this.scene.add.text(0,0,this.magicPower.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.magicText.setOrigin(.5),this.magicDisplay=this.scene.add.container(0,0,[this.magicBackground,this.magicText]),this.magicDisplay.setPosition(57,-113),this.add(this.magicDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(12,20)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateMagic(V){this.magicPower=V,this.magicText&&this.magicText.setText(this.magicPower.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Anemo Samachurl nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.magicPower+this.GetRandom(-1,2);return V.takeDamage(K),console.log(`Anemo Samachurl tấn công người chơi với ${K} magic damage`),K}return 0}castWindSpell(V){if(V&&this.magicPower>=3){this.updateMagic(this.magicPower-3);const K=this.magicPower*2;return V.takeDamage(K),console.log(`Anemo Samachurl cast Wind Spell với ${K} damage!`),K}return 0}die(){console.log("Anemo Samachurl đã chết!"),this.scene.gameManager.addScore(15),this.destroy()}CardEffect(){return console.log("Anemo Samachurl ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== ANEMO SAMACHURL INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Magic Power:",this.magicPower),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class PU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Electro Samachurl","electro-samachurl","enemy"),this.health=this.GetRandom(12,20),this.attack=this.GetRandom(2,5),this.defense=this.GetRandom(0,2),this.magicPower=this.GetRandom(5,9),this.shockStacks=0,this.rarity=3,this.description="Electro Samachurl - Kẻ địch caster điện có thể gây shock và làm chậm người chơi.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createMagicDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createMagicDisplay(){this.magicBackground=this.scene.add.graphics(),this.magicBackground.fillStyle(10040319),this.magicBackground.fillCircle(0,0,15),this.magicText=this.scene.add.text(0,0,this.magicPower.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.magicText.setOrigin(.5),this.magicDisplay=this.scene.add.container(0,0,[this.magicBackground,this.magicText]),this.magicDisplay.setPosition(57,-113),this.add(this.magicDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(12,20)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateMagic(V){this.magicPower=V,this.magicText&&this.magicText.setText(this.magicPower.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Electro Samachurl nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.magicPower+this.GetRandom(-1,2);return V.takeDamage(K),this.applyShockEffect(V),console.log(`Electro Samachurl tấn công người chơi với ${K} magic damage`),K}return 0}applyShockEffect(V){V&&this.shockStacks<3&&(this.shockStacks++,V.applyShockEffect&&V.applyShockEffect(this.shockStacks,this.magicPower),console.log(`Electro Samachurl gây shock effect level ${this.shockStacks}`))}castChainLightning(V){if(V&&this.magicPower>=4){this.updateMagic(this.magicPower-4);const K=this.magicPower*1.5;return V.takeDamage(K),this.shockStacks=0,this.applyShockEffect(V),console.log(`Electro Samachurl cast Chain Lightning với ${K} damage!`),K}return 0}die(){console.log("Electro Samachurl đã chết!"),this.scene.gameManager.addScore(15),this.destroy()}CardEffect(){return console.log("Electro Samachurl ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== ELECTRO SAMACHURL INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Magic Power:",this.magicPower),console.log("Shock Stacks:",this.shockStacks),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class EU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Dendro Samachurl","dendro-samachurl","enemy"),this.health=this.GetRandom(12,20),this.attack=this.GetRandom(2,5),this.defense=this.GetRandom(0,2),this.magicPower=this.GetRandom(4,8),this.poisonStacks=0,this.plantCount=0,this.rarity=3,this.description="Dendro Samachurl - Kẻ địch caster thảo có thể tạo cây và gây poison.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createMagicDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createMagicDisplay(){this.magicBackground=this.scene.add.graphics(),this.magicBackground.fillStyle(6736947),this.magicBackground.fillCircle(0,0,15),this.magicText=this.scene.add.text(0,0,this.magicPower.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.magicText.setOrigin(.5),this.magicDisplay=this.scene.add.container(0,0,[this.magicBackground,this.magicText]),this.magicDisplay.setPosition(57,-113),this.add(this.magicDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(12,20)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateMagic(V){this.magicPower=V,this.magicText&&this.magicText.setText(this.magicPower.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Dendro Samachurl nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.magicPower+this.GetRandom(-1,2);return V.takeDamage(K),this.applyPoisonEffect(V),console.log(`Dendro Samachurl tấn công người chơi với ${K} magic damage`),K}return 0}applyPoisonEffect(V){V&&this.poisonStacks<3&&(this.poisonStacks++,V.applyPoisonEffect&&V.applyPoisonEffect(this.poisonStacks,this.magicPower),console.log(`Dendro Samachurl gây poison effect level ${this.poisonStacks}`))}createPlant(V){return this.magicPower>=2&&this.plantCount<3?(this.updateMagic(this.magicPower-2),this.plantCount++,console.log(`Dendro Samachurl tạo cây thứ ${this.plantCount}`),!0):!1}castToxicGarden(V){return V&&this.magicPower>=5?(this.updateMagic(this.magicPower-5),this.poisonStacks=3,this.applyPoisonEffect(V),this.createPlant(this.scene),this.createPlant(this.scene),console.log("Dendro Samachurl cast Toxic Garden!"),this.magicPower):0}die(){console.log("Dendro Samachurl đã chết!"),this.scene.gameManager.addScore(15),this.destroy()}CardEffect(){return console.log("Dendro Samachurl ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== DENDRO SAMACHURL INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Magic Power:",this.magicPower),console.log("Poison Stacks:",this.poisonStacks),console.log("Plant Count:",this.plantCount),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class MU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Geo Samachurl","geo-samachurl","enemy"),this.health=this.GetRandom(15,22),this.attack=this.GetRandom(2,5),this.defense=this.GetRandom(1,3),this.magicPower=this.GetRandom(4,8),this.wallCount=0,this.stunChance=.3,this.rarity=3,this.description="Geo Samachurl - Kẻ địch caster địa có thể tạo tường và gây stun.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createMagicDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createMagicDisplay(){this.magicBackground=this.scene.add.graphics(),this.magicBackground.fillStyle(16763904),this.magicBackground.fillCircle(0,0,15),this.magicText=this.scene.add.text(0,0,this.magicPower.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.magicText.setOrigin(.5),this.magicDisplay=this.scene.add.container(0,0,[this.magicBackground,this.magicText]),this.magicDisplay.setPosition(57,-113),this.add(this.magicDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(15,22)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateMagic(V){this.magicPower=V,this.magicText&&this.magicText.setText(this.magicPower.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Geo Samachurl nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.magicPower+this.GetRandom(-1,2);return V.takeDamage(K),Math.random()<this.stunChance&&this.applyStunEffect(V),console.log(`Geo Samachurl tấn công người chơi với ${K} magic damage`),K}return 0}applyStunEffect(V){if(V&&typeof V.applyStunEffect=="function"){const K=this.GetRandom(1,2);V.applyStunEffect(K),console.log(`Geo Samachurl gây stun effect trong ${K} turn!`)}}createWall(V){return this.magicPower>=3&&this.wallCount<2?(this.updateMagic(this.magicPower-3),this.wallCount++,console.log(`Geo Samachurl tạo tường thứ ${this.wallCount}`),!0):!1}castStonePrison(V){return V&&this.magicPower>=6?(this.updateMagic(this.magicPower-6),this.createWall(this.scene),this.createWall(this.scene),this.stunChance=.8,this.applyStunEffect(V),this.stunChance=.3,console.log("Geo Samachurl cast Stone Prison!"),this.magicPower):0}die(){console.log("Geo Samachurl đã chết!"),this.scene.gameManager.addScore(18),this.destroy()}CardEffect(){return console.log("Geo Samachurl ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== GEO SAMACHURL INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Magic Power:",this.magicPower),console.log("Wall Count:",this.wallCount),console.log("Stun Chance:",this.stunChance),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class wU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Hydro Samachurl","hydro-samachurl","enemy"),this.health=this.GetRandom(12,20),this.attack=this.GetRandom(2,5),this.defense=this.GetRandom(0,2),this.magicPower=this.GetRandom(4,8),this.waterPools=0,this.wetStacks=0,this.rarity=3,this.description="Hydro Samachurl - Kẻ địch caster thủy có thể tạo nước và gây wet effect.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createMagicDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createMagicDisplay(){this.magicBackground=this.scene.add.graphics(),this.magicBackground.fillStyle(26316),this.magicBackground.fillCircle(0,0,15),this.magicText=this.scene.add.text(0,0,this.magicPower.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.magicText.setOrigin(.5),this.magicDisplay=this.scene.add.container(0,0,[this.magicBackground,this.magicText]),this.magicDisplay.setPosition(57,-113),this.add(this.magicDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(12,20)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateMagic(V){this.magicPower=V,this.magicText&&this.magicText.setText(this.magicPower.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Hydro Samachurl nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.magicPower+this.GetRandom(-1,2);return V.takeDamage(K),this.applyWetEffect(V),console.log(`Hydro Samachurl tấn công người chơi với ${K} magic damage`),K}return 0}applyWetEffect(V){V&&this.wetStacks<3&&(this.wetStacks++,V.applyWetEffect&&V.applyWetEffect(this.wetStacks,this.magicPower),console.log(`Hydro Samachurl gây wet effect level ${this.wetStacks}`))}createWaterPool(V){return this.magicPower>=2&&this.waterPools<3?(this.updateMagic(this.magicPower-2),this.waterPools++,console.log(`Hydro Samachurl tạo vũng nước thứ ${this.waterPools}`),!0):!1}castTidalWave(V){return V&&this.magicPower>=5?(this.updateMagic(this.magicPower-5),this.wetStacks=3,this.applyWetEffect(V),this.createWaterPool(this.scene),this.createWaterPool(this.scene),console.log("Hydro Samachurl cast Tidal Wave!"),this.magicPower):0}die(){console.log("Hydro Samachurl đã chết!"),this.scene.gameManager.addScore(15),this.destroy()}CardEffect(){return console.log("Hydro Samachurl ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== HYDRO SAMACHURL INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Magic Power:",this.magicPower),console.log("Water Pools:",this.waterPools),console.log("Wet Stacks:",this.wetStacks),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class RU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Hilichurl Fighter","fighter","enemy"),this.health=this.GetRandom(15,25),this.attack=this.GetRandom(3,7),this.defense=this.GetRandom(1,3),this.rarity=4,this.description="Hilichurl Fighter - Kẻ địch cơ bản có thể tấn công người chơi.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createAttackDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createAttackDisplay(){this.attackBackground=this.scene.add.graphics(),this.attackBackground.fillStyle(16737792),this.attackBackground.fillCircle(0,0,15),this.attackText=this.scene.add.text(0,0,this.attack.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackText.setOrigin(.5),this.attackDisplay=this.scene.add.container(0,0,[this.attackBackground,this.attackText]),this.attackDisplay.setPosition(57,-113),this.add(this.attackDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(15,25)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateAttack(V){this.attack=V,this.attackText&&this.attackText.setText(this.attack.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Hilichurl Fighter nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-1,1);return V.takeDamage(K),console.log(`Hilichurl Fighter tấn công người chơi với ${K} damage`),K}return 0}die(){console.log("Hilichurl Fighter đã chết!"),this.scene.gameManager.addScore(10),this.destroy()}CardEffect(){return console.log("Hilichurl Fighter ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== HILICHURL FIGHTER INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class AU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Hilistray Water","hilistray-water","enemy"),this.health=this.GetRandom(20,28),this.attack=this.GetRandom(3,6),this.defense=this.GetRandom(2,5),this.healingPower=this.GetRandom(4,8),this.wetEffect=!0,this.rarity=3,this.description="Hilistray Water - Kẻ địch nước, có khả năng chữa lành và tạo hiệu ứng ẩm ướt.",this.createCard(),V.add.existing(this),this.startHealingEffect()}addDisplayHUD(){this.createHealthDisplay(),this.createHealingDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(52479),this.healingBackground.fillCircle(0,0,15),this.healingText=this.scene.add.text(0,0,this.healingPower.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,-113),this.add(this.healingDisplay)}startHealingEffect(){this.healingTimer=this.scene.time.addEvent({delay:3e3,callback:this.selfHeal,callbackScope:this,loop:!0})}selfHeal(){if(this.health>0&&this.health<this.GetRandom(20,28)){const V=Math.floor(this.healingPower*.5);this.updateHealth(this.health+V),console.log(`Hilistray Water tự chữa lành ${V} máu!`)}}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(20,28)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateHealingPower(V){this.healingPower=V,this.healingText&&this.healingText.setText(this.healingPower.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Hilistray Water nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-1,2);return V.takeDamage(K),console.log(`Hilistray Water tấn công người chơi với ${K} water damage`),K}return 0}healAlly(V){if(V&&V.health>0&&V!==this){const K=this.healingPower;return V.updateHealth(V.health+K),console.log(`Hilistray Water chữa lành ${K} máu cho ally!`),K}return 0}createWetEffect(V){if(V&&this.health>0){console.log("Hilistray Water tạo hiệu ứng ẩm ướt cho người chơi!");const K=this.healingPower;this.updateHealingPower(this.healingPower*1.5),this.scene.time.delayedCall(4e3,()=>{this.updateHealingPower(K)})}}die(){console.log("Hilistray Water đã chết!"),this.healingTimer&&this.healingTimer.destroy(),this.scene.gameManager.addScore(20),this.destroy()}CardEffect(){return console.log("Hilistray Water ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== HILISTRAY WATER INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Healing Power:",this.healingPower),console.log("Wet Effect:",this.wetEffect),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class bU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Wooden Shieldwall","wooden-shieldwall","enemy"),this.health=this.GetRandom(18,25),this.attack=this.GetRandom(2,4),this.defense=this.GetRandom(4,7),this.fireWeakness=2,this.woodResistance=.7,this.rarity=3,this.description="Wooden Shieldwall - Kẻ địch tường gỗ, có khả năng phòng thủ trung bình và dễ bị cháy.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createDefenseDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createDefenseDisplay(){this.defenseBackground=this.scene.add.graphics(),this.defenseBackground.fillStyle(9127187),this.defenseBackground.fillCircle(0,0,15),this.defenseText=this.scene.add.text(0,0,this.defense.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.defenseText.setOrigin(.5),this.defenseDisplay=this.scene.add.container(0,0,[this.defenseBackground,this.defenseText]),this.defenseDisplay.setPosition(57,-113),this.add(this.defenseDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(18,25)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateDefense(V){this.defense=V,this.defenseText&&this.defenseText.setText(this.defense.toString())}takeDamage(V){let K=V;return this.isFireDamage(V)&&(K=Math.floor(V*this.fireWeakness),console.log(`Wooden Shieldwall yếu với lửa! Damage tăng từ ${V} lên ${K}`)),this.isWoodDamage(V)&&(K=Math.floor(V*this.woodResistance),console.log(`Wooden Shieldwall giảm damage gỗ xuống ${K}!`)),K=Math.max(1,K-this.defense),this.updateHealth(this.health-K),console.log(`Wooden Shieldwall nhận ${K} damage, máu còn lại: ${this.health}`),K}isFireDamage(V){return Math.random()<.2}isWoodDamage(V){return Math.random()<.15}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-1,2);return V.takeDamage(K),console.log(`Wooden Shieldwall tấn công người chơi với ${K} wood damage`),K}return 0}createWoodenWall(){if(this.health>0){const V=this.defense;this.updateDefense(this.defense*1.4),this.scene.time.delayedCall(4e3,()=>{this.updateDefense(V)}),console.log(`Wooden Shieldwall tạo tường gỗ, defense tăng lên ${this.defense}!`)}}counterAttack(V){if(V&&this.health>0&&Math.random()<.3){const K=this.defense*.6;return V.takeDamage(K),console.log(`Wooden Shieldwall phản công với ${K} damage!`),K}return 0}die(){console.log("Wooden Shieldwall đã chết!"),this.scene.gameManager.addScore(16),this.destroy()}CardEffect(){return console.log("Wooden Shieldwall ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== WOODEN SHIELDWALL INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Fire Weakness:",this.fireWeakness),console.log("Wood Resistance:",this.woodResistance),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class LU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Lawachurl","lawachurl","enemy"),this.health=this.GetRandom(40,60),this.maxHealth=this.health,this.attack=this.GetRandom(12,18),this.defense=this.GetRandom(8,12),this.rageMode=!1,this.rageThreshold=.3,this.rarity=5,this.description="Lawachurl - Boss Hilichurl mạnh mẽ, có khả năng tấn công và phòng thủ cao.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createAttackDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createAttackDisplay(){this.attackBackground=this.scene.add.graphics(),this.attackBackground.fillStyle(16737792),this.attackBackground.fillCircle(0,0,15),this.attackText=this.scene.add.text(0,0,this.attack.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackText.setOrigin(.5),this.attackDisplay=this.scene.add.container(0,0,[this.attackBackground,this.attackText]),this.attackDisplay.setPosition(57,-113),this.add(this.attackDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.checkRageMode(),this.health<=0?this.die():this.health<=this.maxHealth*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}checkRageMode(){const V=this.health/this.maxHealth;V<=this.rageThreshold&&!this.rageMode?this.activateRageMode():V>this.rageThreshold&&this.rageMode&&this.deactivateRageMode()}activateRageMode(){this.rageMode=!0,this.attack*=1.5,this.defense*=1.3,this.attackBackground.fillStyle(16711680),this.attackBackground.fillCircle(0,0,15),this.updateAttackDisplay(),this.updateDefenseDisplay(),console.log("Lawachurl đã kích hoạt RAGE MODE!")}deactivateRageMode(){this.rageMode=!1,this.attack=Math.floor(this.attack/1.5),this.defense=Math.floor(this.defense/1.3),this.attackBackground.fillStyle(16737792),this.attackBackground.fillCircle(0,0,15),this.updateAttackDisplay(),this.updateDefenseDisplay(),console.log("Lawachurl đã tắt RAGE MODE!")}updateAttackDisplay(){this.attackText&&this.attackText.setText(this.attack.toString())}updateDefenseDisplay(){this.defenseText&&this.defenseText.setText(this.defense.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Lawachurl nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-2,3);return V.takeDamage(K),console.log(`Lawachurl tấn công người chơi với ${K} damage`),K}return 0}bossSpecialAttack(V){if(V&&this.health>0){let K;return this.rageMode?(K=this.attack*2,console.log(`Lawachurl sử dụng RAGE SPECIAL ATTACK với ${K} damage!`)):(K=this.attack*1.5,console.log(`Lawachurl sử dụng SPECIAL ATTACK với ${K} damage!`)),V.takeDamage(K),K}return 0}die(){console.log("Lawachurl đã chết!"),this.scene.gameManager.addScore(50),this.destroy()}CardEffect(){return console.log("Lawachurl ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== LAVACHURL INFO ==="),console.log("Health:",this.health),console.log("Max Health:",this.maxHealth),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Rage Mode:",this.rageMode),console.log("Rarity:",this.rarity),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class OU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Rock Shieldwall","rock-shieldwall","enemy"),this.health=this.GetRandom(30,40),this.attack=this.GetRandom(1,3),this.defense=this.GetRandom(10,15),this.rockResistance=.3,this.blockChance=.6,this.rarity=4,this.description="Rock Shieldwall - Kẻ địch tường đá, có khả năng phòng thủ rất cao và chống đỡ tốt.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createDefenseDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createDefenseDisplay(){this.defenseBackground=this.scene.add.graphics(),this.defenseBackground.fillStyle(9127187),this.defenseBackground.fillCircle(0,0,15),this.defenseText=this.scene.add.text(0,0,this.defense.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.defenseText.setOrigin(.5),this.defenseDisplay=this.scene.add.container(0,0,[this.defenseBackground,this.defenseText]),this.defenseDisplay.setPosition(57,-113),this.add(this.defenseDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(30,40)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateDefense(V){this.defense=V,this.defenseText&&this.defenseText.setText(this.defense.toString())}takeDamage(V){let K=V;return Math.random()<this.blockChance&&(K=Math.floor(V*.2),console.log(`Rock Shieldwall chặn đòn tấn công! Damage giảm từ ${V} xuống ${K}`)),this.isRockDamage(V)&&(K=Math.floor(K*this.rockResistance),console.log(`Rock Shieldwall giảm damage đá xuống ${K}!`)),K=Math.max(1,K-this.defense),this.updateHealth(this.health-K),console.log(`Rock Shieldwall nhận ${K} damage, máu còn lại: ${this.health}`),K}isRockDamage(V){return Math.random()<.25}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-1,1);return V.takeDamage(K),console.log(`Rock Shieldwall tấn công người chơi với ${K} rock damage`),K}return 0}createRockWall(){if(this.health>0){const V=this.defense;this.updateDefense(this.defense*1.8);const K=this.blockChance;this.blockChance=.9,this.scene.time.delayedCall(6e3,()=>{this.updateDefense(V),this.blockChance=K}),console.log(`Rock Shieldwall tạo tường đá, defense tăng lên ${this.defense}!`)}}counterAttack(V){if(V&&this.health>0&&Math.random()<.5){const K=this.defense*.8;return V.takeDamage(K),console.log(`Rock Shieldwall phản công với ${K} damage!`),K}return 0}die(){console.log("Rock Shieldwall đã chết!"),this.scene.gameManager.addScore(24),this.destroy()}CardEffect(){return console.log("Rock Shieldwall ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== ROCK SHIELDWALL INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Rock Resistance:",this.rockResistance),console.log("Block Chance:",this.blockChance),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class DU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Berserker","berserker","enemy"),this.health=this.GetRandom(20,30),this.maxHealth=this.health,this.attack=this.GetRandom(6,10),this.defense=this.GetRandom(2,4),this.rageMultiplier=1,this.rarity=4,this.description="Berserker - Kẻ địch điên cuồng, tấn công mạnh hơn khi máu thấp.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createAttackDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createAttackDisplay(){this.attackBackground=this.scene.add.graphics(),this.attackBackground.fillStyle(16737792),this.attackBackground.fillCircle(0,0,15),this.attackText=this.scene.add.text(0,0,this.attack.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackText.setOrigin(.5),this.attackDisplay=this.scene.add.container(0,0,[this.attackBackground,this.attackText]),this.attackDisplay.setPosition(57,-113),this.add(this.attackDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.updateRageState(),this.health<=0?this.die():this.health<=this.maxHealth*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateRageState(){const V=this.health/this.maxHealth;V<=.3?(this.rageMultiplier=2.5,this.attackBackground.fillStyle(16711680),this.attackBackground.fillCircle(0,0,15)):V<=.6?(this.rageMultiplier=1.8,this.attackBackground.fillStyle(16729088),this.attackBackground.fillCircle(0,0,15)):(this.rageMultiplier=1,this.attackBackground.fillStyle(16737792),this.attackBackground.fillCircle(0,0,15)),this.updateAttackDisplay()}updateAttackDisplay(){const V=Math.floor(this.attack*this.rageMultiplier);this.attackText&&this.attackText.setText(V.toString())}updateAttack(V){this.attack=V,this.updateAttackDisplay()}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Berserker nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-1,2),ht=Math.floor(K*this.rageMultiplier);return V.takeDamage(ht),console.log(`Berserker tấn công người chơi với ${ht} damage (rage: ${this.rageMultiplier}x)`),ht}return 0}berserkRage(V){if(V&&this.health>0){const K=Math.floor(this.attack*this.rageMultiplier*1.5);V.takeDamage(K);const ht=this.rageMultiplier;return this.rageMultiplier*=1.5,this.updateRageState(),this.scene.time.delayedCall(2e3,()=>{this.rageMultiplier=ht,this.updateRageState()}),console.log(`Berserker sử dụng Berserk Rage với ${K} damage!`),K}return 0}die(){console.log("Berserker đã chết!"),this.scene.gameManager.addScore(25),this.destroy()}CardEffect(){return console.log("Berserker ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== BERSERKER INFO ==="),console.log("Health:",this.health),console.log("Max Health:",this.maxHealth),console.log("Base Attack:",this.attack),console.log("Current Attack:",Math.floor(this.attack*this.rageMultiplier)),console.log("Rage Multiplier:",this.rageMultiplier),console.log("Defense:",this.defense),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class FU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Blazing","blazing","enemy"),this.health=this.GetRandom(15,22),this.attack=this.GetRandom(4,7),this.defense=this.GetRandom(1,3),this.burnDamage=this.GetRandom(2,4),this.burnRadius=80,this.rarity=3,this.description="Blazing - Kẻ địch cháy liên tục, gây damage theo thời gian cho người chơi gần đó.",this.createCard(),V.add.existing(this),this.startBurningEffect()}addDisplayHUD(){this.createHealthDisplay(),this.createBurnDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createBurnDisplay(){this.burnBackground=this.scene.add.graphics(),this.burnBackground.fillStyle(16729088),this.burnBackground.fillCircle(0,0,15),this.burnText=this.scene.add.text(0,0,this.burnDamage.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.burnText.setOrigin(.5),this.burnDisplay=this.scene.add.container(0,0,[this.burnBackground,this.burnText]),this.burnDisplay.setPosition(57,-113),this.add(this.burnDisplay)}startBurningEffect(){this.burnTimer=this.scene.time.addEvent({delay:1e3,callback:this.applyBurnDamage,callbackScope:this,loop:!0})}applyBurnDamage(){this.scene&&this.scene.player&&this.health>0&&Math.sqrt(Math.pow(this.x-this.scene.player.x,2)+Math.pow(this.y-this.scene.player.y,2))<=this.burnRadius&&(this.scene.player.takeDamage(this.burnDamage),console.log(`Người chơi nhận ${this.burnDamage} burn damage từ Blazing!`))}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(15,22)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateBurnDamage(V){this.burnDamage=V,this.burnText&&this.burnText.setText(this.burnDamage.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Blazing nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-1,2);return V.takeDamage(K),console.log(`Blazing tấn công người chơi với ${K} fire damage`),K}return 0}castFireStorm(V){if(V&&this.health>0){const K=this.attack*2;V.takeDamage(K);const ht=this.burnDamage;return this.updateBurnDamage(this.burnDamage*1.5),this.scene.time.delayedCall(3e3,()=>{this.updateBurnDamage(ht)}),console.log(`Blazing cast Fire Storm với ${K} damage!`),K}return 0}die(){console.log("Blazing đã chết!"),this.burnTimer&&this.burnTimer.destroy(),this.scene.gameManager.addScore(18),this.destroy()}CardEffect(){return console.log("Blazing ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== BLAZING INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Burn Damage:",this.burnDamage),console.log("Burn Radius:",this.burnRadius),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class BU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Ice Shieldwall","ice-shieldwall","enemy"),this.health=this.GetRandom(25,35),this.attack=this.GetRandom(2,5),this.defense=this.GetRandom(6,10),this.iceResistance=.5,this.freezeChance=.3,this.rarity=4,this.description="Ice Shieldwall - Kẻ địch tường băng, có khả năng phòng thủ cao và làm chậm người chơi.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createDefenseDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createDefenseDisplay(){this.defenseBackground=this.scene.add.graphics(),this.defenseBackground.fillStyle(52479),this.defenseBackground.fillCircle(0,0,15),this.defenseText=this.scene.add.text(0,0,this.defense.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.defenseText.setOrigin(.5),this.defenseDisplay=this.scene.add.container(0,0,[this.defenseBackground,this.defenseText]),this.defenseDisplay.setPosition(57,-113),this.add(this.defenseDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(25,35)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateDefense(V){this.defense=V,this.defenseText&&this.defenseText.setText(this.defense.toString())}takeDamage(V){let K=Math.max(1,V-this.defense);return this.isIceDamage(V)&&(K=Math.floor(K*this.iceResistance),console.log(`Ice Shieldwall giảm damage băng xuống ${K}!`)),this.updateHealth(this.health-K),console.log(`Ice Shieldwall nhận ${K} damage, máu còn lại: ${this.health}`),K}isIceDamage(V){return Math.random()<.2}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-1,2);return V.takeDamage(K),Math.random()<this.freezeChance&&console.log("Ice Shieldwall đóng băng người chơi!"),console.log(`Ice Shieldwall tấn công người chơi với ${K} ice damage`),K}return 0}createIceWall(){if(this.health>0){const V=this.defense;this.updateDefense(this.defense*1.5),this.scene.time.delayedCall(5e3,()=>{this.updateDefense(V)}),console.log(`Ice Shieldwall tạo tường băng, defense tăng lên ${this.defense}!`)}}counterAttack(V){if(V&&this.health>0&&Math.random()<.4){const K=this.defense*.5;return V.takeDamage(K),console.log(`Ice Shieldwall phản công với ${K} damage!`),K}return 0}die(){console.log("Ice Shieldwall đã chết!"),this.scene.gameManager.addScore(22),this.destroy()}CardEffect(){return console.log("Ice Shieldwall ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== ICE SHIELDWALL INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Ice Resistance:",this.iceResistance),console.log("Freeze Chance:",this.freezeChance),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class IU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Shooter","shooter","enemy"),this.health=this.GetRandom(12,18),this.attack=this.GetRandom(4,7),this.defense=this.GetRandom(0,2),this.range=120,this.rarity=2,this.description="Shooter - Kẻ địch bắn cung từ xa, tấn công cơ bản.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createAttackDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createAttackDisplay(){this.attackBackground=this.scene.add.graphics(),this.attackBackground.fillStyle(43520),this.attackBackground.fillCircle(0,0,15),this.attackText=this.scene.add.text(0,0,this.attack.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackText.setOrigin(.5),this.attackDisplay=this.scene.add.container(0,0,[this.attackBackground,this.attackText]),this.attackDisplay.setPosition(57,-113),this.add(this.attackDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(12,18)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateAttack(V){this.attack=V,this.attackText&&this.attackText.setText(this.attack.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Shooter nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function")if(Math.sqrt(Math.pow(this.x-V.x,2)+Math.pow(this.y-V.y,2))<=this.range){const ht=this.attack+this.GetRandom(-1,2);return V.takeDamage(ht),console.log(`Shooter bắn cung người chơi với ${ht} damage`),ht}else return console.log("Shooter không thể bắn - quá xa!"),0;return 0}shootPowerArrow(V){if(V&&this.health>0&&Math.sqrt(Math.pow(this.x-V.x,2)+Math.pow(this.y-V.y,2))<=this.range){const ht=this.attack*1.5;return V.takeDamage(ht),console.log(`Shooter bắn Power Arrow với ${ht} damage!`),ht}return 0}die(){console.log("Shooter đã chết!"),this.scene.gameManager.addScore(14),this.destroy()}CardEffect(){return console.log("Shooter ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== SHOOTER INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Range:",this.range),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class kU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Crackling","crackling","enemy"),this.health=this.GetRandom(8,12),this.attack=this.GetRandom(1,3),this.defense=this.GetRandom(0,1),this.explosionDamage=this.GetRandom(8,15),this.rarity=1,this.description="Crackling - Kẻ địch yếu nhưng nổ khi chết, gây damage cho người chơi gần đó.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createExplosionDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createExplosionDisplay(){this.explosionBackground=this.scene.add.graphics(),this.explosionBackground.fillStyle(16737792),this.explosionBackground.fillCircle(0,0,15),this.explosionText=this.scene.add.text(0,0,this.explosionDamage.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.explosionText.setOrigin(.5),this.explosionDisplay=this.scene.add.container(0,0,[this.explosionBackground,this.explosionText]),this.explosionDisplay.setPosition(57,-113),this.add(this.explosionDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.explode():this.health<=this.GetRandom(8,12)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateExplosionDamage(V){this.explosionDamage=V,this.explosionText&&this.explosionText.setText(this.explosionDamage.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Crackling nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-1,1);return V.takeDamage(K),console.log(`Crackling tấn công người chơi với ${K} damage`),K}return 0}explode(){console.log(`Crackling nổ với ${this.explosionDamage} damage!`),this.scene&&this.scene.player&&Math.sqrt(Math.pow(this.x-this.scene.player.x,2)+Math.pow(this.y-this.scene.player.y,2))<=100&&(this.scene.player.takeDamage(this.explosionDamage),console.log(`Người chơi nhận ${this.explosionDamage} damage từ vụ nổ!`)),this.scene.gameManager.addScore(8),this.destroy()}die(){console.log("Crackling đã chết!")}CardEffect(){return console.log("Crackling ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== CRACKLING INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Explosion Damage:",this.explosionDamage),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class GU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Cryo Shooter","cryo-shooter","enemy"),this.health=this.GetRandom(10,16),this.attack=this.GetRandom(3,6),this.defense=this.GetRandom(0,1),this.magicPower=this.GetRandom(2,4),this.rarity=2,this.description="Cryo Shooter - Kẻ địch bắn băng từ xa, có thể làm chậm và đóng băng người chơi.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createAttackDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createAttackDisplay(){this.attackBackground=this.scene.add.graphics(),this.attackBackground.fillStyle(52479),this.attackBackground.fillCircle(0,0,15),this.attackText=this.scene.add.text(0,0,this.attack.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackText.setOrigin(.5),this.attackDisplay=this.scene.add.container(0,0,[this.attackBackground,this.attackText]),this.attackDisplay.setPosition(57,-113),this.add(this.attackDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(10,16)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateAttack(V){this.attack=V,this.attackText&&this.attackText.setText(this.attack.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Cryo Shooter nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-1,2);return V.takeDamage(K),console.log(`Cryo Shooter bắn băng người chơi với ${K} damage`),K}return 0}shootFrostBolt(V){if(V&&this.magicPower>=2){this.updateMagic(this.magicPower-2);const K=this.attack*1.5;return V.takeDamage(K),console.log(`Cryo Shooter bắn Frost Bolt với ${K} damage!`),K}return 0}die(){console.log("Cryo Shooter đã chết!"),this.scene.gameManager.addScore(12),this.destroy()}CardEffect(){return console.log("Cryo Shooter ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== CRYO SHOOTER INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Magic Power:",this.magicPower),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class zU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Electro Shooter","electro-shooter","enemy"),this.health=this.GetRandom(10,16),this.attack=this.GetRandom(3,6),this.defense=this.GetRandom(0,1),this.magicPower=this.GetRandom(2,4),this.rarity=2,this.description="Electro Shooter - Kẻ địch bắn điện từ xa, có thể gây shock và làm chậm người chơi.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealthDisplay(),this.createAttackDisplay()}createHealthDisplay(){this.healthBackground=this.scene.add.graphics(),this.healthBackground.fillStyle(16711680),this.healthBackground.fillCircle(0,0,18),this.healthText=this.scene.add.text(0,0,this.health.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healthText.setOrigin(.5),this.healthDisplay=this.scene.add.container(0,0,[this.healthBackground,this.healthText]),this.healthDisplay.setPosition(-57,-113),this.add(this.healthDisplay)}createAttackDisplay(){this.attackBackground=this.scene.add.graphics(),this.attackBackground.fillStyle(16737792),this.attackBackground.fillCircle(0,0,15),this.attackText=this.scene.add.text(0,0,this.attack.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackText.setOrigin(.5),this.attackDisplay=this.scene.add.container(0,0,[this.attackBackground,this.attackText]),this.attackDisplay.setPosition(57,-113),this.add(this.attackDisplay)}updateHealth(V){this.health=Math.max(0,V),this.healthText&&this.healthText.setText(this.health.toString()),this.health<=0?this.die():this.health<=this.GetRandom(10,16)*.3&&(this.healthBackground.fillStyle(10027008),this.healthBackground.fillCircle(0,0,18))}updateAttack(V){this.attack=V,this.attackText&&this.attackText.setText(this.attack.toString())}takeDamage(V){const K=Math.max(1,V-this.defense);return this.updateHealth(this.health-K),console.log(`Electro Shooter nhận ${K} damage, máu còn lại: ${this.health}`),K}attackPlayer(V){if(V&&typeof V.takeDamage=="function"){const K=this.attack+this.GetRandom(-1,2);return V.takeDamage(K),console.log(`Electro Shooter bắn điện người chơi với ${K} damage`),K}return 0}shootElectroBolt(V){if(V&&this.magicPower>=2){this.updateMagic(this.magicPower-2);const K=this.attack*1.5;return V.takeDamage(K),console.log(`Electro Shooter bắn Electro Bolt với ${K} damage!`),K}return 0}die(){console.log("Electro Shooter đã chết!"),this.scene.gameManager.addScore(12),this.destroy()}CardEffect(){return console.log("Electro Shooter ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== ELECTRO SHOOTER INFO ==="),console.log("Health:",this.health),console.log("Attack:",this.attack),console.log("Defense:",this.defense),console.log("Magic Power:",this.magicPower),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class NU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Life Essence","life-essence","food"),this.healing=this.GetRandom(50,100),this.allStatsBoost=this.GetRandom(5,10),this.rarity=5,this.description="Life Essence - Tinh hoa sự sống hồi phục sức khỏe tối đa và tăng tất cả chỉ số.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealingDisplay(),this.createStatsBoostDisplay()}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(65280),this.healingBackground.fillCircle(0,0,18),this.healingText=this.scene.add.text(0,0,this.healing.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,113),this.add(this.healingDisplay)}createStatsBoostDisplay(){this.statsBoostBackground=this.scene.add.graphics(),this.statsBoostBackground.fillStyle(16711935),this.statsBoostBackground.fillCircle(0,0,15),this.statsBoostText=this.scene.add.text(0,0,this.allStatsBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.statsBoostText.setOrigin(.5),this.statsBoostDisplay=this.scene.add.container(0,0,[this.statsBoostBackground,this.statsBoostText]),this.statsBoostDisplay.setPosition(-57,113),this.add(this.statsBoostDisplay)}updateHealing(V){this.healing=V,this.healingText&&this.healingText.setText(this.healing.toString())}updateAllStatsBoost(V){this.allStatsBoost=V,this.statsBoostText&&this.statsBoostText.setText(this.allStatsBoost.toString())}CardEffect(){return console.log("LifeEssence ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.heal(this.healing),this.scene.player.addAllStatsBoost(this.allStatsBoost),console.log(`LifeEssence hồi phục ${this.healing} máu và tăng tất cả chỉ số ${this.allStatsBoost} cho người chơi!`)),!1}onLongPress(){console.log("=== LIFE ESSENCE INFO ==="),console.log("Healing:",this.healing),console.log("All Stats Boost:",this.allStatsBoost),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}}class VU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Mystique Soup","mystique-soup","food"),this.healing=this.GetRandom(20,35),this.buffDuration=this.GetRandom(3,6),this.rarity=3,this.description="Mystique Soup - Súp bí ẩn hồi phục sức khỏe và tăng sức mạnh tạm thời.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealingDisplay(),this.createBuffDisplay()}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(65280),this.healingBackground.fillCircle(0,0,18),this.healingText=this.scene.add.text(0,0,this.healing.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,113),this.add(this.healingDisplay)}createBuffDisplay(){this.buffBackground=this.scene.add.graphics(),this.buffBackground.fillStyle(10040319),this.buffBackground.fillCircle(0,0,15),this.buffText=this.scene.add.text(0,0,this.buffDuration.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.buffText.setOrigin(.5),this.buffDisplay=this.scene.add.container(0,0,[this.buffBackground,this.buffText]),this.buffDisplay.setPosition(-57,113),this.add(this.buffDisplay)}updateHealing(V){this.healing=V,this.healingText&&this.healingText.setText(this.healing.toString())}updateBuffDuration(V){this.buffDuration=V,this.buffText&&this.buffText.setText(this.buffDuration.toString())}CardEffect(){return console.log("MystiqueSoup ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.heal(this.healing),this.scene.player.addBuff("mystique",this.buffDuration),console.log(`MystiqueSoup hồi phục ${this.healing} máu và tăng buff ${this.buffDuration} lượt cho người chơi!`)),!1}onLongPress(){console.log("=== MYSTIQUE SOUP INFO ==="),console.log("Healing:",this.healing),console.log("Buff Duration:",this.buffDuration),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class WU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Pizza","pizza","food"),this.healing=this.GetRandom(25,40),this.strengthBoost=this.GetRandom(2,5),this.rarity=2,this.description="Pizza - Bánh pizza Ý hồi phục sức khỏe và tăng sức mạnh tấn công.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealingDisplay(),this.createStrengthDisplay()}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(65280),this.healingBackground.fillCircle(0,0,18),this.healingText=this.scene.add.text(0,0,this.healing.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,113),this.add(this.healingDisplay)}createStrengthDisplay(){this.strengthBackground=this.scene.add.graphics(),this.strengthBackground.fillStyle(16737792),this.strengthBackground.fillCircle(0,0,15),this.strengthText=this.scene.add.text(0,0,this.strengthBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.strengthText.setOrigin(.5),this.strengthDisplay=this.scene.add.container(0,0,[this.strengthBackground,this.strengthText]),this.strengthDisplay.setPosition(-57,113),this.add(this.strengthDisplay)}updateHealing(V){this.healing=V,this.healingText&&this.healingText.setText(this.healing.toString())}updateStrengthBoost(V){this.strengthBoost=V,this.strengthText&&this.strengthText.setText(this.strengthBoost.toString())}CardEffect(){return console.log("Pizza ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.heal(this.healing),this.scene.player.addStrengthBoost(this.strengthBoost),console.log(`Pizza hồi phục ${this.healing} máu và tăng sức mạnh ${this.strengthBoost} cho người chơi!`)),!1}onLongPress(){console.log("=== PIZZA INFO ==="),console.log("Healing:",this.healing),console.log("Strength Boost:",this.strengthBoost),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("========================"),super.onLongPress()}}class UU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Roast Chicken","roast-chicken","food"),this.healing=this.GetRandom(30,45),this.defenseBoost=this.GetRandom(3,6),this.rarity=2,this.description="Roast Chicken - Gà nướng thơm ngon hồi phục sức khỏe và tăng khả năng phòng thủ.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealingDisplay(),this.createDefenseDisplay()}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(65280),this.healingBackground.fillCircle(0,0,18),this.healingText=this.scene.add.text(0,0,this.healing.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,113),this.add(this.healingDisplay)}createDefenseDisplay(){this.defenseBackground=this.scene.add.graphics(),this.defenseBackground.fillStyle(26316),this.defenseBackground.fillCircle(0,0,15),this.defenseText=this.scene.add.text(0,0,this.defenseBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.defenseText.setOrigin(.5),this.defenseDisplay=this.scene.add.container(0,0,[this.defenseBackground,this.defenseText]),this.defenseDisplay.setPosition(-57,113),this.add(this.defenseDisplay)}updateHealing(V){this.healing=V,this.healingText&&this.healingText.setText(this.healing.toString())}updateDefenseBoost(V){this.defenseBoost=V,this.defenseText&&this.defenseText.setText(this.defenseBoost.toString())}CardEffect(){return console.log("RoastChicken ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.heal(this.healing),this.scene.player.addDefenseBoost(this.defenseBoost),console.log(`RoastChicken hồi phục ${this.healing} máu và tăng phòng thủ ${this.defenseBoost} cho người chơi!`)),!1}onLongPress(){console.log("=== ROAST CHICKEN INFO ==="),console.log("Healing:",this.healing),console.log("Defense Boost:",this.defenseBoost),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}}class XU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Macarons","macarons","food"),this.healing=this.GetRandom(15,25),this.rarity=2,this.description="Macarons - Bánh ngọt Pháp hồi phục sức khỏe và tăng tinh thần.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createHealingDisplay()}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(65280),this.healingBackground.fillCircle(0,0,18),this.healingText=this.scene.add.text(0,0,this.healing.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,113),this.add(this.healingDisplay)}updateHealing(V){this.healing=V,this.healingText&&this.healingText.setText(this.healing.toString())}CardEffect(){return console.log("Macarons ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.heal(this.healing),console.log(`Macarons hồi phục ${this.healing} máu cho người chơi!`)),!1}onLongPress(){console.log("=== MACARONS INFO ==="),console.log("Healing:",this.healing),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=========================="),super.onLongPress()}}class YU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"AbyssCall","abyss-call","trap"),this.enemyCount=this.GetRandom(1,3),this.enemyLevel=this.GetRandom(1,3),this.rarity=3,this.description="AbyssCall - Bẫy gọi thêm enemy vào trận đấu khi kích hoạt.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createEnemyCountDisplay(),this.createEnemyLevelDisplay()}createEnemyCountDisplay(){this.enemyCountBackground=this.scene.add.graphics(),this.enemyCountBackground.fillStyle(8388736),this.enemyCountBackground.fillCircle(0,0,18),this.enemyCountText=this.scene.add.text(0,0,this.enemyCount.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.enemyCountText.setOrigin(.5),this.enemyCountDisplay=this.scene.add.container(0,0,[this.enemyCountBackground,this.enemyCountText]),this.enemyCountDisplay.setPosition(57,113),this.add(this.enemyCountDisplay)}createEnemyLevelDisplay(){this.enemyLevelBackground=this.scene.add.graphics(),this.enemyLevelBackground.fillStyle(16737792),this.enemyLevelBackground.fillCircle(0,0,15),this.enemyLevelText=this.scene.add.text(0,0,this.enemyLevel.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.enemyLevelText.setOrigin(.5),this.enemyLevelDisplay=this.scene.add.container(0,0,[this.enemyLevelBackground,this.enemyLevelText]),this.enemyLevelDisplay.setPosition(-57,113),this.add(this.enemyLevelDisplay)}updateEnemyCount(V){this.enemyCount=V,this.enemyCountText&&this.enemyCountText.setText(this.enemyCount.toString())}updateEnemyLevel(V){this.enemyLevel=V,this.enemyLevelText&&this.enemyLevelText.setText(this.enemyLevel.toString())}CardEffect(){return console.log("AbyssCall ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== ABYSS CALL INFO ==="),console.log("Enemy Count:",this.enemyCount),console.log("Enemy Level:",this.enemyLevel),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("========================"),super.onLongPress()}}class HU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Quicksand","quicksand","trap"),this.damage=this.GetRandom(5,12),this.slowDuration=this.GetRandom(2,4),this.rarity=2,this.description="Quicksand - Bẫy cát lún gây damage và làm chậm người chơi khi kích hoạt.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createDamageDisplay(),this.createSlowDisplay()}createDamageDisplay(){this.damageBackground=this.scene.add.graphics(),this.damageBackground.fillStyle(16711680),this.damageBackground.fillCircle(0,0,18),this.damageText=this.scene.add.text(0,0,this.damage.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.damageText.setOrigin(.5),this.damageDisplay=this.scene.add.container(0,0,[this.damageBackground,this.damageText]),this.damageDisplay.setPosition(57,113),this.add(this.damageDisplay)}createSlowDisplay(){this.slowBackground=this.scene.add.graphics(),this.slowBackground.fillStyle(10053171),this.slowBackground.fillCircle(0,0,15),this.slowText=this.scene.add.text(0,0,this.slowDuration.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.slowText.setOrigin(.5),this.slowDisplay=this.scene.add.container(0,0,[this.slowBackground,this.slowText]),this.slowDisplay.setPosition(-57,113),this.add(this.slowDisplay)}updateDamage(V){this.damage=V,this.damageText&&this.damageText.setText(this.damage.toString())}updateSlowDuration(V){this.slowDuration=V,this.slowText&&this.slowText.setText(this.slowDuration.toString())}CardEffect(){return console.log("Quicksand ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.takeDamage(this.damage),this.scene.player.addSlowEffect(this.slowDuration),console.log(`Quicksand gây ${this.damage} damage và làm chậm ${this.slowDuration} lượt cho người chơi!`)),!1}onLongPress(){console.log("=== QUICKSAND INFO ==="),console.log("Damage:",this.damage),console.log("Slow Duration:",this.slowDuration),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=========================="),super.onLongPress()}}class $U extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Breathe Fire","breathe-fire","trap"),this.damage=this.GetRandom(8,15),this.rarity=2,this.description="Breathe Fire - Bẫy thở lửa gây damage cho người chơi khi kích hoạt.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createDamageDisplay()}createDamageDisplay(){this.damageBackground=this.scene.add.graphics(),this.damageBackground.fillStyle(16711680),this.damageBackground.fillCircle(0,0,18),this.damageText=this.scene.add.text(0,0,this.damage.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.damageText.setOrigin(.5),this.damageDisplay=this.scene.add.container(0,0,[this.damageBackground,this.damageText]),this.damageDisplay.setPosition(57,113),this.add(this.damageDisplay)}updateDamage(V){this.damage=V,this.damageText&&this.damageText.setText(this.damage.toString())}CardEffect(){return console.log("BreatheFire ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.takeDamage(this.damage),console.log(`BreatheFire gây ${this.damage} damage cho người chơi!`)),!1}onLongPress(){console.log("=== BREATHE FIRE INFO ==="),console.log("Damage:",this.damage),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}}class KU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Chest","chest","treasure"),this.coinReward=this.GetRandom(25,50),this.gemReward=this.GetRandom(5,15),this.rarity=4,this.description="Chest - Kho báu chính chứa nhiều loại phần thưởng quý giá.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createCoinRewardDisplay(),this.createGemRewardDisplay()}createCoinRewardDisplay(){this.coinRewardBackground=this.scene.add.graphics(),this.coinRewardBackground.fillStyle(16766720),this.coinRewardBackground.fillCircle(0,0,18),this.coinRewardText=this.scene.add.text(0,0,this.coinReward.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.coinRewardText.setOrigin(.5),this.coinRewardDisplay=this.scene.add.container(0,0,[this.coinRewardBackground,this.coinRewardText]),this.coinRewardDisplay.setPosition(57,113),this.add(this.coinRewardDisplay)}createGemRewardDisplay(){this.gemRewardBackground=this.scene.add.graphics(),this.gemRewardBackground.fillStyle(10040319),this.gemRewardBackground.fillCircle(0,0,15),this.gemRewardText=this.scene.add.text(0,0,this.gemReward.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.gemRewardText.setOrigin(.5),this.gemRewardDisplay=this.scene.add.container(0,0,[this.gemRewardBackground,this.gemRewardText]),this.gemRewardDisplay.setPosition(-57,113),this.add(this.gemRewardDisplay)}updateCoinReward(V){this.coinReward=V,this.coinRewardText&&this.coinRewardText.setText(this.coinReward.toString())}updateGemReward(V){this.gemReward=V,this.gemRewardText&&this.gemRewardText.setText(this.gemReward.toString())}CardEffect(){return console.log("Chest ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.addCoins(this.coinReward),this.scene.player.addGems(this.gemReward),this.scene.player.addTreasureBonus(),console.log(`Chest: Mở kho báu nhận được ${this.coinReward} coins và ${this.gemReward} gems!`)),!1}onLongPress(){console.log("=== CHEST INFO ==="),console.log("Coin Reward:",this.coinReward),console.log("Gem Reward:",this.gemReward),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}}class ZU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Bribery","bribery","treasure"),this.cost=this.GetRandom(10,25),this.reward=this.GetRandom(20,50),this.rarity=3,this.description="Bribery - Hối lộ để nhận phần thưởng lớn hơn chi phí.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createCostDisplay(),this.createRewardDisplay()}createCostDisplay(){this.costBackground=this.scene.add.graphics(),this.costBackground.fillStyle(16711680),this.costBackground.fillCircle(0,0,18),this.costText=this.scene.add.text(0,0,this.cost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.costText.setOrigin(.5),this.costDisplay=this.scene.add.container(0,0,[this.costBackground,this.costText]),this.costDisplay.setPosition(57,113),this.add(this.costDisplay)}createRewardDisplay(){this.rewardBackground=this.scene.add.graphics(),this.rewardBackground.fillStyle(16766720),this.rewardBackground.fillCircle(0,0,15),this.rewardText=this.scene.add.text(0,0,this.reward.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.rewardText.setOrigin(.5),this.rewardDisplay=this.scene.add.container(0,0,[this.rewardBackground,this.rewardText]),this.rewardDisplay.setPosition(-57,113),this.add(this.rewardDisplay)}updateCost(V){this.cost=V,this.costText&&this.costText.setText(this.cost.toString())}updateReward(V){this.reward=V,this.rewardText&&this.rewardText.setText(this.reward.toString())}CardEffect(){return console.log("Bribery ---------------------- đang chạy hiệu ứng..."),this.scene.player&&this.scene.player.coins>=this.cost?(this.scene.player.spendCoins(this.cost),this.scene.player.addCoins(this.reward),console.log(`Bribery: Chi ${this.cost} coins để nhận ${this.reward} coins!`)):console.log("Bribery: Không đủ coins để hối lộ!"),!1}onLongPress(){console.log("=== BRIBERY INFO ==="),console.log("Cost:",this.cost),console.log("Reward:",this.reward),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=========================="),super.onLongPress()}}class JU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"GoldMine","gold-mine","treasure"),this.resourceType=this.getRandomResourceType(),this.resourceAmount=this.GetRandom(15,35),this.rarity=2,this.description=`GoldMine - Mỏ khai thác ${this.resourceType} để nhận tài nguyên.`,this.createCard(),V.add.existing(this)}getRandomResourceType(){const V=["coins","gems","materials"];return V[Math.floor(Math.random()*V.length)]}addDisplayHUD(){this.createResourceTypeDisplay(),this.createResourceAmountDisplay()}createResourceTypeDisplay(){this.resourceTypeBackground=this.scene.add.graphics();let V;switch(this.resourceType){case"coins":V=16766720;break;case"gems":V=10040319;break;case"materials":V=10053171;break;default:V=8421504}this.resourceTypeBackground.fillStyle(V),this.resourceTypeBackground.fillCircle(0,0,18);const K=this.resourceType.charAt(0).toUpperCase();this.resourceTypeText=this.scene.add.text(0,0,K,{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.resourceTypeText.setOrigin(.5),this.resourceTypeDisplay=this.scene.add.container(0,0,[this.resourceTypeBackground,this.resourceTypeText]),this.resourceTypeDisplay.setPosition(57,113),this.add(this.resourceTypeDisplay)}createResourceAmountDisplay(){this.resourceAmountBackground=this.scene.add.graphics(),this.resourceAmountBackground.fillStyle(65280),this.resourceAmountBackground.fillCircle(0,0,15),this.resourceAmountText=this.scene.add.text(0,0,this.resourceAmount.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.resourceAmountText.setOrigin(.5),this.resourceAmountDisplay=this.scene.add.container(0,0,[this.resourceAmountBackground,this.resourceAmountText]),this.resourceAmountDisplay.setPosition(-57,113),this.add(this.resourceAmountDisplay)}updateResourceType(V){if(this.resourceType=V,this.description=`GoldMine - Mỏ khai thác ${this.resourceType} để nhận tài nguyên.`,this.resourceTypeText&&this.resourceTypeText.setText(this.resourceType.charAt(0).toUpperCase()),this.resourceTypeBackground){let K;switch(this.resourceType){case"coins":K=16766720;break;case"gems":K=10040319;break;case"materials":K=10053171;break;default:K=8421504}this.resourceTypeBackground.fillStyle(K),this.resourceTypeBackground.fillCircle(0,0,18)}}updateResourceAmount(V){this.resourceAmount=V,this.resourceAmountText&&this.resourceAmountText.setText(this.resourceAmount.toString())}CardEffect(){if(console.log("GoldMine ---------------------- đang chạy hiệu ứng..."),this.scene.player)switch(this.resourceType){case"coins":this.scene.player.addCoins(this.resourceAmount),console.log(`GoldMine: Khai thác được ${this.resourceAmount} coins!`);break;case"gems":this.scene.player.addGems(this.resourceAmount),console.log(`GoldMine: Khai thác được ${this.resourceAmount} gems!`);break;case"materials":this.scene.player.addMaterials(this.resourceAmount),console.log(`GoldMine: Khai thác được ${this.resourceAmount} materials!`);break}return!1}onLongPress(){console.log("=== GOLD MINE INFO ==="),console.log("Resource Type:",this.resourceType),console.log("Resource Amount:",this.resourceAmount),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("========================"),super.onLongPress()}}class QU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Explosive","explosive","bomb"),this.damage=this.GetRandom(20,40),this.radius=this.GetRandom(2,4),this.rarity=3,this.description="Explosive - Bom nổ gây damage cho tất cả trong bán kính.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createDamageDisplay(),this.createRadiusDisplay()}createDamageDisplay(){this.damageBackground=this.scene.add.graphics(),this.damageBackground.fillStyle(16711680),this.damageBackground.fillCircle(0,0,18),this.damageText=this.scene.add.text(0,0,this.damage.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.damageText.setOrigin(.5),this.damageDisplay=this.scene.add.container(0,0,[this.damageBackground,this.damageText]),this.damageDisplay.setPosition(57,113),this.add(this.damageDisplay)}createRadiusDisplay(){this.radiusBackground=this.scene.add.graphics(),this.radiusBackground.fillStyle(16737792),this.radiusBackground.fillCircle(0,0,15),this.radiusText=this.scene.add.text(0,0,this.radius.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.radiusText.setOrigin(.5),this.radiusDisplay=this.scene.add.container(0,0,[this.radiusBackground,this.radiusText]),this.radiusDisplay.setPosition(-57,113),this.add(this.radiusDisplay)}updateDamage(V){this.damage=V,this.damageText&&this.damageText.setText(this.damage.toString())}updateRadius(V){this.radius=V,this.radiusText&&this.radiusText.setText(this.radius.toString())}CardEffect(){return console.log("Explosive ---------------------- đang chạy hiệu ứng..."),this.explode(),!1}explode(){console.log(`Explosive nổ với damage ${this.damage} và bán kính ${this.radius}!`),this.scene.player&&this.getDistanceToPlayer()<=this.radius&&(this.scene.player.takeDamage(this.damage),console.log(`Explosive gây ${this.damage} damage cho người chơi!`)),this.scene.enemies&&this.scene.enemies.forEach(V=>{this.getDistanceToEnemy(V)<=this.radius&&(V.takeDamage(this.damage),console.log(`Explosive gây ${this.damage} damage cho enemy!`))}),this.destroy()}getDistanceToPlayer(){if(!this.scene.player)return 1/0;const V=this.x-this.scene.player.x,K=this.y-this.scene.player.y;return Math.sqrt(V*V+K*K)}getDistanceToEnemy(V){const K=this.x-V.x,ht=this.y-V.y;return Math.sqrt(K*K+ht*ht)}onLongPress(){console.log("=== EXPLOSIVE INFO ==="),console.log("Damage:",this.damage),console.log("Radius:",this.radius),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}}class jU extends Ht{constructor(V,K,ht,ot){super(V,K,ht,ot,"Empty","empty","empty"),this.isEmpty=!0,this.rarity=1,this.description="Empty - Thẻ trống không có tác dụng, dùng để lấp chỗ trống.",this.createCard(),V.add.existing(this)}addDisplayHUD(){this.createEmptyIndicator()}createEmptyIndicator(){this.emptyIndicatorBackground=this.scene.add.graphics(),this.emptyIndicatorBackground.fillStyle(8421504),this.emptyIndicatorBackground.fillCircle(0,0,15),this.emptyIndicatorText=this.scene.add.text(0,0,"E",{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.emptyIndicatorText.setOrigin(.5),this.emptyIndicator=this.scene.add.container(0,0,[this.emptyIndicatorBackground,this.emptyIndicatorText]),this.emptyIndicator.setPosition(0,113),this.add(this.emptyIndicator)}updateEmptyStatus(V){this.isEmpty=V,this.emptyIndicatorText&&this.emptyIndicatorText.setText(this.isEmpty?"E":"F")}CardEffect(){return console.log("Empty ---------------------- đang chạy hiệu ứng..."),console.log("Empty: Thẻ trống không có tác dụng!"),!1}isCardEmpty(){return this.isEmpty}markAsOccupied(){this.isEmpty=!1,this.updateEmptyStatus(!1),console.log("Empty: Thẻ đã được đánh dấu là không còn trống!")}markAsEmpty(){this.isEmpty=!0,this.updateEmptyStatus(!0),console.log("Empty: Thẻ đã được đánh dấu là trống!")}onLongPress(){console.log("=== EMPTY INFO ==="),console.log("Is Empty:",this.isEmpty),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("========================"),super.onLongPress()}}class Ys{constructor(){if(Ys.instance)return Ys.instance;this.characterClasses={eula:sn,furina:hv,mavuika:ov,nahida:lv,raiden:uv,venti:dv,zhongli:fv},this.cardClasses={Coin:WS,SwordSteampunk:gU,SwordForest:mU,SwordSkyward:xU,SwordSplendor:yU,SwordTraveler:CU,SwordSacrificial:SU,AnemoSamachurl:TU,ElectroSamachurl:PU,DendroSamachurl:EU,GeoSamachurl:MU,HydroSamachurl:wU,HilichurlFighter:RU,HilistrayWater:AU,WoodenShieldwall:bU,Lawachurl:LU,RockShieldwall:OU,Berserker:DU,Blazing:FU,IceShieldwall:BU,Shooter:IU,Crackling:kU,CryoShooter:GU,ElectroShooter:zU,LifeEssence:NU,MystiqueSoup:VU,Pizza:WU,RoastChicken:UU,Macarons:XU,AbyssCall:YU,BreatheFire:$U,Quicksand:HU,Chest:KU,Bribery:ZU,GoldMine:JU,Explosive:QU,Empty:jU},this.stageCardPools={stage1:{name:"Màn 1 - Khởi đầu",typeRatios:{enemies:30,food:10,weapons:20,coins:25,traps:10,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","HilichurlFighter"],food:["LifeEssence","Macarons","Pizza"],weapons:["SwordSteampunk","SwordForest"],coins:["Coin"],traps:["BreatheFire"],treasures:["Chest","GoldMine"]}},stage2:{name:"Màn 2 - Thử thách",typeRatios:{enemies:35,food:8,weapons:18,coins:22,traps:12,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","Shooter","Crackling"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordTraveler"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},stage3:{name:"Màn 3 - Boss",typeRatios:{enemies:40,food:5,weapons:15,coins:20,traps:15,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","HilistrayWater","WoodenShieldwall","Lawachurl","RockShieldwall","Berserker","Blazing","IceShieldwall","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}}},this.currentStage="stage1",this.element="cryo",this._cachedCardWeights=null,Ys.instance=this}static getInstance(){return Ys.instance||(Ys.instance=new Ys),Ys.instance}setCurrentStage(V){this.stageCardPools[V]?(this.currentStage=V,this._cachedCardWeights=null,console.log(`Đã chuyển sang màn chơi: ${this.stageCardPools[V].name}`)):console.warn(`Màn chơi '${V}' không tồn tại, giữ nguyên màn hiện tại`)}getCurrentStage(){return this.stageCardPools[this.currentStage]}_calculateCardWeights(){if(this._cachedCardWeights)return this._cachedCardWeights;const V={},K=this.stageCardPools[this.currentStage],ht=K.typeRatios,ot=K.availableCards,pt={};for(const[C,A]of Object.entries(ht))if(ot[C]){let s=0;for(const g of ot[C])if(this.cardClasses[g]){const f=(this.cardClasses[g].rarity||3)*10;s+=f}pt[C]=s}for(const[C,A]of Object.entries(ht))if(ot[C]&&pt[C]){for(const s of ot[C])if(this.cardClasses[s]){const f=(this.cardClasses[s].rarity||3)*10/pt[C]*A;V[s]=f}}return this._cachedCardWeights=V,V}createRandomCard(V,K,ht,ot){const pt=this._calculateCardWeights(),C=Object.values(pt).reduce((y,f)=>y+f,0);if(C===0)return console.warn("CardFactory: Không có thẻ nào có sẵn trong màn chơi hiện tại"),null;const A=Math.random()*C;let s=0;for(const[y,f]of Object.entries(pt))if(s+=f,A<=s){if(y==="Coin")return this.createCoin(V,K,ht,ot);const l=new this.cardClasses[y](V,K,ht,ot);return console.log("card",l),l}const g=Object.keys(pt)[Object.keys(pt).length-1];return g==="Coin"?(console.warn("Fallback errrrrrrrrrrrrrrrrr",g),this.createCoin(V,K,ht,ot)):new this.cardClasses[g](V,K,ht,ot)}createCard(V,K,ht,ot,pt){if(this.cardClasses[V])return new this.cardClasses[V](K,ht,ot,pt);throw new Error(`Unknown card type: ${V}`)}createCoin(V,K,ht,ot){const pt=new WS(V,K,ht,ot,this.element);return console.log("card",pt),pt}createCharacter(V,K,ht,ot){const pt=localStorage.getItem("selectedCharacter");if(!pt)return this.element=sn.DEFAULT.element,new sn(V,K,ht,ot);const C=this.characterClasses[pt];return C?(this.element=C.DEFAULT.element,new C(V,K,ht,ot)):(this.element=sn.DEFAULT.element,new sn(V,K,ht,ot))}getAllCharacterDefault(){return Object.values(this.characterClasses).map(V=>V.DEFAULT)}getAllCardDefault(){return Object.values(this.cardClasses).map(V=>V.DEFAULT)}addCardToStage(V,K,ht){if(!this.stageCardPools[V])throw new Error(`Màn chơi '${V}' không tồn tại`);if(!this.stageCardPools[V].availableCards[K])throw new Error(`Type '${K}' không tồn tại trong màn chơi '${V}'`);this.stageCardPools[V].availableCards[K].includes(ht)||(this.stageCardPools[V].availableCards[K].push(ht),this._cachedCardWeights=null)}removeCardFromStage(V,K,ht){if(!this.stageCardPools[V])throw new Error(`Màn chơi '${V}' không tồn tại`);if(!this.stageCardPools[V].availableCards[K])throw new Error(`Type '${K}' không tồn tại trong màn chơi '${V}'`);const ot=this.stageCardPools[V].availableCards[K].indexOf(ht);ot>-1&&(this.stageCardPools[V].availableCards[K].splice(ot,1),this._cachedCardWeights=null)}updateStageTypeRatio(V,K,ht){if(!this.stageCardPools[V])throw new Error(`Màn chơi '${V}' không tồn tại`);if(!this.stageCardPools[V].typeRatios[K])throw new Error(`Type '${K}' không tồn tại trong màn chơi '${V}'`);this.stageCardPools[V].typeRatios[K]=ht,this._cachedCardWeights=null}getStageInfo(){return this.stageCardPools}getCurrentStageTotalWeight(){const V=this.stageCardPools[this.currentStage];return Object.values(V.typeRatios).reduce((K,ht)=>K+ht,0)}getCurrentStageCardWeights(){const V=this._calculateCardWeights(),K=this.stageCardPools[this.currentStage];return{stage:K.name,typeRatios:K.typeRatios,cardWeights:V,totalWeight:this.getCurrentStageTotalWeight()}}}const qU=Ys.getInstance();class _U{constructor(V){this.scene=V,this.gridSize=3,this.cards=new Array(9).fill(null),this.cardWidth=160,this.cardHeight=274.3,this.spacing=16,this.gridStartX=0,this.gridStartY=0,this.cardFactory=qU}initializeGridCoordinates(){if(this.scene&&this.scene.scale){const{width:V,height:K}=this.scene.scale;this.gridStartX=(V-(3*this.cardWidth+2*this.spacing))/2,this.gridStartY=K*.23}else console.warn("CardManager: Scene or scale not available, using default coordinates")}addCard(V,K){K>=0&&K<9?this.cards[K]=V:console.warn(`CardManager: Invalid grid index ${K}`)}getCard(V){return V>=0&&V<9?this.cards[V]:null}getAllCards(){return this.cards.filter(V=>V!==null)}getGridPositionCoordinates(V){if(V<0||V>=9)return null;const K=Math.floor(V/this.gridSize),ht=V%this.gridSize,ot=this.gridStartX+ht*(this.cardWidth+this.spacing)+this.cardWidth/2,pt=this.gridStartY+K*(this.cardHeight+this.spacing)+this.cardHeight/2;return{x:ot,y:pt}}initializeCreateDeck(){this.initializeGridCoordinates();const V=this.getGridPositionCoordinates(4),K=this.cardFactory.createCharacter(this.scene,V.x,V.y,4);this.addCard(K,4),console.log(`CardManager: Created character card at position (${V.x}, ${V.y})`);for(let ht=0;ht<9;ht++){const ot=this.getGridPositionCoordinates(ht);if(ot){if(ht===4)continue;const pt=this.cardFactory.createRandomCard(this.scene,ot.x,ot.y,ht);this.addCard(pt,ht),console.log(`CardManager: Created random card ${ht} at position (${ot.x}, ${ot.y})`)}}console.log("CardManager: Deck initialized with 9 random cards")}getCharacterIndex(){for(let V=0;V<this.cards.length;V++)if(this.cards[V]&&this.cards[V].type==="character")return V;return console.warn("CardManager: Không tìm thấy character card"),-1}moveCard(V,K){if(V<0||V>=9||K<0||K>=9)return console.warn(`CardManager: Invalid indices for move: ${V} -> ${K}`),!1;const ht=this.cards[V];return ht?(ht.index=K,this.cards[V]=null,this.addCard(ht,K),!0):(console.warn(`CardManager: No card at position ${V}`),!1)}disableAllCards(){this.getAllCards().forEach(K=>{K&&K.disableInteractive&&K.disableInteractive()})}enableAllCards(){this.getAllCards().forEach(K=>{K&&K.setInteractive&&K.setInteractive()})}}class tX{constructor(V){this.scene=V,this.animationQueue=[],this.isProcessing=!1,this.currentAnimation=null}addToQueue(V){this.animationQueue.push(V),this.isProcessing||this.processQueue()}processQueue(){if(this.animationQueue.length===0||this.isProcessing)return;this.isProcessing=!0;const V=this.animationQueue.shift();this.currentAnimation=V,this.executeAnimation(V)}executeAnimation(V){const{type:K,target:ht,config:ot,onComplete:pt}=V;switch(K){case"move":this.executeMoveAnimation(ht,ot,pt);break;case"fade":this.executeFadeAnimation(ht,ot,pt);break;case"scale":this.executeScaleAnimation(ht,ot,pt);break;case"rotate":this.executeRotateAnimation(ht,ot,pt);break;default:console.warn(`AnimationManager: Không hỗ trợ animation type "${K}"`),this.completeAnimation(pt);break}}executeMoveAnimation(V,K){const ht=Array.isArray(V)?V:[V];let ot=0;const pt=ht.length;ht.forEach(C=>{const A=this.scene.gameManager.cardManager.getCard(C.from),s=this.scene.gameManager.cardManager.getGridPositionCoordinates(C.to),g=A.depth||0;A.setDepth(100),this.scene.tweens.add({targets:A,x:s.x,y:s.y,duration:500,ease:"Power2",onComplete:()=>{A.setDepth(g),ot++,ot>=pt&&this.completeAnimation(K)}})})}executeFadeAnimation(V,K,ht){const{alpha:ot,duration:pt=300,ease:C="Power2"}=K;this.scene.tweens.add({targets:V,alpha:ot,duration:pt,ease:C,onComplete:()=>{this.completeAnimation(ht)}})}executeScaleAnimation(V,K,ht){const{scaleX:ot,scaleY:pt,duration:C=300,ease:A="Back.easeOut"}=K;this.scene.tweens.add({targets:V,scaleX:ot,scaleY:pt,duration:C,ease:A,onComplete:()=>{this.completeAnimation(ht)}})}executeRotateAnimation(V,K,ht){const{angle:ot,duration:pt=500,ease:C="Power2"}=K;this.scene.tweens.add({targets:V,angle:ot,duration:pt,ease:C,onComplete:()=>{this.completeAnimation(ht)}})}completeAnimation(V){if(V&&typeof V=="function")try{V()}catch(K){console.error("AnimationManager: Error in callback:",K)}this.currentAnimation=null,this.isProcessing=!1,this.animationQueue.length>0&&this.processQueue()}clearQueue(){this.animationQueue=[]}stopCurrentAnimation(){this.currentAnimation&&this.currentAnimation.target&&this.scene.tweens.killTweensOf(this.currentAnimation.target)}getStatus(){return{queueLength:this.animationQueue.length,isProcessing:this.isProcessing,currentAnimation:this.currentAnimation?this.currentAnimation.type:null}}destroy(){console.log("AnimationManager: Đang dọn dẹp..."),this.clearQueue(),this.stopCurrentAnimation(),this.scene=null}}const dn=[{stageId:"dungeon_abyss_chamber",name:"Abyss Chamber"},{stageId:"dungeon_crystal_cave",name:"Crystal Cave"},{stageId:"dungeon_fire_temple",name:"Fire Temple"},{stageId:"dungeon_ice_palace",name:"Ice Palace"},{stageId:"dungeon_thunder_peak",name:"Thunder Peak"},{stageId:"dungeon_wind_valley",name:"Wind Valley"},{stageId:"dungeon_earth_fortress",name:"Earth Fortress"},{stageId:"dungeon_water_sanctuary",name:"Water Sanctuary"},{stageId:"dungeon_shadow_realm",name:"Shadow Realm"},{stageId:"dungeon_light_tower",name:"Light Tower"},{stageId:"dungeon_dark_forest",name:"Dark Forest"},{stageId:"dungeon_golden_mine",name:"Golden Mine"},{stageId:"dungeon_silver_castle",name:"Silver Castle"},{stageId:"dungeon_bronze_dungeon",name:"Bronze Dungeon"},{stageId:"dungeon_emerald_cave",name:"Emerald Cave"},{stageId:"dungeon_ruby_mountain",name:"Ruby Mountain"},{stageId:"dungeon_sapphire_lake",name:"Sapphire Lake"},{stageId:"dungeon_diamond_peak",name:"Diamond Peak"}];class eX{constructor(V){this.scene=V,this.coin=0,this.highScore=this.getHighScore(),this.cardManager=new _U(V),this.moveCardManager=new fU,this.animationManager=new tX(V)}moveCharacter(V){if(this.animationManager.isProcessing)return;this.cardManager.disableAllCards();const K=this.cardManager.getCharacterIndex();if(this.moveCardManager.isValidMove(K,V)){const ht=this.moveCardManager.calculateMovement(K,V);if(this.cardManager.getCard(V).CardEffect())return;this.cardManager.getCard(V).ProgressDestroy(),this.animationManager.executeMoveAnimation(ht,()=>{if(console.log("moveCharacter completed"),ht.forEach(ot=>{this.cardManager.moveCard(ot.from,ot.to)}),ht.length>0){const pt=ht[ht.length-1].from,C=this.cardManager.getGridPositionCoordinates(pt);if(C){const A=this.cardManager.cardFactory.createRandomCard(this.scene,C.x,C.y,pt);this.cardManager.addCard(A,pt),A.processCreation&&A.processCreation()}}this.cardManager.enableAllCards()})}else this.cardManager.enableAllCards()}getHighScore(){const V=this.scene.stageId;let K=localStorage.getItem("highScores");if(K===null){const ot={};dn.forEach(C=>{ot[C.stageId]=0});const pt=JSON.stringify(ot);localStorage.setItem("highScores",pt),K=pt}return(JSON.parse(K)||{})[V]||0}setHighScore(V){const K=this.scene.stageId;let ht=localStorage.getItem("highScores"),ot={};ht===null?dn.forEach(pt=>{ot[pt.stageId]=0}):ot=JSON.parse(ht)||{},ot[K]=V,localStorage.setItem("highScores",JSON.stringify(ot)),console.log(`GameManager: High score set for ${K}: ${V}`)}addCoin(V){var K;this.coin+=V,this.coin>this.highScore&&(this.setHighScore(this.coin),this.highScore=this.coin,console.log(`GameManager: New high score for ${this.scene.stageId}: ${this.coin}`)),this.scene&&this.scene.coinText?(this.scene.coinText.setText(`🪙${this.coin}`),console.log(`GameManager: UI coin updated to ${this.coin}`)):console.warn(`GameManager: Cannot update coin UI - scene: ${!!this.scene}, coinText: ${!!((K=this.scene)!=null&&K.coinText)}`),console.log(`GameManager: Added ${V} coins, total: ${this.coin}`)}getCardManager(){return this.cardManager}}class Wi{constructor(V,K,ht,ot,pt,C,A=5){this.name=V,this.nameId=K,this.image=ht,this._power=ot,this._cooldown=pt,this.description=C,this.level=0,this.maxLevel=A}get power(){return this._power*(1+this.level*.2)}get cooldown(){return Math.max(0,this._cooldown-this.level*.5)}isUpgrade(){return this.level<this.maxLevel}upgrade(){return this.isUpgrade()?(this.level++,!0):!1}getPrice(){return this.level===0?1e3:this.level*100}getInfo(){return{name:this.name,nameId:this.nameId,image:this.image,power:this.power,cooldown:this.cooldown,description:this.description,level:this.level,maxLevel:this.maxLevel}}}class iX extends Wi{constructor(){super("Black Hole","black-hole","black-hole",100,5,"Tạo hố đen hút tất cả enemy",8)}get power(){return this._power*(1+this.level*.3)}get cooldown(){return Math.max(1,this._cooldown-this.level*.8)}}class sX extends Wi{constructor(){super("Catalyst","catalyst","catalyst",25,0,"Tăng sức mạnh phép thuật",6)}get power(){return this._power*(1+this.level*.25)}}class rX extends Wi{constructor(){super("Claw","claw","claw",40,1,"Tấn công với 40 damage",5)}get power(){return this._power*(1+this.level*.2)}get cooldown(){return Math.max(0,this._cooldown-this.level*.2)}}class nX extends Wi{constructor(){super("Cooldown","cooldown","cooldown",0,0,"Giảm cooldown của skill",7)}get power(){return this._power+this.level*5}}class aX extends Wi{constructor(){super("Corruption","corruption","corruption",80,3,"Gây corruption 80 damage",6)}get power(){return this._power*(1+this.level*.25)}get cooldown(){return Math.max(1,this._cooldown-this.level*.5)}}class hX extends Wi{constructor(){super("Healing Potion","healing-potion","healing-potion",50,0,"Hồi phục 50 HP",5)}get power(){return this._power*(1+this.level*.15)}}class oX extends Wi{constructor(){super("Refinement","refinement","refinement",0,0,"Tinh chế item để tăng sức mạnh",6)}get power(){return this._power+this.level*10}}class lX extends Wi{constructor(){super("Repair","repair","repair",0,0,"Sửa chữa item bị hỏng",5)}get power(){return this._power+this.level*20}}class uX extends Wi{constructor(){super("Seasoning","seasoning","seasoning",0,0,"Gia vị để tăng hiệu quả item",6)}get power(){return this._power+this.level*15}}class dX extends Wi{constructor(){super("Sword","sword","sword",60,1,"Vũ khí mạnh với 60 damage",5)}get power(){return this._power*(1+this.level*.25)}get cooldown(){return Math.max(0,this._cooldown-this.level*.3)}}class fX extends Wi{constructor(){super("Tax Waiver","tax-waiver","tax-waiver",0,0,"Miễn thuế cho item",5)}get power(){return this._power+this.level*25}}class cX extends Wi{constructor(){super("Toxic","toxic","toxic",30,2,"Gây độc 30 damage mỗi turn trong 2 turn",5)}get power(){return this._power*(1+this.level*.2)}get cooldown(){return Math.max(1,this._cooldown-this.level*.2)}}class Hs{constructor(){if(Hs.instance)return Hs.instance;this.items=new Map,this.initializeItems(),Hs.instance=this}static getInstance(){return Hs.instance||(Hs.instance=new Hs),Hs.instance}initializeItems(){this.items.set("healing-potion",hX),this.items.set("toxic",cX),this.items.set("claw",rX),this.items.set("cooldown",nX),this.items.set("sword",dX),this.items.set("catalyst",sX),this.items.set("refinement",oX),this.items.set("seasoning",uX),this.items.set("repair",lX),this.items.set("black-hole",iX),this.items.set("tax-waiver",fX),this.items.set("corruption",aX)}createItem(V){const K=this.items.get(V);return K?new K:null}getItemKeys(){return Array.from(this.items.keys())}}const cv=Hs.getInstance();class vX extends he.Scene{constructor(){super({key:"GameScene"})}init(V){const{stageId:K}=V||{};this.stageId=K||"dungeon_abyss_chamber",this.dungeonStage=dn.find(ht=>ht.stageId===this.stageId),console.log("GameScene: Dungeon data:",this.dungeonStage),this.gameManager=new eX(this)}preload(){}create(){const{width:V,height:K}=this.scale;this.add.image(V/2,K/2,"background"),this.add.rectangle(V/2,K/2,V,K,0).setAlpha(.5),this.createUI(),this.createDeck()}createUI(){const{width:V,height:K}=this.scale,ht=this.add.text(V*.95,K*.05,"☰",{fontSize:"32px",fill:"#ffffff",stroke:"#2d0d21",strokeThickness:2});ht.setInteractive({useHandCursor:!0}),ht.setOrigin(.5),ht.on("pointerover",()=>{ht.setScale(1.1),ht.setTint(13750737)}),ht.on("pointerout",()=>{ht.setScale(1),ht.clearTint()}),ht.on("pointerdown",()=>{this.scene.start("MenuScene")}),this.stageText=this.add.text(V*.5,K*.035,this.dungeonStage.name,{fontSize:"30px",fill:"#FFD700",fontFamily:"Arial, sans-serif",fontWeight:"bold",stroke:"#E69500",strokeThickness:2}).setOrigin(.5),this.highScoreText=this.add.text(V*.5,K*.07,`High Score: ${this.gameManager.highScore}`,{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif"}).setOrigin(.5).setAlpha(.8),this.coinText=this.add.text(V*.75,K*.13,`🪙${this.gameManager.coin}`,{fontSize:"32px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",strokeThickness:2});const ot=this.createItemButtonsFromStorage(),pt=90,C=V*.18;ot.forEach((A,s)=>{this.createItemButton(C+s*pt,K*.15,A)})}createDeck(){this.gameManager.getCardManager().initializeCreateDeck(this)}useItem(V){console.log(`Sử dụng item: ${V}`);const{width:K,height:ht}=this.scale,ot=this.add.text(K/2,ht*.8,`Đã sử dụng ${V}!`,{fontSize:"18px",fill:"#f39c12",stroke:"#2c3e50",strokeThickness:2}).setOrigin(.5);this.time.delayedCall(2e3,()=>{ot.destroy()})}createItemButton(V,K,ht){const ot=this.add.container(V,K),pt=68,C=this.add.graphics();C.fillStyle(7171437,1),C.fillRoundedRect(-pt/2,-pt/2,pt,pt,20),C.setAlpha(.5);const A=this.add.image(0,0,ht.image);A.setDisplaySize(80,80);const s=this.add.text(pt/2,-pt/2,ht.cooldown.toString(),{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",stroke:"#000000",strokeThickness:5});return s.setOrigin(.5),ot.add([C,A,s]),ot.setSize(pt,pt),ot.setInteractive(),ot.on("pointerover",()=>{ot.setScale(1.1)}),ot.on("pointerout",()=>{ot.setScale(1)}),ot.on("pointerdown",()=>{this.useItem(ht.name)}),ot}createItemButtonsFromStorage(){try{const V=localStorage.getItem("equipment");if(V&&V!=="null"){const K=JSON.parse(V);if(Array.isArray(K)&&K.length>0){const ht=K.map(ot=>cv.createItem(ot));return console.log("Item buttons created from equipment:",ht),ht}}return console.log("No equipment data found, returning empty item buttons"),[]}catch(V){return console.error("Error creating item buttons from storage:",V),[]}}}class Lh{static createGradientText(V,K){const{text:ht="text default",x:ot=0,y:pt=0,width:C,height:A,fontSize:s,fontFamily:g="Arial",gradientColors:y=["#cbbd1bff","#c57826ff","#8c3c0eff"],strokeColor:f="#1f0612ff",strokeWidth:l}=K,o=C||V.scale.width,r=A||V.scale.height,h=Math.max(100,Math.floor(o*.8)),u=Math.max(50,Math.floor(r*.15)),a=s||Math.max(32,Math.min(64,Math.floor(h/10))),d=l||Math.max(2,Math.floor(a/18)),c=`gradientText_${ht}`;if(!V.textures.exists(c)){const v=V.textures.createCanvas(c,h,u),m=v.getContext("2d");m.clearRect(0,0,h,u);const T=m.createLinearGradient(0,0,0,u);T.addColorStop(0,y[0]),T.addColorStop(.5,y[1]),T.addColorStop(1,y[2]),m.font=`bold ${a}px ${g}`,m.textAlign="center",m.textBaseline="middle",m.lineWidth=d,m.strokeStyle=f,m.strokeText(ht,h/2,u/2),m.fillStyle=T,m.fillText(ht,h/2,u/2),v.refresh()}return V.add.image(ot,pt,c).setOrigin(.5)}static createGameTitle(V,K,ht,ot){return this.createGradientText(V,{text:K,x:ht,y:ot,gradientColors:["#cbbd1bff","#c57826ff","#8c3c0eff"],strokeColor:"#1f0612ff"})}}class uu{static createHeaderUI(V,K,ht){const ot=localStorage.getItem("totalCoin")||"0",pt=V.add.text(K*.05,ht*.05,`🪙 : ${ot}`,{fontSize:"32px",fill:"#ffffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",stroke:"#000000ff",strokeThickness:2}),C=V.add.text(K*.935,ht*.065,"⚙️",{fontSize:"32px",fontFamily:"Arial, sans-serif"}).setOrigin(.5,.5);return C.setInteractive({useHandCursor:!0}),C.on("pointerover",()=>{V.tweens.add({targets:C,rotation:Math.PI*2,duration:500,ease:"Power2"})}),C.on("pointerdown",()=>{console.log("Settings button được click!")}),{updateCoinDisplay:A=>{pt.setText(`🪙 : ${A}`)}}}}class av{static create(V,K,ht,ot,pt=null,C=null,A=76){const s=V.add.sprite(K,ht,ot);pt&&C&&s.setDisplaySize(pt,C);const g=`${ot}-animation`;return V.anims.exists(g)||V.anims.create({key:g,frames:V.anims.generateFrameNumbers(ot,{start:0,end:A-1}),frameRate:12,repeat:-1}),s.play(g),s}static changeTexture(V,K,ht=76){if(!V||!V.scene){console.warn("SpritesheetCharacter: Sprite không hợp lệ");return}const ot=V.anims.currentAnim?V.anims.currentAnim.key:null;V.anims.isPlaying&&V.anims.stop(),V.setTexture(K);const pt=`${K}-animation`;if(V.scene.anims.exists(pt)?console.log(`SpritesheetCharacter: Sử dụng animation có sẵn ${pt}`):(V.scene.anims.create({key:pt,frames:V.scene.anims.generateFrameNumbers(K,{start:0,end:ht-1}),frameRate:12,repeat:-1}),console.log(`SpritesheetCharacter: Đã tạo animation mới ${pt}`)),V.play(pt),ot&&ot!==pt){const C=V.scene.children.list.filter(A=>A.type==="Sprite"&&A.anims&&A.anims.currentAnim&&A.anims.currentAnim.key===ot);C.length===0?(V.scene.anims.remove(ot),console.log(`SpritesheetCharacter: Đã xóa animation cũ ${ot}`)):console.log(`SpritesheetCharacter: Giữ animation cũ ${ot} vì còn ${C.length} sprite đang sử dụng`)}return V}}const KS=[{id:"eula",name:"Eula",description:"Eula – nữ thần của thủy quyền, đại diện cho sự cân bằng giữa lực lượng và tình cảm. Bên ngoài là vị thần đầy sức mạnh, nhưng bên trong là người phụ nữ đầy tình cảm và nhạy cảm.",hp:10,element:"cryo"},{id:"furina",name:"Furina",description:"Furina – nữ thần của thủy quyền, đại diện cho sự cân bằng giữa lực lượng và tình cảm. Bên ngoài là vị thần đầy sức mạnh, nhưng bên trong là người phụ nữ đầy tình cảm và nhạy cảm.",hp:12,element:"hydro"},{id:"mavuika",name:"Mavuika",description:"Mavuika – Hỏa Thần Natlan, biểu tượng của sức mạnh và ý chí bất khuất. Ngọn lửa trong nàng cháy rực như tinh thần chiến binh, soi sáng con đường tự do và khát vọng vĩnh cửu.",hp:11,element:"pyro"},{id:"nahida",name:"Nahida",description:"Nahida – Tiểu Vương Kusanali, vị Thảo Thần bé nhỏ của Sumeru. Với trái tim thuần khiết và trí tuệ hiền hòa, nàng mang khát vọng dẫn dắt nhân loại đến sự khai sáng và tự do.",hp:9,element:"dendro"},{id:"raiden",name:"Raiden",description:"Raiden Shogun – vĩnh hằng thống trị Inazuma, kiếm thần uy nghiêm với quyết tâm bất diệt. Bên ngoài lạnh lùng nhưng ẩn sâu là khát vọng giữ trọn lời hứa và bảo vệ thần dân.",hp:10,element:"electro"},{id:"venti",name:"Venti",description:"Venti – nhà thơ du ca tự do, chính là Phong Thần Mondstadt. Dáng vẻ nghịch ngợm và phóng khoáng, nhưng bên trong là vị thần nhân từ luôn dùng âm nhạc để xoa dịu lòng người.",hp:8,element:"anemo"},{id:"zhongli",name:"Zhongli",description:"Zhongli – hiền giả tao nhã, thực chất là Nham Thần Liyue. Với trí tuệ hàng ngàn năm và phong thái điềm tĩnh, ông là hiện thân của vững bền, mang gánh nặng lịch sử nặng nề.",hp:10,element:"geo"}];class pX extends he.Scene{constructor(){super({key:"MenuScene"}),this.cards=KS}preload(){}create(){const{width:V,height:K}=this.scale;this.add.image(V/2,K/2,"background").setDisplaySize(V,K),this.textures.exists("background")||this.add.rectangle(V/2,K/2,V,K,9852778),uu.createHeaderUI(this,V,K),Lh.createGameTitle(this,"DUNGEON CARD",V/2,K*.18),this.createCardSpreadContainer(V/2,K*.5),this.createButton(V/2-V*.3,K*.8,"library","Thư viện","LibraryScene"),this.createButton(V/2,K*.8,"compass","Thám hiểm","MapScenes"),this.createButton(V/2+V*.3,K*.8,"equip","Trang bị","EquipScene");const ot=this.add.text(V/2,K*.95,"OPTIONS",{fontSize:"24px",fill:"#95a5a6",fontFamily:"Arial",stroke:"#2c3e50",strokeThickness:1}).setOrigin(.5);ot.on("pointerdown",()=>{this.scene.stop("GameScene"),this.scene.start("LoadingScene",{targetScene:"GameScene"})}),ot.setInteractive({useHandCursor:!0}),ot.on("pointerover",()=>{ot.setStyle({fill:"#7f8c8d"})}),ot.on("pointerout",()=>{ot.setStyle({fill:"#95a5a6"})})}createButton(V,K,ht,ot,pt){const C=this.add.container(V,K),A=this.add.image(0,20,ht);A.setDisplaySize(180,180);const s=this.add.text(0,-80,ot,{fontSize:"28px",fill:"#ffffffff",fontFamily:"Arial",stroke:"#000000ff",strokeThickness:2}).setOrigin(.5);s.setAlpha(0),C.add([A,s]),C.setInteractive(new he.Geom.Rectangle(-90,-90,180,180),he.Geom.Rectangle.Contains),C.on("pointerdown",()=>{this.scene.start("LoadingScene",{targetScene:pt})}),C.on("pointerover",()=>{this.tweens.add({targets:s,alpha:1,duration:200,ease:"Power2"}),C.setScale(1.1)}),C.on("pointerout",()=>{this.tweens.add({targets:s,alpha:0,duration:200,ease:"Power2"}),C.setScale(1)})}createCardSpreadContainer(V,K){const ht=this.add.container(V,K),ot=260,pt=445.7142,C=-180,A=[-15,0,15],s=[0,2,1],g=[];s.forEach(y=>{const f=(y-1)*(ot+C),l=Math.abs(y-1)*10,o=this.add.container(f,l);let r=localStorage.getItem("selectedCharacter"),h=this.cards[this.cards.length-1].image,u=this.cards[0].image,a=this.cards[1].image;if(r!==null)try{const c=r,p=this.cards.findIndex(v=>v.image===c);p!==-1?(u=this.cards[p].image,h=this.cards[(p-1+this.cards.length)%this.cards.length].image,a=this.cards[(p+1)%this.cards.length].image):console.warn("Không tìm thấy card")}catch{console.warn("Không tìm thấy card")}else console.warn("Không tìm thấy card");let d=null;y===0?d=av.create(this,0,0,h+"-sprite",ot,pt):y===1?(d=av.create(this,0,0,u+"-sprite",ot,pt),o.setScale(1.02),o.setPosition(f,l-10)):y===2&&(d=av.create(this,0,0,a+"-sprite",ot,pt)),d.setOrigin(.5),o.add(d),o.setRotation(he.Math.DegToRad(A[y])),ht.add(o),g.push(o)}),ht.setInteractive(new he.Geom.Rectangle(-200,-200,400,400),he.Geom.Rectangle.Contains),ht.on("pointerover",()=>{const y=[-18,18,0],f=[-120,120,0],l=[0,0,-30],o=[1.02,1.02,1.02];g.forEach((r,h)=>{const u=he.Math.DegToRad(y[h]);this.tweens.add({targets:r,x:f[h],y:l[h],rotation:u,scale:o[h],duration:300,ease:"Power2"})})}),ht.on("pointerout",()=>{const y=[-15,15,0],f=[-80,80,0],l=[0,0,-20],o=[1,1,1.02];g.forEach((r,h)=>{const u=he.Math.DegToRad(y[h]);this.tweens.add({targets:r,rotation:u,x:f[h],y:l[h],scale:o[h],duration:300,ease:"Power2"})})}),ht.on("pointerdown",()=>{this.scene.start("LoadingScene",{targetScene:"SelectCharacterScene"})})}}class gX extends he.Scene{constructor(){super({key:"EquipScene"}),this.equipmentSlots=new Array(3).fill(null)}preload(){}create(){const{width:V,height:K}=this.scale;this.add.image(V/2,K/2,"background"),this.headerUI=uu.createHeaderUI(this,V,K),Lh.createGameTitle(this,"TRANG BỊ",V/2,K*.18),this.createItemGrid(V,K),this.createEquipmentSlots(V,K),this.createBackButton(V,K),this.initializeEquipmentSlots()}wake(){console.log("EquipScene woke up - reinitializing equipment slots"),this.initializeEquipmentSlots()}createItemGrid(V,K){const A=cv.getItemKeys();this.listItems=new Map,A.forEach(h=>{const u=cv.createItem(h);u&&this.listItems.set(h,{item:u,container:null})});const s=K*.25,g=4*120+3*20+40,y=3*120+2*20+40,f=V/2,l=s+(3*140-20)/2,o=this.add.graphics();o.fillStyle(0,.5),o.fillRoundedRect(-g/2,-y/2,g,y,20),o.strokeRoundedRect(-g/2,-y/2,g,y,20);const r=this.add.container(f,l);r.add(o);for(let h=0;h<3;h++)for(let u=0;u<4;u++){const a=h*4+u,d=A[a],c=(u-3/2)*140,p=(h-2/2)*140,v=this.add.container(c,p),m=this.add.graphics();m.fillStyle(8421504,.3),m.fillRoundedRect(-120/2,-120/2,120,120,15),m.strokeRoundedRect(-120/2,-120/2,120,120,15);const T=this.add.image(0,0,d);T.setDisplaySize(120,120),T.setOrigin(.5),v.add([m,T]),r.add(v),this.listItems.get(d).container=v,v.setInteractive(new he.Geom.Rectangle(-120/2,-120/2,120,120),he.Geom.Rectangle.Contains),v.on("pointerover",()=>{v.setScale(1.1)}),v.on("pointerout",()=>{v.setScale(1)}),v.on("pointerdown",()=>{console.log(`Item clicked: ${d} at Row ${h}, Col ${u}`);const E=this.listItems.get(d);E&&E.item&&this.showItemDialog(E.item,!1)})}}createEquipmentSlots(V,K){const C=K*.7,A=V/2,s=C,g=this.add.container(A,s);for(let y=0;y<3;y++){const f=(y-1)*150,l=this.add.container(f,0),o=this.add.graphics();o.fillStyle(8421504,.5),o.lineStyle(2,0,.5),o.fillRoundedRect(-120/2,-120/2,120,120,10),o.strokeRoundedRect(-120/2,-120/2,120,120,10);let r;this.equipmentSlots[y]&&this.equipmentSlots[y].item?(r=this.add.image(0,0,this.equipmentSlots[y].item.image),r.setDisplaySize(120,120)):(r=this.add.image(0,0,"equipment-slot"),r.setDisplaySize(120*.8,120*.8),r.setAlpha(.3)),r.setOrigin(.5),l.add([o,r]),g.add(l),this.equipmentSlots[y]={item:null,image:r},l.setInteractive(new he.Geom.Rectangle(-120/2,-120/2,120,120),he.Geom.Rectangle.Contains),l.on("pointerover",()=>{this.equipmentSlots[y]&&this.equipmentSlots[y].item&&l.setScale(1.1)}),l.on("pointerout",()=>{this.equipmentSlots[y]&&this.equipmentSlots[y].item&&l.setScale(1)}),l.on("pointerdown",()=>{console.log(`Equipment slot clicked: Column ${y}`),this.equipmentSlots[y]&&this.equipmentSlots[y].item&&this.showItemDialog(this.equipmentSlots[y].item,!0)})}}addEquipmentSlot(V){const K=this.equipmentSlots.findIndex(ht=>ht.item===null);if(K!==-1){this.equipmentSlots[K].item=V;const ht=this.equipmentSlots[K];return ht.image&&(ht.image.setTexture(V.image),ht.image.setDisplaySize(120,120),ht.image.setAlpha(1)),K}return null}getEquipmentSlot(V){return V>=0&&V<3?this.equipmentSlots[V]:(console.warn("Equipment slot index out of bounds"),null)}clearEquipmentSlot(V){const K=this.equipmentSlots.findIndex(ht=>ht&&ht.item&&ht.item.nameId===V);if(K!==-1){const ht=this.equipmentSlots[K];ht&&(ht.item=null,ht.image&&(ht.image.setTexture("equipment-slot"),ht.image.setDisplaySize(120*.8,120*.8),ht.image.setAlpha(.3)))}else console.warn(`Item with nameId '${V}' not found in equipment slots`)}isFullEquipmentSlot(){return this.equipmentSlots.every(V=>V&&V.item!==null)}showItemDialog(V,K=!1){const{width:ht,height:ot}=this.scale,pt=this.add.graphics();pt.fillStyle(0,.8),pt.fillRect(0,0,ht,ot);const C=Math.floor(ht*.9),A=500,s=ht/2,g=ot/2,y=this.add.container(s,g),f=this.add.graphics();f.fillStyle(2952481,.98),f.lineStyle(3,9852778,1),f.fillRoundedRect(-C/2,-A/2,C,A,20),f.strokeRoundedRect(-C/2,-A/2,C,A,20);const l=this.add.text(0,-A/2+30,`${V.name}`,{fontSize:"32px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}).setOrigin(.5),o=this.add.image(0,-120,V.image);o.setDisplaySize(180,180),o.setOrigin(.5);const r=this.add.text(0,0,V.description,{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",lineSpacing:10}).setOrigin(.5),h=this.add.graphics(),u=180,a=40,d=-120,c=80;h.fillStyle(9852778,.9),h.lineStyle(2,2033172,1),h.fillRoundedRect(d-u/2,c-a/2,u,a,10),h.strokeRoundedRect(d-u/2,c-a/2,u,a,10);const p=this.add.text(d,c,`Power⚔️ : ${V.power}`,{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}).setOrigin(.5),v=this.add.graphics(),m=180,T=40,E=120,P=80;v.fillStyle(9852778,.9),v.lineStyle(2,2033172,1),v.fillRoundedRect(E-m/2,P-T/2,m,T,10),v.strokeRoundedRect(E-m/2,P-T/2,m,T,10);const w=this.add.text(E,P,`Cooldown⏱️ : ${V.cooldown}`,{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}).setOrigin(.5),R=this.add.container(0,A/2-50),L=this.add.text(-200,-42,`🪙${V.getPrice()}`,{fontSize:"20px",fill:"#ffffff",fontWeight:"bold",fontFamily:"Arial, sans-serif"}).setOrigin(.5);L.setAlpha(0);const O=this.add.text(-200,0,V.level===0?"UNLOCK":V.isUpgrade()?"UPGRADE":"LEVEL MAX",{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:V.isUpgrade()?"#622945":"#45162c",padding:{x:25,y:12}}).setOrigin(.5);O.setStroke("#45162c",2),V.isUpgrade()?(O.setInteractive({useHandCursor:!0}),O.on("pointerover",()=>{O.setScale(1.1),L.setAlpha(1)}),O.on("pointerout",()=>{O.setScale(1),L.setAlpha(0)}),O.on("pointerdown",()=>{V.upgrade()&&(r.setText(V.description),p.setText(`Power⚔️ : ${V.power}`),w.setText(`Cooldown⏱️ : ${V.cooldown}`),L.setText(`🪙${V.getPrice()}`),V.isUpgrade()?V.level>0&&O.setText("UPGRADE"):(O.setText("LEVEL MAX"),O.setStyle({backgroundColor:"#45162c"}),O.disableInteractive(),O.off("pointerover"),O.off("pointerout"),O.off("pointerdown"),L.setAlpha(0)))})):O.disableInteractive();const I=this.add.text(0,0,K?"DESELECT":"SELECT",{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#622945",padding:{x:25,y:12}}).setOrigin(.5);I.setStroke("#45162c",2),!K&&this.isFullEquipmentSlot()?I.setVisible(!1):(I.setInteractive({useHandCursor:!0}),I.on("pointerover",()=>I.setScale(1.1)),I.on("pointerout",()=>I.setScale(1)),I.on("pointerdown",()=>{console.log(`Select item: ${V.name}`),K?(this.clearEquipmentSlot(V.nameId),this.listItems.get(V.nameId).container.setVisible(!0),pt.destroy(),y.destroy(),this.input.keyboard.off("keydown-ESC")):(this.addEquipmentSlot(V),this.listItems.get(V.nameId).container.setVisible(!1),pt.destroy(),y.destroy(),this.input.keyboard.off("keydown-ESC"))}));const F=this.add.text(200,0,"CLOSE",{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#622945",padding:{x:25,y:12}}).setOrigin(.5);F.setStroke("#45162c",2),F.setInteractive({useHandCursor:!0}),F.on("pointerover",()=>F.setScale(1.1)),F.on("pointerout",()=>F.setScale(1)),F.on("pointerdown",()=>{pt.destroy(),y.destroy(),this.input.keyboard.off("keydown-ESC")}),O&&(R.add(O),R.add(L)),R.add(I),R.add(F);const B=[f,l,o,r,h,p,v,w,R];y.add(B),pt.setInteractive(new he.Geom.Rectangle(0,0,ht,ot),he.Geom.Rectangle.Contains),this.input.keyboard.on("keydown-ESC",()=>{pt.destroy(),y.destroy(),this.input.keyboard.off("keydown-ESC")})}createBackButton(V,K){const ht=this.add.text(V*.5,K*.9,"SELECT",{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#622945",padding:{x:25,y:12}}).setOrigin(.5);ht.setInteractive({useHandCursor:!0}),ht.on("pointerover",()=>{ht.setScale(1.1),ht.setTint(13750737)}),ht.on("pointerout",()=>{ht.setScale(1),ht.clearTint()}),ht.on("pointerdown",()=>{const ot=this.equipmentSlots.filter(C=>C&&C.item&&C.item.nameId).map(C=>C.item.nameId),pt=ot.length>0?ot:null;localStorage.setItem("equipment",JSON.stringify(pt)),this.scene.start("MenuScene")})}initializeEquipmentSlots(){try{const V=localStorage.getItem("equipment");if(V&&V!=="null"){const K=JSON.parse(V);Array.isArray(K)&&K.length>0?(this.resetEquipmentSlots(),K.forEach(ht=>{if(ht&&this.listItems.has(ht)){const ot=this.listItems.get(ht);ot&&ot.item&&(this.addEquipmentSlot(ot.item),ot.container&&ot.container.setVisible(!1))}}),console.log("Equipment slots initialized from localStorage:",K)):this.resetEquipmentSlots()}else this.resetEquipmentSlots()}catch(V){console.error("Error initializing equipment slots:",V),this.resetEquipmentSlots()}}resetEquipmentSlots(){this.listItems.forEach(V=>{V.container&&V.container.setVisible(!0)});for(let V=0;V<this.equipmentSlots.length;V++)this.equipmentSlots[V]&&this.equipmentSlots[V].image&&(this.equipmentSlots[V].item=null,this.equipmentSlots[V].image.setTexture("equipment-slot"),this.equipmentSlots[V].image.setDisplaySize(120*.8,120*.8),this.equipmentSlots[V].image.setAlpha(.3))}}const US=9852778,mX=2033172;class xX extends he.Scene{constructor(){super({key:"LibraryScene"})}preload(){this.load.image("empty","assets/images/cards/empty.webp")}create(){const{width:V,height:K}=this.scale;this.add.image(V/2,K/2,"background"),this.add.rectangle(V/2,K/2,V,K,0).setAlpha(.5),Lh.createGameTitle(this,"Library Cards",V/2,K*.12),uu.createHeaderUI(this,V,K);var ht=this.createCardPanel();this.rexUI.add.scrollablePanel({x:V/2,y:K*.52,height:K*.7,width:V*.9,scrollMode:"y",background:this.rexUI.add.roundRectangle({strokeColor:US,radius:10}),panel:{child:ht,mask:{padding:10}},slider:{track:this.rexUI.add.roundRectangle({width:20,radius:10,color:mX}),thumb:this.rexUI.add.roundRectangle({radius:13,color:US})},mouseWheelScroller:{focus:!1,speed:.1},touchScroll:!0,touchScrollBehavior:"pan",space:{left:20,right:20,top:20,bottom:20,panel:5}}).layout().setChildrenInteractive({targets:ht.children}).on("child.click",ot=>{console.log("LibraryScene: Card clicked!"),console.log("Child object:",ot),console.log(`Card Index: ${ot.cardIndex}`),console.log(`Card Name: ${ot.name}`)}),this.createBackButton(V,K)}createBackButton(V,K){const ht=this.add.text(V*.5,K*.9,"BACK",{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#622945",padding:{x:25,y:12}}).setOrigin(.5);ht.setInteractive({useHandCursor:!0}),ht.on("pointerover",()=>{ht.setScale(1.1),ht.setTint(13750737)}),ht.on("pointerout",()=>{ht.setScale(1),ht.clearTint()}),ht.on("pointerdown",()=>{this.scene.start("MenuScene")})}createCardPanel(){var V=this.rexUI.add.sizer({orientation:"y",space:{item:30}});for(let ht=0;ht<12;ht++){var K=this.rexUI.add.sizer({orientation:"x",space:{item:30}});for(let ot=0;ot<3;ot++){let pt=ht*3+ot,C=this.createCard(pt+1);K.add(C)}V.add(K)}return V}createCard(V,K=160,ht=274.3){let ot=this.rexUI.add.roundRectangle({x:0,y:0,width:K+4,height:ht+4,strokeColor:16777215,strokeThickness:2,radius:Math.min(K,ht)*.08}),pt=this.add.image(0,0,"eula").setDisplaySize(K,ht),C=this.add.text(0,ht*.35,`Card ${V}`,{fontSize:Math.max(8,K*.15),fill:"#ffffff",fontFamily:"Arial",stroke:"#000000",strokeThickness:Math.max(1,K*.02)}).setOrigin(.5),A=this.add.container().setSize(K,ht).add([ot,pt,C]);return A.cardIndex=V,A.name=`card_${V}`,A}}class yX extends he.Scene{constructor(){super({key:"MapScenes"}),this.currentPage=0,this.itemsPerPage=5,this.dungeonButtons=[]}preload(){}create(){const{width:V,height:K}=this.scale;this.add.image(V/2,K/2,"background"),this.add.rectangle(V/2,K/2,V,K,0).setAlpha(.5),Lh.createGameTitle(this,"DUNGEON MAP",V/2,K*.18),this.dungeonContainer=this.add.container(V/2,K*.5),this.createInitialDungeonButtons(V,K),this.createPaginationButtons(V,K),this.showCurrentPage()}createInitialDungeonButtons(V,K){const ht=V*.7,ot=K*.08,pt=20;for(let C=0;C<5;C++){const A=(C-2)*(ot+pt),s=this.add.rectangle(0,A,ht,ot,6433093);s.setAlpha(.5),s.setStrokeStyle(3,9852778),s.setInteractive();const g=this.add.text(0,A,"",{fontSize:"32px",fill:"#ffffff",fontFamily:"Arial",stroke:"#000000",strokeThickness:2}).setOrigin(.5);s.on("pointerover",()=>{s.setFillStyle(9774171),s.setStrokeStyle(3,16777215)}),s.on("pointerout",()=>{s.setFillStyle(6433093),s.setStrokeStyle(3,9852778)}),s.dungeonData=null,s.on("pointerdown",()=>{if(s.dungeonData){const{name:f,stageId:l}=s.dungeonData;console.log("MapScenes: Dungeon clicked!"),console.log(`stageId: ${l}`),console.log(`name: ${f}`),console.log("TODO: Implement dungeon logic"),this.scene.stop("GameScene"),this.scene.start("LoadingScene",{targetScene:"GameScene",dataTargetScene:{stageId:l}})}});const y=this.add.container(0,0);y.add([s,g]),this.dungeonButtons[C]=y,y.setVisible(!1),this.dungeonContainer.add(y)}console.log("MapScenes: Initial 5 dungeon buttons created and hidden")}updateDungeonButton(V,K,ht){V.getAt(1).setText(K);const pt=V.getAt(0);pt.dungeonData={name:K,stageId:ht},console.log(`MapScenes: Button updated - "${K}"`)}createPaginationButtons(V,K){const ht=K*.8,ot=this.add.text(V*.3,ht,"‹",{fontSize:"40px",fill:"#ffffff",fontFamily:"Arial",stroke:"#000000",strokeThickness:2}).setOrigin(.5);ot.setInteractive({useHandCursor:!0}),ot.on("pointerdown",()=>{ot.text==="«"?this.scene.start("MenuScene"):this.previousPage()});const pt=this.add.text(V*.7,ht,"›",{fontSize:"40px",fill:"#ffffff",fontFamily:"Arial",stroke:"#000000",strokeThickness:2}).setOrigin(.5);pt.setInteractive({useHandCursor:!0}),pt.on("pointerdown",()=>{this.nextPage()}),[ot,pt].forEach(C=>{C.on("pointerover",()=>{C.setStyle({fill:"#ffd700"})}),C.on("pointerout",()=>{C.setStyle({fill:"#ffffff"})})}),this.prevButton=ot,this.nextButton=pt}showCurrentPage(){const V=this.currentPage*this.itemsPerPage,K=Math.min(V+this.itemsPerPage,dn.length),ht=dn.slice(V,K);console.log(`MapScenes: Showing page ${this.currentPage+1}, items ${V+1}-${K}`);for(let ot=0;ot<5;ot++)if(ot<ht.length){const pt=ht[ot];this.updateDungeonButton(this.dungeonButtons[ot],pt.name,pt.stageId),this.dungeonButtons[ot].setVisible(!0),console.log(`MapScenes: Button ${ot} updated with "${pt.name}" (baseIndex: ${V+ot})`)}else this.dungeonButtons[ot].setVisible(!1),console.log(`MapScenes: Button ${ot} hidden (no data)`);this.updatePaginationButtons()}previousPage(){this.currentPage>0&&(this.currentPage--,this.showCurrentPage())}nextPage(){const V=Math.ceil(dn.length/this.itemsPerPage)-1;this.currentPage<V&&(this.currentPage++,this.showCurrentPage())}updatePaginationButtons(){this.currentPage>0?(this.prevButton.setText("‹"),this.prevButton.setStyle({fill:"#ffffff"}),this.prevButton.setInteractive()):(this.prevButton.setText("«"),this.prevButton.setInteractive());const V=Math.ceil(dn.length/this.itemsPerPage)-1;this.currentPage<V?(this.nextButton.setStyle({fill:"#ffffff"}),this.nextButton.setInteractive()):(this.nextButton.setStyle({fill:"#666666"}),this.nextButton.disableInteractive())}}class CX extends he.Scene{constructor(){super({key:"SelectCharacterScene"}),this.cards=KS,this.currentCardIndex=this.initializeCurrentCardIndex()}preload(){}create(){const{width:V,height:K}=this.scale;this.add.image(V/2,K/2,"background").setDisplaySize(V,K),this.textures.exists("background")||this.add.rectangle(V/2,K/2,V,K,2899536),this.headerUI=uu.createHeaderUI(this,V,K),Lh.createGameTitle(this,"CHARACTER",V/2,K*.12),this.createInfoPanel(V,K),this.createCurrentCardDisplay(V,K),this.createNavigationButtons(V,K),this.createBackButton(V,K),this.updateCardDisplay()}createInfoPanel(V,K){const ht=this.add.graphics();ht.fillStyle(9852778,.8),ht.fillRoundedRect(V*.1,K*.15,V*.8,K*.25,20),ht.lineStyle(3,2033172,1),ht.strokeRoundedRect(V*.1,K*.15,V*.8,K*.25,20),this.cardNameText=this.add.text(V*.5,K*.18,"",{fontSize:"32px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}).setOrigin(.5),this.cardLevelText=this.add.text(V*.82,K*.18,"level 1",{fontSize:"20px",fill:"#FFD700",fontFamily:"Arial, sans-serif",fontWeight:"bold"}).setOrigin(.5),this.cardElementImage=this.add.image(V*.1+32,K*.15+32,"element-cryo"),this.cardElementImage.setDisplaySize(32,32),this.cardDescriptionText=this.add.text(V*.5,K*.26,"",{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",wordWrap:{width:V*.75},align:"center"}).setOrigin(.5),this.cardHPText=this.add.text(V*.5,K*.32,"❤️ 7",{fontSize:"32px",fill:"#ffffff",fontFamily:"Arial, sans-serif",wordWrap:{width:V*.75},align:"center"}).setOrigin(.5),this.upgradeButton=this.add.text(V*.5,K*.36,"UPGRADE",{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#95245b",padding:{x:20,y:10}}).setOrigin(.5),this.upgradeButton.setInteractive({useHandCursor:!0}),this.upgradeButton.on("pointerover",()=>{this.upgradeButton.setTint(13750737)}),this.upgradeButton.on("pointerout",()=>{this.upgradeButton.clearTint()}),this.upgradeButton.on("pointerdown",()=>{console.log("Upgrade button clicked!")})}createCurrentCardDisplay(V,K){this.currentCardContainer=this.add.container(V/2,K*.65),this.currentCardImage=this.add.image(0,0,"eula"),this.currentCardImage.setDisplaySize(300,514);const ht=this.add.graphics();ht.lineStyle(4,16777215,1),ht.fillRoundedRect(-152,-259,304,518,28),ht.strokeRoundedRect(-152,-259,304,518,28),this.currentCardContainer.add(ht),this.currentCardContainer.add(this.currentCardImage)}createNavigationButtons(V,K){this.prevButton=this.add.text(V*.2,K*.65,"◀",{fontSize:"28px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",padding:{x:20,y:15}}).setOrigin(.5),this.prevButton.setInteractive({useHandCursor:!0}),this.prevButton.on("pointerover",()=>{}),this.prevButton.on("pointerout",()=>{}),this.prevButton.on("pointerdown",()=>{this.previousCard()}),this.nextButton=this.add.text(V*.8,K*.65,"▶",{fontSize:"28px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",padding:{x:20,y:15}}).setOrigin(.5),this.nextButton.setInteractive({useHandCursor:!0}),this.nextButton.on("pointerover",()=>{this.nextButton.setScale(1.1)}),this.nextButton.on("pointerout",()=>{this.nextButton.setScale(1)}),this.nextButton.on("pointerdown",()=>{this.nextCard()})}createBackButton(V,K){this.backButton=this.add.text(V*.5,K*.9,"SELECT",{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#622945",padding:{x:25,y:12}}).setOrigin(.5),this.backButton.setInteractive({useHandCursor:!0}),this.backButton.on("pointerover",()=>{this.backButton.setScale(1.1),this.backButton.setTint(13750737)}),this.backButton.on("pointerout",()=>{this.backButton.setScale(1),this.backButton.clearTint()}),this.backButton.on("pointerdown",()=>{localStorage.setItem("selectedCharacter",this.cards[this.currentCardIndex].image),this.scene.start("MenuScene")})}updateCardDisplay(){const V=this.cards[this.currentCardIndex];this.cardNameText.setText(V.name),this.cardElementImage.setTexture(`element-${V.element.toLowerCase()}`),this.cardDescriptionText.setText(V.description),this.currentCardImage.setTexture(V.image),this.prevButton.setAlpha(this.currentCardIndex===0?.5:1),this.nextButton.setAlpha(this.currentCardIndex===this.cards.length-1?.5:1)}previousCard(){this.currentCardIndex>0&&(this.currentCardIndex--,this.updateCardDisplay())}nextCard(){this.currentCardIndex<this.cards.length-1&&(this.currentCardIndex++,this.updateCardDisplay())}initializeCurrentCardIndex(){let V=0;const K=localStorage.getItem("selectedCharacter");if(K!==null)try{const ht=K,ot=this.cards.findIndex(pt=>pt.image===ht);return ot!==-1?(console.log(`SelectCharacterScene: Đã tìm thấy selectedCharacter "${ht.name}" tại index ${ot}`),ot):(console.warn(`SelectCharacterScene: Không tìm thấy selectedCharacter "${ht.name}" trong mảng cards, sử dụng index mặc định ${V}`),V)}catch(ht){return console.warn(`SelectCharacterScene: Lỗi parse selectedCharacter, sử dụng index mặc định ${V}`,ht),V}else return console.log(`SelectCharacterScene: Không có selectedCharacter, sử dụng index mặc định ${V}`),V}}const SX={type:he.AUTO,width:720,height:1280,parent:"game-container",backgroundColor:"#96576a",scale:{mode:he.Scale.FIT,autoCenter:he.Scale.CENTER_BOTH},plugins:{scene:[{key:"rexUI",plugin:tU,mapping:"rexUI"}]},scene:[dU,pX,CX,gX,xX,yX,vX]},TX=new he.Game(SX);window.game=TX;
