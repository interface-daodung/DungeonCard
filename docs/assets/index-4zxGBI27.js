var OW=Object.defineProperty;var FW=(At,J,tt)=>J in At?OW(At,J,{enumerable:!0,configurable:!0,writable:!0,value:tt}):At[J]=tt;var fe=(At,J,tt)=>FW(At,typeof J!="symbol"?J+"":J,tt);(function(){const J=document.createElement("link").relList;if(J&&J.supports&&J.supports("modulepreload"))return;for(const ht of document.querySelectorAll('link[rel="modulepreload"]'))ot(ht);new MutationObserver(ht=>{for(const gt of ht)if(gt.type==="childList")for(const C of gt.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&ot(C)}).observe(document,{childList:!0,subtree:!0});function tt(ht){const gt={};return ht.integrity&&(gt.integrity=ht.integrity),ht.referrerPolicy&&(gt.referrerPolicy=ht.referrerPolicy),ht.crossOrigin==="use-credentials"?gt.credentials="include":ht.crossOrigin==="anonymous"?gt.credentials="omit":gt.credentials="same-origin",gt}function ot(ht){if(ht.ep)return;ht.ep=!0;const gt=tt(ht);fetch(ht.href,gt)}})();var ET=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MT(At){return At&&At.__esModule&&Object.prototype.hasOwnProperty.call(At,"default")?At.default:At}var wT={exports:{}};(function(At,J){(function(ot,ht){At.exports=ht()})(ET,()=>(()=>{var tt={50792:C=>{var A=Object.prototype.hasOwnProperty,s="~";function g(){}Object.create&&(g.prototype=Object.create(null),new g().__proto__||(s=!1));function y(r,o,u){this.fn=r,this.context=o,this.once=u||!1}function f(r,o,u,a,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var c=new y(u,a||r,d),p=s?s+o:o;return r._events[p]?r._events[p].fn?r._events[p]=[r._events[p],c]:r._events[p].push(c):(r._events[p]=c,r._eventsCount++),r}function l(r,o){--r._eventsCount===0?r._events=new g:delete r._events[o]}function h(){this._events=new g,this._eventsCount=0}h.prototype.eventNames=function(){var o=[],u,a;if(this._eventsCount===0)return o;for(a in u=this._events)A.call(u,a)&&o.push(s?a.slice(1):a);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(u)):o},h.prototype.listeners=function(o){var u=s?s+o:o,a=this._events[u];if(!a)return[];if(a.fn)return[a.fn];for(var d=0,c=a.length,p=new Array(c);d<c;d++)p[d]=a[d].fn;return p},h.prototype.listenerCount=function(o){var u=s?s+o:o,a=this._events[u];return a?a.fn?1:a.length:0},h.prototype.emit=function(o,u,a,d,c,p){var v=s?s+o:o;if(!this._events[v])return!1;var m=this._events[v],T=arguments.length,E,P;if(m.fn){switch(m.once&&this.removeListener(o,m.fn,void 0,!0),T){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,a),!0;case 4:return m.fn.call(m.context,u,a,d),!0;case 5:return m.fn.call(m.context,u,a,d,c),!0;case 6:return m.fn.call(m.context,u,a,d,c,p),!0}for(P=1,E=new Array(T-1);P<T;P++)E[P-1]=arguments[P];m.fn.apply(m.context,E)}else{var w=m.length,R;for(P=0;P<w;P++)switch(m[P].once&&this.removeListener(o,m[P].fn,void 0,!0),T){case 1:m[P].fn.call(m[P].context);break;case 2:m[P].fn.call(m[P].context,u);break;case 3:m[P].fn.call(m[P].context,u,a);break;case 4:m[P].fn.call(m[P].context,u,a,d);break;default:if(!E)for(R=1,E=new Array(T-1);R<T;R++)E[R-1]=arguments[R];m[P].fn.apply(m[P].context,E)}}return!0},h.prototype.on=function(o,u,a){return f(this,o,u,a,!1)},h.prototype.once=function(o,u,a){return f(this,o,u,a,!0)},h.prototype.removeListener=function(o,u,a,d){var c=s?s+o:o;if(!this._events[c])return this;if(!u)return l(this,c),this;var p=this._events[c];if(p.fn)p.fn===u&&(!d||p.once)&&(!a||p.context===a)&&l(this,c);else{for(var v=0,m=[],T=p.length;v<T;v++)(p[v].fn!==u||d&&!p[v].once||a&&p[v].context!==a)&&m.push(p[v]);m.length?this._events[c]=m.length===1?m[0]:m:l(this,c)}return this},h.prototype.removeAllListeners=function(o){var u;return o?(u=s?s+o:o,this._events[u]&&l(this,u)):(this._events=new g,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=s,h.EventEmitter=h,C.exports=h},11517:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(38829),y=function(f,l,h,r){for(var o=f[0],u=1;u<f.length;u++){var a=f[u];g(a,o,l,h,r),o=a}return f};C.exports=y},80318:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,h,r,o){return g(f,"angle",l,h,r,o)};C.exports=y},60757:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){for(var f=0;f<s.length;f++){var l=s[f];g.call(y,l)}return s};C.exports=A},69927:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){y===void 0&&(y=0);for(var f=y;f<s.length;f++){var l=s[f],h=!0;for(var r in g)l[r]!==g[r]&&(h=!1);if(h)return l}return null};C.exports=A},32265:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){y===void 0&&(y=0);for(var f=s.length-1;f>=y;f--){var l=s[f],h=!0;for(var r in g)l[r]!==g[r]&&(h=!1);if(h)return l}return null};C.exports=A},94420:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(11879),y=s(60461),f=s(95540),l=s(29747),h=s(41481),r=new h({sys:{queueDepthSort:l,events:{once:l}}},0,0,1,1).setOrigin(0,0),o=function(u,a){a===void 0&&(a={});var d=a.hasOwnProperty("width"),c=a.hasOwnProperty("height"),p=f(a,"width",-1),v=f(a,"height",-1),m=f(a,"cellWidth",1),T=f(a,"cellHeight",m),E=f(a,"position",y.TOP_LEFT),P=f(a,"x",0),w=f(a,"y",0),R=0,b=0,O=p*m,I=v*T;r.setPosition(P,w),r.setSize(m,T);for(var D=0;D<u.length;D++)if(g(u[D],r,E),d&&p===-1)r.x+=m;else if(c&&v===-1)r.y+=T;else if(c&&!d){if(b+=T,r.y+=T,b===I&&(b=0,R+=m,r.y=w,r.x+=m,R===O))break}else if(R+=m,r.x+=m,R===O&&(R=0,b+=T,r.x=P,r.y+=T,b===I))break;return u};C.exports=o},41721:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,h,r,o){return g(f,"alpha",l,h,r,o)};C.exports=y},67285:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,h,r,o){return g(f,"x",l,h,r,o)};C.exports=y},9074:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,h,r,o,u,a){return h==null&&(h=l),g(f,"x",l,r,u,a),g(f,"y",h,o,u,a)};C.exports=y},75222:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,h,r,o){return g(f,"y",l,h,r,o)};C.exports=y},22983:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y===void 0&&(y=0),f===void 0&&(f=6.28);for(var l=y,h=(f-y)/s.length,r=g.x,o=g.y,u=g.radius,a=0;a<s.length;a++)s[a].x=r+u*Math.cos(l),s[a].y=o+u*Math.sin(l),l+=h;return s};C.exports=A},95253:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y===void 0&&(y=0),f===void 0&&(f=6.28);for(var l=y,h=(f-y)/s.length,r=g.width/2,o=g.height/2,u=0;u<s.length;u++)s[u].x=g.x+r*Math.cos(l),s[u].y=g.y+o*Math.sin(l),l+=h;return s};C.exports=A},88505:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(15258),y=s(26708),f=function(l,h,r){var o;r?o=y(h,r,l.length):o=g(h,l.length);for(var u=0;u<l.length;u++){var a=l[u],d=o[u];a.x=d.x,a.y=d.y}return l};C.exports=f},41346:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(14649),y=s(86003),f=s(49498),l=function(h,r,o){o===void 0&&(o=0);var u=g(r,!1,h.length);o>0?y(u,o):o<0&&f(u,Math.abs(o));for(var a=0;a<h.length;a++)h[a].x=u[a].x,h[a].y=u[a].y;return h};C.exports=l},11575:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(84993),y=function(f,l,h){var r=g({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},h),o=g({x1:l.x2,y1:l.y2,x2:l.x3,y2:l.y3},h),u=g({x1:l.x3,y1:l.y3,x2:l.x1,y2:l.y1},h);r.pop(),o.pop(),u.pop(),r=r.concat(o,u);for(var a=r.length/f.length,d=0,c=0;c<f.length;c++){var p=f[c],v=r[Math.floor(d)];p.x=v.x,p.y=v.y,d+=a}return f};C.exports=y},29953:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){for(var f=0;f<s.length;f++){var l=s[f];l.anims&&l.anims.play(g,y)}return s};C.exports=A},66979:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,h){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=1);var r,o=0,u=s.length;if(h===1)for(r=l;r<u;r++)s[r][g]+=y+o*f,o++;else for(r=l;r>=0;r--)s[r][g]+=y+o*f,o++;return s};C.exports=A},43967:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,h){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=1);var r,o=0,u=s.length;if(h===1)for(r=l;r<u;r++)s[r][g]=y+o*f,o++;else for(r=l;r>=0;r--)s[r][g]=y+o*f,o++;return s};C.exports=A},88926:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(28176),y=function(f,l){for(var h=0;h<f.length;h++)g(l,f[h]);return f};C.exports=y},33286:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(24820),y=function(f,l){for(var h=0;h<f.length;h++)g(l,f[h]);return f};C.exports=y},96e3:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65822),y=function(f,l){for(var h=0;h<f.length;h++)g(l,f[h]);return f};C.exports=y},28789:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26597),y=function(f,l){for(var h=0;h<f.length;h++)g(l,f[h]);return f};C.exports=y},97154:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(90260),y=function(f,l){for(var h=0;h<f.length;h++)g(l,f[h]);return f};C.exports=y},20510:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,h,r,o){return g(f,"rotation",l,h,r,o)};C.exports=y},91051:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(1163),y=s(20339),f=function(l,h,r){for(var o=h.x,u=h.y,a=0;a<l.length;a++){var d=l[a];g(d,o,u,r,Math.max(1,y(d.x,d.y,o,u)))}return l};C.exports=f},76332:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(1163),y=function(f,l,h,r){var o=l.x,u=l.y;if(r===0)return f;for(var a=0;a<f.length;a++)g(f[a],o,u,h,r);return f};C.exports=y},61619:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,h,r,o){return g(f,"scaleX",l,h,r,o)};C.exports=y},94868:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,h,r,o,u,a){return h==null&&(h=l),g(f,"scaleX",l,r,u,a),g(f,"scaleY",h,o,u,a)};C.exports=y},95532:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66979),y=function(f,l,h,r,o){return g(f,"scaleY",l,h,r,o)};C.exports=y},8689:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o){return g(f,"alpha",l,h,r,o)};C.exports=y},2645:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r){return g(f,"blendMode",l,0,h,r)};C.exports=y},32372:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o){return g(f,"depth",l,h,r,o)};C.exports=y},85373:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){for(var f=0;f<s.length;f++)s[f].setInteractive(g,y);return s};C.exports=A},81583:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o,u,a){return h==null&&(h=l),g(f,"originX",l,r,u,a),g(f,"originY",h,o,u,a),f.forEach(function(d){d.updateDisplayOrigin()}),f};C.exports=y},79939:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o){return g(f,"rotation",l,h,r,o)};C.exports=y},2699:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o,u,a){return h==null&&(h=l),g(f,"scaleX",l,r,u,a),g(f,"scaleY",h,o,u,a)};C.exports=y},98739:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o){return g(f,"scaleX",l,h,r,o)};C.exports=y},98476:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o){return g(f,"scaleY",l,h,r,o)};C.exports=y},6207:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o,u,a){return h==null&&(h=l),g(f,"scrollFactorX",l,r,u,a),g(f,"scrollFactorY",h,o,u,a)};C.exports=y},6607:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o){return g(f,"scrollFactorX",l,h,r,o)};C.exports=y},72248:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o){return g(f,"scrollFactorY",l,h,r,o)};C.exports=y},14036:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){for(var h=0;h<s.length;h++)s[h].setTint(g,y,f,l);return s};C.exports=A},50159:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r){return g(f,"visible",l,0,h,r)};C.exports=y},77597:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o){return g(f,"x",l,h,r,o)};C.exports=y},83194:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o,u,a){return h==null&&(h=l),g(f,"x",l,r,u,a),g(f,"y",h,o,u,a)};C.exports=y},67678:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43967),y=function(f,l,h,r,o){return g(f,"y",l,h,r,o)};C.exports=y},35850:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r,o){r===void 0&&(r=0),o===void 0&&(o=new g);var u,a,d=f.length;if(d===1)u=f[0].x,a=f[0].y,f[0].x=l,f[0].y=h;else{var c=1,p=0;r===0&&(p=d-1,c=d-2),u=f[p].x,a=f[p].y,f[p].x=l,f[p].y=h;for(var v=0;v<d;v++)if(!(c>=d||c===-1)){var m=f[c],T=m.x,E=m.y;m.x=u,m.y=a,u=T,a=E,r===0?c--:c++}}return o.x=u,o.y=a,o};C.exports=y},8628:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33680),y=function(f){return g(f)};C.exports=y},21837:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7602),y=function(f,l,h,r,o){o===void 0&&(o=!1);var u=Math.abs(r-h)/f.length,a;if(o)for(a=0;a<f.length;a++)f[a][l]+=g(a*u,h,r);else for(a=0;a<f.length;a++)f[a][l]=g(a*u,h,r);return f};C.exports=y},21910:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54261),y=function(f,l,h,r,o){o===void 0&&(o=!1);var u=Math.abs(r-h)/f.length,a;if(o)for(a=0;a<f.length;a++)f[a][l]+=g(a*u,h,r);else for(a=0;a<f.length;a++)f[a][l]=g(a*u,h,r);return f};C.exports=y},62054:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){if(l===void 0&&(l=!1),s.length===0)return s;if(s.length===1)return l?s[0][g]+=(f+y)/2:s[0][g]=(f+y)/2,s;var h=Math.abs(f-y)/(s.length-1),r;if(l)for(r=0;r<s.length;r++)s[r][g]+=r*h+y;else for(r=0;r<s.length;r++)s[r][g]=r*h+y;return s};C.exports=A},79815:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=0;g<s.length;g++)s[g].visible=!s[g].visible;return s};C.exports=A},39665:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(15994),y=function(f,l,h){h===void 0&&(h=0);for(var r=0;r<f.length;r++){var o=f[r];o.x=g(o.x,l.left-h,l.right+h),o.y=g(o.y,l.top-h,l.bottom+h)}return f};C.exports=y},61061:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AlignTo:s(11517),Angle:s(80318),Call:s(60757),GetFirst:s(69927),GetLast:s(32265),GridAlign:s(94420),IncAlpha:s(41721),IncX:s(67285),IncXY:s(9074),IncY:s(75222),PlaceOnCircle:s(22983),PlaceOnEllipse:s(95253),PlaceOnLine:s(88505),PlaceOnRectangle:s(41346),PlaceOnTriangle:s(11575),PlayAnimation:s(29953),PropertyValueInc:s(66979),PropertyValueSet:s(43967),RandomCircle:s(88926),RandomEllipse:s(33286),RandomLine:s(96e3),RandomRectangle:s(28789),RandomTriangle:s(97154),Rotate:s(20510),RotateAround:s(91051),RotateAroundDistance:s(76332),ScaleX:s(61619),ScaleXY:s(94868),ScaleY:s(95532),SetAlpha:s(8689),SetBlendMode:s(2645),SetDepth:s(32372),SetHitArea:s(85373),SetOrigin:s(81583),SetRotation:s(79939),SetScale:s(2699),SetScaleX:s(98739),SetScaleY:s(98476),SetScrollFactor:s(6207),SetScrollFactorX:s(6607),SetScrollFactorY:s(72248),SetTint:s(14036),SetVisible:s(50159),SetX:s(77597),SetXY:s(83194),SetY:s(67678),ShiftPosition:s(35850),Shuffle:s(8628),SmootherStep:s(21910),SmoothStep:s(21837),Spread:s(62054),ToggleVisible:s(79815),WrapInRectangle:s(39665)}},42099:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(74943),l=s(81957),h=s(41138),r=s(35154),o=s(90126),u=new y({initialize:function(d,c,p){this.manager=d,this.key=c,this.type="frame",this.frames=this.getFrames(d.textureManager,r(p,"frames",[]),r(p,"defaultTextureKey",null),r(p,"sortFrames",!0)),this.frameRate=r(p,"frameRate",null),this.duration=r(p,"duration",null),this.msPerFrame,this.skipMissedFrames=r(p,"skipMissedFrames",!0),this.delay=r(p,"delay",0),this.repeat=r(p,"repeat",0),this.repeatDelay=r(p,"repeatDelay",0),this.yoyo=r(p,"yoyo",!1),this.showBeforeDelay=r(p,"showBeforeDelay",!1),this.showOnStart=r(p,"showOnStart",!1),this.hideOnComplete=r(p,"hideOnComplete",!1),this.randomFrame=r(p,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(a,d,c,p){c===null&&p===null?(a.frameRate=24,a.duration=24/d*1e3):c&&p===null?(a.duration=c,a.frameRate=d/(c/1e3)):(a.frameRate=p,a.duration=d/p*1e3),a.msPerFrame=1e3/a.frameRate},addFrame:function(a){return this.addFrameAt(this.frames.length,a)},addFrameAt:function(a,d){var c=this.getFrames(this.manager.textureManager,d);if(c.length>0){if(a===0)this.frames=c.concat(this.frames);else if(a===this.frames.length)this.frames=this.frames.concat(c);else{var p=this.frames.slice(0,a),v=this.frames.slice(a);this.frames=p.concat(c,v)}this.updateFrameSequence()}return this},checkFrame:function(a){return a>=0&&a<this.frames.length},getFirstTick:function(a){a.accumulator=0,a.nextTick=a.frameRate===a.currentAnim.frameRate&&a.currentFrame.duration||a.msPerFrame},getFrameAt:function(a){return this.frames[a]},getFrames:function(a,d,c,p){p===void 0&&(p=!0);var v=[],m,T,E=1,P,w;if(typeof d=="string"){if(w=d,!a.exists(w))return console.warn('Texture "%s" not found',w),v;var R=a.get(w),b=R.getFrameNames();p&&o(b),d=[],b.forEach(function(z){d.push({key:w,frame:z})})}if(!Array.isArray(d)||d.length===0)return v;for(P=0;P<d.length;P++){var O=d[P],I=r(O,"key",c);if(I){var D=r(O,"frame",0),B=a.getFrame(I,D);if(!B){console.warn('Texture "%s" not found',I);continue}T=new h(I,D,E,B),T.duration=r(O,"duration",0),T.isFirst=!m,m&&(m.nextFrame=T,T.prevFrame=m),v.push(T),m=T,E++}}if(v.length>0){T.isLast=!0,T.nextFrame=v[0],v[0].prevFrame=T;var k=1/(v.length-1);for(P=0;P<v.length;P++)v[P].progress=P*k}return v},getNextTick:function(a){a.accumulator-=a.nextTick,a.nextTick=a.frameRate===a.currentAnim.frameRate&&a.currentFrame.duration||a.msPerFrame},getFrameByProgress:function(a){return a=g(a,0,1),l(a,this.frames,"progress")},nextFrame:function(a){var d=a.currentFrame;d.isLast?a.yoyo?this.handleYoyoFrame(a,!1):a.repeatCounter>0?a.inReverse&&a.forward?a.forward=!1:this.repeatAnimation(a):a.complete():this.updateAndGetNextTick(a,d.nextFrame)},handleYoyoFrame:function(a,d){if(d||(d=!1),a.inReverse===!d&&a.repeatCounter>0){(a.repeatDelay===0||a.pendingRepeat)&&(a.forward=d),this.repeatAnimation(a);return}if(a.inReverse!==d&&a.repeatCounter===0){a.complete();return}a.forward=d;var c=d?a.currentFrame.nextFrame:a.currentFrame.prevFrame;this.updateAndGetNextTick(a,c)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(a){var d=a.currentFrame;d.isFirst?a.yoyo?this.handleYoyoFrame(a,!0):a.repeatCounter>0?a.inReverse&&!a.forward?this.repeatAnimation(a):(a.forward=!0,this.repeatAnimation(a)):a.complete():this.updateAndGetNextTick(a,d.prevFrame)},updateAndGetNextTick:function(a,d){a.setCurrentFrame(d),this.getNextTick(a)},removeFrame:function(a){var d=this.frames.indexOf(a);return d!==-1&&this.removeFrameAt(d),this},removeFrameAt:function(a){return this.frames.splice(a,1),this.updateFrameSequence(),this},repeatAnimation:function(a){if(a._pendingStop===2){if(a._pendingStopValue===0)return a.stop();a._pendingStopValue--}a.repeatDelay>0&&!a.pendingRepeat?(a.pendingRepeat=!0,a.accumulator-=a.nextTick,a.nextTick+=a.repeatDelay):(a.repeatCounter--,a.forward?a.setCurrentFrame(a.currentFrame.nextFrame):a.setCurrentFrame(a.currentFrame.prevFrame),a.isPlaying&&(this.getNextTick(a),a.handleRepeat()))},toJSON:function(){var a={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(d){a.frames.push(d.toJSON())}),a},updateFrameSequence:function(){for(var a=this.frames.length,d=1/(a-1),c,p=0;p<a;p++)c=this.frames[p],c.index=p+1,c.isFirst=!1,c.isLast=!1,c.progress=p*d,p===0?(c.isFirst=!0,a===1?(c.isLast=!0,c.nextFrame=c,c.prevFrame=c):(c.isLast=!1,c.prevFrame=this.frames[a-1],c.nextFrame=this.frames[p+1])):p===a-1&&a>1?(c.isLast=!0,c.prevFrame=this.frames[a-2],c.nextFrame=this.frames[0]):a>1&&(c.prevFrame=this.frames[p-1],c.nextFrame=this.frames[p+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var a=0;a<this.frames.length;a++)this.frames[a].destroy();this.frames=[],this.manager=null}});C.exports=u},41138:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r,o,u){u===void 0&&(u=!1),this.textureKey=l,this.textureFrame=h,this.index=r,this.frame=o,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=u},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});C.exports=y},60848:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(42099),y=s(83419),f=s(90330),l=s(50792),h=s(74943),r=s(8443),o=s(95540),u=s(35154),a=s(36383),d=s(20283),c=s(41836),p=new y({Extends:l,initialize:function(m){l.call(this),this.game=m,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",m.events.once(r.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(r.DESTROY,this.destroy,this)},addMix:function(v,m,T){var E=this.anims,P=this.mixes,w=typeof v=="string"?v:v.key,R=typeof m=="string"?m:m.key;if(E.has(w)&&E.has(R)){var b=P.get(w);b||(b={}),b[R]=T,P.set(w,b)}return this},removeMix:function(v,m){var T=this.mixes,E=typeof v=="string"?v:v.key,P=T.get(E);if(P)if(m){var w=typeof m=="string"?m:m.key;P.hasOwnProperty(w)&&delete P[w]}else m||T.delete(E);return this},getMix:function(v,m){var T=this.mixes,E=typeof v=="string"?v:v.key,P=typeof m=="string"?m:m.key,w=T.get(E);return w&&w.hasOwnProperty(P)?w[P]:0},add:function(v,m){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(m.key=v,this.anims.set(v,m),this.emit(h.ADD_ANIMATION,v,m),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,m,T){var E=[],P=this.game.cache.json.get(v);if(!P)return console.warn("No Aseprite data found for: "+v),E;var w=this,R=u(P,"meta",null),b=u(P,"frames",null);if(R&&b){var O=u(R,"frameTags",[]);O.forEach(function(I){var D=[],B=o(I,"name",null),k=o(I,"from",0),z=o(I,"to",0),X=o(I,"direction","forward");if(B&&(!m||m&&m.indexOf(B)>-1)){for(var K=0,H=k;H<=z;H++){var Q=H.toString(),W=b[Q];if(W){var Y=o(W,"duration",a.MAX_SAFE_INTEGER);D.push({key:v,frame:Q,duration:Y}),K+=Y}}X==="reverse"&&(D=D.reverse());var N={key:B,frames:D,duration:K,yoyo:X==="pingpong"},Z;T?T.anims&&(Z=T.anims.create(N)):Z=w.create(N),Z&&E.push(Z)}})}return E},create:function(v){var m=v.key,T=!1;return m&&(T=this.get(m),T?console.warn("AnimationManager key already exists: "+m):(T=new g(this,m,v),this.anims.set(m,T),this.emit(h.ADD_ANIMATION,m,T))),T},fromJSON:function(v,m){m===void 0&&(m=!1),m&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var T=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var E=0;E<v.anims.length;E++)T.push(this.create(v.anims[E]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&T.push(this.create(v));return T},generateFrameNames:function(v,m){var T=u(m,"prefix",""),E=u(m,"start",0),P=u(m,"end",0),w=u(m,"suffix",""),R=u(m,"zeroPad",0),b=u(m,"outputArray",[]),O=u(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),b;var I=this.textureManager.get(v);if(!I)return b;var D;if(m)for(O||(O=d(E,P)),D=0;D<O.length;D++){var B=T+c(O[D],R,"0",1)+w;I.has(B)?b.push({key:v,frame:B}):console.warn('Frame "%s" not found in texture "%s"',B,v)}else for(O=I.getFrameNames(),D=0;D<O.length;D++)b.push({key:v,frame:O[D]});return b},generateFrameNumbers:function(v,m){var T=u(m,"start",0),E=u(m,"end",-1),P=u(m,"first",!1),w=u(m,"outputArray",[]),R=u(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),w;var b=this.textureManager.get(v);if(!b)return w;P&&b.has(P)&&w.push({key:v,frame:P}),R||(E===-1&&(E=b.frameTotal-2),R=d(T,E));for(var O=0;O<R.length;O++){var I=R[O];b.has(I)?w.push({key:v,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,v)}return w},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var m=this.textureManager.get(v),T=m.key,E=this.anims.getArray(),P=[],w=0;w<E.length;w++)for(var R=E[w],b=R.frames,O=0;O<b.length;O++)if(b[O].textureKey===T){P.push(R.key);break}return P},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(v,m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)m[T].anims.play(v);return this},staggerPlay:function(v,m,T,E){T===void 0&&(T=0),E===void 0&&(E=!0),Array.isArray(m)||(m=[m]);var P=m.length;E||P--;for(var w=0;w<m.length;w++){var R=T<0?Math.abs(T)*(P-w):T*w;m[w].anims.playAfterDelay(v,R)}return this},remove:function(v){var m=this.get(v);return m&&(this.emit(h.REMOVE_ANIMATION,v,m),this.anims.delete(v),this.removeMix(v)),m},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(v){var m={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?m.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(T,E){m.anims.push(E.toJSON())}),m},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});C.exports=p},9674:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(42099),y=s(30976),f=s(83419),l=s(90330),h=s(74943),r=s(95540),o=new f({initialize:function(a){this.parent=a,this.animationManager=a.scene.sys.anims,this.animationManager.on(h.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(u){var a=this.parent;if(u===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,a;Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var c=u[d];this.nextAnim?this.nextAnimsQueue.push(c):this.nextAnim=c}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(u){this.isPlaying&&this.stop();var a=this.animationManager,d=typeof u=="string"?u:r(u,"key",null),c=this.exists(d)?this.get(d):a.get(d);if(!c)console.warn("Missing animation: "+d);else{this.currentAnim=c;var p=c.getTotalFrames(),v=r(u,"frameRate",c.frameRate),m=r(u,"duration",c.duration);c.calculateDuration(this,p,m,v),this.delay=r(u,"delay",c.delay),this.repeat=r(u,"repeat",c.repeat),this.repeatDelay=r(u,"repeatDelay",c.repeatDelay),this.yoyo=r(u,"yoyo",c.yoyo),this.showBeforeDelay=r(u,"showBeforeDelay",c.showBeforeDelay),this.showOnStart=r(u,"showOnStart",c.showOnStart),this.hideOnComplete=r(u,"hideOnComplete",c.hideOnComplete),this.skipMissedFrames=r(u,"skipMissedFrames",c.skipMissedFrames),this.randomFrame=r(u,"randomFrame",c.randomFrame),this.timeScale=r(u,"timeScale",this.timeScale);var T=r(u,"startFrame",0);T>p&&(T=0),this.randomFrame&&(T=y(0,p-1));var E=c.frames[T];T===0&&!this.forward&&(E=c.getLastFrame()),this.currentFrame=E}return this.parent},pause:function(u){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),u!==void 0&&this.setCurrentFrame(u),this.parent},resume:function(u){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),u!==void 0&&this.setCurrentFrame(u),this.parent},playAfterDelay:function(u,a){if(!this.isPlaying)this.delayCounter=a,this.play(u,!0);else{var d=this.nextAnim,c=this.nextAnimsQueue;d&&c.unshift(d),this.nextAnim=u,this._pendingStop=1,this._pendingStopValue=a}return this.parent},playAfterRepeat:function(u,a){if(a===void 0&&(a=1),!this.isPlaying)this.play(u);else{var d=this.nextAnim,c=this.nextAnimsQueue;d&&c.unshift(d),this.repeatCounter!==-1&&a>this.repeatCounter&&(a=this.repeatCounter),this.nextAnim=u,this._pendingStop=2,this._pendingStopValue=a}return this.parent},play:function(u,a){a===void 0&&(a=!1);var d=this.currentAnim,c=this.parent,p=typeof u=="string"?u:u.key;if(a&&this.isPlaying&&d.key===p)return c;if(d&&this.isPlaying){var v=this.animationManager.getMix(d.key,u);if(v>0)return this.playAfterDelay(u,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(u)},playReverse:function(u,a){a===void 0&&(a=!1);var d=typeof u=="string"?u:u.key;return a&&this.isPlaying&&this.currentAnim.key===d?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(u))},startAnimation:function(u){this.load(u);var a=this.currentAnim,d=this.parent;return a&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,a.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),d},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(h.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(h.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(h.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(h.ANIMATION_COMPLETE,h.ANIMATION_COMPLETE_KEY)},emitEvents:function(u,a){var d=this.currentAnim;if(d){var c=this.currentFrame,p=this.parent,v=c.textureFrame;p.emit(u,d,c,p,v),a&&p.emit(a+d.key,d,c,p,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var u=this.currentFrame;if(!u)return 0;var a=u.progress;return this.inReverse&&(a*=-1),a},setProgress:function(u){return this.forward||(u=1-u),this.setCurrentFrame(this.currentAnim.getFrameByProgress(u)),this.parent},setRepeat:function(u){return this.repeatCounter=u===-1?Number.MAX_VALUE:u,this.parent},globalRemove:function(u,a){a===void 0&&(a=this.currentAnim),this.isPlaying&&a.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(u,a){u===void 0&&(u=!1),a===void 0&&(a=!1);var d=this.currentAnim,c=this.parent;return d?(a&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),d.getFirstTick(this),this.emitEvents(h.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!u,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(d.frames[0]),this.parent):c},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var u=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(u)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var u=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(u)}return this.parent},stopAfterDelay:function(u){return this._pendingStop=1,this._pendingStopValue=u,this.parent},stopAfterRepeat:function(u){return u===void 0&&(u=1),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=u,this.parent},stopOnFrame:function(u){return this._pendingStop=3,this._pendingStopValue=u,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(u,a){var d=this.currentAnim;if(!(!this.isPlaying||!d||d.paused)){if(this.accumulator+=a*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=a,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?d.nextFrame(this):d.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var c=0;do this.forward?d.nextFrame(this):d.previousFrame(this),c++;while(this.isPlaying&&this.accumulator>this.nextTick&&c<60)}}},setCurrentFrame:function(u){var a=this.parent;return this.currentFrame=u,a.texture=u.frame.texture,a.frame=u.frame,a.isCropped&&a.frame.updateCropUVs(a._crop,a.flipX,a.flipY),u.setAlpha&&(a.alpha=u.alpha),a.setSizeToFrame(),a._originComponent&&(u.frame.customPivot?a.setOrigin(u.frame.pivotX,u.frame.pivotY):a.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(h.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===u&&this.stop()),a},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(u){return this.anims?this.anims.get(u):null},exists:function(u){return this.anims?this.anims.has(u):!1},create:function(u){var a=u.key,d=!1;return a&&(d=this.get(a),d?console.warn("Animation key already exists: "+a):(d=new g(this,a,u),this.anims||(this.anims=new l),this.anims.set(a,d))),d},createFromAseprite:function(u,a){return this.animationManager.createFromAseprite(u,a,this.parent)},generateFrameNames:function(u,a){return this.animationManager.generateFrameNames(u,a)},generateFrameNumbers:function(u,a){return this.animationManager.generateFrameNumbers(u,a)},remove:function(u){var a=this.get(u);return a&&(this.currentAnim===a&&this.stop(),this.anims.delete(u)),a},destroy:function(){this.animationManager.off(h.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});C.exports=o},57090:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="add"},25312:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationcomplete"},89580:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationcomplete-"},52860:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationrepeat"},63850:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationrestart"},99085:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationstart"},28087:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationstop"},1794:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="animationupdate"},52562:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pauseall"},57953:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="remove"},68339:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resumeall"},74943:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADD_ANIMATION:s(57090),ANIMATION_COMPLETE:s(25312),ANIMATION_COMPLETE_KEY:s(89580),ANIMATION_REPEAT:s(52860),ANIMATION_RESTART:s(63850),ANIMATION_START:s(99085),ANIMATION_STOP:s(28087),ANIMATION_UPDATE:s(1794),PAUSE_ALL:s(52562),REMOVE_ANIMATION:s(57953),RESUME_ALL:s(68339)}},60421:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Animation:s(42099),AnimationFrame:s(41138),AnimationManager:s(60848),AnimationState:s(9674),Events:s(74943)}},2161:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(90330),f=s(50792),l=s(24736),h=new g({initialize:function(){this.entries=new y,this.events=new f},add:function(r,o){return this.entries.set(r,o),this.events.emit(l.ADD,this,r,o),this},has:function(r){return this.entries.has(r)},exists:function(r){return this.entries.has(r)},get:function(r){return this.entries.get(r)},remove:function(r){var o=this.get(r);return o&&(this.entries.delete(r),this.events.emit(l.REMOVE,this,r,o.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});C.exports=h},24047:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2161),y=s(83419),f=s(8443),l=new y({initialize:function(r){this.game=r,this.binary=new g,this.bitmapFont=new g,this.json=new g,this.physics=new g,this.shader=new g,this.audio=new g,this.video=new g,this.text=new g,this.html=new g,this.obj=new g,this.tilemap=new g,this.xml=new g,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new g),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],r=0;r<h.length;r++)this[h[r]].destroy(),this[h[r]]=null;for(var o in this.custom)this.custom[o].destroy();this.custom=null,this.game=null}});C.exports=l},51464:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="add"},59261:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="remove"},24736:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADD:s(51464),REMOVE:s(59261)}},83388:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BaseCache:s(2161),CacheManager:s(24047),Events:s(24736)}},71911:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(39506),l=s(50792),h=s(19715),r=s(87841),o=s(61340),u=s(80333),a=s(26099),d=new g({Extends:l,Mixins:[y.AlphaSingle,y.Visible],initialize:function(p,v,m,T){p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),l.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new r,this.dirty=!0,this._x=p,this._y=v,this._width=m,this._height=T,this._bounds=new r,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new o,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new a(m/2,T/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(c){this.renderList.push(c)},setOrigin:function(c,p){return c===void 0&&(c=.5),p===void 0&&(p=c),this.originX=c,this.originY=p,this},getScroll:function(c,p,v){v===void 0&&(v=new a);var m=this.width*.5,T=this.height*.5;return v.x=c-m,v.y=p-T,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(c){var p=this.width*.5;return this.midPoint.x=c,this.scrollX=c-p,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(c){var p=this.height*.5;return this.midPoint.y=c,this.scrollY=c-p,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(c,p){return this.centerOnX(c),this.centerOnY(p),this},centerToBounds:function(){if(this.useBounds){var c=this._bounds,p=this.width*.5,v=this.height*.5;this.midPoint.set(c.centerX,c.centerY),this.scrollX=c.centerX-p,this.scrollY=c.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(c){if(this.disableCull)return c;var p=this.matrix.matrix,v=p[0],m=p[1],T=p[2],E=p[3],P=v*E-m*T;if(!P)return c;var w=p[4],R=p[5],b=this.scrollX,O=this.scrollY,I=this.width,D=this.height,B=this.y,k=B+D,z=this.x,X=z+I,K=this.culledObjects,H=c.length;P=1/P,K.length=0;for(var Q=0;Q<H;++Q){var W=c[Q];if(!W.hasOwnProperty("width")||W.parentContainer){K.push(W);continue}var Y=W.width,N=W.height,Z=W.x-b*W.scrollFactorX-Y*W.originX,U=W.y-O*W.scrollFactorY-N*W.originY,j=Z*v+U*T+w,et=Z*m+U*E+R,it=(Z+Y)*v+(U+N)*T+w,rt=(Z+Y)*m+(U+N)*E+R;it>z&&j<X&&rt>B&&et<k&&K.push(W)}return K},getWorldPoint:function(c,p,v){v===void 0&&(v=new a);var m=this.matrix.matrix,T=m[0],E=m[1],P=m[2],w=m[3],R=m[4],b=m[5],O=T*w-E*P;if(!O)return v.x=c,v.y=p,v;O=1/O;var I=w*O,D=-E*O,B=-P*O,k=T*O,z=(P*b-w*R)*O,X=(E*R-T*b)*O,K=Math.cos(this.rotation),H=Math.sin(this.rotation),Q=this.zoomX,W=this.zoomY,Y=this.scrollX,N=this.scrollY,Z=c+(Y*K-N*H)*Q,U=p+(Y*H+N*K)*W;return v.x=Z*I+U*B+z,v.y=Z*D+U*k+X,v},ignore:function(c){var p=this.id;Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var m=c[v];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=p}return this},clampX:function(c){var p=this._bounds,v=this.displayWidth,m=p.x+(v-this.width)/2,T=Math.max(m,m+p.width-v);return c<m?c=m:c>T&&(c=T),c},clampY:function(c){var p=this._bounds,v=this.displayHeight,m=p.y+(v-this.height)/2,T=Math.max(m,m+p.height-v);return c<m?c=m:c>T&&(c=T),c},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(c){return c===void 0&&(c=0),this.rotation=f(c),this},setBackgroundColor:function(c){return c===void 0&&(c="rgba(0,0,0,0)"),this.backgroundColor=u(c),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(c,p,v,m,T){return T===void 0&&(T=!1),this._bounds.setTo(c,p,v,m),this.dirty=!0,this.useBounds=!0,T?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(c){c===void 0&&(c=new r);var p=this._bounds;return c.setTo(p.x,p.y,p.width,p.height),c},setName:function(c){return c===void 0&&(c=""),this.name=c,this},setPosition:function(c,p){return p===void 0&&(p=c),this.x=c,this.y=p,this},setRotation:function(c){return c===void 0&&(c=0),this.rotation=c,this},setRoundPixels:function(c){return this.roundPixels=c,this},setScene:function(c,p){p===void 0&&(p=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=c,this.isSceneCamera=p;var v=c.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(c,p){return p===void 0&&(p=c),this.scrollX=c,this.scrollY=p,this},setSize:function(c,p){return p===void 0&&(p=c),this.width=c,this.height=p,this},setViewport:function(c,p,v,m){return this.x=c,this.y=p,this.width=v,this.height=m,this},setZoom:function(c,p){return c===void 0&&(c=1),p===void 0&&(p=c),c===0&&(c=.001),p===0&&(p=.001),this.zoomX=c,this.zoomY=p,this},setMask:function(c,p){return p===void 0&&(p=!0),this.mask=c,this._maskCamera=p?this.cameraManager.default:this,this},clearMask:function(c){return c===void 0&&(c=!1),c&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var c={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(c.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),c},update:function(){},setIsSceneCamera:function(c){return this.isSceneCamera=c,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var c=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,p=this.sceneManager;c&&!this._customViewport?p.customViewports++:!c&&this._customViewport&&p.customViewports--,this.dirty=!0,this._customViewport=c}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(c){this._x=c,this.updateSystem()}},y:{get:function(){return this._y},set:function(c){this._y=c,this.updateSystem()}},width:{get:function(){return this._width},set:function(c){this._width=c,this.updateSystem()}},height:{get:function(){return this._height},set:function(c){this._height=c,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(c){c!==this._scrollX&&(this._scrollX=c,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(c){c!==this._scrollY&&(this._scrollY=c,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(c){this._zoomX=c,this._zoomY=c,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(c){this._zoomX=c,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(c){this._zoomY=c,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});C.exports=d},38058:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(71911),y=s(67502),f=s(45319),l=s(83419),h=s(31401),r=s(20052),o=s(19715),u=s(28915),a=s(87841),d=s(26099),c=new l({Extends:g,Mixins:[h.PostPipeline],initialize:function(v,m,T,E){g.call(this,v,m,T,E),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new r.Fade(this),this.flashEffect=new r.Flash(this),this.shakeEffect=new r.Shake(this),this.panEffect=new r.Pan(this),this.rotateToEffect=new r.RotateTo(this),this.zoomEffect=new r.Zoom(this),this.lerp=new d(1,1),this.followOffset=new d,this.deadzone=null,this._follow=null},setDeadzone:function(p,v){if(p===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=p,this.deadzone.height=v):this.deadzone=new a(0,0,p,v),this._follow){var m=this.width/2,T=this.height/2,E=this._follow.x-this.followOffset.x,P=this._follow.y-this.followOffset.y;this.midPoint.set(E,P),this.scrollX=E-m,this.scrollY=P-T}y(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(p,v,m,T,E,P){return this.fadeEffect.start(!1,p,v,m,T,!0,E,P)},fadeOut:function(p,v,m,T,E,P){return this.fadeEffect.start(!0,p,v,m,T,!0,E,P)},fadeFrom:function(p,v,m,T,E,P,w){return this.fadeEffect.start(!1,p,v,m,T,E,P,w)},fade:function(p,v,m,T,E,P,w){return this.fadeEffect.start(!0,p,v,m,T,E,P,w)},flash:function(p,v,m,T,E,P,w){return this.flashEffect.start(p,v,m,T,E,P,w)},shake:function(p,v,m,T,E){return this.shakeEffect.start(p,v,m,T,E)},pan:function(p,v,m,T,E,P,w){return this.panEffect.start(p,v,m,T,E,P,w)},rotateTo:function(p,v,m,T,E,P,w){return this.rotateToEffect.start(p,v,m,T,E,P,w)},zoomTo:function(p,v,m,T,E,P){return this.zoomEffect.start(p,v,m,T,E,P)},preRender:function(){this.renderList.length=0;var p=this.width,v=this.height,m=p*.5,T=v*.5,E=this.zoomX,P=this.zoomY,w=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(E)&&Number.isInteger(P);var R=p*this.originX,b=v*this.originY,O=this._follow,I=this.deadzone,D=this.scrollX,B=this.scrollY;I&&y(I,this.midPoint.x,this.midPoint.y);var k=!1;if(O&&!this.panEffect.isRunning){var z=this.lerp,X=O.x-this.followOffset.x,K=O.y-this.followOffset.y;I?(X<I.x?D=u(D,D-(I.x-X),z.x):X>I.right&&(D=u(D,D+(X-I.right),z.x)),K<I.y?B=u(B,B-(I.y-K),z.y):K>I.bottom&&(B=u(B,B+(K-I.bottom),z.y))):(D=u(D,X-R,z.x),B=u(B,K-b,z.y)),k=!0}this.roundPixels&&(D=Math.floor(D),B=Math.floor(B)),this.useBounds&&(D=this.clampX(D),B=this.clampY(B)),this.scrollX=D,this.scrollY=B;var H=D+m,Q=B+T;this.midPoint.set(H,Q);var W=Math.floor(p/E+.5),Y=Math.floor(v/P+.5),N=Math.floor(H-W/2+.5),Z=Math.floor(Q-Y/2+.5);this.worldView.setTo(N,Z,W,Y),w.applyITRS(Math.floor(this.x+R+.5),Math.floor(this.y+b+.5),this.rotation,E,P),w.translate(-R,-b),this.shakeEffect.preRender(),k&&this.emit(o.FOLLOW_UPDATE,this,O)},setLerp:function(p,v){return p===void 0&&(p=1),v===void 0&&(v=p),this.lerp.set(p,v),this},setFollowOffset:function(p,v){return p===void 0&&(p=0),v===void 0&&(v=0),this.followOffset.set(p,v),this},startFollow:function(p,v,m,T,E,P){v===void 0&&(v=!1),m===void 0&&(m=1),T===void 0&&(T=m),E===void 0&&(E=0),P===void 0&&(P=E),this._follow=p,this.roundPixels=v,m=f(m,0,1),T=f(T,0,1),this.lerp.set(m,T),this.followOffset.set(E,P);var w=this.width/2,R=this.height/2,b=p.x-E,O=p.y-P;return this.midPoint.set(b,O),this.scrollX=b-w,this.scrollY=O-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(p,v){this.visible&&(this.rotateToEffect.update(p,v),this.panEffect.update(p,v),this.zoomEffect.update(p,v),this.shakeEffect.update(p,v),this.flashEffect.update(p,v),this.fadeEffect.update(p,v))},destroy:function(){this.resetFX(),g.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});C.exports=c},32743:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(38058),y=s(83419),f=s(95540),l=s(37277),h=s(37303),r=s(97480),o=s(44594),u=new y({initialize:function(d){this.scene=d,this.systems=d.sys,this.roundPixels=d.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,d.sys.events.once(o.BOOT,this.boot,this),d.sys.events.on(o.START,this.start,this)},boot:function(){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new g(0,0,a.scale.width,a.scale.height).setScene(this.scene),a.game.scale.on(r.RESIZE,this.onResize,this),this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){if(!this.main){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0]}var d=this.systems.events;d.on(o.UPDATE,this.update,this),d.once(o.SHUTDOWN,this.shutdown,this)},add:function(a,d,c,p,v,m){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=this.scene.sys.scale.width),p===void 0&&(p=this.scene.sys.scale.height),v===void 0&&(v=!1),m===void 0&&(m="");var T=new g(a,d,c,p);return T.setName(m),T.setScene(this.scene),T.setRoundPixels(this.roundPixels),T.id=this.getNextID(),this.cameras.push(T),v&&(this.main=T),T},addExisting:function(a,d){d===void 0&&(d=!1);var c=this.cameras.indexOf(a);return c===-1?(a.id=this.getNextID(),a.setRoundPixels(this.roundPixels),this.cameras.push(a),d&&(this.main=a),a):null},getNextID:function(){for(var a=this.cameras,d=1,c=0;c<32;c++){for(var p=!1,v=0;v<a.length;v++){var m=a[v];if(m&&m.id===d){p=!0;continue}}if(p)d=d<<1;else return d}return 0},getTotal:function(a){a===void 0&&(a=!1);for(var d=0,c=this.cameras,p=0;p<c.length;p++){var v=c[p];(!a||a&&v.visible)&&d++}return d},fromJSON:function(a){Array.isArray(a)||(a=[a]);for(var d=this.scene.sys.scale.width,c=this.scene.sys.scale.height,p=0;p<a.length;p++){var v=a[p],m=f(v,"x",0),T=f(v,"y",0),E=f(v,"width",d),P=f(v,"height",c),w=this.add(m,T,E,P);w.name=f(v,"name",""),w.zoom=f(v,"zoom",1),w.rotation=f(v,"rotation",0),w.scrollX=f(v,"scrollX",0),w.scrollY=f(v,"scrollY",0),w.roundPixels=f(v,"roundPixels",!1),w.visible=f(v,"visible",!0);var R=f(v,"backgroundColor",!1);R&&w.setBackgroundColor(R);var b=f(v,"bounds",null);if(b){var O=f(b,"x",0),I=f(b,"y",0),D=f(b,"width",d),B=f(b,"height",c);w.setBounds(O,I,D,B)}}return this},getCamera:function(a){for(var d=this.cameras,c=0;c<d.length;c++)if(d[c].name===a)return d[c];return null},getCamerasBelowPointer:function(a){for(var d=this.cameras,c=a.x,p=a.y,v=[],m=0;m<d.length;m++){var T=d[m];T.visible&&T.inputEnabled&&h(T,c,p)&&v.unshift(T)}return v},remove:function(a,d){d===void 0&&(d=!0),Array.isArray(a)||(a=[a]);for(var c=0,p=this.cameras,v=0;v<a.length;v++){var m=p.indexOf(a[v]);m!==-1&&(d?p[m].destroy():p[m].renderList=[],p.splice(m,1),c++)}return!this.main&&p[0]&&(this.main=p[0]),c},render:function(a,d){for(var c=this.scene,p=this.cameras,v=0;v<p.length;v++){var m=p[v];if(m.visible&&m.alpha>0){m.preRender();var T=this.getVisibleChildren(d.getChildren(),m);a.render(c,T,m)}}},getVisibleChildren:function(a,d){return a.filter(function(c){return c.willRender(d)})},resetAll:function(){for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(a,d){for(var c=0;c<this.cameras.length;c++)this.cameras[c].update(a,d)},onResize:function(a,d,c,p,v){for(var m=0;m<this.cameras.length;m++){var T=this.cameras[m];T._x===0&&T._y===0&&T._width===p&&T._height===v&&T.setSize(d.width,d.height)}},resize:function(a,d){for(var c=0;c<this.cameras.length;c++)this.cameras[c].setSize(a,d)},shutdown:function(){this.main=void 0;for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();this.cameras=[];var d=this.systems.events;d.off(o.UPDATE,this.update,this),d.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(o.START,this.start,this),this.systems.events.off(o.DESTROY,this.destroy,this),this.systems.game.scale.off(r.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});l.register("CameraManager",u,"cameras"),C.exports=u},5020:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(19715),l=new y({initialize:function(r){this.camera=r,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(h,r,o,u,a,d,c,p){if(h===void 0&&(h=!0),r===void 0&&(r=1e3),o===void 0&&(o=0),u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),!d&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=r,this.direction=h,this.progress=0,this.red=o,this.green=u,this.blue=a,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p;var v=h?f.FADE_OUT_START:f.FADE_IN_START;return this.camera.emit(v,this.camera,this,r,o,u,a),this.camera},update:function(h,r){this.isRunning&&(this._elapsed+=r,this.progress=g(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(r.x,r.y,r.width,r.height),!0},postRenderWebGL:function(h,r){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera,u=this.red/255,a=this.green/255,d=this.blue/255;return h.drawFillRect(o.x,o.y,o.width,o.height,r(d,a,u,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var h=this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE;this.camera.emit(h,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=l},10662:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(19715),l=new y({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(h,r,o,u,a,d,c){return h===void 0&&(h=250),r===void 0&&(r=255),o===void 0&&(o=255),u===void 0&&(u=255),a===void 0&&(a=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene),!a&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=h,this.progress=0,this.red=r,this.green=o,this.blue=u,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c,this.camera.emit(f.FLASH_START,this.camera,this,h,r,o,u),this.camera)},update:function(h,r){this.isRunning&&(this._elapsed+=r,this.progress=g(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var r=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(r.x,r.y,r.width,r.height),!0},postRenderWebGL:function(h,r){if(!this.isRunning)return!1;var o=this.camera,u=this.red/255,a=this.green/255,d=this.blue/255;return h.drawFillRect(o.x,o.y,o.width,o.height,r(d,a,u,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=l},20359:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(62640),l=s(19715),h=s(26099),r=new y({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,u,a,d,c,p,v){a===void 0&&(a=1e3),d===void 0&&(d=f.Linear),c===void 0&&(c=!1),p===void 0&&(p=null),v===void 0&&(v=this.camera.scene);var m=this.camera;return!c&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(o,u),m.getScroll(o,u,this.current),typeof d=="string"&&f.hasOwnProperty(d)?this.ease=f[d]:typeof d=="function"&&(this.ease=d),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=v,this.camera.emit(l.PAN_START,this.camera,this,a,o,u)),m},update:function(o,u){if(this.isRunning){this._elapsed+=u;var a=g(this._elapsed/this.duration,0,1);this.progress=a;var d=this.camera;if(this._elapsed<this.duration){var c=this.ease(a);d.getScroll(this.destination.x,this.destination.y,this.current);var p=this.source.x+(this.current.x-this.source.x)*c,v=this.source.y+(this.current.y-this.source.y)*c;d.setScroll(p,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,a,p,v)}else d.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,a,d.scrollX,d.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});C.exports=r},34208:(C,A,s)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var g=s(45319),y=s(83419),f=s(19715),l=s(62640),h=new y({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(r,o,u,a,d,c,p){u===void 0&&(u=1e3),a===void 0&&(a=l.Linear),d===void 0&&(d=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),o===void 0&&(o=!1),this.shortestPath=o;var v=r;r<0?(v=-1*r,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;v=v-Math.floor(v/m)*m;var T=this.camera;if(!d&&this.isRunning)return T;if(this.isRunning=!0,this.duration=u,this.progress=0,this.source=T.rotation,this.destination=v,typeof a=="string"&&l.hasOwnProperty(a)?this.ease=l[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.shortestPath){var E=0,P=0;this.destination>this.source?E=Math.abs(this.destination-this.source):E=Math.abs(this.destination+m)-this.source,this.source>this.destination?P=Math.abs(this.source-this.destination):P=Math.abs(this.source+m)-this.destination,E<P?this.clockwise=!0:E>P&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,u,v),T},update:function(r,o){if(this.isRunning){this._elapsed+=o;var u=g(this._elapsed/this.duration,0,1);this.progress=u;var a=this.camera;if(this._elapsed<this.duration){var d=this.ease(u);this.current=a.rotation;var c=0,p=360*Math.PI/180,v=this.destination,m=this.current;this.clockwise===!1&&(v=this.current,m=this.destination),v>=m?c=Math.abs(v-m):c=Math.abs(v+p)-m;var T=0;this.clockwise?T=a.rotation+c*d:T=a.rotation-c*d,a.rotation=T,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,u,T)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,u,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});C.exports=h},30330:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(19715),l=s(26099),h=new y({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.intensity=new l,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(r,o,u,a,d){return r===void 0&&(r=100),o===void 0&&(o=.05),u===void 0&&(u=!1),a===void 0&&(a=null),d===void 0&&(d=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,typeof o=="number"?this.intensity.set(o):this.intensity.set(o.x,o.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=d,this.camera.emit(f.SHAKE_START,this.camera,this,r,o),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(r,o){if(this.isRunning)if(this._elapsed+=o,this.progress=g(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var u=this.intensity,a=this.camera.width,d=this.camera.height,c=this.camera.zoom;this._offsetX=(Math.random()*u.x*a*2-u.x*a)*c,this._offsetY=(Math.random()*u.y*d*2-u.y*d)*c,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});C.exports=h},45641:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(62640),l=s(19715),h=new y({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,o,u,a,d,c){o===void 0&&(o=1e3),u===void 0&&(u=f.Linear),a===void 0&&(a=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene);var p=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=o,this.progress=0,this.source=p.zoom,this.destination=r,typeof u=="string"&&f.hasOwnProperty(u)?this.ease=f[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c,this.camera.emit(l.ZOOM_START,this.camera,this,o,r)),p},update:function(r,o){this.isRunning&&(this._elapsed+=o,this.progress=g(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=h},20052:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Fade:s(5020),Flash:s(10662),Pan:s(20359),Shake:s(30330),RotateTo:s(34208),Zoom:s(45641)}},16438:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="cameradestroy"},32726:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerafadeincomplete"},87807:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerafadeinstart"},45917:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerafadeoutcomplete"},95666:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerafadeoutstart"},47056:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="cameraflashcomplete"},91261:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="cameraflashstart"},45047:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="followupdate"},81927:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerapancomplete"},74264:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerapanstart"},54419:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postrender"},79330:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prerender"},93183:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerarotatecomplete"},80112:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerarotatestart"},62252:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerashakecomplete"},86017:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerashakestart"},539:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerazoomcomplete"},51892:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="camerazoomstart"},19715:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={DESTROY:s(16438),FADE_IN_COMPLETE:s(32726),FADE_IN_START:s(87807),FADE_OUT_COMPLETE:s(45917),FADE_OUT_START:s(95666),FLASH_COMPLETE:s(47056),FLASH_START:s(91261),FOLLOW_UPDATE:s(45047),PAN_COMPLETE:s(81927),PAN_START:s(74264),POST_RENDER:s(54419),PRE_RENDER:s(79330),ROTATE_COMPLETE:s(93183),ROTATE_START:s(80112),SHAKE_COMPLETE:s(62252),SHAKE_START:s(86017),ZOOM_COMPLETE:s(539),ZOOM_START:s(51892)}},87969:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Camera:s(38058),BaseCamera:s(71911),CameraManager:s(32743),Effects:s(20052),Events:s(19715)}},63091:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(35154),f=new g({initialize:function(h){this.camera=y(h,"camera",null),this.left=y(h,"left",null),this.right=y(h,"right",null),this.up=y(h,"up",null),this.down=y(h,"down",null),this.zoomIn=y(h,"zoomIn",null),this.zoomOut=y(h,"zoomOut",null),this.zoomSpeed=y(h,"zoomSpeed",.01),this.minZoom=y(h,"minZoom",.001),this.maxZoom=y(h,"maxZoom",1e3),this.speedX=0,this.speedY=0;var r=y(h,"speed",null);typeof r=="number"?(this.speedX=r,this.speedY=r):(this.speedX=y(h,"speed.x",0),this.speedY=y(h,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*l|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*l|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*l|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*l|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<this.minZoom&&(h.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed,h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});C.exports=f},58818:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(35154),f=new g({initialize:function(h){this.camera=y(h,"camera",null),this.left=y(h,"left",null),this.right=y(h,"right",null),this.up=y(h,"up",null),this.down=y(h,"down",null),this.zoomIn=y(h,"zoomIn",null),this.zoomOut=y(h,"zoomOut",null),this.zoomSpeed=y(h,"zoomSpeed",.01),this.minZoom=y(h,"minZoom",.001),this.maxZoom=y(h,"maxZoom",1e3),this.accelX=0,this.accelY=0;var r=y(h,"acceleration",null);typeof r=="number"?(this.accelX=r,this.accelY=r):(this.accelX=y(h,"acceleration.x",0),this.accelY=y(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var o=y(h,"drag",null);typeof o=="number"?(this.dragX=o,this.dragY=o):(this.dragX=y(h,"drag.x",0),this.dragY=y(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var u=y(h,"maxSpeed",null);typeof u=="number"?(this.maxSpeedX=u,this.maxSpeedY=u):(this.maxSpeedX=y(h,"maxSpeed.x",0),this.maxSpeedY=y(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*l,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*l,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*l,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*l,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(h.scrollX-=this._speedX*l|0),this._speedY!==0&&(h.scrollY-=this._speedY*l|0),this._zoom!==0&&(h.zoom+=this._zoom,h.zoom<this.minZoom?h.zoom=this.minZoom:h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});C.exports=f},38865:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={FixedKeyControl:s(63091),SmoothedKeyControl:s(58818)}},26638:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Controls:s(38865),Scene2D:s(87969)}},8054:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:s(10312),ScaleModes:s(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};C.exports=g},69547:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(8054),f=s(42363),l=s(82264),h=s(95540),r=s(35154),o=s(41212),u=s(29747),a=s(75508),d=s(36060),c=s(80333),p=new g({initialize:function(m){m===void 0&&(m={});var T=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],E="#ffffff",P=r(m,"scale",null);this.width=r(P,"width",1024,m),this.height=r(P,"height",768,m),this.zoom=r(P,"zoom",1,m),this.parent=r(P,"parent",void 0,m),this.scaleMode=r(P,P?"mode":"scaleMode",0,m),this.expandParent=r(P,"expandParent",!0,m),this.autoRound=r(P,"autoRound",!1,m),this.autoCenter=r(P,"autoCenter",0,m),this.resizeInterval=r(P,"resizeInterval",500,m),this.fullscreenTarget=r(P,"fullscreenTarget",null,m),this.minWidth=r(P,"min.width",0,m),this.maxWidth=r(P,"max.width",0,m),this.minHeight=r(P,"min.height",0,m),this.maxHeight=r(P,"max.height",0,m),this.snapWidth=r(P,"snap.width",0,m),this.snapHeight=r(P,"snap.height",0,m),this.renderType=r(m,"type",y.AUTO),this.canvas=r(m,"canvas",null),this.context=r(m,"context",null),this.canvasStyle=r(m,"canvasStyle",null),this.customEnvironment=r(m,"customEnvironment",!1),this.sceneConfig=r(m,"scene",null),this.seed=r(m,"seed",[(Date.now()*Math.random()).toString()]),a.RND=new a.RandomDataGenerator(this.seed),this.gameTitle=r(m,"title",""),this.gameURL=r(m,"url","https://phaser.io/"+y.LOG_VERSION),this.gameVersion=r(m,"version",""),this.autoFocus=r(m,"autoFocus",!0),this.stableSort=r(m,"stableSort",-1),this.stableSort===-1&&(this.stableSort=l.browser.es2019?1:0),l.features.stableSort=this.stableSort,this.domCreateContainer=r(m,"dom.createContainer",!1),this.domPointerEvents=r(m,"dom.pointerEvents","none"),this.inputKeyboard=r(m,"input.keyboard",!0),this.inputKeyboardEventTarget=r(m,"input.keyboard.target",window),this.inputKeyboardCapture=r(m,"input.keyboard.capture",[]),this.inputMouse=r(m,"input.mouse",!0),this.inputMouseEventTarget=r(m,"input.mouse.target",null),this.inputMousePreventDefaultDown=r(m,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=r(m,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=r(m,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=r(m,"input.mouse.preventDefaultWheel",!0),this.inputTouch=r(m,"input.touch",l.input.touch),this.inputTouchEventTarget=r(m,"input.touch.target",null),this.inputTouchCapture=r(m,"input.touch.capture",!0),this.inputActivePointers=r(m,"input.activePointers",1),this.inputSmoothFactor=r(m,"input.smoothFactor",0),this.inputWindowEvents=r(m,"input.windowEvents",!0),this.inputGamepad=r(m,"input.gamepad",!1),this.inputGamepadEventTarget=r(m,"input.gamepad.target",window),this.disableContextMenu=r(m,"disableContextMenu",!1),this.audio=r(m,"audio",{}),this.hideBanner=r(m,"banner",null)===!1,this.hidePhaser=r(m,"banner.hidePhaser",!1),this.bannerTextColor=r(m,"banner.text",E),this.bannerBackgroundColor=r(m,"banner.background",T),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=r(m,"fps",null),this.disablePreFX=r(m,"disablePreFX",!1),this.disablePostFX=r(m,"disablePostFX",!1);var w=r(m,"render",null);this.pipeline=r(w,"pipeline",null,m),this.autoMobilePipeline=r(w,"autoMobilePipeline",!0,m),this.defaultPipeline=r(w,"defaultPipeline",d.MULTI_PIPELINE,m),this.antialias=r(w,"antialias",!0,m),this.antialiasGL=r(w,"antialiasGL",!0,m),this.mipmapFilter=r(w,"mipmapFilter","",m),this.desynchronized=r(w,"desynchronized",!1,m),this.roundPixels=r(w,"roundPixels",!1,m),this.pixelArt=r(w,"pixelArt",this.zoom!==1,m),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=r(w,"transparent",!1,m),this.clearBeforeRender=r(w,"clearBeforeRender",!0,m),this.preserveDrawingBuffer=r(w,"preserveDrawingBuffer",!1,m),this.premultipliedAlpha=r(w,"premultipliedAlpha",!0,m),this.failIfMajorPerformanceCaveat=r(w,"failIfMajorPerformanceCaveat",!1,m),this.powerPreference=r(w,"powerPreference","default",m),this.batchSize=r(w,"batchSize",4096,m),this.maxTextures=r(w,"maxTextures",-1,m),this.maxLights=r(w,"maxLights",10,m);var R=r(m,"backgroundColor",0);this.backgroundColor=c(R),this.transparent&&(this.backgroundColor=c(0),this.backgroundColor.alpha=0),this.preBoot=r(m,"callbacks.preBoot",u),this.postBoot=r(m,"callbacks.postBoot",u),this.physics=r(m,"physics",{}),this.defaultPhysicsSystem=r(this.physics,"default",!1),this.loaderBaseURL=r(m,"loader.baseURL",""),this.loaderPath=r(m,"loader.path",""),this.loaderMaxParallelDownloads=r(m,"loader.maxParallelDownloads",l.os.android?6:32),this.loaderCrossOrigin=r(m,"loader.crossOrigin",void 0),this.loaderResponseType=r(m,"loader.responseType",""),this.loaderAsync=r(m,"loader.async",!0),this.loaderUser=r(m,"loader.user",""),this.loaderPassword=r(m,"loader.password",""),this.loaderTimeout=r(m,"loader.timeout",0),this.loaderMaxRetries=r(m,"loader.maxRetries",2),this.loaderWithCredentials=r(m,"loader.withCredentials",!1),this.loaderImageLoadType=r(m,"loader.imageLoadType","XHR"),this.loaderLocalScheme=r(m,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=r(m,"fx.glow.quality",.1),this.glowFXDistance=r(m,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var b=r(m,"plugins",null),O=f.DefaultScene;b&&(Array.isArray(b)?this.defaultPlugins=b:o(b)&&(this.installGlobalPlugins=h(b,"global",[]),this.installScenePlugins=h(b,"scene",[]),Array.isArray(b.default)?O=b.default:Array.isArray(b.defaultMerge)&&(O=O.concat(b.defaultMerge)))),this.defaultPlugins=O;var I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=r(m,"images.default",I+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=r(m,"images.missing",I+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=r(m,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=y.WEBGL:window.FORCE_CANVAS&&(this.renderType=y.CANVAS))}});C.exports=p},86054:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20623),y=s(27919),f=s(8054),l=s(89357),h=function(r){var o=r.config;if((o.customEnvironment||o.canvas)&&o.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!o.customEnvironment&&!o.canvas&&o.renderType!==f.HEADLESS)if(o.renderType===f.AUTO&&(o.renderType=l.webGL?f.WEBGL:f.CANVAS),o.renderType===f.WEBGL){if(!l.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(o.renderType===f.CANVAS){if(!l.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+o.renderType);o.antialias||y.disableSmoothing();var u=r.scale.baseSize,a=u.width,d=u.height;if(o.canvas?(r.canvas=o.canvas,r.canvas.width=a,r.canvas.height=d):r.canvas=y.create(r,a,d,o.renderType),o.canvasStyle&&(r.canvas.style=o.canvasStyle),o.antialias||g.setCrisp(r.canvas),o.renderType!==f.HEADLESS){var c,p;c=s(68627),p=s(74797),o.renderType===f.WEBGL?r.renderer=new p(r):(r.renderer=new c(r),r.context=r.renderer.gameContext)}};C.exports=h},96391:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8054),y=function(f){var l=f.config;if(!l.hideBanner){var h="WebGL";l.renderType===g.CANVAS?h="Canvas":l.renderType===g.HEADLESS&&(h="Headless");var r=l.audio,o=f.device.audio,u;if(o.webAudio&&!r.disableWebAudio?u="Web Audio":r.noAudio||!o.webAudio&&!o.audioData?u="No Audio":u="HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+g.VERSION+" / https://phaser.io");else{var a="",d=[a];if(Array.isArray(l.bannerBackgroundColor)){var c;l.bannerBackgroundColor.forEach(function(v){a=a.concat("%c "),d.push("background: "+v),c=v}),d[d.length-1]="color: "+l.bannerTextColor+"; background: "+c}else a=a.concat("%c "),d.push("color: "+l.bannerTextColor+"; background: "+l.bannerBackgroundColor);d.push("background: transparent"),l.gameTitle&&(a=a.concat(l.gameTitle),l.gameVersion&&(a=a.concat(" v"+l.gameVersion)),l.hidePhaser||(a=a.concat(" / ")));var p="";l.hidePhaser||(a=a.concat("Phaser v"+g.VERSION+p+" ("+h+" | "+u+")")),a=a.concat(" %c "+l.gameURL),d[0]=a,console.log.apply(console,d)}}};C.exports=y},50127:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40366),y=s(60848),f=s(24047),l=s(27919),h=s(83419),r=s(69547),o=s(83719),u=s(86054),a=s(45893),d=s(96391),c=s(82264),p=s(57264),v=s(50792),m=s(8443),T=s(7003),E=s(37277),P=s(77332),w=s(76531),R=s(60903),b=s(69442),O=s(17130),I=s(65898),D=s(51085),B=s(14747),k=new h({initialize:function(X){this.config=new r(X),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new y(this),this.textures=new O(this),this.cache=new f(this),this.registry=new a(this,new v),this.input=new T(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=c,this.scale=new w(this,this.config),this.sound=null,this.sound=B.create(this),this.loop=new I(this,this.config.fps),this.plugins=new P(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,p(this.boot.bind(this))},boot:function(){if(!E.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),u(this),o(this),d(this),g(this.canvas,this.config.parent),this.textures.once(b.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),D(this);var z=this.events;z.on(m.HIDDEN,this.onHidden,this),z.on(m.VISIBLE,this.onVisible,this),z.on(m.BLUR,this.onBlur,this),z.on(m.FOCUS,this.onFocus,this)},step:function(z,X){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var K=this.events;K.emit(m.PRE_STEP,z,X),K.emit(m.STEP,z,X),this.scene.update(z,X),K.emit(m.POST_STEP,z,X);var H=this.renderer;H.preRender(),K.emit(m.PRE_RENDER,H,z,X),this.scene.render(H),H.postRender(),K.emit(m.POST_RENDER,H,z,X)}},headlessStep:function(z,X){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var K=this.events;K.emit(m.PRE_STEP,z,X),K.emit(m.STEP,z,X),this.scene.update(z,X),K.emit(m.POST_STEP,z,X),this.scene.isProcessing=!1,K.emit(m.PRE_RENDER,null,z,X),K.emit(m.POST_RENDER,null,z,X)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var z=this.isPaused;this.isPaused=!0,z||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME,this.loop.pauseDuration)},resume:function(){var z=this.isPaused;this.isPaused=!1,z&&this.events.emit(m.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(z,X){X===void 0&&(X=!1),this.pendingDestroy=!0,this.removeCanvas=z,this.noReturn=X},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(l.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});C.exports=k},65898:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(35154),f=s(29747),l=s(43092),h=new g({initialize:function(o,u){this.game=o,this.raf=new l,this.started=!1,this.running=!1,this.minFps=y(u,"min",5),this.targetFps=y(u,"target",60),this.fpsLimit=y(u,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=y(u,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=y(u,"deltaHistory",10),this.panicMax=y(u,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=y(u,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var r=window.performance.now();this.time=r,this.lastTime=r,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0;for(var o=0;o<this.deltaSmoothingMax;o++)this.deltaHistory[o]=Math.min(this._target,this.deltaHistory[o]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(r){if(this.started)return this;this.started=!0,this.running=!0;for(var o=0;o<this.deltaSmoothingMax;o++)this.deltaHistory[o]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=r;var u=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(u,this.forceSetTimeOut,this._target)},smoothDelta:function(r){var o=this.deltaIndex,u=this.deltaHistory,a=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,r=Math.min(r,this._target)),r>this._min&&(r=u[o],r=Math.min(r,this._min)),u[o]=r,this.deltaIndex++,this.deltaIndex>=a&&(this.deltaIndex=0);for(var d=0,c=0;c<a;c++)d+=u[c];return d/=a,d},updateFPS:function(r){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0},stepLimitFPS:function(r){this.now=r;var o=Math.max(0,r-this.lastTime);this.rawDelta=o,this.time+=this.rawDelta,this.smoothStep&&(o=this.smoothDelta(o)),this.delta+=o,r>=this.nextFpsUpdate&&this.updateFPS(r),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(r,this.delta),this.delta=0),this.lastTime=r,this.frame++},step:function(r){this.now=r;var o=Math.max(0,r-this.lastTime);this.rawDelta=o,this.time+=this.rawDelta,this.smoothStep&&(o=this.smoothDelta(o)),this.delta=o,r>=this.nextFpsUpdate&&this.updateFPS(r),this.framesThisSecond++,this.callback(r,o),this.lastTime=r,this.frame++},tick:function(){var r=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(r):this.step(r)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(r){r===void 0&&(r=!1);var o=window.performance.now();if(!this.running){r&&(this.startTime+=-this.lastTime+(this.lastTime+o));var u=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(u,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});C.exports=h},51085:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8443),y=function(f){var l,h=f.events;if(document.hidden!==void 0)l="visibilitychange";else{var r=["webkit","moz","ms"];r.forEach(function(u){document[u+"Hidden"]!==void 0&&(document.hidden=function(){return document[u+"Hidden"]},l=u+"visibilitychange")})}var o=function(u){document.hidden||u.type==="pause"?h.emit(g.HIDDEN):h.emit(g.VISIBLE)};l&&document.addEventListener(l,o,!1),window.onblur=function(){h.emit(g.BLUR)},window.onfocus=function(){h.emit(g.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()};C.exports=y},97217:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="blur"},47548:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="boot"},19814:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="contextlost"},68446:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},41700:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="focus"},25432:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="hidden"},65942:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},59211:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postrender"},47789:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="poststep"},39066:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prerender"},460:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prestep"},16175:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="ready"},42331:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},11966:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="step"},32969:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="systemready"},94830:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="visible"},8443:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BLUR:s(97217),BOOT:s(47548),CONTEXT_LOST:s(19814),DESTROY:s(68446),FOCUS:s(41700),HIDDEN:s(25432),PAUSE:s(65942),POST_RENDER:s(59211),POST_STEP:s(47789),PRE_RENDER:s(39066),PRE_STEP:s(460),READY:s(16175),RESUME:s(42331),STEP:s(11966),SYSTEM_READY:s(32969),VISIBLE:s(94830)}},42857:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Config:s(69547),CreateRenderer:s(86054),DebugHeader:s(96391),Events:s(8443),TimeStep:s(65898),VisibilityHandler:s(51085)}},99584:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(5290),y=s(27919),f=s(35154),l=function(h){var r=f(h,"data",[]),o=f(h,"canvas",null),u=f(h,"palette",g),a=f(h,"pixelWidth",1),d=f(h,"pixelHeight",a),c=f(h,"resizeCanvas",!0),p=f(h,"clearCanvas",!0),v=f(h,"preRender",null),m=f(h,"postRender",null),T=Math.floor(Math.abs(r[0].length*a)),E=Math.floor(Math.abs(r.length*d));o||(o=y.create2D(this,T,E),c=!1,p=!1),c&&(o.width=T,o.height=E);var P=o.getContext("2d",{willReadFrequently:!0});p&&P.clearRect(0,0,T,E),v&&v(o,P);for(var w=0;w<r.length;w++)for(var R=r[w],b=0;b<R.length;b++){var O=R[b];O!=="."&&O!==" "&&(P.fillStyle=u[O],P.fillRect(b*a,w*d,a,d))}return m&&m(o,P),o};C.exports=l},15822:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={GenerateTexture:s(99584),Palettes:s(57763)}},5290:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ARNE16:s(5290),C64:s(23816),CGA:s(9866),JMP:s(77552),MSX:s(92259)}},46728:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(36316),f=s(80021),l=s(26099),h=new g({Extends:f,initialize:function(o,u,a,d){f.call(this,"CubicBezierCurve"),Array.isArray(o)&&(d=new l(o[6],o[7]),a=new l(o[4],o[5]),u=new l(o[2],o[3]),o=new l(o[0],o[1])),this.p0=o,this.p1=u,this.p2=a,this.p3=d},getStartPoint:function(r){return r===void 0&&(r=new l),r.copy(this.p0)},getResolution:function(r){return r},getPoint:function(r,o){o===void 0&&(o=new l);var u=this.p0,a=this.p1,d=this.p2,c=this.p3;return o.set(y(r,u.x,a.x,d.x,c.x),y(r,u.y,a.y,d.y,c.y))},draw:function(r,o){o===void 0&&(o=32);var u=this.getPoints(o);r.beginPath(),r.moveTo(this.p0.x,this.p0.y);for(var a=1;a<u.length;a++)r.lineTo(u[a].x,u[a].y);return r.strokePath(),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(r){var o=r.points,u=new l(o[0],o[1]),a=new l(o[2],o[3]),d=new l(o[4],o[5]),c=new l(o[6],o[7]);return new h(u,a,d,c)},C.exports=h},80021:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(19217),f=s(87841),l=s(26099),h=new g({initialize:function(o){this.type=o,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new l,this._tmpVec2B=new l},draw:function(r,o){return o===void 0&&(o=32),r.strokePoints(this.getPoints(o))},getBounds:function(r,o){r||(r=new f),o===void 0&&(o=16);var u=this.getLength();o>u&&(o=u/2);var a=Math.max(1,Math.round(u/o));return y(this.getSpacedPoints(a),r)},getDistancePoints:function(r){var o=this.getLength(),u=Math.max(1,o/r);return this.getSpacedPoints(u)},getEndPoint:function(r){return r===void 0&&(r=new l),this.getPointAt(1,r)},getLength:function(){var r=this.getLengths();return r[r.length-1]},getLengths:function(r){if(r===void 0&&(r=this.arcLengthDivisions),this.cacheArcLengths.length===r+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var o=[],u,a=this.getPoint(0,this._tmpVec2A),d=0;o.push(0);for(var c=1;c<=r;c++)u=this.getPoint(c/r,this._tmpVec2B),d+=u.distance(a),o.push(d),a.copy(u);return this.cacheArcLengths=o,o},getPointAt:function(r,o){var u=this.getUtoTmapping(r);return this.getPoint(u,o)},getPoints:function(r,o,u){u===void 0&&(u=[]),r||(o?r=this.getLength()/o:r=this.defaultDivisions);for(var a=0;a<=r;a++)u.push(this.getPoint(a/r));return u},getRandomPoint:function(r){return r===void 0&&(r=new l),this.getPoint(Math.random(),r)},getSpacedPoints:function(r,o,u){u===void 0&&(u=[]),r||(o?r=this.getLength()/o:r=this.defaultDivisions);for(var a=0;a<=r;a++){var d=this.getUtoTmapping(a/r,null,r);u.push(this.getPoint(d))}return u},getStartPoint:function(r){return r===void 0&&(r=new l),this.getPointAt(0,r)},getTangent:function(r,o){o===void 0&&(o=new l);var u=1e-4,a=r-u,d=r+u;return a<0&&(a=0),d>1&&(d=1),this.getPoint(a,this._tmpVec2A),this.getPoint(d,o),o.subtract(this._tmpVec2A).normalize()},getTangentAt:function(r,o){var u=this.getUtoTmapping(r);return this.getTangent(u,o)},getTFromDistance:function(r,o){return r<=0?0:this.getUtoTmapping(0,r,o)},getUtoTmapping:function(r,o,u){var a=this.getLengths(u),d=0,c=a.length,p;o?p=Math.min(o,a[c-1]):p=r*a[c-1];for(var v=0,m=c-1,T;v<=m;)if(d=Math.floor(v+(m-v)/2),T=a[d]-p,T<0)v=d+1;else if(T>0)m=d-1;else{m=d;break}if(d=m,a[d]===p)return d/(c-1);var E=a[d],P=a[d+1],w=P-E,R=(p-E)/w;return(d+R)/(c-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});C.exports=h},73825:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(80021),f=s(39506),l=s(35154),h=s(43396),r=s(26099),o=new g({Extends:y,initialize:function(a,d,c,p,v,m,T,E){if(typeof a=="object"){var P=a;a=l(P,"x",0),d=l(P,"y",0),c=l(P,"xRadius",0),p=l(P,"yRadius",c),v=l(P,"startAngle",0),m=l(P,"endAngle",360),T=l(P,"clockwise",!1),E=l(P,"rotation",0)}else p===void 0&&(p=c),v===void 0&&(v=0),m===void 0&&(m=360),T===void 0&&(T=!1),E===void 0&&(E=0);y.call(this,"EllipseCurve"),this.p0=new r(a,d),this._xRadius=c,this._yRadius=p,this._startAngle=f(v),this._endAngle=f(m),this._clockwise=T,this._rotation=f(E)},getStartPoint:function(u){return u===void 0&&(u=new r),this.getPoint(0,u)},getResolution:function(u){return u*2},getPoint:function(u,a){a===void 0&&(a=new r);for(var d=Math.PI*2,c=this._endAngle-this._startAngle,p=Math.abs(c)<Number.EPSILON;c<0;)c+=d;for(;c>d;)c-=d;c<Number.EPSILON&&(p?c=0:c=d),this._clockwise&&!p&&(c===d?c=-d:c=c-d);var v=this._startAngle+u*c,m=this.p0.x+this._xRadius*Math.cos(v),T=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var E=Math.cos(this._rotation),P=Math.sin(this._rotation),w=m-this.p0.x,R=T-this.p0.y;m=w*E-R*P+this.p0.x,T=w*P+R*E+this.p0.y}return a.set(m,T)},setXRadius:function(u){return this.xRadius=u,this},setYRadius:function(u){return this.yRadius=u,this},setWidth:function(u){return this.xRadius=u/2,this},setHeight:function(u){return this.yRadius=u/2,this},setStartAngle:function(u){return this.startAngle=u,this},setEndAngle:function(u){return this.endAngle=u,this},setClockwise:function(u){return this.clockwise=u,this},setRotation:function(u){return this.rotation=u,this},x:{get:function(){return this.p0.x},set:function(u){this.p0.x=u}},y:{get:function(){return this.p0.y},set:function(u){this.p0.y=u}},xRadius:{get:function(){return this._xRadius},set:function(u){this._xRadius=u}},yRadius:{get:function(){return this._yRadius},set:function(u){this._yRadius=u}},startAngle:{get:function(){return h(this._startAngle)},set:function(u){this._startAngle=f(u)}},endAngle:{get:function(){return h(this._endAngle)},set:function(u){this._endAngle=f(u)}},clockwise:{get:function(){return this._clockwise},set:function(u){this._clockwise=u}},angle:{get:function(){return h(this._rotation)},set:function(u){this._rotation=f(u)}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});o.fromJSON=function(u){return new o(u)},C.exports=o},33951:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(80021),f=s(19217),l=s(87841),h=s(26099),r=new g({Extends:y,initialize:function(u,a){y.call(this,"LineCurve"),Array.isArray(u)&&(a=new h(u[2],u[3]),u=new h(u[0],u[1])),this.p0=u,this.p1=a,this.arcLengthDivisions=1},getBounds:function(o){return o===void 0&&(o=new l),f([this.p0,this.p1],o)},getStartPoint:function(o){return o===void 0&&(o=new h),o.copy(this.p0)},getResolution:function(o){return o===void 0&&(o=1),o},getPoint:function(o,u){return u===void 0&&(u=new h),o===1?u.copy(this.p1):(u.copy(this.p1).subtract(this.p0).scale(o).add(this.p0),u)},getPointAt:function(o,u){return this.getPoint(o,u)},getTangent:function(o,u){return u===void 0&&(u=new h),u.copy(this.p1).subtract(this.p0).normalize(),u},getUtoTmapping:function(o,u,a){var d;if(u){var c=this.getLengths(a),p=c[c.length-1],v=Math.min(u,p);d=v/p}else d=o;return d},draw:function(o){return o.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});r.fromJSON=function(o){var u=o.points,a=new h(u[0],u[1]),d=new h(u[2],u[3]);return new r(a,d)},C.exports=r},14744:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(80021),f=s(32112),l=s(26099),h=new g({Extends:y,initialize:function(o,u,a){y.call(this,"QuadraticBezierCurve"),Array.isArray(o)&&(a=new l(o[4],o[5]),u=new l(o[2],o[3]),o=new l(o[0],o[1])),this.p0=o,this.p1=u,this.p2=a},getStartPoint:function(r){return r===void 0&&(r=new l),r.copy(this.p0)},getResolution:function(r){return r},getPoint:function(r,o){o===void 0&&(o=new l);var u=this.p0,a=this.p1,d=this.p2;return o.set(f(r,u.x,a.x,d.x),f(r,u.y,a.y,d.y))},draw:function(r,o){o===void 0&&(o=32);var u=this.getPoints(o);r.beginPath(),r.moveTo(this.p0.x,this.p0.y);for(var a=1;a<u.length;a++)r.lineTo(u[a].x,u[a].y);return r.strokePath(),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(r){var o=r.points,u=new l(o[0],o[1]),a=new l(o[2],o[3]),d=new l(o[4],o[5]);return new h(u,a,d)},C.exports=h},42534:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87842),y=s(83419),f=s(80021),l=s(26099),h=new y({Extends:f,initialize:function(o){o===void 0&&(o=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(o)},addPoints:function(r){for(var o=0;o<r.length;o++){var u=new l;typeof r[o]=="number"?(u.x=r[o],u.y=r[o+1],o++):Array.isArray(r[o])?(u.x=r[o][0],u.y=r[o][1]):(u.x=r[o].x,u.y=r[o].y),this.points.push(u)}return this},addPoint:function(r,o){var u=new l(r,o);return this.points.push(u),u},getStartPoint:function(r){return r===void 0&&(r=new l),r.copy(this.points[0])},getResolution:function(r){return r*this.points.length},getPoint:function(r,o){o===void 0&&(o=new l);var u=this.points,a=(u.length-1)*r,d=Math.floor(a),c=a-d,p=u[d===0?d:d-1],v=u[d],m=u[d>u.length-2?u.length-1:d+1],T=u[d>u.length-3?u.length-1:d+2];return o.set(g(c,p.x,v.x,m.x,T.x),g(c,p.y,v.y,m.y,T.y))},toJSON:function(){for(var r=[],o=0;o<this.points.length;o++)r.push(this.points[o].x),r.push(this.points[o].y);return{type:this.type,points:r}}});h.fromJSON=function(r){return new h(r.points)},C.exports=h},25410:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Path:s(46669),MoveTo:s(68618),CubicBezier:s(46728),Curve:s(80021),Ellipse:s(73825),Line:s(33951),QuadraticBezier:s(14744),Spline:s(42534)}},68618:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(26099),f=new g({initialize:function(h,r){this.active=!1,this.p0=new y(h,r)},getPoint:function(l,h){return h===void 0&&(h=new y),h.copy(this.p0)},getPointAt:function(l,h){return this.getPoint(l,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});C.exports=f},46669:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(46728),f=s(73825),l=s(39429),h=s(33951),r=s(68618),o=s(14744),u=s(87841),a=s(42534),d=s(26099),c=s(36383),p=new g({initialize:function(m,T){m===void 0&&(m=0),T===void 0&&(T=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new d,this._tmpVec2A=new d,this._tmpVec2B=new d,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,T)},add:function(v){return this.curves.push(v),this},circleTo:function(v,m,T){return m===void 0&&(m=!1),this.ellipseTo(v,v,0,360,m,T)},closePath:function(){var v=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return v.equals(m)||this.curves.push(new h(m,v)),this},cubicBezierTo:function(v,m,T,E,P,w){var R=this.getEndPoint(),b,O,I;return v instanceof d?(b=v,O=m,I=T):(b=new d(T,E),O=new d(P,w),I=new d(v,m)),this.add(new y(R,b,O,I))},quadraticBezierTo:function(v,m,T,E){var P=this.getEndPoint(),w,R;return v instanceof d?(w=v,R=m):(w=new d(T,E),R=new d(v,m)),this.add(new o(P,w,R))},draw:function(v,m){for(var T=0;T<this.curves.length;T++){var E=this.curves[T];E.active&&E.draw(v,m)}return v},ellipseTo:function(v,m,T,E,P,w){var R=new f(0,0,v,m,T,E,P,w),b=this.getEndPoint(this._tmpVec2A),O=R.getStartPoint(this._tmpVec2B);return b.subtract(O),R.x=b.x,R.y=b.y,this.add(R)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var m=0;m<v.curves.length;m++){var T=v.curves[m];switch(T.type){case"LineCurve":this.add(h.fromJSON(T));break;case"EllipseCurve":this.add(f.fromJSON(T));break;case"SplineCurve":this.add(a.fromJSON(T));break;case"CubicBezierCurve":this.add(y.fromJSON(T));break;case"QuadraticBezierCurve":this.add(o.fromJSON(T));break}}return this},getBounds:function(v,m){v===void 0&&(v=new u),m===void 0&&(m=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var T=new u,E=c.MIN_SAFE_INTEGER,P=c.MIN_SAFE_INTEGER,w=0;w<this.curves.length;w++){var R=this.curves[w];R.active&&(R.getBounds(T,m),v.x=Math.min(v.x,T.x),v.y=Math.min(v.y,T.y),E=Math.max(E,T.right),P=Math.max(P,T.bottom))}return v.right=E,v.bottom=P,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],m=0,T=0;T<this.curves.length;T++)m+=this.curves[T].getLength(),v.push(m);return this.cacheLengths=v,v},getCurveAt:function(v){for(var m=v*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=m)return this.curves[E];E++}return null},getEndPoint:function(v){return v===void 0&&(v=new d),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,m){m===void 0&&(m=new d);for(var T=v*this.getLength(),E=this.getCurveLengths(),P=0;P<E.length;){if(E[P]>=T){var w=E[P]-T,R=this.curves[P],b=R.getLength(),O=b===0?0:1-w/b;return R.getPointAt(O,m)}P++}return null},getPoints:function(v,m){!v&&!m&&(v=this.defaultDivisions);for(var T=[],E,P=0;P<this.curves.length;P++){var w=this.curves[P];if(w.active)for(var R=w.getResolution(v),b=w.getPoints(R,m),O=0;O<b.length;O++){var I=b[O];E&&E.equals(I)||(T.push(I),E=I)}}return this.autoClose&&T.length>1&&!T[T.length-1].equals(T[0])&&T.push(T[0]),T},getRandomPoint:function(v){return v===void 0&&(v=new d),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var m=[],T=0;T<=v;T++)m.push(this.getPoint(T/v));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(v){return v===void 0&&(v=new d),v.copy(this.startPoint)},getTangent:function(v,m){m===void 0&&(m=new d);for(var T=v*this.getLength(),E=this.getCurveLengths(),P=0;P<E.length;){if(E[P]>=T){var w=E[P]-T,R=this.curves[P],b=R.getLength(),O=b===0?0:1-w/b;return R.getTangentAt(O,m)}P++}return null},lineTo:function(v,m){v instanceof d?this._tmpVec2B.copy(v):typeof v=="object"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,m);var T=this.getEndPoint(this._tmpVec2A);return this.add(new h([T.x,T.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new a(v))},moveTo:function(v,m){return v instanceof d?this.add(new r(v.x,v.y)):this.add(new r(v,m))},toJSON:function(){for(var v=[],m=0;m<this.curves.length;m++)v.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});l.register("path",function(v,m){return new p(v,m)}),C.exports=p},45893:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(24882),f=new g({initialize:function(h,r){this.parent=h,this.events=r,r||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(y.DESTROY,this.destroy,this)},get:function(l){var h=this.list;if(Array.isArray(l)){for(var r=[],o=0;o<l.length;o++)r.push(h[l[o]]);return r}else return h[l]},getAll:function(){var l={};for(var h in this.list)this.list.hasOwnProperty(h)&&(l[h]=this.list[h]);return l},query:function(l){var h={};for(var r in this.list)this.list.hasOwnProperty(r)&&r.match(l)&&(h[r]=this.list[r]);return h},set:function(l,h){if(this._frozen)return this;if(typeof l=="string")return this.setValue(l,h);for(var r in l)this.setValue(r,l[r]);return this},inc:function(l,h){if(this._frozen)return this;h===void 0&&(h=1);var r=this.get(l);return r===void 0&&(r=0),this.set(l,r+h),this},toggle:function(l){return this._frozen?this:(this.set(l,!this.get(l)),this)},setValue:function(l,h){if(this._frozen)return this;if(this.has(l))this.values[l]=h;else{var r=this,o=this.list,u=this.events,a=this.parent;Object.defineProperty(this.values,l,{enumerable:!0,configurable:!0,get:function(){return o[l]},set:function(d){if(!r._frozen){var c=o[l];o[l]=d,u.emit(y.CHANGE_DATA,a,l,d,c),u.emit(y.CHANGE_DATA_KEY+l,a,d,c)}}}),o[l]=h,u.emit(y.SET_DATA,a,l,h)}return this},each:function(l,h){for(var r=[this.parent,null,void 0],o=1;o<arguments.length;o++)r.push(arguments[o]);for(var u in this.list)r[1]=u,r[2]=this.list[u],l.apply(h,r);return this},merge:function(l,h){h===void 0&&(h=!0);for(var r in l)l.hasOwnProperty(r)&&(h||!h&&!this.has(r))&&this.setValue(r,l[r]);return this},remove:function(l){if(this._frozen)return this;if(Array.isArray(l))for(var h=0;h<l.length;h++)this.removeValue(l[h]);else return this.removeValue(l);return this},removeValue:function(l){if(this.has(l)){var h=this.list[l];delete this.list[l],delete this.values[l],this.events.emit(y.REMOVE_DATA,this.parent,l,h)}return this},pop:function(l){var h=void 0;return!this._frozen&&this.has(l)&&(h=this.list[l],delete this.list[l],delete this.values[l],this.events.emit(y.REMOVE_DATA,this.parent,l,h)),h},has:function(l){return this.list.hasOwnProperty(l)},setFreeze:function(l){return this._frozen=l,this},reset:function(){for(var l in this.list)delete this.list[l],delete this.values[l];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(y.CHANGE_DATA),this.events.off(y.SET_DATA),this.events.off(y.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(l){this._frozen=!!l}},count:{get:function(){var l=0;for(var h in this.list)this.list[h]!==void 0&&l++;return l}}});C.exports=f},63646:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(45893),f=s(37277),l=s(44594),h=new g({Extends:y,initialize:function(o){y.call(this,o,o.sys.events),this.scene=o,this.systems=o.sys,o.sys.events.once(l.BOOT,this.boot,this),o.sys.events.on(l.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){y.prototype.destroy.call(this),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",h,"data"),C.exports=h},10700:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="changedata"},93608:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="changedata-"},60883:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},69780:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedata"},22166:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="setdata"},24882:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CHANGE_DATA:s(10700),CHANGE_DATA_KEY:s(93608),DESTROY:s(60883),REMOVE_DATA:s(69780),SET_DATA:s(22166)}},44965:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={DataManager:s(45893),DataManagerPlugin:s(63646),Events:s(24882)}},7098:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(84148),y={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return y;y.audioData=!!window.Audio,y.webAudio=!!(window.AudioContext||window.webkitAudioContext);var l=document.createElement("audio"),h=!!l.canPlayType;try{if(h){var r=function(a,d){var c=l.canPlayType("audio/"+a).replace(/^no$/,"");return d?!!(c||l.canPlayType("audio/"+d).replace(/^no$/,"")):!!c};if(y.ogg=r('ogg; codecs="vorbis"'),y.opus=r('ogg; codecs="opus"',"opus"),y.mp3=r("mpeg"),y.wav=r("wav"),y.m4a=r("x-m4a"),y.aac=r("aac"),y.flac=r("flac","x-flac"),y.webm=r('webm; codecs="vorbis"'),l.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(g.edge)y.dolby=!0;else if(g.safari&&g.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var o=parseInt(RegExp.$1,10),u=parseInt(RegExp.$2,10);(o===10&&u>=11||o>10)&&(y.dolby=!0)}}}}catch{}return y}C.exports=f()},84148:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25892),y={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var l=navigator.userAgent;return/Edg\/\d+/.test(l)?(y.edge=!0,y.es2019=!0):/OPR/.test(l)?(y.opera=!0,y.es2019=!0):/Chrome\/(\d+)/.test(l)&&!g.windowsPhone?(y.chrome=!0,y.chromeVersion=parseInt(RegExp.$1,10),y.es2019=y.chromeVersion>69):/Firefox\D+(\d+)/.test(l)?(y.firefox=!0,y.firefoxVersion=parseInt(RegExp.$1,10),y.es2019=y.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(l)&&g.iOS?(y.mobileSafari=!0,y.es2019=!0):/MSIE (\d+\.\d+);/.test(l)?(y.ie=!0,y.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(l)&&!g.windowsPhone?(y.safari=!0,y.safariVersion=parseInt(RegExp.$1,10),y.es2019=y.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(l)&&(y.ie=!0,y.trident=!0,y.tridentVersion=parseInt(RegExp.$1,10),y.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(l)&&(y.silk=!0),y}C.exports=f()},89289:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",o="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",u=new Image;return u.onload=function(){var a=new Image;a.onload=function(){var d=g.create2D(a,6),c=d.getContext("2d",{willReadFrequently:!0});if(c.globalCompositeOperation="multiply",c.drawImage(u,0,0),c.drawImage(a,2,0),!c.getImageData(2,0,1,1))return!1;var p=c.getImageData(2,0,1,1).data;g.remove(a),y.supportNewBlendModes=p[0]===255&&p[1]===0&&p[2]===0},a.src=r+"/wCKxvRF"+o},u.src=r+"AP804Oa6"+o,!1}function l(){var r=g.create2D(this,2),o=r.getContext("2d",{willReadFrequently:!0});o.fillStyle="rgba(10, 20, 30, 0.5)",o.fillRect(0,0,1,1);var u=o.getImageData(0,0,1,1);if(u===null)return!1;o.putImageData(u,1,0);var a=o.getImageData(1,0,1,1),d=a.data[0]===u.data[0]&&a.data[1]===u.data[1]&&a.data[2]===u.data[2]&&a.data[3]===u.data[3];return g.remove(this),d}function h(){return typeof importScripts!="function"&&document!==void 0&&(y.supportNewBlendModes=f(),y.supportInverseAlpha=l()),y}C.exports=h()},89357:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25892),y=s(84148),f=s(27919),l={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function h(){var o=new ArrayBuffer(4),u=new Uint8Array(o),a=new Uint32Array(o);return u[0]=161,u[1]=178,u[2]=195,u[3]=212,a[0]===3569595041?!0:a[0]===2712847316?!1:null}function r(){if(typeof importScripts=="function")return l;l.canvas=!!window.CanvasRenderingContext2D;try{l.localStorage=!!localStorage.getItem}catch{l.localStorage=!1}l.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,l.fileSystem=!!window.requestFileSystem;var o=!1,u=function(){if(window.WebGLRenderingContext)try{var a=f.createWebGL(this),d=a.getContext("webgl")||a.getContext("experimental-webgl"),c=f.create2D(this),p=c.getContext("2d",{willReadFrequently:!0}),v=p.createImageData(1,1);return o=v.data instanceof Uint8ClampedArray,f.remove(a),f.remove(c),!!d}catch{return!1}return!1};return l.webGL=u(),l.worker=!!window.Worker,l.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,l.getUserMedia=l.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,y.firefox&&y.firefoxVersion<21&&(l.getUserMedia=!1),!g.iOS&&(y.ie||y.firefox||y.chrome)&&(l.canvasBitBltShift=!0),(y.safari||y.mobileSafari)&&(l.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(l.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(l.littleEndian=h()),l.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&l.littleEndian!==null&&o,l}C.exports=r()},91639:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={available:!1,cancel:"",keyboard:!1,request:""};function s(){if(typeof importScripts=="function")return A;var g,y="Fullscreen",f="FullScreen",l=["request"+y,"request"+f,"webkitRequest"+y,"webkitRequest"+f,"msRequest"+y,"msRequest"+f,"mozRequest"+f,"mozRequest"+y];for(g=0;g<l.length;g++)if(document.documentElement[l[g]]){A.available=!0,A.request=l[g];break}var h=["cancel"+f,"exit"+y,"webkitCancel"+f,"webkitExit"+y,"msCancel"+f,"msExit"+y,"mozCancel"+f,"mozExit"+y];if(A.available){for(g=0;g<h.length;g++)if(document[h[g]]){A.cancel=h[g];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(A.keyboard=!0),Object.defineProperty(A,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),A}C.exports=s()},31784:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(84148),y={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(y.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(y.mspointer=!0),navigator.getGamepads&&(y.gamepads=!0),"onwheel"in window||g.ie&&"WheelEvent"in window?y.wheelEvent="wheel":"onmousewheel"in window?y.wheelEvent="mousewheel":g.firefox&&"MouseScrollEvent"in window&&(y.wheelEvent="DOMMouseScroll")),y}C.exports=f()},25892:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return A;var g=navigator.userAgent;/Windows/.test(g)?A.windows=!0:/Mac OS/.test(g)&&!/like Mac OS/.test(g)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(A.iOS=!0,A.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),A.iOSVersion=parseInt(RegExp.$1,10)):A.macOS=!0:/Android/.test(g)?A.android=!0:/Linux/.test(g)?A.linux=!0:/iP[ao]d|iPhone/i.test(g)?(A.iOS=!0,navigator.appVersion.match(/OS (\d+)/),A.iOSVersion=parseInt(RegExp.$1,10),A.iPhone=g.toLowerCase().indexOf("iphone")!==-1,A.iPad=g.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(g)||/\bKF[A-Z][A-Z]+/.test(g)||/Silk.*Mobile Safari/.test(g)?A.kindle=!0:/CrOS/.test(g)&&(A.chromeOS=!0),(/Windows Phone/i.test(g)||/IEMobile/i.test(g))&&(A.android=!1,A.iOS=!1,A.macOS=!1,A.windows=!0,A.windowsPhone=!0);var y=/Silk/.test(g);return(A.windows||A.macOS||A.linux&&!y||A.chromeOS)&&(A.desktop=!0),(A.windowsPhone||/Windows NT/i.test(g)&&/Touch/i.test(g))&&(A.desktop=!1),navigator.standalone&&(A.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(A.cordova=!0),window.ejecta!==void 0&&(A.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(A.node=!0),A.node&&typeof process.versions=="object"&&(A.nodeWebkit=!!process.versions["node-webkit"],A.electron=!!process.versions.electron),/Crosswalk/.test(g)&&(A.crosswalk=!0),A.pixelRatio=window.devicePixelRatio||1,A}C.exports=s()},43267:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return y;var l=document.createElement("video"),h=!!l.canPlayType,r=/^no$/;try{h&&(l.canPlayType('video/ogg; codecs="theora"').replace(r,"")&&(y.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(r,"")&&(y.h264=!0,y.mp4=!0),l.canPlayType("video/x-m4v").replace(r,"")&&(y.m4v=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(r,"")&&(y.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(r,"")&&(y.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(r,"")&&(y.hls=!0))}catch{}return l.parentNode&&l.parentNode.removeChild(l),y.getVideoURL=function(o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length;u++){var a=g(o[u],"url",o[u]);if(a.indexOf("blob:")===0)return{url:a,type:""};var d;if(a.indexOf("data:")===0?d=a.split(",")[0].match(/\/(.*?);/):d=a.match(/\.([a-zA-Z0-9]+)($|\?)/),d=g(o[u],"type",d?d[1]:"").toLowerCase(),y[d])return{url:a,type:d}}return null},y}C.exports=f()},82264:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={os:s(25892),browser:s(84148),features:s(89357),input:s(31784),audio:s(7098),video:s(43267),fullscreen:s(91639),canvasFeatures:s(89289)}},89422:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new Float32Array(20),f=new g({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(l){return this._matrix.set(l),this._dirty=!0,this},reset:function(){var l=this._matrix;return l.fill(0),l[0]=1,l[6]=1,l[12]=1,l[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var l=this._data;return this._dirty&&(l.set(this._matrix),l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,this._dirty=!1),l},brightness:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var r=l;return this.multiply([r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0],h)},saturate:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var r=l*2/3+1,o=(r-1)*-.5;return this.multiply([r,o,o,0,0,o,r,o,0,0,o,o,r,0,0,0,0,0,1,0],h)},desaturate:function(l){return l===void 0&&(l=!1),this.saturate(-1,l)},hue:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1),l=l/180*Math.PI;var r=Math.cos(l),o=Math.sin(l),u=.213,a=.715,d=.072;return this.multiply([u+r*(1-u)+o*-u,a+r*-a+o*-a,d+r*-d+o*(1-d),0,0,u+r*-u+o*.143,a+r*(1-a)+o*.14,d+r*-d+o*-.283,0,0,u+r*-u+o*-.787,a+r*-a+o*a,d+r*(1-d)+o*d,0,0,0,0,0,1,0],h)},grayscale:function(l,h){return l===void 0&&(l=1),h===void 0&&(h=!1),this.saturate(-l,h)},blackWhite:function(l){return l===void 0&&(l=!1),this.multiply(f.BLACK_WHITE,l)},contrast:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var r=l+1,o=-.5*(r-1);return this.multiply([r,0,0,0,o,0,r,0,0,o,0,0,r,0,o,0,0,0,1,0],h)},negative:function(l){return l===void 0&&(l=!1),this.multiply(f.NEGATIVE,l)},desaturateLuminance:function(l){return l===void 0&&(l=!1),this.multiply(f.DESATURATE_LUMINANCE,l)},sepia:function(l){return l===void 0&&(l=!1),this.multiply(f.SEPIA,l)},night:function(l,h){return l===void 0&&(l=.1),h===void 0&&(h=!1),this.multiply([l*-2,-l,0,0,0,-l,0,l,0,0,0,l,l*2,0,0,0,0,0,1,0],h)},lsd:function(l){return l===void 0&&(l=!1),this.multiply(f.LSD,l)},brown:function(l){return l===void 0&&(l=!1),this.multiply(f.BROWN,l)},vintagePinhole:function(l){return l===void 0&&(l=!1),this.multiply(f.VINTAGE,l)},kodachrome:function(l){return l===void 0&&(l=!1),this.multiply(f.KODACHROME,l)},technicolor:function(l){return l===void 0&&(l=!1),this.multiply(f.TECHNICOLOR,l)},polaroid:function(l){return l===void 0&&(l=!1),this.multiply(f.POLAROID,l)},shiftToBGR:function(l){return l===void 0&&(l=!1),this.multiply(f.SHIFT_BGR,l)},multiply:function(l,h){h===void 0&&(h=!1),h||this.reset();var r=this._matrix,o=y;return o.set(r),r.set([o[0]*l[0]+o[1]*l[5]+o[2]*l[10]+o[3]*l[15],o[0]*l[1]+o[1]*l[6]+o[2]*l[11]+o[3]*l[16],o[0]*l[2]+o[1]*l[7]+o[2]*l[12]+o[3]*l[17],o[0]*l[3]+o[1]*l[8]+o[2]*l[13]+o[3]*l[18],o[0]*l[4]+o[1]*l[9]+o[2]*l[14]+o[3]*l[19]+o[4],o[5]*l[0]+o[6]*l[5]+o[7]*l[10]+o[8]*l[15],o[5]*l[1]+o[6]*l[6]+o[7]*l[11]+o[8]*l[16],o[5]*l[2]+o[6]*l[7]+o[7]*l[12]+o[8]*l[17],o[5]*l[3]+o[6]*l[8]+o[7]*l[13]+o[8]*l[18],o[5]*l[4]+o[6]*l[9]+o[7]*l[14]+o[8]*l[19]+o[9],o[10]*l[0]+o[11]*l[5]+o[12]*l[10]+o[13]*l[15],o[10]*l[1]+o[11]*l[6]+o[12]*l[11]+o[13]*l[16],o[10]*l[2]+o[11]*l[7]+o[12]*l[12]+o[13]*l[17],o[10]*l[3]+o[11]*l[8]+o[12]*l[13]+o[13]*l[18],o[10]*l[4]+o[11]*l[9]+o[12]*l[14]+o[13]*l[19]+o[14],o[15]*l[0]+o[16]*l[5]+o[17]*l[10]+o[18]*l[15],o[15]*l[1]+o[16]*l[6]+o[17]*l[11]+o[18]*l[16],o[15]*l[2]+o[16]*l[7]+o[17]*l[12]+o[18]*l[17],o[15]*l[3]+o[16]*l[8]+o[17]*l[13]+o[18]*l[18],o[15]*l[4]+o[16]*l[9]+o[17]*l[14]+o[18]*l[19]+o[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],C.exports=f},51767:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(29747),f=new g({initialize:function(h,r,o){this._rgb=[0,0,0],this.onChangeCallback=y,this.dirty=!1,this.set(h,r,o)},set:function(l,h,r){return l===void 0&&(l=0),h===void 0&&(h=0),r===void 0&&(r=0),this._rgb=[l,h,r],this.onChange(),this},equals:function(l,h,r){var o=this._rgb;return o[0]===l&&o[1]===h&&o[2]===r},onChange:function(){this.dirty=!0;var l=this._rgb;this.onChangeCallback.call(this,l[0],l[1],l[2])},r:{get:function(){return this._rgb[0]},set:function(l){this._rgb[0]=l,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(l){this._rgb[1]=l,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(l){this._rgb[2]=l,this.onChange()}},destroy:function(){this.onChangeCallback=null}});C.exports=f},60461:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};C.exports=A},54312:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(35893),f=s(86327),l=s(88417),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(o)+u),f(r,g(o)+a),r};C.exports=h},46768:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(26541),f=s(86327),l=s(385),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(o)-u),f(r,g(o)+a),r};C.exports=h},35827:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(54380),f=s(86327),l=s(40136),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(o)+u),f(r,g(o)+a),r};C.exports=h},46871:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66786),y=s(35893),f=s(7702),l=function(h,r,o,u){return o===void 0&&(o=0),u===void 0&&(u=0),g(h,y(r)+o,f(r)+u),h};C.exports=l},5198:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7702),y=s(26541),f=s(20786),l=s(385),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(o)-u),f(r,g(o)+a),r};C.exports=h},11879:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(60461),y=[];y[g.BOTTOM_CENTER]=s(54312),y[g.BOTTOM_LEFT]=s(46768),y[g.BOTTOM_RIGHT]=s(35827),y[g.CENTER]=s(46871),y[g.LEFT_CENTER]=s(5198),y[g.RIGHT_CENTER]=s(80503),y[g.TOP_CENTER]=s(89698),y[g.TOP_LEFT]=s(922),y[g.TOP_RIGHT]=s(21373),y[g.LEFT_BOTTOM]=y[g.BOTTOM_LEFT],y[g.LEFT_TOP]=y[g.TOP_LEFT],y[g.RIGHT_BOTTOM]=y[g.BOTTOM_RIGHT],y[g.RIGHT_TOP]=y[g.TOP_RIGHT];var f=function(l,h,r,o,u){return y[r](l,h,o,u)};C.exports=f},80503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7702),y=s(54380),f=s(20786),l=s(40136),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(o)+u),f(r,g(o)+a),r};C.exports=h},89698:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35893),y=s(17717),f=s(88417),l=s(66737),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,g(o)+u),l(r,y(o)-a),r};C.exports=h},922:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26541),y=s(17717),f=s(385),l=s(66737),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,g(o)-u),l(r,y(o)-a),r};C.exports=h},21373:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54380),y=s(17717),f=s(40136),l=s(66737),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,g(o)+u),l(r,y(o)-a),r};C.exports=h},91660:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BottomCenter:s(54312),BottomLeft:s(46768),BottomRight:s(35827),Center:s(46871),LeftCenter:s(5198),QuickSet:s(11879),RightCenter:s(80503),TopCenter:s(89698),TopLeft:s(922),TopRight:s(21373)}},71926:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(60461),y=s(79291),f={In:s(91660),To:s(16694)};f=y(!1,f,g),C.exports=f},21578:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(35893),f=s(88417),l=s(66737),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,y(o)+u),l(r,g(o)+a),r};C.exports=h},10210:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(26541),f=s(385),l=s(66737),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,y(o)-u),l(r,g(o)+a),r};C.exports=h},82341:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(54380),f=s(40136),l=s(66737),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,y(o)+u),l(r,g(o)+a),r};C.exports=h},87958:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(26541),f=s(86327),l=s(40136),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(o)-u),f(r,g(o)+a),r};C.exports=h},40080:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7702),y=s(26541),f=s(20786),l=s(40136),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(o)-u),f(r,g(o)+a),r};C.exports=h},88466:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26541),y=s(17717),f=s(40136),l=s(66737),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,g(o)-u),l(r,y(o)-a),r};C.exports=h},38829:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(60461),y=[];y[g.BOTTOM_CENTER]=s(21578),y[g.BOTTOM_LEFT]=s(10210),y[g.BOTTOM_RIGHT]=s(82341),y[g.LEFT_BOTTOM]=s(87958),y[g.LEFT_CENTER]=s(40080),y[g.LEFT_TOP]=s(88466),y[g.RIGHT_BOTTOM]=s(19211),y[g.RIGHT_CENTER]=s(34609),y[g.RIGHT_TOP]=s(48741),y[g.TOP_CENTER]=s(49440),y[g.TOP_LEFT]=s(81288),y[g.TOP_RIGHT]=s(61323);var f=function(l,h,r,o,u){return y[r](l,h,o,u)};C.exports=f},19211:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(54380),f=s(86327),l=s(385),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(o)+u),f(r,g(o)+a),r};C.exports=h},34609:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7702),y=s(54380),f=s(20786),l=s(385),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,y(o)+u),f(r,g(o)+a),r};C.exports=h},48741:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54380),y=s(17717),f=s(385),l=s(66737),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),f(r,g(o)+u),l(r,y(o)-a),r};C.exports=h},49440:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35893),y=s(17717),f=s(86327),l=s(88417),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,g(o)+u),f(r,y(o)-a),r};C.exports=h},81288:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26541),y=s(17717),f=s(86327),l=s(385),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,g(o)-u),f(r,y(o)-a),r};C.exports=h},61323:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54380),y=s(17717),f=s(86327),l=s(40136),h=function(r,o,u,a){return u===void 0&&(u=0),a===void 0&&(a=0),l(r,g(o)+u),f(r,y(o)-a),r};C.exports=h},16694:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BottomCenter:s(21578),BottomLeft:s(10210),BottomRight:s(82341),LeftBottom:s(87958),LeftCenter:s(40080),LeftTop:s(88466),QuickSet:s(38829),RightBottom:s(19211),RightCenter:s(34609),RightTop:s(48741),TopCenter:s(49440),TopLeft:s(81288),TopRight:s(61323)}},66786:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(88417),y=s(20786),f=function(l,h,r){return g(l,h),y(l,r)};C.exports=f},62235:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.y+s.height-s.height*s.originY};C.exports=A},72873:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62235),y=s(26541),f=s(54380),l=s(17717),h=s(87841),r=function(o,u){u===void 0&&(u=new h);var a=y(o),d=l(o);return u.x=a,u.y=d,u.width=f(o)-a,u.height=g(o)-d,u};C.exports=r},35893:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x-s.width*s.originX+s.width*.5};C.exports=A},7702:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.y-s.height*s.originY+s.height*.5};C.exports=A},26541:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x-s.width*s.originX};C.exports=A},87431:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.width*s.originX};C.exports=A},46928:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.height*s.originY};C.exports=A},54380:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x+s.width-s.width*s.originX};C.exports=A},17717:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.y-s.height*s.originY};C.exports=A},86327:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.y=g-s.height+s.height*s.originY,s};C.exports=A},88417:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.width*s.originX;return s.x=g+y-s.width*.5,s};C.exports=A},20786:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.height*s.originY;return s.y=g+y-s.height*.5,s};C.exports=A},385:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x=g+s.width*s.originX,s};C.exports=A},40136:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x=g-s.width+s.width*s.originX,s};C.exports=A},66737:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.y=g+s.height*s.originY,s};C.exports=A},58724:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CenterOn:s(66786),GetBottom:s(62235),GetBounds:s(72873),GetCenterX:s(35893),GetCenterY:s(7702),GetLeft:s(26541),GetOffsetX:s(87431),GetOffsetY:s(46928),GetRight:s(54380),GetTop:s(17717),SetBottom:s(86327),SetCenterX:s(88417),SetCenterY:s(20786),SetLeft:s(385),SetRight:s(40136),SetTop:s(66737)}},20623:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setCrisp:function(s){var g=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return g.forEach(function(y){s.style["image-rendering"]=y}),s.style.msInterpolationMode="nearest-neighbor",s},setBicubic:function(s){return s.style["image-rendering"]="auto",s.style.msInterpolationMode="bicubic",s}};C.exports=A},27919:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8054),y=s(68703),f=[],l=!1,h=function(){var r=function(T,E,P,w,R){E===void 0&&(E=1),P===void 0&&(P=1),w===void 0&&(w=g.CANVAS),R===void 0&&(R=!1);var b,O=a(w);return O===null?(O={parent:T,canvas:document.createElement("canvas"),type:w},w===g.CANVAS&&f.push(O),b=O.canvas):(O.parent=T,b=O.canvas),R&&(O.parent=b),b.width=E,b.height=P,l&&w===g.CANVAS&&y.disable(b.getContext("2d",{willReadFrequently:!1})),b},o=function(T,E,P){return r(T,E,P,g.CANVAS)},u=function(T,E,P){return r(T,E,P,g.WEBGL)},a=function(T){if(T===void 0&&(T=g.CANVAS),T===g.WEBGL)return null;for(var E=0;E<f.length;E++){var P=f[E];if(!P.parent&&P.type===T)return P}return null},d=function(T){var E=T instanceof HTMLCanvasElement;f.forEach(function(P){(E&&P.canvas===T||!E&&P.parent===T)&&(P.parent=null,P.canvas.width=1,P.canvas.height=1)})},c=function(){var T=0;return f.forEach(function(E){E.parent&&T++}),T},p=function(){return f.length-c()},v=function(){l=!0},m=function(){l=!1};return{create2D:o,create:r,createWebGL:u,disableSmoothing:v,enableSmoothing:m,first:a,free:p,pool:f,remove:d,total:c}};C.exports=h()},68703:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A="",s=function(){var g=function(h){for(var r=["i","webkitI","msI","mozI","oI"],o=0;o<r.length;o++){var u=r[o]+"mageSmoothingEnabled";if(u in h)return u}return null},y=function(h){return A===""&&(A=g(h)),A&&(h[A]=!0),h},f=function(h){return A===""&&(A=g(h)),A&&(h[A]=!1),h},l=function(h){return A!==null?h[A]:null};return{disable:f,enable:y,getPrefix:g,isEnabled:l}};C.exports=s()},65208:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g="none"),s.style.msTouchAction=g,s.style["ms-touch-action"]=g,s.style["touch-action"]=g,s};C.exports=A},91610:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g="none");var y=["-webkit-","-khtml-","-moz-","-ms-",""];return y.forEach(function(f){s.style[f+"user-select"]=g}),s.style["-webkit-touch-callout"]=g,s.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",s};C.exports=A},26253:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CanvasInterpolation:s(20623),CanvasPool:s(27919),Smoothing:s(68703),TouchAction:s(65208),UserSelect:s(91610)}},40987:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(37589),f=s(1e3),l=s(7537),h=s(87837),r=new g({initialize:function(u,a,d,c){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(u,a,d,c)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(o,u,a,d,c){return d===void 0&&(d=255),c===void 0&&(c=!0),this._locked=!0,this.red=o,this.green=u,this.blue=a,this.alpha=d,this._locked=!1,this.update(c)},setGLTo:function(o,u,a,d){return d===void 0&&(d=1),this._locked=!0,this.redGL=o,this.greenGL=u,this.blueGL=a,this.alphaGL=d,this._locked=!1,this.update(!0)},setFromRGB:function(o){return this._locked=!0,this.red=o.r,this.green=o.g,this.blue=o.b,o.hasOwnProperty("a")&&(this.alpha=o.a),this._locked=!1,this.update(!0)},setFromHSV:function(o,u,a){return l(o,u,a,this)},update:function(o){if(o===void 0&&(o=!1),this._locked)return this;var u=this.r,a=this.g,d=this.b,c=this.a;return this._color=y(u,a,d),this._color32=f(u,a,d,c),this._rgba="rgba("+u+","+a+","+d+","+c/255+")",o&&h(u,a,d,this),this},updateHSV:function(){var o=this.r,u=this.g,a=this.b;return h(o,u,a,this),this},clone:function(){return new r(this.r,this.g,this.b,this.a)},gray:function(o){return this.setTo(o,o,o)},random:function(o,u){o===void 0&&(o=0),u===void 0&&(u=255);var a=Math.floor(o+Math.random()*(u-o)),d=Math.floor(o+Math.random()*(u-o)),c=Math.floor(o+Math.random()*(u-o));return this.setTo(a,d,c)},randomGray:function(o,u){o===void 0&&(o=0),u===void 0&&(u=255);var a=Math.floor(o+Math.random()*(u-o));return this.setTo(a,a,a)},saturate:function(o){return this.s+=o/100,this},desaturate:function(o){return this.s-=o/100,this},lighten:function(o){return this.v+=o/100,this},darken:function(o){return this.v-=o/100,this},brighten:function(o){var u=this.r,a=this.g,d=this.b;return u=Math.max(0,Math.min(255,u-Math.round(255*-(o/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(o/100)))),d=Math.max(0,Math.min(255,d-Math.round(255*-(o/100)))),this.setTo(u,a,d)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(o){this.gl[0]=Math.min(Math.abs(o),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(o){this.gl[1]=Math.min(Math.abs(o),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(o){this.gl[2]=Math.min(Math.abs(o),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(o){this.gl[3]=Math.min(Math.abs(o),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(o){o=Math.floor(Math.abs(o)),this.r=Math.min(o,255),this.gl[0]=o/255,this.update(!0)}},green:{get:function(){return this.g},set:function(o){o=Math.floor(Math.abs(o)),this.g=Math.min(o,255),this.gl[1]=o/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(o){o=Math.floor(Math.abs(o)),this.b=Math.min(o,255),this.gl[2]=o/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(o){o=Math.floor(Math.abs(o)),this.a=Math.min(o,255),this.gl[3]=o/255,this.update()}},h:{get:function(){return this._h},set:function(o){this._h=o,l(o,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(o){this._s=o,l(this._h,o,this._v,this)}},v:{get:function(){return this._v},set:function(o){this._v=o,l(this._h,this._s,o,this)}}});C.exports=r},92728:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37589),y=function(f){f===void 0&&(f=1024);var l=[],h=255,r,o=255,u=0,a=0;for(r=0;r<=h;r++)l.push({r:o,g:r,b:a,color:g(o,r,a)});for(u=255,r=h;r>=0;r--)l.push({r,g:u,b:a,color:g(r,u,a)});for(o=0,r=0;r<=h;r++,u--)l.push({r:o,g:u,b:r,color:g(o,u,r)});for(u=0,a=255,r=0;r<=h;r++,a--,o++)l.push({r:o,g:u,b:a,color:g(o,u,a)});if(f===1024)return l;var d=[],c=0,p=1024/f;for(r=0;r<f;r++)d.push(l[Math.floor(c)]),c+=p;return d};C.exports=y},91588:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g={r:s>>16&255,g:s>>8&255,b:s&255,a:255};return s>16777215&&(g.a=s>>>24),g};C.exports=A},62957:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=s.toString(16);return g.length===1?"0"+g:g};C.exports=A},37589:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s<<16|g<<8|y};C.exports=A},1e3:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return f<<24|s<<16|g<<8|y};C.exports=A},62183:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987),y=s(89528),f=function(l,h,r){var o=r,u=r,a=r;if(h!==0){var d=r<.5?r*(1+h):r+h-r*h,c=2*r-d;o=y(c,d,l+1/3),u=y(c,d,l),a=y(c,d,l-1/3)}var p=new g;return p.setGLTo(o,u,a,1)};C.exports=f},27939:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7537),y=function(f,l){f===void 0&&(f=1),l===void 0&&(l=1);for(var h=[],r=0;r<=359;r++)h.push(g(r/359,f,l));return h};C.exports=y},7537:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37589);function y(l,h,r,o){var u=(l+h*6)%6,a=Math.min(u,4-u,1);return Math.round(255*(o-o*r*Math.max(0,a)))}var f=function(l,h,r,o){h===void 0&&(h=1),r===void 0&&(r=1);var u=y(5,l,h,r),a=y(3,l,h,r),d=y(1,l,h,r);return o?o.setTo?o.setTo(u,a,d,o.alpha,!0):(o.r=u,o.g=a,o.b=d,o.color=g(u,a,d),o):{r:u,g:a,b:d,color:g(u,a,d)}};C.exports=f},70238:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987),y=function(f){var l=new g;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,d,c,p){return d+d+c+c+p+p});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(h){var r=parseInt(h[1],16),o=parseInt(h[2],16),u=parseInt(h[3],16);l.setTo(r,o,u)}return l};C.exports=y},89528:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y<0&&(y+=1),y>1&&(y-=1),y<.16666666666666666?s+(g-s)*6*y:y<.5?g:y<.6666666666666666?s+(g-s)*(.6666666666666666-y)*6:s};C.exports=A},30100:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987),y=s(90664),f=function(l){var h=y(l);return new g(h.r,h.g,h.b,h.a)};C.exports=f},90664:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s>16777215?{a:s>>>24,r:s>>16&255,g:s>>8&255,b:s&255}:{a:255,r:s>>16&255,g:s>>8&255,b:s&255}};C.exports=A},13699:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(28915),y=s(37589),f=function(r,o,u,a,d,c,p,v){p===void 0&&(p=100),v===void 0&&(v=0);var m=v/p,T=g(r,a,m),E=g(o,d,m),P=g(u,c,m);return{r:T,g:E,b:P,a:255,color:y(T,E,P)}},l=function(r,o,u,a){return u===void 0&&(u=100),a===void 0&&(a=0),f(r.r,r.g,r.b,o.r,o.g,o.b,u,a)},h=function(r,o,u,a,d,c){return d===void 0&&(d=100),c===void 0&&(c=0),f(r.r,r.g,r.b,o,u,a,d,c)};C.exports={RGBWithRGB:f,ColorWithRGB:h,ColorWithColor:l}},68957:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987),y=function(f){return new g(f.r,f.g,f.b,f.a)};C.exports=y},87388:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987),y=function(f){var l=new g,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(h){var r=parseInt(h[1],10),o=parseInt(h[2],10),u=parseInt(h[3],10),a=h[4]!==void 0?parseFloat(h[4]):1;l.setTo(r,o,u,a*255)}return l};C.exports=y},87837:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){f===void 0&&(f={h:0,s:0,v:0}),s/=255,g/=255,y/=255;var l=Math.min(s,g,y),h=Math.max(s,g,y),r=h-l,o=0,u=h===0?0:r/h,a=h;return h!==l&&(h===s?o=(g-y)/r+(g<y?6:0):h===g?o=(y-s)/r+2:h===y&&(o=(s-g)/r+4),o/=6),f.hasOwnProperty("_h")?(f._h=o,f._s=u,f._v=a):(f.h=o,f.s=u,f.v=a),f};C.exports=A},75723:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62957),y=function(f,l,h,r,o){return r===void 0&&(r=255),o===void 0&&(o="#"),o==="#"?"#"+((1<<24)+(f<<16)+(l<<8)+h).toString(16).slice(1,7):"0x"+g(r)+g(f)+g(l)+g(h)};C.exports=y},85386:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30976),y=s(40987),f=function(l,h){return l===void 0&&(l=0),h===void 0&&(h=255),new y(g(l,h),g(l,h),g(l,h))};C.exports=f},80333:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70238),y=s(30100),f=s(68957),l=s(87388),h=function(r){var o=typeof r;switch(o){case"string":return r.substr(0,3).toLowerCase()==="rgb"?l(r):g(r);case"number":return y(r);case"object":return f(r)}};C.exports=h},3956:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40987);g.ColorSpectrum=s(92728),g.ColorToRGBA=s(91588),g.ComponentToHex=s(62957),g.GetColor=s(37589),g.GetColor32=s(1e3),g.HexStringToColor=s(70238),g.HSLToColor=s(62183),g.HSVColorWheel=s(27939),g.HSVToRGB=s(7537),g.HueToComponent=s(89528),g.IntegerToColor=s(30100),g.IntegerToRGB=s(90664),g.Interpolate=s(13699),g.ObjectToColor=s(68957),g.RandomRGB=s(85386),g.RGBStringToColor=s(87388),g.RGBToHSV=s(87837),g.RGBToString=s(75723),g.ValueToColor=s(80333),C.exports=g},27460:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Align:s(71926),BaseShader:s(73894),Bounds:s(58724),Canvas:s(26253),Color:s(3956),ColorMatrix:s(89422),Masks:s(69781),RGB:s(51767)}},6858:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(39429),f=new g({initialize:function(h,r,o,u,a,d){r||(r=h.sys.make.image({x:o,y:u,key:a,frame:d,add:!1})),this.bitmapMask=r,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(l){this.bitmapMask=l},preRenderWebGL:function(l,h,r){l.pipelines.BITMAPMASK_PIPELINE.beginMask(this,h,r)},postRenderWebGL:function(l,h,r){l.pipelines.BITMAPMASK_PIPELINE.endMask(this,h,r)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});y.register("bitmapMask",function(l,h,r,o,u){return new f(this.scene,l,h,r,o,u)}),C.exports=f},80661:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,l,h){var r=f.gl;f.flush(),f.maskStack.length===0&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:h}),this.applyStencil(f,h,!0),f.maskCount++},applyStencil:function(f,l,h){var r=f.gl,o=this.geometryMask,u=f.maskCount,a=255;r.colorMask(!1,!1,!1,!1),h?(r.stencilFunc(r.EQUAL,u,a),r.stencilOp(r.KEEP,r.KEEP,r.INCR),u++):(r.stencilFunc(r.EQUAL,u+1,a),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),this.level=u,o.renderWebGL(f,o,l),f.flush(),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),this.invertAlpha?r.stencilFunc(r.NOTEQUAL,u,a):r.stencilFunc(r.EQUAL,u,a)},postRenderWebGL:function(f){var l=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var h=f.currentMask;if(f.maskStack.length===0)h.mask=null,l.disable(l.STENCIL_TEST);else{var r=f.maskStack[f.maskStack.length-1];r.mask.applyStencil(f,r.camera,!1),f.currentCameraMask.mask!==r.mask?(h.mask=r.mask,h.camera=r.camera):h.mask=null}},preRenderCanvas:function(f,l,h){var r=this.geometryMask;f.currentContext.save(),r.renderCanvas(f,r,h,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});C.exports=y},69781:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BitmapMask:s(6858),GeometryMask:s(80661)}},73894:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r,o){(!h||h==="")&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!r||r==="")&&(r=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),o===void 0&&(o=null),this.key=l,this.fragmentSrc=h,this.vertexSrc=r,this.uniforms=o}});C.exports=y},40366:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y;if(g)typeof g=="string"?y=document.getElementById(g):typeof g=="object"&&g.nodeType===1&&(y=g);else if(s.parentElement||g===null)return s;return y||(y=document.body),y.appendChild(s),s};C.exports=A},83719:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40366),y=function(f){var l=f.config;if(!(!l.parent||!l.domCreateContainer)){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+l.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=h,g(h,l.parent)}};C.exports=y},57264:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25892),y=function(f){if(document.readyState==="complete"||document.readyState==="interactive"){f();return}var l=function(){document.removeEventListener("deviceready",l,!0),document.removeEventListener("DOMContentLoaded",l,!0),window.removeEventListener("load",l,!0),f()};document.body?g.cordova?document.addEventListener("deviceready",l,!1):(document.addEventListener("DOMContentLoaded",l,!0),window.addEventListener("load",l,!0)):window.setTimeout(l,20)};C.exports=y},57811:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){if(!s)return window.innerHeight;var g=Math.abs(window.orientation),y={w:0,h:0},f=document.createElement("div");return f.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(f),y.w=g===90?f.offsetHeight:window.innerWidth,y.h=g===90?window.innerWidth:f.offsetHeight,document.documentElement.removeChild(f),f=null,Math.abs(window.orientation)!==90?y.h:y.w};C.exports=A},45818:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13560),y=function(f,l){var h=window.screen,r=h?h.orientation||h.mozOrientation||h.msOrientation:!1;if(r&&typeof r.type=="string")return r.type;if(typeof r=="string")return r;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?g.ORIENTATION.PORTRAIT:g.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return g.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return g.ORIENTATION.LANDSCAPE}else return l>f?g.ORIENTATION.PORTRAIT:g.ORIENTATION.LANDSCAPE};C.exports=y},74403:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g;return s!==""&&(typeof s=="string"?g=document.getElementById(s):s&&s.nodeType===1&&(g=s)),g||(g=document.body),g};C.exports=A},56836:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g="";try{if(window.DOMParser){var y=new DOMParser;g=y.parseFromString(s,"text/xml")}else g=new ActiveXObject("Microsoft.XMLDOM"),g.loadXML(s)}catch{g=null}return!g||!g.documentElement||g.getElementsByTagName("parsererror").length?null:g};C.exports=A},35846:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){s.parentNode&&s.parentNode.removeChild(s)};C.exports=A},43092:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(29747),f=new g({initialize:function(){this.isRunning=!1,this.callback=y,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var h=this;this.step=function r(o){h.callback(o),h.isRunning&&(h.timeOutID=window.requestAnimationFrame(r))},this.stepTimeout=function r(){h.isRunning&&(h.timeOutID=window.setTimeout(r,h.delay)),h.callback(window.performance.now())}},start:function(l,h,r){this.isRunning||(this.callback=l,this.isSetTimeOut=h,this.delay=r,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=y}});C.exports=f},84902:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={AddToDOM:s(40366),DOMContentLoaded:s(57264),GetInnerHeight:s(57811),GetScreenOrientation:s(45818),GetTarget:s(74403),ParseXML:s(56836),RemoveFromDOM:s(35846),RequestAnimationFrame:s(43092)};C.exports=g},47565:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(37277),l=new g({Extends:y,initialize:function(){y.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",l,"events"),C.exports=l},93055:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={EventEmitter:s(47565)}},20122:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o){o===void 0&&(o=1),y.call(this,f.BARREL,r),this.amount=o}});C.exports=l},32251:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a,d,c,p){u===void 0&&(u=1),a===void 0&&(a=1),d===void 0&&(d=1),c===void 0&&(c=1),p===void 0&&(p=4),y.call(this,f.BLOOM,r),this.steps=p,this.offsetX=u,this.offsetY=a,this.blurStrength=d,this.strength=c,this.glcolor=[1,1,1],o!=null&&(this.color=o)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var r=this.glcolor;r[0]=(h>>16&255)/255,r[1]=(h>>8&255)/255,r[2]=(h&255)/255}}});C.exports=l},9047:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a,d,c,p){o===void 0&&(o=0),u===void 0&&(u=2),a===void 0&&(a=2),d===void 0&&(d=1),p===void 0&&(p=4),y.call(this,f.BLUR,r),this.quality=o,this.x=u,this.y=a,this.steps=p,this.strength=d,this.glcolor=[1,1,1],c!=null&&(this.color=c)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var r=this.glcolor;r[0]=(h>>16&255)/255,r[1]=(h>>8&255)/255,r[2]=(h&255)/255}}});C.exports=l},27885:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a,d,c,p,v){o===void 0&&(o=.5),u===void 0&&(u=1),a===void 0&&(a=.2),d===void 0&&(d=!1),c===void 0&&(c=1),p===void 0&&(p=1),v===void 0&&(v=1),y.call(this,f.BOKEH,r),this.radius=o,this.amount=u,this.contrast=a,this.isTiltShift=d,this.strength=v,this.blurX=c,this.blurY=p}});C.exports=l},12578:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a,d,c){o===void 0&&(o=8),d===void 0&&(d=1),c===void 0&&(c=.005),y.call(this,f.CIRCLE,r),this.scale=d,this.feather=c,this.thickness=o,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],u!=null&&(this.color=u),a!=null&&(this.backgroundColor=a)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var r=this.glcolor;r[0]=(h>>16&255)/255,r[1]=(h>>8&255)/255,r[2]=(h&255)/255}},backgroundColor:{get:function(){var h=this.glcolor2;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var r=this.glcolor2;r[0]=(h>>16&255)/255,r[1]=(h>>8&255)/255,r[2]=(h&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(h){this.glcolor2[3]=h}}});C.exports=l},15802:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(89422),f=s(14811),l=new g({Extends:y,initialize:function(r){y.call(this),this.type=f.COLOR_MATRIX,this.gameObject=r,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});C.exports=l},72898:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h){this.type=l,this.gameObject=h,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});C.exports=y},44553:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a){o===void 0&&(o="__WHITE"),u===void 0&&(u=.005),a===void 0&&(a=.005),y.call(this,f.DISPLACEMENT,r),this.x=u,this.y=a,this.glTexture,this.setTexture(o)},setTexture:function(h){var r=this.gameObject.scene.sys.textures.getFrame(h);return r&&(this.glTexture=r.glTexture),this}});C.exports=l},68531:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a,d){u===void 0&&(u=4),a===void 0&&(a=0),d===void 0&&(d=!1),y.call(this,f.GLOW,r),this.outerStrength=u,this.innerStrength=a,this.knockout=d,this.glcolor=[1,1,1,1],o!==void 0&&(this.color=o)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var r=this.glcolor;r[0]=(h>>16&255)/255,r[1]=(h>>8&255)/255,r[2]=(h&255)/255}}});C.exports=l},37102:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a,d,c,p,v,m){a===void 0&&(a=.2),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=1),m===void 0&&(m=0),y.call(this,f.GRADIENT,r),this.alpha=a,this.size=m,this.fromX=d,this.fromY=c,this.toX=p,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],o!=null&&(this.color1=o),u!=null&&(this.color2=u)},color1:{get:function(){var h=this.glcolor1;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var r=this.glcolor1;r[0]=h>>16&255,r[1]=h>>8&255,r[2]=h&255}},color2:{get:function(){var h=this.glcolor2;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var r=this.glcolor2;r[0]=h>>16&255,r[1]=h>>8&255,r[2]=h&255}}});C.exports=l},86886:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o){o===void 0&&(o=1),y.call(this,f.PIXELATE,r),this.amount=o}});C.exports=l},92322:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a,d,c,p,v){o===void 0&&(o=0),u===void 0&&(u=0),a===void 0&&(a=.1),d===void 0&&(d=1),p===void 0&&(p=6),v===void 0&&(v=1),y.call(this,f.SHADOW,r),this.x=o,this.y=u,this.decay=a,this.power=d,this.glcolor=[0,0,0,1],this.samples=p,this.intensity=v,c!==void 0&&(this.color=c)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var r=this.glcolor;r[0]=(h>>16&255)/255,r[1]=(h>>8&255)/255,r[2]=(h&255)/255}}});C.exports=l},39563:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a,d){o===void 0&&(o=.5),u===void 0&&(u=.5),a===void 0&&(a=3),d===void 0&&(d=!1),y.call(this,f.SHINE,r),this.speed=o,this.lineWidth=u,this.gradient=a,this.reveal=d}});C.exports=l},56448:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a,d){o===void 0&&(o=.5),u===void 0&&(u=.5),a===void 0&&(a=.5),d===void 0&&(d=.5),y.call(this,f.VIGNETTE,r),this.x=o,this.y=u,this.radius=a,this.strength=d}});C.exports=l},38433:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72898),f=s(14811),l=new g({Extends:y,initialize:function(r,o,u,a,d){o===void 0&&(o=.1),u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=!1),y.call(this,f.WIPE,r),this.progress=0,this.wipeWidth=o,this.direction=u,this.axis=a,this.reveal=d}});C.exports=l},14811:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};C.exports=A},66064:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=s(14811),f={Barrel:s(20122),Controller:s(72898),Bloom:s(32251),Blur:s(9047),Bokeh:s(27885),Circle:s(12578),ColorMatrix:s(15802),Displacement:s(44553),Glow:s(68531),Gradient:s(37102),Pixelate:s(86886),Shadow:s(92322),Shine:s(39563),Vignette:s(56448),Wipe:s(38433)};f=g(!1,f,y),C.exports=f},25305:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(23568),f=function(l,h,r){h.x=y(r,"x",0),h.y=y(r,"y",0),h.depth=y(r,"depth",0),h.flipX=y(r,"flipX",!1),h.flipY=y(r,"flipY",!1);var o=y(r,"scale",null);typeof o=="number"?h.setScale(o):o!==null&&(h.scaleX=y(o,"x",1),h.scaleY=y(o,"y",1));var u=y(r,"scrollFactor",null);typeof u=="number"?h.setScrollFactor(u):u!==null&&(h.scrollFactorX=y(u,"x",1),h.scrollFactorY=y(u,"y",1)),h.rotation=y(r,"rotation",0);var a=y(r,"angle",null);a!==null&&(h.angle=a),h.alpha=y(r,"alpha",1);var d=y(r,"origin",null);if(typeof d=="number")h.setOrigin(d);else if(d!==null){var c=y(d,"x",.5),p=y(d,"y",.5);h.setOrigin(c,p)}h.blendMode=y(r,"blendMode",g.NORMAL),h.visible=y(r,"visible",!0);var v=y(r,"add",!0);return v&&l.sys.displayList.add(h),h.preUpdate&&l.sys.updateList.add(h),h};C.exports=f},13059:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23568),y=function(f,l){var h=g(l,"anims",null);if(h===null)return f;if(typeof h=="string")f.anims.play(h);else if(typeof h=="object"){var r=f.anims,o=g(h,"key",void 0);if(o){var u=g(h,"startFrame",void 0),a=g(h,"delay",0),d=g(h,"repeat",0),c=g(h,"repeatDelay",0),p=g(h,"yoyo",!1),v=g(h,"play",!1),m=g(h,"delayedPlay",0),T={key:o,delay:a,repeat:d,repeatDelay:c,yoyo:p,startFrame:u};v?r.play(T):m>0?r.playAfterDelay(T,m):r.load(T)}}return f};C.exports=y},8050:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(73162),f=s(37277),l=s(51708),h=s(44594),r=s(19186),o=new g({Extends:y,initialize:function(a){y.call(this,a),this.sortChildrenFlag=!1,this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(u){u.displayList&&u.displayList!==this&&u.removeFromDisplayList(),u.parentContainer&&u.parentContainer.remove(u),u.displayList||(this.queueDepthSort(),u.displayList=this,u.emit(l.ADDED_TO_SCENE,u,this.scene),this.events.emit(h.ADDED_TO_SCENE,u,this.scene))},removeChildCallback:function(u){this.queueDepthSort(),u.displayList=null,u.emit(l.REMOVED_FROM_SCENE,u,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,u,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(r(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(u,a){return u._depth-a._depth},getChildren:function(){return this.list},shutdown:function(){for(var u=this.list,a=u.length;a--;)u[a]&&u[a].destroy(!0);u.length=0,this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",o,"displayList"),C.exports=o},95643:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(53774),f=s(45893),l=s(50792),h=s(51708),r=s(44594),o=new g({Extends:l,initialize:function(a,d){l.call(this),this.scene=a,this.displayList=null,this.type=d,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),a.sys.queueDepthSort()},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},setState:function(u){return this.state=u,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(u,a){return this.data||(this.data=new f(this)),this.data.set(u,a),this},incData:function(u,a){return this.data||(this.data=new f(this)),this.data.inc(u,a),this},toggleData:function(u){return this.data||(this.data=new f(this)),this.data.toggle(u),this},getData:function(u){return this.data||(this.data=new f(this)),this.data.get(u)},setInteractive:function(u,a,d){return this.scene.sys.input.enable(this,u,a,d),this},disableInteractive:function(u){return u===void 0&&(u=!1),this.scene.sys.input.disable(this,u),this},removeInteractive:function(u){return u===void 0&&(u=!1),this.scene.sys.input.clear(this),u&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return y(this)},willRender:function(u){var a=this.displayList&&this.displayList.active?this.displayList.willRender(u):!0;return!(!a||o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},getIndexList:function(){for(var u=this,a=this.parentContainer,d=[];a&&(d.unshift(a.getIndex(u)),u=a,a.parentContainer);)a=a.parentContainer;return this.displayList?d.unshift(this.displayList.getIndex(u)):d.unshift(this.scene.sys.displayList.getIndex(u)),d},addToDisplayList:function(u){return u===void 0&&(u=this.scene.sys.displayList),this.displayList&&this.displayList!==u&&this.removeFromDisplayList(),u.exists(this)||(this.displayList=u,u.add(this,!0),u.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),u.events.emit(r.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var u=this.displayList||this.scene.sys.displayList;return u&&u.exists(this)&&(u.remove(this,!0),u.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),u.events.emit(r.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var u=null;return this.parentContainer?u=this.parentContainer.list:this.displayList&&(u=this.displayList.list),u},destroy:function(u){!this.scene||this.ignoreDestroy||(u===void 0&&(u=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this,u),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});o.RENDER_MASK=15,C.exports=o},44603:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(37277),f=s(44594),l=new g({initialize:function(r){this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(h,r){l.prototype.hasOwnProperty(h)||(l.prototype[h]=r)},l.remove=function(h){l.prototype.hasOwnProperty(h)&&delete l.prototype[h]},y.register("GameObjectCreator",l,"make"),C.exports=l},39429:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(37277),f=s(44594),l=new g({initialize:function(r){this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(h,r){l.prototype.hasOwnProperty(h)||(l.prototype[h]=r)},l.remove=function(h){l.prototype.hasOwnProperty(h)&&delete l.prototype[h]},y.register("GameObjectFactory",l,"add"),C.exports=l},91296:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61340),y=new g,f=new g,l=new g,h={camera:y,sprite:f,calc:l},r=function(o,u,a){var d=y,c=f,p=l;return c.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),d.copyFrom(u.matrix),a?(d.multiplyWithOffset(a,-u.scrollX*o.scrollFactorX,-u.scrollY*o.scrollFactorY),c.e=o.x,c.f=o.y):(c.e-=u.scrollX*o.scrollFactorX,c.f-=u.scrollY*o.scrollFactorY),d.multiply(c,p),h};C.exports=r},45027:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(25774),f=s(37277),l=s(44594),h=new g({Extends:y,initialize:function(o){y.call(this),this.checkQueue=!0,this.scene=o,this.systems=o.sys,o.sys.events.once(l.BOOT,this.boot,this),o.sys.events.on(l.START,this.start,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){var r=this.systems.events;r.on(l.PRE_UPDATE,this.update,this),r.on(l.UPDATE,this.sceneUpdate,this),r.once(l.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(r,o){for(var u=this._active,a=u.length,d=0;d<a;d++){var c=u[d];c.active&&c.preUpdate.call(c,r,o)}},shutdown:function(){for(var r=this._active.length;r--;)this._active[r].destroy(!0);for(r=this._pending.length;r--;)this._pending[r].destroy(!0);for(r=this._destroy.length;r--;)this._destroy[r].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var o=this.systems.events;o.off(l.PRE_UPDATE,this.update,this),o.off(l.UPDATE,this.sceneUpdate,this),o.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",h,"updateList"),C.exports=h},3217:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,h,r,o,u,a,d,c,p,v,m){var T=y.x-g.displayOriginX+l,E=y.y-g.displayOriginY+h,P=T+y.w,w=E+y.h,R=r.a,b=r.b,O=r.c,I=r.d,D=r.e,B=r.f,k=T*R+E*O+D,z=T*b+E*I+B,X=T*R+w*O+D,K=T*b+w*I+B,H=P*R+w*O+D,Q=P*b+w*I+B,W=P*R+E*O+D,Y=P*b+E*I+B;o&&(k=Math.round(k),z=Math.round(z),X=Math.round(X),K=Math.round(K),H=Math.round(H),Q=Math.round(Q),W=Math.round(W),Y=Math.round(Y)),s.batchQuad(g,k,z,X,K,H,Q,W,Y,f.u0,f.v0,f.u1,f.v1,u,a,d,c,p,v,m)};C.exports=A},53048:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){if(y===void 0&&(y=!1),f===void 0)return f={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},f;var l=s.text,h=l.length,r=s.maxWidth,o=s.wordWrapCharCode,u=Number.MAX_VALUE,a=Number.MAX_VALUE,d=0,c=0,p=s.fontData.chars,v=s.fontData.lineHeight,m=s.letterSpacing,T=s.lineSpacing,E=0,P=0,w=0,R=null,b=s._align,O=0,I=0,D=s.fontSize/s.fontData.size,B=D*s.scaleX,k=D*s.scaleY,z=null,X=0,K=[],H=Number.MAX_VALUE,Q=0,W=0,Y=0,N,Z,U,j=[],et=[],it=null,rt=function(ce,be){for(var $t=0,le=0;le<ce.length;le++){var Gt=ce.charCodeAt(le),pe=be.chars[Gt];pe&&($t+=pe.xAdvance)}return $t*B};if(r>0){U=l.split(`
`);var lt=[];for(N=0;N<U.length;N++){var ft=U[N],pt="",vt="",xt="",yt="";for(Z=0;Z<ft.length;Z++)if(w=ft.charCodeAt(Z),pt+=ft[Z],w===o||Z===ft.length-1){yt=xt+pt;var Ct=rt(yt,s.fontData);Ct<=r?xt=yt:(vt=vt.slice(0,-1),vt+=(vt?`
`:"")+xt,xt=pt),pt=""}vt=vt.slice(0,-1),vt+=(vt?`
`:"")+xt,lt.push(vt)}l=lt.join(`
`),f.wrappedText=l,h=l.length}var wt=0;for(N=0;N<h;N++){if(w=l.charCodeAt(N),w===10){it!==null&&(j.push({word:it.word,i:it.i,x:it.x*B,y:it.y*k,w:it.w*B,h:it.h*k}),it=null),z=null,K[W]=Y,Y>Q&&(Q=Y),Y<H&&(H=Y),W++,Y=0,E=0,P=(v+T)*W;continue}if(R=p[w],!!R){if(O=E,I=P,z!==null){var Lt=R.kerning[X];O+=Lt!==void 0?Lt:0}u>O&&(u=O),a>I&&(a=I);var bt=O+R.xAdvance,St=I+v;d<bt&&(d=bt),c<St&&(c=St);var Et=R.xOffset+R.xAdvance+(Lt!==void 0?Lt:0);w===o?it!==null&&(j.push({word:it.word,i:it.i,x:it.x*B,y:it.y*k,w:it.w*B,h:it.h*k}),it=null):(it===null&&(it={word:"",i:wt,x:E,y:P,w:0,h:v}),it.word=it.word.concat(l[N]),it.w+=Et),et.push({i:wt,idx:N,char:l[N],code:w,x:(R.xOffset+O)*D,y:(R.yOffset+P)*D,w:R.width*D,h:R.height*D,t:P*D,r:bt*D,b:v*D,line:W,glyph:R}),E+=R.xAdvance+m+(Lt!==void 0?Lt:0),z=R,X=w,Y=bt*D,wt++}}if(it!==null&&j.push({word:it.word,i:it.i,x:it.x*B,y:it.y*k,w:it.w*B,h:it.h*k}),K[W]=Y,Y>Q&&(Q=Y),Y<H&&(H=Y),b>0)for(var Mt=0;Mt<et.length;Mt++){var Vt=et[Mt];if(b===1){var Kt=(Q-K[Vt.line])/2;Vt.x+=Kt,Vt.r+=Kt}else if(b===2){var he=Q-K[Vt.line];Vt.x+=he,Vt.r+=he}}var Jt=f.local,Qt=f.global;return U=f.lines,Jt.x=u*D,Jt.y=a*D,Jt.width=d*D,Jt.height=c*D,Qt.x=s.x-s._displayOriginX+u*B,Qt.y=s.y-s._displayOriginY+a*k,Qt.width=d*B,Qt.height=c*k,U.shortest=H,U.longest=Q,U.lengths=K,g&&(Jt.x=Math.ceil(Jt.x),Jt.y=Math.ceil(Jt.y),Jt.width=Math.ceil(Jt.width),Jt.height=Math.ceil(Jt.height),Qt.x=Math.ceil(Qt.x),Qt.y=Math.ceil(Qt.y),Qt.width=Math.ceil(Qt.width),Qt.height=Math.ceil(Qt.height),U.shortest=Math.ceil(H),U.longest=Math.ceil(Q)),y&&(s._displayOriginX=s.originX*Jt.width,s._displayOriginY=s.originY*Jt.height,Qt.x=s.x-s._displayOriginX*s.scaleX,Qt.y=s.y-s._displayOriginY*s.scaleY,g&&(Qt.x=Math.ceil(Qt.x),Qt.y=Math.ceil(Qt.y))),f.words=j,f.characters=et,f.lines.height=v,f.scale=D,f.scaleX=s.scaleX,f.scaleY=s.scaleY,f};C.exports=A},61327:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(21859),y=function(f,l,h,r,o,u,a){var d=f.sys.textures.get(h),c=d.get(r),p=f.sys.cache.xml.get(o);if(c&&p){var v=g(p,c,u,a,d);return f.sys.cache.bitmapFont.add(l,{data:v,texture:h,frame:r,fromAtlas:!0}),!0}else return!1};C.exports=y},6925:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35154),y=function(f,l){var h=l.width,r=l.height,o=Math.floor(h/2),u=Math.floor(r/2),a=g(l,"chars","");if(a!==""){var d=g(l,"image",""),c=f.sys.textures.getFrame(d),p=c.cutX,v=c.cutY,m=c.source.width,T=c.source.height,E=g(l,"offset.x",0),P=g(l,"offset.y",0),w=g(l,"spacing.x",0),R=g(l,"spacing.y",0),b=g(l,"lineSpacing",0),O=g(l,"charsPerRow",null);O===null&&(O=m/h,O>a.length&&(O=a.length));for(var I=E,D=P,B={retroFont:!0,font:d,size:h,lineHeight:r+b,chars:{}},k=0,z=0;z<a.length;z++){var X=a.charCodeAt(z),K=(p+I)/m,H=(v+D)/T,Q=(p+I+h)/m,W=(v+D+r)/T;B.chars[X]={x:I,y:D,width:h,height:r,centerX:o,centerY:u,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:K,v0:H,u1:Q,v1:W},k++,k===O?(k=0,I=E,D+=r+R):I+=h+w}var Y={data:B,frame:null,texture:d};return Y}};C.exports=y},21859:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(g,y){return parseInt(g.getAttribute(y),10)}var s=function(g,y,f,l,h){f===void 0&&(f=0),l===void 0&&(l=0);var r=y.cutX,o=y.cutY,u=y.source.width,a=y.source.height,d=y.sourceIndex,c={},p=g.getElementsByTagName("info")[0],v=g.getElementsByTagName("common")[0];c.font=p.getAttribute("face"),c.size=A(p,"size"),c.lineHeight=A(v,"lineHeight")+l,c.chars={};var m=g.getElementsByTagName("char"),T=y!==void 0&&y.trimmed;if(T)var E=y.height,P=y.width;for(var w=0;w<m.length;w++){var R=m[w],b=A(R,"id"),O=String.fromCharCode(b),I=A(R,"x"),D=A(R,"y"),B=A(R,"width"),k=A(R,"height");T&&(I<P&&(P=I),D<E&&(E=D)),T&&E!==0&&P!==0&&(I-=y.x,D-=y.y);var z=(r+I)/u,X=(o+D)/a,K=(r+I+B)/u,H=(o+D+k)/a;if(c.chars[b]={x:I,y:D,width:B,height:k,centerX:Math.floor(B/2),centerY:Math.floor(k/2),xOffset:A(R,"xoffset"),yOffset:A(R,"yoffset"),xAdvance:A(R,"xadvance")+f,data:{},kerning:{},u0:z,v0:X,u1:K,v1:H},h&&B!==0&&k!==0){var Q=h.add(O,d,I,D,B,k);Q&&Q.setUVs(B,k,z,X,K,H)}}var W=g.getElementsByTagName("kerning");for(w=0;w<W.length;w++){var Y=W[w],N=A(Y,"first"),Z=A(Y,"second"),U=A(Y,"amount");c.chars[Z].kerning[N]=U}return c};C.exports=s},196:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87662),y=s(79291),f={Parse:s(6925)};f=y(!1,f,g),C.exports=f},87662:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};C.exports=A},2638:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22186),y=s(83419),f=s(12310),l=new y({Extends:g,Mixins:[f],initialize:function(r,o,u,a,d,c,p){g.call(this,r,o,u,a,d,c,p),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,r){return this.cropWidth=h,this.cropHeight=r,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});C.exports=l},86741:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20926),y=function(f,l,h,r){var o=l._text,u=o.length,a=f.currentContext;if(!(u===0||!g(f,a,l,h,r))){h.addToRenderList(l);var d=l.fromAtlas?l.frame:l.texture.frames.__BASE,c=l.displayCallback,p=l.callbackData,v=l.fontData.chars,m=l.fontData.lineHeight,T=l._letterSpacing,E=0,P=0,w=0,R=null,b=0,O=0,I=0,D=0,B=0,k=0,z=null,X=0,K=l.frame.source.image,H=d.cutX,Q=d.cutY,W=0,Y=0,N=l._fontSize/l.fontData.size,Z=l._align,U=0,j=0;l.getTextBounds(!1);var et=l._bounds.lines;Z===1?j=(et.longest-et.lengths[0])/2:Z===2&&(j=et.longest-et.lengths[0]),a.translate(-l.displayOriginX,-l.displayOriginY);var it=h.roundPixels;l.cropWidth>0&&l.cropHeight>0&&(a.beginPath(),a.rect(0,0,l.cropWidth,l.cropHeight),a.clip());for(var rt=0;rt<u;rt++){if(Y=N,W=0,w=o.charCodeAt(rt),w===10){U++,Z===1?j=(et.longest-et.lengths[U])/2:Z===2&&(j=et.longest-et.lengths[U]),E=0,P+=m,z=null;continue}if(R=v[w],!!R){if(b=H+R.x,O=Q+R.y,I=R.width,D=R.height,B=R.xOffset+E-l.scrollX,k=R.yOffset+P-l.scrollY,z!==null){var lt=R.kerning[X];B+=lt!==void 0?lt:0}if(c){p.index=rt,p.charCode=w,p.x=B,p.y=k,p.scale=Y,p.rotation=W,p.data=R.data;var ft=c(p);B=ft.x,k=ft.y,Y=ft.scale,W=ft.rotation}B*=Y,k*=Y,B+=j,E+=R.xAdvance+T+(lt!==void 0?lt:0),z=R,X=w,!(I===0||D===0||w===32)&&(it&&(B=Math.round(B),k=Math.round(k)),a.save(),a.translate(B,k),a.rotate(W),a.scale(Y,Y),a.drawImage(K,b,O,I,D,0,0,I,D),a.restore())}}a.restore()}};C.exports=y},11164:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2638),y=s(25305),f=s(44603),l=s(23568);f.register("dynamicBitmapText",function(h,r){h===void 0&&(h={});var o=l(h,"font",""),u=l(h,"text",""),a=l(h,"size",!1),d=new g(this.scene,0,0,o,u,a);return r!==void 0&&(h.add=r),y(this.scene,d,h),d})},72566:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2638),y=s(39429);y.register("dynamicBitmapText",function(f,l,h,r,o){return this.displayList.add(new g(this.scene,f,l,h,r,o))})},12310:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(73482),f=s(86741),C.exports={renderWebGL:y,renderCanvas:f}},73482:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(61340),f=s(70554),l=new y,h=function(r,o,u,a){var d=o.text,c=d.length;if(c!==0){u.addToRenderList(o);var p=r.pipelines.set(o.pipeline,o),v=g(o,u,a);r.pipelines.preBatch(o);var m=v.sprite,T=v.calc,E=l,P=o.cropWidth>0||o.cropHeight>0;P&&(p.flush(),r.pushScissor(T.tx,T.ty,o.cropWidth*T.scaleX,o.cropHeight*T.scaleY));var w=o.frame,R=w.glTexture,b=o.tintFill,O=f.getTintAppendFloatAlpha(o.tintTopLeft,u.alpha*o._alphaTL),I=f.getTintAppendFloatAlpha(o.tintTopRight,u.alpha*o._alphaTR),D=f.getTintAppendFloatAlpha(o.tintBottomLeft,u.alpha*o._alphaBL),B=f.getTintAppendFloatAlpha(o.tintBottomRight,u.alpha*o._alphaBR),k=p.setGameObject(o),z=0,X=0,K=0,H=0,Q=o.letterSpacing,W,Y=0,N=0,Z,U=o.scrollX,j=o.scrollY,et=o.fontData,it=et.chars,rt=et.lineHeight,lt=o.fontSize/et.size,ft=0,pt=o._align,vt=0,xt=0,yt=o.getTextBounds(!1);o.maxWidth>0&&(d=yt.wrappedText,c=d.length);var Ct=o._bounds.lines;pt===1?xt=(Ct.longest-Ct.lengths[0])/2:pt===2&&(xt=Ct.longest-Ct.lengths[0]);for(var wt=u.roundPixels,Lt=o.displayCallback,bt=o.callbackData,St=0;St<c;St++){if(K=d.charCodeAt(St),K===10){vt++,pt===1?xt=(Ct.longest-Ct.lengths[vt])/2:pt===2&&(xt=Ct.longest-Ct.lengths[vt]),z=0,X+=rt,Z=null;continue}if(W=it[K],!!W){Y=W.width,N=W.height;var Et=W.xOffset+z-U,Mt=W.yOffset+X-j;if(Z!==null){var Vt=W.kerning[H]||0;Et+=Vt,z+=Vt}if(z+=W.xAdvance+Q,Z=W,H=K,!(Y===0||N===0||K===32)){if(lt=o.fontSize/o.fontData.size,ft=0,Lt){bt.color=0,bt.tint.topLeft=O,bt.tint.topRight=I,bt.tint.bottomLeft=D,bt.tint.bottomRight=B,bt.index=St,bt.charCode=K,bt.x=Et,bt.y=Mt,bt.scale=lt,bt.rotation=ft,bt.data=W.data;var Kt=Lt(bt);Et=Kt.x,Mt=Kt.y,lt=Kt.scale,ft=Kt.rotation,Kt.color?(O=Kt.color,I=Kt.color,D=Kt.color,B=Kt.color):(O=Kt.tint.topLeft,I=Kt.tint.topRight,D=Kt.tint.bottomLeft,B=Kt.tint.bottomRight),O=f.getTintAppendFloatAlpha(O,u.alpha*o._alphaTL),I=f.getTintAppendFloatAlpha(I,u.alpha*o._alphaTR),D=f.getTintAppendFloatAlpha(D,u.alpha*o._alphaBL),B=f.getTintAppendFloatAlpha(B,u.alpha*o._alphaBR)}Et*=lt,Mt*=lt,Et-=o.displayOriginX,Mt-=o.displayOriginY,Et+=xt,E.applyITRS(Et,Mt,ft,lt,lt),T.multiply(E,m);var he=W.u0,Jt=W.v0,Qt=W.u1,ce=W.v1,be=Y,$t=N,le=m.e,Gt=m.f,pe=$t*m.c+m.e,wi=$t*m.d+m.f,ns=be*m.a+$t*m.c+m.e,Ps=be*m.b+$t*m.d+m.f,Es=be*m.a+m.e,li=be*m.b+m.f;wt&&(le=Math.round(le),Gt=Math.round(Gt),pe=Math.round(pe),wi=Math.round(wi),ns=Math.round(ns),Ps=Math.round(Ps),Es=Math.round(Es),li=Math.round(li)),p.shouldFlush(6)&&(p.flush(),k=p.setGameObject(o)),p.batchQuad(o,le,Gt,pe,wi,ns,Ps,Es,li,he,Jt,Qt,ce,O,I,D,B,b,R,k)}}}P&&(p.flush(),r.popScissor()),r.pipelines.postBatch(o)}};C.exports=h},22186:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(45319),f=s(31401),l=s(95643),h=s(53048),r=s(61327),o=s(21859),u=s(87841),a=s(18658),d=new g({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,a],initialize:function(p,v,m,T,E,P,w){E===void 0&&(E=""),w===void 0&&(w=0),l.call(this,p,"BitmapText"),this.font=T;var R=this.scene.sys.cache.bitmapFont.get(T);if(!R)throw new Error("Invalid BitmapText key: "+T);this.fontData=R.data,this._text="",this._fontSize=P||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=w,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(v,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(E)},setLeftAlign:function(){return this._align=d.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=d.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=d.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(c){return this._fontSize=c,this._dirty=!0,this},setLetterSpacing:function(c){return c===void 0&&(c=0),this._letterSpacing=c,this._dirty=!0,this},setLineSpacing:function(c){return c===void 0&&(c=0),this.lineSpacing=c,this},setText:function(c){return!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this.text&&(this._text=c.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(c,p,v,m){return c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=.5),this.dropShadowX=c,this.dropShadowY=p,this.dropShadowColor=v,this.dropShadowAlpha=m,this},setCharacterTint:function(c,p,v,m,T,E,P){c===void 0&&(c=0),p===void 0&&(p=1),v===void 0&&(v=!1),m===void 0&&(m=-1),T===void 0&&(T=m,E=m,P=m);var w=this.text.length;p===-1&&(p=w),c<0&&(c=w+c),c=y(c,0,w-1);for(var R=y(c+p,c,w),b=this.charColors,O=c;O<R;O++){var I=b[O];if(m===-1)b[O]=null;else{var D=v?1:0;I?(I.tintEffect=D,I.tintTL=m,I.tintTR=T,I.tintBL=E,I.tintBR=P):b[O]={tintEffect:D,tintTL:m,tintTR:T,tintBL:E,tintBR:P}}}return this},setWordTint:function(c,p,v,m,T,E,P){p===void 0&&(p=1);for(var w=this.getTextBounds(),R=w.words,b=typeof c=="number",O=0,I=0;I<R.length;I++){var D=R[I];if((b&&I===c||!b&&D.word===c)&&(this.setCharacterTint(D.i,D.word.length,v,m,T,E,P),O++,O===p))return this}return this},getTextBounds:function(c){var p=this._bounds;return(this._dirty||c||this.scaleX!==p.scaleX||this.scaleY!==p.scaleY)&&(h(this,c,!0,p),this._dirty=!1),p},getCharacterAt:function(c,p,v){for(var m=this.getLocalPoint(c,p,null,v),T=this.getTextBounds(),E=T.characters,P=new u,w=0;w<E.length;w++){var R=E[w];if(P.setTo(R.x,R.t,R.r-R.x,R.b),P.contains(m.x,m.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(c,p,v){p===void 0&&(p=this._fontSize),v===void 0&&(v=this._align);var m=this.scene.sys.cache.bitmapFont.get(c);return m&&(this.font=c,this.fontData=m.data,this._fontSize=p,this._align=v,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),h(this,!1,!0,this._bounds)),this},setMaxWidth:function(c,p){return this._maxWidth=c,this._dirty=!0,p!==void 0&&(this.wordWrapCharCode=p),this},setDisplaySize:function(c,p){this.setScale(1,1),this.getTextBounds(!1);var v=c/this.width,m=p/this.height;return this.setScale(v,m),this},align:{set:function(c){this._align=c,this._dirty=!0},get:function(){return this._align}},text:{set:function(c){this.setText(c)},get:function(){return this._text}},fontSize:{set:function(c){this._fontSize=c,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(c){this._letterSpacing=c,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(c){this._lineSpacing=c,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(c){this._maxWidth=c,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(c){this.setScaleX(1),this.getTextBounds(!1);var p=c/this.width;this.setScaleX(p)},get:function(){return this.width}},displayHeight:{set:function(c){this.setScaleY(1),this.getTextBounds(!1);var p=c/this.height;this.setScaleY(p)},get:function(){return this.height}},toJSON:function(){var c=f.ToJSON(this),p={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return c.data=p,c},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});d.ALIGN_LEFT=0,d.ALIGN_CENTER=1,d.ALIGN_RIGHT=2,d.ParseFromAtlas=r,d.ParseXMLBitmapFont=o,C.exports=d},37289:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20926),y=function(f,l,h,r){var o=l._text,u=o.length,a=f.currentContext;if(!(u===0||!g(f,a,l,h,r))){h.addToRenderList(l);var d=l.fromAtlas?l.frame:l.texture.frames.__BASE,c=l.fontData.chars,p=l.fontData.lineHeight,v=l._letterSpacing,m=l._lineSpacing,T=0,E=0,P=0,w=null,R=0,b=0,O=0,I=0,D=0,B=0,k=null,z=0,X=d.source.image,K=d.cutX,H=d.cutY,Q=l._fontSize/l.fontData.size,W=l._align,Y=0,N=0,Z=l.getTextBounds(!1);l.maxWidth>0&&(o=Z.wrappedText,u=o.length);var U=l._bounds.lines;W===1?N=(U.longest-U.lengths[0])/2:W===2&&(N=U.longest-U.lengths[0]),a.translate(-l.displayOriginX,-l.displayOriginY);for(var j=h.roundPixels,et=0;et<u;et++){if(P=o.charCodeAt(et),P===10){Y++,W===1?N=(U.longest-U.lengths[Y])/2:W===2&&(N=U.longest-U.lengths[Y]),T=0,E+=p+m,k=null;continue}if(w=c[P],!!w){if(R=K+w.x,b=H+w.y,O=w.width,I=w.height,D=w.xOffset+T,B=w.yOffset+E,k!==null){var it=w.kerning[z];D+=it!==void 0?it:0}D*=Q,B*=Q,D+=N,T+=w.xAdvance+v+(it!==void 0?it:0),k=w,z=P,!(O===0||I===0||P===32)&&(j&&(D=Math.round(D),B=Math.round(B)),a.save(),a.translate(D,B),a.scale(Q,Q),a.drawImage(X,R,b,O,I,0,0,O,I),a.restore())}}a.restore()}};C.exports=y},57336:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22186),y=s(25305),f=s(44603),l=s(23568),h=s(35154);f.register("bitmapText",function(r,o){r===void 0&&(r={});var u=h(r,"font",""),a=l(r,"text",""),d=l(r,"size",!1),c=h(r,"align",0),p=new g(this.scene,0,0,u,a,d,c);return o!==void 0&&(r.add=o),y(this.scene,p,r),p})},34914:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22186),y=s(39429);y.register("bitmapText",function(f,l,h,r,o,u){return this.displayList.add(new g(this.scene,f,l,h,r,o,u))})},18658:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(33590),f=s(37289),C.exports={renderWebGL:y,renderCanvas:f}},33590:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(3217),y=s(91296),f=s(70554),l=function(h,r,o,u){var a=r._text,d=a.length;if(d!==0){o.addToRenderList(r);var c=h.pipelines.set(r.pipeline,r),p=y(r,o,u).calc;h.pipelines.preBatch(r);var v=o.roundPixels,m=o.alpha,T=r.charColors,E=r.tintFill,P=f.getTintAppendFloatAlpha,w=P(r.tintTopLeft,m*r._alphaTL),R=P(r.tintTopRight,m*r._alphaTR),b=P(r.tintBottomLeft,m*r._alphaBL),O=P(r.tintBottomRight,m*r._alphaBR),I=r.frame.glTexture,D=c.setGameObject(r),B=r.getTextBounds(!1),k,z,X,K=B.characters,H=r.dropShadowX,Q=r.dropShadowY,W=H!==0||Q!==0;if(W){var Y=r.dropShadowColor,N=r.dropShadowAlpha,Z=P(Y,m*N*r._alphaTL),U=P(Y,m*N*r._alphaTR),j=P(Y,m*N*r._alphaBL),et=P(Y,m*N*r._alphaBR);for(k=0;k<K.length;k++)z=K[k],X=z.glyph,!(z.code===32||X.width===0||X.height===0)&&g(c,r,z,X,H,Q,p,v,Z,U,j,et,1,I,D)}for(k=0;k<K.length;k++)if(z=K[k],X=z.glyph,!(z.code===32||X.width===0||X.height===0))if(c.shouldFlush(6)&&(c.flush(),D=c.setGameObject(r)),T[z.i]){var it=T[z.i],rt=it.tintEffect,lt=P(it.tintTL,m*r._alphaTL),ft=P(it.tintTR,m*r._alphaTR),pt=P(it.tintBL,m*r._alphaBL),vt=P(it.tintBR,m*r._alphaBR);g(c,r,z,X,0,0,p,v,lt,ft,pt,vt,rt,I,D)}else g(c,r,z,X,0,0,p,v,w,R,b,O,E,I,D);h.pipelines.postBatch(r)}};C.exports=l},6107:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(48011),y=s(46590),f=s(83419),l=s(31401),h=s(4327),r=s(95643),o=s(73162),u=new f({Extends:r,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.Texture,l.Transform,l.Visible,g],initialize:function(d,c,p,v,m){r.call(this,d,"Blitter"),this.setTexture(v,m),this.setPosition(c,p),this.initPipeline(),this.initPostPipeline(),this.children=new o,this.renderList=[],this.dirty=!1},create:function(a,d,c,p,v){p===void 0&&(p=!0),v===void 0&&(v=this.children.length),c===void 0?c=this.frame:c instanceof h||(c=this.texture.get(c));var m=new y(this,a,d,c,p);return this.children.addAt(m,v,!1),this.dirty=!0,m},createFromCallback:function(a,d,c,p){for(var v=this.createMultiple(d,c,p),m=0;m<v.length;m++){var T=v[m];a.call(this,T,m)}return v},createMultiple:function(a,d,c){d===void 0&&(d=this.frame.name),c===void 0&&(c=!0),Array.isArray(d)||(d=[d]);var p=[],v=this;return d.forEach(function(m){for(var T=0;T<a;T++)p.push(v.create(0,0,m,c))}),p},childCanRender:function(a){return a.visible&&a.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});C.exports=u},72396:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=g.getRenderList();if(l.length!==0){var h=s.currentContext,r=y.alpha*g.alpha;if(r!==0){y.addToRenderList(g),h.globalCompositeOperation=s.blendModes[g.blendMode],h.imageSmoothingEnabled=!g.frame.source.scaleMode;var o=g.x-y.scrollX*g.scrollFactorX,u=g.y-y.scrollY*g.scrollFactorY;h.save(),f&&f.copyToContext(h);for(var a=y.roundPixels,d=0;d<l.length;d++){var c=l[d],p=c.flipX||c.flipY,v=c.frame,m=v.canvasData,T=v.x,E=v.y,P=1,w=1,R=c.alpha*r;R!==0&&(h.globalAlpha=R,p?(c.flipX&&(P=-1,T-=m.width),c.flipY&&(w=-1,E-=m.height),m.width>0&&m.height>0&&(h.save(),h.translate(c.x+o,c.y+u),h.scale(P,w),h.drawImage(v.source.image,m.x,m.y,m.width,m.height,T,E,m.width,m.height),h.restore())):(a&&(T=Math.round(T),E=Math.round(E)),m.width>0&&m.height>0&&h.drawImage(v.source.image,m.x,m.y,m.width,m.height,T+c.x+o,E+c.y+u,m.width,m.height)))}h.restore()}}};C.exports=A},9403:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6107),y=s(25305),f=s(44603),l=s(23568);f.register("blitter",function(h,r){h===void 0&&(h={});var o=l(h,"key",null),u=l(h,"frame",null),a=new g(this.scene,0,0,o,u);return r!==void 0&&(h.add=r),y(this.scene,a,h),a})},12709:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6107),y=s(39429);y.register("blitter",function(f,l,h,r){return this.displayList.add(new g(this.scene,f,l,h,r))})},48011:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(99485),f=s(72396),C.exports={renderWebGL:y,renderCanvas:f}},99485:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61340),y=s(70554),f=new g,l=function(h,r,o,u){var a=r.getRenderList(),d=o.alpha*r.alpha;if(!(a.length===0||d===0)){o.addToRenderList(r);var c=h.pipelines.set(this.pipeline,r),p=o.scrollX*r.scrollFactorX,v=o.scrollY*r.scrollFactorY,m=f.copyFrom(o.matrix);u&&(m.multiplyWithOffset(u,-p,-v),p=0,v=0);var T=r.x-p,E=r.y-v,P=-1,w=!1,R=o.roundPixels;h.pipelines.preBatch(r);for(var b=0;b<a.length;b++){var O=a[b],I=O.frame,D=O.alpha*d;if(D!==0){var B=I.width,k=I.height,z=T+O.x+I.x,X=E+O.y+I.y;O.flipX&&(B*=-1,z+=I.width),O.flipY&&(k*=-1,X+=I.height);var K=m.setQuad(z,X,z+B,X+k,R),H=y.getTintAppendFloatAlpha(O.tint,D);if(I.sourceIndex!==P){var Q=c.setGameObject(r,I);P=I.sourceIndex}c.batchQuad(r,K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],I.u0,I.v0,I.u1,I.v1,H,H,H,H,w,I.glTexture,Q)&&(P=-1)}}h.pipelines.postBatch(r)}};C.exports=l},46590:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(4327),f=new g({initialize:function(h,r,o,u,a){this.parent=h,this.x=r,this.y=o,this.frame=u,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(l){return l===void 0?this.frame=this.parent.frame:l instanceof y&&l.texture===this.parent.texture?this.frame=l:this.frame=this.parent.texture.get(l),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(l,h,r){return this.x=l,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,r&&this.setFrame(r),this},setPosition:function(l,h){return this.x=l,this.y=h,this},setFlipX:function(l){return this.flipX=l,this},setFlipY:function(l){return this.flipY=l,this},setFlip:function(l,h){return this.flipX=l,this.flipY=h,this},setVisible:function(l){return this.visible=l,this},setAlpha:function(l){return this.alpha=l,this},setTint:function(l){return this.tint=l,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(l){this.parent.dirty|=this._visible!==l,this._visible=l}},alpha:{get:function(){return this._alpha},set:function(l){this.parent.dirty|=this._alpha>0!=l>0,this._alpha=l}}});C.exports=f},16005:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l,h,r,o){return l===void 0&&(l=1),h===void 0?this.alpha=l:(this._alphaTL=g(l,0,1),this._alphaTR=g(h,0,1),this._alphaBL=g(r,0,1),this._alphaBR=g(o,0,1)),this},alpha:{get:function(){return this._alpha},set:function(l){var h=g(l,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,h===0?this.renderFlags&=~y:this.renderFlags|=y}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(l){var h=g(l,0,1);this._alphaTL=h,h!==0&&(this.renderFlags|=y)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(l){var h=g(l,0,1);this._alphaTR=h,h!==0&&(this.renderFlags|=y)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(l){var h=g(l,0,1);this._alphaBL=h,h!==0&&(this.renderFlags|=y)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(l){var h=g(l,0,1);this._alphaBR=h,h!==0&&(this.renderFlags|=y)}}};C.exports=f},88509:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l){return l===void 0&&(l=1),this.alpha=l,this},alpha:{get:function(){return this._alpha},set:function(l){var h=g(l,0,1);this._alpha=h,h===0?this.renderFlags&=~y:this.renderFlags|=y}}};C.exports=f},90065:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y={_blendMode:g.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=g[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};C.exports=y},94215:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,g){return this.width=s,this.height=g,this},setDisplaySize:function(s,g){return this.displayWidth=s,this.displayHeight=g,this}};C.exports=A},61683:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={texture:null,frame:null,isCropped:!1,setCrop:function(s,g,y,f){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,g,y,f,this.flipX,this.flipY);else{var l=s;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};C.exports=A},89272:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37105),y={_depth:0,depth:{get:function(){return this._depth},set:function(f){this.displayList&&this.displayList.queueDepthSort(),this._depth=f}},setDepth:function(f){return f===void 0&&(f=0),this.depth=f,this},setToTop:function(){var f=this.getDisplayList();return f&&g.BringToTop(f,this),this},setToBack:function(){var f=this.getDisplayList();return f&&g.SendToBack(f,this),this},setAbove:function(f){var l=this.getDisplayList();return l&&f&&g.MoveAbove(l,this,f),this},setBelow:function(f){var l=this.getDisplayList();return l&&f&&g.MoveBelow(l,this,f),this}};C.exports=y},47059:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(66064),f=s(19133),l=new g({initialize:function(r,o){this.gameObject=r,this.isPost=o,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(h){return h===void 0&&(h=0),this.padding=h,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(h){if(!this.isPost){var r=this.gameObject.scene.sys.renderer;r&&r.pipelines?(this.gameObject.pipeline=r.pipelines.FX_PIPELINE,h!==void 0&&(this.padding=h),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var h=this.list,r=0;r<h.length;r++)h[r].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(h){var r;if(this.isPost){var o=this.gameObject.getPostPipeline(String(h.type));for(Array.isArray(o)||(o=[o]),r=0;r<o.length;r++){var u=o[r];if(u.controller===h){this.gameObject.removePostPipeline(u),h.destroy();break}}}else{var a=this.list;for(r=0;r<a.length;r++)a[r]===h&&(f(a,r),h.destroy())}return this.gameObject},disable:function(h){return h===void 0&&(h=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,h&&this.clear(),this.gameObject},add:function(h,r){if(this.isPost){var o=String(h.type);this.gameObject.setPostPipeline(o,r);var u=this.gameObject.getPostPipeline(o);if(u)return Array.isArray(u)&&(u=u.pop()),u&&(u.controller=h),h}else return this.enabled||this.enable(),this.list.push(h),h},addGlow:function(h,r,o,u,a,d){return this.add(new y.Glow(this.gameObject,h,r,o,u),{quality:a,distance:d})},addShadow:function(h,r,o,u,a,d,c){return this.add(new y.Shadow(this.gameObject,h,r,o,u,a,d,c))},addPixelate:function(h){return this.add(new y.Pixelate(this.gameObject,h))},addVignette:function(h,r,o,u){return this.add(new y.Vignette(this.gameObject,h,r,o,u))},addShine:function(h,r,o,u){return this.add(new y.Shine(this.gameObject,h,r,o,u))},addBlur:function(h,r,o,u,a,d){return this.add(new y.Blur(this.gameObject,h,r,o,u,a,d))},addGradient:function(h,r,o,u,a,d,c,p){return this.add(new y.Gradient(this.gameObject,h,r,o,u,a,d,c,p))},addBloom:function(h,r,o,u,a,d){return this.add(new y.Bloom(this.gameObject,h,r,o,u,a,d))},addColorMatrix:function(){return this.add(new y.ColorMatrix(this.gameObject))},addCircle:function(h,r,o,u,a){return this.add(new y.Circle(this.gameObject,h,r,o,u,a))},addBarrel:function(h){return this.add(new y.Barrel(this.gameObject,h))},addDisplacement:function(h,r,o){return this.add(new y.Displacement(this.gameObject,h,r,o))},addWipe:function(h,r,o){return this.add(new y.Wipe(this.gameObject,h,r,o))},addReveal:function(h,r,o){return this.add(new y.Wipe(this.gameObject,h,r,o,!0))},addBokeh:function(h,r,o){return this.add(new y.Bokeh(this.gameObject,h,r,o))},addTiltShift:function(h,r,o,u,a,d){return this.add(new y.Bokeh(this.gameObject,h,r,o,!0,u,a,d))},destroy:function(){this.clear(),this.gameObject=null}});C.exports=l},54434:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,g){return this.flipX=s,this.flipY=g,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};C.exports=A},8004:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=s(11520),f=s(26099),l={prepareBoundsOutput:function(h,r){if(r===void 0&&(r=!1),this.rotation!==0&&y(h,this.x,this.y,this.rotation),r&&this.parentContainer){var o=this.parentContainer.getBoundsTransformMatrix();o.transformPoint(h.x,h.y,h)}return h},getCenter:function(h,r){return h===void 0&&(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,r)},getTopLeft:function(h,r){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,r)},getTopCenter:function(h,r){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,r)},getTopRight:function(h,r){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,r)},getLeftCenter:function(h,r){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,r)},getRightCenter:function(h,r){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,r)},getBottomLeft:function(h,r){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,r)},getBottomCenter:function(h,r){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,r)},getBottomRight:function(h,r){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,r)},getBounds:function(h){h===void 0&&(h=new g);var r,o,u,a,d,c,p,v;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),m.transformPoint(h.x,h.y,h),r=h.x,o=h.y,this.getTopRight(h),m.transformPoint(h.x,h.y,h),u=h.x,a=h.y,this.getBottomLeft(h),m.transformPoint(h.x,h.y,h),d=h.x,c=h.y,this.getBottomRight(h),m.transformPoint(h.x,h.y,h),p=h.x,v=h.y}else this.getTopLeft(h),r=h.x,o=h.y,this.getTopRight(h),u=h.x,a=h.y,this.getBottomLeft(h),d=h.x,c=h.y,this.getBottomRight(h),p=h.x,v=h.y;return h.x=Math.min(r,u,d,p),h.y=Math.min(o,a,c,v),h.width=Math.max(r,u,d,p)-h.x,h.height=Math.max(o,a,c,v)-h.y,h}};C.exports=l},8573:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6858),y=s(80661),f={mask:null,setMask:function(l){return this.mask=l,this},clearMask:function(l){return l===void 0&&(l=!1),l&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(l,h,r,o,u){return l===void 0&&(this.texture||this.shader||this.geom)&&(l=this),new g(this.scene,l,h,r,o,u)},createGeometryMask:function(l){return l===void 0&&(this.type==="Graphics"||this.geom)&&(l=this),new y(this.scene,l)}};C.exports=f},27387:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(s){this._displayOriginX=s,this.originX=s/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(s){this._displayOriginY=s,this.originY=s/this.height}},setOrigin:function(s,g){return s===void 0&&(s=.5),g===void 0&&(g=s),this.originX=s,this.originY=g,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(s,g){return s===void 0&&(s=0),g===void 0&&(g=s),this.displayOriginX=s,this.displayOriginY=g,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};C.exports=A},37640:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39506),y=s(57355),f=s(35154),l=s(86353),h=s(26099),r={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:l.PLAYING_FORWARD,setPath:function(o,u){u===void 0&&(u=this.pathConfig);var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this.path=o,u&&this.startFollow(u),this},setRotateToPath:function(o,u){return u===void 0&&(u=0),this.rotateToPath=o,this.pathRotationOffset=u,this},isFollowing:function(){var o=this.pathTween;return o&&o.isPlaying()},startFollow:function(o,u){o===void 0&&(o={}),u===void 0&&(u=0);var a=this.pathTween;a&&a.isPlaying()&&a.stop(),typeof o=="number"&&(o={duration:o}),o.from=f(o,"from",0),o.to=f(o,"to",1);var d=y(o,"positionOnPath",!1);this.rotateToPath=y(o,"rotateToPath",!1),this.pathRotationOffset=f(o,"rotationOffset",0);var c=f(o,"startAt",u);if(c&&(o.onStart=function(v){var m=v.data[0];m.progress=c,m.elapsed=m.duration*c;var T=m.ease(m.progress);m.current=m.start+(m.end-m.start)*T,m.setTargetValue()}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),o.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(o),this.path.getStartPoint(this.pathOffset),d&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=l.PLAYING_FORWARD,this.rotateToPath){var p=this.path.getPoint(.1);this.rotation=Math.atan2(p.y-this.y,p.x-this.x)+g(this.pathRotationOffset)}return this.pathConfig=o,this},pauseFollow:function(){var o=this.pathTween;return o&&o.isPlaying()&&o.pause(),this},resumeFollow:function(){var o=this.pathTween;return o&&o.isPaused()&&o.resume(),this},stopFollow:function(){var o=this.pathTween;return o&&o.isPlaying()&&o.stop(),this},pathUpdate:function(){var o=this.pathTween;if(o&&o.data){var u=o.data[0],a=this.pathDelta,d=this.pathVector;if(a.copy(d).negate(),u.state===l.COMPLETE){this.path.getPoint(u.end,d),a.add(d),d.add(this.pathOffset),this.setPosition(d.x,d.y);return}else if(u.state!==l.PLAYING_FORWARD&&u.state!==l.PLAYING_BACKWARD)return;this.path.getPoint(o.getValue(),d),a.add(d),d.add(this.pathOffset);var c=this.x,p=this.y;this.setPosition(d.x,d.y);var v=this.x-c,m=this.y-p;if(v===0&&m===0)return;if(u.state!==this._prevDirection){this._prevDirection=u.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,v)+g(this.pathRotationOffset))}}};C.exports=r},72699:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62644),y={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var l=this.scene.sys.renderer;if(!l)return!1;var h=l.pipelines;if(h){f===void 0&&(f=h.default);var r=h.get(f);if(r)return this.defaultPipeline=r,this.pipeline=r,!0}return!1},setPipeline:function(f,l,h){var r=this.scene.sys.renderer;if(!r)return this;var o=r.pipelines;if(o){var u=o.get(f);u&&(this.pipeline=u),l&&(this.pipelineData=h?g(l):l)}return this},setPipelineData:function(f,l){var h=this.pipelineData;return l===void 0?delete h[f]:h[f]=l,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};C.exports=y},17581:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62644),y=s(47059),f=s(19133),l={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(h){this.postPipelines=[],this.postPipelineData={},this.postFX=new y(this,!0),h&&(this.preFX=new y(this,!1))},setPostPipeline:function(h,r,o){var u=this.scene.sys.renderer;if(!u)return this;var a=u.pipelines;if(a){Array.isArray(h)||(h=[h]);for(var d=0;d<h.length;d++){var c=a.getPostPipeline(h[d],this,r);c&&this.postPipelines.push(c)}r&&(this.postPipelineData=o?g(r):r)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(h,r){var o=this.postPipelineData;return r===void 0?delete o[h]:o[h]=r,this},getPostPipeline:function(h){for(var r=typeof h=="string",o=this.postPipelines,u=[],a=0;a<o.length;a++){var d=o[a];(r&&d.name===h||!r&&d instanceof h)&&u.push(d)}return u.length===1?u[0]:u},resetPostPipeline:function(h){h===void 0&&(h=!1);for(var r=this.postPipelines,o=0;o<r.length;o++)r[o].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.postPipelineData={})},removePostPipeline:function(h){for(var r=typeof h=="string",o=this.postPipelines,u=o.length-1;u>=0;u--){var a=o[u];(r&&a.name===h||!r&&a===h)&&(a.destroy(),f(o,u))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};C.exports=l},80227:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(s,g){return g===void 0&&(g=s),this.scrollFactorX=s,this.scrollFactorY=g,this}};C.exports=A},16736:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(s){this.scaleX=s/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(s){this.scaleY=s/this.frame.realHeight}},setSizeToFrame:function(s){s||(s=this.frame),this.width=s.realWidth,this.height=s.realHeight;var g=this.input;return g&&!g.customHitArea&&(g.hitArea.width=this.width,g.hitArea.height=this.height),this},setSize:function(s,g){return this.width=s,this.height=g,this},setDisplaySize:function(s,g){return this.displayWidth=s,this.displayHeight=g,this}};C.exports=A},37726:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(4327),y=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(l,h,r,o){return this.texture=this.scene.sys.textures.get(l),this.setFrame(h,r,o)},setFrame:function(l,h,r){return h===void 0&&(h=!0),r===void 0&&(r=!0),l instanceof g?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};C.exports=f},79812:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(4327),y=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(l,h,r,o){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l=="number")this.frame.setCropUVs(this._crop,l,h,r,o,this.flipX,this.flipY);else{var u=l;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(l,h){return this.texture=this.scene.sys.textures.get(l),this.setFrame(h)},setFrame:function(l,h,r){return h===void 0&&(h=!0),r===void 0&&(r=!0),l instanceof g?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};C.exports=f},27472:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(s,g,y,f){return s===void 0&&(s=16777215),g===void 0&&(g=s,y=s,f=s),this.tintTopLeft=s,this.tintTopRight=g,this.tintBottomLeft=y,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(s,g,y,f){return this.setTint(s,g,y,f),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(s){this.setTint(s,s,s,s)}},isTinted:{get:function(){var s=16777215;return this.tintFill||this.tintTopLeft!==s||this.tintTopRight!==s||this.tintBottomLeft!==s||this.tintBottomRight!==s}}};C.exports=A},53774:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g={name:s.name,type:s.type,x:s.x,y:s.y,depth:s.depth,scale:{x:s.scaleX,y:s.scaleY},origin:{x:s.originX,y:s.originY},flipX:s.flipX,flipY:s.flipY,rotation:s.rotation,alpha:s.alpha,visible:s.visible,blendMode:s.blendMode,textureKey:"",frameKey:"",data:{}};return s.texture&&(g.textureKey=s.texture.key,g.frameKey=s.frame.name),g};C.exports=A},16901:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(61340),f=s(85955),l=s(86554),h=s(30954),r=s(26099),o=4,u={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this._scaleX=a,this._scaleY=a,a===0?this.renderFlags&=~o:this.renderFlags|=o}},scaleX:{get:function(){return this._scaleX},set:function(a){this._scaleX=a,a===0?this.renderFlags&=~o:this._scaleY!==0&&(this.renderFlags|=o)}},scaleY:{get:function(){return this._scaleY},set:function(a){this._scaleY=a,a===0?this.renderFlags&=~o:this._scaleX!==0&&(this.renderFlags|=o)}},angle:{get:function(){return h(this._rotation*g.RAD_TO_DEG)},set:function(a){this.rotation=h(a)*g.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(a){this._rotation=l(a)}},setPosition:function(a,d,c,p){return a===void 0&&(a=0),d===void 0&&(d=a),c===void 0&&(c=0),p===void 0&&(p=0),this.x=a,this.y=d,this.z=c,this.w=p,this},copyPosition:function(a){return a.x!==void 0&&(this.x=a.x),a.y!==void 0&&(this.y=a.y),a.z!==void 0&&(this.z=a.z),a.w!==void 0&&(this.w=a.w),this},setRandomPosition:function(a,d,c,p){return a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=this.scene.sys.scale.width),p===void 0&&(p=this.scene.sys.scale.height),this.x=a+Math.random()*c,this.y=d+Math.random()*p,this},setRotation:function(a){return a===void 0&&(a=0),this.rotation=a,this},setAngle:function(a){return a===void 0&&(a=0),this.angle=a,this},setScale:function(a,d){return a===void 0&&(a=1),d===void 0&&(d=a),this.scaleX=a,this.scaleY=d,this},setX:function(a){return a===void 0&&(a=0),this.x=a,this},setY:function(a){return a===void 0&&(a=0),this.y=a,this},setZ:function(a){return a===void 0&&(a=0),this.z=a,this},setW:function(a){return a===void 0&&(a=0),this.w=a,this},getLocalTransformMatrix:function(a){return a===void 0&&(a=new y),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(a,d){a===void 0&&(a=new y);var c=this.parentContainer;if(!c)return this.getLocalTransformMatrix(a);var p=!1;for(d||(d=new y,p=!0),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);c;)d.applyITRS(c.x,c.y,c._rotation,c._scaleX,c._scaleY),d.multiply(a,a),c=c.parentContainer;return p&&d.destroy(),a},getLocalPoint:function(a,d,c,p){c||(c=new r),p||(p=this.scene.sys.cameras.main);var v=p.scrollX,m=p.scrollY,T=a+v*this.scrollFactorX-v,E=d+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(T,E,c):f(T,E,this.x,this.y,this.rotation,this.scaleX,this.scaleY,c),this._originComponent&&(c.x+=this._displayOriginX,c.y+=this._displayOriginY),c},getWorldPoint:function(a,d,c){a===void 0&&(a=new r);var p=this.parentContainer;if(!p)return a.x=this.x,a.y=this.y,a;var v=this.getWorldTransformMatrix(d,c);return a.x=v.tx,a.y=v.ty,a},getParentRotation:function(){for(var a=0,d=this.parentContainer;d;)a+=d.rotation,d=d.parentContainer;return a}};C.exports=u},61340:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(36383),f=s(26099),l=new g({initialize:function(r,o,u,a,d,c){r===void 0&&(r=1),o===void 0&&(o=0),u===void 0&&(u=0),a===void 0&&(a=1),d===void 0&&(d=0),c===void 0&&(c=0),this.matrix=new Float32Array([r,o,u,a,d,c,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,r=h[0],o=h[1],u=h[2],a=h[3];return r||o?o>0?Math.acos(r/this.scaleX):-Math.acos(r/this.scaleX):u||a?y.TAU-(a>0?Math.acos(-u/this.scaleY):-Math.acos(u/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,r){var o=this.matrix;return o[4]=o[0]*h+o[2]*r+o[4],o[5]=o[1]*h+o[3]*r+o[5],this},scale:function(h,r){var o=this.matrix;return o[0]*=h,o[1]*=h,o[2]*=r,o[3]*=r,this},rotate:function(h){var r=Math.sin(h),o=Math.cos(h),u=this.matrix,a=u[0],d=u[1],c=u[2],p=u[3];return u[0]=a*o+c*r,u[1]=d*o+p*r,u[2]=a*-r+c*o,u[3]=d*-r+p*o,this},multiply:function(h,r){var o=this.matrix,u=h.matrix,a=o[0],d=o[1],c=o[2],p=o[3],v=o[4],m=o[5],T=u[0],E=u[1],P=u[2],w=u[3],R=u[4],b=u[5],O=r===void 0?o:r.matrix;return O[0]=T*a+E*c,O[1]=T*d+E*p,O[2]=P*a+w*c,O[3]=P*d+w*p,O[4]=R*a+b*c+v,O[5]=R*d+b*p+m,O},multiplyWithOffset:function(h,r,o){var u=this.matrix,a=h.matrix,d=u[0],c=u[1],p=u[2],v=u[3],m=u[4],T=u[5],E=r*d+o*p+m,P=r*c+o*v+T,w=a[0],R=a[1],b=a[2],O=a[3],I=a[4],D=a[5];return u[0]=w*d+R*p,u[1]=w*c+R*v,u[2]=b*d+O*p,u[3]=b*c+O*v,u[4]=I*d+D*p+E,u[5]=I*c+D*v+P,this},transform:function(h,r,o,u,a,d){var c=this.matrix,p=c[0],v=c[1],m=c[2],T=c[3],E=c[4],P=c[5];return c[0]=h*p+r*m,c[1]=h*v+r*T,c[2]=o*p+u*m,c[3]=o*v+u*T,c[4]=a*p+d*m+E,c[5]=a*v+d*T+P,this},transformPoint:function(h,r,o){o===void 0&&(o={x:0,y:0});var u=this.matrix,a=u[0],d=u[1],c=u[2],p=u[3],v=u[4],m=u[5];return o.x=h*a+r*c+v,o.y=h*d+r*p+m,o},invert:function(){var h=this.matrix,r=h[0],o=h[1],u=h[2],a=h[3],d=h[4],c=h[5],p=r*a-o*u;return h[0]=a/p,h[1]=-o/p,h[2]=-u/p,h[3]=r/p,h[4]=(u*c-a*d)/p,h[5]=-(r*c-o*d)/p,this},copyFrom:function(h){var r=this.matrix;return r[0]=h.a,r[1]=h.b,r[2]=h.c,r[3]=h.d,r[4]=h.e,r[5]=h.f,this},copyFromArray:function(h){var r=this.matrix;return r[0]=h[0],r[1]=h[1],r[2]=h[2],r[3]=h[3],r[4]=h[4],r[5]=h[5],this},copyToContext:function(h){var r=this.matrix;return h.transform(r[0],r[1],r[2],r[3],r[4],r[5]),h},setToContext:function(h){return h.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),h},copyToArray:function(h){var r=this.matrix;return h===void 0?h=[r[0],r[1],r[2],r[3],r[4],r[5]]:(h[0]=r[0],h[1]=r[1],h[2]=r[2],h[3]=r[3],h[4]=r[4],h[5]=r[5]),h},setTransform:function(h,r,o,u,a,d){var c=this.matrix;return c[0]=h,c[1]=r,c[2]=o,c[3]=u,c[4]=a,c[5]=d,this},decomposeMatrix:function(){var h=this.decomposedMatrix,r=this.matrix,o=r[0],u=r[1],a=r[2],d=r[3],c=o*d-u*a;if(h.translateX=r[4],h.translateY=r[5],o||u){var p=Math.sqrt(o*o+u*u);h.rotation=u>0?Math.acos(o/p):-Math.acos(o/p),h.scaleX=p,h.scaleY=c/p}else if(a||d){var v=Math.sqrt(a*a+d*d);h.rotation=Math.PI*.5-(d>0?Math.acos(-a/v):-Math.acos(a/v)),h.scaleX=c/v,h.scaleY=v}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,r,o,u,a){var d=this.matrix,c=Math.sin(o),p=Math.cos(o);return d[4]=h,d[5]=r,d[0]=p*u,d[1]=c*u,d[2]=-c*a,d[3]=p*a,this},applyInverse:function(h,r,o){o===void 0&&(o=new f);var u=this.matrix,a=u[0],d=u[1],c=u[2],p=u[3],v=u[4],m=u[5],T=1/(a*p+c*-d);return o.x=p*T*h+-c*T*r+(m*c-v*p)*T,o.y=a*T*r+-d*T*h+(-m*a+v*d)*T,o},setQuad:function(h,r,o,u,a,d){a===void 0&&(a=!1),d===void 0&&(d=this.quad);var c=this.matrix,p=c[0],v=c[1],m=c[2],T=c[3],E=c[4],P=c[5],w=h*p+r*m+E,R=h*v+r*T+P,b=h*p+u*m+E,O=h*v+u*T+P,I=o*p+u*m+E,D=o*v+u*T+P,B=o*p+r*m+E,k=o*v+r*T+P;if(a){var z=Math.floor(w+.5),X=Math.floor(R+.5),K=z-w,H=X-R;d[0]=z,d[1]=X,d[2]=b+K,d[3]=O+H,d[4]=I+K,d[5]=D+H,d[6]=B+K,d[7]=k+H}else d[0]=w,d[1]=R,d[2]=b,d[3]=O,d[4]=I,d[5]=D,d[6]=B,d[7]=k;return d},getX:function(h,r){return h*this.a+r*this.c+this.e},getY:function(h,r){return h*this.b+r*this.d+this.f},getXRound:function(h,r,o){var u=this.getX(h,r);return o&&(u=Math.floor(u+.5)),u},getYRound:function(h,r,o){var u=this.getY(h,r);return o&&(u=Math.floor(u+.5)),u},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});C.exports=l},59715:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(g){g?(this._visible=!0,this.renderFlags|=A):(this._visible=!1,this.renderFlags&=~A)}},setVisible:function(g){return this.visible=g,this}};C.exports=s},31401:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Alpha:s(16005),AlphaSingle:s(88509),BlendMode:s(90065),ComputedSize:s(94215),Crop:s(61683),Depth:s(89272),Flip:s(54434),FX:s(47059),GetBounds:s(8004),Mask:s(8573),Origin:s(27387),PathFollower:s(37640),Pipeline:s(72699),PostPipeline:s(17581),ScrollFactor:s(80227),Size:s(16736),Texture:s(37726),TextureCrop:s(79812),Tint:s(27472),ToJSON:s(53774),Transform:s(16901),TransformMatrix:s(61340),Visible:s(59715)}},31559:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37105),y=s(10312),f=s(83419),l=s(31401),h=s(51708),r=s(95643),o=s(87841),u=s(29959),a=s(36899),d=s(26099),c=new l.TransformMatrix,p=new f({Extends:r,Mixins:[l.AlphaSingle,l.BlendMode,l.ComputedSize,l.Depth,l.Mask,l.PostPipeline,l.Transform,l.Visible,u],initialize:function(m,T,E,P){r.call(this,m,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new l.TransformMatrix,this._sortKey="",this._sysEvents=m.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(T,E),this.setBlendMode(y.SKIP_CHECK),P&&this.add(P)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new o),v.setTo(this.x,this.y,0,0),this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix(),T=m.transformPoint(this.x,this.y);v.setTo(T.x,T.y,0,0)}if(this.list.length>0){var E=this.list,P=new o,w=!1;v.setEmpty();for(var R=0;R<E.length;R++){var b=E[R];b.getBounds&&(b.getBounds(P),w?a(P,v,v):(v.setTo(P.x,P.y,P.width,P.height),w=!0))}}return v},addHandler:function(v){v.once(h.DESTROY,this.onChildDestroyed,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.parentContainer=this,v.removeFromDisplayList(),v.addedToScene())},removeHandler:function(v){v.off(h.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer=null,v.removedFromScene(),v.addToDisplayList())},pointToContainer:function(v,m){m===void 0&&(m=new d),this.parentContainer?this.parentContainer.pointToContainer(v,m):(m.x=v.x,m.y=v.y);var T=c;return T.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),T.invert(),T.transformPoint(v.x,v.y,m),m},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(c,this.localTransform)},add:function(v){return g.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,m){return g.AddAt(this.list,v,m,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,m){return v?(m===void 0&&(m=function(T,E){return T[v]-E[v]}),g.StableSort(this.list,m),this):this},getByName:function(v){return g.GetFirst(this.list,"name",v)},getRandom:function(v,m){return g.GetRandom(this.list,v,m)},getFirst:function(v,m,T,E){return g.GetFirst(this.list,v,m,T,E)},getAll:function(v,m,T,E){return g.GetAll(this.list,v,m,T,E)},count:function(v,m,T,E){return g.CountAllMatching(this.list,v,m,T,E)},swap:function(v,m){return g.Swap(this.list,v,m),this},moveTo:function(v,m){return g.MoveTo(this.list,v,m),this},moveAbove:function(v,m){return g.MoveAbove(this.list,v,m),this},moveBelow:function(v,m){return g.MoveBelow(this.list,v,m),this},remove:function(v,m){var T=g.Remove(this.list,v,this.removeHandler,this);if(m&&T){Array.isArray(T)||(T=[T]);for(var E=0;E<T.length;E++)T[E].destroy()}return this},removeAt:function(v,m){var T=g.RemoveAt(this.list,v,this.removeHandler,this);return m&&T&&T.destroy(),this},removeBetween:function(v,m,T){var E=g.RemoveBetween(this.list,v,m,this.removeHandler,this);if(T)for(var P=0;P<E.length;P++)E[P].destroy();return this},removeAll:function(v){var m=this.list;if(v){for(var T=0;T<m.length;T++)m[T]&&m[T].scene&&(m[T].off(h.DESTROY,this.onChildDestroyed,this),m[T].destroy());this.list=[]}else g.RemoveBetween(m,0,m.length,this.removeHandler,this);return this},bringToTop:function(v){return g.BringToTop(this.list,v),this},sendToBack:function(v){return g.SendToBack(this.list,v),this},moveUp:function(v){return g.MoveUp(this.list,v),this},moveDown:function(v){return g.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return g.Shuffle(this.list),this},replace:function(v,m,T){var E=g.Replace(this.list,v,m);return E&&(this.addHandler(m),this.removeHandler(v),T&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,m,T,E){return g.SetAll(this.list,v,m,T,E),this},each:function(v,m){var T=[null],E,P=this.list.slice(),w=P.length;for(E=2;E<arguments.length;E++)T.push(arguments[E]);for(E=0;E<w;E++)T[0]=P[E],v.apply(m,T);return this},iterate:function(v,m){var T=[null],E;for(E=2;E<arguments.length;E++)T.push(arguments[E]);for(E=0;E<this.list.length;E++)T[0]=this.list[E],v.apply(m,T);return this},setScrollFactor:function(v,m,T){return m===void 0&&(m=v),T===void 0&&(T=!1),this.scrollFactorX=v,this.scrollFactorY=m,T&&(g.SetAll(this.list,"scrollFactorX",v),g.SetAll(this.list,"scrollFactorY",m)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(v){g.Remove(this.list,v),this.exclusive&&(v.parentContainer=null,v.removedFromScene())}});C.exports=p},53584:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g);var l=g.list;if(l.length!==0){var h=g.localTransform;f?(h.loadIdentity(),h.multiply(f),h.translate(g.x,g.y),h.rotate(g.rotation),h.scale(g.scaleX,g.scaleY)):h.applyITRS(g.x,g.y,g.rotation,g.scaleX,g.scaleY);var r=g.blendMode!==-1;r||s.setBlendMode(0);var o=g._alpha,u=g.scrollFactorX,a=g.scrollFactorY;g.mask&&g.mask.preRenderCanvas(s,null,y);for(var d=0;d<l.length;d++){var c=l[d];if(c.willRender(y)){var p=c.alpha,v=c.scrollFactorX,m=c.scrollFactorY;!r&&c.blendMode!==s.currentBlendMode&&s.setBlendMode(c.blendMode),c.setScrollFactor(v*u,m*a),c.setAlpha(p*o),c.renderCanvas(s,c,y,h),c.setAlpha(p),c.setScrollFactor(v,m)}}g.mask&&g.mask.postRenderCanvas(s)}};C.exports=A},77143:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(31559),f=s(44603),l=s(23568),h=s(95540);f.register("container",function(r,o){r===void 0&&(r={});var u=l(r,"x",0),a=l(r,"y",0),d=h(r,"children",null),c=new y(this.scene,u,a,d);return o!==void 0&&(r.add=o),g(this.scene,c,r),c})},24961:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(31559),y=s(39429);y.register("container",function(f,l,h){return this.displayList.add(new g(this.scene,f,l,h))})},29959:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(72249),f=s(53584),C.exports={renderWebGL:y,renderCanvas:f}},72249:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g);var l=g.list,h=l.length;if(h!==0){var r=g.localTransform;f?(r.loadIdentity(),r.multiply(f),r.translate(g.x,g.y),r.rotate(g.rotation),r.scale(g.scaleX,g.scaleY)):r.applyITRS(g.x,g.y,g.rotation,g.scaleX,g.scaleY),s.pipelines.preBatch(g);var o=g.blendMode!==-1;o||s.setBlendMode(0);for(var u=g.alpha,a=g.scrollFactorX,d=g.scrollFactorY,c=0;c<h;c++){var p=l[c];if(p.willRender(y)){var v,m,T,E;if(p.alphaTopLeft!==void 0)v=p.alphaTopLeft,m=p.alphaTopRight,T=p.alphaBottomLeft,E=p.alphaBottomRight;else{var P=p.alpha;v=P,m=P,T=P,E=P}var w=p.scrollFactorX,R=p.scrollFactorY;!o&&p.blendMode!==s.currentBlendMode&&s.setBlendMode(p.blendMode);var b=p.mask;b&&b.preRenderWebGL(s,p,y);var O=p.type;O!==s.currentType&&(s.newType=!0,s.currentType=O),s.nextTypeMatch=c<h-1?l[c+1].type===s.currentType:!1,p.setScrollFactor(w*a,R*d),p.setAlpha(v*u,m*u,T*u,E*u),p.renderWebGL(s,p,y,r,g),p.setAlpha(v,m,T,E),p.setScrollFactor(w,R),b&&b.postRenderWebGL(s,y),s.newType=!1}}s.pipelines.postBatch(g)}};C.exports=A},47407:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(441),l=s(95643),h=s(41212),r=s(35846),o=s(44594),u=s(61369),a=new g({Extends:l,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Origin,y.ScrollFactor,y.Transform,y.Visible,f],initialize:function(c,p,v,m,T,E){if(l.call(this,c,"DOMElement"),this.parent=c.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=c.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new u,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(p,v),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),T,E):this.createElement(m,T,E):m&&this.setElement(m,T,E),c.sys.events.on(o.SLEEP,this.handleSceneEvent,this),c.sys.events.on(o.WAKE,this.handleSceneEvent,this),c.sys.events.on(o.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(d){var c=this.node,p=c.style;c&&(p.display=d.settings.visible?"block":"none")},setSkew:function(d,c){return d===void 0&&(d=0),c===void 0&&(c=d),this.skewX=d,this.skewY=c,this},setPerspective:function(d){return this.parent.style.perspective=d+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(d){this.parent.style.perspective=d+"px"}},addListener:function(d){if(this.node){d=d.split(" ");for(var c=0;c<d.length;c++)this.node.addEventListener(d[c],this.handler,!1)}return this},removeListener:function(d){if(this.node){d=d.split(" ");for(var c=0;c<d.length;c++)this.node.removeEventListener(d[c],this.handler)}return this},dispatchNativeEvent:function(d){this.emit(d.type,d)},createElement:function(d,c,p){return this.setElement(document.createElement(d),c,p)},setElement:function(d,c,p){this.removeElement();var v;if(typeof d=="string"?(d[0]==="#"&&(d=d.substr(1)),v=document.getElementById(d)):typeof d=="object"&&d.nodeType===1&&(v=d),!v)return this;if(this.node=v,c&&h(c))for(var m in c)v.style[m]=c[m];else typeof c=="string"&&(v.style=c);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent.appendChild(v),p&&(v.innerText=p),this.updateSize()},createFromCache:function(d,c){var p=this.cache.get(d);return p&&this.createFromHTML(p,c),this},createFromHTML:function(d,c){c===void 0&&(c="div"),this.removeElement();var p=document.createElement(c);return this.node=p,p.style.zIndex="0",p.style.display="inline",p.style.position="absolute",p.phaser=this,this.parent.appendChild(p),p.innerHTML=d,this.updateSize()},removeElement:function(){return this.node&&(r(this.node),this.node=null),this},updateSize:function(){var d=this.node;return this.width=d.clientWidth,this.height=d.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(d,c){if(this.node){for(var p=this.node.querySelectorAll("*"),v=0;v<p.length;v++)if(p[v][d]===c)return p[v]}return null},getChildByID:function(d){return this.getChildByProperty("id",d)},getChildByName:function(d){return this.getChildByProperty("name",d)},setClassName:function(d){return this.node&&(this.node.className=d,this.updateSize()),this},setText:function(d){return this.node&&(this.node.innerText=d,this.updateSize()),this},setHTML:function(d){return this.node&&(this.node.innerHTML=d,this.updateSize()),this},preRender:function(){var d=this.parentContainer,c=this.node;c&&d&&!d.willRender()&&(c.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(o.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(o.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(o.PRE_RENDER,this.preRender,this)}});C.exports=a},49381:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(47407),y=s(95643),f=s(61340),l=new f,h=new f,r=new f,o=function(u,a,d,c){if(a.node){var p=a.node.style,v=a.scene.sys.settings;if(!p||!v.visible||y.RENDER_MASK!==a.renderFlags||a.cameraFilter!==0&&a.cameraFilter&d.id||a.parentContainer&&!a.parentContainer.willRender()){p.display="none";return}var m=a.parentContainer,T=d.alpha*a.alpha;m&&(T*=m.alpha);var E=l,P=h,w=r,R=0,b=0,O="0%",I="0%";c?(R=a.width*a.scaleX*a.originX,b=a.height*a.scaleY*a.originY,P.applyITRS(a.x-R,a.y-b,a.rotation,a.scaleX,a.scaleY),E.copyFrom(d.matrix),E.multiplyWithOffset(c,-d.scrollX*a.scrollFactorX,-d.scrollY*a.scrollFactorY),P.e=a.x-R,P.f=a.y-b,E.multiply(P,w)):(R=a.width*a.originX,b=a.height*a.originY,P.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),E.copyFrom(d.matrix),O=100*a.originX+"%",I=100*a.originY+"%",P.e-=d.scrollX*a.scrollFactorX,P.f-=d.scrollY*a.scrollFactorY,E.multiply(P,w),w.e-=R,w.f-=b),a.transformOnly||(p.display="block",p.opacity=T,p.zIndex=a._depth,p.pointerEvents=a.pointerEvents,p.mixBlendMode=g[a._blendMode]),p.transform=w.getCSSMatrix()+" skew("+a.skewX+"rad, "+a.skewY+"rad) rotate3d("+a.rotate3d.x+","+a.rotate3d.y+","+a.rotate3d.z+","+a.rotate3d.w+a.rotate3dAngle+")",p.transformOrigin=O+" "+I}};C.exports=o},2611:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(3069),y=s(39429);y.register("dom",function(f,l,h,r,o){var u=new g(this.scene,f,l,h,r,o);return this.displayList.add(u),u})},441:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(49381),f=s(49381),C.exports={renderWebGL:y,renderCanvas:f}},62980:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addedtoscene"},41337:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},44947:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedfromscene"},49358:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},35163:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="created"},97249:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="error"},19483:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="locked"},56059:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loop"},26772:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="metadata"},64437:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="playing"},83411:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="play"},75780:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="seeked"},67799:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="seeking"},63500:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stalled"},55541:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stop"},53208:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="textureready"},4992:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="unlocked"},12:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="unsupported"},51708:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADDED_TO_SCENE:s(62980),DESTROY:s(41337),REMOVED_FROM_SCENE:s(44947),VIDEO_COMPLETE:s(49358),VIDEO_CREATED:s(35163),VIDEO_ERROR:s(97249),VIDEO_LOCKED:s(19483),VIDEO_LOOP:s(56059),VIDEO_METADATA:s(26772),VIDEO_PLAY:s(83411),VIDEO_PLAYING:s(64437),VIDEO_SEEKED:s(75780),VIDEO_SEEKING:s(67799),VIDEO_STALLED:s(63500),VIDEO_STOP:s(55541),VIDEO_TEXTURE:s(53208),VIDEO_UNLOCKED:s(4992),VIDEO_UNSUPPORTED:s(12)}},42421:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(64993),h=new g({Extends:f,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.Origin,y.ScrollFactor,y.Size,y.Texture,y.Tint,y.Transform,y.Visible,l],initialize:function(o){f.call(this,o,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});C.exports=h},70217:()=>{},56315:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(42421),y=s(39429);y.register("extern",function(){var f=new g(this.scene);return this.displayList.add(f),f})},64993:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(80287),f=s(70217),C.exports={renderWebGL:y,renderCanvas:f}},80287:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=function(f,l,h,r){f.pipelines.clear();var o=g(l,h,r).calc;l.render.call(l,f,h,o),f.pipelines.rebind()};C.exports=y},85592:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(71911),y=s(83419),f=s(85592),l=s(31401),h=s(8497),r=s(95643),o=s(95540),u=s(35154),a=s(36383),d=s(84503),c=new y({Extends:r,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,d],initialize:function(v,m){var T=u(m,"x",0),E=u(m,"y",0);r.call(this,v,"Graphics"),this.setPosition(T,E),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(m)},setDefaultStyles:function(p){return u(p,"lineStyle",null)&&(this.defaultStrokeWidth=u(p,"lineStyle.width",1),this.defaultStrokeColor=u(p,"lineStyle.color",16777215),this.defaultStrokeAlpha=u(p,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),u(p,"fillStyle",null)&&(this.defaultFillColor=u(p,"fillStyle.color",16777215),this.defaultFillAlpha=u(p,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(p,v,m){return m===void 0&&(m=1),this.commandBuffer.push(f.LINE_STYLE,p,v,m),this._lineWidth=p,this},fillStyle:function(p,v){return v===void 0&&(v=1),this.commandBuffer.push(f.FILL_STYLE,p,v),this},fillGradientStyle:function(p,v,m,T,E,P,w,R){return E===void 0&&(E=1),P===void 0&&(P=E),w===void 0&&(w=E),R===void 0&&(R=E),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,E,P,w,R,p,v,m,T),this},lineGradientStyle:function(p,v,m,T,E,P){return P===void 0&&(P=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,p,P,v,m,T,E),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(p){return this.fillCircle(p.x,p.y,p.radius)},strokeCircleShape:function(p){return this.strokeCircle(p.x,p.y,p.radius)},fillCircle:function(p,v,m){return this.beginPath(),this.arc(p,v,m,0,a.PI2),this.fillPath(),this},strokeCircle:function(p,v,m){return this.beginPath(),this.arc(p,v,m,0,a.PI2),this.strokePath(),this},fillRectShape:function(p){return this.fillRect(p.x,p.y,p.width,p.height)},strokeRectShape:function(p){return this.strokeRect(p.x,p.y,p.width,p.height)},fillRect:function(p,v,m,T){return this.commandBuffer.push(f.FILL_RECT,p,v,m,T),this},strokeRect:function(p,v,m,T){var E=this._lineWidth/2,P=p-E,w=p+E;return this.beginPath(),this.moveTo(p,v),this.lineTo(p,v+T),this.strokePath(),this.beginPath(),this.moveTo(p+m,v),this.lineTo(p+m,v+T),this.strokePath(),this.beginPath(),this.moveTo(P,v),this.lineTo(w+m,v),this.strokePath(),this.beginPath(),this.moveTo(P,v+T),this.lineTo(w+m,v+T),this.strokePath(),this},fillRoundedRect:function(p,v,m,T,E){E===void 0&&(E=20);var P=E,w=E,R=E,b=E;typeof E!="number"&&(P=o(E,"tl",20),w=o(E,"tr",20),R=o(E,"bl",20),b=o(E,"br",20));var O=P>=0,I=w>=0,D=R>=0,B=b>=0;return P=Math.abs(P),w=Math.abs(w),R=Math.abs(R),b=Math.abs(b),this.beginPath(),this.moveTo(p+P,v),this.lineTo(p+m-w,v),I?this.arc(p+m-w,v+w,w,-a.TAU,0):this.arc(p+m,v,w,Math.PI,a.TAU,!0),this.lineTo(p+m,v+T-b),B?this.arc(p+m-b,v+T-b,b,0,a.TAU):this.arc(p+m,v+T,b,-a.TAU,Math.PI,!0),this.lineTo(p+R,v+T),D?this.arc(p+R,v+T-R,R,a.TAU,Math.PI):this.arc(p,v+T,R,0,-a.TAU,!0),this.lineTo(p,v+P),O?this.arc(p+P,v+P,P,-Math.PI,-a.TAU):this.arc(p,v,P,a.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(p,v,m,T,E){E===void 0&&(E=20);var P=E,w=E,R=E,b=E,O=Math.min(m,T)/2;typeof E!="number"&&(P=o(E,"tl",20),w=o(E,"tr",20),R=o(E,"bl",20),b=o(E,"br",20));var I=P>=0,D=w>=0,B=R>=0,k=b>=0;return P=Math.min(Math.abs(P),O),w=Math.min(Math.abs(w),O),R=Math.min(Math.abs(R),O),b=Math.min(Math.abs(b),O),this.beginPath(),this.moveTo(p+P,v),this.lineTo(p+m-w,v),this.moveTo(p+m-w,v),D?this.arc(p+m-w,v+w,w,-a.TAU,0):this.arc(p+m,v,w,Math.PI,a.TAU,!0),this.lineTo(p+m,v+T-b),this.moveTo(p+m,v+T-b),k?this.arc(p+m-b,v+T-b,b,0,a.TAU):this.arc(p+m,v+T,b,-a.TAU,Math.PI,!0),this.lineTo(p+R,v+T),this.moveTo(p+R,v+T),B?this.arc(p+R,v+T-R,R,a.TAU,Math.PI):this.arc(p,v+T,R,0,-a.TAU,!0),this.lineTo(p,v+P),this.moveTo(p,v+P),I?this.arc(p+P,v+P,P,-Math.PI,-a.TAU):this.arc(p,v,P,a.TAU,0,!0),this.strokePath(),this},fillPointShape:function(p,v){return this.fillPoint(p.x,p.y,v)},fillPoint:function(p,v,m){return!m||m<1?m=1:(p-=m/2,v-=m/2),this.commandBuffer.push(f.FILL_RECT,p,v,m,m),this},fillTriangleShape:function(p){return this.fillTriangle(p.x1,p.y1,p.x2,p.y2,p.x3,p.y3)},strokeTriangleShape:function(p){return this.strokeTriangle(p.x1,p.y1,p.x2,p.y2,p.x3,p.y3)},fillTriangle:function(p,v,m,T,E,P){return this.commandBuffer.push(f.FILL_TRIANGLE,p,v,m,T,E,P),this},strokeTriangle:function(p,v,m,T,E,P){return this.commandBuffer.push(f.STROKE_TRIANGLE,p,v,m,T,E,P),this},strokeLineShape:function(p){return this.lineBetween(p.x1,p.y1,p.x2,p.y2)},lineBetween:function(p,v,m,T){return this.beginPath(),this.moveTo(p,v),this.lineTo(m,T),this.strokePath(),this},lineTo:function(p,v){return this.commandBuffer.push(f.LINE_TO,p,v),this},moveTo:function(p,v){return this.commandBuffer.push(f.MOVE_TO,p,v),this},strokePoints:function(p,v,m,T){v===void 0&&(v=!1),m===void 0&&(m=!1),T===void 0&&(T=p.length),this.beginPath(),this.moveTo(p[0].x,p[0].y);for(var E=1;E<T;E++)this.lineTo(p[E].x,p[E].y);return v&&this.lineTo(p[0].x,p[0].y),m&&this.closePath(),this.strokePath(),this},fillPoints:function(p,v,m,T){v===void 0&&(v=!1),m===void 0&&(m=!1),T===void 0&&(T=p.length),this.beginPath(),this.moveTo(p[0].x,p[0].y);for(var E=1;E<T;E++)this.lineTo(p[E].x,p[E].y);return v&&this.lineTo(p[0].x,p[0].y),m&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(p,v){v===void 0&&(v=32);var m=p.getPoints(v);return this.strokePoints(m,!0)},strokeEllipse:function(p,v,m,T,E){E===void 0&&(E=32);var P=new h(p,v,m,T),w=P.getPoints(E);return this.strokePoints(w,!0)},fillEllipseShape:function(p,v){v===void 0&&(v=32);var m=p.getPoints(v);return this.fillPoints(m,!0)},fillEllipse:function(p,v,m,T,E){E===void 0&&(E=32);var P=new h(p,v,m,T),w=P.getPoints(E);return this.fillPoints(w,!0)},arc:function(p,v,m,T,E,P,w){return P===void 0&&(P=!1),w===void 0&&(w=0),this.commandBuffer.push(f.ARC,p,v,m,T,E,P,w),this},slice:function(p,v,m,T,E,P,w){return P===void 0&&(P=!1),w===void 0&&(w=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,p,v),this.commandBuffer.push(f.ARC,p,v,m,T,E,P,w),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(p,v){return this.commandBuffer.push(f.TRANSLATE,p,v),this},scaleCanvas:function(p,v){return this.commandBuffer.push(f.SCALE,p,v),this},rotateCanvas:function(p){return this.commandBuffer.push(f.ROTATE,p),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(p,v,m){var T=this.scene.sys,E=T.game.renderer;v===void 0&&(v=T.scale.width),m===void 0&&(m=T.scale.height),c.TargetCamera.setScene(this.scene),c.TargetCamera.setViewport(0,0,v,m),c.TargetCamera.scrollX=this.x,c.TargetCamera.scrollY=this.y;var P,w,R={willReadFrequently:!0};if(typeof p=="string")if(T.textures.exists(p)){P=T.textures.get(p);var b=P.getSourceImage();b instanceof HTMLCanvasElement&&(w=b.getContext("2d",R))}else P=T.textures.createCanvas(p,v,m),w=P.getSourceImage().getContext("2d",R);else p instanceof HTMLCanvasElement&&(w=p.getContext("2d",R));return w&&(this.renderCanvas(E,this,c.TargetCamera,null,w,!1),P&&P.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});c.TargetCamera=new g,C.exports=c},32768:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85592),y=s(20926),f=function(l,h,r,o,u,a){var d=h.commandBuffer,c=d.length,p=u||l.currentContext;if(!(c===0||!y(l,p,h,r,o))){r.addToRenderList(h);var v=1,m=1,T=0,E=0,P=1,w=0,R=0,b=0;p.beginPath();for(var O=0;O<c;++O){var I=d[O];switch(I){case g.ARC:p.arc(d[O+1],d[O+2],d[O+3],d[O+4],d[O+5],d[O+6]),O+=7;break;case g.LINE_STYLE:P=d[O+1],T=d[O+2],v=d[O+3],w=(T&16711680)>>>16,R=(T&65280)>>>8,b=T&255,p.strokeStyle="rgba("+w+","+R+","+b+","+v+")",p.lineWidth=P,O+=3;break;case g.FILL_STYLE:E=d[O+1],m=d[O+2],w=(E&16711680)>>>16,R=(E&65280)>>>8,b=E&255,p.fillStyle="rgba("+w+","+R+","+b+","+m+")",O+=2;break;case g.BEGIN_PATH:p.beginPath();break;case g.CLOSE_PATH:p.closePath();break;case g.FILL_PATH:a||p.fill();break;case g.STROKE_PATH:a||p.stroke();break;case g.FILL_RECT:a?p.rect(d[O+1],d[O+2],d[O+3],d[O+4]):p.fillRect(d[O+1],d[O+2],d[O+3],d[O+4]),O+=4;break;case g.FILL_TRIANGLE:p.beginPath(),p.moveTo(d[O+1],d[O+2]),p.lineTo(d[O+3],d[O+4]),p.lineTo(d[O+5],d[O+6]),p.closePath(),a||p.fill(),O+=6;break;case g.STROKE_TRIANGLE:p.beginPath(),p.moveTo(d[O+1],d[O+2]),p.lineTo(d[O+3],d[O+4]),p.lineTo(d[O+5],d[O+6]),p.closePath(),a||p.stroke(),O+=6;break;case g.LINE_TO:p.lineTo(d[O+1],d[O+2]),O+=2;break;case g.MOVE_TO:p.moveTo(d[O+1],d[O+2]),O+=2;break;case g.LINE_FX_TO:p.lineTo(d[O+1],d[O+2]),O+=5;break;case g.MOVE_FX_TO:p.moveTo(d[O+1],d[O+2]),O+=5;break;case g.SAVE:p.save();break;case g.RESTORE:p.restore();break;case g.TRANSLATE:p.translate(d[O+1],d[O+2]),O+=2;break;case g.SCALE:p.scale(d[O+1],d[O+2]),O+=2;break;case g.ROTATE:p.rotate(d[O+1]),O+=1;break;case g.GRADIENT_FILL_STYLE:O+=5;break;case g.GRADIENT_LINE_STYLE:O+=6;break}}p.restore()}};C.exports=f},87079:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(44603),y=s(43831);g.register("graphics",function(f,l){f===void 0&&(f={}),l!==void 0&&(f.add=l);var h=new y(this.scene,f);return f.add&&this.scene.sys.displayList.add(h),h})},1201:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43831),y=s(39429);y.register("graphics",function(f){return this.displayList.add(new g(this.scene,f))})},84503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(77545),f=s(32768),f=s(32768),C.exports={renderWebGL:y,renderCanvas:f}},77545:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85592),y=s(91296),f=s(61340),l=s(70554),h=function(d,c,p){this.x=d,this.y=c,this.width=p},r=function(d,c,p){this.points=[],this.pointsLength=1,this.points[0]=new h(d,c,p)},o=[],u=new f,a=function(d,c,p,v){if(c.commandBuffer.length!==0){p.addToRenderList(c);var m=d.pipelines.set(c.pipeline,c);d.pipelines.preBatch(c);for(var T=y(c,p,v).calc,E=u.loadIdentity(),P=c.commandBuffer,w=p.alpha*c.alpha,R=1,b=m.fillTint,O=m.strokeTint,I=0,D=0,B=0,k=.01,z=Math.PI*2,X,K=[],H=0,Q=!0,W=null,Y=l.getTintAppendFloatAlpha,N=0;N<P.length;N++)switch(X=P[N],X){case g.BEGIN_PATH:{K.length=0,W=null,Q=!0;break}case g.CLOSE_PATH:{Q=!1,W&&W.points.length&&W.points.push(W.points[0]);break}case g.FILL_PATH:{for(H=0;H<K.length;H++)m.batchFillPath(K[H].points,E,T);break}case g.STROKE_PATH:{for(H=0;H<K.length;H++)m.batchStrokePath(K[H].points,R,Q,E,T);break}case g.LINE_STYLE:{R=P[++N];var Z=P[++N],U=P[++N]*w,j=Y(Z,U);O.TL=j,O.TR=j,O.BL=j,O.BR=j;break}case g.FILL_STYLE:{var et=P[++N],it=P[++N]*w,rt=Y(et,it);b.TL=rt,b.TR=rt,b.BL=rt,b.BR=rt;break}case g.GRADIENT_FILL_STYLE:{var lt=P[++N]*w,ft=P[++N]*w,pt=P[++N]*w,vt=P[++N]*w;b.TL=Y(P[++N],lt),b.TR=Y(P[++N],ft),b.BL=Y(P[++N],pt),b.BR=Y(P[++N],vt);break}case g.GRADIENT_LINE_STYLE:{R=P[++N];var xt=P[++N]*w;O.TL=Y(P[++N],xt),O.TR=Y(P[++N],xt),O.BL=Y(P[++N],xt),O.BR=Y(P[++N],xt);break}case g.ARC:{var yt=0,Ct=P[++N],wt=P[++N],Lt=P[++N],bt=P[++N],St=P[++N],Et=P[++N],Mt=P[++N];for(St-=bt,Et?St<-z?St=-z:St>0&&(St=-z+St%z):St>z?St=z:St<0&&(St=z+St%z),W===null&&(W=new r(Ct+Math.cos(bt)*Lt,wt+Math.sin(bt)*Lt,R),K.push(W),yt+=k);yt<1+Mt;)B=St*yt+bt,I=Ct+Math.cos(B)*Lt,D=wt+Math.sin(B)*Lt,W.points.push(new h(I,D,R)),yt+=k;B=St+bt,I=Ct+Math.cos(B)*Lt,D=wt+Math.sin(B)*Lt,W.points.push(new h(I,D,R));break}case g.FILL_RECT:{m.batchFillRect(P[++N],P[++N],P[++N],P[++N],E,T);break}case g.FILL_TRIANGLE:{m.batchFillTriangle(P[++N],P[++N],P[++N],P[++N],P[++N],P[++N],E,T);break}case g.STROKE_TRIANGLE:{m.batchStrokeTriangle(P[++N],P[++N],P[++N],P[++N],P[++N],P[++N],R,E,T);break}case g.LINE_TO:{W!==null?W.points.push(new h(P[++N],P[++N],R)):(W=new r(P[++N],P[++N],R),K.push(W));break}case g.MOVE_TO:{W=new r(P[++N],P[++N],R),K.push(W);break}case g.SAVE:{o.push(E.copyToArray());break}case g.RESTORE:{E.copyFromArray(o.pop());break}case g.TRANSLATE:{Ct=P[++N],wt=P[++N],E.translate(Ct,wt);break}case g.SCALE:{Ct=P[++N],wt=P[++N],E.scale(Ct,wt);break}case g.ROTATE:{E.rotate(P[++N]);break}}d.pipelines.postBatch(c)}};C.exports=a},26479:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61061),y=s(83419),f=s(51708),l=s(50792),h=s(46710),r=s(95540),o=s(35154),u=s(97022),a=s(41212),d=s(88492),c=s(35072),p=s(68287),v=new y({Extends:l,initialize:function(T,E,P){l.call(this),P?E&&!Array.isArray(E)&&(E=[E]):Array.isArray(E)?a(E[0])&&(P=E,E=null):a(E)&&(P=E,E=null),this.scene=T,this.children=new c,this.isParent=!0,this.type="Group",this.classType=r(P,"classType",p),this.name=r(P,"name",""),this.active=r(P,"active",!0),this.maxSize=r(P,"maxSize",-1),this.defaultKey=r(P,"defaultKey",null),this.defaultFrame=r(P,"defaultFrame",null),this.runChildUpdate=r(P,"runChildUpdate",!1),this.createCallback=r(P,"createCallback",null),this.removeCallback=r(P,"removeCallback",null),this.createMultipleCallback=r(P,"createMultipleCallback",null),this.internalCreateCallback=r(P,"internalCreateCallback",null),this.internalRemoveCallback=r(P,"internalRemoveCallback",null),E&&this.addMultiple(E),P&&this.createMultiple(P),this.on(f.ADDED_TO_SCENE,this.addedToScene,this),this.on(f.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(m,T,E,P,w,R){if(m===void 0&&(m=0),T===void 0&&(T=0),E===void 0&&(E=this.defaultKey),P===void 0&&(P=this.defaultFrame),w===void 0&&(w=!0),R===void 0&&(R=!0),this.isFull())return null;var b=new this.classType(this.scene,m,T,E,P);return b.addToDisplayList(this.scene.sys.displayList),b.addToUpdateList(),b.visible=w,b.setActive(R),this.add(b),b},createMultiple:function(m){if(this.isFull())return[];Array.isArray(m)||(m=[m]);var T=[];if(m[0].key)for(var E=0;E<m.length;E++){var P=this.createFromConfig(m[E]);T=T.concat(P)}return T},createFromConfig:function(m){if(this.isFull())return[];this.classType=r(m,"classType",this.classType);var T=r(m,"key",void 0),E=r(m,"frame",null),P=r(m,"visible",!0),w=r(m,"active",!0),R=[];if(T===void 0)return R;Array.isArray(T)||(T=[T]),Array.isArray(E)||(E=[E]);var b=r(m,"repeat",0),O=r(m,"randomKey",!1),I=r(m,"randomFrame",!1),D=r(m,"yoyo",!1),B=r(m,"quantity",!1),k=r(m,"frameQuantity",1),z=r(m,"max",0),X=d(T,E,{max:z,qty:B||k,random:O,randomB:I,repeat:b,yoyo:D});m.createCallback&&(this.createCallback=m.createCallback),m.removeCallback&&(this.removeCallback=m.removeCallback),m.internalCreateCallback&&(this.internalCreateCallback=m.internalCreateCallback),m.internalRemoveCallback&&(this.internalRemoveCallback=m.internalRemoveCallback);for(var K=0;K<X.length;K++){var H=this.create(0,0,X[K].a,X[K].b,P,w);if(!H)break;R.push(H)}if(u(m,"setXY")){var Q=o(m,"setXY.x",0),W=o(m,"setXY.y",0),Y=o(m,"setXY.stepX",0),N=o(m,"setXY.stepY",0);g.SetXY(R,Q,W,Y,N)}if(u(m,"setRotation")){var Z=o(m,"setRotation.value",0),U=o(m,"setRotation.step",0);g.SetRotation(R,Z,U)}if(u(m,"setScale")){var j=o(m,"setScale.x",1),et=o(m,"setScale.y",j),it=o(m,"setScale.stepX",0),rt=o(m,"setScale.stepY",0);g.SetScale(R,j,et,it,rt)}if(u(m,"setOrigin")){var lt=o(m,"setOrigin.x",.5),ft=o(m,"setOrigin.y",lt),pt=o(m,"setOrigin.stepX",0),vt=o(m,"setOrigin.stepY",0);g.SetOrigin(R,lt,ft,pt,vt)}if(u(m,"setAlpha")){var xt=o(m,"setAlpha.value",1),yt=o(m,"setAlpha.step",0);g.SetAlpha(R,xt,yt)}if(u(m,"setDepth")){var Ct=o(m,"setDepth.value",0),wt=o(m,"setDepth.step",0);g.SetDepth(R,Ct,wt)}if(u(m,"setScrollFactor")){var Lt=o(m,"setScrollFactor.x",1),bt=o(m,"setScrollFactor.y",Lt),St=o(m,"setScrollFactor.stepX",0),Et=o(m,"setScrollFactor.stepY",0);g.SetScrollFactor(R,Lt,bt,St,Et)}var Mt=r(m,"hitArea",null),Vt=r(m,"hitAreaCallback",null);Mt&&g.SetHitArea(R,Mt,Vt);var Kt=r(m,"gridAlign",!1);return Kt&&g.GridAlign(R,Kt),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(m,T){if(!(!this.runChildUpdate||this.children.size===0))for(var E=this.children.entries.slice(),P=0;P<E.length;P++){var w=E[P];w.active&&w.update(m,T)}},add:function(m,T){return T===void 0&&(T=!1),this.isFull()?this:(this.children.set(m),this.internalCreateCallback&&this.internalCreateCallback.call(this,m),this.createCallback&&this.createCallback.call(this,m),T&&(m.addToDisplayList(this.scene.sys.displayList),m.addToUpdateList()),m.on(f.DESTROY,this.remove,this),this)},addMultiple:function(m,T){if(T===void 0&&(T=!1),Array.isArray(m))for(var E=0;E<m.length;E++)this.add(m[E],T);return this},remove:function(m,T,E){return T===void 0&&(T=!1),E===void 0&&(E=!1),this.children.contains(m)?(this.children.delete(m),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,m),this.removeCallback&&this.removeCallback.call(this,m),m.off(f.DESTROY,this.remove,this),E?m.destroy():T&&(m.removeFromDisplayList(),m.removeFromUpdateList()),this):this},clear:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1);for(var E=this.children,P=0;P<E.size;P++){var w=E.entries[P];w.off(f.DESTROY,this.remove,this),T?w.destroy():m&&(w.removeFromDisplayList(),w.removeFromUpdateList())}return this.children.clear(),this},contains:function(m){return this.children.contains(m)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(m,T,E,P){return h(this.children.entries,m,T,E,P)},getFirst:function(m,T,E,P,w,R,b){return this.getHandler(!0,1,m,T,E,P,w,R,b)},getFirstNth:function(m,T,E,P,w,R,b,O){return this.getHandler(!0,m,T,E,P,w,R,b,O)},getLast:function(m,T,E,P,w,R,b){return this.getHandler(!1,1,m,T,E,P,w,R,b)},getLastNth:function(m,T,E,P,w,R,b,O){return this.getHandler(!1,m,T,E,P,w,R,b,O)},getHandler:function(m,T,E,P,w,R,b,O,I){E===void 0&&(E=!1),P===void 0&&(P=!1);var D,B,k=0,z=this.children.entries;if(m)for(B=0;B<z.length;B++)if(D=z[B],D.active===E){if(k++,k===T)break}else D=null;else for(B=z.length-1;B>=0;B--)if(D=z[B],D.active===E){if(k++,k===T)break}else D=null;return D?(typeof w=="number"&&(D.x=w),typeof R=="number"&&(D.y=R),D):P?this.create(w,R,b,O,I):null},get:function(m,T,E,P,w){return this.getFirst(!1,!0,m,T,E,P,w)},getFirstAlive:function(m,T,E,P,w,R){return this.getFirst(!0,m,T,E,P,w,R)},getFirstDead:function(m,T,E,P,w,R){return this.getFirst(!1,m,T,E,P,w,R)},playAnimation:function(m,T){return g.PlayAnimation(this.children.entries,m,T),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(m){m===void 0&&(m=!0);for(var T=0,E=0;E<this.children.size;E++)this.children.entries[E].active===m&&T++;return T},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var m=this.getTotalUsed(),T=this.maxSize===-1?999999999999:this.maxSize;return T-m},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},propertyValueSet:function(m,T,E,P,w){return g.PropertyValueSet(this.children.entries,m,T,E,P,w),this},propertyValueInc:function(m,T,E,P,w){return g.PropertyValueInc(this.children.entries,m,T,E,P,w),this},setX:function(m,T){return g.SetX(this.children.entries,m,T),this},setY:function(m,T){return g.SetY(this.children.entries,m,T),this},setXY:function(m,T,E,P){return g.SetXY(this.children.entries,m,T,E,P),this},incX:function(m,T){return g.IncX(this.children.entries,m,T),this},incY:function(m,T){return g.IncY(this.children.entries,m,T),this},incXY:function(m,T,E,P){return g.IncXY(this.children.entries,m,T,E,P),this},shiftPosition:function(m,T,E){return g.ShiftPosition(this.children.entries,m,T,E),this},angle:function(m,T){return g.Angle(this.children.entries,m,T),this},rotate:function(m,T){return g.Rotate(this.children.entries,m,T),this},rotateAround:function(m,T){return g.RotateAround(this.children.entries,m,T),this},rotateAroundDistance:function(m,T,E){return g.RotateAroundDistance(this.children.entries,m,T,E),this},setAlpha:function(m,T){return g.SetAlpha(this.children.entries,m,T),this},setTint:function(m,T,E,P){return g.SetTint(this.children.entries,m,T,E,P),this},setOrigin:function(m,T,E,P){return g.SetOrigin(this.children.entries,m,T,E,P),this},scaleX:function(m,T){return g.ScaleX(this.children.entries,m,T),this},scaleY:function(m,T){return g.ScaleY(this.children.entries,m,T),this},scaleXY:function(m,T,E,P){return g.ScaleXY(this.children.entries,m,T,E,P),this},setDepth:function(m,T){return g.SetDepth(this.children.entries,m,T),this},setBlendMode:function(m){return g.SetBlendMode(this.children.entries,m),this},setHitArea:function(m,T){return g.SetHitArea(this.children.entries,m,T),this},shuffle:function(){return g.Shuffle(this.children.entries),this},kill:function(m){this.children.contains(m)&&m.setActive(!1)},killAndHide:function(m){this.children.contains(m)&&(m.setActive(!1),m.setVisible(!1))},setVisible:function(m,T,E){return g.SetVisible(this.children.entries,m,T,E),this},toggleVisible:function(){return g.ToggleVisible(this.children.entries),this},destroy:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(f.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(T,m),this.scene=void 0,this.children=void 0)}});C.exports=v},94975:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(44603),y=s(26479);g.register("group",function(f){return new y(this.scene,null,f)})},3385:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26479),y=s(39429);y.register("group",function(f,l){return this.updateList.add(new g(this.scene,f,l))})},88571:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(59819),h=new g({Extends:f,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.TextureCrop,y.Tint,y.Transform,y.Visible,l],initialize:function(o,u,a,d,c){f.call(this,o,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,c),this.setPosition(u,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});C.exports=h},40652:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g),s.batchSprite(g,g.frame,y,f)};C.exports=A},82459:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(88571);y.register("image",function(h,r){h===void 0&&(h={});var o=f(h,"key",null),u=f(h,"frame",null),a=new l(this.scene,0,0,o,u);return r!==void 0&&(h.add=r),g(this.scene,a,h),a})},2117:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(88571),y=s(39429);y.register("image",function(f,l,h,r){return this.displayList.add(new g(this.scene,f,l,h,r))})},59819:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(99517),f=s(40652),C.exports={renderWebGL:y,renderCanvas:f}},99517:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g),this.pipeline.batchSprite(g,y,f)};C.exports=A},77856:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={Events:s(51708),DisplayList:s(8050),GameObjectCreator:s(44603),GameObjectFactory:s(39429),UpdateList:s(45027),Components:s(31401),GetCalcMatrix:s(91296),BuildGameObject:s(25305),BuildGameObjectAnimation:s(13059),GameObject:s(95643),BitmapText:s(22186),Blitter:s(6107),Bob:s(46590),Container:s(31559),DOMElement:s(3069),DynamicBitmapText:s(2638),Extern:s(42421),Graphics:s(43831),Group:s(26479),Image:s(88571),Layer:s(93595),Particles:s(18404),PathFollower:s(1159),RenderTexture:s(591),RetroFont:s(196),Rope:s(77757),Sprite:s(68287),Text:s(50171),GetTextSize:s(14220),MeasureText:s(79557),TextStyle:s(35762),TileSprite:s(20839),Zone:s(41481),Video:s(18471),Shape:s(17803),Arc:s(23629),Curve:s(89),Ellipse:s(19921),Grid:s(30479),IsoBox:s(61475),IsoTriangle:s(16933),Line:s(57847),Polygon:s(24949),Rectangle:s(74561),Star:s(55911),Triangle:s(36931),Factories:{Blitter:s(12709),Container:s(24961),DOMElement:s(2611),DynamicBitmapText:s(72566),Extern:s(56315),Graphics:s(1201),Group:s(3385),Image:s(2117),Layer:s(20005),Particles:s(676),PathFollower:s(90145),RenderTexture:s(60505),Rope:s(96819),Sprite:s(46409),StaticBitmapText:s(34914),Text:s(68005),TileSprite:s(91681),Zone:s(84175),Video:s(89025),Arc:s(42563),Curve:s(40511),Ellipse:s(1543),Grid:s(34137),IsoBox:s(3933),IsoTriangle:s(49803),Line:s(2481),Polygon:s(64827),Rectangle:s(87959),Star:s(93697),Triangle:s(45245)},Creators:{Blitter:s(9403),Container:s(77143),DynamicBitmapText:s(11164),Graphics:s(87079),Group:s(94975),Image:s(82459),Layer:s(25179),Particles:s(92730),RenderTexture:s(34495),Rope:s(26209),Sprite:s(15567),StaticBitmapText:s(57336),Text:s(71259),TileSprite:s(14167),Zone:s(95261),Video:s(11511)}};g.Shader=s(20071),g.Mesh=s(4703),g.NineSlice=s(28103),g.PointLight=s(80321),g.Plane=s(33663),g.Factories.Shader=s(74177),g.Factories.Mesh=s(9225),g.Factories.NineSlice=s(47521),g.Factories.PointLight=s(71255),g.Factories.Plane=s(30985),g.Creators.Shader=s(54935),g.Creators.Mesh=s(20527),g.Creators.NineSlice=s(28279),g.Creators.PointLight=s(39829),g.Creators.Plane=s(56015),g.Light=s(41432),g.LightsManager=s(61356),g.LightsPlugin=s(88992),C.exports=g},93595:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(83419),f=s(31401),l=s(53774),h=s(45893),r=s(50792),o=s(51708),u=s(73162),a=s(33963),d=s(44594),c=s(19186),p=new y({Extends:u,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.PostPipeline,f.Visible,r,a],initialize:function(m,T){u.call(this,m),r.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(g.SKIP_CHECK),T&&this.add(T),m.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(v,m){return this.data||(this.data=new h(this)),this.data.set(v,m),this},incData:function(v,m){return this.data||(this.data=new h(this)),this.data.inc(v,m),this},toggleData:function(v){return this.data||(this.data=new h(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new h(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return l(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,m=this.parentContainer,T=[];m&&(T.unshift(m.getIndex(v)),v=m,m.parentContainer);)m=m.parentContainer;return T.unshift(this.displayList.getIndex(v)),T},addChildCallback:function(v){var m=v.displayList;m&&m!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(o.ADDED_TO_SCENE,v,this.scene),this.events.emit(d.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(o.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(d.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(c(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,m){return v._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),v.events.emit(d.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(d.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(o.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});C.exports=p},2956:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=g.list;if(f.length!==0){g.depthSort();var l=g.blendMode!==-1;l||s.setBlendMode(0);var h=g._alpha;g.mask&&g.mask.preRenderCanvas(s,null,y);for(var r=0;r<f.length;r++){var o=f[r];if(o.willRender(y)){var u=o.alpha;!l&&o.blendMode!==s.currentBlendMode&&s.setBlendMode(o.blendMode),o.setAlpha(u*h),o.renderCanvas(s,o,y),o.setAlpha(u)}}g.mask&&g.mask.postRenderCanvas(s)}};C.exports=A},25179:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(93595),f=s(44603),l=s(23568);f.register("layer",function(h,r){h===void 0&&(h={});var o=l(h,"children",null),u=new y(this.scene,o);return r!==void 0&&(h.add=r),g(this.scene,u,h),u})},20005:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(93595),y=s(39429);y.register("layer",function(f){return this.displayList.add(new g(this.scene,f))})},33963:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(15869),f=s(2956),C.exports={renderWebGL:y,renderCanvas:f}},15869:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=g.list,l=f.length;if(l!==0){g.depthSort(),s.pipelines.preBatch(g);var h=g.blendMode!==-1;h||s.setBlendMode(0);for(var r=g.alpha,o=0;o<l;o++){var u=f[o];if(u.willRender(y)){var a,d,c,p;if(u.alphaTopLeft!==void 0)a=u.alphaTopLeft,d=u.alphaTopRight,c=u.alphaBottomLeft,p=u.alphaBottomRight;else{var v=u.alpha;a=v,d=v,c=v,p=v}!h&&u.blendMode!==s.currentBlendMode&&s.setBlendMode(u.blendMode);var m=u.mask;m&&m.preRenderWebGL(s,u,y);var T=u.type;T!==s.currentType&&(s.newType=!0,s.currentType=T),s.nextTypeMatch=o<l-1?f[o+1].type===s.currentType:!1,u.setAlpha(a*r,d*r,c*r,p*r),u.renderWebGL(s,u,y),u.setAlpha(a,d,c,p),m&&m.postRenderWebGL(s,y),s.newType=!1}}s.pipelines.postBatch(g)}};C.exports=A},41432:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(96503),y=s(83419),f=s(31401),l=s(51767),h=s(70554),r=new y({Extends:g,Mixins:[f.Origin,f.ScrollFactor,f.Visible],initialize:function(u,a,d,c,p,v,m){g.call(this,u,a,d),this.color=new l(c,p,v),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(d)},displayWidth:{get:function(){return this.diameter},set:function(o){this.diameter=o}},displayHeight:{get:function(){return this.diameter},set:function(o){this.diameter=o}},width:{get:function(){return this.diameter},set:function(o){this.diameter=o}},height:{get:function(){return this.diameter},set:function(o){this.diameter=o}},willRender:function(o){return!(r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},setColor:function(o){var u=h.getFloatsFromUintRGB(o);return this.color.set(u[0],u[1],u[2]),this},setIntensity:function(o){return this.intensity=o,this},setRadius:function(o){return this.radius=o,this}});r.RENDER_MASK=15,C.exports=r},61356:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(81491),y=s(83419),f=s(20339),l=s(41432),h=s(80321),r=s(51767),o=s(19133),u=s(19186),a=s(70554),d=new y({initialize:function(){this.lights=[],this.ambientColor=new r(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(c,p,v,m,T,E){return this.systems.displayList.add(new h(this.scene,c,p,v,m,T,E))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(c){for(var p=this.lights,v=c.worldView,m=[],T=0;T<p.length;T++){var E=p[T];E.willRender(c)&&g(E,v)&&m.push({light:E,distance:f(E.x,E.y,v.centerX,v.centerY)})}return m.length>this.maxLights&&(u(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(c,p){return c.distance>=p.distance},setAmbientColor:function(c){var p=a.getFloatsFromUintRGB(c);return this.ambientColor.set(p[0],p[1],p[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(c,p,v,m,T){c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=128),m===void 0&&(m=16777215),T===void 0&&(T=1);var E=a.getFloatsFromUintRGB(m),P=new l(c,p,v,E[0],E[1],E[2],T);return this.lights.push(P),P},removeLight:function(c){var p=this.lights.indexOf(c);return p>=0&&o(this.lights,p),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});C.exports=d},88992:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(61356),f=s(37277),l=s(44594),h=new g({Extends:y,initialize:function(o){this.scene=o,this.systems=o.sys,o.sys.settings.isBooted||o.sys.events.once(l.BOOT,this.boot,this),y.call(this)},boot:function(){var r=this.systems.events;r.on(l.SHUTDOWN,this.shutdown,this),r.on(l.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",h,"lights"),C.exports=h},4703:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(39506),l=s(83997),h=s(95643),r=s(34684),o=s(92515),u=s(91296),a=s(37867),d=s(29807),c=s(43396),p=s(19186),v=s(25836),m=s(39318),T=new g({Extends:h,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.Texture,y.Transform,y.Visible,d],initialize:function(P,w,R,b,O,I,D,B,k,z,X,K){w===void 0&&(w=0),R===void 0&&(R=0),b===void 0&&(b="__WHITE"),h.call(this,P,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new a,this.viewPosition=new v,this.viewMatrix=new a,this.projectionMatrix=new a,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var H=P.sys.renderer;this.setPosition(w,R),this.setTexture(b,O),this.setSize(H.width,H.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(H.width,H.height),I&&this.addVertices(I,D,B,k,z,X,K)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(E){return this.viewPosition.addScale(v.LEFT,E),this.dirtyCache[10]=1,this},panY:function(E){return this.viewPosition.y+=v.DOWN.y*E,this.dirtyCache[10]=1,this},panZ:function(E){return this.viewPosition.z+=E,this.dirtyCache[10]=1,this},setPerspective:function(E,P,w,R,b){return w===void 0&&(w=45),R===void 0&&(R=.01),b===void 0&&(b=1e3),this.fov=w,this.projectionMatrix.perspective(f(w),E/P,R,b),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(E,P,w,R){return E===void 0&&(E=this.scene.sys.renderer.getAspectRatio()),P===void 0&&(P=1),w===void 0&&(w=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-E,E,-P,P,w,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(E){E.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(E,P,w,R,b,O,I,D,B){var k=this.scene.sys.cache.obj.get(E),z;return k&&(z=r(k,this,P,w,R,b,O,I,D,B)),(!z||z.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",E),this},sortByDepth:function(E,P){return E.depth-P.depth},depthSort:function(){return p(this.faces,this.sortByDepth),this},addVertex:function(E,P,w,R,b,O,I){var D=new m(E,P,w,R,b,O,I);return this.vertices.push(D),D},addFace:function(E,P,w){var R=new l(E,P,w);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(E,P,w,R,b,O,I){var D=o(E,P,w,R,b,O,I);return D?(this.faces=this.faces.concat(D.faces),this.vertices=this.vertices.concat(D.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(E){return this.faces[E]},hasFaceAt:function(E,P,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=u(this,w).calc,b=this.faces,O=0;O<b.length;O++){var I=b[O];if(I.contains(E,P,R))return!0}return!1},getFaceAt:function(E,P,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=u(this,w).calc,b=this.faces,O=[],I=0;I<b.length;I++){var D=b[I];D.contains(E,P,R)&&O.push(D)}return p(O,this.sortByDepth)},setDebug:function(E,P){return this.debugGraphic=E,!E&&!P?this.debugCallback=null:P?this.debugCallback=P:this.debugCallback=this.renderDebug,this},isDirty:function(){var E=this.modelPosition,P=this.modelRotation,w=this.modelScale,R=this.dirtyCache,b=E.x,O=E.y,I=E.z,D=P.x,B=P.y,k=P.z,z=w.x,X=w.y,K=w.z,H=this.getFaceCount(),Q=R[0],W=R[1],Y=R[2],N=R[3],Z=R[4],U=R[5],j=R[6],et=R[7],it=R[8],rt=R[9];return R[0]=b,R[1]=O,R[2]=I,R[3]=D,R[4]=B,R[5]=k,R[6]=z,R[7]=X,R[8]=K,R[9]=H,Q!==b||W!==O||Y!==I||N!==D||Z!==B||U!==k||j!==z||et!==X||it!==K||rt!==H},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var E=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!E[10]&&!this.isDirty())){var P=this.width,w=this.height,R=this.viewMatrix,b=this.viewPosition;E[10]&&(R.identity(),R.translate(b),R.invert(),E[10]=0);var O=this.transformMatrix;O.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var I=b.z,D=this.faces,B=0;B<D.length;B++)D[B].transformCoordinatesLocal(O,P,w,I);this.depthSort()}},renderDebug:function(E,P){for(var w=E.debugGraphic,R=0;R<P.length;R++){var b=P[R],O=b.vertex1.tx,I=b.vertex1.ty,D=b.vertex2.tx,B=b.vertex2.ty,k=b.vertex3.tx,z=b.vertex3.ty;w.strokeTriangle(O,I,D,B,k,z)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(E){E===void 0&&(E={});var P=(function(w,R,b){for(var O=this.faces,I=0;I<O.length;I++){var D=O[I];if(D.contains(R,b))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,E,P),this},setTint:function(E){E===void 0&&(E=16777215);for(var P=this.vertices,w=0;w<P.length;w++)P[w].color=E;return this},uvScroll:function(E,P){for(var w=this.faces,R=0;R<w.length;R++)w[R].scrollUV(E,P);return this},uvScale:function(E,P){for(var w=this.faces,R=0;R<w.length;R++)w[R].scaleUV(E,P);return this},tint:{set:function(E){this.setTint(E)}},rotateX:{get:function(){return c(this.modelRotation.x)},set:function(E){this.modelRotation.x=f(E)}},rotateY:{get:function(){return c(this.modelRotation.y)},set:function(E){this.modelRotation.y=f(E)}},rotateZ:{get:function(){return c(this.modelRotation.z)},set:function(E){this.modelRotation.z=f(E)}}});C.exports=T},36488:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){};C.exports=A},20527:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(35154),h=s(4703);y.register("mesh",function(r,o){r===void 0&&(r={});var u=f(r,"key",null),a=f(r,"frame",null),d=l(r,"vertices",[]),c=l(r,"uvs",[]),p=l(r,"indicies",[]),v=l(r,"containsZ",!1),m=l(r,"normals",[]),T=l(r,"colors",16777215),E=l(r,"alphas",1),P=new h(this.scene,0,0,u,a,d,c,p,v,m,T,E);return o!==void 0&&(r.add=o),g(this.scene,P,r),P})},9225:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(4703),y=s(39429);y.register("mesh",function(f,l,h,r,o,u,a,d,c,p,v){return this.displayList.add(new g(this.scene,f,l,h,r,o,u,a,d,c,p,v))})},29807:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(48833),f=s(36488),C.exports={renderWebGL:y,renderCanvas:f}},48833:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=function(f,l,h,r){var o=l.faces,u=o.length;if(u!==0){h.addToRenderList(l);var a=f.pipelines.set(l.pipeline,l),d=g(l,h,r).calc;f.pipelines.preBatch(l);for(var c=a.setGameObject(l),p=a.vertexViewF32,v=a.vertexViewU32,m=a.vertexCount*a.currentShader.vertexComponentCount-1,T=l.tintFill,E=[],P=l.debugCallback,w=d.a,R=d.b,b=d.c,O=d.d,I=d.e,D=d.f,B=l.viewPosition.z,k=l.hideCCW,z=h.roundPixels,X=h.alpha*l.alpha,K=0,H=0;H<u;H++){var Q=o[H];Q.isInView(h,k,B,X,w,R,b,O,I,D,z)&&(a.shouldFlush(3)&&(a.flush(),c=a.setGameObject(l),m=a.vertexCount*a.currentShader.vertexComponentCount-1),m=Q.load(p,v,m,c,T),K++,a.vertexCount+=3,a.currentBatch.count=a.vertexCount-a.currentBatch.start,P&&E.push(Q))}l.totalFrame+=K,P&&P.call(l,l,E),f.pipelines.postBatch(l)}};C.exports=y},28103:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(78023),h=s(39318),r=new g({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,l],initialize:function(u,a,d,c,p,v,m,T,E,P,w){f.call(this,u,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var R=u.textures.getFrame(c,p);this.is3Slice=!P&&!w,R&&R.scale9&&(this.is3Slice=R.is3Slice);for(var b=this.is3Slice?18:54,O=0;O<b;O++)this.vertices.push(new h);this.setPosition(a,d),this.setTexture(c,p),this.setSlices(v,m,T,E,P,w,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(o,u,a,d,c,p,v){a===void 0&&(a=10),d===void 0&&(d=10),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=!1);var m=this.frame,T=!1;if(this.is3Slice&&v&&c!==0&&p!==0&&(T=!0),T)console.warn("Cannot change 9 slice to 3 slice");else{if(m&&m.scale9&&!v){var E=m.data.scale9Borders,P=E.x,w=E.y;a=P,d=m.width-E.w-P,c=w,p=m.height-E.h-w,o===void 0&&(o=m.width),u===void 0&&(u=m.height)}else o===void 0&&(o=256),u===void 0&&(u=256);this._width=o,this._height=u,this.leftWidth=a,this.rightWidth=d,this.topHeight=c,this.bottomHeight=p,this.is3Slice&&(u=m.height,this._height=u,this.topHeight=u,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var o=this.leftWidth,u=this.rightWidth,a=this.topHeight,d=this.bottomHeight,c=this.frame.width,p=this.frame.height;this.updateQuadUVs(0,0,0,o/c,a/p),this.updateQuadUVs(6,o/c,0,1-u/c,a/p),this.updateQuadUVs(12,1-u/c,0,1,a/p),this.is3Slice||(this.updateQuadUVs(18,0,a/p,o/c,1-d/p),this.updateQuadUVs(24,o/c,a/p,1-u/c,1-d/p),this.updateQuadUVs(30,1-u/c,a/p,1,1-d/p),this.updateQuadUVs(36,0,1-d/p,o/c,1),this.updateQuadUVs(42,o/c,1-d/p,1-u/c,1),this.updateQuadUVs(48,1-u/c,1-d/p,1,1))},updateVertices:function(){var o=this.leftWidth,u=this.rightWidth,a=this.topHeight,d=this.bottomHeight,c=this.width,p=this.height;this.updateQuad(0,-.5,.5,-.5+o/c,.5-a/p),this.updateQuad(6,-.5+o/c,.5,.5-u/c,.5-a/p),this.updateQuad(12,.5-u/c,.5,.5,.5-a/p),this.is3Slice||(this.updateQuad(18,-.5,.5-a/p,-.5+o/c,-.5+d/p),this.updateQuad(24,-.5+o/c,.5-a/p,.5-u/c,-.5+d/p),this.updateQuad(30,.5-u/c,.5-a/p,.5,-.5+d/p),this.updateQuad(36,-.5,-.5+d/p,-.5+o/c,-.5),this.updateQuad(42,-.5+o/c,-.5+d/p,.5-u/c,-.5),this.updateQuad(48,.5-u/c,-.5+d/p,.5,-.5))},updateQuad:function(o,u,a,d,c){var p=this.width,v=this.height,m=this.originX,T=this.originY,E=this.vertices;E[o+0].resize(u,a,p,v,m,T),E[o+1].resize(u,c,p,v,m,T),E[o+2].resize(d,a,p,v,m,T),E[o+3].resize(u,c,p,v,m,T),E[o+4].resize(d,c,p,v,m,T),E[o+5].resize(d,a,p,v,m,T)},updateQuadUVs:function(o,u,a,d,c){var p=this.vertices,v=this.frame,m=v.u0,T=v.v0,E=v.u1,P=v.v1;if(m!==0||E!==1){var w=E-m;u=m+u*w,d=m+d*w}if(T!==0||P!==1){var R=P-T;a=T+a*R,c=T+c*R}p[o+0].setUVs(u,a),p[o+1].setUVs(u,c),p[o+2].setUVs(d,a),p[o+3].setUVs(u,c),p[o+4].setUVs(d,c),p[o+5].setUVs(d,a)},clearTint:function(){return this.setTint(16777215),this},setTint:function(o){return o===void 0&&(o=16777215),this.tint=o,this.tintFill=!1,this},setTintFill:function(o){return this.setTint(o),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(o){this._width=Math.max(o,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(o){this.is3Slice||(this._height=Math.max(o,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,u){this.width=o,this.height=u,this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setDisplaySize:function(o,u){return this.displayWidth=o,this.displayHeight=u,this},originX:{get:function(){return this._originX},set:function(o){this._originX=o,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(o){this._originY=o,this.updateVertices()}},setOrigin:function(o,u){return o===void 0&&(o=.5),u===void 0&&(u=o),this._originX=o,this._originY=u,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var o=this.frame.height;this._height=o,this.topHeight=o,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});C.exports=r},28279:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(35154),h=s(28103);y.register("nineslice",function(r,o){r===void 0&&(r={});var u=f(r,"key",null),a=f(r,"frame",null),d=l(r,"width",256),c=l(r,"height",256),p=l(r,"leftWidth",10),v=l(r,"rightWidth",10),m=l(r,"topHeight",0),T=l(r,"bottomHeight",0),E=new h(this.scene,0,0,u,a,d,c,p,v,m,T);return o!==void 0&&(r.add=o),g(this.scene,E,r),E})},47521:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(28103),y=s(39429);y.register("nineslice",function(f,l,h,r,o,u,a,d,c,p){return this.displayList.add(new g(this.scene,f,l,h,r,o,u,a,d,c,p))})},78023:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(52230),C.exports={renderWebGL:y,renderCanvas:f}},52230:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,h,r,o){var u=h.vertices,a=u.length;if(a!==0){r.addToRenderList(h);var d=l.pipelines.set(h.pipeline,h),c=g(h,r,o,!1).calc;l.pipelines.preBatch(h);var p=d.setGameObject(h),v=d.vertexViewF32,m=d.vertexViewU32,T=d.vertexCount*d.currentShader.vertexComponentCount-1,E=r.roundPixels,P=h.tintFill,w=r.alpha*h.alpha,R=y.getTintAppendFloatAlpha(h.tint,w),b=d.vertexAvailable(),O=-1;b<a&&(O=b);for(var I=0;I<a;I++){var D=u[I];I===O&&(d.flush(),p=d.setGameObject(h),T=0),v[++T]=c.getXRound(D.vx,D.vy,E),v[++T]=c.getYRound(D.vx,D.vy,E),v[++T]=D.u,v[++T]=D.v,v[++T]=p,v[++T]=P,m[++T]=R,d.vertexCount++,d.currentBatch.count=d.vertexCount-d.currentBatch.start}l.pipelines.postBatch(h)}};C.exports=f},76472:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(44777),f=s(37589),l=s(6113),h=s(91389),r=s(90664),o=new g({Extends:y,initialize:function(a){y.call(this,a,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var u=this.propertyValue,a=u,d=this.defaultEmit,c=this.defaultUpdate;if(this.method===9){this.start=u[0],this.ease=l("Linear"),this.interpolation=h("linear"),d=this.easedValueEmit,c=this.easeValueUpdate,a=u[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var p=0;p<u.length;p++){var v=r(u[p]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=d,this.onUpdate=c,this.current=a,this},setEase:function(u){this.easeName=u,this.ease=l(u)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(u,a,d){var c=this.ease(d),p=this.interpolation(this.r,c),v=this.interpolation(this.g,c),m=this.interpolation(this.b,c),T=f(p,v,m);return this.current=T,T}});C.exports=o},44777:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30976),y=s(45319),f=s(83419),l=s(99472),h=s(6113),r=s(95540),o=s(91389),u=s(77720),a=s(15994),d=new f({initialize:function(p,v,m){m===void 0&&(m=!1),this.propertyKey=p,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=m,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(c,p){c===void 0&&(c={}),p&&(this.propertyKey=p),this.propertyValue=r(c,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(c){var p;switch(this.method){case 1:case 3:case 8:p=c;break;case 2:this.propertyValue.indexOf(c)>=0&&(p=c);break;case 4:var v=(this.end-this.start)/this.steps;p=u(c,v),this.counter=p;break;case 5:case 6:case 7:p=y(c,this.start,this.end);break;case 9:p=this.start[0];break}return this.current=p,this},getMethod:function(){var c=this.propertyValue;if(c===null)return 0;var p=typeof c;if(p==="number")return 1;if(Array.isArray(c))return 2;if(p==="function")return 3;if(p==="object"){if(this.hasBoth(c,"start","end"))return this.has(c,"steps")?4:5;if(this.hasBoth(c,"min","max"))return 6;if(this.has(c,"random"))return 7;if(this.hasEither(c,"onEmit","onUpdate"))return 8;if(this.hasEither(c,"values","interpolation"))return 9}return 0},setMethods:function(){var c=this.propertyValue,p=c,v=this.defaultEmit,m=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,p=c[0];break;case 3:this._onEmit=c,v=this.proxyEmit,p=this.defaultValue;break;case 4:this.start=c.start,this.end=c.end,this.steps=c.steps,this.counter=this.start,this.yoyo=this.has(c,"yoyo")?c.yoyo:!1,this.direction=0,v=this.steppedEmit,p=this.start;break;case 5:this.start=c.start,this.end=c.end;var T=this.has(c,"ease")?c.ease:"Linear";this.ease=h(T,c.easeParams),v=this.has(c,"random")&&c.random?this.randomRangedValueEmit:this.easedValueEmit,m=this.easeValueUpdate,p=this.start;break;case 6:this.start=c.min,this.end=c.max,v=this.has(c,"int")&&c.int?this.randomRangedIntEmit:this.randomRangedValueEmit,p=this.start;break;case 7:var E=c.random;Array.isArray(E)&&(this.start=E[0],this.end=E[1]),v=this.randomRangedIntEmit,p=this.start;break;case 8:this._onEmit=this.has(c,"onEmit")?c.onEmit:this.defaultEmit,this._onUpdate=this.has(c,"onUpdate")?c.onUpdate:this.defaultUpdate,v=this.proxyEmit,m=this.proxyUpdate,p=this.defaultValue;break;case 9:this.start=c.values;var P=this.has(c,"ease")?c.ease:"Linear";this.ease=h(P,c.easeParams),this.interpolation=o(c.interpolation),v=this.easedValueEmit,m=this.easeValueUpdate,p=this.start[0];break}return this.onEmit=v,this.onUpdate=m,this.current=p,this},has:function(c,p){return c.hasOwnProperty(p)},hasBoth:function(c,p,v){return c.hasOwnProperty(p)&&c.hasOwnProperty(v)},hasEither:function(c,p,v){return c.hasOwnProperty(p)||c.hasOwnProperty(v)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(c,p,v,m){return m},proxyEmit:function(c,p,v){var m=this._onEmit(c,p,v);return this.current=m,m},proxyUpdate:function(c,p,v,m){var T=this._onUpdate(c,p,v,m);return this.current=T,T},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var c=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[c],this.current},randomRangedValueEmit:function(c,p){var v=l(this.start,this.end);return c&&c.data[p]&&(c.data[p].min=v,c.data[p].max=this.end),this.current=v,v},randomRangedIntEmit:function(c,p){var v=g(this.start,this.end);return c&&c.data[p]&&(c.data[p].min=v,c.data[p].max=this.end),this.current=v,v},steppedEmit:function(){var c=this.counter,p=c,v=(this.end-this.start)/this.steps;if(this.yoyo){var m;this.direction===0?(p+=v,p>=this.end&&(m=p-this.end,p=this.end-m,this.direction=1)):(p-=v,p<=this.start&&(m=this.start-p,p=this.start+m,this.direction=0)),this.counter=p}else this.counter=a(p+v,this.start,this.end);return this.current=c,c},easedValueEmit:function(c,p){if(c&&c.data[p]){var v=c.data[p];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(c,p,v){var m=c.data[p],T,E=this.ease(v);return this.interpolation?T=this.interpolation(this.start,E):T=(m.max-m.min)*E+m.min,this.current=T,T},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});C.exports=d},24502:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(20286),l=new g({Extends:f,initialize:function(r,o,u,a,d){if(typeof r=="object"){var c=r;r=y(c,"x",0),o=y(c,"y",0),u=y(c,"power",0),a=y(c,"epsilon",100),d=y(c,"gravity",50)}else r===void 0&&(r=0),o===void 0&&(o=0),u===void 0&&(u=0),a===void 0&&(a=100),d===void 0&&(d=50);f.call(this,r,o,!0),this._gravity=d,this._power=u*d,this._epsilon=a*a},update:function(h,r){var o=this.x-h.x,u=this.y-h.y,a=o*o+u*u;if(a!==0){var d=Math.sqrt(a);a<this._epsilon&&(a=this._epsilon);var c=this._power*r/(a*d)*100;h.velocityX+=o*c,h.velocityY+=u*c}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var r=this.power;this._gravity=h,this.power=r}}});C.exports=l},56480:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(9674),y=s(45319),f=s(83419),l=s(39506),h=s(87841),r=s(11520),o=s(26099),u=new f({initialize:function(d){this.emitter=d,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new o,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=d.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new g(this)),this.bounds=new h},emit:function(a,d,c,p,v,m){return this.emitter.emit(a,d,c,p,v,m)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(a,d){a===void 0&&(a=0),d===void 0&&(d=0),this.x=a,this.y=d},fire:function(a,d){var c=this.emitter,p=c.ops,v=c.getAnim();if(v?this.anims.play(v):(this.frame=c.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(c.getEmitZone(this),a===void 0?this.x+=p.x.onEmit(this,"x"):p.x.steps>0?this.x+=a+p.x.onEmit(this,"x"):this.x+=a,d===void 0?this.y+=p.y.onEmit(this,"y"):p.y.steps>0?this.y+=d+p.y.onEmit(this,"y"):this.y+=d,this.life=p.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=p.delay.onEmit(this,"delay"),this.holdCurrent=p.hold.onEmit(this,"hold"),this.scaleX=p.scaleX.onEmit(this,"scaleX"),this.scaleY=p.scaleY.active?p.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=p.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),c.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&c.getDeathZone(this))return this.lifeCurrent=0,!1;var m=p.speedX.onEmit(this,"speedX"),T=p.speedY.active?p.speedY.onEmit(this,"speedY"):m;if(c.radial){var E=l(p.angle.onEmit(this,"angle"));this.velocityX=Math.cos(E)*Math.abs(m),this.velocityY=Math.sin(E)*Math.abs(T)}else if(c.moveTo){var P=p.moveToX.onEmit(this,"moveToX"),w=p.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(P-this.x)/R,this.velocityY=(w-this.y)/R}else this.velocityX=m,this.velocityY=T;return c.acceleration&&(this.accelerationX=p.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=p.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=p.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=p.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=p.bounce.onEmit(this,"bounce"),this.alpha=p.alpha.onEmit(this,"alpha"),p.color.active?this.tint=p.color.onEmit(this,"tint"):this.tint=p.tint.onEmit(this,"tint"),!0},update:function(a,d,c){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=a,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=a,!1;this.anims&&this.anims.update(0,a);var p=this.emitter,v=p.ops,m=1-this.lifeCurrent/this.life;if(this.lifeT=m,this.x=v.x.onUpdate(this,"x",m,this.x),this.y=v.y.onUpdate(this,"y",m,this.y),p.moveTo){var T=v.moveToX.onUpdate(this,"moveToX",m,p.moveToX),E=v.moveToY.onUpdate(this,"moveToY",m,p.moveToY),P=this.lifeCurrent/1e3;this.velocityX=(T-this.x)/P,this.velocityY=(E-this.y)/P}return this.computeVelocity(p,a,d,c,m),this.scaleX=v.scaleX.onUpdate(this,"scaleX",m,this.scaleX),v.scaleY.active?this.scaleY=v.scaleY.onUpdate(this,"scaleY",m,this.scaleY):this.scaleY=this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",m,this.angle),this.rotation=l(this.angle),p.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=y(v.alpha.onUpdate(this,"alpha",m,this.alpha),0,1),v.color.active?this.tint=v.color.onUpdate(this,"color",m,this.tint):this.tint=v.tint.onUpdate(this,"tint",m,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(a,d,c,p,v){var m=a.ops,T=this.velocityX,E=this.velocityY,P=m.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),w=m.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),R=m.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),b=m.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=m.bounce.onUpdate(this,"bounce",v,this.bounce),T+=a.gravityX*c+P*c,E+=a.gravityY*c+w*c,T=y(T,-R,R),E=y(E,-b,b),this.velocityX=T,this.velocityY=E,this.x+=T*c,this.y+=E*c,a.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var O=0;O<p.length;O++){var I=p[O];I.active&&I.update(this,d,c,v)}},setSizeToFrame:function(){},getBounds:function(a){a===void 0&&(a=this.emitter.getWorldTransformMatrix());var d=Math.abs(a.scaleX)*this.scaleX,c=Math.abs(a.scaleY)*this.scaleY,p=this.x,v=this.y,m=this.rotation,T=this.frame.width*d/2,E=this.frame.height*c/2,P=this.bounds,w=new o(p-T,v-E),R=new o(p+T,v-E),b=new o(p-T,v+E),O=new o(p+T,v+E);return m!==0&&(r(w,p,v,m),r(R,p,v,m),r(b,p,v,m),r(O,p,v,m)),a.transformPoint(w.x,w.y,w),a.transformPoint(R.x,R.y,R),a.transformPoint(b.x,b.y,b),a.transformPoint(O.x,O.y,O),P.x=Math.min(w.x,R.x,b.x,O.x),P.y=Math.min(w.y,R.y,b.y,O.y),P.width=Math.max(w.x,R.x,b.x,O.x)-P.x,P.height=Math.max(w.y,R.y,b.y,O.y)-P.y,P},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});C.exports=u},69601:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(20286),f=s(87841),l=new g({Extends:y,initialize:function(r,o,u,a,d,c,p,v){d===void 0&&(d=!0),c===void 0&&(c=!0),p===void 0&&(p=!0),v===void 0&&(v=!0),y.call(this,r,o,!0),this.bounds=new f(r,o,u,a),this.collideLeft=d,this.collideRight=c,this.collideTop=p,this.collideBottom=v},update:function(h){var r=this.bounds,o=-h.bounce,u=h.worldPosition;u.x<r.x&&this.collideLeft?(h.x+=r.x-u.x,h.velocityX*=o):u.x>r.right&&this.collideRight&&(h.x-=u.x-r.right,h.velocityX*=o),u.y<r.y&&this.collideTop?(h.y+=r.y-u.y,h.velocityY*=o):u.y>r.bottom&&this.collideBottom&&(h.y-=u.y-r.bottom,h.velocityY*=o)}});C.exports=l},31600:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(53774),l=s(43459),h=s(26388),r=s(19909),o=s(76472),u=s(44777),a=s(20696),d=s(95643),c=s(95540),p=s(26546),v=s(24502),m=s(69036),T=s(1985),E=s(97022),P=s(86091),w=s(73162),R=s(20074),b=s(269),O=s(56480),I=s(69601),D=s(68875),B=s(87841),k=s(59996),z=s(72905),X=s(90668),K=s(19186),H=s(61340),Q=s(26099),W=s(15994),Y=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],N=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Z=new g({Extends:d,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,X],initialize:function(j,et,it,rt,lt){d.call(this,j,"ParticleEmitter"),this.particleClass=O,this.config=null,this.ops={accelerationX:new u("accelerationX",0),accelerationY:new u("accelerationY",0),alpha:new u("alpha",1),angle:new u("angle",{min:0,max:360},!0),bounce:new u("bounce",0),color:new o("color"),delay:new u("delay",0,!0),hold:new u("hold",0,!0),lifespan:new u("lifespan",1e3,!0),maxVelocityX:new u("maxVelocityX",1e4),maxVelocityY:new u("maxVelocityY",1e4),moveToX:new u("moveToX",0),moveToY:new u("moveToY",0),quantity:new u("quantity",1,!0),rotate:new u("rotate",0),scaleX:new u("scaleX",1),scaleY:new u("scaleY",1),speedX:new u("speedX",0,!0),speedY:new u("speedY",0,!0),tint:new u("tint",16777215),x:new u("x",0),y:new u("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new Q,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new H,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new w(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(et,it),this.setTexture(rt),lt&&this.setConfig(lt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(U){if(!U)return this;this.config=U;var j=0,et="",it=this.ops;for(j=0;j<N.length;j++)et=N[j],it[et].loadConfig(U);for(j=0;j<Y.length;j++)et=Y[j],E(U,et)&&(this[et]=c(U,et));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=m(U,["moveToX","moveToY"]),E(U,"speed")&&(it.speedX.loadConfig(U,"speed"),it.speedY.active=!1),(T(U,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),E(U,"scale")&&(it.scaleX.loadConfig(U,"scale"),it.scaleY.active=!1),E(U,"callbackScope")){var rt=c(U,"callbackScope",null);this.emitCallbackScope=rt,this.deathCallbackScope=rt}if(E(U,"emitZone")&&this.addEmitZone(U.emitZone),E(U,"deathZone")&&this.addDeathZone(U.deathZone),E(U,"bounds")){var lt=this.addParticleBounds(U.bounds);lt.collideLeft=c(U,"collideLeft",!0),lt.collideRight=c(U,"collideRight",!0),lt.collideTop=c(U,"collideTop",!0),lt.collideBottom=c(U,"collideBottom",!0)}return E(U,"followOffset")&&this.followOffset.setFromObject(c(U,"followOffset",0)),E(U,"texture")&&this.setTexture(U.texture),E(U,"frame")?this.setEmitterFrame(U.frame):E(U,"anim")&&this.setAnim(U.anim),E(U,"reserve")&&this.reserve(U.reserve),E(U,"advance")&&this.fastForward(U.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(a.START,this),this},updateConfig:function(U){return U&&(this.config?this.setConfig(b(this.config,U)):this.setConfig(U)),this},toJSON:function(){var U=f(this),j=0,et="";for(j=0;j<Y.length;j++)et=Y[j],U[et]=this[et];var it=this.ops;for(j=0;j<N.length;j++)et=N[j],it[et]&&(U[et]=it[et].toJSON());return it.speedY.active||(delete U.speedX,U.speed=it.speedX.toJSON()),this.scaleX===this.scaleY&&(delete U.scaleX,delete U.scaleY,U.scale=it.scaleX.toJSON()),U},resetCounters:function(U,j){var et=this.counters;et.fill(0),et[0]=U,j&&(et[5]=1)},startFollow:function(U,j,et,it){return j===void 0&&(j=0),et===void 0&&(et=0),it===void 0&&(it=!1),this.follow=U,this.followOffset.set(j,et),this.trackVisible=it,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var U=this.frames,j=U.length,et;return j===1?et=U[0]:this.randomFrame?et=p(U):(et=U[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===j&&(this.currentFrame=0))),this.texture.get(et)},setEmitterFrame:function(U,j,et){j===void 0&&(j=!0),et===void 0&&(et=1),this.randomFrame=j,this.frameQuantity=et,this.currentFrame=0;var it=typeof U;if(this.frames.length=0,Array.isArray(U))this.frames=this.frames.concat(U);else if(it==="string"||it==="number")this.frames.push(U);else if(it==="object"){var rt=U;U=c(rt,"frames",null),U&&(this.frames=this.frames.concat(U));var lt=c(rt,"cycle",!1);this.randomFrame=!lt,this.frameQuantity=c(rt,"quantity",et)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var U=this.anims,j=U.length;if(j===0)return null;if(j===1)return U[0];if(this.randomAnim)return p(U);var et=U[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=W(this.currentAnim+1,0,j)),et},setAnim:function(U,j,et){j===void 0&&(j=!0),et===void 0&&(et=1),this.randomAnim=j,this.animQuantity=et,this.currentAnim=0;var it=typeof U;if(this.anims.length=0,Array.isArray(U))this.anims=this.anims.concat(U);else if(it==="string")this.anims.push(U);else if(it==="object"){var rt=U;U=c(rt,"anims",null),U&&(this.anims=this.anims.concat(U));var lt=c(rt,"cycle",!1);this.randomAnim=!lt,this.animQuantity=c(rt,"quantity",et)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(U){return U===void 0&&(U=!0),this.radial=U,this},addParticleBounds:function(U,j,et,it,rt,lt,ft,pt){if(typeof U=="object"){var vt=U;U=vt.x,j=vt.y,et=E(vt,"w")?vt.w:vt.width,it=E(vt,"h")?vt.h:vt.height}return this.addParticleProcessor(new I(U,j,et,it,rt,lt,ft,pt))},setParticleSpeed:function(U,j){return j===void 0&&(j=U),this.ops.speedX.onChange(U),U===j?this.ops.speedY.active=!1:this.ops.speedY.onChange(j),this.radial=!0,this},setParticleScale:function(U,j){return U===void 0&&(U=1),j===void 0&&(j=U),this.ops.scaleX.onChange(U),this.ops.scaleY.onChange(j),this},setParticleGravity:function(U,j){return this.gravityX=U,this.gravityY=j,this},setParticleAlpha:function(U){return this.ops.alpha.onChange(U),this},setParticleTint:function(U){return this.ops.tint.onChange(U),this},setEmitterAngle:function(U){return this.ops.angle.onChange(U),this},setParticleLifespan:function(U){return this.ops.lifespan.onChange(U),this},setQuantity:function(U){return this.quantity=U,this},setFrequency:function(U,j){return this.frequency=U,this.flowCounter=U>0?U:0,j&&(this.quantity=j),this},addDeathZone:function(U){Array.isArray(U)||(U=[U]);for(var j,et=[],it=0;it<U.length;it++)if(j=U[it],j instanceof h)et.push(j);else if(typeof j.contains=="function")j=new h(j,!0),et.push(j);else{var rt=c(j,"type","onEnter"),lt=c(j,"source",null);if(lt&&typeof lt.contains=="function"){var ft=rt==="onEnter";j=new h(lt,ft),et.push(j)}}return this.deathZones=this.deathZones.concat(et),et},removeDeathZone:function(U){return z(this.deathZones,U),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(U){Array.isArray(U)||(U=[U]);for(var j,et=[],it=0;it<U.length;it++)if(j=U[it],j instanceof D||j instanceof r)et.push(j);else{var rt=c(j,"source",null);if(rt){var lt=c(j,"type","random");if(lt==="random"&&typeof rt.getRandomPoint=="function")j=new D(rt),et.push(j);else if(lt==="edge"&&typeof rt.getPoints=="function"){var ft=c(j,"quantity",1),pt=c(j,"stepRate",0),vt=c(j,"yoyo",!1),xt=c(j,"seamless",!0),yt=c(j,"total",-1);j=new r(rt,ft,pt,vt,xt,yt),et.push(j)}}}return this.emitZones=this.emitZones.concat(et),et},removeEmitZone:function(U){return z(this.emitZones,U),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(U){var j=this.emitZones,et=j.length;if(et!==0){var it=j[this.zoneIndex];it.getPoint(U),it.total>-1&&(this.zoneTotal++,this.zoneTotal===it.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===et&&(this.zoneIndex=0)))}},getDeathZone:function(U){for(var j=this.deathZones,et=0;et<j.length;et++){var it=j[et];if(it.willKill(U))return this.emit(a.DEATH_ZONE,this,U,it),!0}return!1},setEmitZone:function(U){var j;return isFinite(U)?j=U:j=this.emitZones.indexOf(U),j>=0&&(this.zoneIndex=j),this},addParticleProcessor:function(U){return this.processors.exists(U)||(U.emitter&&U.emitter.removeParticleProcessor(U),this.processors.add(U),U.emitter=this),U},removeParticleProcessor:function(U){return this.processors.exists(U)&&(this.processors.remove(U,!0),U.emitter=null),U},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(U){return this.addParticleProcessor(new v(U))},reserve:function(U){var j=this.dead;if(this.maxParticles>0){var et=this.getParticleCount();et+U>this.maxParticles&&(U=this.maxParticles-(et+U))}for(var it=0;it<U;it++)j.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(U,j){return U===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof U=="function"&&(this.emitCallback=U,j&&(this.emitCallbackScope=j)),this},onParticleDeath:function(U,j){return U===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof U=="function"&&(this.deathCallback=U,j&&(this.deathCallbackScope=j)),this},killAll:function(){for(var U=this.dead,j=this.alive;j.length>0;)U.push(j.pop());return this},forEachAlive:function(U,j){for(var et=this.alive,it=et.length,rt=0;rt<it;rt++)U.call(j,et[rt],this);return this},forEachDead:function(U,j){for(var et=this.dead,it=et.length,rt=0;rt<it;rt++)U.call(j,et[rt],this);return this},start:function(U,j){return U===void 0&&(U=0),this.emitting||(U>0&&this.fastForward(U),this.emitting=!0,this.resetCounters(this.frequency,!0),j!==void 0&&(this.duration=Math.abs(j)),this.emit(a.START,this)),this},stop:function(U){return U===void 0&&(U=!1),this.emitting&&(this.emitting=!1,U&&this.killAll(),this.emit(a.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(U,j){return U===void 0&&(U=""),j===void 0&&(j=this.true),this.sortProperty=U,this.sortOrderAsc=j,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(U){return this.sortProperty!==""?U=this.depthSortCallback:U=null,this.sortCallback=U,this},depthSort:function(){return K(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(U,j){var et=this.sortProperty;return this.sortOrderAsc?U[et]-j[et]:j[et]-U[et]},flow:function(U,j,et){return j===void 0&&(j=1),this.emitting=!1,this.frequency=U,this.quantity=j,et!==void 0&&(this.stopAfter=et),this.start()},explode:function(U,j,et){this.frequency=-1,this.resetCounters(-1,!0);var it=this.emitParticle(U,j,et);return this.emit(a.EXPLODE,this,it),it},emitParticleAt:function(U,j,et){return this.emitParticle(et,U,j)},emitParticle:function(U,j,et){if(!this.atLimit()){U===void 0&&(U=this.ops.quantity.onEmit());for(var it=this.dead,rt=this.stopAfter,lt=this.follow?this.follow.x+this.followOffset.x:j,ft=this.follow?this.follow.y+this.followOffset.y:et,pt=0;pt<U;pt++){var vt=it.pop();if(vt||(vt=new this.particleClass(this)),vt.fire(lt,ft)?(this.particleBringToTop?this.alive.push(vt):this.alive.unshift(vt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,vt,this)):this.dead.push(vt),rt>0&&(this.stopCounter++,this.stopCounter>=rt)||this.atLimit())break}return vt}},fastForward:function(U,j){j===void 0&&(j=1e3/60);var et=0;for(this.skipping=!0;et<Math.abs(U);)this.preUpdate(0,j),et+=j;return this.skipping=!1,this},preUpdate:function(U,j){j*=this.timeScale;var et=j/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var it=this.getProcessors(),rt=this.alive,lt=this.dead,ft=0,pt=[],vt=rt.length;for(ft=0;ft<vt;ft++){var xt=rt[ft];xt.update(j,et,it)&&pt.push({index:ft,particle:xt})}if(vt=pt.length,vt>0){var yt=this.deathCallback,Ct=this.deathCallbackScope;for(ft=vt-1;ft>=0;ft--){var wt=pt[ft];rt.splice(wt.index,1),lt.push(wt.particle),yt&&yt.call(Ct,wt.particle),wt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&rt.length===0&&(this.completeFlag=0,this.emit(a.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=j;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=j,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(U){for(var j=this.getWorldTransformMatrix(),et=this.alive,it=et.length,rt=[],lt=0;lt<it;lt++){var ft=et[lt];k(U,ft.getBounds(j))&&rt.push(ft)}return rt},getBounds:function(U,j,et,it){U===void 0&&(U=0),j===void 0&&(j=0),et===void 0&&(et=1e3/60),it===void 0&&(it=new B);var rt=this.getWorldTransformMatrix(),lt,ft,pt=this.alive,vt=!1;if(it.setTo(0,0,0,0),j>0){var xt=0;for(this.skipping=!0;xt<Math.abs(j);){for(this.preUpdate(0,et),lt=0;lt<pt.length;lt++)ft=pt[lt].getBounds(rt),vt?R(it,ft):(vt=!0,l(ft,it));xt+=et}this.skipping=!1}else for(lt=0;lt<pt.length;lt++)ft=pt[lt].getBounds(rt),vt?R(it,ft):(vt=!0,l(ft,it));return U>0&&P(it,U,U),it},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(U){this.ops.x.onChange(U)}},particleY:{get:function(){return this.ops.y.current},set:function(U){this.ops.y.onChange(U)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(U){this.ops.accelerationX.onChange(U)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(U){this.ops.accelerationY.onChange(U)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(U){this.ops.maxVelocityX.onChange(U)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(U){this.ops.maxVelocityY.onChange(U)}},speed:{get:function(){return this.ops.speedX.current},set:function(U){this.ops.speedX.onChange(U),this.ops.speedY.onChange(U)}},speedX:{get:function(){return this.ops.speedX.current},set:function(U){this.ops.speedX.onChange(U)}},speedY:{get:function(){return this.ops.speedY.current},set:function(U){this.ops.speedY.onChange(U)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(U){this.ops.moveToX.onChange(U)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(U){this.ops.moveToY.onChange(U)}},bounce:{get:function(){return this.ops.bounce.current},set:function(U){this.ops.bounce.onChange(U)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(U){this.ops.scaleX.onChange(U)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(U){this.ops.scaleY.onChange(U)}},particleColor:{get:function(){return this.ops.color.current},set:function(U){this.ops.color.onChange(U)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(U){this.ops.color.setEase(U)}},particleTint:{get:function(){return this.ops.tint.current},set:function(U){this.ops.tint.onChange(U)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(U){this.ops.alpha.onChange(U)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(U){this.ops.lifespan.onChange(U)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(U){this.ops.angle.onChange(U)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(U){this.ops.rotate.onChange(U)}},quantity:{get:function(){return this.ops.quantity.current},set:function(U){this.ops.quantity.onChange(U)}},delay:{get:function(){return this.ops.delay.current},set:function(U){this.ops.delay.onChange(U)}},hold:{get:function(){return this.ops.hold.current},set:function(U){this.ops.hold.onChange(U)}},flowCounter:{get:function(){return this.counters[0]},set:function(U){this.counters[0]=U}},frameCounter:{get:function(){return this.counters[1]},set:function(U){this.counters[1]=U}},animCounter:{get:function(){return this.counters[2]},set:function(U){this.counters[2]=U}},elapsed:{get:function(){return this.counters[3]},set:function(U){this.counters[3]=U}},stopCounter:{get:function(){return this.counters[4]},set:function(U){this.counters[4]=U}},completeFlag:{get:function(){return this.counters[5]},set:function(U){this.counters[5]=U}},zoneIndex:{get:function(){return this.counters[6]},set:function(U){this.counters[6]=U}},zoneTotal:{get:function(){return this.counters[7]},set:function(U){this.counters[7]=U}},currentFrame:{get:function(){return this.counters[8]},set:function(U){this.counters[8]=U}},currentAnim:{get:function(){return this.counters[9]},set:function(U){this.counters[9]=U}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var U,j=this.ops;for(U=0;U<N.length;U++){var et=N[U];j[et].destroy()}for(U=0;U<this.alive.length;U++)this.alive[U].destroy();for(U=0;U<this.dead.length;U++)this.dead[U].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});C.exports=Z},9871:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(59996),y=s(61340),f=new y,l=new y,h=new y,r=new y,o=function(u,a,d,c){var p=f,v=l,m=h,T=r;c?(T.loadIdentity(),T.multiply(c),T.translate(a.x,a.y),T.rotate(a.rotation),T.scale(a.scaleX,a.scaleY)):T.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var E=u.currentContext,P=d.roundPixels,w=d.alpha,R=a.alpha,b=a.alive,O=b.length,I=a.viewBounds;if(!(!a.visible||O===0||I&&!g(I,d.worldView))){a.sortCallback&&a.depthSort(),d.addToRenderList(a);var D=a.scrollFactorX,B=a.scrollFactorY;E.save(),E.globalCompositeOperation=u.blendModes[a.blendMode];for(var k=0;k<O;k++){var z=b[k],X=z.alpha*R*w;if(!(X<=0||z.scaleX===0||z.scaleY===0)){m.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),p.copyFrom(d.matrix),p.multiplyWithOffset(T,-d.scrollX*D,-d.scrollY*B),m.e=z.x,m.f=z.y,p.multiply(m,v);var K=z.frame,H=K.canvasData;if(H.width>0&&H.height>0){var Q=-K.halfWidth,W=-K.halfHeight;E.globalAlpha=X,E.save(),v.setToContext(E),P&&(Q=Math.round(Q),W=Math.round(W)),E.imageSmoothingEnabled=!K.source.scaleMode,E.drawImage(K.source.image,H.x,H.y,H.width,H.height,Q,W,H.width,H.height),E.restore()}}}E.restore()}};C.exports=o},92730:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(95540),h=s(31600);y.register("particles",function(r,o){r===void 0&&(r={});var u=f(r,"key",null),a=l(r,"config",null),d=new h(this.scene,0,0,u);return o!==void 0&&(r.add=o),g(this.scene,d,r),a&&d.setConfig(a),d})},676:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(31600);g.register("particles",function(f,l,h,r){return f!==void 0&&typeof f=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new y(this.scene,f,l,h,r))})},90668:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(21188),f=s(9871),C.exports={renderWebGL:y,renderCanvas:f}},21188:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(59996),y=s(61340),f=s(70554),l=new y,h=new y,r=new y,o=new y,u=function(a,d,c,p){var v=a.pipelines.set(d.pipeline),m=l,T=h,E=r,P=o;p?(P.loadIdentity(),P.multiply(p),P.translate(d.x,d.y),P.rotate(d.rotation),P.scale(d.scaleX,d.scaleY)):P.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var w=f.getTintAppendFloatAlpha,R=c.alpha,b=d.alpha;a.pipelines.preBatch(d);var O=d.alive,I=O.length,D=d.viewBounds;if(!(I===0||D&&!g(D,c.worldView))){d.sortCallback&&d.depthSort(),c.addToRenderList(d),m.copyFrom(c.matrix),m.multiplyWithOffset(P,-c.scrollX*d.scrollFactorX,-c.scrollY*d.scrollFactorY),a.setBlendMode(d.blendMode),d.mask&&(d.mask.preRenderWebGL(a,d,c),a.pipelines.set(d.pipeline));for(var B=d.tintFill,k,z,X=0;X<I;X++){var K=O[X],H=K.alpha*b*R;if(!(H<=0||K.scaleX===0||K.scaleY===0)){E.applyITRS(K.x,K.y,K.rotation,K.scaleX,K.scaleY),E.e=K.x,E.f=K.y,m.multiply(E,T);var Q=K.frame;Q.glTexture!==z&&(z=Q.glTexture,k=v.setGameObject(d,Q));var W=-Q.halfWidth,Y=-Q.halfHeight,N=T.setQuad(W,Y,W+Q.width,Y+Q.height),Z=w(K.tint,H);v.shouldFlush(6)&&(v.flush(),k=v.setGameObject(d,Q)),v.batchQuad(d,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],Q.u0,Q.v0,Q.u1,Q.v1,Z,Z,Z,Z,B,z,k)}}d.mask&&d.mask.postRenderWebGL(a,c),a.pipelines.postBatch(d)}};C.exports=u},20286:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r){l===void 0&&(l=0),h===void 0&&(h=0),r===void 0&&(r=!0),this.emitter,this.x=l,this.y=h,this.active=r},update:function(){},destroy:function(){this.emitter=null}});C.exports=y},9774:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},812:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="deathzone"},30522:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="explode"},96695:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},18677:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stop"},20696:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={COMPLETE:s(9774),DEATH_ZONE:s(812),EXPLODE:s(30522),START:s(96695),STOP:s(18677)}},18404:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={EmitterColorOp:s(76472),EmitterOp:s(44777),Events:s(20696),GravityWell:s(24502),Particle:s(56480),ParticleBounds:s(69601),ParticleEmitter:s(31600),ParticleProcessor:s(20286),Zones:s(21024)}},26388:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h){this.source=l,this.killOnEnter=h},willKill:function(f){var l=f.worldPosition,h=this.source.contains(l.x,l.y);return h&&this.killOnEnter||!h&&!this.killOnEnter}});C.exports=y},19909:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r,o,u,a){o===void 0&&(o=!1),u===void 0&&(u=!0),a===void 0&&(a=-1),this.source=l,this.points=[],this.quantity=h,this.stepRate=r,this.yoyo=o,this.counter=-1,this.seamless=u,this._length=0,this._direction=0,this.total=a,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],l=this.points[this.points.length-1];f.x===l.x&&f.y===l.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var l=this.points[this.counter];l&&(f.x=l.x,f.y=l.y)}});C.exports=y},68875:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(26099),f=new g({initialize:function(h){this.source=h,this._tempVec=new y,this.total=-1},getPoint:function(l){var h=this._tempVec;this.source.getRandomPoint(h),l.x=h.x,l.y=h.y}});C.exports=f},21024:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={DeathZone:s(26388),EdgeZone:s(19909),RandomZone:s(68875)}},1159:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(68287),l=new g({Extends:f,Mixins:[y.PathFollower],initialize:function(r,o,u,a,d,c){f.call(this,r,u,a,d,c),this.path=o},preUpdate:function(h,r){this.anims.update(h,r),this.pathUpdate(h)}});C.exports=l},90145:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(1159);g.register("follower",function(f,l,h,r,o){var u=new y(this.scene,f,l,h,r,o);return this.displayList.add(u),this.updateList.add(u),u})},33663:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(9674),y=s(83419),f=s(48803),l=s(90664),h=s(4703),r=s(45650),o=new y({Extends:h,initialize:function(a,d,c,p,v,m,T,E){p||(p="__DEFAULT"),h.call(this,a,d,c,p,v),this.type="Plane",this.anims=new g(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(m,T,E),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(u,a,d){u===void 0&&(u=8),a===void 0&&(a=8),d===void 0&&(d=!1);var c=!1;return d&&(c=!0),this.gridWidth=u,this.gridHeight=a,this.isTiled=d,this.clear(),f({mesh:this,widthSegments:u,heightSegments:a,isOrtho:!1,tile:d,flipY:c}),this},setSizeToFrame:function(u){u===void 0&&(u=!0);var a=this.frame;if(this.setPerspective(this.width/a.width,this.height/a.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!u)return this;var d=this.gridWidth,c=this.gridHeight,p=this.vertices,v=a.u0,m=a.u1,T=a.v0,E=a.v1,P,w,R=0;if(this.isTiled)for(T=a.v1,E=a.v0,w=0;w<c;w++)for(P=0;P<d;P++)p[R++].setUVs(v,E),p[R++].setUVs(v,T),p[R++].setUVs(m,E),p[R++].setUVs(v,T),p[R++].setUVs(m,T),p[R++].setUVs(m,E);else{var b=d+1,O=c+1,I=m-v,D=E-T,B=[];for(w=0;w<O;w++)for(P=0;P<b;P++){var k=v+I*(P/d),z=T+D*(w/c);B.push(k,z)}for(w=0;w<c;w++)for(P=0;P<d;P++){var X=(P+b*w)*2,K=(P+b*(w+1))*2,H=(P+1+b*(w+1))*2,Q=(P+1+b*w)*2;p[R++].setUVs(B[X],B[X+1]),p[R++].setUVs(B[K],B[K+1]),p[R++].setUVs(B[Q],B[Q+1]),p[R++].setUVs(B[K],B[K+1]),p[R++].setUVs(B[H],B[H+1]),p[R++].setUVs(B[Q],B[Q+1])}}return this},setViewHeight:function(u){u===void 0&&(u=this.frame.height);var a=this.fov*(Math.PI/180);this.viewPosition.z=this.height/u/Math.tan(a/2),this.dirtyCache[10]=1},createCheckerboard:function(u,a,d,c,p){u===void 0&&(u=16777215),a===void 0&&(a=255),d===void 0&&(d=255),c===void 0&&(c=255),p===void 0&&(p=128);for(var v=l(u),m=l(a),T=[],E=0;E<16;E++)for(var P=0;P<16;P++)E<8&&P<8||E>7&&P>7?T.push(v.r,v.g,v.b,d):T.push(m.r,m.g,m.b,c);var w=this.scene.sys.textures.addUint8Array(r(),new Uint8Array(T),16,16);return this.removeCheckerboard(),this.setTexture(w),this.setSizeToFrame(),this.setViewHeight(p),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(u,a){return this.anims.play(u,a)},playReverse:function(u,a){return this.anims.playReverse(u,a)},playAfterDelay:function(u,a){return this.anims.playAfterDelay(u,a)},playAfterRepeat:function(u,a){return this.anims.playAfterRepeat(u,a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(u){return this.anims.stopAfterDelay(u)},stopAfterRepeat:function(u){return this.anims.stopAfterRepeat(u)},stopOnFrame:function(u){return this.anims.stopOnFrame(u)},preUpdate:function(u,a){h.prototype.preUpdate.call(this,u,a),this.anims.update(u,a)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});C.exports=o},56015:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(13059),f=s(44603),l=s(23568),h=s(35154),r=s(33663);f.register("plane",function(o,u){o===void 0&&(o={});var a=l(o,"key",null),d=l(o,"frame",null),c=h(o,"width",8),p=h(o,"height",8),v=h(o,"tile",!1),m=new r(this.scene,0,0,a,d,c,p,v);u!==void 0&&(o.add=u);var T=h(o,"checkerboard",null);if(T){var E=h(T,"color1",16777215),P=h(T,"color2",255),w=h(T,"alpha1",255),R=h(T,"alpha2",255),b=h(T,"height",128);m.createCheckerboard(E,P,w,R,b)}return g(this.scene,m,o),y(m,o),m})},30985:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33663),y=s(39429);y.register("plane",function(f,l,h,r,o,u,a){return this.displayList.add(new g(this.scene,f,l,h,r,o,u,a))})},80321:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(30100),h=s(36060),r=s(67277),o=new g({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible,r],initialize:function(a,d,c,p,v,m,T){p===void 0&&(p=16777215),v===void 0&&(v=128),m===void 0&&(m=1),T===void 0&&(T=.1),f.call(this,a,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(d,c),this.color=l(p),this.intensity=m,this.attenuation=T,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this.width=u*2,this.height=u*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});C.exports=o},39829:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(80321);y.register("pointlight",function(h,r){h===void 0&&(h={});var o=f(h,"color",16777215),u=f(h,"radius",128),a=f(h,"intensity",1),d=f(h,"attenuation",.1),c=new l(this.scene,0,0,o,u,a,d);return r!==void 0&&(h.add=r),g(this.scene,c,h),c})},71255:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(80321);g.register("pointlight",function(f,l,h,r,o,u){return this.displayList.add(new y(this.scene,f,l,h,r,o,u))})},67277:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(57787),C.exports={renderWebGL:y,renderCanvas:f}},57787:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=function(f,l,h,r){h.addToRenderList(l);var o=f.pipelines.set(l.pipeline),u=g(l,h,r).calc,a=l.width,d=l.height,c=-l._radius,p=-l._radius,v=c+a,m=p+d,T=u.getX(0,0),E=u.getY(0,0),P=u.getX(c,p),w=u.getY(c,p),R=u.getX(c,m),b=u.getY(c,m),O=u.getX(v,m),I=u.getY(v,m),D=u.getX(v,p),B=u.getY(v,p);f.pipelines.preBatch(l),o.batchPointLight(l,h,P,w,R,b,O,I,D,B,T,E),f.pipelines.postBatch(l)};C.exports=y},591:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(81320),f=s(88571),l=new g({Extends:f,initialize:function(r,o,u,a,d,c){o===void 0&&(o=0),u===void 0&&(u=0),a===void 0&&(a=32),d===void 0&&(d=32),c===void 0&&(c=!0);var p=new y(r.sys.textures,"",a,d,c);f.call(this,r,o,u,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(h,r){this.width=h,this.height=r,this.updateDisplayOrigin();var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=h,o.hitArea.height=r),this},resize:function(h,r,o){return this.texture.setSize(h,r,o),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(h){var r=this.texture;return r.key=h,r.manager.addDynamicTexture(r)&&(this._saved=!0),r},fill:function(h,r,o,u,a,d){return this.texture.fill(h,r,o,u,a,d),this},clear:function(){return this.texture.clear(),this},stamp:function(h,r,o,u,a){return this.texture.stamp(h,r,o,u,a),this},erase:function(h,r,o){return this.texture.erase(h,r,o),this},draw:function(h,r,o,u,a){return this.texture.draw(h,r,o,u,a),this},drawFrame:function(h,r,o,u,a,d){return this.texture.drawFrame(h,r,o,u,a,d),this},repeat:function(h,r,o,u,a,d,c,p,v){return this.texture.repeat(h,r,o,u,a,d,c,p,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(h,r,o,u,a){return this.texture.batchDraw(h,r,o,u,a),this},batchDrawFrame:function(h,r,o,u,a,d){return this.texture.batchDrawFrame(h,r,o,u,a,d),this},endDraw:function(h){return this.texture.endDraw(h),this},snapshotArea:function(h,r,o,u,a,d,c){return this.texture.snapshotArea(h,r,o,u,a,d,c),this},snapshot:function(h,r,o){return this.snapshotArea(0,0,this.width,this.height,h,r,o)},snapshotPixel:function(h,r,o){return this.snapshotArea(h,r,1,1,o,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});C.exports=l},34495:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(591);y.register("renderTexture",function(h,r){h===void 0&&(h={});var o=f(h,"x",0),u=f(h,"y",0),a=f(h,"width",32),d=f(h,"height",32),c=new l(this.scene,o,u,a,d);return r!==void 0&&(h.add=r),g(this.scene,c,h),c})},60505:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(591);g.register("renderTexture",function(f,l,h,r){return this.displayList.add(new y(this.scene,f,l,h,r))})},77757:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(9674),y=s(83419),f=s(31401),l=s(95643),h=s(36060),r=s(38745),o=s(26099),u=new y({Extends:l,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.PostPipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,r],initialize:function(d,c,p,v,m,T,E,P,w){v===void 0&&(v="__DEFAULT"),T===void 0&&(T=2),E===void 0&&(E=!0),l.call(this,d,"Rope"),this.anims=new g(this),this.points=T,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=E,this._flipX=!1,this._flipY=!1,this._perp=new o,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,m),this.setPosition(c,p),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(T)&&this.resizeArrays(T.length),this.setPoints(T,P,w),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,d){var c=this.anims.currentFrame;this.anims.update(a,d),this.anims.currentFrame!==c&&(this.updateUVs(),this.updateVertices())},play:function(a,d,c){return this.anims.play(a,d,c),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(a,d,c){return a===void 0&&(a=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(a,d,c))},setVertical:function(a,d,c){return a===void 0&&(a=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(a,d,c)):this},setTintFill:function(a){return a===void 0&&(a=!1),this.tintFill=a,this},setAlphas:function(a,d){var c=this.points.length;if(c<1)return this;var p=this.alphas;a===void 0?a=[1]:!Array.isArray(a)&&d===void 0&&(a=[a]);var v,m=0;if(d!==void 0)for(v=0;v<c;v++)m=v*2,p[m]=a,p[m+1]=d;else if(a.length===c)for(v=0;v<c;v++)m=v*2,p[m]=a[v],p[m+1]=a[v];else{var T=a[0];for(v=0;v<c;v++)m=v*2,a.length>m&&(T=a[m]),p[m]=T,a.length>m+1&&(T=a[m+1]),p[m+1]=T}return this},setColors:function(a){var d=this.points.length;if(d<1)return this;var c=this.colors;a===void 0?a=[16777215]:Array.isArray(a)||(a=[a]);var p,v=0;if(a.length===d)for(p=0;p<d;p++)v=p*2,c[v]=a[p],c[v+1]=a[p];else{var m=a[0];for(p=0;p<d;p++)v=p*2,a.length>v&&(m=a[v]),c[v]=m,a.length>v+1&&(m=a[v+1]),c[v+1]=m}return this},setPoints:function(a,d,c){if(a===void 0&&(a=2),typeof a=="number"){var p=a;p<2&&(p=2),a=[];var v,m,T;if(this.horizontal)for(T=-this.frame.halfWidth,m=this.frame.width/(p-1),v=0;v<p;v++)a.push({x:T+v*m,y:0});else for(T=-this.frame.halfHeight,m=this.frame.height/(p-1),v=0;v<p;v++)a.push({x:0,y:T+v*m})}var E=a.length,P=this.points.length;return E<1?(console.warn("Rope: Not enough points given"),this):(E===1&&(a.unshift({x:0,y:0}),E++),P!==E&&this.resizeArrays(E),this.dirty=!0,this.points=a,this.updateUVs(),d!=null&&this.setColors(d),c!=null&&this.setAlphas(c),this)},updateUVs:function(){for(var a=this.uv,d=this.points.length,c=this.frame.u0,p=this.frame.v0,v=this.frame.u1,m=this.frame.v1,T=(v-c)/(d-1),E=(m-p)/(d-1),P=0;P<d;P++){var w=P*4,R,b,O,I;this.horizontal?(this._flipX?(R=v-P*T,O=v-P*T):(R=c+P*T,O=c+P*T),this._flipY?(b=m,I=p):(b=p,I=m)):(this._flipX?(R=c,O=v):(R=v,O=c),this._flipY?(b=m-P*E,I=m-P*E):(b=p+P*E,I=p+P*E)),a[w+0]=R,a[w+1]=b,a[w+2]=O,a[w+3]=I}return this},resizeArrays:function(a){var d=this.colors,c=this.alphas;this.vertices=new Float32Array(a*4),this.uv=new Float32Array(a*4),d=new Uint32Array(a*2),c=new Float32Array(a*2);for(var p=0;p<a*2;p++)d[p]=16777215,c[p]=1;return this.colors=d,this.alphas=c,this.dirty=!0,this},updateVertices:function(){var a=this._perp,d=this.points,c=this.vertices,p=d.length;if(this.dirty=!1,!(p<1)){for(var v,m=d[0],T=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,E=0;E<p;E++){var P=d[E],w=E*4;E<p-1?v=d[E+1]:v=P,a.x=v.y-m.y,a.y=-(v.x-m.x);var R=a.length();a.x/=R,a.y/=R,a.x*=T,a.y*=T,c[w]=P.x+a.x,c[w+1]=P.y+a.y,c[w+2]=P.x-a.x,c[w+3]=P.y-a.y,m=P}return this}},setDebug:function(a,d){return this.debugGraphic=a,!a&&!d?this.debugCallback=null:d?this.debugCallback=d:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(a,d,c){var p=a.debugGraphic,v=c[0],m=c[1],T=c[2],E=c[3];p.lineBetween(v,m,T,E);for(var P=4;P<d;P+=4){var w=c[P+0],R=c[P+1],b=c[P+2],O=c[P+3];p.lineBetween(v,m,w,R),p.lineBetween(T,E,b,O),p.lineBetween(T,E,w,R),p.lineBetween(w,R,b,O),v=w,m=R,T=b,E=O}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(a){return this._flipX=a,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(a){return this._flipY=a,this.updateUVs()}}});C.exports=u},95262:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){};C.exports=A},26209:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(35154),h=s(77757);y.register("rope",function(r,o){r===void 0&&(r={});var u=f(r,"key",null),a=f(r,"frame",null),d=f(r,"horizontal",!0),c=l(r,"points",void 0),p=l(r,"colors",void 0),v=l(r,"alphas",void 0),m=new h(this.scene,0,0,u,a,c,d,p,v);return o!==void 0&&(r.add=o),g(this.scene,m,r),m})},96819:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(77757),y=s(39429);y.register("rope",function(f,l,h,r,o,u,a,d){return this.displayList.add(new g(this.scene,f,l,h,r,o,u,a,d))})},38745:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(20439),f=s(95262),C.exports={renderWebGL:y,renderCanvas:f}},20439:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,h,r,o){r.addToRenderList(h);var u=l.pipelines.set(h.pipeline,h),a=g(h,r,o).calc,d=h.vertices,c=h.uv,p=h.colors,v=h.alphas,m=h.alpha,T=y.getTintAppendFloatAlpha,E=r.roundPixels,P=d.length,w=Math.floor(P*.5);u.flush(),l.pipelines.preBatch(h);var R=u.setGameObject(h),b=u.vertexViewF32,O=u.vertexViewU32,I=u.vertexCount*u.currentShader.vertexComponentCount-1,D=0,B=h.tintFill;h.dirty&&h.updateVertices();for(var k=h.debugCallback,z=[],X=0;X<P;X+=2){var K=d[X+0],H=d[X+1],Q=K*a.a+H*a.c+a.e,W=K*a.b+H*a.d+a.f;E&&(Q=Math.round(Q),W=Math.round(W)),b[++I]=Q,b[++I]=W,b[++I]=c[X+0],b[++I]=c[X+1],b[++I]=R,b[++I]=B,O[++I]=T(p[D],r.alpha*(v[D]*m)),D++,k&&(z[X+0]=Q,z[X+1]=W)}k&&k.call(h,h,P,z),u.vertexCount+=w,u.currentBatch.count=u.vertexCount-u.currentBatch.start,l.pipelines.postBatch(h)};C.exports=f},20071:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(95540),h=s(79291),r=s(61622),o=s(25479),u=s(61340),a=s(95428),d=s(92503),c=new g({Extends:f,Mixins:[y.ComputedSize,y.Depth,y.GetBounds,y.Mask,y.Origin,y.ScrollFactor,y.Transform,y.Visible,o],initialize:function(v,m,T,E,P,w,R,b){T===void 0&&(T=0),E===void 0&&(E=0),P===void 0&&(P=128),w===void 0&&(w=128),f.call(this,v,"Shader"),this.blendMode=-1,this.shader;var O=v.sys.renderer;this.renderer=O,this.gl=O.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=O.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=O.width,this._rendererHeight=O.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(T,E),this.setSize(P,w),this.setOrigin(.5,.5),this.setShader(m,R,b),this.renderer.on(d.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(p){return this.renderToTexture?!0:!(f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&p.id)},setRenderToTexture:function(p,v){if(!this.renderToTexture){var m=this.width,T=this.height,E=this.renderer;this.glTexture=E.createTextureFromSource(null,m,T,0),this.framebuffer=E.createFramebuffer(m,T,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=T,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),p&&(this.texture=this.scene.sys.textures.addGLTexture(p,this.glTexture))}return this.shader&&(E.pipelines.clear(),this.load(),this.flush(),E.pipelines.rebind()),this},setShader:function(p,v,m){if(this.renderer.contextLost)return this._deferSetShader={key:p,textures:v,textureData:m},this;if(v===void 0&&(v=[]),typeof p=="string"){var T=this.scene.sys.cache.shader;if(!T.has(p))return console.warn("Shader missing: "+p),this;this.shader=T.get(p)}else this.shader=p;var E=this.gl,P=this.renderer;this.program&&P.deleteProgram(this.program);var w=P.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);E.uniformMatrix4fv(E.getUniformLocation(w.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),E.uniformMatrix4fv(E.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),E.uniform2f(E.getUniformLocation(w.webGLProgram,"uResolution"),this.width,this.height),this.program=w;var R=new Date,b={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),R.getHours()*60*60+R.getMinutes()*60+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=h(!0,{},this.shader.uniforms,b):this.uniforms=b;for(var O=0;O<4;O++)v[O]&&this.setSampler2D("iChannel"+O,v[O],O,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(p){return this.pointer=p,this},projOrtho:function(p,v,m,T){if(this.renderer.contextLost){this._deferProjOrtho={left:p,right:v,bottom:m,top:T};return}var E=-1e3,P=1e3,w=1/(p-v),R=1/(m-T),b=1/(E-P),O=this.projectionMatrix;O[0]=-2*w,O[5]=-2*R,O[10]=2*b,O[12]=(p+v)*w,O[13]=(T+m)*R,O[14]=(P+E)*b;var I=this.program,D=this.gl,B=this.renderer;B.setProgram(I),D.uniformMatrix4fv(D.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=m},initUniforms:function(){var p=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var m in this.uniforms){var T=this.uniforms[m],E=T.type,P=p[E];T.uniformLocation=this.renderer.createUniformLocation(v,m),E!=="sampler2D"&&(T.glMatrix=P.matrix,T.glValueLength=P.length,T.glFunc=P.func)}},setSampler2DBuffer:function(p,v,m,T,E,P){E===void 0&&(E=0),P===void 0&&(P={});var w=this.uniforms[p];return w.value=v,P.width=m,P.height=T,w.textureData=P,this._textureCount=E,this.initSampler2D(w),this},setSampler2D:function(p,v,m,T){m===void 0&&(m=0);var E=this.scene.sys.textures;if(E.exists(v)){var P=E.getFrame(v);if(P.glTexture&&P.glTexture.isRenderTexture)return this.setSampler2DBuffer(p,P.glTexture,P.width,P.height,m,T);var w=this.uniforms[p],R=P.source;w.textureKey=v,w.source=R.image,w.value=P.glTexture,R.isGLTexture&&(T||(T={}),T.width=R.width,T.height=R.height),T&&(w.textureData=T),this._textureCount=m,this.initSampler2D(w)}return this},setUniform:function(p,v){return r(this.uniforms,p,v),this},getUniform:function(p){return l(this.uniforms,p,null)},setChannel0:function(p,v){return this.setSampler2D("iChannel0",p,0,v)},setChannel1:function(p,v){return this.setSampler2D("iChannel1",p,1,v)},setChannel2:function(p,v){return this.setSampler2D("iChannel2",p,2,v)},setChannel3:function(p,v){return this.setSampler2D("iChannel3",p,3,v)},initSampler2D:function(p){if(p.value){var v=p.textureData;if(v&&!p.value.isRenderTexture){var m=this.gl,T=p.value,E=m[l(v,"magFilter","linear").toUpperCase()],P=m[l(v,"minFilter","linear").toUpperCase()],w=m[l(v,"wrapS","repeat").toUpperCase()],R=m[l(v,"wrapT","repeat").toUpperCase()],b=m[l(v,"format","rgba").toUpperCase()],O=l(v,"flipY",!1),I=l(v,"width",T.width),D=l(v,"height",T.height),B=l(v,"source",T.pixels);v.repeat&&(w=m.REPEAT,R=m.REPEAT),v.width&&(B=null),T.update(B,I,D,O,w,R,P,E,b)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var p=this.gl,v=this.uniforms,m,T,E,P,w,R=0;for(var b in v)m=v[b],E=m.glFunc,T=m.glValueLength,P=m.uniformLocation,w=m.value,w!==null&&(T===1?m.glMatrix?E.call(p,P.webGLUniformLocation,m.transpose,w):E.call(p,P.webGLUniformLocation,w):T===2?E.call(p,P.webGLUniformLocation,w.x,w.y):T===3?E.call(p,P.webGLUniformLocation,w.x,w.y,w.z):T===4?E.call(p,P.webGLUniformLocation,w.x,w.y,w.z,w.w):m.type==="sampler2D"&&(p.activeTexture(p.TEXTURE0+R),p.bindTexture(p.TEXTURE_2D,w.webGLTexture),p.uniform1i(P.webGLUniformLocation,R),R++))},load:function(p){var v=this.gl,m=this.width,T=this.height,E=this.renderer,P=this.program,w=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,b=-this._displayOriginY;w[0]=p[0],w[1]=p[1],w[4]=p[2],w[5]=p[3],w[8]=p[4],w[9]=p[5],w[12]=w[0]*R+w[4]*b,w[13]=w[1]*R+w[5]*b}v.useProgram(P.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,w),v.uniformMatrix4fv(v.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height);var O=this.uniforms,I=O.resolution;I.value.x=m,I.value.y=T,O.time.value=E.game.loop.getDuration();var D=this.pointer;if(D){var B=O.mouse,k=D.x/m,z=1-D.y/T;B.value.x=k.toFixed(2),B.value.y=z.toFixed(2)}this.syncUniforms()},flush:function(){var p=this.width,v=this.height,m=this.program,T=this.gl,E=this.vertexBuffer,P=this.renderer,w=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(P.setFramebuffer(this.framebuffer),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT)),T.bindBuffer(T.ARRAY_BUFFER,E.webGLBuffer);var R=T.getAttribLocation(m.webGLProgram,"inPosition");R!==-1&&(T.enableVertexAttribArray(R),T.vertexAttribPointer(R,2,T.FLOAT,!1,w,0));var b=this.vertexViewF32;b[3]=v,b[4]=p,b[5]=v,b[8]=p,b[9]=v,b[10]=p;var O=6;T.bufferSubData(T.ARRAY_BUFFER,0,this.bytes.subarray(0,O*w)),T.drawArrays(T.TRIANGLES,0,O),this.renderToTexture&&P.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var p=this._deferSetShader.key,v=this._deferSetShader.textures,m=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(p,v,m)}if(this._deferProjOrtho!==null){var T=this._deferProjOrtho.left,E=this._deferProjOrtho.right,P=this._deferProjOrtho.bottom,w=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(T,E,P,w)}},preDestroy:function(){var p=this.renderer;p.off(d.RESTORE_WEBGL,this.onContextRestored,this),p.deleteProgram(this.program),p.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(p.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),a(this.uniforms,function(v){p.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});C.exports=c},80464:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){};C.exports=A},54935:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(20071);y.register("shader",function(h,r){h===void 0&&(h={});var o=f(h,"key",null),u=f(h,"x",0),a=f(h,"y",0),d=f(h,"width",128),c=f(h,"height",128),p=new l(this.scene,o,u,a,d,c);return r!==void 0&&(h.add=r),g(this.scene,p,h),p})},74177:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20071),y=s(39429);y.register("shader",function(f,l,h,r,o,u,a){return this.displayList.add(new g(this.scene,f,l,h,r,o,u,a))})},25479:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(19257),f=s(80464),C.exports={renderWebGL:y,renderCanvas:f}},19257:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=function(f,l,h,r){if(l.shader){if(h.addToRenderList(l),f.pipelines.clear(),l.renderToTexture)l.load(),l.flush();else{var o=g(l,h,r).calc;(f.width!==l._rendererWidth||f.height!==l._rendererHeight)&&l.projOrtho(0,f.width,f.height,0),l.load(o.matrix),l.flush()}f.pipelines.rebind()}};C.exports=y},10441:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70554),y=function(f,l,h,r,o,u){for(var a=g.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*r),d=h.pathData,c=h.pathIndexes,p=0;p<c.length;p+=3){var v=c[p]*2,m=c[p+1]*2,T=c[p+2]*2,E=d[v+0]-o,P=d[v+1]-u,w=d[m+0]-o,R=d[m+1]-u,b=d[T+0]-o,O=d[T+1]-u,I=l.getX(E,P),D=l.getY(E,P),B=l.getX(w,R),k=l.getY(w,R),z=l.getX(b,O),X=l.getY(b,O);f.batchTri(h,I,D,B,k,z,X,0,0,1,1,a,a,a,2)}};C.exports=y},65960:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=y||g.fillColor,h=f||g.fillAlpha,r=(l&16711680)>>>16,o=(l&65280)>>>8,u=l&255;s.fillStyle="rgba("+r+","+o+","+u+","+h+")"};C.exports=A},75177:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=y||g.strokeColor,h=f||g.strokeAlpha,r=(l&16711680)>>>16,o=(l&65280)>>>8,u=l&255;s.strokeStyle="rgba("+r+","+o+","+u+","+h+")",s.lineWidth=g.lineWidth};C.exports=A},17803:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(95643),l=s(23031),h=new g({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible],initialize:function(o,u,a){u===void 0&&(u="Shape"),f.call(this,o,u),this.geom=a,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new l,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(r,o){return o===void 0&&(o=1),r===void 0?this.isFilled=!1:(this.fillColor=r,this.fillAlpha=o,this.isFilled=!0),this},setStrokeStyle:function(r,o,u){return u===void 0&&(u=1),r===void 0?this.isStroked=!1:(this.lineWidth=r,this.strokeColor=o,this.strokeAlpha=u,this.isStroked=!0),this},setClosePath:function(r){return this.closePath=r,this},setSize:function(r,o){return this.width=r,this.height=o,this},setDisplaySize:function(r,o){return this.displayWidth=r,this.displayHeight=o,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}}});C.exports=h},34682:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70554),y=function(f,l,h,r,o){var u=f.strokeTint,a=g.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*h);u.TL=a,u.TR=a,u.BL=a,u.BR=a;var d=l.pathData,c=d.length-1,p=l.lineWidth,v=p/2,m=d[0]-r,T=d[1]-o;l.closePath||(c-=2);for(var E=2;E<c;E+=2){var P=d[E]-r,w=d[E+1]-o;f.batchLine(m,T,P,w,v,v,p,E-2,l.closePath?E===c-1:!1),m=P,T=w}};C.exports=y},23629:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13609),y=s(83419),f=s(39506),l=s(94811),h=s(96503),r=s(36383),o=s(17803),u=new y({Extends:o,Mixins:[g],initialize:function(d,c,p,v,m,T,E,P,w){c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=128),m===void 0&&(m=0),T===void 0&&(T=360),E===void 0&&(E=!1),o.call(this,d,"Arc",new h(0,0,v)),this._startAngle=m,this._endAngle=T,this._anticlockwise=E,this._iterations=.01,this.setPosition(c,p);var R=this.geom.radius*2;this.setSize(R,R),P!==void 0&&this.setFillStyle(P,w),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(a){this._iterations=a,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(a){this.geom.radius=a;var d=a*2;this.setSize(d,d),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(a){this._startAngle=a,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(a){this._endAngle=a,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(a){this._anticlockwise=a,this.updateData()}},setRadius:function(a){return this.radius=a,this},setIterations:function(a){return a===void 0&&(a=.01),this.iterations=a,this},setStartAngle:function(a,d){return this._startAngle=a,d!==void 0&&(this._anticlockwise=d),this.updateData()},setEndAngle:function(a,d){return this._endAngle=a,d!==void 0&&(this._anticlockwise=d),this.updateData()},updateData:function(){var a=this._iterations,d=a,c=this.geom.radius,p=f(this._startAngle),v=f(this._endAngle),m=this._anticlockwise,T=c,E=c;v-=p,m?v<-r.PI2?v=-r.PI2:v>0&&(v=-r.PI2+v%r.PI2):v>r.PI2?v=r.PI2:v<0&&(v=r.PI2+v%r.PI2);for(var P=[T+Math.cos(p)*c,E+Math.sin(p)*c],w;d<1;)w=v*d+p,P.push(T+Math.cos(w)*c,E+Math.sin(w)*c),d+=a;return w=v+p,P.push(T+Math.cos(w)*c,E+Math.sin(w)*c),P.push(T+Math.cos(p)*c,E+Math.sin(p)*c),this.pathIndexes=l(P),this.pathData=P,this}});C.exports=u},42542:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39506),y=s(65960),f=s(75177),l=s(20926),h=function(r,o,u,a){u.addToRenderList(o);var d=r.currentContext;if(l(r,d,o,u,a)){var c=o.radius;d.beginPath(),d.arc(c-o.originX*(c*2),c-o.originY*(c*2),c,g(o._startAngle),g(o._endAngle),o.anticlockwise),o.closePath&&d.closePath(),o.isFilled&&(y(d,o),d.fill()),o.isStroked&&(f(d,o),d.stroke()),d.restore()}};C.exports=h},42563:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23629),y=s(39429);y.register("arc",function(f,l,h,r,o,u,a,d){return this.displayList.add(new g(this.scene,f,l,h,r,o,u,a,d))}),y.register("circle",function(f,l,h,r,o){return this.displayList.add(new g(this.scene,f,l,h,0,360,!1,r,o))})},13609:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(41447),f=s(42542),C.exports={renderWebGL:y,renderCanvas:f}},41447:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(10441),f=s(34682),l=function(h,r,o,u){o.addToRenderList(r);var a=h.pipelines.set(r.pipeline),d=g(r,o,u),c=a.calcMatrix.copyFrom(d.calc),p=r._displayOriginX,v=r._displayOriginY,m=o.alpha*r.alpha;h.pipelines.preBatch(r),r.isFilled&&y(a,c,r,m,p,v),r.isStroked&&f(a,r,m,p,v),h.pipelines.postBatch(r)};C.exports=l},89:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(33141),f=s(94811),l=s(87841),h=s(17803),r=new g({Extends:h,Mixins:[y],initialize:function(u,a,d,c,p,v){a===void 0&&(a=0),d===void 0&&(d=0),h.call(this,u,"Curve",c),this._smoothness=32,this._curveBounds=new l,this.closePath=!1,this.setPosition(a,d),p!==void 0&&this.setFillStyle(p,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(o){this._smoothness=o,this.updateData()}},setSmoothness:function(o){return this._smoothness=o,this.updateData()},updateData:function(){var o=this._curveBounds,u=this._smoothness;this.geom.getBounds(o,u),this.setSize(o.width,o.height),this.updateDisplayOrigin();for(var a=[],d=this.geom.getPoints(u),c=0;c<d.length;c++)a.push(d[c].x,d[c].y);return a.push(d[0].x,d[0].y),this.pathIndexes=f(a),this.pathData=a,this}});C.exports=r},3170:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(h,r,o,u){o.addToRenderList(r);var a=h.currentContext;if(f(h,a,r,o,u)){var d=r._displayOriginX+r._curveBounds.x,c=r._displayOriginY+r._curveBounds.y,p=r.pathData,v=p.length-1,m=p[0]-d,T=p[1]-c;a.beginPath(),a.moveTo(m,T),r.closePath||(v-=2);for(var E=2;E<v;E+=2){var P=p[E]-d,w=p[E+1]-c;a.lineTo(P,w)}r.closePath&&a.closePath(),r.isFilled&&(g(a,r),a.fill()),r.isStroked&&(y(a,r),a.stroke()),a.restore()}};C.exports=l},40511:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(89);g.register("curve",function(f,l,h,r,o){return this.displayList.add(new y(this.scene,f,l,h,r,o))})},33141:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(53987),f=s(3170),C.exports={renderWebGL:y,renderCanvas:f}},53987:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10441),y=s(91296),f=s(34682),l=function(h,r,o,u){o.addToRenderList(r);var a=h.pipelines.set(r.pipeline),d=y(r,o,u),c=a.calcMatrix.copyFrom(d.calc),p=r._displayOriginX+r._curveBounds.x,v=r._displayOriginY+r._curveBounds.y,m=o.alpha*r.alpha;h.pipelines.preBatch(r),r.isFilled&&g(a,c,r,m,p,v),r.isStroked&&f(a,r,m,p,v),h.pipelines.postBatch(r)};C.exports=l},19921:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(94811),f=s(54205),l=s(8497),h=s(17803),r=new g({Extends:h,Mixins:[f],initialize:function(u,a,d,c,p,v,m){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=128),p===void 0&&(p=128),h.call(this,u,"Ellipse",new l(c/2,p/2,c,p)),this._smoothness=64,this.setPosition(a,d),this.width=c,this.height=p,v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(o){this._smoothness=o,this.updateData()}},setSize:function(o,u){return this.width=o,this.height=u,this.geom.setPosition(o/2,u/2),this.geom.setSize(o,u),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(o){return this._smoothness=o,this.updateData()},updateData:function(){for(var o=[],u=this.geom.getPoints(this._smoothness),a=0;a<u.length;a++)o.push(u[a].x,u[a].y);return o.push(u[0].x,u[0].y),this.pathIndexes=y(o),this.pathData=o,this}});C.exports=r},7930:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(h,r,o,u){o.addToRenderList(r);var a=h.currentContext;if(f(h,a,r,o,u)){var d=r._displayOriginX,c=r._displayOriginY,p=r.pathData,v=p.length-1,m=p[0]-d,T=p[1]-c;a.beginPath(),a.moveTo(m,T),r.closePath||(v-=2);for(var E=2;E<v;E+=2){var P=p[E]-d,w=p[E+1]-c;a.lineTo(P,w)}a.closePath(),r.isFilled&&(g(a,r),a.fill()),r.isStroked&&(y(a,r),a.stroke()),a.restore()}};C.exports=l},1543:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19921),y=s(39429);y.register("ellipse",function(f,l,h,r,o,u){return this.displayList.add(new g(this.scene,f,l,h,r,o,u))})},54205:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(19467),f=s(7930),C.exports={renderWebGL:y,renderCanvas:f}},19467:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10441),y=s(91296),f=s(34682),l=function(h,r,o,u){o.addToRenderList(r);var a=h.pipelines.set(r.pipeline),d=y(r,o,u),c=a.calcMatrix.copyFrom(d.calc),p=r._displayOriginX,v=r._displayOriginY,m=o.alpha*r.alpha;h.pipelines.preBatch(r),r.isFilled&&g(a,c,r,m,p,v),r.isStroked&&f(a,r,m,p,v),h.pipelines.postBatch(r)};C.exports=l},30479:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(17803),f=s(26015),l=new g({Extends:y,Mixins:[f],initialize:function(r,o,u,a,d,c,p,v,m,T,E){o===void 0&&(o=0),u===void 0&&(u=0),a===void 0&&(a=128),d===void 0&&(d=128),c===void 0&&(c=32),p===void 0&&(p=32),y.call(this,r,"Grid",null),this.cellWidth=c,this.cellHeight=p,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(o,u),this.setSize(a,d),this.setFillStyle(v,m),T!==void 0&&this.setOutlineStyle(T,E),this.updateDisplayOrigin()},setFillStyle:function(h,r){return r===void 0&&(r=1),h===void 0?this.showCells=!1:(this.fillColor=h,this.fillAlpha=r,this.showCells=!0),this},setAltFillStyle:function(h,r){return r===void 0&&(r=1),h===void 0?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=r,this.showAltCells=!0),this},setOutlineStyle:function(h,r){return r===void 0&&(r=1),h===void 0?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=r,this.showOutline=!0),this}});C.exports=l},49912:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(h,r,o,u){o.addToRenderList(r);var a=h.currentContext;if(f(h,a,r,o,u)){var d=-r._displayOriginX,c=-r._displayOriginY,p=o.alpha*r.alpha,v=r.width,m=r.height,T=r.cellWidth,E=r.cellHeight,P=Math.ceil(v/T),w=Math.ceil(m/E),R=T,b=E,O=T-(P*T-v),I=E-(w*E-m),D=r.showCells,B=r.showAltCells,k=r.showOutline,z=0,X=0,K=0,H=0,Q=0;if(k&&(R--,b--,O===T&&O--,I===E&&I--),D&&r.fillAlpha>0)for(g(a,r),X=0;X<w;X++)for(B&&(K=X%2),z=0;z<P;z++){if(B&&K){K=0;continue}K++,H=z<P-1?R:O,Q=X<w-1?b:I,a.fillRect(d+z*T,c+X*E,H,Q)}if(B&&r.altFillAlpha>0)for(g(a,r,r.altFillColor,r.altFillAlpha*p),X=0;X<w;X++)for(B&&(K=X%2),z=0;z<P;z++){if(B&&!K){K=1;continue}K=0,H=z<P-1?R:O,Q=X<w-1?b:I,a.fillRect(d+z*T,c+X*E,H,Q)}if(k&&r.outlineFillAlpha>0){for(y(a,r,r.outlineFillColor,r.outlineFillAlpha*p),z=1;z<P;z++){var W=z*T;a.beginPath(),a.moveTo(W+d,c),a.lineTo(W+d,m+c),a.stroke()}for(X=1;X<w;X++){var Y=X*E;a.beginPath(),a.moveTo(d,Y+c),a.lineTo(d+v,Y+c),a.stroke()}}a.restore()}};C.exports=l},34137:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(30479);g.register("grid",function(f,l,h,r,o,u,a,d,c,p){return this.displayList.add(new y(this.scene,f,l,h,r,o,u,a,d,c,p))})},26015:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(46161),f=s(49912),C.exports={renderWebGL:y,renderCanvas:f}},46161:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,h,r,o){r.addToRenderList(h);var u=l.pipelines.set(h.pipeline),a=g(h,r,o),d=u.calcMatrix.copyFrom(a.calc);d.translate(-h._displayOriginX,-h._displayOriginY);var c=r.alpha*h.alpha,p=h.width,v=h.height,m=h.cellWidth,T=h.cellHeight,E=Math.ceil(p/m),P=Math.ceil(v/T),w=m,R=T,b=m-(E*m-p),O=T-(P*T-v),I,D,B=h.showCells,k=h.showAltCells,z=h.showOutline,X=0,K=0,H=0,Q=0,W=0;if(z&&(w--,R--,b===m&&b--,O===T&&O--),l.pipelines.preBatch(h),B&&h.fillAlpha>0)for(I=u.fillTint,D=y.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*c),I.TL=D,I.TR=D,I.BL=D,I.BR=D,K=0;K<P;K++)for(k&&(H=K%2),X=0;X<E;X++){if(k&&H){H=0;continue}H++,Q=X<E-1?w:b,W=K<P-1?R:O,u.batchFillRect(X*m,K*T,Q,W)}if(k&&h.altFillAlpha>0)for(I=u.fillTint,D=y.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*c),I.TL=D,I.TR=D,I.BL=D,I.BR=D,K=0;K<P;K++)for(k&&(H=K%2),X=0;X<E;X++){if(k&&!H){H=1;continue}H=0,Q=X<E-1?w:b,W=K<P-1?R:O,u.batchFillRect(X*m,K*T,Q,W)}if(z&&h.outlineFillAlpha>0){var Y=u.strokeTint,N=y.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*c);for(Y.TL=N,Y.TR=N,Y.BL=N,Y.BR=N,X=1;X<E;X++){var Z=X*m;u.batchLine(Z,0,Z,v,h.lineWidth,h.lineWidth,1,0,!1)}for(K=1;K<P;K++){var U=K*T;u.batchLine(0,U,p,U,h.lineWidth,h.lineWidth,1,0,!1)}}l.pipelines.postBatch(h)};C.exports=f},61475:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(99651),y=s(83419),f=s(17803),l=new y({Extends:f,Mixins:[g],initialize:function(r,o,u,a,d,c,p,v){o===void 0&&(o=0),u===void 0&&(u=0),a===void 0&&(a=48),d===void 0&&(d=32),c===void 0&&(c=15658734),p===void 0&&(p=10066329),v===void 0&&(v=13421772),f.call(this,r,"IsoBox",null),this.projection=4,this.fillTop=c,this.fillLeft=p,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(o,u),this.setSize(a,d),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,r,o){return h===void 0&&(h=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),this.showTop=h,this.showLeft=r,this.showRight=o,this},setFillStyle:function(h,r,o){return this.fillTop=h,this.fillLeft=r,this.fillRight=o,this.isFilled=!0,this}});C.exports=l},11508:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(20926),f=function(l,h,r,o){r.addToRenderList(h);var u=l.currentContext;if(y(l,u,h,r,o)&&h.isFilled){var a=h.width,d=h.height,c=a/2,p=a/h.projection;h.showTop&&(g(u,h,h.fillTop),u.beginPath(),u.moveTo(-c,-d),u.lineTo(0,-p-d),u.lineTo(c,-d),u.lineTo(c,-1),u.lineTo(0,p-1),u.lineTo(-c,-1),u.lineTo(-c,-d),u.fill()),h.showLeft&&(g(u,h,h.fillLeft),u.beginPath(),u.moveTo(-c,0),u.lineTo(0,p),u.lineTo(0,p-d),u.lineTo(-c,-d),u.lineTo(-c,0),u.fill()),h.showRight&&(g(u,h,h.fillRight),u.beginPath(),u.moveTo(c,0),u.lineTo(0,p),u.lineTo(0,p-d),u.lineTo(c,-d),u.lineTo(c,0),u.fill()),u.restore()}};C.exports=f},3933:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(61475);g.register("isobox",function(f,l,h,r,o,u,a){return this.displayList.add(new y(this.scene,f,l,h,r,o,u,a))})},99651:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(68149),f=s(11508),C.exports={renderWebGL:y,renderCanvas:f}},68149:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,h,r,o){r.addToRenderList(h);var u=l.pipelines.set(h.pipeline),a=g(h,r,o),d=u.calcMatrix.copyFrom(a.calc),c=h.width,p=h.height,v=c/2,m=c/h.projection,T=r.alpha*h.alpha;if(h.isFilled){var E,P,w,R,b,O,I,D,B;l.pipelines.preBatch(h),h.showTop&&(E=y.getTintAppendFloatAlpha(h.fillTop,T),P=d.getX(-v,-p),w=d.getY(-v,-p),R=d.getX(0,-m-p),b=d.getY(0,-m-p),O=d.getX(v,-p),I=d.getY(v,-p),D=d.getX(0,m-p),B=d.getY(0,m-p),u.batchQuad(h,P,w,R,b,O,I,D,B,0,0,1,1,E,E,E,E,2)),h.showLeft&&(E=y.getTintAppendFloatAlpha(h.fillLeft,T),P=d.getX(-v,0),w=d.getY(-v,0),R=d.getX(0,m),b=d.getY(0,m),O=d.getX(0,m-p),I=d.getY(0,m-p),D=d.getX(-v,-p),B=d.getY(-v,-p),u.batchQuad(h,P,w,R,b,O,I,D,B,0,0,1,1,E,E,E,E,2)),h.showRight&&(E=y.getTintAppendFloatAlpha(h.fillRight,T),P=d.getX(v,0),w=d.getY(v,0),R=d.getX(0,m),b=d.getY(0,m),O=d.getX(0,m-p),I=d.getY(0,m-p),D=d.getX(v,-p),B=d.getY(v,-p),u.batchQuad(h,P,w,R,b,O,I,D,B,0,0,1,1,E,E,E,E,2)),l.pipelines.postBatch(h)}};C.exports=f},16933:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(60561),f=s(17803),l=new g({Extends:f,Mixins:[y],initialize:function(r,o,u,a,d,c,p,v,m){o===void 0&&(o=0),u===void 0&&(u=0),a===void 0&&(a=48),d===void 0&&(d=32),c===void 0&&(c=!1),p===void 0&&(p=15658734),v===void 0&&(v=10066329),m===void 0&&(m=13421772),f.call(this,r,"IsoTriangle",null),this.projection=4,this.fillTop=p,this.fillLeft=v,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=c,this.isFilled=!0,this.setPosition(o,u),this.setSize(a,d),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,r,o){return h===void 0&&(h=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),this.showTop=h,this.showLeft=r,this.showRight=o,this},setFillStyle:function(h,r,o){return this.fillTop=h,this.fillLeft=r,this.fillRight=o,this.isFilled=!0,this}});C.exports=l},79590:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(20926),f=function(l,h,r,o){r.addToRenderList(h);var u=l.currentContext;if(y(l,u,h,r,o)&&h.isFilled){var a=h.width,d=h.height,c=a/2,p=a/h.projection,v=h.isReversed;h.showTop&&v&&(g(u,h,h.fillTop),u.beginPath(),u.moveTo(-c,-d),u.lineTo(0,-p-d),u.lineTo(c,-d),u.lineTo(0,p-d),u.fill()),h.showLeft&&(g(u,h,h.fillLeft),u.beginPath(),v?(u.moveTo(-c,-d),u.lineTo(0,p),u.lineTo(0,p-d)):(u.moveTo(-c,0),u.lineTo(0,p),u.lineTo(0,p-d)),u.fill()),h.showRight&&(g(u,h,h.fillRight),u.beginPath(),v?(u.moveTo(c,-d),u.lineTo(0,p),u.lineTo(0,p-d)):(u.moveTo(c,0),u.lineTo(0,p),u.lineTo(0,p-d)),u.fill()),u.restore()}};C.exports=f},49803:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(16933);g.register("isotriangle",function(f,l,h,r,o,u,a,d){return this.displayList.add(new y(this.scene,f,l,h,r,o,u,a,d))})},60561:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(51503),f=s(79590),C.exports={renderWebGL:y,renderCanvas:f}},51503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,h,r,o){r.addToRenderList(h);var u=l.pipelines.set(h.pipeline),a=g(h,r,o),d=u.calcMatrix.copyFrom(a.calc),c=h.width,p=h.height,v=c/2,m=c/h.projection,T=h.isReversed,E=r.alpha*h.alpha;if(h.isFilled){l.pipelines.preBatch(h);var P,w,R,b,O,I,D;if(h.showTop&&T){P=y.getTintAppendFloatAlpha(h.fillTop,E),w=d.getX(-v,-p),R=d.getY(-v,-p),b=d.getX(0,-m-p),O=d.getY(0,-m-p),I=d.getX(v,-p),D=d.getY(v,-p);var B=d.getX(0,m-p),k=d.getY(0,m-p);u.batchQuad(h,w,R,b,O,I,D,B,k,0,0,1,1,P,P,P,P,2)}h.showLeft&&(P=y.getTintAppendFloatAlpha(h.fillLeft,E),T?(w=d.getX(-v,-p),R=d.getY(-v,-p),b=d.getX(0,m),O=d.getY(0,m),I=d.getX(0,m-p),D=d.getY(0,m-p)):(w=d.getX(-v,0),R=d.getY(-v,0),b=d.getX(0,m),O=d.getY(0,m),I=d.getX(0,m-p),D=d.getY(0,m-p)),u.batchTri(h,w,R,b,O,I,D,0,0,1,1,P,P,P,2)),h.showRight&&(P=y.getTintAppendFloatAlpha(h.fillRight,E),T?(w=d.getX(v,-p),R=d.getY(v,-p),b=d.getX(0,m),O=d.getY(0,m),I=d.getX(0,m-p),D=d.getY(0,m-p)):(w=d.getX(v,0),R=d.getY(v,0),b=d.getX(0,m),O=d.getY(0,m),I=d.getX(0,m-p),D=d.getY(0,m-p)),u.batchTri(h,w,R,b,O,I,D,0,0,1,1,P,P,P,2)),l.pipelines.postBatch(h)}};C.exports=f},57847:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(17803),f=s(23031),l=s(36823),h=new g({Extends:y,Mixins:[l],initialize:function(o,u,a,d,c,p,v,m,T){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=128),v===void 0&&(v=0),y.call(this,o,"Line",new f(d,c,p,v));var E=Math.max(1,this.geom.right-this.geom.left),P=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(u,a),this.setSize(E,P),m!==void 0&&this.setStrokeStyle(1,m,T),this.updateDisplayOrigin()},setLineWidth:function(r,o){return o===void 0&&(o=r),this._startWidth=r,this._endWidth=o,this.lineWidth=r,this},setTo:function(r,o,u,a){return this.geom.setTo(r,o,u,a),this}});C.exports=h},17440:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(75177),y=s(20926),f=function(l,h,r,o){r.addToRenderList(h);var u=l.currentContext;if(y(l,u,h,r,o)){var a=h._displayOriginX,d=h._displayOriginY;h.isStroked&&(g(u,h),u.beginPath(),u.moveTo(h.geom.x1-a,h.geom.y1-d),u.lineTo(h.geom.x2-a,h.geom.y2-d),u.stroke()),u.restore()}};C.exports=f},2481:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(57847);g.register("line",function(f,l,h,r,o,u,a,d){return this.displayList.add(new y(this.scene,f,l,h,r,o,u,a,d))})},36823:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(77385),f=s(17440),C.exports={renderWebGL:y,renderCanvas:f}},77385:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(70554),f=function(l,h,r,o){r.addToRenderList(h);var u=l.pipelines.set(h.pipeline),a=g(h,r,o);u.calcMatrix.copyFrom(a.calc);var d=h._displayOriginX,c=h._displayOriginY,p=r.alpha*h.alpha;if(l.pipelines.preBatch(h),h.isStroked){var v=u.strokeTint,m=y.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*p);v.TL=m,v.TR=m,v.BL=m,v.BR=m,u.batchLine(h.geom.x1-d,h.geom.y1-c,h.geom.x2-d,h.geom.y2-c,h._startWidth/2,h._endWidth/2,1,0,!1,a.sprite,a.camera)}l.pipelines.postBatch(h)};C.exports=f},24949:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(90273),y=s(83419),f=s(94811),l=s(13829),h=s(25717),r=s(17803),o=s(5469),u=new y({Extends:r,Mixins:[g],initialize:function(d,c,p,v,m,T){c===void 0&&(c=0),p===void 0&&(p=0),r.call(this,d,"Polygon",new h(v));var E=l(this.geom);this.setPosition(c,p),this.setSize(E.width,E.height),m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},smooth:function(a){a===void 0&&(a=1);for(var d=0;d<a;d++)o(this.geom);return this.updateData()},setTo:function(a){this.geom.setTo(a);var d=l(this.geom);return this.setSize(d.width,d.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var a=[],d=this.geom.points,c=0;c<d.length;c++)a.push(d[c].x,d[c].y);return a.push(d[0].x,d[0].y),this.pathIndexes=f(a),this.pathData=a,this}});C.exports=u},38710:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(h,r,o,u){o.addToRenderList(r);var a=h.currentContext;if(f(h,a,r,o,u)){var d=r._displayOriginX,c=r._displayOriginY,p=r.pathData,v=p.length-1,m=p[0]-d,T=p[1]-c;a.beginPath(),a.moveTo(m,T),r.closePath||(v-=2);for(var E=2;E<v;E+=2){var P=p[E]-d,w=p[E+1]-c;a.lineTo(P,w)}r.closePath&&a.closePath(),r.isFilled&&(g(a,r),a.fill()),r.isStroked&&(y(a,r),a.stroke()),a.restore()}};C.exports=l},64827:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(24949);g.register("polygon",function(f,l,h,r,o){return this.displayList.add(new y(this.scene,f,l,h,r,o))})},90273:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(73695),f=s(38710),C.exports={renderWebGL:y,renderCanvas:f}},73695:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10441),y=s(91296),f=s(34682),l=function(h,r,o,u){o.addToRenderList(r);var a=h.pipelines.set(r.pipeline),d=y(r,o,u),c=a.calcMatrix.copyFrom(d.calc),p=r._displayOriginX,v=r._displayOriginY,m=o.alpha*r.alpha;h.pipelines.preBatch(r),r.isFilled&&g(a,c,r,m,p,v),r.isStroked&&f(a,r,m,p,v),h.pipelines.postBatch(r)};C.exports=l},74561:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(94811),f=s(87841),l=s(17803),h=s(95597),r=new g({Extends:l,Mixins:[h],initialize:function(u,a,d,c,p,v,m){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=128),p===void 0&&(p=128),l.call(this,u,"Rectangle",new f(0,0,c,p)),this.radius=20,this.isRounded=!1,this.setPosition(a,d),this.setSize(c,p),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},setRounded:function(o){return o===void 0&&(o=16),this.radius=o,this.isRounded=o>0,this.updateRoundedData()},setSize:function(o,u){this.width=o,this.height=u,this.geom.setSize(o,u),this.updateData(),this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=o,a.hitArea.height=u),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var o=[],u=this.geom,a=this._tempLine;return u.getLineA(a),o.push(a.x1,a.y1,a.x2,a.y2),u.getLineB(a),o.push(a.x2,a.y2),u.getLineC(a),o.push(a.x2,a.y2),u.getLineD(a),o.push(a.x2,a.y2),this.pathData=o,this},updateRoundedData:function(){var o=[],u=this.width/2,a=this.height/2,d=Math.min(u,a),c=Math.min(this.radius,d),p=u,v=a,m=Math.max(1,Math.floor(c/5));return this.arcTo(o,p-u+c,v-a+c,c,Math.PI,Math.PI*1.5,m),o.push(p+u-c,v-a),this.arcTo(o,p+u-c,v-a+c,c,Math.PI*1.5,Math.PI*2,m),o.push(p+u,v+a-c),this.arcTo(o,p+u-c,v+a-c,c,0,Math.PI*.5,m),o.push(p-u+c,v+a),this.arcTo(o,p-u+c,v+a-c,c,Math.PI*.5,Math.PI,m),o.push(p-u,v-a+c),this.pathIndexes=y(o),this.pathData=o,this},arcTo:function(o,u,a,d,c,p,v){for(var m=(p-c)/v,T=0;T<=v;T++){var E=c+m*T;o.push(u+Math.cos(E)*d,a+Math.sin(E)*d)}}});C.exports=r},48682:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(r,o,u,a,d,c){var p=Math.min(a/2,d/2),v=Math.min(c,p);if(v===0){r.rect(o,u,a,d);return}r.moveTo(o+v,u),r.lineTo(o+a-v,u),r.arcTo(o+a,u,o+a,u+v,v),r.lineTo(o+a,u+d-v),r.arcTo(o+a,u+d,o+a-v,u+d,v),r.lineTo(o+v,u+d),r.arcTo(o,u+d,o,u+d-v,v),r.lineTo(o,u+v),r.arcTo(o,u,o+v,u,v),r.closePath()},h=function(r,o,u,a){u.addToRenderList(o);var d=r.currentContext;if(f(r,d,o,u,a)){var c=o._displayOriginX,p=o._displayOriginY;o.isFilled&&(g(d,o),o.isRounded?(d.beginPath(),l(d,-c,-p,o.width,o.height,o.radius),d.fill()):d.fillRect(-c,-p,o.width,o.height)),o.isStroked&&(y(d,o),d.beginPath(),o.isRounded?l(d,-c,-p,o.width,o.height,o.radius):d.rect(-c,-p,o.width,o.height),d.stroke()),d.restore()}};C.exports=h},87959:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(74561);g.register("rectangle",function(f,l,h,r,o,u){return this.displayList.add(new y(this.scene,f,l,h,r,o,u))})},95597:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(52059),f=s(48682),C.exports={renderWebGL:y,renderCanvas:f}},52059:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10441),y=s(91296),f=s(34682),l=s(70554),h=function(r,o,u,a){u.addToRenderList(o);var d=r.pipelines.set(o.pipeline),c=y(o,u,a);d.calcMatrix.copyFrom(c.calc);var p=o._displayOriginX,v=o._displayOriginY,m=u.alpha*o.alpha;if(r.pipelines.preBatch(o),o.isRounded&&o.isFilled)g(d,c.calc,o,m,p,v);else if(o.isFilled){var T=d.fillTint,E=l.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*m);T.TL=E,T.TR=E,T.BL=E,T.BR=E,d.batchFillRect(-p,-v,o.width,o.height)}o.isStroked&&f(d,o,m,p,v),r.pipelines.postBatch(o)};C.exports=h},55911:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(81991),y=s(83419),f=s(94811),l=s(17803),h=new y({Extends:l,Mixins:[g],initialize:function(o,u,a,d,c,p,v,m){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=5),c===void 0&&(c=32),p===void 0&&(p=64),l.call(this,o,"Star",null),this._points=d,this._innerRadius=c,this._outerRadius=p,this.setPosition(u,a),this.setSize(p*2,p*2),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(r){return this._points=r,this.updateData()},setInnerRadius:function(r){return this._innerRadius=r,this.updateData()},setOuterRadius:function(r){return this._outerRadius=r,this.updateData()},points:{get:function(){return this._points},set:function(r){this._points=r,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(r){this._innerRadius=r,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(r){this._outerRadius=r,this.updateData()}},updateData:function(){var r=[],o=this._points,u=this._innerRadius,a=this._outerRadius,d=Math.PI/2*3,c=Math.PI/o,p=a,v=a;r.push(p,v+-a);for(var m=0;m<o;m++)r.push(p+Math.cos(d)*a,v+Math.sin(d)*a),d+=c,r.push(p+Math.cos(d)*u,v+Math.sin(d)*u),d+=c;return r.push(p,v+-a),this.pathIndexes=f(r),this.pathData=r,this}});C.exports=h},64272:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(h,r,o,u){o.addToRenderList(r);var a=h.currentContext;if(f(h,a,r,o,u)){var d=r._displayOriginX,c=r._displayOriginY,p=r.pathData,v=p.length-1,m=p[0]-d,T=p[1]-c;a.beginPath(),a.moveTo(m,T),r.closePath||(v-=2);for(var E=2;E<v;E+=2){var P=p[E]-d,w=p[E+1]-c;a.lineTo(P,w)}a.closePath(),r.isFilled&&(g(a,r),a.fill()),r.isStroked&&(y(a,r),a.stroke()),a.restore()}};C.exports=l},93697:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(55911),y=s(39429);y.register("star",function(f,l,h,r,o,u,a){return this.displayList.add(new g(this.scene,f,l,h,r,o,u,a))})},81991:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(57017),f=s(64272),C.exports={renderWebGL:y,renderCanvas:f}},57017:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10441),y=s(91296),f=s(34682),l=function(h,r,o,u){o.addToRenderList(r);var a=h.pipelines.set(r.pipeline),d=y(r,o,u),c=a.calcMatrix.copyFrom(d.calc),p=r._displayOriginX,v=r._displayOriginY,m=o.alpha*r.alpha;h.pipelines.preBatch(r),r.isFilled&&g(a,c,r,m,p,v),r.isStroked&&f(a,r,m,p,v),h.pipelines.postBatch(r)};C.exports=l},36931:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(17803),f=s(16483),l=s(96195),h=new g({Extends:y,Mixins:[l],initialize:function(o,u,a,d,c,p,v,m,T,E,P){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=128),p===void 0&&(p=64),v===void 0&&(v=0),m===void 0&&(m=128),T===void 0&&(T=128),y.call(this,o,"Triangle",new f(d,c,p,v,m,T));var w=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(u,a),this.setSize(w,R),E!==void 0&&this.setFillStyle(E,P),this.updateDisplayOrigin(),this.updateData()},setTo:function(r,o,u,a,d,c){return this.geom.setTo(r,o,u,a,d,c),this.updateData()},updateData:function(){var r=[],o=this.geom,u=this._tempLine;return o.getLineA(u),r.push(u.x1,u.y1,u.x2,u.y2),o.getLineB(u),r.push(u.x2,u.y2),o.getLineC(u),r.push(u.x2,u.y2),this.pathData=r,this}});C.exports=h},85172:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(65960),y=s(75177),f=s(20926),l=function(h,r,o,u){o.addToRenderList(r);var a=h.currentContext;if(f(h,a,r,o,u)){var d=r._displayOriginX,c=r._displayOriginY,p=r.geom.x1-d,v=r.geom.y1-c,m=r.geom.x2-d,T=r.geom.y2-c,E=r.geom.x3-d,P=r.geom.y3-c;a.beginPath(),a.moveTo(p,v),a.lineTo(m,T),a.lineTo(E,P),a.closePath(),r.isFilled&&(g(a,r),a.fill()),r.isStroked&&(y(a,r),a.stroke()),a.restore()}};C.exports=l},45245:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(36931);g.register("triangle",function(f,l,h,r,o,u,a,d,c,p){return this.displayList.add(new y(this.scene,f,l,h,r,o,u,a,d,c,p))})},96195:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(83253),f=s(85172),C.exports={renderWebGL:y,renderCanvas:f}},83253:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=s(34682),f=s(70554),l=function(h,r,o,u){o.addToRenderList(r);var a=h.pipelines.set(r.pipeline),d=g(r,o,u);a.calcMatrix.copyFrom(d.calc);var c=r._displayOriginX,p=r._displayOriginY,v=o.alpha*r.alpha;if(h.pipelines.preBatch(r),r.isFilled){var m=a.fillTint,T=f.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*v);m.TL=T,m.TR=T,m.BL=T,m.BR=T;var E=r.geom.x1-c,P=r.geom.y1-p,w=r.geom.x2-c,R=r.geom.y2-p,b=r.geom.x3-c,O=r.geom.y3-p;a.batchFillTriangle(E,P,w,R,b,O,d.sprite,d.camera)}r.isStroked&&y(a,r,v,c,p),h.pipelines.postBatch(r)};C.exports=l},68287:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(9674),y=s(83419),f=s(31401),l=s(95643),h=s(92751),r=new y({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,h],initialize:function(u,a,d,c,p){l.call(this,u,"Sprite"),this._crop=this.resetCropObject(),this.anims=new g(this),this.setTexture(c,p),this.setPosition(a,d),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(o,u){this.anims.update(o,u)},play:function(o,u){return this.anims.play(o,u)},playReverse:function(o,u){return this.anims.playReverse(o,u)},playAfterDelay:function(o,u){return this.anims.playAfterDelay(o,u)},playAfterRepeat:function(o,u){return this.anims.playAfterRepeat(o,u)},chain:function(o){return this.anims.chain(o)},stop:function(){return this.anims.stop()},stopAfterDelay:function(o){return this.anims.stopAfterDelay(o)},stopAfterRepeat:function(o){return this.anims.stopAfterRepeat(o)},stopOnFrame:function(o){return this.anims.stopOnFrame(o)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});C.exports=r},76552:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g),s.batchSprite(g,g.frame,y,f)};C.exports=A},15567:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(13059),f=s(44603),l=s(23568),h=s(68287);f.register("sprite",function(r,o){r===void 0&&(r={});var u=l(r,"key",null),a=l(r,"frame",null),d=new h(this.scene,0,0,u,a);return o!==void 0&&(r.add=o),g(this.scene,d,r),y(d,r),d})},46409:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(68287);g.register("sprite",function(f,l,h,r){return this.displayList.add(new y(this.scene,f,l,h,r))})},92751:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(9409),f=s(76552),C.exports={renderWebGL:y,renderCanvas:f}},9409:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y.addToRenderList(g),g.pipeline.batchSprite(g,y,f)};C.exports=A},14220:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=s.canvas,l=s.context,h=s.style,r=[],o=0,u=y.length;h.maxLines>0&&h.maxLines<y.length&&(u=h.maxLines),h.syncFont(f,l);for(var a=s.letterSpacing,d=0;d<u;d++){var c=h.strokeThickness;if(a===0)c+=l.measureText(y[d]).width;else{for(var p=y[d],v=0;v<p.length;v++)c+=l.measureText(p[v]).width;p.length>1&&(c+=a*(p.length-1))}h.wordWrap&&(c-=l.measureText(" ").width),r[d]=Math.ceil(c),o=Math.max(o,r[d])}var m=g.fontSize+h.strokeThickness,T=m*u,E=s.lineSpacing;return u>1&&(T+=E*(u-1)),{width:o,height:T,lines:u,lineWidths:r,lineSpacing:E,lineHeight:m}};C.exports=A},79557:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=function(f){var l=g.create(this),h=l.getContext("2d",{willReadFrequently:!0});f.syncFont(l,h);var r=h.measureText(f.testString);if("actualBoundingBoxAscent"in r){var o=r.actualBoundingBoxAscent,u=r.actualBoundingBoxDescent;return g.remove(l),{ascent:o,descent:u,fontSize:o+u}}var a=Math.ceil(r.width*f.baselineX),d=a,c=2*d;d=d*f.baselineY|0,l.width=a,l.height=c,h.fillStyle="#f00",h.fillRect(0,0,a,c),h.font=f._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(f.testString,0,d);var p={ascent:0,descent:0,fontSize:0},v=h.getImageData(0,0,a,c);if(!v)return p.ascent=d,p.descent=d+6,p.fontSize=p.ascent+p.descent,g.remove(l),p;var m=v.data,T=m.length,E=a*4,P,w,R=0,b=!1;for(P=0;P<d;P++){for(w=0;w<E;w+=4)if(m[R+w]!==255){b=!0;break}if(!b)R+=E;else break}for(p.ascent=d-P,R=T-E,b=!1,P=c;P>d;P--){for(w=0;w<E;w+=4)if(m[R+w]!==255){b=!0;break}if(!b)R-=E;else break}return p.descent=P-d,p.fontSize=p.ascent+p.descent,g.remove(l),p};C.exports=y},50171:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(40366),y=s(27919),f=s(83419),l=s(31401),h=s(95643),r=s(14220),o=s(35154),u=s(35846),a=s(61771),d=s(35762),c=s(45650),p=new f({Extends:h,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,a],initialize:function(m,T,E,P,w){T===void 0&&(T=0),E===void 0&&(E=0),h.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(T,E),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=y.create(this),this.context,this.style=new d(this,w),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(P),w&&w.padding&&this.setPadding(w.padding),w&&w.lineSpacing&&this.setLineSpacing(w.lineSpacing),w&&w.letterSpacing&&this.setLetterSpacing(w.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",g(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(v){var m=this.style;if(m.wordWrapCallback){var T=m.wordWrapCallback.call(m.wordWrapCallbackScope,v,this);return Array.isArray(T)&&(T=T.join(`
`)),T}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,m,T){for(var E="",P=v.replace(/ +/gi," ").split(this.splitRegExp),w=P.length,R=0;R<w;R++){var b=P[R],O="";b=b.replace(/^ *|\s*$/gi,"");var I=b.length*this.letterSpacing,D=m.measureText(b).width+I;if(D<T){E+=b+`
`;continue}for(var B=T,k=b.split(" "),z=0;z<k.length;z++){var X=k[z],K=X+" ",H=K.length*this.letterSpacing,Q=m.measureText(K).width+H;if(Q>B){if(z===0){for(var W=K;W.length;){W=W.slice(0,-1);var Y=W.length*this.letterSpacing;if(Q=m.measureText(W).width+Y,Q<=B)break}if(!W.length)throw new Error("wordWrapWidth < a single character");var N=X.substr(W.length);k[z]=N,O+=W}var Z=k[z].length?z:z+1,U=k.slice(Z).join(" ").replace(/[ \n]*$/gi,"");P.splice(R+1,0,U),w=P.length;break}else O+=K,B-=Q}E+=O.replace(/[ \n]*$/gi,"")+`
`}return E=E.replace(/[\s|\n]*$/gi,""),E},basicWordWrap:function(v,m,T){for(var E="",P=v.split(this.splitRegExp),w=P.length-1,R=m.measureText(" ").width,b=0;b<=w;b++){for(var O=T,I=P[b].split(" "),D=I.length-1,B=0;B<=D;B++){var k=I[B],z=k.length*this.letterSpacing,X=m.measureText(k).width+z,K=X;B<D&&(K+=R),K>O&&B>0&&(E+=`
`,O=T),E+=k,B<D?(E+=" ",O-=K):O-=X}b<w&&(E+=`
`)}return E},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(v);return m.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,m){m===void 0&&(m=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var T=this._text.concat(m?`
`+v:v);return T!==this._text&&(this._text=T,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,m){return this.style.setFixedSize(v,m)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,m){return this.style.setStroke(v,m)},setShadow:function(v,m,T,E,P,w){return this.style.setShadow(v,m,T,E,P,w)},setShadowOffset:function(v,m){return this.style.setShadowOffset(v,m)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,m){return this.style.setWordWrapWidth(v,m)},setWordWrapCallback:function(v,m){return this.style.setWordWrapCallback(v,m)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,m,T,E){if(typeof v=="object"){var P=v,w=o(P,"x",null);w!==null?(v=w,T=w):(v=o(P,"left",0),T=o(P,"right",v));var R=o(P,"y",null);R!==null?(m=R,E=R):(m=o(P,"top",0),E=o(P,"bottom",m))}else v===void 0&&(v=0),m===void 0&&(m=v),T===void 0&&(T=v),E===void 0&&(E=m);return this.padding.left=v,this.padding.top=m,this.padding.right=T,this.padding.bottom=E,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){v===void 0&&(v=!0);var m=this.style;return m.rtl===v?this:(m.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",g(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var v=this.canvas,m=this.context,T=this.style,E=T.resolution,P=T.metrics;T.syncFont(v,m);var w=this._text;(T.wordWrapWidth||T.wordWrapCallback)&&(w=this.runWordWrap(this._text));var R=w.split(this.splitRegExp),b=r(this,P,R),O=this.padding,I;T.fixedWidth===0?(this.width=b.width+O.left+O.right,I=b.width):(this.width=T.fixedWidth,I=this.width-O.left-O.right,I<b.width&&(I=b.width)),T.fixedHeight===0?this.height=b.height+O.top+O.bottom:this.height=T.fixedHeight;var D=this.width,B=this.height;this.updateDisplayOrigin(),D*=E,B*=E,D=Math.max(D,1),B=Math.max(B,1),v.width!==D||v.height!==B?(v.width=D,v.height=B,this.frame.setSize(D,B),T.syncFont(v,m),T.rtl&&(m.direction="rtl")):m.clearRect(0,0,D,B),m.save(),m.scale(E,E),T.backgroundColor&&(m.fillStyle=T.backgroundColor,m.fillRect(0,0,D,B)),T.syncStyle(v,m),m.translate(O.left,O.top);for(var k,z,X=0;X<b.lines;X++){if(k=T.strokeThickness/2,z=T.strokeThickness/2+X*b.lineHeight+P.ascent,X>0&&(z+=b.lineSpacing*X),T.rtl)k=D-k-O.left-O.right;else if(T.align==="right")k+=I-b.lineWidths[X];else if(T.align==="center")k+=(I-b.lineWidths[X])/2;else if(T.align==="justify"){var K=.85;if(b.lineWidths[X]/b.width>=K){var H=b.width-b.lineWidths[X],Q=m.measureText(" ").width,W=R[X].trim(),Y=W.split(" ");H+=(R[X].length-W.length)*Q;for(var N=Math.floor(H/Q),Z=0;N>0;)Y[Z]+=" ",Z=(Z+1)%(Y.length-1||1),--N;R[X]=Y.join(" ")}}this.autoRound&&(k=Math.round(k),z=Math.round(z));var U=this.letterSpacing;if(T.strokeThickness&&U===0&&(T.syncShadow(m,T.shadowStroke),m.strokeText(R[X],k,z)),T.color)if(T.syncShadow(m,T.shadowFill),U!==0)for(var j=0,et=R[X].split(""),it=0;it<et.length;it++)T.strokeThickness&&(T.syncShadow(m,T.shadowStroke),m.strokeText(et[it],k+j,z),T.syncShadow(m,T.shadowFill)),m.fillText(et[it],k+j,z),j+=m.measureText(et[it]).width+U;else m.fillText(R[X],k,z)}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var rt=this.input;return rt&&!rt.customHitArea&&(rt.hitArea.width=this.width,rt.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=l.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=m,v},preDestroy:function(){u(this.canvas),y.remove(this.canvas);var v=this.texture;v&&v.destroy()}});C.exports=p},79724:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g.width===0||g.height===0||(y.addToRenderList(g),s.batchSprite(g,g.frame,y,f))};C.exports=A},71259:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(50171);y.register("text",function(h,r){h===void 0&&(h={});var o=f(h,"text",""),u=f(h,"style",null),a=f(h,"padding",null);a!==null&&(u.padding=a);var d=new l(this.scene,0,0,o,u);return r!==void 0&&(h.add=r),g(this.scene,d,h),d.autoRound=f(h,"autoRound",!0),d.resolution=f(h,"resolution",1),d})},68005:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(50171),y=s(39429);y.register("text",function(f,l,h,r){return this.displayList.add(new g(this.scene,f,l,h,r))})},61771:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(34397),f=s(79724),C.exports={renderWebGL:y,renderCanvas:f}},35762:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23568),f=s(35154),l=s(79557),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},r=new g({initialize:function(u,a){this.parent=u,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(a,!1,!0)},setStyle:function(o,u,a){u===void 0&&(u=!0),a===void 0&&(a=!1);for(var d in h){var c=a?h[d][1]:this[d];d==="wordWrapCallback"||d==="wordWrapCallbackScope"?this[d]=f(o,h[d][0],c):o&&d==="fontSize"&&typeof o.fontSize=="number"?this[d]=o.fontSize.toString()+"px":this[d]=y(o,h[d][0],c)}var p=f(o,"font",null);p!==null&&this.setFont(p,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=f(o,"fill",null);v!==null&&(this.color=v);var m=f(o,"metrics",!1);return m?this.metrics={ascent:f(m,"ascent",0),descent:f(m,"descent",0),fontSize:f(m,"fontSize",0)}:(u||!this.metrics)&&(this.metrics=l(this)),u?this.parent.updateText():this.parent},syncFont:function(o,u){u.font=this._font},syncStyle:function(o,u){u.textBaseline="alphabetic",u.fillStyle=this.color,u.strokeStyle=this.stroke,u.lineWidth=this.strokeThickness,u.lineCap="round",u.lineJoin="round"},syncShadow:function(o,u){u?(o.shadowOffsetX=this.shadowOffsetX,o.shadowOffsetY=this.shadowOffsetY,o.shadowColor=this.shadowColor,o.shadowBlur=this.shadowBlur):(o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowColor=0,o.shadowBlur=0)},update:function(o){return o&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=l(this)),this.parent.updateText()},setFont:function(o,u){u===void 0&&(u=!0);var a=o,d="",c="";if(typeof o!="string")a=f(o,"fontFamily","Courier"),d=f(o,"fontSize","16px"),c=f(o,"fontStyle","");else{var p=o.split(" "),v=0;c=p.length>2?p[v++]:"",d=p[v++]||"16px",a=p[v++]||"Courier"}return(a!==this.fontFamily||d!==this.fontSize||c!==this.fontStyle)&&(this.fontFamily=a,this.fontSize=d,this.fontStyle=c,u&&this.update(!0)),this.parent},setFontFamily:function(o){return this.fontFamily!==o&&(this.fontFamily=o,this.update(!0)),this.parent},setFontStyle:function(o){return this.fontStyle!==o&&(this.fontStyle=o,this.update(!0)),this.parent},setFontSize:function(o){return typeof o=="number"&&(o=o.toString()+"px"),this.fontSize!==o&&(this.fontSize=o,this.update(!0)),this.parent},setTestString:function(o){return this.testString=o,this.update(!0)},setFixedSize:function(o,u){return this.fixedWidth=o,this.fixedHeight=u,o&&(this.parent.width=o),u&&(this.parent.height=u),this.update(!1)},setBackgroundColor:function(o){return this.backgroundColor=o,this.update(!1)},setFill:function(o){return this.color=o,this.update(!1)},setColor:function(o){return this.color=o,this.update(!1)},setResolution:function(o){return this.resolution=o,this.update(!1)},setStroke:function(o,u){return u===void 0&&(u=this.strokeThickness),o===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==o||this.strokeThickness!==u)&&(this.stroke=o,this.strokeThickness=u,this.update(!0)),this.parent},setShadow:function(o,u,a,d,c,p){return o===void 0&&(o=0),u===void 0&&(u=0),a===void 0&&(a="#000"),d===void 0&&(d=0),c===void 0&&(c=!1),p===void 0&&(p=!0),this.shadowOffsetX=o,this.shadowOffsetY=u,this.shadowColor=a,this.shadowBlur=d,this.shadowStroke=c,this.shadowFill=p,this.update(!1)},setShadowOffset:function(o,u){return o===void 0&&(o=0),u===void 0&&(u=o),this.shadowOffsetX=o,this.shadowOffsetY=u,this.update(!1)},setShadowColor:function(o){return o===void 0&&(o="#000"),this.shadowColor=o,this.update(!1)},setShadowBlur:function(o){return o===void 0&&(o=0),this.shadowBlur=o,this.update(!1)},setShadowStroke:function(o){return this.shadowStroke=o,this.update(!1)},setShadowFill:function(o){return this.shadowFill=o,this.update(!1)},setWordWrapWidth:function(o,u){return u===void 0&&(u=!1),this.wordWrapWidth=o,this.wordWrapUseAdvanced=u,this.update(!1)},setWordWrapCallback:function(o,u){return u===void 0&&(u=null),this.wordWrapCallback=o,this.wordWrapCallbackScope=u,this.update(!1)},setAlign:function(o){return o===void 0&&(o="left"),this.align=o,this.update(!1)},setMaxLines:function(o){return o===void 0&&(o=0),this.maxLines=o,this.update(!1)},getTextMetrics:function(){var o=this.metrics;return{ascent:o.ascent,descent:o.descent,fontSize:o.fontSize}},toJSON:function(){var o={};for(var u in h)o[u]=this[u];return o.metrics=this.getTextMetrics(),o},destroy:function(){this.parent=void 0}});C.exports=r},34397:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70554),y=function(f,l,h,r){if(!(l.width===0||l.height===0)){h.addToRenderList(l);var o=l.frame,u=o.width,a=o.height,d=g.getTintAppendFloatAlpha,c=f.pipelines.set(l.pipeline,l),p=c.setTexture2D(o.glTexture,l);c.batchTexture(l,o.glTexture,u,a,l.x,l.y,u/l.style.resolution,a/l.style.resolution,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,u,a,d(l.tintTopLeft,h.alpha*l._alphaTL),d(l.tintTopRight,h.alpha*l._alphaTR),d(l.tintBottomLeft,h.alpha*l._alphaBL),d(l.tintBottomRight,h.alpha*l._alphaBR),l.tintFill,0,0,h,r,!1,p)}};C.exports=y},20839:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=s(83419),f=s(31401),l=s(95643),h=s(98439),r=s(68703),o=s(56295),u=s(45650),a=s(26099),d=8,c=new y({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,o],initialize:function(v,m,T,E,P,w,R){var b=v.sys.renderer;l.call(this,v,"TileSprite");var O=v.sys.textures.get(w),I=O.get(R);I.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),O=v.sys.textures.get("__MISSING"),I=O.get()),O.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),O=v.sys.textures.get("__MISSING"),I=O.get()),!E||!P?(E=E||I.width,P=P||I.height):(E=Math.floor(E),P=Math.floor(P)),this._tilePosition=new a,this._tileScale=new a(1,1),this.dirty=!1,this.renderer=b,this.canvas=g.create(this,E,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=O,this.displayFrame=I,this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=h(I.width),this.potHeight=h(I.height),this.fillCanvas=g.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,T),this.setSize(E,P),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(p,v){return this.displayTexture=this.scene.sys.textures.get(p),this.setFrame(v)},setFrame:function(p){var v=this.displayTexture.get(p);return this.potWidth=h(v.width),this.potHeight=h(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=~d:this.renderFlags|=d,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(p,v){return p!==void 0&&(this.tilePositionX=p),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(p,v){return p===void 0&&(p=this.tileScaleX),v===void 0&&(v=p),this.tileScaleX=p,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var p=this.displayFrame;if(p.source.isRenderTexture||p.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,m=this.fillCanvas,T=this.potWidth,E=this.potHeight;(!this.renderer||!this.renderer.gl)&&(T=p.cutWidth,E=p.cutHeight),v.clearRect(0,0,T,E),m.width=T,m.height=E,v.drawImage(p.source.image,p.cutX,p.cutY,p.cutWidth,p.cutHeight,0,0,T,E),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=v.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var p=this.canvas;if((p.width!==this.width||p.height!==this.height)&&(p.width=this.width,p.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||r.disable(v);var m=this._tileScale.x,T=this._tileScale.y,E=this._tilePosition.x,P=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(m,T),v.translate(-E,-P),v.fillStyle=this.fillPattern,v.fillRect(E,P,this.width/m,this.height/T),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),g.remove(this.canvas),g.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var p=this.texture;p&&p.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(p){this._tilePosition.x=p,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(p){this._tilePosition.y=p,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(p){this._tileScale.x=p,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(p){this._tileScale.y=p,this.dirty=!0}}});C.exports=c},46992:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g.updateCanvas(),y.addToRenderList(g),s.batchSprite(g,g.frame,y,f)};C.exports=A},14167:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(20839);y.register("tileSprite",function(h,r){h===void 0&&(h={});var o=f(h,"x",0),u=f(h,"y",0),a=f(h,"width",512),d=f(h,"height",512),c=f(h,"key",""),p=f(h,"frame",""),v=new l(this.scene,o,u,a,d,c,p);return r!==void 0&&(h.add=r),g(this.scene,v,h),v})},91681:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20839),y=s(39429);y.register("tileSprite",function(f,l,h,r,o,u){return this.displayList.add(new g(this.scene,f,l,h,r,o,u))})},56295:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(18553),f=s(46992),C.exports={renderWebGL:y,renderCanvas:f}},18553:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70554),y=function(f,l,h,r){l.updateCanvas();var o=l.width,u=l.height;if(!(o===0||u===0)){h.addToRenderList(l);var a=g.getTintAppendFloatAlpha,d=f.pipelines.set(l.pipeline,l),c=d.setTexture2D(l.fillPattern,l);d.batchTexture(l,l.fillPattern,l.displayFrame.width*l.tileScaleX,l.displayFrame.height*l.tileScaleY,l.x,l.y,o,u,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.originX*o,l.originY*u,0,0,o,u,a(l.tintTopLeft,h.alpha*l._alphaTL),a(l.tintTopRight,h.alpha*l._alphaTR),a(l.tintBottomLeft,h.alpha*l._alphaBL),a(l.tintBottomRight,h.alpha*l._alphaBR),l.tintFill,l.tilePositionX%l.displayFrame.width/l.displayFrame.width,l.tilePositionY%l.displayFrame.height/l.displayFrame.height,h,r,!1,c)}};C.exports=y},18471:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(31401),l=s(51708),h=s(8443),r=s(95643),o=s(36383),u=s(14463),a=s(45650),d=s(10247),c=new y({Extends:r,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.TextureCrop,f.Tint,f.Transform,f.Visible,d],initialize:function(v,m,T,E){r.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=a(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var P=v.sys.game;this._device=P.device.video,this.setPosition(m,T),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),P.events.on(h.PAUSE,this.globalPause,this),P.events.on(h.RESUME,this.globalResume,this);var w=v.sys.sound;w&&w.on(u.GLOBAL_MUTE,this.globalMute,this),E&&this.load(E)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(p){var v=this.scene.sys.cache.video.get(p);return v?(this.cacheKey=p,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+p),this},changeSource:function(p,v,m,T,E){v===void 0&&(v=!0),m===void 0&&(m=!1),this.cacheKey!==p&&(this.load(p),v&&this.play(m,T,E))},getVideoKey:function(){return this.cacheKey},loadURL:function(p,v,m){v===void 0&&(v=!1);var T=this._device.getVideoURL(p);return T?(this.cacheKey="",this.loadHandler(T.url,v,m)):console.warn("No supported video format found for "+p),this},loadMediaStream:function(p,v,m){return this.loadHandler(null,v,m,p)},loadHandler:function(p,v,m,T){v||(v=!1);var E=this.video;if(E?(this.removeLoadEventHandlers(),this.stop()):(E=document.createElement("video"),E.controls=!1,E.setAttribute("playsinline","playsinline"),E.setAttribute("preload","auto"),E.setAttribute("disablePictureInPicture","true")),v?(E.muted=!0,E.defaultMuted=!0,E.setAttribute("autoplay","autoplay")):(E.muted=!1,E.defaultMuted=!1,E.removeAttribute("autoplay")),m?E.setAttribute("crossorigin",m):E.removeAttribute("crossorigin"),T)if("srcObject"in E)try{E.srcObject=T}catch(w){if(w.name!=="TypeError")throw w;E.src=URL.createObjectURL(T)}else E.src=URL.createObjectURL(T);else E.src=p;this.retry=0,this.video=E,this._playCalled=!1,E.load(),this.addLoadEventHandlers();var P=this.scene.sys.textures.get(this._key);return this.setTexture(P),this},requestVideoFrame:function(p,v){var m=this.video;if(m){var T=v.width,E=v.height,P=this.videoTexture,w=this.videoTextureSource,R=!P||w.source!==m;R?(this._codePaused=m.paused,this._codeMuted=m.muted,P?(w.source=m,w.width=T,w.height=E,P.get().setSize(T,E)):(P=this.scene.sys.textures.create(this._key,m,T,E),P.add("__BASE",0,0,0,T,E),this.setTexture(P),this.videoTexture=P,this.videoTextureSource=P.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(l.VIDEO_TEXTURE,this,P)),this.setSizeToFrame(),this.updateDisplayOrigin()):w.update(),this.isStalled=!1,this.metadata=v;var b=v.mediaTime;R&&(this._lastUpdate=b,this.emit(l.VIDEO_CREATED,this,T,E),this.frameReady||(this.frameReady=!0,this.emit(l.VIDEO_PLAY,this))),this._playingMarker?b>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.emit(l.VIDEO_LOOP,this)):(this.stop(!1),this.emit(l.VIDEO_COMPLETE,this))):b<this._lastUpdate&&this.emit(l.VIDEO_LOOP,this),this._lastUpdate=b,this._getFrame?(this.removeEventHandlers(),m.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(p,v,m){v===void 0&&(v=-1),m===void 0&&(m=o.MAX_SAFE_INTEGER);var T=this.video;return!T||this.isPlaying()?(T||console.warn("Video not loaded"),this):(p===void 0&&(p=T.loop),T.loop=p,this._markerIn=v,this._markerOut=m,this._playingMarker=v>-1&&m>v&&m<o.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=T.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var p=this.video;return!p||this.isPlaying()?(p||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=p.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var p=this.video;p&&(p.addEventListener("error",this._loadCallbackHandler),p.addEventListener("abort",this._loadCallbackHandler),p.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var p=this.video;p&&(p.removeEventListener("error",this._loadCallbackHandler),p.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var p=this.video;if(p){var v=this._callbacks;for(var m in v)p.addEventListener(m,v[m])}},removeEventHandlers:function(){var p=this.video;if(p){var v=this._callbacks;for(var m in v)p.removeEventListener(m,v[m])}},createPlayPromise:function(p){p===void 0&&(p=!0);var v=this.video,m=v.play();if(m!==void 0){var T=this.playSuccess.bind(this),E=this.playError.bind(this);if(!p){var P=this;E=function(){P.failedPlayAttempts++}}m.then(T).catch(E)}else v.addEventListener("playing",this._callbacks.legacy),p||this.failedPlayAttempts++},addMarker:function(p,v,m){return!isNaN(v)&&v>=0&&!isNaN(m)&&m>v&&(this.markers[p]=[v,m]),this},playMarker:function(p,v){var m=this.markers[p];return m&&this.play(v,m[0],m[1]),this},removeMarker:function(p){return delete this.markers[p],this},snapshot:function(p,v){return p===void 0&&(p=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,p,v)},snapshotArea:function(p,v,m,T,E,P){p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=this.width),T===void 0&&(T=this.height),E===void 0&&(E=m),P===void 0&&(P=T);var w=this.video,R=this.snapshotTexture;return R?(R.setSize(E,P),w&&R.context.drawImage(w,p,v,m,T,0,0,E,P)):(R=this.scene.sys.textures.createCanvas(a(),E,P),this.snapshotTexture=R,w&&R.context.drawImage(w,p,v,m,T,0,0,E,P)),R.update()},saveSnapshotTexture:function(p){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,p):this.snapshotTexture=this.scene.sys.textures.createCanvas(p,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(l.VIDEO_UNLOCKED,this));var p=this.scene.sys.sound;p&&p.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(p){var v=p.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(l.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(l.VIDEO_UNSUPPORTED,this,p)):(this.stop(!1),this.emit(l.VIDEO_ERROR,this,p))},legacyPlayHandler:function(){var p=this.video;p&&(this.playSuccess(),p.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(l.VIDEO_PLAYING,this)},loadErrorHandler:function(p){this.stop(!1),this.emit(l.VIDEO_ERROR,this,p)},metadataHandler:function(p){this.emit(l.VIDEO_METADATA,this,p)},setSizeToFrame:function(p){p||(p=this.frame),this.width=p.realWidth,this.height=p.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(p){this.isStalled=!0,this.emit(l.VIDEO_STALLED,this,p)},completeHandler:function(){this._playCalled=!1,this.emit(l.VIDEO_COMPLETE,this)},preUpdate:function(p,v){var m=this.video;!m||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(p){var v=this.video;if(v){var m=v.duration;if(m!==1/0&&!isNaN(m)){var T=m*p;this.setCurrentTime(T)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(p){var v=this.video;if(v){if(typeof p=="string"){var m=p[0],T=parseFloat(p.substr(1));m==="+"?p=v.currentTime+T:m==="-"&&(p=v.currentTime-T)}v.currentTime=p}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(l.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(l.VIDEO_SEEKED,this)},getProgress:function(){var p=this.video;if(p){var v=p.duration;if(v!==1/0&&!isNaN(v))return p.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(p){p===void 0&&(p=!0),this._codeMuted=p;var v=this.video;return v&&(v.muted=this._systemMuted?!0:p),this},isMuted:function(){return this._codeMuted},globalMute:function(p,v){this._systemMuted=v;var m=this.video;m&&(m.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(p){p===void 0&&(p=!0);var v=this.video;return this._codePaused=p,v&&!v.ended&&(p?v.paused||(this.removeEventHandlers(),v.pause()):p||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(p){return p===void 0&&(p=1),this.video&&(this.video.volume=g(p,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(p){return this.video&&(this.video.playbackRate=p),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(p){return p===void 0&&(p=!0),this.video&&(this.video.loop=p),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(p,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,p),this.videoTextureSource.setFlipY(v)),this._key=p,this.flipY=v,!!this.videoTexture},stop:function(p){p===void 0&&(p=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,p&&this.emit(l.VIDEO_STOP,this),this},removeVideoElement:function(){var p=this.video;if(p){for(p.parentNode&&p.parentNode.removeChild(p);p.hasChildNodes();)p.removeChild(p.firstChild);p.removeAttribute("autoplay"),p.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var p=this.scene.sys.game.events;p.off(h.PAUSE,this.globalPause,this),p.off(h.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(u.GLOBAL_MUTE,this.globalMute,this)}});C.exports=c},58352:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g.videoTexture&&(y.addToRenderList(g),s.batchSprite(g,g.frame,y,f))};C.exports=A},11511:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25305),y=s(44603),f=s(23568),l=s(18471);y.register("video",function(h,r){h===void 0&&(h={});var o=f(h,"key",null),u=new l(this.scene,0,0,o);return r!==void 0&&(h.add=r),g(this.scene,u,h),u})},89025:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(18471),y=s(39429);y.register("video",function(f,l,h){return this.displayList.add(new g(this.scene,f,l,h))})},10247:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(29849),f=s(58352),C.exports={renderWebGL:y,renderCanvas:f}},29849:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g.videoTexture&&(y.addToRenderList(g),g.pipeline.batchSprite(g,y,f))};C.exports=A},41481:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(96503),f=s(87902),l=s(83419),h=s(31401),r=s(95643),o=s(87841),u=s(37303),a=new l({Extends:r,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(c,p,v,m,T){m===void 0&&(m=1),T===void 0&&(T=m),r.call(this,c,"Zone"),this.setPosition(p,v),this.width=m,this.height=T,this.blendMode=g.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,c,p){p===void 0&&(p=!0),this.width=d,this.height=c,this.updateDisplayOrigin();var v=this.input;return p&&v&&!v.customHitArea&&(v.hitArea.width=d,v.hitArea.height=c),this},setDisplaySize:function(d,c){return this.displayWidth=d,this.displayHeight=c,this},setCircleDropZone:function(d){return this.setDropZone(new y(0,0,d),f)},setRectangleDropZone:function(d,c){return this.setDropZone(new o(0,0,d,c),u)},setDropZone:function(d,c){return this.input||this.setInteractive(d,c,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(d,c,p){p.addToRenderList(c)},renderWebGL:function(d,c,p){p.addToRenderList(c)}});C.exports=a},95261:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(44603),y=s(23568),f=s(41481);g.register("zone",function(l){var h=y(l,"x",0),r=y(l,"y",0),o=y(l,"width",1),u=y(l,"height",o);return new f(this.scene,h,r,o,u)})},84175:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41481),y=s(39429);y.register("zone",function(f,l,h,r){return this.displayList.add(new g(this.scene,f,l,h,r))})},95166:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.radius>0?Math.PI*s.radius*s.radius:0};C.exports=A},96503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(87902),f=s(26241),l=s(79124),h=s(23777),r=s(28176),o=new g({initialize:function(a,d,c){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),this.type=h.CIRCLE,this.x=a,this.y=d,this._radius=c,this._diameter=c*2},contains:function(u,a){return y(this,u,a)},getPoint:function(u,a){return f(this,u,a)},getPoints:function(u,a,d){return l(this,u,a,d)},getRandomPoint:function(u){return r(this,u)},setTo:function(u,a,d){return this.x=u,this.y=a,this._radius=d,this._diameter=d*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(u,a){return a===void 0&&(a=u),this.x=u,this.y=a,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this._diameter=u*2}},diameter:{get:function(){return this._diameter},set:function(u){this._diameter=u,this._radius=u*.5}},left:{get:function(){return this.x-this._radius},set:function(u){this.x=u+this._radius}},right:{get:function(){return this.x+this._radius},set:function(u){this.x=u-this._radius}},top:{get:function(){return this.y-this._radius},set:function(u){this.y=u+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(u){this.y=u-this._radius}}});C.exports=o},71562:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return 2*(Math.PI*s.radius)};C.exports=A},92110:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,h){return h===void 0&&(h=new g),h.x=f.x+f.radius*Math.cos(l),h.y=f.y+f.radius*Math.sin(l),h};C.exports=y},42250:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(96503),y=function(f){return new g(f.x,f.y,f.radius)};C.exports=y},87902:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(s.radius>0&&g>=s.left&&g<=s.right&&y>=s.top&&y<=s.bottom){var f=(s.x-g)*(s.x-g),l=(s.y-y)*(s.y-y);return f+l<=s.radius*s.radius}else return!1};C.exports=A},5698:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87902),y=function(f,l){return g(f,l.x,l.y)};C.exports=y},70588:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87902),y=function(f,l){return g(f,l.x,l.y)&&g(f,l.right,l.y)&&g(f,l.x,l.bottom)&&g(f,l.right,l.bottom)};C.exports=y},26394:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x,s.y,s.radius)};C.exports=A},76278:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x===g.x&&s.y===g.y&&s.radius===g.radius};C.exports=A},2074:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l){return l===void 0&&(l=new g),l.x=f.left,l.y=f.top,l.width=f.diameter,l.height=f.diameter,l};C.exports=y},26241:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(92110),y=s(62945),f=s(36383),l=s(2141),h=function(r,o,u){u===void 0&&(u=new l);var a=y(o,0,f.PI2);return g(r,a,u)};C.exports=h},79124:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(71562),y=s(92110),f=s(62945),l=s(36383),h=function(r,o,u,a){a===void 0&&(a=[]),!o&&u>0&&(o=g(r)/u);for(var d=0;d<o;d++){var c=f(d/o,0,l.PI2);a.push(y(r,c))}return a};C.exports=h},50884:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x+=g,s.y+=y,s};C.exports=A},39212:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x+=g.x,s.y+=g.y,s};C.exports=A},28176:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){l===void 0&&(l=new g);var h=2*Math.PI*Math.random(),r=Math.random()+Math.random(),o=r>1?2-r:r,u=o*Math.cos(h),a=o*Math.sin(h);return l.x=f.x+u*f.radius,l.y=f.y+a*f.radius,l};C.exports=y},88911:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(96503);g.Area=s(95166),g.Circumference=s(71562),g.CircumferencePoint=s(92110),g.Clone=s(42250),g.Contains=s(87902),g.ContainsPoint=s(5698),g.ContainsRect=s(70588),g.CopyFrom=s(26394),g.Equals=s(76278),g.GetBounds=s(2074),g.GetPoint=s(26241),g.GetPoints=s(79124),g.Offset=s(50884),g.OffsetPoint=s(39212),g.Random=s(28176),C.exports=g},23777:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};C.exports=A},78874:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.isEmpty()?0:s.getMajorRadius()*s.getMinorRadius()*Math.PI};C.exports=A},92990:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=s.width/2,y=s.height/2,f=Math.pow(g-y,2)/Math.pow(g+y,2);return Math.PI*(g+y)*(1+3*f/(10+Math.sqrt(4-3*f)))};C.exports=A},79522:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,h){h===void 0&&(h=new g);var r=f.width/2,o=f.height/2;return h.x=f.x+r*Math.cos(l),h.y=f.y+o*Math.sin(l),h};C.exports=y},58102:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8497),y=function(f){return new g(f.x,f.y,f.width,f.height)};C.exports=y},81154:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(s.width<=0||s.height<=0)return!1;var f=(g-s.x)/s.width,l=(y-s.y)/s.height;return f*=f,l*=l,f+l<.25};C.exports=A},46662:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(81154),y=function(f,l){return g(f,l.x,l.y)};C.exports=y},1632:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(81154),y=function(f,l){return g(f,l.x,l.y)&&g(f,l.right,l.y)&&g(f,l.x,l.bottom)&&g(f,l.right,l.bottom)};C.exports=y},65534:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x,s.y,s.width,s.height)};C.exports=A},8497:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(81154),f=s(90549),l=s(48320),h=s(23777),r=s(24820),o=new g({initialize:function(a,d,c,p){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=h.ELLIPSE,this.x=a,this.y=d,this.width=c,this.height=p},contains:function(u,a){return y(this,u,a)},getPoint:function(u,a){return f(this,u,a)},getPoints:function(u,a,d){return l(this,u,a,d)},getRandomPoint:function(u){return r(this,u)},setTo:function(u,a,d,c){return this.x=u,this.y=a,this.width=d,this.height=c,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(u,a){return a===void 0&&(a=u),this.x=u,this.y=a,this},setSize:function(u,a){return a===void 0&&(a=u),this.width=u,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(u){this.x=u+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(u){this.y=u+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});C.exports=o},36146:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x===g.x&&s.y===g.y&&s.width===g.width&&s.height===g.height};C.exports=A},23694:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l){return l===void 0&&(l=new g),l.x=f.left,l.y=f.top,l.width=f.width,l.height=f.height,l};C.exports=y},90549:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79522),y=s(62945),f=s(36383),l=s(2141),h=function(r,o,u){u===void 0&&(u=new l);var a=y(o,0,f.PI2);return g(r,a,u)};C.exports=h},48320:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(92990),y=s(79522),f=s(62945),l=s(36383),h=function(r,o,u,a){a===void 0&&(a=[]),!o&&u>0&&(o=g(r)/u);for(var d=0;d<o;d++){var c=f(d/o,0,l.PI2);a.push(y(r,c))}return a};C.exports=h},73424:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x+=g,s.y+=y,s};C.exports=A},44808:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x+=g.x,s.y+=g.y,s};C.exports=A},24820:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){l===void 0&&(l=new g);var h=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return l.x=f.x+r*Math.cos(h)*f.width/2,l.y=f.y+r*Math.sin(h)*f.height/2,l};C.exports=y},49203:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8497);g.Area=s(78874),g.Circumference=s(92990),g.CircumferencePoint=s(79522),g.Clone=s(58102),g.Contains=s(81154),g.ContainsPoint=s(46662),g.ContainsRect=s(1632),g.CopyFrom=s(65534),g.Equals=s(36146),g.GetBounds=s(23694),g.GetPoint=s(90549),g.GetPoints=s(48320),g.Offset=s(73424),g.OffsetPoint=s(44808),g.Random=s(24820),C.exports=g},55738:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23777),y=s(79291),f={Circle:s(88911),Ellipse:s(49203),Intersects:s(91865),Line:s(2529),Mesh:s(73090),Point:s(43711),Polygon:s(58423),Rectangle:s(93232),Triangle:s(84435)};f=y(!1,f,g),C.exports=f},2044:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20339),y=function(f,l){return g(f.x,f.y,l.x,l.y)<=f.radius+l.radius};C.exports=y},81491:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=g.width/2,f=g.height/2,l=Math.abs(s.x-g.x-y),h=Math.abs(s.y-g.y-f),r=y+s.radius,o=f+s.radius;if(l>r||h>o)return!1;if(l<=y||h<=f)return!0;var u=l-y,a=h-f,d=u*u,c=a*a,p=s.radius*s.radius;return d+c<=p};C.exports=A},63376:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(2044),f=function(l,h,r){if(r===void 0&&(r=[]),y(l,h)){var o=l.x,u=l.y,a=l.radius,d=h.x,c=h.y,p=h.radius,v,m,T,E,P;if(u===c)P=(p*p-a*a-d*d+o*o)/(2*(o-d)),v=1,m=-2*c,T=d*d+P*P-2*d*P+c*c-p*p,E=m*m-4*v*T,E===0?r.push(new g(P,-m/(2*v))):E>0&&(r.push(new g(P,(-m+Math.sqrt(E))/(2*v))),r.push(new g(P,(-m-Math.sqrt(E))/(2*v))));else{var w=(o-d)/(u-c),R=(p*p-a*a-d*d+o*o-c*c+u*u)/(2*(u-c));v=w*w+1,m=2*u*w-2*R*w-2*o,T=o*o+u*u+R*R-a*a-2*u*R,E=m*m-4*v*T,E===0?(P=-m/(2*v),r.push(new g(P,R-P*w))):E>0&&(P=(-m+Math.sqrt(E))/(2*v),r.push(new g(P,R-P*w)),P=(-m-Math.sqrt(E))/(2*v),r.push(new g(P,R-P*w)))}}return r};C.exports=f},97439:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(4042),y=s(81491),f=function(l,h,r){if(r===void 0&&(r=[]),y(l,h)){var o=h.getLineA(),u=h.getLineB(),a=h.getLineC(),d=h.getLineD();g(o,l,r),g(u,l,r),g(a,l,r),g(d,l,r)}return r};C.exports=f},4042:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(80462),f=function(l,h,r){if(r===void 0&&(r=[]),y(l,h)){var o=l.x1,u=l.y1,a=l.x2,d=l.y2,c=h.x,p=h.y,v=h.radius,m=a-o,T=d-u,E=o-c,P=u-p,w=m*m+T*T,R=2*(m*E+T*P),b=E*E+P*P-v*v,O=R*R-4*w*b,I,D;if(O===0){var B=-R/(2*w);I=o+B*m,D=u+B*T,B>=0&&B<=1&&r.push(new g(I,D))}else if(O>0){var k=(-R-Math.sqrt(O))/(2*w);I=o+k*m,D=u+k*T,k>=0&&k<=1&&r.push(new g(I,D));var z=(-R+Math.sqrt(O))/(2*w);I=o+z*m,D=u+z*T,z>=0&&z<=1&&r.push(new g(I,D))}}return r};C.exports=f},36100:(C,A,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25836),y=function(f,l,h,r){h===void 0&&(h=!1);var o=f.x1,u=f.y1,a=f.x2,d=f.y2,c=l.x1,p=l.y1,v=l.x2,m=l.y2,T=a-o,E=d-u,P=v-c,w=m-p,R=T*w-E*P;if(R===0)return null;var b,O,I;if(h){if(b=(T*(p-u)+E*(o-c))/(P*E-w*T),T!==0)O=(c+P*b-o)/T;else if(E!==0)O=(p+w*b-u)/E;else return null;if(O<0||b<0||b>1)return null;I=O}else{if(b=((c-o)*w-(p-u)*P)/R,O=((u-p)*T-(o-c)*E)/R,b<0||b>1||O<0||O>1)return null;I=b}return r===void 0&&(r=new g),r.set(o+T*I,u+E*I,I)};C.exports=y},3073:(C,A,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36100),y=s(23031),f=s(25836),l=new y,h=new f,r=function(o,u,a,d){a===void 0&&(a=!1),d===void 0&&(d=new f);var c=!1;d.set(),h.set();for(var p=u[u.length-1],v=0;v<u.length;v++){var m=u[v];l.setTo(p.x,p.y,m.x,m.y),p=m,g(o,l,a,h)&&(!c||h.z<d.z)&&(d.copy(h),c=!0)}return c?d:null};C.exports=r},56362:(C,A,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25836),y=s(61369),f=s(3073),l=new g,h=function(r,o,u,a){a===void 0&&(a=new y),Array.isArray(o)||(o=[o]);var d=!1;a.set(),l.set();for(var c=0;c<o.length;c++)f(r,o[c].points,u,l)&&(!d||l.z<a.z)&&(a.set(l.x,l.y,l.z,c),d=!0);return d?a:null};C.exports=h},60646:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(76112),f=s(92773),l=function(h,r,o){if(o===void 0&&(o=[]),f(h,r))for(var u=r.getLineA(),a=r.getLineB(),d=r.getLineC(),c=r.getLineD(),p=[new g,new g,new g,new g],v=[y(u,h,p[0]),y(a,h,p[1]),y(d,h,p[2]),y(c,h,p[3])],m=0;m<4;m++)v[m]&&o.push(p[m]);return o};C.exports=l},71147:(C,A,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61369),y=s(56362),f=s(23031),l=new f;function h(u,a,d,c,p){var v=Math.cos(u),m=Math.sin(u);l.setTo(a,d,a+v,d+m);var T=y(l,c,!0);T&&p.push(new g(T.x,T.y,u,T.w))}function r(u,a){return u.z-a.z}var o=function(u,a,d){Array.isArray(d)||(d=[d]);for(var c=[],p=[],v=0;v<d.length;v++)for(var m=d[v].points,T=0;T<m.length;T++){var E=Math.atan2(m[T].y-a,m[T].x-u);p.indexOf(E)===-1&&(h(E,u,a,d,c),h(E-1e-5,u,a,d,c),h(E+1e-5,u,a,d,c),p.push(E))}return c.sort(r)};C.exports=o},68389:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=s(59996),f=function(l,h,r){return r===void 0&&(r=new g),y(l,h)&&(r.x=Math.max(l.x,h.x),r.y=Math.max(l.y,h.y),r.width=Math.min(l.right,h.right)-r.x,r.height=Math.min(l.bottom,h.bottom)-r.y),r};C.exports=f},52784:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(60646),y=s(59996),f=function(l,h,r){if(r===void 0&&(r=[]),y(l,h)){var o=l.getLineA(),u=l.getLineB(),a=l.getLineC(),d=l.getLineD();g(o,h,r),g(u,h,r),g(a,h,r),g(d,h,r)}return r};C.exports=f},26341:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(89265),y=s(60646),f=function(l,h,r){if(r===void 0&&(r=[]),g(l,h)){var o=h.getLineA(),u=h.getLineB(),a=h.getLineC();y(o,l,r),y(u,l,r),y(a,l,r)}return r};C.exports=f},38720:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(4042),y=s(67636),f=function(l,h,r){if(r===void 0&&(r=[]),y(l,h)){var o=l.getLineA(),u=l.getLineB(),a=l.getLineC();g(o,h,r),g(u,h,r),g(a,h,r)}return r};C.exports=f},13882:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(2822),f=s(76112),l=function(h,r,o){if(o===void 0&&(o=[]),y(h,r))for(var u=h.getLineA(),a=h.getLineB(),d=h.getLineC(),c=[new g,new g,new g],p=[f(u,r,c[0]),f(a,r,c[1]),f(d,r,c[2])],v=0;v<3;v++)p[v]&&o.push(c[v]);return o};C.exports=l},75636:(C,A,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82944),y=s(13882),f=function(l,h,r){if(r===void 0&&(r=[]),g(l,h)){var o=h.getLineA(),u=h.getLineB(),a=h.getLineC();y(l,o,r),y(l,u,r),y(l,a,r)}return r};C.exports=f},80462:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87902),y=s(2141),f=new y,l=function(h,r,o){if(o===void 0&&(o=f),g(r,h.x1,h.y1))return o.x=h.x1,o.y=h.y1,!0;if(g(r,h.x2,h.y2))return o.x=h.x2,o.y=h.y2,!0;var u=h.x2-h.x1,a=h.y2-h.y1,d=r.x-h.x1,c=r.y-h.y1,p=u*u+a*a,v=u,m=a;if(p>0){var T=(d*u+c*a)/p;v*=T,m*=T}o.x=h.x1+v,o.y=h.y1+m;var E=v*v+m*m;return E<=p&&v*u+m*a>=0&&g(r,o.x,o.y)};C.exports=l},76112:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=s.x1,l=s.y1,h=s.x2,r=s.y2,o=g.x1,u=g.y1,a=g.x2,d=g.y2;if(f===h&&l===r||o===a&&u===d)return!1;var c=(d-u)*(h-f)-(a-o)*(r-l);if(c===0)return!1;var p=((a-o)*(l-u)-(d-u)*(f-o))/c,v=((h-f)*(l-u)-(r-l)*(f-o))/c;return p<0||p>1||v<0||v>1?!1:(y&&(y.x=f+p*(h-f),y.y=l+p*(r-l)),!0)};C.exports=A},92773:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.x1,f=s.y1,l=s.x2,h=s.y2,r=g.x,o=g.y,u=g.right,a=g.bottom,d=0;if(y>=r&&y<=u&&f>=o&&f<=a||l>=r&&l<=u&&h>=o&&h<=a)return!0;if(y<r&&l>=r){if(d=f+(h-f)*(r-y)/(l-y),d>o&&d<=a)return!0}else if(y>u&&l<=u&&(d=f+(h-f)*(u-y)/(l-y),d>=o&&d<=a))return!0;if(f<o&&h>=o){if(d=y+(l-y)*(o-f)/(h-f),d>=r&&d<=u)return!0}else if(f>a&&h<=a&&(d=y+(l-y)*(a-f)/(h-f),d>=r&&d<=u))return!0;return!1};C.exports=A},16204:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){y===void 0&&(y=1);var f=g.x1,l=g.y1,h=g.x2,r=g.y2,o=s.x,u=s.y,a=(h-f)*(h-f)+(r-l)*(r-l);if(a===0)return!1;var d=((o-f)*(h-f)+(u-l)*(r-l))/a;if(d<0)return Math.sqrt((f-o)*(f-o)+(l-u)*(l-u))<=y;if(d>=0&&d<=1){var c=((l-u)*(h-f)-(f-o)*(r-l))/a;return Math.abs(c)*Math.sqrt(a)<=y}else return Math.sqrt((h-o)*(h-o)+(r-u)*(r-u))<=y};C.exports=A},14199:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(16204),y=function(f,l){if(!g(f,l))return!1;var h=Math.min(l.x1,l.x2),r=Math.max(l.x1,l.x2),o=Math.min(l.y1,l.y2),u=Math.max(l.y1,l.y2);return f.x>=h&&f.x<=r&&f.y>=o&&f.y<=u};C.exports=y},59996:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.width<=0||s.height<=0||g.width<=0||g.height<=0?!1:!(s.right<g.x||s.bottom<g.y||s.x>g.right||s.y>g.bottom)};C.exports=A},89265:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(76112),y=s(37303),f=s(48653),l=s(77493),h=function(r,o){if(o.left>r.right||o.right<r.left||o.top>r.bottom||o.bottom<r.top)return!1;var u=o.getLineA(),a=o.getLineB(),d=o.getLineC();if(y(r,u.x1,u.y1)||y(r,u.x2,u.y2)||y(r,a.x1,a.y1)||y(r,a.x2,a.y2)||y(r,d.x1,d.y1)||y(r,d.x2,d.y2))return!0;var c=r.getLineA(),p=r.getLineB(),v=r.getLineC(),m=r.getLineD();if(g(u,c)||g(u,p)||g(u,v)||g(u,m)||g(a,c)||g(a,p)||g(a,v)||g(a,m)||g(d,c)||g(d,p)||g(d,v)||g(d,m))return!0;var T=l(r),E=f(o,T,!0);return E.length>0};C.exports=h},84411:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,h){return h===void 0&&(h=0),!(g>s.right+h||y<s.left-h||f>s.bottom+h||l<s.top-h)};C.exports=A},67636:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80462),y=s(10690),f=function(l,h){return l.left>h.right||l.right<h.left||l.top>h.bottom||l.bottom<h.top?!1:!!(y(l,h.x,h.y)||g(l.getLineA(),h)||g(l.getLineB(),h)||g(l.getLineC(),h))};C.exports=f},2822:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(76112),y=function(f,l){return!!(f.contains(l.x1,l.y1)||f.contains(l.x2,l.y2)||g(f.getLineA(),l)||g(f.getLineB(),l)||g(f.getLineC(),l))};C.exports=y},82944:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(48653),y=s(71694),f=s(76112),l=function(h,r){if(h.left>r.right||h.right<r.left||h.top>r.bottom||h.bottom<r.top)return!1;var o=h.getLineA(),u=h.getLineB(),a=h.getLineC(),d=r.getLineA(),c=r.getLineB(),p=r.getLineC();if(f(o,d)||f(o,c)||f(o,p)||f(u,d)||f(u,c)||f(u,p)||f(a,d)||f(a,c)||f(a,p))return!0;var v=y(h),m=g(r,v,!0);return m.length>0||(v=y(r),m=g(h,v,!0),m.length>0)};C.exports=l},91865:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CircleToCircle:s(2044),CircleToRectangle:s(81491),GetCircleToCircle:s(63376),GetCircleToRectangle:s(97439),GetLineToCircle:s(4042),GetLineToLine:s(36100),GetLineToPoints:s(3073),GetLineToPolygon:s(56362),GetLineToRectangle:s(60646),GetRaysFromPointToPolygon:s(71147),GetRectangleIntersection:s(68389),GetRectangleToRectangle:s(52784),GetRectangleToTriangle:s(26341),GetTriangleToCircle:s(38720),GetTriangleToLine:s(13882),GetTriangleToTriangle:s(75636),LineToCircle:s(80462),LineToLine:s(76112),LineToRectangle:s(92773),PointToLine:s(16204),PointToLineSegment:s(14199),RectangleToRectangle:s(59996),RectangleToTriangle:s(89265),RectangleToValues:s(84411),TriangleToCircle:s(67636),TriangleToLine:s(2822),TriangleToTriangle:s(82944)}},91938:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.atan2(s.y2-s.y1,s.x2-s.x1)};C.exports=A},84993:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){g===void 0&&(g=1),y===void 0&&(y=[]);var f=Math.round(s.x1),l=Math.round(s.y1),h=Math.round(s.x2),r=Math.round(s.y2),o=Math.abs(h-f),u=Math.abs(r-l),a=f<h?1:-1,d=l<r?1:-1,c=o-u;y.push({x:f,y:l});for(var p=1;!(f===h&&l===r);){var v=c<<1;v>-u&&(c-=u,f+=a),v<o&&(c+=o,l+=d),p%g===0&&y.push({x:f,y:l}),p++}return y};C.exports=A},36469:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=g-(s.x1+s.x2)/2,l=y-(s.y1+s.y2)/2;return s.x1+=f,s.y1+=l,s.x2+=f,s.y2+=l,s};C.exports=A},31116:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23031),y=function(f){return new g(f.x1,f.y1,f.x2,f.y2)};C.exports=y},59944:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x1,s.y1,s.x2,s.y2)};C.exports=A},59220:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x1===g.x1&&s.y1===g.y1&&s.x2===g.x2&&s.y2===g.y2};C.exports=A},78177:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=function(f,l,h){h===void 0&&(h=l);var r=g(f),o=f.x2-f.x1,u=f.y2-f.y1;return l&&(f.x1=f.x1-o/r*l,f.y1=f.y1-u/r*l),h&&(f.x2=f.x2+o/r*h,f.y2=f.y2+u/r*h),f};C.exports=y},26708:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(52816),y=s(6113),f=s(2141),l=function(h,r,o,u,a){u===void 0&&(u=0),a===void 0&&(a=[]);var d=[],c=h.x1,p=h.y1,v=h.x2-c,m=h.y2-p,T=y(r,a),E,P,w=o-1;for(E=0;E<w;E++)P=T(E/w),d.push(new f(c+v*P,p+m*P));if(P=T(1),d.push(new f(c+v*P,p+m*P)),u>0){var R=d[0],b=[R];for(E=1;E<d.length-1;E++){var O=d[E];g(R,O)>=u&&(b.push(O),R=O)}var I=d[d.length-1];return g(R,I)<u&&b.pop(),b.push(I),b}else return d};C.exports=l},32125:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.x=(f.x1+f.x2)/2,l.y=(f.y1+f.y2)/2,l};C.exports=y},99569:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,h){h===void 0&&(h=new g);var r=f.x1,o=f.y1,u=f.x2,a=f.y2,d=(u-r)*(u-r)+(a-o)*(a-o);if(d===0)return h;var c=((l.x-r)*(u-r)+(l.y-o)*(a-o))/d;return h.x=r+c*(u-r),h.y=o+c*(a-o),h};C.exports=y},34638:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(91938),f=s(2141),l=function(h,r){r===void 0&&(r=new f);var o=y(h)-g.TAU;return r.x=Math.cos(o),r.y=Math.sin(o),r};C.exports=l},13151:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,h){return h===void 0&&(h=new g),h.x=f.x1+(f.x2-f.x1)*l,h.y=f.y1+(f.y2-f.y1)*l,h};C.exports=y},15258:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=s(2141),f=function(l,h,r,o){o===void 0&&(o=[]),!h&&r>0&&(h=g(l)/r);for(var u=l.x1,a=l.y1,d=l.x2,c=l.y2,p=0;p<h;p++){var v=p/h,m=u+(d-u)*v,T=a+(c-a)*v;o.push(new y(m,T))}return o};C.exports=f},26408:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.x1,f=s.y1,l=s.x2,h=s.y2,r=(l-y)*(l-y)+(h-f)*(h-f);if(r===0)return!1;var o=((f-g.y)*(l-y)-(y-g.x)*(h-f))/r;return Math.abs(o)*Math.sqrt(r)};C.exports=A},98770:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.abs(s.y1-s.y2)};C.exports=A},35001:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.sqrt((s.x2-s.x1)*(s.x2-s.x1)+(s.y2-s.y1)*(s.y2-s.y1))};C.exports=A},23031:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(13151),f=s(15258),l=s(23777),h=s(65822),r=s(26099),o=new g({initialize:function(a,d,c,p){a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=l.LINE,this.x1=a,this.y1=d,this.x2=c,this.y2=p},getPoint:function(u,a){return y(this,u,a)},getPoints:function(u,a,d){return f(this,u,a,d)},getRandomPoint:function(u){return h(this,u)},setTo:function(u,a,d,c){return u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),this.x1=u,this.y1=a,this.x2=d,this.y2=c,this},setFromObjects:function(u,a){return this.x1=u.x,this.y1=u.y,this.x2=a.x,this.y2=a.y,this},getPointA:function(u){return u===void 0&&(u=new r),u.set(this.x1,this.y1),u},getPointB:function(u){return u===void 0&&(u=new r),u.set(this.x2,this.y2),u},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(u){this.x1<=this.x2?this.x1=u:this.x2=u}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(u){this.x1>this.x2?this.x1=u:this.x2=u}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(u){this.y1<=this.y2?this.y1=u:this.y2=u}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(u){this.y1>this.y2?this.y1=u:this.y2=u}}});C.exports=o},64795:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(15994),f=s(91938),l=function(h){var r=f(h)-g.TAU;return y(r,-Math.PI,Math.PI)};C.exports=l},52616:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(91938),f=function(l){return Math.cos(y(l)-g.TAU)};C.exports=f},87231:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(91938),f=function(l){return Math.sin(y(l)-g.TAU)};C.exports=f},89662:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x1+=g,s.y1+=y,s.x2+=g,s.y2+=y,s};C.exports=A},71165:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return-((s.x2-s.x1)/(s.y2-s.y1))};C.exports=A},65822:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){l===void 0&&(l=new g);var h=Math.random();return l.x=f.x1+h*(f.x2-f.x1),l.y=f.y1+h*(f.y2-f.y1),l};C.exports=y},69777:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91938),y=s(64795),f=function(l,h){return 2*y(h)-Math.PI-g(l)};C.exports=f},39706:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(64400),y=function(f,l){var h=(f.x1+f.x2)/2,r=(f.y1+f.y2)/2;return g(f,h,r,l)};C.exports=y},82585:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(64400),y=function(f,l,h){return g(f,l.x,l.y,h)};C.exports=y},64400:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=Math.cos(f),h=Math.sin(f),r=s.x1-g,o=s.y1-y;return s.x1=r*l-o*h+g,s.y1=r*h+o*l+y,r=s.x2-g,o=s.y2-y,s.x2=r*l-o*h+g,s.y2=r*h+o*l+y,s};C.exports=A},62377:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){return s.x1=g,s.y1=y,s.x2=g+Math.cos(f)*l,s.y2=y+Math.sin(f)*l,s};C.exports=A},71366:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s.y2-s.y1)/(s.x2-s.x1)};C.exports=A},10809:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.abs(s.x1-s.x2)};C.exports=A},2529:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23031);g.Angle=s(91938),g.BresenhamPoints=s(84993),g.CenterOn=s(36469),g.Clone=s(31116),g.CopyFrom=s(59944),g.Equals=s(59220),g.Extend=s(78177),g.GetEasedPoints=s(26708),g.GetMidPoint=s(32125),g.GetNearestPoint=s(99569),g.GetNormal=s(34638),g.GetPoint=s(13151),g.GetPoints=s(15258),g.GetShortestDistance=s(26408),g.Height=s(98770),g.Length=s(35001),g.NormalAngle=s(64795),g.NormalX=s(52616),g.NormalY=s(87231),g.Offset=s(89662),g.PerpSlope=s(71165),g.Random=s(65822),g.ReflectAngle=s(69777),g.Rotate=s(39706),g.RotateAroundPoint=s(82585),g.RotateAroundXY=s(64400),g.SetToAngle=s(62377),g.Slope=s(71366),g.Width=s(10809),C.exports=g},83997:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(87841),f=s(26099);function l(r,o,u,a){var d=r-u,c=o-a,p=d*d+c*c;return Math.sqrt(p)}var h=new g({initialize:function(o,u,a){this.vertex1=o,this.vertex2=u,this.vertex3=a,this.bounds=new y,this._inCenter=new f},getInCenter:function(r){r===void 0&&(r=!0);var o=this.vertex1,u=this.vertex2,a=this.vertex3,d,c,p,v,m,T;r?(d=o.x,c=o.y,p=u.x,v=u.y,m=a.x,T=a.y):(d=o.vx,c=o.vy,p=u.vx,v=u.vy,m=a.vx,T=a.vy);var E=l(m,T,p,v),P=l(d,c,m,T),w=l(p,v,d,c),R=E+P+w;return this._inCenter.set((d*E+p*P+m*w)/R,(c*E+v*P+T*w)/R)},contains:function(r,o,u){var a=this.vertex1,d=this.vertex2,c=this.vertex3,p=a.vx,v=a.vy,m=d.vx,T=d.vy,E=c.vx,P=c.vy;if(u){var w=u.a,R=u.b,b=u.c,O=u.d,I=u.e,D=u.f;p=a.vx*w+a.vy*b+I,v=a.vx*R+a.vy*O+D,m=d.vx*w+d.vy*b+I,T=d.vx*R+d.vy*O+D,E=c.vx*w+c.vy*b+I,P=c.vx*R+c.vy*O+D}var B=E-p,k=P-v,z=m-p,X=T-v,K=r-p,H=o-v,Q=B*B+k*k,W=B*z+k*X,Y=B*K+k*H,N=z*z+X*X,Z=z*K+X*H,U=Q*N-W*W,j=U===0?0:1/U,et=(N*Y-W*Z)*j,it=(Q*Z-W*Y)*j;return et>=0&&it>=0&&et+it<1},isCounterClockwise:function(r){var o=this.vertex1,u=this.vertex2,a=this.vertex3,d=(u.vx-o.vx)*(a.vy-o.vy)-(u.vy-o.vy)*(a.vx-o.vx);return r<=0?d>=0:d<0},load:function(r,o,u,a,d){return u=this.vertex1.load(r,o,u,a,d),u=this.vertex2.load(r,o,u,a,d),u=this.vertex3.load(r,o,u,a,d),u},transformCoordinatesLocal:function(r,o,u,a){return this.vertex1.transformCoordinatesLocal(r,o,u,a),this.vertex2.transformCoordinatesLocal(r,o,u,a),this.vertex3.transformCoordinatesLocal(r,o,u,a),this},updateBounds:function(){var r=this.vertex1,o=this.vertex2,u=this.vertex3,a=this.bounds;return a.x=Math.min(r.vx,o.vx,u.vx),a.y=Math.min(r.vy,o.vy,u.vy),a.width=Math.max(r.vx,o.vx,u.vx)-a.x,a.height=Math.max(r.vy,o.vy,u.vy)-a.y,this},isInView:function(r,o,u,a,d,c,p,v,m,T,E){this.update(a,d,c,p,v,m,T,E);var P=this.vertex1,w=this.vertex2,R=this.vertex3;if(P.ta<=0&&w.ta<=0&&R.ta<=0||o&&!this.isCounterClockwise(u))return!1;var b=this.bounds;b.x=Math.min(P.tx,w.tx,R.tx),b.y=Math.min(P.ty,w.ty,R.ty),b.width=Math.max(P.tx,w.tx,R.tx)-b.x,b.height=Math.max(P.ty,w.ty,R.ty)-b.y;var O=r.x+r.width,I=r.y+r.height;return b.width<=0||b.height<=0||r.width<=0||r.height<=0?!1:!(b.right<r.x||b.bottom<r.y||b.x>O||b.y>I)},scrollUV:function(r,o){return this.vertex1.scrollUV(r,o),this.vertex2.scrollUV(r,o),this.vertex3.scrollUV(r,o),this},scaleUV:function(r,o){return this.vertex1.scaleUV(r,o),this.vertex2.scaleUV(r,o),this.vertex3.scaleUV(r,o),this},setColor:function(r){return this.vertex1.color=r,this.vertex2.color=r,this.vertex3.color=r,this},update:function(r,o,u,a,d,c,p,v){return this.vertex1.update(o,u,a,d,c,p,v,r),this.vertex2.update(o,u,a,d,c,p,v,r),this.vertex3.update(o,u,a,d,c,p,v,r),this},translate:function(r,o){o===void 0&&(o=0);var u=this.vertex1,a=this.vertex2,d=this.vertex3;return u.x+=r,u.y+=o,a.x+=r,a.y+=o,d.x+=r,d.y+=o,this},x:{get:function(){return this.getInCenter().x},set:function(r){var o=this.getInCenter();this.translate(r-o.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(r){var o=this.getInCenter();this.translate(0,r-o.y)}},alpha:{get:function(){var r=this.vertex1,o=this.vertex2,u=this.vertex3;return(r.alpha+o.alpha+u.alpha)/3},set:function(r){this.vertex1.alpha=r,this.vertex2.alpha=r,this.vertex3.alpha=r}},depth:{get:function(){var r=this.vertex1,o=this.vertex2,u=this.vertex3;return(r.vz+o.vz+u.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});C.exports=h},48803:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83997),y=s(95540),f=s(37867),l=s(25836),h=s(39318),r=new l,o=new l,u=new f,a=function(d){var c=y(d,"mesh"),p=y(d,"texture",null),v=y(d,"frame"),m=y(d,"width",1),T=y(d,"height",m),E=y(d,"widthSegments",1),P=y(d,"heightSegments",E),w=y(d,"x",0),R=y(d,"y",0),b=y(d,"z",0),O=y(d,"rotateX",0),I=y(d,"rotateY",0),D=y(d,"rotateZ",0),B=y(d,"zIsUp",!0),k=y(d,"isOrtho",c?c.dirtyCache[11]:!1),z=y(d,"colors",[16777215]),X=y(d,"alphas",[1]),K=y(d,"tile",!1),H=y(d,"flipY",!1),Q=y(d,"width",null),W={faces:[],verts:[]};r.set(w,R,b),o.set(O,I,D),u.fromRotationXYTranslation(o,r,B);var Y;if(!p&&c)p=c.texture,v||(Y=c.frame);else if(c&&typeof p=="string")p=c.scene.sys.textures.get(p);else if(!p)return W;Y||(Y=p.get(v)),!Q&&k&&p&&c&&(m=Y.width/c.height,T=Y.height/c.height);var N=m/2,Z=T/2,U=Math.floor(E),j=Math.floor(P),et=U+1,it=j+1,rt=m/U,lt=T/j,ft=[],pt=[],vt,xt,yt=0,Ct=1,wt=0,Lt=1;Y&&(yt=Y.u0,Ct=Y.u1,H?(wt=Y.v1,Lt=Y.v0):(wt=Y.v0,Lt=Y.v1));var bt=Ct-yt,St=Lt-wt;for(xt=0;xt<it;xt++){var Et=xt*lt-Z;for(vt=0;vt<et;vt++){var Mt=vt*rt-N;pt.push(Mt,-Et);var Vt=yt+bt*(vt/U),Kt=wt+St*(xt/j);ft.push(Vt,Kt)}}Array.isArray(z)||(z=[z]),Array.isArray(X)||(X=[X]);var he=0,Jt=0;for(xt=0;xt<j;xt++)for(vt=0;vt<U;vt++){var Qt=(vt+et*xt)*2,ce=(vt+et*(xt+1))*2,be=(vt+1+et*(xt+1))*2,$t=(vt+1+et*xt)*2,le=z[Jt],Gt=X[he],pe=new h(pt[Qt],pt[Qt+1],0,ft[Qt],ft[Qt+1],le,Gt).transformMat4(u),wi=new h(pt[ce],pt[ce+1],0,ft[ce],ft[ce+1],le,Gt).transformMat4(u),ns=new h(pt[$t],pt[$t+1],0,ft[$t],ft[$t+1],le,Gt).transformMat4(u),Ps=new h(pt[ce],pt[ce+1],0,ft[ce],ft[ce+1],le,Gt).transformMat4(u),Es=new h(pt[be],pt[be+1],0,ft[be],ft[be+1],le,Gt).transformMat4(u),li=new h(pt[$t],pt[$t+1],0,ft[$t],ft[$t+1],le,Gt).transformMat4(u);K&&(pe.setUVs(yt,Lt),wi.setUVs(yt,wt),ns.setUVs(Ct,Lt),Ps.setUVs(yt,wt),Es.setUVs(Ct,wt),li.setUVs(Ct,Lt)),Jt++,Jt===z.length&&(Jt=0),he++,he===X.length&&(he=0),W.verts.push(pe,wi,ns,Ps,Es,li),W.faces.push(new g(pe,wi,ns),new g(Ps,Es,li))}return c&&(c.faces=c.faces.concat(W.faces),c.vertices=c.vertices.concat(W.verts)),W};C.exports=a},34684:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83997),y=s(37867),f=s(25836),l=s(39318),h=new f,r=new f,o=new y,u=function(a,d,c,p,v,m,T,E,P,w){c===void 0&&(c=1),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),E===void 0&&(E=0),P===void 0&&(P=0),w===void 0&&(w=!0);var R={faces:[],verts:[]},b=a.materials;h.set(p,v,m),r.set(T,E,P),o.fromRotationXYTranslation(r,h,w);for(var O=0;O<a.models.length;O++)for(var I=a.models[O],D=I.vertices,B=I.textureCoords,k=I.faces,z=0;z<k.length;z++){var X=k[z],K=X.vertices[0],H=X.vertices[1],Q=X.vertices[2],W=D[K.vertexIndex],Y=D[H.vertexIndex],N=D[Q.vertexIndex],Z=K.textureCoordsIndex,U=H.textureCoordsIndex,j=Q.textureCoordsIndex,et=Z===-1?{u:0,v:1}:B[Z],it=U===-1?{u:0,v:0}:B[U],rt=j===-1?{u:1,v:1}:B[j],lt=16777215;X.material!==""&&b[X.material]&&(lt=b[X.material]);var ft=new l(W.x*c,W.y*c,W.z*c,et.u,et.v,lt).transformMat4(o),pt=new l(Y.x*c,Y.y*c,Y.z*c,it.u,it.v,lt).transformMat4(o),vt=new l(N.x*c,N.y*c,N.z*c,rt.u,rt.v,lt).transformMat4(o);R.verts.push(ft,pt,vt),R.faces.push(new g(ft,pt,vt))}return d&&(d.faces=d.faces.concat(R.faces),d.vertices=d.vertices.concat(R.verts)),R};C.exports=u},92515:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83997),y=s(39318),f=function(l,h,r,o,u,a,d,c){if(o===void 0&&(o=!1),a===void 0&&(a=16777215),d===void 0&&(d=1),c===void 0&&(c=!1),l.length!==h.length&&!o){console.warn("GenerateVerts: vertices and uvs count not equal");return}var p={faces:[],vertices:[]},v,m,T,E,P,w,R,b,O,I,D,B=o?3:2,k=Array.isArray(a),z=Array.isArray(d);if(Array.isArray(r)&&r.length>0)for(v=0;v<r.length;v++){var X=r[v],K=r[v]*2,H=r[v]*B;m=l[H],T=l[H+1],E=o?l[H+2]:0,P=h[K],w=h[K+1],c&&(w=1-w),R=k?a[X]:a,b=z?d[X]:d,O=0,I=0,D=0,u&&(O=u[H],I=u[H+1],D=o?u[H+2]:0),p.vertices.push(new y(m,T,E,P,w,R,b,O,I,D))}else{var Q=0,W=0;for(v=0;v<l.length;v+=B)m=l[v],T=l[v+1],E=o?l[v+2]:0,P=h[Q],w=h[Q+1],R=k?a[W]:a,b=z?d[W]:d,O=0,I=0,D=0,u&&(O=u[v],I=u[v+1],D=o?u[v+2]:0),p.vertices.push(new y(m,T,E,P,w,R,b,O,I,D)),Q+=2,W++}for(v=0;v<p.vertices.length;v+=3){var Y=p.vertices[v],N=p.vertices[v+1],Z=p.vertices[v+2];p.faces.push(new g(Y,N,Z))}return p};C.exports=f},85048:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=!0,s="untitled",g="",y="";function f(m){var T=m.indexOf("#");return T>-1?m.substring(0,T):m}function l(m){return m.models.length===0&&m.models.push({faces:[],name:s,textureCoords:[],vertexNormals:[],vertices:[]}),g="",m.models[m.models.length-1]}function h(m,T){var E=m.length>=2?m[1]:s;T.models.push({faces:[],name:E,textureCoords:[],vertexNormals:[],vertices:[]}),g=""}function r(m){m.length===2&&(g=m[1])}function o(m,T){var E=m.length,P=E>=2?parseFloat(m[1]):0,w=E>=3?parseFloat(m[2]):0,R=E>=4?parseFloat(m[3]):0;l(T).vertices.push({x:P,y:w,z:R})}function u(m,T){var E=m.length,P=E>=2?parseFloat(m[1]):0,w=E>=3?parseFloat(m[2]):0,R=E>=4?parseFloat(m[3]):0;isNaN(P)&&(P=0),isNaN(w)&&(w=0),isNaN(R)&&(R=0),A&&(w=1-w),l(T).textureCoords.push({u:P,v:w,w:R})}function a(m,T){var E=m.length,P=E>=2?parseFloat(m[1]):0,w=E>=3?parseFloat(m[2]):0,R=E>=4?parseFloat(m[3]):0;l(T).vertexNormals.push({x:P,y:w,z:R})}function d(m,T){var E=m.length-1;if(!(E<3)){for(var P={group:g,material:y,vertices:[]},w=0;w<E;w++){var R=m[w+1],b=R.split("/"),O=b.length;if(!(O<1||O>3)){var I=0,D=0,B=0;I=parseInt(b[0],10),O>1&&b[1]!==""&&(D=parseInt(b[1],10)),O>2&&(B=parseInt(b[2],10)),I!==0&&(I<0&&(I=l(T).vertices.length+1+I),D-=1,I-=1,B-=1,P.vertices.push({textureCoordsIndex:D,vertexIndex:I,vertexNormalIndex:B}))}}l(T).faces.push(P)}}function c(m,T){m.length>=2&&T.materialLibraries.push(m[1])}function p(m){m.length>=2&&(y=m[1])}var v=function(m,T){T===void 0&&(T=!0),A=T;var E={materials:{},materialLibraries:[],models:[]};g="",y="";for(var P=m.split(`
`),w=0;w<P.length;w++){var R=f(P[w]),b=R.replace(/\s\s+/g," ").trim().split(" ");switch(b[0].toLowerCase()){case"o":h(b,E);break;case"g":r(b);break;case"v":o(b,E);break;case"vt":u(b,E);break;case"vn":a(b,E);break;case"f":d(b,E);break;case"mtllib":c(b,E);break;case"usemtl":p(b);break}}return E};C.exports=v},61485:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37589),y=function(f){for(var l={},h=f.split(`
`),r="",o=0;o<h.length;o++){var u=h[o].trim();if(!(u.indexOf("#")===0||u==="")){var a=u.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":{r=a[1];break}case"kd":{var d=Math.floor(a[1]*255),c=a.length>=2?Math.floor(a[2]*255):d,p=a.length>=3?Math.floor(a[3]*255):d;l[r]=g(d,c,p);break}}}}return l};C.exports=y},92570:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l,h;if(y===void 0&&f===void 0){var r=s.getInCenter();l=r.x,h=r.y}var o=Math.cos(g),u=Math.sin(g),a=s.vertex1,d=s.vertex2,c=s.vertex3,p=a.x-l,v=a.y-h;a.set(p*o-v*u+l,p*u+v*o+h),p=d.x-l,v=d.y-h,d.set(p*o-v*u+l,p*u+v*o+h),p=c.x-l,v=c.y-h,c.set(p*o-v*u+l,p*u+v*o+h)};C.exports=A},39318:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(70554),f=s(25836),l=new g({Extends:f,initialize:function(r,o,u,a,d,c,p,v,m,T){c===void 0&&(c=16777215),p===void 0&&(p=1),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),f.call(this,r,o,u),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=m,this.nz=T,this.u=a,this.v=d,this.color=c,this.alpha=p,this.tx=0,this.ty=0,this.ta=0,this.tu=a,this.tv=d},setUVs:function(h,r){return this.u=h,this.v=r,this.tu=h,this.tv=r,this},scrollUV:function(h,r){return this.tu+=h,this.tv+=r,this},scaleUV:function(h,r){return this.tu=this.u*h,this.tv=this.v*r,this},transformCoordinatesLocal:function(h,r,o,u){var a=this.x,d=this.y,c=this.z,p=h.val,v=a*p[0]+d*p[4]+c*p[8]+p[12],m=a*p[1]+d*p[5]+c*p[9]+p[13],T=a*p[2]+d*p[6]+c*p[10]+p[14],E=a*p[3]+d*p[7]+c*p[11]+p[15];this.vx=v/E*r,this.vy=-(m/E)*o,u<=0?this.vz=T/E:this.vz=-(T/E)},resize:function(h,r,o,u,a,d){return this.x=h,this.y=r,this.vx=this.x*o,this.vy=-this.y*u,this.vz=0,a<.5?this.vx+=o*(.5-a):a>.5&&(this.vx-=o*(a-.5)),d<.5?this.vy+=u*(.5-d):d>.5&&(this.vy-=u*(d-.5)),this},update:function(h,r,o,u,a,d,c,p){var v=this.vx*h+this.vy*o+a,m=this.vx*r+this.vy*u+d;return c&&(v=Math.round(v),m=Math.round(m)),this.tx=v,this.ty=m,this.ta=this.alpha*p,this},load:function(h,r,o,u,a){return h[++o]=this.tx,h[++o]=this.ty,h[++o]=this.tu,h[++o]=this.tv,h[++o]=u,h[++o]=a,r[++o]=y.getTintAppendFloatAlpha(this.color,this.ta),o}});C.exports=l},73090:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={Face:s(83997),GenerateGridVerts:s(48803),GenerateObjVerts:s(34684),GenerateVerts:s(92515),ParseObj:s(85048),ParseObjMaterial:s(61485),RotateFace:s(92570),Vertex:s(39318)};C.exports=g},96550:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.setTo(Math.ceil(s.x),Math.ceil(s.y))};C.exports=A},99706:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f){return new g(f.x,f.y)};C.exports=y},68010:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x,s.y)};C.exports=A},27814:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x===g.x&&s.y===g.y};C.exports=A},73565:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.setTo(Math.floor(s.x),Math.floor(s.y))};C.exports=A},87555:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){if(l===void 0&&(l=new g),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var h=f.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(h===1)l.x=f[0].x,l.y=f[0].y;else{for(var r=0;r<h;r++)l.x+=f[r].x,l.y+=f[r].y;l.x/=h,l.y/=h}return l};C.exports=y},28793:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)};C.exports=A},44405:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x*s.x+s.y*s.y};C.exports=A},20873:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l){l===void 0&&(l=new g);for(var h=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,a=0;a<f.length;a++){var d=f[a];d.x>h&&(h=d.x),d.x<r&&(r=d.x),d.y>o&&(o=d.y),d.y<u&&(u=d.y)}return l.x=r,l.y=u,l.width=h-r,l.height=o-u,l};C.exports=y},26152:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,h,r){return h===void 0&&(h=0),r===void 0&&(r=new g),r.x=f.x+(l.x-f.x)*h,r.y=f.y+(l.y-f.y)*h,r};C.exports=y},55767:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.setTo(s.y,s.x)};C.exports=A},79432:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.setTo(-f.x,-f.y)};C.exports=y},2141:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23777),f=new g({initialize:function(h,r){h===void 0&&(h=0),r===void 0&&(r=h),this.type=y.POINT,this.x=h,this.y=r},setTo:function(l,h){return l===void 0&&(l=0),h===void 0&&(h=l),this.x=l,this.y=h,this}});C.exports=f},72930:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(44405),f=function(l,h,r){r===void 0&&(r=new g);var o=l.x*h.x+l.y*h.y,u=o/y(h);return u!==0&&(r.x=u*h.x,r.y=u*h.y),r};C.exports=f},62880:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l,h){h===void 0&&(h=new g);var r=f.x*l.x+f.y*l.y;return r!==0&&(h.x=r*l.x,h.y=r*l.y),h};C.exports=y},15093:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(28793),y=function(f,l){if(f.x!==0||f.y!==0){var h=g(f);f.x/=h,f.y/=h}return f.x*=l,f.y*=l,f};C.exports=y},43711:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141);g.Ceil=s(96550),g.Clone=s(99706),g.CopyFrom=s(68010),g.Equals=s(27814),g.Floor=s(73565),g.GetCentroid=s(87555),g.GetMagnitude=s(28793),g.GetMagnitudeSq=s(44405),g.GetRectangleFromPoints=s(20873),g.Interpolate=s(26152),g.Invert=s(55767),g.Negative=s(79432),g.Project=s(72930),g.ProjectUnit=s(62880),g.SetMagnitude=s(15093),C.exports=g},12306:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25717),y=function(f){return new g(f.points)};C.exports=y},63814:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){for(var f=!1,l=-1,h=s.points.length-1;++l<s.points.length;h=l){var r=s.points[l].x,o=s.points[l].y,u=s.points[h].x,a=s.points[h].y;(o<=y&&y<a||a<=y&&y<o)&&g<(u-r)*(y-o)/(a-o)+r&&(f=!f)}return f};C.exports=A},99338:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(63814),y=function(f,l){return g(f,l.x,l.y)};C.exports=y},94811:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(W,Y,N){N=N||2;var Z=Y&&Y.length,U=Z?Y[0]*N:W.length,j=s(W,0,U,N,!0),et=[];if(!j||j.next===j.prev)return et;var it,rt,lt,ft,pt,vt,xt;if(Z&&(j=o(W,Y,j,N)),W.length>80*N){it=lt=W[0],rt=ft=W[1];for(var yt=N;yt<U;yt+=N)pt=W[yt],vt=W[yt+1],pt<it&&(it=pt),vt<rt&&(rt=vt),pt>lt&&(lt=pt),vt>ft&&(ft=vt);xt=Math.max(lt-it,ft-rt),xt=xt!==0?32767/xt:0}return y(j,et,N,it,rt,xt,0),et}function s(W,Y,N,Z,U){var j,et;if(U===Q(W,Y,N,Z)>0)for(j=Y;j<N;j+=Z)et=X(j,W[j],W[j+1],et);else for(j=N-Z;j>=Y;j-=Z)et=X(j,W[j],W[j+1],et);return et&&R(et,et.next)&&(K(et),et=et.next),et}function g(W,Y){if(!W)return W;Y||(Y=W);var N=W,Z;do if(Z=!1,!N.steiner&&(R(N,N.next)||w(N.prev,N,N.next)===0)){if(K(N),N=Y=N.prev,N===N.next)break;Z=!0}else N=N.next;while(Z||N!==Y);return Y}function y(W,Y,N,Z,U,j,et){if(W){!et&&j&&p(W,Z,U,j);for(var it=W,rt,lt;W.prev!==W.next;){if(rt=W.prev,lt=W.next,j?l(W,Z,U,j):f(W)){Y.push(rt.i/N|0),Y.push(W.i/N|0),Y.push(lt.i/N|0),K(W),W=lt.next,it=lt.next;continue}if(W=lt,W===it){et?et===1?(W=h(g(W),Y,N),y(W,Y,N,Z,U,j,2)):et===2&&r(W,Y,N,Z,U,j):y(g(W),Y,N,Z,U,j,1);break}}}}function f(W){var Y=W.prev,N=W,Z=W.next;if(w(Y,N,Z)>=0)return!1;for(var U=Y.x,j=N.x,et=Z.x,it=Y.y,rt=N.y,lt=Z.y,ft=U<j?U<et?U:et:j<et?j:et,pt=it<rt?it<lt?it:lt:rt<lt?rt:lt,vt=U>j?U>et?U:et:j>et?j:et,xt=it>rt?it>lt?it:lt:rt>lt?rt:lt,yt=Z.next;yt!==Y;){if(yt.x>=ft&&yt.x<=vt&&yt.y>=pt&&yt.y<=xt&&E(U,it,j,rt,et,lt,yt.x,yt.y)&&w(yt.prev,yt,yt.next)>=0)return!1;yt=yt.next}return!0}function l(W,Y,N,Z){var U=W.prev,j=W,et=W.next;if(w(U,j,et)>=0)return!1;for(var it=U.x,rt=j.x,lt=et.x,ft=U.y,pt=j.y,vt=et.y,xt=it<rt?it<lt?it:lt:rt<lt?rt:lt,yt=ft<pt?ft<vt?ft:vt:pt<vt?pt:vt,Ct=it>rt?it>lt?it:lt:rt>lt?rt:lt,wt=ft>pt?ft>vt?ft:vt:pt>vt?pt:vt,Lt=m(xt,yt,Y,N,Z),bt=m(Ct,wt,Y,N,Z),St=W.prevZ,Et=W.nextZ;St&&St.z>=Lt&&Et&&Et.z<=bt;){if(St.x>=xt&&St.x<=Ct&&St.y>=yt&&St.y<=wt&&St!==U&&St!==et&&E(it,ft,rt,pt,lt,vt,St.x,St.y)&&w(St.prev,St,St.next)>=0||(St=St.prevZ,Et.x>=xt&&Et.x<=Ct&&Et.y>=yt&&Et.y<=wt&&Et!==U&&Et!==et&&E(it,ft,rt,pt,lt,vt,Et.x,Et.y)&&w(Et.prev,Et,Et.next)>=0))return!1;Et=Et.nextZ}for(;St&&St.z>=Lt;){if(St.x>=xt&&St.x<=Ct&&St.y>=yt&&St.y<=wt&&St!==U&&St!==et&&E(it,ft,rt,pt,lt,vt,St.x,St.y)&&w(St.prev,St,St.next)>=0)return!1;St=St.prevZ}for(;Et&&Et.z<=bt;){if(Et.x>=xt&&Et.x<=Ct&&Et.y>=yt&&Et.y<=wt&&Et!==U&&Et!==et&&E(it,ft,rt,pt,lt,vt,Et.x,Et.y)&&w(Et.prev,Et,Et.next)>=0)return!1;Et=Et.nextZ}return!0}function h(W,Y,N){var Z=W;do{var U=Z.prev,j=Z.next.next;!R(U,j)&&b(U,Z,Z.next,j)&&B(U,j)&&B(j,U)&&(Y.push(U.i/N|0),Y.push(Z.i/N|0),Y.push(j.i/N|0),K(Z),K(Z.next),Z=W=j),Z=Z.next}while(Z!==W);return g(Z)}function r(W,Y,N,Z,U,j){var et=W;do{for(var it=et.next.next;it!==et.prev;){if(et.i!==it.i&&P(et,it)){var rt=z(et,it);et=g(et,et.next),rt=g(rt,rt.next),y(et,Y,N,Z,U,j,0),y(rt,Y,N,Z,U,j,0);return}it=it.next}et=et.next}while(et!==W)}function o(W,Y,N,Z){var U=[],j,et,it,rt,lt;for(j=0,et=Y.length;j<et;j++)it=Y[j]*Z,rt=j<et-1?Y[j+1]*Z:W.length,lt=s(W,it,rt,Z,!1),lt===lt.next&&(lt.steiner=!0),U.push(T(lt));for(U.sort(u),j=0;j<U.length;j++)N=a(U[j],N);return N}function u(W,Y){return W.x-Y.x}function a(W,Y){var N=d(W,Y);if(!N)return Y;var Z=z(N,W);return g(Z,Z.next),g(N,N.next)}function d(W,Y){var N=Y,Z=W.x,U=W.y,j=-1/0,et;do{if(U<=N.y&&U>=N.next.y&&N.next.y!==N.y){var it=N.x+(U-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(it<=Z&&it>j&&(j=it,et=N.x<N.next.x?N:N.next,it===Z))return et}N=N.next}while(N!==Y);if(!et)return null;var rt=et,lt=et.x,ft=et.y,pt=1/0,vt;N=et;do Z>=N.x&&N.x>=lt&&Z!==N.x&&E(U<ft?Z:j,U,lt,ft,U<ft?j:Z,U,N.x,N.y)&&(vt=Math.abs(U-N.y)/(Z-N.x),B(N,W)&&(vt<pt||vt===pt&&(N.x>et.x||N.x===et.x&&c(et,N)))&&(et=N,pt=vt)),N=N.next;while(N!==rt);return et}function c(W,Y){return w(W.prev,W,Y.prev)<0&&w(Y.next,W,W.next)<0}function p(W,Y,N,Z){var U=W;do U.z===0&&(U.z=m(U.x,U.y,Y,N,Z)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==W);U.prevZ.nextZ=null,U.prevZ=null,v(U)}function v(W){var Y,N,Z,U,j,et,it,rt,lt=1;do{for(N=W,W=null,j=null,et=0;N;){for(et++,Z=N,it=0,Y=0;Y<lt&&(it++,Z=Z.nextZ,!!Z);Y++);for(rt=lt;it>0||rt>0&&Z;)it!==0&&(rt===0||!Z||N.z<=Z.z)?(U=N,N=N.nextZ,it--):(U=Z,Z=Z.nextZ,rt--),j?j.nextZ=U:W=U,U.prevZ=j,j=U;N=Z}j.nextZ=null,lt*=2}while(et>1);return W}function m(W,Y,N,Z,U){return W=(W-N)*U|0,Y=(Y-Z)*U|0,W=(W|W<<8)&16711935,W=(W|W<<4)&252645135,W=(W|W<<2)&858993459,W=(W|W<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,W|Y<<1}function T(W){var Y=W,N=W;do(Y.x<N.x||Y.x===N.x&&Y.y<N.y)&&(N=Y),Y=Y.next;while(Y!==W);return N}function E(W,Y,N,Z,U,j,et,it){return(U-et)*(Y-it)>=(W-et)*(j-it)&&(W-et)*(Z-it)>=(N-et)*(Y-it)&&(N-et)*(j-it)>=(U-et)*(Z-it)}function P(W,Y){return W.next.i!==Y.i&&W.prev.i!==Y.i&&!D(W,Y)&&(B(W,Y)&&B(Y,W)&&k(W,Y)&&(w(W.prev,W,Y.prev)||w(W,Y.prev,Y))||R(W,Y)&&w(W.prev,W,W.next)>0&&w(Y.prev,Y,Y.next)>0)}function w(W,Y,N){return(Y.y-W.y)*(N.x-Y.x)-(Y.x-W.x)*(N.y-Y.y)}function R(W,Y){return W.x===Y.x&&W.y===Y.y}function b(W,Y,N,Z){var U=I(w(W,Y,N)),j=I(w(W,Y,Z)),et=I(w(N,Z,W)),it=I(w(N,Z,Y));return!!(U!==j&&et!==it||U===0&&O(W,N,Y)||j===0&&O(W,Z,Y)||et===0&&O(N,W,Z)||it===0&&O(N,Y,Z))}function O(W,Y,N){return Y.x<=Math.max(W.x,N.x)&&Y.x>=Math.min(W.x,N.x)&&Y.y<=Math.max(W.y,N.y)&&Y.y>=Math.min(W.y,N.y)}function I(W){return W>0?1:W<0?-1:0}function D(W,Y){var N=W;do{if(N.i!==W.i&&N.next.i!==W.i&&N.i!==Y.i&&N.next.i!==Y.i&&b(N,N.next,W,Y))return!0;N=N.next}while(N!==W);return!1}function B(W,Y){return w(W.prev,W,W.next)<0?w(W,Y,W.next)>=0&&w(W,W.prev,Y)>=0:w(W,Y,W.prev)<0||w(W,W.next,Y)<0}function k(W,Y){var N=W,Z=!1,U=(W.x+Y.x)/2,j=(W.y+Y.y)/2;do N.y>j!=N.next.y>j&&N.next.y!==N.y&&U<(N.next.x-N.x)*(j-N.y)/(N.next.y-N.y)+N.x&&(Z=!Z),N=N.next;while(N!==W);return Z}function z(W,Y){var N=new H(W.i,W.x,W.y),Z=new H(Y.i,Y.x,Y.y),U=W.next,j=Y.prev;return W.next=Y,Y.prev=W,N.next=U,U.prev=N,Z.next=N,N.prev=Z,j.next=Z,Z.prev=j,Z}function X(W,Y,N,Z){var U=new H(W,Y,N);return Z?(U.next=Z.next,U.prev=Z,Z.next.prev=U,Z.next=U):(U.prev=U,U.next=U),U}function K(W){W.next.prev=W.prev,W.prev.next=W.next,W.prevZ&&(W.prevZ.nextZ=W.nextZ),W.nextZ&&(W.nextZ.prevZ=W.prevZ)}function H(W,Y,N){this.i=W,this.x=Y,this.y=N,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}A.deviation=function(W,Y,N,Z){var U=Y&&Y.length,j=U?Y[0]*N:W.length,et=Math.abs(Q(W,0,j,N));if(U)for(var it=0,rt=Y.length;it<rt;it++){var lt=Y[it]*N,ft=it<rt-1?Y[it+1]*N:W.length;et-=Math.abs(Q(W,lt,ft,N))}var pt=0;for(it=0;it<Z.length;it+=3){var vt=Z[it]*N,xt=Z[it+1]*N,yt=Z[it+2]*N;pt+=Math.abs((W[vt]-W[yt])*(W[xt+1]-W[vt+1])-(W[vt]-W[xt])*(W[yt+1]-W[vt+1]))}return et===0&&pt===0?0:Math.abs((pt-et)/et)};function Q(W,Y,N,Z){for(var U=0,j=Y,et=N-Z;j<N;j+=Z)U+=(W[et]-W[j])*(W[j+1]+W[et+1]),et=j;return U}A.flatten=function(W){for(var Y=W[0][0].length,N={vertices:[],holes:[],dimensions:Y},Z=0,U=0;U<W.length;U++){for(var j=0;j<W[U].length;j++)for(var et=0;et<Y;et++)N.vertices.push(W[U][j][et]);U>0&&(Z+=W[U-1].length,N.holes.push(Z))}return N},C.exports=A},13829:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l){l===void 0&&(l=new g);for(var h=1/0,r=1/0,o=-h,u=-r,a,d=0;d<f.points.length;d++)a=f.points[d],h=Math.min(h,a.x),r=Math.min(r,a.y),o=Math.max(o,a.x),u=Math.max(u,a.y);return l.x=h,l.y=r,l.width=o-h,l.height=u-r,l};C.exports=y},26173:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=[]);for(var y=0;y<s.points.length;y++)g.push(s.points[y].x),g.push(s.points[y].y);return g};C.exports=A},9564:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=s(23031),f=s(30052),l=function(h,r,o,u){u===void 0&&(u=[]);var a=h.points,d=f(h);!r&&o>0&&(r=d/o);for(var c=0;c<r;c++)for(var p=d*(c/r),v=0,m=0;m<a.length;m++){var T=a[m],E=a[(m+1)%a.length],P=new y(T.x,T.y,E.x,E.y),w=g(P);if(p<v||p>v+w){v+=w;continue}var R=P.getPoint((p-v)/w);u.push(R);break}return u};C.exports=l},30052:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=s(23031),f=function(l){for(var h=l.points,r=0,o=0;o<h.length;o++){var u=h[o],a=h[(o+1)%h.length],d=new y(u.x,u.y,a.x,a.y);r+=g(d)}return r};C.exports=f},25717:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(63814),f=s(9564),l=s(23777),h=new g({initialize:function(o){this.type=l.POLYGON,this.area=0,this.points=[],o&&this.setTo(o)},contains:function(r,o){return y(this,r,o)},setTo:function(r){if(this.area=0,this.points=[],typeof r=="string"&&(r=r.split(" ")),!Array.isArray(r))return this;for(var o,u=0;u<r.length;u++)o={x:0,y:0},typeof r[u]=="number"||typeof r[u]=="string"?(o.x=parseFloat(r[u]),o.y=parseFloat(r[u+1]),u++):Array.isArray(r[u])?(o.x=r[u][0],o.y=r[u][1]):(o.x=r[u].x,o.y=r[u].y),this.points.push(o);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var r=0,o,u,a=0;a<this.points.length-1;a++)o=this.points[a],u=this.points[a+1],r+=(u.x-o.x)*(o.y+u.y);return o=this.points[0],u=this.points[this.points.length-1],r+=(o.x-u.x)*(u.y+o.y),this.area=-r*.5,this.area},getPoints:function(r,o,u){return f(this,r,o,u)}});C.exports=h},8133:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.points.reverse(),s};C.exports=A},29524:C=>{function A(h,r){var o=h.x-r.x,u=h.y-r.y;return o*o+u*u}function s(h,r,o){var u=r.x,a=r.y,d=o.x-u,c=o.y-a;if(d!==0||c!==0){var p=((h.x-u)*d+(h.y-a)*c)/(d*d+c*c);p>1?(u=o.x,a=o.y):p>0&&(u+=d*p,a+=c*p)}return d=h.x-u,c=h.y-a,d*d+c*c}function g(h,r){for(var o=h[0],u=[o],a,d=1,c=h.length;d<c;d++)a=h[d],A(a,o)>r&&(u.push(a),o=a);return o!==a&&u.push(a),u}function y(h,r,o,u,a){for(var d=u,c,p=r+1;p<o;p++){var v=s(h[p],h[r],h[o]);v>d&&(c=p,d=v)}d>u&&(c-r>1&&y(h,r,c,u,a),a.push(h[c]),o-c>1&&y(h,c,o,u,a))}function f(h,r){var o=h.length-1,u=[h[0]];return y(h,0,o,r,u),u.push(h[o]),u}var l=function(h,r,o){r===void 0&&(r=1),o===void 0&&(o=!1);var u=h.points;if(u.length>2){var a=r*r;o||(u=g(u,a)),h.setTo(f(u,a))}return h};C.exports=l},5469:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(g,y){return g[0]=y[0],g[1]=y[1],g},s=function(g){var y,f=[],l=g.points;for(y=0;y<l.length;y++)f.push([l[y].x,l[y].y]);var h=[];for(f.length>0&&h.push(A([0,0],f[0])),y=0;y<f.length-1;y++){var r=f[y],o=f[y+1],u=r[0],a=r[1],d=o[0],c=o[1];h.push([.85*u+.15*d,.85*a+.15*c]),h.push([.15*u+.85*d,.15*a+.85*c])}return f.length>1&&h.push(A([0,0],f[f.length-1])),g.setTo(h)};C.exports=s},24709:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){for(var f=s.points,l=0;l<f.length;l++)f[l].x+=g,f[l].y+=y;return s};C.exports=A},58423:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25717);g.Clone=s(12306),g.Contains=s(63814),g.ContainsPoint=s(99338),g.Earcut=s(94811),g.GetAABB=s(13829),g.GetNumberArray=s(26173),g.GetPoints=s(9564),g.Perimeter=s(30052),g.Reverse=s(8133),g.Simplify=s(29524),g.Smooth=s(5469),g.Translate=s(24709),C.exports=g},62224:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.width*s.height};C.exports=A},98615:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s};C.exports=A},31688:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s.width=Math.ceil(s.width),s.height=Math.ceil(s.height),s};C.exports=A},67502:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x=g-s.width/2,s.y=y-s.height/2,s};C.exports=A},65085:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f){return new g(f.x,f.y,f.width,f.height)};C.exports=y},37303:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.width<=0||s.height<=0?!1:s.x<=g&&s.x+s.width>=g&&s.y<=y&&s.y+s.height>=y};C.exports=A},96553:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37303),y=function(f,l){return g(f,l.x,l.y)};C.exports=y},70273:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.width*g.height>s.width*s.height?!1:g.x>s.x&&g.x<s.right&&g.right>s.x&&g.right<s.right&&g.y>s.y&&g.y<s.bottom&&g.bottom>s.y&&g.bottom<s.bottom};C.exports=A},43459:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x,s.y,s.width,s.height)};C.exports=A},77493:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=[]),g.push({x:s.x,y:s.y}),g.push({x:s.right,y:s.y}),g.push({x:s.right,y:s.bottom}),g.push({x:s.x,y:s.bottom}),g};C.exports=A},9219:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x===g.x&&s.y===g.y&&s.width===g.width&&s.height===g.height};C.exports=A},53751:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8249),y=function(f,l){var h=g(f);return h<g(l)?f.setSize(l.height*h,l.height):f.setSize(l.width,l.width/h),f.setPosition(l.centerX-f.width/2,l.centerY-f.height/2)};C.exports=y},16088:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(8249),y=function(f,l){var h=g(f);return h>g(l)?f.setSize(l.height*h,l.height):f.setSize(l.width,l.width/h),f.setPosition(l.centerX-f.width/2,l.centerY-f.height/2)};C.exports=y},80774:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s};C.exports=A},83859:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s.width=Math.floor(s.width),s.height=Math.floor(s.height),s};C.exports=A},19217:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=s(36383),f=function(l,h){if(h===void 0&&(h=new g),l.length===0)return h;for(var r=Number.MAX_VALUE,o=Number.MAX_VALUE,u=y.MIN_SAFE_INTEGER,a=y.MIN_SAFE_INTEGER,d,c,p,v=0;v<l.length;v++)d=l[v],Array.isArray(d)?(c=d[0],p=d[1]):(c=d.x,p=d.y),r=Math.min(r,c),o=Math.min(o,p),u=Math.max(u,c),a=Math.max(a,p);return h.x=r,h.y=o,h.width=u-r,h.height=a-o,h};C.exports=f},9477:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l,h,r,o){return o===void 0&&(o=new g),o.setTo(Math.min(f,h),Math.min(l,r),Math.abs(f-h),Math.abs(l-r))};C.exports=y},8249:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.height===0?NaN:s.width/s.height};C.exports=A},27165:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.x=f.centerX,l.y=f.centerY,l};C.exports=y},20812:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13019),y=s(2141),f=function(l,h,r){if(r===void 0&&(r=new y),h<=0||h>=1)return r.x=l.x,r.y=l.y,r;var o=g(l)*h;return h>.5?(o-=l.width+l.height,o<=l.width?(r.x=l.right-o,r.y=l.bottom):(r.x=l.x,r.y=l.bottom-(o-l.width))):o<=l.width?(r.x=l.x+o,r.y=l.y):(r.x=l.right,r.y=l.y+(o-l.width)),r};C.exports=f},34819:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20812),y=s(13019),f=function(l,h,r,o){o===void 0&&(o=[]),!h&&r>0&&(h=y(l)/r);for(var u=0;u<h;u++){var a=u/h;o.push(g(l,a))}return o};C.exports=f},51313:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.x=f.width,l.y=f.height,l};C.exports=y},86091:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(67502),y=function(f,l,h){var r=f.centerX,o=f.centerY;return f.setSize(f.width+l*2,f.height+h*2),g(f,r,o)};C.exports=y},53951:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=s(59996),f=function(l,h,r){return r===void 0&&(r=new g),y(l,h)?(r.x=Math.max(l.x,h.x),r.y=Math.max(l.y,h.y),r.width=Math.min(l.right,h.right)-r.x,r.height=Math.min(l.bottom,h.bottom)-r.y):r.setEmpty(),r};C.exports=f},14649:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13019),y=s(2141),f=function(l,h,r,o){if(o===void 0&&(o=[]),!h&&!r)return o;h?r=Math.round(g(l)/h):h=g(l)/r;for(var u=l.x,a=l.y,d=0,c=0;c<r;c++)switch(o.push(new y(u,a)),d){case 0:u+=h,u>=l.right&&(d=1,a+=u-l.right,u=l.right);break;case 1:a+=h,a>=l.bottom&&(d=2,u-=a-l.bottom,a=l.bottom);break;case 2:u-=h,u<=l.left&&(d=3,a-=l.left-u,u=l.left);break;case 3:a-=h,a<=l.top&&(d=0,a=l.top);break}return o};C.exports=f},33595:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){for(var y=s.x,f=s.right,l=s.y,h=s.bottom,r=0;r<g.length;r++)y=Math.min(y,g[r].x),f=Math.max(f,g[r].x),l=Math.min(l,g[r].y),h=Math.max(h,g[r].y);return s.x=y,s.y=l,s.width=f-y,s.height=h-l,s};C.exports=A},20074:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=Math.min(s.x,g.x),f=Math.max(s.right,g.right);s.x=y,s.width=f-y;var l=Math.min(s.y,g.y),h=Math.max(s.bottom,g.bottom);return s.y=l,s.height=h-l,s};C.exports=A},92171:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=Math.min(s.x,g),l=Math.max(s.right,g);s.x=f,s.width=l-f;var h=Math.min(s.y,y),r=Math.max(s.bottom,y);return s.y=h,s.height=r-h,s};C.exports=A},42981:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x+=g,s.y+=y,s};C.exports=A},46907:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x+=g.x,s.y+=g.y,s};C.exports=A},60170:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x<g.right&&s.right>g.x&&s.y<g.bottom&&s.bottom>g.y};C.exports=A},13019:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return 2*(s.width+s.height)};C.exports=A},85133:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(39506),f=function(l,h,r){r===void 0&&(r=new g),h=y(h);var o=Math.sin(h),u=Math.cos(h),a=u>0?l.width/2:l.width/-2,d=o>0?l.height/2:l.height/-2;return Math.abs(a*o)<Math.abs(d*u)?d=a*o/u:a=d*u/o,r.x=a+l.centerX,r.y=d+l.centerY,r};C.exports=f},26597:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.x=f.x+Math.random()*f.width,l.y=f.y+Math.random()*f.height,l};C.exports=y},86470:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30976),y=s(70273),f=s(2141),l=function(h,r,o){if(o===void 0&&(o=new f),y(h,r))switch(g(0,3)){case 0:o.x=h.x+Math.random()*(r.right-h.x),o.y=h.y+Math.random()*(r.top-h.y);break;case 1:o.x=r.x+Math.random()*(h.right-r.x),o.y=r.bottom+Math.random()*(h.bottom-r.bottom);break;case 2:o.x=h.x+Math.random()*(r.x-h.x),o.y=r.y+Math.random()*(h.bottom-r.y);break;case 3:o.x=r.right+Math.random()*(h.right-r.right),o.y=h.y+Math.random()*(r.bottom-h.y);break}return o};C.exports=l},87841:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(37303),f=s(20812),l=s(34819),h=s(23777),r=s(23031),o=s(26597),u=new g({initialize:function(d,c,p,v){d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),this.type=h.RECTANGLE,this.x=d,this.y=c,this.width=p,this.height=v},contains:function(a,d){return y(this,a,d)},getPoint:function(a,d){return f(this,a,d)},getPoints:function(a,d,c){return l(this,a,d,c)},getRandomPoint:function(a){return o(this,a)},setTo:function(a,d,c,p){return this.x=a,this.y=d,this.width=c,this.height=p,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(a,d){return d===void 0&&(d=a),this.x=a,this.y=d,this},setSize:function(a,d){return d===void 0&&(d=a),this.width=a,this.height=d,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(a){return a===void 0&&(a=new r),a.setTo(this.x,this.y,this.right,this.y),a},getLineB:function(a){return a===void 0&&(a=new r),a.setTo(this.right,this.y,this.right,this.bottom),a},getLineC:function(a){return a===void 0&&(a=new r),a.setTo(this.right,this.bottom,this.x,this.bottom),a},getLineD:function(a){return a===void 0&&(a=new r),a.setTo(this.x,this.bottom,this.x,this.y),a},left:{get:function(){return this.x},set:function(a){a>=this.right?this.width=0:this.width=this.right-a,this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){a<=this.x?this.width=0:this.width=a-this.x}},top:{get:function(){return this.y},set:function(a){a>=this.bottom?this.height=0:this.height=this.bottom-a,this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){a<=this.y?this.height=0:this.height=a-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(a){this.x=a-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(a){this.y=a-this.height/2}}});C.exports=u},94845:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.width===g.width&&s.height===g.height};C.exports=A},31730:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y===void 0&&(y=g),s.width*=g,s.height*=y,s};C.exports=A},36899:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=function(f,l,h){h===void 0&&(h=new g);var r=Math.min(f.x,l.x),o=Math.min(f.y,l.y),u=Math.max(f.right,l.right)-r,a=Math.max(f.bottom,l.bottom)-o;return h.setTo(r,o,u,a)};C.exports=y},93232:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841);g.Area=s(62224),g.Ceil=s(98615),g.CeilAll=s(31688),g.CenterOn=s(67502),g.Clone=s(65085),g.Contains=s(37303),g.ContainsPoint=s(96553),g.ContainsRect=s(70273),g.CopyFrom=s(43459),g.Decompose=s(77493),g.Equals=s(9219),g.FitInside=s(53751),g.FitOutside=s(16088),g.Floor=s(80774),g.FloorAll=s(83859),g.FromPoints=s(19217),g.FromXY=s(9477),g.GetAspectRatio=s(8249),g.GetCenter=s(27165),g.GetPoint=s(20812),g.GetPoints=s(34819),g.GetSize=s(51313),g.Inflate=s(86091),g.Intersection=s(53951),g.MarchingAnts=s(14649),g.MergePoints=s(33595),g.MergeRect=s(20074),g.MergeXY=s(92171),g.Offset=s(42981),g.OffsetPoint=s(46907),g.Overlaps=s(60170),g.Perimeter=s(13019),g.PerimeterPoint=s(85133),g.Random=s(26597),g.RandomOutside=s(86470),g.SameDimensions=s(94845),g.Scale=s(31730),g.Union=s(36899),C.exports=g},41658:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=s.x1,y=s.y1,f=s.x2,l=s.y2,h=s.x3,r=s.y3;return Math.abs(((h-g)*(l-y)-(f-g)*(r-y))/2)};C.exports=A},39208:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(16483),y=function(f,l,h){var r=h*(Math.sqrt(3)/2),o=f,u=l,a=f+h/2,d=l+r,c=f-h/2,p=l+r;return new g(o,u,a,d,c,p)};C.exports=y},39545:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(94811),y=s(16483),f=function(l,h,r,o,u){h===void 0&&(h=null),r===void 0&&(r=1),o===void 0&&(o=1),u===void 0&&(u=[]);for(var a=g(l,h),d,c,p,v,m,T,E,P,w,R=0;R<a.length;R+=3)d=a[R],c=a[R+1],p=a[R+2],v=l[d*2]*r,m=l[d*2+1]*o,T=l[c*2]*r,E=l[c*2+1]*o,P=l[p*2]*r,w=l[p*2+1]*o,u.push(new y(v,m,T,E,P,w));return u};C.exports=f},90301:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(16483),y=function(f,l,h,r){r===void 0&&(r=h);var o=f,u=l,a=f,d=l-r,c=f+h,p=l;return new g(o,u,a,d,c,p)};C.exports=y},23707:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(97523),y=s(13584),f=function(l,h,r,o){o===void 0&&(o=g);var u=o(l),a=h-u.x,d=r-u.y;return y(l,a,d)};C.exports=f},97523:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){return l===void 0&&(l=new g),l.x=(f.x1+f.x2+f.x3)/3,l.y=(f.y1+f.y2+f.y3)/3,l};C.exports=y},24951:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099);function y(l,h,r,o){return l*o-h*r}var f=function(l,h){h===void 0&&(h=new g);var r=l.x3,o=l.y3,u=l.x1-r,a=l.y1-o,d=l.x2-r,c=l.y2-o,p=2*y(u,a,d,c),v=y(a,u*u+a*a,c,d*d+c*c),m=y(u,u*u+a*a,d,d*d+c*c);return h.x=r-v/p,h.y=o+m/p,h};C.exports=f},85614:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(96503),y=function(f,l){l===void 0&&(l=new g);var h=f.x1,r=f.y1,o=f.x2,u=f.y2,a=f.x3,d=f.y3,c=o-h,p=u-r,v=a-h,m=d-r,T=c*(h+o)+p*(r+u),E=v*(h+a)+m*(r+d),P=2*(c*(d-u)-p*(a-o)),w,R;if(Math.abs(P)<1e-6){var b=Math.min(h,o,a),O=Math.min(r,u,d);w=(Math.max(h,o,a)-b)*.5,R=(Math.max(r,u,d)-O)*.5,l.x=b+w,l.y=O+R,l.radius=Math.sqrt(w*w+R*R)}else l.x=(m*T-p*E)/P,l.y=(c*E-v*T)/P,w=l.x-h,R=l.y-r,l.radius=Math.sqrt(w*w+R*R);return l};C.exports=y},74422:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(16483),y=function(f){return new g(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)};C.exports=y},10690:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=s.x3-s.x1,l=s.y3-s.y1,h=s.x2-s.x1,r=s.y2-s.y1,o=g-s.x1,u=y-s.y1,a=f*f+l*l,d=f*h+l*r,c=f*o+l*u,p=h*h+r*r,v=h*o+r*u,m=a*p-d*d,T=m===0?0:1/m,E=(p*c-d*v)*T,P=(a*v-d*c)*T;return E>=0&&P>=0&&E+P<1};C.exports=A},48653:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y===void 0&&(y=!1),f===void 0&&(f=[]);for(var l=s.x3-s.x1,h=s.y3-s.y1,r=s.x2-s.x1,o=s.y2-s.y1,u=l*l+h*h,a=l*r+h*o,d=r*r+o*o,c=u*d-a*a,p=c===0?0:1/c,v,m,T,E,P,w,R=s.x1,b=s.y1,O=0;O<g.length&&(T=g[O].x-R,E=g[O].y-b,P=l*T+h*E,w=r*T+o*E,v=(d*P-a*w)*p,m=(u*w-a*P)*p,!(v>=0&&m>=0&&v+m<1&&(f.push({x:g[O].x,y:g[O].y}),y)));O++);return f};C.exports=A},96006:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10690),y=function(f,l){return g(f,l.x,l.y)};C.exports=y},71326:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.setTo(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};C.exports=A},71694:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=[]),g.push({x:s.x1,y:s.y1}),g.push({x:s.x2,y:s.y2}),g.push({x:s.x3,y:s.y3}),g};C.exports=A},33522:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.x1===g.x1&&s.y1===g.y1&&s.x2===g.x2&&s.y2===g.y2&&s.x3===g.x3&&s.y3===g.y3};C.exports=A},20437:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=s(35001),f=function(l,h,r){r===void 0&&(r=new g);var o=l.getLineA(),u=l.getLineB(),a=l.getLineC();if(h<=0||h>=1)return r.x=o.x1,r.y=o.y1,r;var d=y(o),c=y(u),p=y(a),v=d+c+p,m=v*h,T=0;return m<d?(T=m/d,r.x=o.x1+(o.x2-o.x1)*T,r.y=o.y1+(o.y2-o.y1)*T):m>d+c?(m-=d+c,T=m/p,r.x=a.x1+(a.x2-a.x1)*T,r.y=a.y1+(a.y2-a.y1)*T):(m-=d,T=m/c,r.x=u.x1+(u.x2-u.x1)*T,r.y=u.y1+(u.y2-u.y1)*T),r};C.exports=f},80672:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=s(2141),f=function(l,h,r,o){o===void 0&&(o=[]);var u=l.getLineA(),a=l.getLineB(),d=l.getLineC(),c=g(u),p=g(a),v=g(d),m=c+p+v;!h&&r>0&&(h=m/r);for(var T=0;T<h;T++){var E=m*(T/h),P=0,w=new y;E<c?(P=E/c,w.x=u.x1+(u.x2-u.x1)*P,w.y=u.y1+(u.y2-u.y1)*P):E>c+p?(E-=c+p,P=E/v,w.x=d.x1+(d.x2-d.x1)*P,w.y=d.y1+(d.y2-d.y1)*P):(E-=c,P=E/p,w.x=a.x1+(a.x2-a.x1)*P,w.y=a.y1+(a.y2-a.y1)*P),o.push(w)}return o};C.exports=f},39757:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141);function y(l,h,r,o){var u=l-r,a=h-o,d=u*u+a*a;return Math.sqrt(d)}var f=function(l,h){h===void 0&&(h=new g);var r=l.x1,o=l.y1,u=l.x2,a=l.y2,d=l.x3,c=l.y3,p=y(d,c,u,a),v=y(r,o,d,c),m=y(u,a,r,o),T=p+v+m;return h.x=(r*p+u*v+d*m)/T,h.y=(o*p+a*v+c*m)/T,h};C.exports=f},13584:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s.x1+=g,s.y1+=y,s.x2+=g,s.y2+=y,s.x3+=g,s.y3+=y,s};C.exports=A},1376:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35001),y=function(f){var l=f.getLineA(),h=f.getLineB(),r=f.getLineC();return g(l)+g(h)+g(r)};C.exports=y},90260:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2141),y=function(f,l){l===void 0&&(l=new g);var h=f.x2-f.x1,r=f.y2-f.y1,o=f.x3-f.x1,u=f.y3-f.y1,a=Math.random(),d=Math.random();return a+d>=1&&(a=1-a,d=1-d),l.x=f.x1+(h*a+o*d),l.y=f.y1+(r*a+u*d),l};C.exports=y},52172:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(99614),y=s(39757),f=function(l,h){var r=y(l);return g(l,r.x,r.y,h)};C.exports=f},49907:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(99614),y=function(f,l,h){return g(f,l.x,l.y,h)};C.exports=y},99614:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=Math.cos(f),h=Math.sin(f),r=s.x1-g,o=s.y1-y;return s.x1=r*l-o*h+g,s.y1=r*h+o*l+y,r=s.x2-g,o=s.y2-y,s.x2=r*l-o*h+g,s.y2=r*h+o*l+y,r=s.x3-g,o=s.y3-y,s.x3=r*l-o*h+g,s.y3=r*h+o*l+y,s};C.exports=A},16483:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(10690),f=s(20437),l=s(80672),h=s(23777),r=s(23031),o=s(90260),u=new g({initialize:function(d,c,p,v,m,T){d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),this.type=h.TRIANGLE,this.x1=d,this.y1=c,this.x2=p,this.y2=v,this.x3=m,this.y3=T},contains:function(a,d){return y(this,a,d)},getPoint:function(a,d){return f(this,a,d)},getPoints:function(a,d,c){return l(this,a,d,c)},getRandomPoint:function(a){return o(this,a)},setTo:function(a,d,c,p,v,m){return a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),this.x1=a,this.y1=d,this.x2=c,this.y2=p,this.x3=v,this.y3=m,this},getLineA:function(a){return a===void 0&&(a=new r),a.setTo(this.x1,this.y1,this.x2,this.y2),a},getLineB:function(a){return a===void 0&&(a=new r),a.setTo(this.x2,this.y2,this.x3,this.y3),a},getLineC:function(a){return a===void 0&&(a=new r),a.setTo(this.x3,this.y3,this.x1,this.y1),a},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(a){var d=0;this.x1<=this.x2&&this.x1<=this.x3?d=this.x1-a:this.x2<=this.x1&&this.x2<=this.x3?d=this.x2-a:d=this.x3-a,this.x1-=d,this.x2-=d,this.x3-=d}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(a){var d=0;this.x1>=this.x2&&this.x1>=this.x3?d=this.x1-a:this.x2>=this.x1&&this.x2>=this.x3?d=this.x2-a:d=this.x3-a,this.x1-=d,this.x2-=d,this.x3-=d}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(a){var d=0;this.y1<=this.y2&&this.y1<=this.y3?d=this.y1-a:this.y2<=this.y1&&this.y2<=this.y3?d=this.y2-a:d=this.y3-a,this.y1-=d,this.y2-=d,this.y3-=d}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(a){var d=0;this.y1>=this.y2&&this.y1>=this.y3?d=this.y1-a:this.y2>=this.y1&&this.y2>=this.y3?d=this.y2-a:d=this.y3-a,this.y1-=d,this.y2-=d,this.y3-=d}}});C.exports=u},84435:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(16483);g.Area=s(41658),g.BuildEquilateral=s(39208),g.BuildFromPolygon=s(39545),g.BuildRight=s(90301),g.CenterOn=s(23707),g.Centroid=s(97523),g.CircumCenter=s(24951),g.CircumCircle=s(85614),g.Clone=s(74422),g.Contains=s(10690),g.ContainsArray=s(48653),g.ContainsPoint=s(96006),g.CopyFrom=s(71326),g.Decompose=s(71694),g.Equals=s(33522),g.GetPoint=s(20437),g.GetPoints=s(80672),g.InCenter=s(39757),g.Perimeter=s(1376),g.Offset=s(13584),g.Random=s(90260),g.Rotate=s(52172),g.RotateAroundPoint=s(49907),g.RotateAroundXY=s(99614),C.exports=g},74457:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return{gameObject:s,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:g,hitAreaCallback:y,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};C.exports=A},84409:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return function(y,f,l,h){var r=s.getPixelAlpha(f,l,h.texture.key,h.frame.name);return r&&r>=g}};C.exports=A},7003:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(93301),f=s(50792),l=s(8214),h=s(8443),r=s(78970),o=s(85098),u=s(42515),a=s(36210),d=s(61340),c=s(85955),p=new g({initialize:function(m,T){this.game=m,this.scaleManager,this.canvas,this.config=T,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=T.inputKeyboard?new r(this):null,this.mouse=T.inputMouse?new o(this):null,this.touch=T.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=T.inputActivePointers;for(var E=0;E<=this.pointersTotal;E++){var P=new u(this,E);P.smoothFactor=T.inputSmoothFactor,this.pointers.push(P)}this.mousePointer=T.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new d,this._tempMatrix2=new d,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(h.BOOT,this.boot,this)},boot:function(){var v=this.game,m=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(l.MANAGER_BOOT),m.on(h.PRE_RENDER,this.preRender,this),m.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(l.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(l.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,m=this.game.loop.delta,T=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(l.MANAGER_UPDATE);for(var E=0;E<T.length;E++){var P=T[E];if(P.sys.input&&P.sys.input.updatePoll(v,m)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v,m){(m||v&&v.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var m=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var T=0;T<v;T++){var E=this.pointers.length,P=new u(this,E);P.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(P),this.pointersTotal++,m.push(P)}return m},updateInputPlugins:function(v,m){var T=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var E=0;E<T.length;E++){var P=T[E];if(P.sys.input){var w=P.sys.input.update(v,m);if(w&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var P=v.changedTouches[E],w=1;w<m.length;w++){var R=m[w];if(!R.active){R.touchstart(P,v),this.activePointer=R,T.push(R);break}}this.updateInputPlugins(y.TOUCH_START,T)},onTouchMove:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var P=v.changedTouches[E],w=1;w<m.length;w++){var R=m[w];if(R.active&&R.identifier===P.identifier){var b=document.elementFromPoint(P.clientX,P.clientY),O=b===this.canvas;!this.isOver&&O?this.setCanvasOver(v):this.isOver&&!O&&this.setCanvasOut(v),this.isOver&&(R.touchmove(P,v),this.activePointer=R,T.push(R));break}}this.updateInputPlugins(y.TOUCH_MOVE,T)},onTouchEnd:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var P=v.changedTouches[E],w=1;w<m.length;w++){var R=m[w];if(R.active&&R.identifier===P.identifier){R.touchend(P,v),T.push(R);break}}this.updateInputPlugins(y.TOUCH_END,T)},onTouchCancel:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var P=v.changedTouches[E],w=1;w<m.length;w++){var R=m[w];if(R.active&&R.identifier===P.identifier){R.touchcancel(P,v),T.push(R);break}}this.updateInputPlugins(y.TOUCH_CANCEL,T)},onMouseDown:function(v){var m=this.mousePointer;m.down(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(y.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var m=this.mousePointer;m.move(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(y.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var m=this.mousePointer;m.up(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(y.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var m=this.mousePointer;m.wheel(v),this.activePointer=m,this.updateInputPlugins(y.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(l.POINTERLOCK_CHANGE,v,m)},inputCandidate:function(v,m){var T=v.input;if(!T||!T.enabled||!v.willRender(m))return!1;var E=!0,P=v.parentContainer;if(P)do{if(!P.willRender(m)){E=!1;break}P=P.parentContainer}while(P);return E},hitTest:function(v,m,T,E){E===void 0&&(E=this._tempHitTest);var P=this._tempPoint,w=T.scrollX,R=T.scrollY;E.length=0;var b=v.x,O=v.y;T.getWorldPoint(b,O,P),v.worldX=P.x,v.worldY=P.y;for(var I={x:0,y:0},D=this._tempMatrix,B=this._tempMatrix2,k=0;k<m.length;k++){var z=m[k];if(this.inputCandidate(z,T)){var X=P.x+w*z.scrollFactorX-w,K=P.y+R*z.scrollFactorY-R;z.parentContainer?(z.getWorldTransformMatrix(D,B),D.applyInverse(X,K,I)):c(X,K,z.x,z.y,z.rotation,z.scaleX,z.scaleY,I),this.pointWithinHitArea(z,I.x,I.y)&&E.push(z)}}return E},pointWithinHitArea:function(v,m,T){m+=v.displayOriginX,T+=v.displayOriginY;var E=v.input;return E&&E.hitAreaCallback(E.hitArea,m,T,v)?(E.localX=m,E.localY=T,!0):!1},pointWithinInteractiveObject:function(v,m,T){return v.hitArea?(m+=v.gameObject.displayOriginX,T+=v.gameObject.displayOriginY,v.localX=m,v.localY=T,v.hitAreaCallback(v.hitArea,m,T,v)):!1},transformPointer:function(v,m,T,E){var P=v.position,w=v.prevPosition;w.x=P.x,w.y=P.y;var R=this.scaleManager.transformX(m),b=this.scaleManager.transformY(T),O=v.smoothFactor;!E||O===0?(P.x=R,P.y=b):(P.x=R*O+w.x*(1-O),P.y=b*O+w.y*(1-O))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});C.exports=p},48205:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(96503),y=s(87902),f=s(83419),l=s(93301),h=s(74457),r=s(84409),o=s(20339),u=s(8497),a=s(81154),d=s(8214),c=s(50792),p=s(95540),v=s(23777),m=s(89639),T=s(41212),E=s(37277),P=s(87841),w=s(37303),R=s(44594),b=s(16483),O=s(10690),I=new f({Extends:c,initialize:function(B){c.call(this),this.scene=B,this.systems=B.sys,this.settings=B.sys.settings,this.manager=B.sys.game.input,this.pluginEvents=new c,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var k={cancelled:!1};this._eventContainer={stopPropagation:function(){k.cancelled=!0}},this._eventData=k,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,B.sys.events.once(R.BOOT,this.boot,this),B.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(d.BOOT)},start:function(){var D=this.systems.events;D.on(R.TRANSITION_START,this.transitionIn,this),D.on(R.TRANSITION_OUT,this.transitionOut,this),D.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),D.on(R.PRE_UPDATE,this.preUpdate,this),D.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(d.GAME_OUT,this.onGameOut,this),this.manager.events.on(d.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(d.START)},onGameOver:function(D){this.isActive()&&this.emit(d.GAME_OVER,D.timeStamp,D)},onGameOut:function(D){this.isActive()&&this.emit(d.GAME_OUT,D.timeStamp,D)},preUpdate:function(){this.pluginEvents.emit(d.PRE_UPDATE);var D=this._pendingRemoval,B=this._pendingInsertion,k=D.length,z=B.length;if(!(k===0&&z===0)){for(var X=this._list,K=0;K<k;K++){var H=D[K],Q=X.indexOf(H);Q>-1&&(X.splice(Q,1),this.clear(H,!0))}this._pendingRemoval.length=0,this._list=X.concat(B.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(D){this.manager&&this.manager.setCursor(D)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(D,B){if(!this.isActive())return!1;if(this.pluginEvents.emit(d.UPDATE,D,B),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var k,z=this.manager,X=z.pointers;for(k=0;k<X.length;k++)X[k].updateMotion();if(this._list.length===0)return!1;var K=this.pollRate;if(K===-1)return!1;if(K>0)if(this._pollTimer-=B,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(k=0;k<X.length;k++){var Q=0,W=X[k];this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Q+=this.processOverOutEvents(W),this.getDragState(W)===2&&this.processDragThresholdEvent(W,D),Q>0&&(H=!0)}return H},update:function(D,B){if(!this.isActive())return!1;for(var k=!1,z=0;z<B.length;z++){var X=0,K=B[z];switch(this._tempZones=[],this._temp=this.hitTestPointer(K),this.sortGameObjects(this._temp,K),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),D){case l.MOUSE_DOWN:X+=this.processDragDownEvent(K),X+=this.processDownEvents(K),X+=this.processOverOutEvents(K);break;case l.MOUSE_UP:X+=this.processDragUpEvent(K),X+=this.processUpEvents(K),X+=this.processOverOutEvents(K);break;case l.TOUCH_START:X+=this.processDragDownEvent(K),X+=this.processDownEvents(K),X+=this.processOverEvents(K);break;case l.TOUCH_END:case l.TOUCH_CANCEL:X+=this.processDragUpEvent(K),X+=this.processUpEvents(K),X+=this.processOutEvents(K);break;case l.MOUSE_MOVE:case l.TOUCH_MOVE:X+=this.processDragMoveEvent(K),X+=this.processMoveEvents(K),X+=this.processOverOutEvents(K);break;case l.MOUSE_WHEEL:X+=this.processWheelEvent(K);break}X>0&&(k=!0)}return this._updatedThisFrame=!0,k},clear:function(D,B){B===void 0&&(B=!1),this.disable(D);var k=D.input;k&&(this.removeDebug(D),this.manager.resetCursor(k),k.gameObject=void 0,k.target=void 0,k.hitArea=void 0,k.hitAreaCallback=void 0,k.callbackContext=void 0,D.input=null),B||this.queueForRemoval(D);var z=this._draggable.indexOf(D);return z>-1&&this._draggable.splice(z,1),D},disable:function(D,B){B===void 0&&(B=!1);var k=D.input;k&&(k.enabled=!1,k.dragState=0);for(var z=this._drag,X=this._over,K=this.manager,H=0,Q;H<K.pointers.length;H++)Q=z[H].indexOf(D),Q>-1&&z[H].splice(Q,1),Q=X[H].indexOf(D),Q>-1&&X[H].splice(Q,1);return B&&this.resetCursor(),this},enable:function(D,B,k,z){return z===void 0&&(z=!1),D.input?D.input.enabled=!0:this.setHitArea(D,B,k),D.input&&z&&!D.input.dropZone&&(D.input.dropZone=z),this},hitTestPointer:function(D){for(var B=this.cameras.getCamerasBelowPointer(D),k=0;k<B.length;k++){for(var z=B[k],X=this.manager.hitTest(D,this._list,z),K=0;K<X.length;K++){var H=X[K];H.input.dropZone&&this._tempZones.push(H)}if(X.length>0)return D.camera=z,X}return D.camera=B[0],[]},processDownEvents:function(D){var B=0,k=this._temp,z=this._eventData,X=this._eventContainer;z.cancelled=!1;for(var K=0;K<k.length;K++){var H=k[K];if(!(!H.input||!H.input.enabled)&&(B++,H.emit(d.GAMEOBJECT_POINTER_DOWN,D,H.input.localX,H.input.localY,X),z.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(d.GAMEOBJECT_DOWN,D,H,X),z.cancelled||!this.isActive())))break}return!z.cancelled&&this.isActive()&&(D.downElement===this.manager.game.canvas?this.emit(d.POINTER_DOWN,D,k):this.emit(d.POINTER_DOWN_OUTSIDE,D)),B},getDragState:function(D){return this._dragState[D.id]},setDragState:function(D,B){this._dragState[D.id]=B},processDragThresholdEvent:function(D,B){var k=!1,z=this.dragTimeThreshold,X=this.dragDistanceThreshold;if((X>0&&o(D.x,D.y,D.downX,D.downY)>=X||z>0&&B>=D.downTime+z)&&(k=!0),k)return this.setDragState(D,3),this.processDragStartList(D)},processDragStartList:function(D){if(this.getDragState(D)!==3)return 0;var B=this._drag[D.id];B.length>1&&(B=B.slice(0));for(var k=0;k<B.length;k++){var z=B[k],X=z.input;X.dragState=2,X.dragStartX=z.x,X.dragStartY=z.y,X.dragStartXGlobal=D.worldX,X.dragStartYGlobal=D.worldY,X.dragStartCamera=D.camera,X.dragX=X.dragStartXGlobal-X.dragStartX,X.dragY=X.dragStartYGlobal-X.dragStartY,z.emit(d.GAMEOBJECT_DRAG_START,D,X.dragX,X.dragY),this.emit(d.DRAG_START,D,z)}return this.setDragState(D,4),B.length},processDragDownEvent:function(D){var B=this._temp;if(this._draggable.length===0||B.length===0||!D.primaryDown||this.getDragState(D)!==0)return 0;this.setDragState(D,1);for(var k=[],z=0;z<B.length;z++){var X=B[z];X.input.draggable&&X.input.dragState===0&&k.push(X)}return k.length===0?(this.setDragState(D,0),0):(k.length>1&&(this.sortGameObjects(k,D),this.topOnly&&k.splice(1)),this._drag[D.id]=k,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(D,3),this.processDragStartList(D)):(this.setDragState(D,2),0))},processDragMoveEvent:function(D){if(this.getDragState(D)===2&&this.processDragThresholdEvent(D,this.manager.game.loop.now),this.getDragState(D)!==4)return 0;var B=this._tempZones,k=this._drag[D.id];k.length>1&&(k=k.slice(0));for(var z=0;z<k.length;z++){var X=k[z],K=X.input,H=K.target;if(H){var Q=B.indexOf(H);Q===0?(X.emit(d.GAMEOBJECT_DRAG_OVER,D,H),this.emit(d.DRAG_OVER,D,X,H)):Q>0?(X.emit(d.GAMEOBJECT_DRAG_LEAVE,D,H),this.emit(d.DRAG_LEAVE,D,X,H),K.target=B[0],H=K.target,X.emit(d.GAMEOBJECT_DRAG_ENTER,D,H),this.emit(d.DRAG_ENTER,D,X,H)):(X.emit(d.GAMEOBJECT_DRAG_LEAVE,D,H),this.emit(d.DRAG_LEAVE,D,X,H),B[0]?(K.target=B[0],H=K.target,X.emit(d.GAMEOBJECT_DRAG_ENTER,D,H),this.emit(d.DRAG_ENTER,D,X,H)):K.target=null)}else!H&&B[0]&&(K.target=B[0],H=K.target,X.emit(d.GAMEOBJECT_DRAG_ENTER,D,H),this.emit(d.DRAG_ENTER,D,X,H));var W,Y,N=D.positionToCamera(K.dragStartCamera);if(!X.parentContainer)W=N.x-K.dragX,Y=N.y-K.dragY;else{var Z=N.x-K.dragStartXGlobal,U=N.y-K.dragStartYGlobal,j=X.getParentRotation(),et=Z*Math.cos(j)+U*Math.sin(j),it=U*Math.cos(j)-Z*Math.sin(j);et*=1/X.parentContainer.scaleX,it*=1/X.parentContainer.scaleY,W=et+K.dragStartX,Y=it+K.dragStartY}X.emit(d.GAMEOBJECT_DRAG,D,W,Y),this.emit(d.DRAG,D,X,W,Y)}return k.length},processDragUpEvent:function(D){var B=this._drag[D.id];B.length>1&&(B=B.slice(0));for(var k=0;k<B.length;k++){var z=B[k],X=z.input;if(X&&X.dragState===2){X.dragState=0,X.dragX=X.localX-z.displayOriginX,X.dragY=X.localY-z.displayOriginY,X.dragStartCamera=null;var K=!1,H=X.target;H&&(z.emit(d.GAMEOBJECT_DROP,D,H),this.emit(d.DROP,D,z,H),X.target=null,K=!0),z.input&&z.input.enabled&&(z.emit(d.GAMEOBJECT_DRAG_END,D,X.dragX,X.dragY,K),this.emit(d.DRAG_END,D,z,K))}}return this.setDragState(D,0),B.splice(0),0},processMoveEvents:function(D){var B=0,k=this._temp,z=this._eventData,X=this._eventContainer;z.cancelled=!1;for(var K=0;K<k.length;K++){var H=k[K];if(!(!H.input||!H.input.enabled)&&(B++,H.emit(d.GAMEOBJECT_POINTER_MOVE,D,H.input.localX,H.input.localY,X),z.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(d.GAMEOBJECT_MOVE,D,H,X),z.cancelled||!this.isActive()||this.topOnly)))break}return!z.cancelled&&this.isActive()&&this.emit(d.POINTER_MOVE,D,k),B},processWheelEvent:function(D){var B=0,k=this._temp,z=this._eventData,X=this._eventContainer;z.cancelled=!1;for(var K=D.deltaX,H=D.deltaY,Q=D.deltaZ,W=0;W<k.length;W++){var Y=k[W];if(!(!Y.input||!Y.input.enabled)&&(B++,Y.emit(d.GAMEOBJECT_POINTER_WHEEL,D,K,H,Q,X),z.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(d.GAMEOBJECT_WHEEL,D,Y,K,H,Q,X),z.cancelled||!this.isActive())))break}return!z.cancelled&&this.isActive()&&this.emit(d.POINTER_WHEEL,D,k,K,H,Q),B},processOverEvents:function(D){var B=this._temp,k=0,z=B.length,X=[];if(z>0){var K=this.manager,H=this._eventData,Q=this._eventContainer;H.cancelled=!1;for(var W=0;W<z;W++){var Y=B[W];if(!(!Y.input||!Y.input.enabled)&&(X.push(Y),K.setCursor(Y.input),Y.emit(d.GAMEOBJECT_POINTER_OVER,D,Y.input.localX,Y.input.localY,Q),k++,H.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(d.GAMEOBJECT_OVER,D,Y,Q),H.cancelled||!this.isActive())))break}!H.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,D,X)}return this._over[D.id]=X,k},processOutEvents:function(D){var B=this._over[D.id],k=0,z=B.length;if(z>0){var X=this.manager,K=this._eventData,H=this._eventContainer;K.cancelled=!1,this.sortGameObjects(B,D);for(var Q=0;Q<z;Q++){var W=B[Q];if(W=B[Q],!(!W.input||!W.input.enabled)&&(X.resetCursor(W.input),W.emit(d.GAMEOBJECT_POINTER_OUT,D,H),k++,K.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(d.GAMEOBJECT_OUT,D,W,H),K.cancelled||!this.isActive())))break}!K.cancelled&&this.isActive()&&this.emit(d.POINTER_OUT,D,B),this._over[D.id]=[]}return k},processOverOutEvents:function(D){var B=this._temp,k,z,X=[],K=[],H=[],Q=this._over[D.id],W=this._drag[D.id],Y=this.manager;for(k=0;k<Q.length;k++)z=Q[k],B.indexOf(z)===-1&&W.indexOf(z)===-1?X.push(z):H.push(z);for(k=0;k<B.length;k++)z=B[k],Q.indexOf(z)===-1&&K.push(z);var N=X.length,Z=0,U=this._eventData,j=this._eventContainer;if(U.cancelled=!1,N>0){for(this.sortGameObjects(X,D),k=0;k<N&&(z=X[k],!(!(!z.input||!z.input.enabled)&&(Y.resetCursor(z.input),z.emit(d.GAMEOBJECT_POINTER_OUT,D,j),Z++,U.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(d.GAMEOBJECT_OUT,D,z,j),U.cancelled||!this.isActive()))));k++);(!U.cancelled||this.isActive())&&this.emit(d.POINTER_OUT,D,X)}if(N=K.length,U.cancelled=!1,N>0){for(this.sortGameObjects(K,D),k=0;k<N&&(z=K[k],!(!(!z.input||!z.input.enabled)&&(Y.setCursor(z.input),z.emit(d.GAMEOBJECT_POINTER_OVER,D,z.input.localX,z.input.localY,j),Z++,U.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(d.GAMEOBJECT_OVER,D,z,j),U.cancelled||!this.isActive()))));k++);!U.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,D,K)}return Q=H.concat(K),this._over[D.id]=this.sortGameObjects(Q,D),Z},processUpEvents:function(D){var B=this._temp,k=this._eventData,z=this._eventContainer;k.cancelled=!1;for(var X=0;X<B.length;X++){var K=B[X];if(!(!K.input||!K.input.enabled)&&(K.emit(d.GAMEOBJECT_POINTER_UP,D,K.input.localX,K.input.localY,z),k.cancelled||!this.isActive()||K.input&&K.input.enabled&&(this.emit(d.GAMEOBJECT_UP,D,K,z),k.cancelled||!this.isActive())))break}return!k.cancelled&&this.isActive()&&(D.upElement===this.manager.game.canvas?this.emit(d.POINTER_UP,D,B):this.emit(d.POINTER_UP_OUTSIDE,D)),B.length},forceDownState:function(D,B){this.forceState(D,B,d.GAMEOBJECT_POINTER_DOWN,d.GAMEOBJECT_DOWN,!1)},forceUpState:function(D,B){this.forceState(D,B,d.GAMEOBJECT_POINTER_UP,d.GAMEOBJECT_UP,!1)},forceOverState:function(D,B){this.forceState(D,B,d.GAMEOBJECT_POINTER_OVER,d.GAMEOBJECT_OVER,!0)},forceOutState:function(D,B){this.forceState(D,B,d.GAMEOBJECT_POINTER_OUT,d.GAMEOBJECT_OUT,!1)},forceState:function(D,B,k,z,X){var K=this._eventData,H=this._eventContainer;K.cancelled=!1,B.input&&B.input.enabled&&(B.emit(k,D,B.input.localX,B.input.localY,H),X&&this.setCursor(B.input),!K.cancelled&&this.isActive()&&B.input&&B.input.enabled&&this.emit(z,D,B,H))},queueForInsertion:function(D){return this._pendingInsertion.indexOf(D)===-1&&this._list.indexOf(D)===-1&&this._pendingInsertion.push(D),this},queueForRemoval:function(D){return this._pendingRemoval.push(D),this},setDraggable:function(D,B){B===void 0&&(B=!0),Array.isArray(D)||(D=[D]);for(var k=0;k<D.length;k++){var z=D[k];z.input.draggable=B;var X=this._draggable.indexOf(z);B&&X===-1?this._draggable.push(z):!B&&X>-1&&this._draggable.splice(X,1)}return this},makePixelPerfect:function(D){D===void 0&&(D=1);var B=this.systems.textures;return r(B,D)},setHitArea:function(D,B,k){if(B===void 0)return this.setHitAreaFromTexture(D);Array.isArray(D)||(D=[D]);var z=!1,X=!1,K=!1,H=!1,Q=!1,W=!0;if(T(B)&&Object.keys(B).length){var Y=B,N=D.some(function(it){return it.hasOwnProperty("faces")});if(!N){B=p(Y,"hitArea",null),k=p(Y,"hitAreaCallback",null),Q=p(Y,"pixelPerfect",!1);var Z=p(Y,"alphaTolerance",1);Q&&(B={},k=this.makePixelPerfect(Z))}z=p(Y,"draggable",!1),X=p(Y,"dropZone",!1),K=p(Y,"cursor",!1),H=p(Y,"useHandCursor",!1),(!B||!k)&&(this.setHitAreaFromTexture(D),W=!1)}else typeof B=="function"&&!k&&(k=B,B={});for(var U=0;U<D.length;U++){var j=D[U];if(Q&&j.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var et=j.input?j.input:h(j,B,k);et.customHitArea=W,et.dropZone=X,et.cursor=H?"pointer":K,j.input=et,z&&this.setDraggable(j),this.queueForInsertion(j)}return this},setHitAreaCircle:function(D,B,k,z,X){X===void 0&&(X=y);var K=new g(B,k,z);return this.setHitArea(D,K,X)},setHitAreaEllipse:function(D,B,k,z,X,K){K===void 0&&(K=a);var H=new u(B,k,z,X);return this.setHitArea(D,H,K)},setHitAreaFromTexture:function(D,B){B===void 0&&(B=w),Array.isArray(D)||(D=[D]);for(var k=0;k<D.length;k++){var z=D[k],X=z.frame,K=0,H=0;if(z.width?(K=z.width,H=z.height):X&&(K=X.realWidth,H=X.realHeight),z.type==="Container"&&(K===0||H===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}K!==0&&H!==0&&(z.input=h(z,new P(0,0,K,H),B),this.queueForInsertion(z))}return this},setHitAreaRectangle:function(D,B,k,z,X,K){K===void 0&&(K=w);var H=new P(B,k,z,X);return this.setHitArea(D,H,K)},setHitAreaTriangle:function(D,B,k,z,X,K,H,Q){Q===void 0&&(Q=O);var W=new b(B,k,z,X,K,H);return this.setHitArea(D,W,Q)},enableDebug:function(D,B){B===void 0&&(B=65280);var k=D.input;if(!k||!k.hitArea)return this;var z=k.hitArea,X=z.type,K=k.hitAreaDebug,H=this.systems.add,Q=this.systems.updateList;K&&(Q.remove(K),K.destroy(),K=null);var W=0,Y=0;switch(X){case v.CIRCLE:K=H.arc(0,0,z.radius),W=z.x-z.radius,Y=z.y-z.radius;break;case v.ELLIPSE:K=H.ellipse(0,0,z.width,z.height),W=z.x-z.width/2,Y=z.y-z.height/2;break;case v.LINE:K=H.line(0,0,z.x1,z.y1,z.x2,z.y2);break;case v.POLYGON:K=H.polygon(0,0,z.points);break;case v.RECTANGLE:K=H.rectangle(0,0,z.width,z.height),W=z.x,Y=z.y;break;case v.TRIANGLE:K=H.triangle(0,0,z.x1,z.y1,z.x2,z.y2,z.x3,z.y3);break}return K&&(K.isFilled=!1,K.strokeColor=B,K.preUpdate=function(){K.setVisible(D.visible),K.setStrokeStyle(1/D.scale,K.strokeColor),K.setDisplayOrigin(D.displayOriginX,D.displayOriginY);var N=D.x,Z=D.y,U=D.rotation,j=D.scaleX,et=D.scaleY;if(D.parentContainer){var it=D.getWorldTransformMatrix();N=it.tx,Z=it.ty,U=it.rotation,j=it.scaleX,et=it.scaleY}K.setRotation(U),K.setScale(j,et),K.setPosition(N+W*j,Z+Y*et),K.setScrollFactor(D.scrollFactorX,D.scrollFactorY),K.setDepth(D.depth)},Q.add(K),k.hitAreaDebug=K),this},removeDebug:function(D){var B=D.input;if(B&&B.hitAreaDebug){var k=B.hitAreaDebug;k.destroy(),B.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(D){return this.pollRate=D,this._pollTimer=0,this},setGlobalTopOnly:function(D){return this.manager.globalTopOnly=D,this},setTopOnly:function(D){return this.topOnly=D,this},sortGameObjects:function(D,B){if(D.length<2||!B.camera)return D;var k=B.camera.renderList;return D.sort(function(z,X){var K=Math.max(k.indexOf(z),0),H=Math.max(k.indexOf(X),0);return H-K})},sortDropZones:function(D){return D.length<2?D:(this.scene.sys.depthSort(),D.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(D,B){if(!D.parentContainer&&!B.parentContainer)return this.displayList.getIndex(B)-this.displayList.getIndex(D);if(D.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-D.parentContainer.getIndex(D);if(D.parentContainer===B)return-1;if(B.parentContainer===D)return 1;for(var k=D.getIndexList(),z=B.getIndexList(),X=Math.min(k.length,z.length),K=0;K<X;K++){var H=k[K],Q=z[K];if(H!==Q)return Q-H}return z.length-k.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(D){return this.manager.addPointer(D)},setDefaultCursor:function(D){return this.manager.setDefaultCursor(D),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(d.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var D=0;D<10;D++)this._drag[D]=[],this._over[D]=[];this.removeAllListeners();var B=this.manager;B.canvas.style.cursor=B.defaultCursor;var k=this.systems.events;k.off(R.TRANSITION_START,this.transitionIn,this),k.off(R.TRANSITION_OUT,this.transitionOut,this),k.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),k.off(R.PRE_UPDATE,this.preUpdate,this),B.events.off(d.GAME_OUT,this.onGameOut,this),B.events.off(d.GAME_OVER,this.onGameOver,this),k.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var D=this.manager.pointers,B=0;B<D.length;B++)D[B].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(d.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});E.register("InputPlugin",I,"input"),C.exports=I},89639:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35154),y={},f={};f.register=function(l,h,r,o,u){y[l]={plugin:h,mapping:r,settingsKey:o,configKey:u}},f.getPlugin=function(l){return y[l]},f.install=function(l){var h=l.scene.sys,r=h.settings.input,o=h.game.config;for(var u in y){var a=y[u].plugin,d=y[u].mapping,c=y[u].settingsKey,p=y[u].configKey;g(r,c,o[p])&&(l[d]=new a(l))}},f.remove=function(l){y.hasOwnProperty(l)&&delete y[l]},C.exports=f},42515:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(31040),y=s(83419),f=s(20339),l=s(43855),h=s(47235),r=s(26099),o=s(25892),u=new y({initialize:function(d,c){this.manager=d,this.id=c,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new r,this.prevPosition=new r,this.midPoint=new r(-1,-1),this.velocity=new r,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=c===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(a){var d=a.getWorldPoint(this.x,this.y);return this.worldX=d.x,this.worldY=d.y,this},positionToCamera:function(a,d){return a.getWorldPoint(this.x,this.y,d)},updateMotion:function(){var a=this.position.x,d=this.position.y,c=this.midPoint.x,p=this.midPoint.y;if(!(a===c&&d===p)){var v=h(this.motionFactor,c,a),m=h(this.motionFactor,p,d);l(v,a,.1)&&(v=a),l(m,d,.1)&&(m=d),this.midPoint.set(v,m);var T=a-v,E=d-m;this.velocity.set(T,E),this.angle=g(v,m,a,d),this.distance=Math.sqrt(T*T+E*E)}},up:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=a.timeStamp,this.wasTouch=!1)},down:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),o.macOS&&a.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=a.timeStamp),this.wasTouch=!1},move:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.locked&&(this.movementX=a.movementX||a.mozMovementX||a.webkitMovementX||0,this.movementY=a.movementY||a.mozMovementY||a.webkitMovementY||0),this.moveTime=a.timeStamp,this.wasTouch=!1},wheel:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.deltaX=a.deltaX,this.deltaY=a.deltaY,this.deltaZ=a.deltaZ,this.wasTouch=!1},touchstart:function(a,d){a.pointerId&&(this.pointerId=a.pointerId),this.identifier=a.identifier,this.target=a.target,this.active=!0,this.buttons=1,this.event=d,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=d.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(a,d){this.event=d,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.moveTime=d.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(a,d){this.buttons=0,this.event=d,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=d.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(a,d){this.buttons=0,this.event=d,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=d.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?g(this.downX,this.downY,this.x,this.y):g(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(a,d){a===void 0&&(a=10),d===void 0&&(d=[]);for(var c=this.prevPosition.x,p=this.prevPosition.y,v=this.position.x,m=this.position.y,T=0;T<a;T++){var E=1/a*T;d[T]={x:h(E,c,v),y:h(E,p,m)}}return d},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},time:{get:function(){return this.event?this.event.timeStamp:0}}});C.exports=u},93301:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};C.exports=A},7179:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="boot"},85375:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},39843:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragend"},23388:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragenter"},16133:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="drag"},27829:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragleave"},53904:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragover"},56058:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragstart"},2642:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="drop"},88171:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectdown"},36147:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragend"},71692:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragenter"},96149:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="drag"},81285:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragleave"},74048:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragover"},21322:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragstart"},49378:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="drop"},86754:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectmove"},86433:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectout"},60709:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectover"},24081:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerdown"},11172:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointermove"},18907:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerout"},95579:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerover"},35368:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerup"},26972:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="wheel"},47078:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectup"},73802:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameobjectwheel"},56718:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameout"},25936:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="gameover"},27503:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="boot"},50852:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="process"},96438:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="update"},59152:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerlockchange"},47777:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerdown"},27957:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerdownoutside"},19444:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointermove"},54251:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerout"},18667:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerover"},27192:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerup"},24652:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pointerupoutside"},45132:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="wheel"},44512:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="preupdate"},15757:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="shutdown"},41637:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},93802:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="update"},8214:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BOOT:s(7179),DESTROY:s(85375),DRAG_END:s(39843),DRAG_ENTER:s(23388),DRAG:s(16133),DRAG_LEAVE:s(27829),DRAG_OVER:s(53904),DRAG_START:s(56058),DROP:s(2642),GAME_OUT:s(56718),GAME_OVER:s(25936),GAMEOBJECT_DOWN:s(88171),GAMEOBJECT_DRAG_END:s(36147),GAMEOBJECT_DRAG_ENTER:s(71692),GAMEOBJECT_DRAG:s(96149),GAMEOBJECT_DRAG_LEAVE:s(81285),GAMEOBJECT_DRAG_OVER:s(74048),GAMEOBJECT_DRAG_START:s(21322),GAMEOBJECT_DROP:s(49378),GAMEOBJECT_MOVE:s(86754),GAMEOBJECT_OUT:s(86433),GAMEOBJECT_OVER:s(60709),GAMEOBJECT_POINTER_DOWN:s(24081),GAMEOBJECT_POINTER_MOVE:s(11172),GAMEOBJECT_POINTER_OUT:s(18907),GAMEOBJECT_POINTER_OVER:s(95579),GAMEOBJECT_POINTER_UP:s(35368),GAMEOBJECT_POINTER_WHEEL:s(26972),GAMEOBJECT_UP:s(47078),GAMEOBJECT_WHEEL:s(73802),MANAGER_BOOT:s(27503),MANAGER_PROCESS:s(50852),MANAGER_UPDATE:s(96438),POINTER_DOWN:s(47777),POINTER_DOWN_OUTSIDE:s(27957),POINTER_MOVE:s(19444),POINTER_OUT:s(54251),POINTER_OVER:s(18667),POINTER_UP:s(27192),POINTER_UP_OUTSIDE:s(24652),POINTER_WHEEL:s(45132),POINTERLOCK_CHANGE:s(59152),PRE_UPDATE:s(44512),SHUTDOWN:s(15757),START:s(41637),UPDATE:s(93802)}},97421:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h){this.pad=l,this.events=l.events,this.index=h,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});C.exports=y},28884:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(92734),f=new g({initialize:function(h,r){this.pad=h,this.events=h.manager,this.index=r,this.value=0,this.threshold=1,this.pressed=!1},update:function(l){this.value=l;var h=this.pad,r=this.index;l>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(y.BUTTON_DOWN,h,this,l),this.pad.emit(y.GAMEPAD_BUTTON_DOWN,r,l,this)):this.pressed&&(this.pressed=!1,this.events.emit(y.BUTTON_UP,h,this,l),this.pad.emit(y.GAMEPAD_BUTTON_UP,r,l,this))},destroy:function(){this.pad=null,this.events=null}});C.exports=f},99125:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(97421),y=s(28884),f=s(83419),l=s(50792),h=s(26099),r=new f({Extends:l,initialize:function(u,a){l.call(this),this.manager=u,this.pad=a,this.id=a.id,this.index=a.index;for(var d=[],c=0;c<a.buttons.length;c++)d.push(new y(this,c));this.buttons=d;var p=[];for(c=0;c<a.axes.length;c++)p.push(new g(this,c));this.axes=p,this.vibration=a.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=d[14]?d[14]:v,this._LCRight=d[15]?d[15]:v,this._LCTop=d[12]?d[12]:v,this._LCBottom=d[13]?d[13]:v,this._RCLeft=d[2]?d[2]:v,this._RCRight=d[1]?d[1]:v,this._RCTop=d[3]?d[3]:v,this._RCBottom=d[0]?d[0]:v,this._FBLeftTop=d[4]?d[4]:v,this._FBLeftBottom=d[6]?d[6]:v,this._FBRightTop=d[5]?d[5]:v,this._FBRightBottom=d[7]?d[7]:v;var m={value:0};this._HAxisLeft=p[0]?p[0]:m,this._VAxisLeft=p[1]?p[1]:m,this._HAxisRight=p[2]?p[2]:m,this._VAxisRight=p[3]?p[3]:m,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(o){return this.axes[o].getValue()},setAxisThreshold:function(o){for(var u=0;u<this.axes.length;u++)this.axes[u].threshold=o},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(o){return this.buttons[o].value},isButtonDown:function(o){return this.buttons[o].pressed},update:function(o){if(!(o.timestamp<this._created)){var u,a=this.buttons,d=o.buttons,c=a.length;for(u=0;u<c;u++)a[u].update(d[u].value);var p=this.axes,v=o.axes;for(c=p.length,u=0;u<c;u++)p[u].update(v[u]);c>=2&&(this.leftStick.set(p[0].getValue(),p[1].getValue()),c>=4&&this.rightStick.set(p[2].getValue(),p[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var o;for(o=0;o<this.buttons.length;o++)this.buttons[o].destroy();for(o=0;o<this.axes.length;o++)this.axes[o].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});C.exports=r},56654:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(92734),l=s(99125),h=s(35154),r=s(89639),o=s(8214),u=new g({Extends:y,initialize:function(d){y.call(this),this.scene=d.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=d,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,d.pluginEvents.once(o.BOOT,this.boot,this),d.pluginEvents.on(o.START,this.start,this)},boot:function(){var a=this.scene.sys.game,d=this.settings.input,c=a.config;this.enabled=h(d,"gamepad",c.inputGamepad)&&a.device.input.gamepads,this.target=h(d,"gamepad.target",c.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var a=this,d=this.target,c=function(p){p.defaultPrevented||!a.isActive()||(a.refreshPads(),a.queue.push(p))};this.onGamepadHandler=c,d.addEventListener("gamepadconnected",c,!1),d.addEventListener("gamepaddisconnected",c,!1),this.sceneInputPlugin.pluginEvents.on(o.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(o.UPDATE,this.update);for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].removeAllListeners()},disconnectAll:function(){for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].pad.connected=!1},refreshPads:function(){var a=navigator.getGamepads();if(!a)this.disconnectAll();else for(var d=this.gamepads,c=0;c<a.length;c++){var p=a[c];if(p){var v=p.id,m=p.index,T=d[m];if(T)T.id!==v?(T.destroy(),d[m]=new l(this,p)):T.update(p);else{var E=new l(this,p);d[m]=E,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=E):this._pad3=E:this._pad2=E:this._pad1=E}}}},getAll:function(){for(var a=[],d=this.gamepads,c=0;c<d.length;c++)d[c]&&a.push(d[c]);return a},getPad:function(a){for(var d=this.gamepads,c=0;c<d.length;c++)if(d[c]&&d[c].index===a)return d[c]},update:function(){if(this.enabled){this.refreshPads();var a=this.queue.length;if(a!==0)for(var d=this.queue.splice(0,a),c=0;c<a;c++){var p=d[c],v=this.getPad(p.gamepad.index);p.type==="gamepadconnected"?this.emit(f.CONNECTED,v,p):p.type==="gamepaddisconnected"&&this.emit(f.DISCONNECTED,v,p)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var a=0;a<this.gamepads.length;a++)this.gamepads[a]&&this.gamepads[a].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});r.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad"),C.exports=u},89651:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={DUALSHOCK_4:s(65294),SNES_USB:s(89651),XBOX_360:s(90089)}},46008:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="down"},7629:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="up"},42206:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="connected"},86544:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="disconnected"},94784:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="down"},14325:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="up"},92734:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BUTTON_DOWN:s(46008),BUTTON_UP:s(7629),CONNECTED:s(42206),DISCONNECTED:s(86544),GAMEPAD_BUTTON_DOWN:s(94784),GAMEPAD_BUTTON_UP:s(14325)}},48646:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Axis:s(97421),Button:s(28884),Events:s(92734),Gamepad:s(99125),GamepadPlugin:s(56654),Configs:s(64894)}},14350:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(93301),y=s(79291),f={CreatePixelPerfectHandler:s(84409),CreateInteractiveObject:s(74457),Events:s(8214),Gamepad:s(48646),InputManager:s(7003),InputPlugin:s(48205),InputPluginCache:s(89639),Keyboard:s(51442),Mouse:s(87078),Pointer:s(42515),Touch:s(95618)};f=y(!1,f,g),C.exports=f},78970:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(72905),y=s(83419),f=s(8443),l=s(8214),h=s(46032),r=s(29747),o=new y({initialize:function(a){this.manager=a,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=r,this.onKeyUp=r,a.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputKeyboard,this.target=u.inputKeyboardEventTarget,this.addCapture(u.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var u=this;this.onKeyDown=function(d){if(!(d.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(d),u.manager.events.emit(l.MANAGER_PROCESS);var c=d.altKey||d.ctrlKey||d.shiftKey||d.metaKey;u.preventDefault&&!c&&u.captures.indexOf(d.keyCode)>-1&&d.preventDefault()}},this.onKeyUp=function(d){if(!(d.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(d),u.manager.events.emit(l.MANAGER_PROCESS);var c=d.altKey||d.ctrlKey||d.shiftKey||d.metaKey;u.preventDefault&&!c&&u.captures.indexOf(d.keyCode)>-1&&d.preventDefault()}};var a=this.target;a&&(a.addEventListener("keydown",this.onKeyDown,!1),a.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var u=this.target;u.removeEventListener("keydown",this.onKeyDown,!1),u.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var a=this.captures,d=0;d<u.length;d++){var c=u[d];typeof c=="string"&&(c=h[c.trim().toUpperCase()]),a.indexOf(c)===-1&&a.push(c)}this.preventDefault=a.length>0},removeCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var a=this.captures,d=0;d<u.length;d++){var c=u[d];typeof c=="string"&&(c=h[c.toUpperCase()]),g(a,c)}this.preventDefault=a.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});C.exports=o},28846:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(95922),l=s(8443),h=s(35154),r=s(8214),o=s(89639),u=s(30472),a=s(46032),d=s(87960),c=s(74600),p=s(44594),v=s(56583),m=new g({Extends:y,initialize:function(E){y.call(this),this.game=E.systems.game,this.scene=E.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=E,this.manager=E.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,E.pluginEvents.once(r.BOOT,this.boot,this),E.pluginEvents.on(r.START,this.start,this)},boot:function(){var T=this.settings.input;this.enabled=h(T,"keyboard",!0);var E=h(T,"keyboard.capture",null);E&&this.addCaptures(E),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(r.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this),this.game.events.on(l.BLUR,this.resetKeys,this),this.scene.sys.events.on(p.PAUSE,this.resetKeys,this),this.scene.sys.events.on(p.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(T){return this.manager.addCapture(T),this},removeCapture:function(T){return this.manager.removeCapture(T),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT,space:a.SPACE,shift:a.SHIFT})},addKeys:function(T,E,P){E===void 0&&(E=!0),P===void 0&&(P=!1);var w={};if(typeof T=="string"){T=T.split(",");for(var R=0;R<T.length;R++){var b=T[R].trim();b&&(w[b]=this.addKey(b,E,P))}}else for(var O in T)w[O]=this.addKey(T[O],E,P);return w},addKey:function(T,E,P){E===void 0&&(E=!0),P===void 0&&(P=!1);var w=this.keys;if(T instanceof u){var R=w.indexOf(T);return R>-1?w[R]=T:w[T.keyCode]=T,E&&this.addCapture(T.keyCode),T.setEmitOnRepeat(P),T}return typeof T=="string"&&(T=a[T.toUpperCase()]),w[T]||(w[T]=new u(this,T),E&&this.addCapture(T),w[T].setEmitOnRepeat(P)),w[T]},removeKey:function(T,E,P){E===void 0&&(E=!1),P===void 0&&(P=!1);var w=this.keys,R;if(T instanceof u){var b=w.indexOf(T);b>-1&&(R=this.keys[b],this.keys[b]=void 0)}else typeof T=="string"&&(T=a[T.toUpperCase()]);return w[T]&&(R=w[T],w[T]=void 0),R&&(R.plugin=null,P&&this.removeCapture(R.keyCode),E&&R.destroy()),this},removeAllKeys:function(T,E){T===void 0&&(T=!1),E===void 0&&(E=!1);for(var P=this.keys,w=0;w<P.length;w++){var R=P[w];R&&(P[w]=void 0,E&&this.removeCapture(R.keyCode),T&&R.destroy())}return this},createCombo:function(T,E){return new d(this,T,E)},checkDown:function(T,E){if(E===void 0&&(E=0),this.enabled&&T.isDown){var P=v(this.time-T.timeDown,E);if(P>T._tick)return T._tick=P,!0}return!1},update:function(){var T=this.manager.queue,E=T.length;if(!(!this.isActive()||E===0))for(var P=this.keys,w=0;w<E;w++){var R=T[w],b=R.keyCode,O=P[b],I=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(b===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=b,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(O&&(I=O.isDown,O.onDown(R)),!R.cancelled&&(!O||!I)&&(c[b]&&this.emit(f.KEY_DOWN+c[b],R),R.cancelled||this.emit(f.ANY_KEY_DOWN,R))):(O&&O.onUp(R),R.cancelled||(c[b]&&this.emit(f.KEY_UP+c[b],R),R.cancelled||this.emit(f.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var T=this.keys,E=0;E<T.length;E++)T[E]&&T[E].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(r.MANAGER_PROCESS,this.update,this),this.game.events.off(l.BLUR,this.resetKeys),this.scene.sys.events.off(p.PAUSE,this.resetKeys,this),this.scene.sys.events.off(p.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var T=this.keys,E=0;E<T.length;E++)T[E]&&T[E].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});o.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),C.exports=m},66970:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g.timeLastMatched=s.timeStamp,g.index++,g.index===g.size?!0:(g.current=g.keyCodes[g.index],!1)};C.exports=A},87960:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95922),f=s(95540),l=s(68769),h=s(92803),r=new g({initialize:function(u,a,d){if(d===void 0&&(d={}),a.length<2)return!1;this.manager=u,this.enabled=!0,this.keyCodes=[];for(var c=0;c<a.length;c++){var p=a[c];typeof p=="string"?this.keyCodes.push(p.toUpperCase().charCodeAt(0)):typeof p=="number"?this.keyCodes.push(p):p.hasOwnProperty("keyCode")&&this.keyCodes.push(p.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(d,"resetOnWrongKey",!0),this.maxKeyDelay=f(d,"maxKeyDelay",0),this.resetOnMatch=f(d,"resetOnMatch",!1),this.deleteOnMatch=f(d,"deleteOnMatch",!1);var v=this,m=function(T){if(!(v.matched||!v.enabled)){var E=l(T,v);E&&(v.manager.emit(y.COMBO_MATCH,v,T),v.resetOnMatch?h(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=m,this.manager.on(y.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(y.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});C.exports=r},68769:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66970),y=function(f,l){if(l.matched)return!0;var h=!1,r=!1;if(f.keyCode===l.current)if(l.index>0&&l.maxKeyDelay>0){var o=l.timeLastMatched+l.maxKeyDelay;f.timeStamp<=o&&(r=!0,h=g(f,l))}else r=!0,h=g(f,l);return!r&&l.resetOnWrongKey&&(l.index=0,l.current=l.keyCodes[0]),h&&(l.timeLastMatched=f.timeStamp,l.matched=!0,l.timeMatched=f.timeStamp),h};C.exports=y},92803:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.current=s.keyCodes[0],s.index=0,s.timeLastMatched=0,s.matched=!1,s.timeMatched=0,s};C.exports=A},92612:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="keydown"},23345:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="keyup"},21957:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="keycombomatch"},44743:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="down"},3771:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="keydown-"},46358:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="keyup-"},75674:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="up"},95922:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ANY_KEY_DOWN:s(92612),ANY_KEY_UP:s(23345),COMBO_MATCH:s(21957),DOWN:s(44743),KEY_DOWN:s(3771),KEY_UP:s(46358),UP:s(75674)}},51442:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Events:s(95922),KeyboardManager:s(78970),KeyboardPlugin:s(28846),Key:s(30472),KeyCodes:s(46032),KeyCombo:s(87960),AdvanceKeyCombo:s(66970),ProcessKeyCombo:s(68769),ResetKeyCombo:s(92803),JustDown:s(90229),JustUp:s(38796),DownDuration:s(37015),UpDuration:s(41170)}},37015:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=50);var y=s.plugin.game.loop.time-s.timeDown;return s.isDown&&y<g};C.exports=A},90229:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s._justDown?(s._justDown=!1,!0):!1};C.exports=A},38796:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s._justUp?(s._justUp=!1,!0):!1};C.exports=A},30472:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(95922),l=new g({Extends:y,initialize:function(r,o){y.call(this),this.plugin=r,this.keyCode=o,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,h))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});C.exports=l},46032:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};C.exports=A},74600:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(46032),y={};for(var f in g)y[g[f]]=f;C.exports=y},41170:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=50);var y=s.plugin.game.loop.time-s.timeUp;return s.isUp&&y<g};C.exports=A},85098:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(89357),f=s(8214),l=s(29747),h=new g({initialize:function(o){this.manager=o,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=l,this.onMouseDown=l,this.onMouseUp=l,this.onMouseDownWindow=l,this.onMouseUpWindow=l,this.onMouseOver=l,this.onMouseOut=l,this.onMouseWheel=l,this.pointerLockChange=l,this.isTop=!0,o.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputMouse,this.target=r.inputMouseEventTarget,this.passive=r.inputMousePassive,this.preventDefaultDown=r.inputMousePreventDefaultDown,this.preventDefaultUp=r.inputMousePreventDefaultUp,this.preventDefaultMove=r.inputMousePreventDefaultMove,this.preventDefaultWheel=r.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},requestPointerLock:function(){if(y.pointerLock){var r=this.target;r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock,r.requestPointerLock()}},releasePointerLock:function(){y.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var r=this.target;if(r){var o=this,u=this.manager,a=u.canvas,d=window&&window.focus&&u.game.config.autoFocus;this.onMouseMove=function(p){!p.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onMouseMove(p),o.preventDefaultMove&&p.preventDefault())},this.onMouseDown=function(p){d&&window.focus(),!p.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onMouseDown(p),o.preventDefaultDown&&p.target===a&&p.preventDefault())},this.onMouseDownWindow=function(p){p.sourceCapabilities&&p.sourceCapabilities.firesTouchEvents||!p.defaultPrevented&&o.enabled&&u&&u.enabled&&p.target!==a&&u.onMouseDown(p)},this.onMouseUp=function(p){!p.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onMouseUp(p),o.preventDefaultUp&&p.target===a&&p.preventDefault())},this.onMouseUpWindow=function(p){p.sourceCapabilities&&p.sourceCapabilities.firesTouchEvents||!p.defaultPrevented&&o.enabled&&u&&u.enabled&&p.target!==a&&u.onMouseUp(p)},this.onMouseOver=function(p){!p.defaultPrevented&&o.enabled&&u&&u.enabled&&u.setCanvasOver(p)},this.onMouseOut=function(p){!p.defaultPrevented&&o.enabled&&u&&u.enabled&&u.setCanvasOut(p)},this.onMouseWheel=function(p){!p.defaultPrevented&&o.enabled&&u&&u.enabled&&u.onMouseWheel(p),o.preventDefaultWheel&&p.target===a&&p.preventDefault()};var c={passive:!0};if(r.addEventListener("mousemove",this.onMouseMove),r.addEventListener("mousedown",this.onMouseDown),r.addEventListener("mouseup",this.onMouseUp),r.addEventListener("mouseover",this.onMouseOver,c),r.addEventListener("mouseout",this.onMouseOut,c),this.preventDefaultWheel?r.addEventListener("wheel",this.onMouseWheel,{passive:!1}):r.addEventListener("wheel",this.onMouseWheel,c),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,c),window.top.addEventListener("mouseup",this.onMouseUpWindow,c)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,c),window.addEventListener("mouseup",this.onMouseUpWindow,c),this.isTop=!1}y.pointerLock&&(this.pointerLockChange=function(p){var v=o.target;o.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,u.onPointerLockChange(p)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("mousemove",this.onMouseMove),r.removeEventListener("mousedown",this.onMouseDown),r.removeEventListener("mouseup",this.onMouseUp),r.removeEventListener("mouseover",this.onMouseOver),r.removeEventListener("mouseout",this.onMouseOut),window&&(r=this.isTop?window.top:window,r.removeEventListener("mousedown",this.onMouseDownWindow),r.removeEventListener("mouseup",this.onMouseUpWindow)),y.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});C.exports=h},87078:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={MouseManager:s(85098)}},36210:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(8214),f=s(29747),l=new g({initialize:function(r){this.manager=r,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.isTop=!0,r.events.once(y.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this.target;if(h){var r=this,o=this.manager,u=o.canvas,a=window&&window.focus&&o.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&r.enabled&&o&&o.enabled&&(o.onTouchMove(v),r.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){a&&window.focus(),!v.defaultPrevented&&r.enabled&&o&&o.enabled&&(o.onTouchStart(v),r.capture&&v.cancelable&&v.target===u&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&r.enabled&&o&&o.enabled&&v.target!==u&&o.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&r.enabled&&o&&o.enabled&&(o.onTouchEnd(v),r.capture&&v.cancelable&&v.target===u&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&r.enabled&&o&&o.enabled&&v.target!==u&&o.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&r.enabled&&o&&o.enabled&&(o.onTouchCancel(v),r.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&r.enabled&&o&&o.enabled&&o.onTouchCancel(v)};var d=this.capture,c={passive:!0},p={passive:!1};if(h.addEventListener("touchstart",this.onTouchStart,d?p:c),h.addEventListener("touchmove",this.onTouchMove,d?p:c),h.addEventListener("touchend",this.onTouchEnd,d?p:c),h.addEventListener("touchcancel",this.onTouchCancel,d?p:c),window&&o.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,p),window.top.addEventListener("touchend",this.onTouchEndWindow,p),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,p)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,p),window.addEventListener("touchend",this.onTouchEndWindow,p),window.addEventListener("touchcancel",this.onTouchCancelWindow,p),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),window&&(h=this.isTop?window.top:window,h.removeEventListener("touchstart",this.onTouchStartWindow),h.removeEventListener("touchend",this.onTouchEndWindow),h.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});C.exports=l},95618:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={TouchManager:s(36210)}},41299:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(54899),l=s(95540),h=s(98356),r=s(3374),o=s(84376),u=s(92638),a=new g({initialize:function(c,p){if(this.loader=c,this.cache=l(p,"cache",!1),this.type=l(p,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=l(p,"key",!1);var v=this.key;if(c.prefix&&c.prefix!==""&&(this.key=c.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var m=l(p,"url");m===void 0?m=c.path+v+"."+l(p,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(m=c.path+m),this.url=m,this.src="",this.xhrSettings=u(l(p,"responseType",void 0)),l(p,"xhrSettings",!1)&&(this.xhrSettings=r(this.xhrSettings,l(p,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?y.FILE_POPULATED:y.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=l(p,"config",{}),this.multiFile,this.linkFile,this.base64=typeof m=="string"&&m.indexOf("data:")===0,this.retryAttempts=l(p,"maxRetries",c.maxRetries)},setLink:function(d){this.linkFile=d,d.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===y.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=y.FILE_LOADING,this.src=h(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=o(this,this.loader.xhr)}},onLoad:function(d,c){var p=d.responseURL&&this.loader.localSchemes.some(function(T){return d.responseURL.indexOf(T)===0}),v=p&&c.target.status===0,m=!(c.target&&c.target.status!==200)||v;d.readyState===4&&d.status>=400&&d.status<=599&&(m=!1),this.state=y.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onBase64Load:function(d){this.xhrLoader=d,this.state=y.FILE_LOADED,this.percentComplete=1,this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(d){d.lengthComputable&&(this.bytesLoaded=d.loaded,this.bytesTotal=d.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=y.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=y.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=y.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(d){if(this.state!==y.FILE_PENDING_DESTROY){d===void 0&&(d=this.data);var c=this.key,p=this.type;this.loader.emit(f.FILE_COMPLETE,c,p,d),this.loader.emit(f.FILE_KEY_COMPLETE+p+"-"+c,c,p,d),this.loader.flagForRemoval(this),this.state=y.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(d,c,p){if(typeof URL=="function")d.src=URL.createObjectURL(c);else{var v=new FileReader;v.onload=function(){d.removeAttribute("crossOrigin"),d.src="data:"+(c.type||p)+";base64,"+v.result.split(",")[1]},v.onerror=d.onerror,v.readAsDataURL(c)}},a.revokeObjectURL=function(d){typeof URL=="function"&&URL.revokeObjectURL(d.src)},C.exports=a},74099:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={},s={install:function(g){for(var y in A)g[y]=A[y]},register:function(g,y){A[g]=y},destroy:function(){A={}}};C.exports=s},98356:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.url?s.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?s.url:g+s.url:!1};C.exports=A},74261:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(35072),l=s(50792),h=s(54899),r=s(74099),o=s(95540),u=s(35154),a=s(41212),d=s(37277),c=s(44594),p=s(92638),v=new g({Extends:l,initialize:function(T){l.call(this);var E=T.sys.game.config,P=T.sys.settings.loader;this.scene=T,this.systems=T.sys,this.cacheManager=T.sys.cache,this.textureManager=T.sys.textures,this.sceneManager=T.sys.game.scene,r.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(o(P,"baseURL",E.loaderBaseURL)),this.setPath(o(P,"path",E.loaderPath)),this.setPrefix(o(P,"prefix",E.loaderPrefix)),this.maxParallelDownloads=o(P,"maxParallelDownloads",E.loaderMaxParallelDownloads),this.xhr=p(o(P,"responseType",E.loaderResponseType),o(P,"async",E.loaderAsync),o(P,"user",E.loaderUser),o(P,"password",E.loaderPassword),o(P,"timeout",E.loaderTimeout),o(P,"withCredentials",E.loaderWithCredentials)),this.crossOrigin=o(P,"crossOrigin",E.loaderCrossOrigin),this.imageLoadType=o(P,"imageLoadType",E.loaderImageLoadType),this.localSchemes=o(P,"localScheme",E.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=y.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=o(P,"maxRetries",E.loaderMaxRetries),T.sys.events.once(c.BOOT,this.boot,this),T.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return m===void 0&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++){var E=m[T];this.keyExists(E)||(this.list.set(E),this.emit(h.ADD,E.key,E.type,this,E),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var T=m.hasCacheConflict();return T||this.list.iterate(function(E){if(E.type===m.type&&E.key===m.key)return T=!0,!1}),!T&&this.isLoading()&&(this.inflight.iterate(function(E){if(E.type===m.type&&E.key===m.key)return T=!0,!1}),this.queue.iterate(function(E){if(E.type===m.type&&E.key===m.key)return T=!0,!1})),T},addPack:function(m,T){if(typeof T=="string"){var E=u(m,T);E&&(m={packKey:E})}var P=0,w=this.baseURL,R=this.path,b=this.prefix;for(var O in m)if(Object.prototype.hasOwnProperty.call(m,O)){var I=m[O],D=o(I,"baseURL",w),B=o(I,"path",R),k=o(I,"prefix",b),z=o(I,"files",null),X=o(I,"defaultType","void");if(Array.isArray(z)){this.setBaseURL(D),this.setPath(B),this.setPrefix(k);for(var K=0;K<z.length;K++){var H=z[K],Q=H.hasOwnProperty("type")?H.type:X;this[Q]&&(this[Q](H),P++)}}}return this.setBaseURL(w),this.setPath(R),this.setPrefix(b),P>0},removePack:function(m,T){var E=this.systems.anims,P=this.cacheManager,w=this.textureManager,R={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},b;if(a(m))b=m;else if(b=P.json.get(m),!b){console.warn("Asset Pack not found in JSON cache:",m);return}T&&(b={_:b[T]});for(var O in b){var I=b[O],D=o(I,"prefix",""),B=o(I,"files"),k=o(I,"defaultType");if(Array.isArray(B))for(var z=0;z<B.length;z++){var X=B[z],K=X.hasOwnProperty("type")?X.type:k;if(!K){console.warn("No type:",X);continue}var H=D+X.key;if(K==="animation"&&E.remove(H),!((K==="aseprite"||K==="atlas"||K==="atlasXML"||K==="htmlTexture"||K==="image"||K==="multiatlas"||K==="spritesheet"||K==="svg"||K==="texture"||K==="unityAtlas")&&(w.remove(H),!R[K]))){if(K==="pack"){this.removePack(H,X.dataKey);continue}if(K==="spine"){var Q=P.custom.spine.get(H);if(!Q)continue;var W=Q.prefix===void 0?"":Q.prefix;P.custom.spine.remove(H);var Y=P.custom.spineTextures.get(H);if(!Y)continue;P.custom.spineTextures.remove(H);for(var N=0;N<Y.pages.length;N++){var Z=Y.pages[N],U=W+Z.name,j=H+":"+U;w.exists(j)?w.remove(j):w.remove(U)}}var et=R[K];if(et!==null){if(!et){console.warn("Unknown type:",K);continue}var it=P[et];it.remove(H)}}}}},isLoading:function(){return this.state===y.LOADER_LOADING||this.state===y.LOADER_PROCESSING},isReady:function(){return this.state===y.LOADER_IDLE||this.state===y.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),this.list.size===0?this.loadComplete():(this.state=y.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===y.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){if((m.state===y.FILE_POPULATED||m.state===y.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,T){this.inflight&&(this.inflight.delete(m),this.updateProgress(),T?(this.totalComplete++,this.queue.set(m),this.emit(h.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(h.FILE_LOAD_ERROR,m),this.fileProcessComplete(m)))},fileProcessComplete:function(m){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(m.state===y.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===y.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&(m.multiFile.addToCache(),m.multiFile.pendingDestroy()):(m.addToCache(),m.pendingDestroy())),this.queue.delete(m),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=y.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,T){return this.save(JSON.stringify(m),T)},save:function(m,T,E){T===void 0&&(T="file.json"),E===void 0&&(E="application/json");var P=new Blob([m],{type:E}),w=URL.createObjectURL(P),R=document.createElement("a");return R.download=T,R.textContent="Download "+T,R.href=w,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,T=this.systems.settings.loader;this.setBaseURL(o(T,"baseURL",m.loaderBaseURL)),this.setPath(o(T,"path",m.loaderPath)),this.setPrefix(o(T,"prefix",m.loaderPrefix)),this.state=y.LOADER_IDLE},shutdown:function(){this.reset(),this.state=y.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=y.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});d.register("Loader",v,"load"),C.exports=v},3374:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=s(92638),f=function(l,h){var r=l===void 0?y():g({},l);if(h)for(var o in h)h[o]!==void 0&&(r[o]=h[o]);return r};C.exports=f},26430:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(54899),l=new g({initialize:function(r,o,u,a){var d=[];a.forEach(function(v){v&&d.push(v)}),this.loader=r,this.type=o,this.key=u;var c=this.key;r.prefix&&r.prefix!==""&&(this.key=r.prefix+c),this.multiKeyIndex=r.multiKeyIndex++,this.files=d,this.state=y.FILE_PENDING,this.complete=!1,this.pending=d.length,this.failed=0,this.config={},this.baseURL=r.baseURL,this.path=r.path,this.prefix=r.prefix;for(var p=0;p<d.length;p++)d[p].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){var r=this.files.indexOf(h);r!==-1&&this.pending--},onFileFailed:function(h){var r=this.files.indexOf(h);r!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,h.type,h.key))},pendingDestroy:function(){if(this.state!==y.FILE_PENDING_DESTROY){var h=this.key,r=this.type;this.loader.emit(f.FILE_COMPLETE,h,r),this.loader.emit(f.FILE_KEY_COMPLETE+r+"-"+h,h,r),this.loader.flagForRemoval(this);for(var o=0;o<this.files.length;o++)this.files[o].pendingDestroy();this.state=y.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});C.exports=l},84376:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(3374),y=function(f,l){var h=g(l,f.xhrSettings);if(f.base64){var r=f.url.split(";base64,").pop()||f.url.split(",").pop(),o;f.xhrSettings.responseType==="arraybuffer"?o={response:Uint8Array.from(atob(r),function(d){return d.charCodeAt(0)}).buffer}:o={responseText:atob(r)},f.onBase64Load(o);return}var u=new XMLHttpRequest;if(u.open("GET",f.src,h.async,h.user,h.password),u.responseType=f.xhrSettings.responseType,u.timeout=h.timeout,h.headers)for(var a in h.headers)u.setRequestHeader(a,h.headers[a]);return h.header&&h.headerValue&&u.setRequestHeader(h.header,h.headerValue),h.requestedWith&&u.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&u.overrideMimeType(h.overrideMimeType),h.withCredentials&&(u.withCredentials=!0),u.onload=f.onLoad.bind(f,u),u.onerror=f.onError.bind(f,u),u.onprogress=f.onProgress.bind(f),u.ontimeout=f.onError.bind(f,u),u.send(),u};C.exports=y},92638:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,h){return s===void 0&&(s=""),g===void 0&&(g=!0),y===void 0&&(y=""),f===void 0&&(f=""),l===void 0&&(l=0),h===void 0&&(h=!1),{responseType:s,async:g,user:y,password:f,timeout:l,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:h}};C.exports=A},23906:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};C.exports=A},42155:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addfile"},38991:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},27540:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="filecomplete"},87464:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="filecomplete-"},94486:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loaderror"},13035:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="load"},38144:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="fileprogress"},97520:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postprocess"},85595:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="progress"},55680:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},54899:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADD:s(42155),COMPLETE:s(38991),FILE_COMPLETE:s(27540),FILE_KEY_COMPLETE:s(87464),FILE_LOAD_ERROR:s(94486),FILE_LOAD:s(13035),FILE_PROGRESS:s(38144),POST_PROCESS:s(97520),PROGRESS:s(85595),START:s(55680)}},14135:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(518),l=s(54899),h=new g({Extends:f,initialize:function(o,u,a,d,c){f.call(this,o,u,a,d,c),this.type="animationJSON"},onProcess:function(){this.loader.once(l.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});y.register("animation",function(r,o,u,a){if(Array.isArray(r))for(var d=0;d<r.length;d++)this.addFile(new h(this,r[d]));else this.addFile(new h(this,r,o,a,u));return this}),C.exports=h},76272:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),h=s(41212),r=s(518),o=s(26430),u=new g({Extends:o,initialize:function(d,c,p,v,m,T){var E,P;if(h(c)){var w=c;c=f(w,"key"),E=new l(d,{key:c,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new r(d,{key:c,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(d,c,p,m),P=new r(d,c,v,T);E.linkFile?o.call(this,d,"atlasjson",c,[E,P,E.linkFile]):o.call(this,d,"atlasjson",c,[E,P])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],d=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,d.data,c),d.addToCache(),this.complete=!0}}});y.register("aseprite",function(a,d,c,p,v){var m;if(Array.isArray(a))for(var T=0;T<a.length;T++)m=new u(this,a[T]),this.addFile(m.files);else m=new u(this,a,d,c,p,v),this.addFile(m.files);return this}),C.exports=u},38734:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),h=s(41212),r=s(518),o=s(26430),u=new g({Extends:o,initialize:function(d,c,p,v,m,T){var E,P;if(h(c)){var w=c;c=f(w,"key"),E=new l(d,{key:c,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new r(d,{key:c,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(d,c,p,m),P=new r(d,c,v,T);E.linkFile?o.call(this,d,"atlasjson",c,[E,P,E.linkFile]):o.call(this,d,"atlasjson",c,[E,P])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],d=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,d.data,c),this.complete=!0}}});y.register("atlas",function(a,d,c,p,v){var m;if(Array.isArray(a))for(var T=0;T<a.length;T++)m=new u(this,a[T]),this.addFile(m.files);else m=new u(this,a,d,c,p,v),this.addFile(m.files);return this}),C.exports=u},74599:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),h=s(41212),r=s(26430),o=s(57318),u=new g({Extends:r,initialize:function(d,c,p,v,m,T){var E,P;if(h(c)){var w=c;c=f(w,"key"),E=new l(d,{key:c,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new o(d,{key:c,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","xml"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(d,c,p,m),P=new o(d,c,v,T);E.linkFile?r.call(this,d,"atlasxml",c,[E,P,E.linkFile]):r.call(this,d,"atlasxml",c,[E,P])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],d=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(a.key,a.data,d.data,c),this.complete=!0}}});y.register("atlasXML",function(a,d,c,p,v){var m;if(Array.isArray(a))for(var T=0;T<a.length;T++)m=new u(this,a[T]),this.addFile(m.files);else m=new u(this,a,d,c,p,v),this.addFile(m.files);return this}),C.exports=u},21097:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(89749),o=s(41212),u=new g({Extends:f,initialize:function(d,c,p,v,m){if(o(c)){var T=c;c=h(T,"key"),v=h(T,"xhrSettings"),m=h(T,"context",m)}var E={type:"audio",cache:d.cacheManager.audio,extension:p.type,responseType:"arraybuffer",key:c,url:p.url,xhrSettings:v,config:{context:m}};f.call(this,d,E)},onProcess:function(){this.state=y.FILE_PROCESSING;var a=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(d){a.data=d,a.onProcessComplete()},function(d){console.error("Error decoding audio: "+a.key+" - ",d?d.message:null),a.onProcessError()}),this.config.context=null}});u.create=function(a,d,c,p,v){var m=a.systems.game,T=m.config.audio,E=m.device.audio;o(d)&&(c=h(d,"url",[]),p=h(d,"config",{}));var P=u.getAudioURL(m,c);return P?E.webAudio&&!T.disableWebAudio?new u(a,d,P,v,m.sound.context):new r(a,d,P,p):(console.warn('No audio URLs for "%s" can play on this device',d),null)},u.getAudioURL=function(a,d){Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var p=h(d[c],"url",d[c]);if(p.indexOf("blob:")===0||p.indexOf("data:")===0)return{url:p,type:""};var v=p.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=h(d[c],"type",v?v[1]:"").toLowerCase(),a.device.audio[v])return{url:p,type:v}}return null},l.register("audio",function(a,d,c,p){var v=this.systems.game,m=v.config.audio,T=v.device.audio;if(m.noAudio||!T.webAudio&&!T.audioData)return this;var E;if(Array.isArray(a))for(var P=0;P<a.length;P++)E=u.create(this,a[P]),E&&this.addFile(E);else E=u.create(this,a,d,c,p),E&&this.addFile(E);return this}),C.exports=u},89524:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(21097),y=s(83419),f=s(74099),l=s(95540),h=s(41212),r=s(518),o=s(26430),u=new y({Extends:o,initialize:function(d,c,p,v,m,T,E){if(h(c)){var P=c;c=l(P,"key"),p=l(P,"jsonURL"),v=l(P,"audioURL"),m=l(P,"audioConfig"),T=l(P,"audioXhrSettings"),E=l(P,"jsonXhrSettings")}var w;if(!v)w=new r(d,c,p,E),o.call(this,d,"audiosprite",c,[w]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=T;else{var R=g.create(d,c,v,m,T);R&&(w=new r(d,c,p,E),o.call(this,d,"audiosprite",c,[R,w]),this.config.resourceLoad=!1)}},onFileComplete:function(a){var d=this.files.indexOf(a);if(d!==-1&&(this.pending--,this.config.resourceLoad&&a.type==="json"&&a.data.hasOwnProperty("resources"))){var c=a.data.resources,p=l(this.config,"audioConfig"),v=l(this.config,"audioXhrSettings"),m=g.create(this.loader,a.key,c,p,v);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],d=this.files[1];a.addToCache(),d.addToCache(),this.complete=!0}}});f.register("audioSprite",function(a,d,c,p,v,m){var T=this.systems.game,E=T.config.audio,P=T.device.audio;if(E&&E.noAudio||!P.webAudio&&!P.audioData)return this;var w;if(Array.isArray(a))for(var R=0;R<a.length;R++)w=new u(this,a[R]),w.files&&this.addFile(w.files);else w=new u(this,a,d,c,p,v,m),w.files&&this.addFile(w.files);return this})},85722:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p,v){var m="bin";if(r(d)){var T=d;d=h(T,"key"),c=h(T,"url"),p=h(T,"xhrSettings"),m=h(T,"extension",m),v=h(T,"dataType",v)}var E={type:"binary",cache:a.cacheManager.binary,extension:m,responseType:"arraybuffer",key:d,url:c,xhrSettings:p,config:{dataType:v}};f.call(this,a,E)},onProcess:function(){this.state=y.FILE_PROCESSING;var u=this.config.dataType;this.data=u?new u(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});l.register("binary",function(u,a,d,c){if(Array.isArray(u))for(var p=0;p<u.length;p++)this.addFile(new o(this,u[p]));else this.addFile(new o(this,u,a,c,d));return this}),C.exports=o},97025:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),h=s(41212),r=s(26430),o=s(21859),u=s(57318),a=new g({Extends:r,initialize:function(c,p,v,m,T,E){var P,w;if(h(p)){var R=p;p=f(R,"key"),P=new l(c,{key:p,url:f(R,"textureURL"),extension:f(R,"textureExtension","png"),normalMap:f(R,"normalMap"),xhrSettings:f(R,"textureXhrSettings")}),w=new u(c,{key:p,url:f(R,"fontDataURL"),extension:f(R,"fontDataExtension","xml"),xhrSettings:f(R,"fontDataXhrSettings")})}else P=new l(c,p,v,T),w=new u(c,p,m,E);P.linkFile?r.call(this,c,"bitmapfont",p,[P,w,P.linkFile]):r.call(this,c,"bitmapfont",p,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],c=this.files[1];d.addToCache();var p=d.cache.get(d.key),v=o(c.data,d.cache.getFrame(d.key),0,0,p);this.loader.cacheManager.bitmapFont.add(d.key,{data:v,texture:d.key,frame:null}),this.complete=!0}}});y.register("bitmapFont",function(d,c,p,v,m){var T;if(Array.isArray(d))for(var E=0;E<d.length;E++)T=new a(this,d[E]),this.addFile(T.files);else T=new a(this,d,c,p,v,m),this.addFile(T.files);return this}),C.exports=a},16024:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p){var v="css";if(r(d)){var m=d;d=h(m,"key"),c=h(m,"url"),p=h(m,"xhrSettings"),v=h(m,"extension",v)}var T={type:"script",cache:!1,extension:v,responseType:"text",key:d,url:c,xhrSettings:p};f.call(this,a,T)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("css",function(u,a,d){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new o(this,u[c]));else this.addFile(new o(this,u,a,d));return this}),C.exports=o},69559:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(38734),y=s(85722),f=s(83419),l=s(74099),h=s(95540),r=s(19550),o=s(41212),u=s(518),a=s(31403),d=s(46975),c=s(59327),p=s(26430),v=s(82038),m=s(55222),T=new f({Extends:p,initialize:function(P,w,R,b){if(R.multiAtlasURL){var O=new u(P,{key:w,url:R.multiAtlasURL,xhrSettings:b,config:R});p.call(this,P,"texture",w,[O])}else{var I=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=I.toLowerCase()==="ktx"?"KTX":"PVR");var D=new y(P,{key:w,url:R.textureURL,extension:I,xhrSettings:b,config:R});if(R.atlasURL){var B=new u(P,{key:w,url:R.atlasURL,xhrSettings:b,config:R});p.call(this,P,"texture",w,[D,B])}else p.call(this,P,"texture",w,[D])}this.config=R},onFileComplete:function(E){var P=this.files.indexOf(E);if(P!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(E.type==="json"&&E.data.hasOwnProperty("textures")){var w=E.data.textures,R=this.config,b=this.loader,O=b.baseURL,I=b.path,D=b.prefix,B=h(R,"multiBaseURL",this.baseURL),k=h(R,"multiPath",this.path),z=h(R,"prefix",this.prefix),X=h(R,"textureXhrSettings");B&&b.setBaseURL(B),k&&b.setPath(k),z&&b.setPrefix(z);for(var K=0;K<w.length;K++){var H=w[K].image,Q="CMA"+this.multiKeyIndex+"_"+H,W=new y(b,Q,H,X);if(this.addToMultiFile(W),b.addFile(W),w[K].normalMap){var Y=new y(b,Q,w[K].normalMap,X);Y.type="normalMap",W.setLink(Y),this.addToMultiFile(Y),b.addFile(Y)}}b.setBaseURL(O),b.setPath(I),b.setPrefix(D)}}},addToCache:function(){function E(B){console.warn('Compressed Texture Invalid: "'+O.key+'". '+B)}if(this.isReadyToProcess()){var P=this.config;if(P.multiAtlasURL)this.addMultiToCache();else{var w=this.loader.systems.renderer,R=this.loader.textureManager,b,O=this.files[0],I=this.files[1];if(P.type==="PVR"?b=v(O.data):P.type==="KTX"&&(b=a(O.data),b||E("KTX file contains unsupported format.")),b&&!m(b)&&(E("Texture dimensions failed verification. Check the texture format specifications for "+P.format+" 0x"+b.internalFormat.toString(16)+"."),b=null),b&&!w.supportsCompressedTexture(P.format,b.internalFormat)&&(E("Texture format "+P.format+" with internal format "+b.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),b=null),b){b.format=w.getCompressedTextureName(P.format,b.internalFormat);var D=I&&I.data?I.data:null;R.addCompressedTexture(O.key,b,D)}}this.complete=!0}},addMultiToCache:function(){for(var E=this.config,P=this.files[0],w=[],R=[],b=[],O=this.loader.systems.renderer,I=this.loader.textureManager,D,B=1;B<this.files.length;B++){var k=this.files[B];if(k.type!=="normalMap")for(var z=k.key.indexOf("_"),X=k.key.substr(z+1),K=k.data,H=0;H<P.data.textures.length;H++){var Q=P.data.textures[H];if(Q.image===X){E.type==="PVR"?D=v(K):E.type==="KTX"&&(D=a(K)),D&&O.supportsCompressedTexture(E.format,D.internalFormat)&&(D.format=O.getCompressedTextureName(E.format,D.internalFormat),R.push(D),w.push(Q),k.linkFile&&b.push(k.linkFile.data));break}}}b.length===0&&(b=void 0),I.addAtlasJSONArray(this.key,R,w,b),this.complete=!0}});l.register("texture",function(E,P,w){var R=this.systems.renderer,b=function(I,D,B,k){var z={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(o(D)){var X=D;D=h(X,"key"),B=h(X,"url"),k=h(X,"xhrSettings")}var K=!1;for(var H in B)if(R.supportsCompressedTexture(H)){var Q=B[H];typeof Q=="string"?z.textureURL=Q:z=d(Q,z),z.format=H.toUpperCase(),K=!0;break}if(!K)console.warn("No supported compressed texture format or IMG fallback",D);else if(z.format==="IMG"){var W,Y;z.multiAtlasURL?(Y=new c(I,D,z.multiAtlasURL,z.multiPath,z.multiBaseURL,k),W=Y.files):z.atlasURL?(Y=new g(I,D,z.textureURL,z.atlasURL,k),W=Y.files):W=new r(I,D,z.textureURL,k),I.addFile(W)}else{var N=new T(I,D,z,k);I.addFile(N.files)}};if(Array.isArray(E))for(var O=0;O<E.length;O++)b(this,E[O]);else b(this,E,P,w);return this}),C.exports=T},87674:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(98356),o=s(41212),u=new g({Extends:f,initialize:function(d,c,p,v,m,T){var E="ttf";if(o(c)){var P=c;c=h(P,"key"),p=h(P,"url"),v=h(P,"format","truetype"),m=h(P,"descriptors",null),T=h(P,"xhrSettings"),E=h(P,"extension",E)}else v===void 0&&(v="truetype");var w={type:"font",cache:!1,extension:E,responseType:"text",key:c,url:p,xhrSettings:T};f.call(this,d,w),this.data={format:v,descriptors:m},this.state=y.FILE_POPULATED},onProcess:function(){this.state=y.FILE_PROCESSING,this.src=r(this,this.loader.baseURL);var a,d=this.key,c="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?a=new FontFace(d,c,this.data.descriptors):a=new FontFace(d,c);var p=this;a.load().then(function(){document.fonts.add(a),document.body.classList.add("fonts-loaded"),p.onProcessComplete()}).catch(function(){console.warn("Font failed to load",c),p.onProcessComplete()})}});l.register("font",function(a,d,c,p,v){if(Array.isArray(a))for(var m=0;m<a.length;m++)this.addFile(new u(this,a[m]));else this.addFile(new u(this,a,d,c,p,v));return this}),C.exports=u},47931:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=s(73894),u=new g({Extends:f,initialize:function(d,c,p,v,m){var T="glsl";if(r(c)){var E=c;c=h(E,"key"),p=h(E,"url"),v=h(E,"shaderType","fragment"),m=h(E,"xhrSettings"),T=h(E,"extension",T)}else v===void 0&&(v="fragment");var P={type:"glsl",cache:d.cacheManager.shader,extension:T,responseType:"text",key:c,url:p,config:{shaderType:v},xhrSettings:m};f.call(this,d,P)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a=this.data.split(`
`),d=this.extractBlock(a,0);if(d)for(;d;){var c=this.getShaderName(d.header),p=this.getShaderType(d.header),v=this.getShaderUniforms(d.header),m=d.shader;if(this.cache.has(c)){var T=this.cache.get(c);p==="fragment"?T.fragmentSrc=m:T.vertexSrc=m,T.uniforms||(T.uniforms=v)}else p==="fragment"?this.cache.add(c,new o(c,m,"",v)):this.cache.add(c,new o(c,"",m,v));d=this.extractBlock(a,d.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new o(this.key,this.data)):this.cache.add(this.key,new o(this.key,"",this.data))},getShaderName:function(a){for(var d=0;d<a.length;d++){var c=a[d].trim();if(c.substring(0,5)==="name:")return c.substring(5).trim()}return this.key},getShaderType:function(a){for(var d=0;d<a.length;d++){var c=a[d].trim();if(c.substring(0,5)==="type:")return c.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(a){for(var d={},c=0;c<a.length;c++){var p=a[c].trim();if(p.substring(0,8)==="uniform."){var v=p.indexOf(":");if(v){var m=p.substring(8,v);try{d[m]=JSON.parse(p.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return d},extractBlock:function(a,d){for(var c=-1,p=-1,v=-1,m=!1,T=!1,E=[],P=[],w=d;w<a.length;w++){var R=a[w].trim();if(R==="---")if(c===-1)c=w,m=!0;else if(m)p=w,m=!1,T=!0;else{T=!1;break}else m?E.push(R):T&&(P.push(R),v=w)}return!m&&p!==-1?{header:E,shader:P.join(`
`),offset:v}:null}});l.register("glsl",function(a,d,c,p){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new u(this,a[v]));else this.addFile(new u(this,a,d,c,p));return this}),C.exports=u},89749:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(54899),f=s(41299),l=s(95540),h=s(98356),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p){if(r(d)){var v=d;d=l(v,"key"),p=l(v,"config",p)}var m={type:"audio",cache:a.cacheManager.audio,extension:c.type,key:d,url:c.url,config:p};f.call(this,a,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var u=0;u<this.data.length;u++){var a=this.data[u];a.oncanplaythrough=null,a.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(u){var a=u.target;a.oncanplaythrough=null,a.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(y.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var u=this.config&&this.config.instances||1;this.filesTotal=u,this.filesLoaded=0,this.percentComplete=0;for(var a=0;a<u;a++){var d=new Audio;d.dataset||(d.dataset={}),d.dataset.name=this.key+("0"+a).slice(-2),d.dataset.used="false",this.locked?d.dataset.locked="true":(d.dataset.locked="false",d.preload="auto",d.oncanplaythrough=this.onProgress.bind(this),d.onerror=this.onError.bind(this)),this.data.push(d)}for(a=0;a<this.data.length;a++)d=this.data[a],d.src=h(this,this.loader.baseURL),this.locked||d.load();this.locked&&setTimeout(this.onLoad.bind(this))}});C.exports=o},88470:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p){var v="html";if(r(d)){var m=d;d=h(m,"key"),c=h(m,"url"),p=h(m,"xhrSettings"),v=h(m,"extension",v)}var T={type:"text",cache:a.cacheManager.html,extension:v,responseType:"text",key:d,url:c,xhrSettings:p};f.call(this,a,T)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("html",function(u,a,d){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new o(this,u[c]));else this.addFile(new o(this,u,a,d));return this}),C.exports=o},14643:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p,v,m){p===void 0&&(p=512),v===void 0&&(v=512);var T="html";if(r(d)){var E=d;d=h(E,"key"),c=h(E,"url"),m=h(E,"xhrSettings"),T=h(E,"extension",T),p=h(E,"width",p),v=h(E,"height",v)}var P={type:"html",cache:a.textureManager,extension:T,responseType:"text",key:d,url:c,xhrSettings:m,config:{width:p,height:v}};f.call(this,a,P)},onProcess:function(){this.state=y.FILE_PROCESSING;var u=this.config.width,a=this.config.height,d=[];d.push('<svg width="'+u+'px" height="'+a+'px" viewBox="0 0 '+u+" "+a+'" xmlns="http://www.w3.org/2000/svg">'),d.push('<foreignObject width="100%" height="100%">'),d.push('<body xmlns="http://www.w3.org/1999/xhtml">'),d.push(this.xhrLoader.responseText),d.push("</body>"),d.push("</foreignObject>"),d.push("</svg>");var c=[d.join(`
`)],p=this;try{var v=new window.Blob(c,{type:"image/svg+xml;charset=utf-8"})}catch{p.state=y.FILE_ERRORED,p.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(p.data),p.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(p.data),p.onProcessError()},f.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("htmlTexture",function(u,a,d,c,p){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new o(this,u[v]));else this.addFile(new o(this,u,a,d,c,p));return this}),C.exports=o},19550:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=s(98356),u=new g({Extends:f,initialize:function a(d,c,p,v,m){var T="png",E;if(r(c)){var P=c;c=h(P,"key"),p=h(P,"url"),E=h(P,"normalMap"),v=h(P,"xhrSettings"),T=h(P,"extension",T),m=h(P,"frameConfig")}Array.isArray(p)&&(E=p[1],p=p[0]);var w={type:"image",cache:d.textureManager,extension:T,responseType:"blob",key:c,url:p,xhrSettings:v,config:m};if(f.call(this,d,w),E){var R=new a(d,this.key,E,v,m);R.type="normalMap",this.setLink(R),d.addFile(R)}this.useImageElementLoad=d.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){f.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(a.data),a.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var a=this.state;this.state=y.FILE_PROCESSING,a===y.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=y.FILE_LOADING,this.src=o(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){a.state=y.FILE_LOADED,a.loader.nextFile(a,!0)},this.data.onerror=function(){a.loader.nextFile(a,!1)},this.data.src=this.src},addToCache:function(){var a=this.linkFile;a?a.state>=y.FILE_COMPLETE&&(a.type==="spritesheet"?a.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,a.data,this.data):this.cache.addImage(this.key,this.data,a.data)):this.cache.addImage(this.key,this.data)}});l.register("image",function(a,d,c){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new u(this,a[p]));else this.addFile(new u(this,a,d,c));return this}),C.exports=u},518:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(35154),o=s(41212),u=new g({Extends:f,initialize:function(d,c,p,v,m){var T="json";if(o(c)){var E=c;c=h(E,"key"),p=h(E,"url"),v=h(E,"xhrSettings"),T=h(E,"extension",T),m=h(E,"dataKey",m)}var P={type:"json",cache:d.cacheManager.json,extension:T,responseType:"text",key:c,url:p,xhrSettings:v,config:m};f.call(this,d,P),o(p)&&(m?this.data=r(p,m):this.data=p,this.state=y.FILE_POPULATED)},onProcess:function(){if(this.state!==y.FILE_POPULATED){this.state=y.FILE_PROCESSING;try{var a=JSON.parse(this.xhrLoader.responseText)}catch(c){throw this.onProcessError(),c}var d=this.config;typeof d=="string"?this.data=r(a,d,a):this.data=a}this.onProcessComplete()}});l.register("json",function(a,d,c,p){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new u(this,a[v]));else this.addFile(new u(this,a,d,p,c));return this}),C.exports=u},59327:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),h=s(41212),r=s(518),o=s(26430),u=new g({Extends:o,initialize:function(d,c,p,v,m,T,E){if(h(c)){var P=c;c=f(P,"key"),f(P,"url",!1)?p=f(P,"url"):p=f(P,"atlasURL"),T=f(P,"xhrSettings"),v=f(P,"path"),m=f(P,"baseURL"),E=f(P,"textureXhrSettings")}var w=new r(d,c,p,T);o.call(this,d,"multiatlas",c,[w]),this.config.path=v,this.config.baseURL=m,this.config.textureXhrSettings=E},onFileComplete:function(a){var d=this.files.indexOf(a);if(d!==-1&&(this.pending--,a.type==="json"&&a.data.hasOwnProperty("textures"))){var c=a.data.textures,p=this.config,v=this.loader,m=v.baseURL,T=v.path,E=v.prefix,P=f(p,"baseURL",this.baseURL),w=f(p,"path",this.path),R=f(p,"prefix",this.prefix),b=f(p,"textureXhrSettings");v.setBaseURL(P),v.setPath(w),v.setPrefix(R);for(var O=0;O<c.length;O++){var I=c[O].image,D="MA"+this.multiKeyIndex+"_"+I,B=new l(v,D,I,b);if(this.addToMultiFile(B),v.addFile(B),c[O].normalMap){var k=new l(v,D,c[O].normalMap,b);k.type="normalMap",B.setLink(k),this.addToMultiFile(k),v.addFile(k)}}v.setBaseURL(m),v.setPath(T),v.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){for(var a=this.files[0],d=[],c=[],p=[],v=1;v<this.files.length;v++){var m=this.files[v];if(m.type!=="normalMap")for(var T=m.key.indexOf("_"),E=m.key.substr(T+1),P=m.data,w=0;w<a.data.textures.length;w++){var R=a.data.textures[w];if(R.image===E){c.push(P),d.push(R),m.linkFile&&p.push(m.linkFile.data);break}}}p.length===0&&(p=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,c,d,p),this.complete=!0}}});y.register("multiatlas",function(a,d,c,p,v){var m;if(Array.isArray(a))for(var T=0;T<a.length;T++)m=new u(this,a[T]),this.addFile(m.files);else m=new u(this,a,d,c,p,v),this.addFile(m.files);return this}),C.exports=u},99297:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(41212),h=s(26430),r=s(34328),o=new g({Extends:h,initialize:function(a,d,c,p){var v="js",m=[];if(l(d)){var T=d;d=f(T,"key"),c=f(T,"url"),p=f(T,"xhrSettings"),v=f(T,"extension",v)}Array.isArray(c)||(c=[c]);for(var E=0;E<c.length;E++){var P=new r(a,{key:d+"_"+E.toString(),url:c[E],extension:v,xhrSettings:p});P.onProcess=function(){this.onProcessComplete()},m.push(P)}h.call(this,a,"scripts",d,m)},addToCache:function(){if(this.isReadyToProcess()){for(var u=0;u<this.files.length;u++){var a=this.files[u];a.data=document.createElement("script"),a.data.language="javascript",a.data.type="text/javascript",a.data.defer=!1,a.data.text=a.xhrLoader.responseText,document.head.appendChild(a.data)}this.complete=!0}}});y.register("scripts",function(u,a,d){var c;if(Array.isArray(u))for(var p=0;p<u.length;p++)c=new o(this,u[p]),this.addFile(c.files);else c=new o(this,u,a,d),this.addFile(c.files);return this}),C.exports=o},41846:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(41212),h=s(26430),r=s(85048),o=s(61485),u=s(78776),a=new g({Extends:h,initialize:function(c,p,v,m,T,E){var P,w,R=c.cacheManager.obj;if(l(p)){var b=p;p=f(b,"key"),P=new u(c,{key:p,type:"obj",cache:R,url:f(b,"url"),extension:f(b,"extension","obj"),xhrSettings:f(b,"xhrSettings"),config:{flipUV:f(b,"flipUV",T)}}),m=f(b,"matURL"),m&&(w=new u(c,{key:p,type:"mat",cache:R,url:m,extension:f(b,"matExtension","mat"),xhrSettings:f(b,"xhrSettings")}))}else P=new u(c,{key:p,url:v,type:"obj",cache:R,extension:"obj",xhrSettings:E,config:{flipUV:T}}),m&&(w=new u(c,{key:p,url:m,type:"mat",cache:R,extension:"mat",xhrSettings:E}));h.call(this,c,"obj",p,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],c=this.files[1],p=r(d.data,d.config.flipUV);c&&(p.materials=o(c.data)),d.cache.add(d.key,p),this.complete=!0}}});y.register("obj",function(d,c,p,v,m){var T;if(Array.isArray(d))for(var E=0;E<d.length;E++)T=new a(this,d[E]),this.addFile(T.files);else T=new a(this,d,c,p,v,m),this.addFile(T.files);return this}),C.exports=a},58610:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(74099),l=s(518),h=new g({Extends:l,initialize:function(o,u,a,d,c){l.call(this,o,u,a,d,c),this.type="packfile"},onProcess:function(){if(this.state!==y.FILE_POPULATED&&(this.state=y.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var r={};r[this.config]=this.data,this.data=r}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(r,o,u,a){if(Array.isArray(r))for(var d=0;d<r.length;d++)this.addFile(new h(this,r[d]));else this.addFile(new h(this,r,o,a,u));return this}),C.exports=h},48988:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p,v,m){var T="js";if(r(d)){var E=d;d=h(E,"key"),c=h(E,"url"),m=h(E,"xhrSettings"),T=h(E,"extension",T),p=h(E,"start"),v=h(E,"mapping")}var P={type:"plugin",cache:!1,extension:T,responseType:"text",key:d,url:c,xhrSettings:m,config:{start:p,mapping:v}};f.call(this,a,P),typeof c=="function"&&(this.data=c,this.state=y.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,a=this.config,d=h(a,"start",!1),c=h(a,"mapping",null);if(this.state===y.FILE_POPULATED)u.install(this.key,this.data,d,c);else{this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var p=u.install(this.key,window[this.key],d,c);(d||c)&&(this.loader.systems[c]=p,this.loader.scene[c]=p)}this.onProcessComplete()}});l.register("plugin",function(u,a,d,c,p){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new o(this,u[v]));else this.addFile(new o(this,u,a,d,c,p));return this}),C.exports=o},67397:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p,v){var m="svg";if(r(d)){var T=d;d=h(T,"key"),c=h(T,"url"),p=h(T,"svgConfig",{}),v=h(T,"xhrSettings"),m=h(T,"extension",m)}var E={type:"svg",cache:a.textureManager,extension:m,responseType:"text",key:d,url:c,xhrSettings:v,config:{width:h(p,"width"),height:h(p,"height"),scale:h(p,"scale")}};f.call(this,a,E)},onProcess:function(){this.state=y.FILE_PROCESSING;var u=this.xhrLoader.responseText,a=[u],d=this.config.width,c=this.config.height,p=this.config.scale;t:if(d&&c||p){var v=null,m=new DOMParser;v=m.parseFromString(u,"text/xml");var T=v.getElementsByTagName("svg")[0],E=T.hasAttribute("viewBox"),P=parseFloat(T.getAttribute("width")),w=parseFloat(T.getAttribute("height"));if(!E&&P&&w)T.setAttribute("viewBox","0  0 "+P+" "+w);else if(E&&!P&&!w){var R=T.getAttribute("viewBox").split(/\s+|,/);P=R[2],w=R[3]}if(p)if(P&&w)d=P*p,c=w*p;else break t;T.setAttribute("width",d.toString()+"px"),T.setAttribute("height",c.toString()+"px"),a=[new XMLSerializer().serializeToString(T)]}try{var b=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var O=this,I=!1;this.data.onload=function(){I||f.revokeObjectURL(O.data),O.onProcessComplete()},this.data.onerror=function(){I?O.onProcessError():(I=!0,f.revokeObjectURL(O.data),O.data.src="data:image/svg+xml,"+encodeURIComponent(a.join("")))},f.createObjectURL(this.data,b,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("svg",function(u,a,d,c){if(Array.isArray(u))for(var p=0;p<u.length;p++)this.addFile(new o(this,u[p]));else this.addFile(new o(this,u,a,d,c));return this}),C.exports=o},88423:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p){var v="js";if(r(d)){var m=d;d=h(m,"key"),c=h(m,"url"),p=h(m,"xhrSettings"),v=h(m,"extension",v)}var T={type:"text",extension:v,responseType:"text",key:d,url:c,xhrSettings:p};f.call(this,a,T)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),a=eval;this.loader.sceneManager.add(this.key,a(u)),this.complete=!0}});l.register("sceneFile",function(u,a,d){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new o(this,u[c]));else this.addFile(new o(this,u,a,d));return this}),C.exports=o},56812:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p,v,m){var T="js";if(r(d)){var E=d;d=h(E,"key"),c=h(E,"url"),m=h(E,"xhrSettings"),T=h(E,"extension",T),p=h(E,"systemKey"),v=h(E,"sceneKey")}var P={type:"scenePlugin",cache:!1,extension:T,responseType:"text",key:d,url:c,xhrSettings:m,config:{systemKey:p,sceneKey:v}};f.call(this,a,P),typeof c=="function"&&(this.data=c,this.state=y.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,a=this.config,d=this.key,c=h(a,"systemKey",d),p=h(a,"sceneKey",d);this.state===y.FILE_POPULATED?u.installScenePlugin(c,this.data,p,this.loader.scene,!0):(this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),u.installScenePlugin(c,window[this.key],p,this.loader.scene,!0)),this.onProcessComplete()}});l.register("scenePlugin",function(u,a,d,c,p){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new o(this,u[v]));else this.addFile(new o(this,u,a,d,c,p));return this}),C.exports=o},34328:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p,v){var m="js";if(r(d)){var T=d;d=h(T,"key"),c=h(T,"url"),p=h(T,"type","script"),v=h(T,"xhrSettings"),m=h(T,"extension",m)}else p===void 0&&(p="script");var E={type:p,cache:!1,extension:m,responseType:"text",key:d,url:c,xhrSettings:v};f.call(this,a,E)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("script",function(u,a,d,c){if(Array.isArray(u))for(var p=0;p<u.length;p++)this.addFile(new o(this,u[p]));else this.addFile(new o(this,u,a,d,c));return this}),C.exports=o},85035:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(74099),l=s(19550),h=new g({Extends:l,initialize:function(o,u,a,d,c){l.call(this,o,u,a,c,d),this.type="spritesheet"},addToCache:function(){var r=this.linkFile;r?r.state>=y.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,r.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,r.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});f.register("spritesheet",function(r,o,u,a){if(Array.isArray(r))for(var d=0;d<r.length;d++)this.addFile(new h(this,r[d]));else this.addFile(new h(this,r,o,u,a));return this}),C.exports=h},78776:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=new g({Extends:f,initialize:function(a,d,c,p){var v="text",m="txt",T=a.cacheManager.text;if(r(d)){var E=d;d=h(E,"key"),c=h(E,"url"),p=h(E,"xhrSettings"),m=h(E,"extension",m),v=h(E,"type",v),T=h(E,"cache",T)}var P={type:v,cache:T,extension:m,responseType:"text",key:d,url:c,xhrSettings:p};f.call(this,a,P)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("text",function(u,a,d){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new o(this,u[c]));else this.addFile(new o(this,u,a,d));return this}),C.exports=o},49477:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=s(80341),u=new g({Extends:f,initialize:function(d,c,p,v){var m="csv";if(r(c)){var T=c;c=h(T,"key"),p=h(T,"url"),v=h(T,"xhrSettings"),m=h(T,"extension",m)}var E={type:"tilemapCSV",cache:d.cacheManager.tilemap,extension:m,responseType:"text",key:c,url:p,xhrSettings:v};f.call(this,d,E),this.tilemapFormat=o.CSV},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,a)}});l.register("tilemapCSV",function(a,d,c){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new u(this,a[p]));else this.addFile(new u(this,a,d,c));return this}),C.exports=u},40807:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(518),l=s(80341),h=new g({Extends:f,initialize:function(o,u,a,d){f.call(this,o,u,a,d),this.type="tilemapJSON",this.cache=o.cacheManager.tilemap},addToCache:function(){var r={format:l.WELTMEISTER,data:this.data};this.cache.add(this.key,r)}});y.register("tilemapImpact",function(r,o,u){if(Array.isArray(r))for(var a=0;a<r.length;a++)this.addFile(new h(this,r[a]));else this.addFile(new h(this,r,o,u));return this}),C.exports=h},56775:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(518),l=s(80341),h=new g({Extends:f,initialize:function(o,u,a,d){f.call(this,o,u,a,d),this.type="tilemapJSON",this.cache=o.cacheManager.tilemap},addToCache:function(){var r={format:l.TILED_JSON,data:this.data};this.cache.add(this.key,r)}});y.register("tilemapTiledJSON",function(r,o,u){if(Array.isArray(r))for(var a=0;a<r.length;a++)this.addFile(new h(this,r[a]));else this.addFile(new h(this,r,o,u));return this}),C.exports=h},25771:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(74099),f=s(95540),l=s(19550),h=s(41212),r=s(26430),o=s(78776),u=new g({Extends:r,initialize:function(d,c,p,v,m,T){var E,P;if(h(c)){var w=c;c=f(w,"key"),E=new l(d,{key:c,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),P=new o(d,{key:c,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","txt"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(d,c,p,m),P=new o(d,c,v,T);E.linkFile?r.call(this,d,"unityatlas",c,[E,P,E.linkFile]):r.call(this,d,"unityatlas",c,[E,P])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],d=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(a.key,a.data,d.data,c),this.complete=!0}}});y.register("unityAtlas",function(a,d,c,p,v){var m;if(Array.isArray(a))for(var T=0;T<a.length;T++)m=new u(this,a[T]),this.addFile(m.files);else m=new u(this,a,d,c,p,v),this.addFile(m.files);return this}),C.exports=u},33720:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(98356),r=s(95540),o=s(41212),u=new g({Extends:f,initialize:function(d,c,p,v){if(v===void 0&&(v=!1),o(c)){var m=c;c=r(m,"key"),p=r(m,"url",[]),v=r(m,"noAudio",!1)}var T=d.systems.game.device.video.getVideoURL(p);T||console.warn("VideoFile: No supported format for "+c);var E={type:"video",cache:d.cacheManager.video,extension:T.type,key:c,url:T.url,config:{noAudio:v}};f.call(this,d,E)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=h(this,this.loader.baseURL),this.state=y.FILE_LOADED,this.loader.nextFile(this,!0)}});l.register("video",function(a,d,c){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new u(this,a[p]));else this.addFile(new u(this,a,d,c));return this}),C.exports=u},57318:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(23906),f=s(41299),l=s(74099),h=s(95540),r=s(41212),o=s(56836),u=new g({Extends:f,initialize:function(d,c,p,v){var m="xml";if(r(c)){var T=c;c=h(T,"key"),p=h(T,"url"),v=h(T,"xhrSettings"),m=h(T,"extension",m)}var E={type:"xml",cache:d.cacheManager.xml,extension:m,responseType:"text",key:c,url:p,xhrSettings:v};f.call(this,d,E)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=o(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});l.register("xml",function(a,d,c){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new u(this,a[p]));else this.addFile(new u(this,a,d,c));return this}),C.exports=u},64589:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AnimationJSONFile:s(14135),AsepriteFile:s(76272),AtlasJSONFile:s(38734),AtlasXMLFile:s(74599),AudioFile:s(21097),AudioSpriteFile:s(89524),BinaryFile:s(85722),BitmapFontFile:s(97025),CompressedTextureFile:s(69559),CSSFile:s(16024),FontFile:s(87674),GLSLFile:s(47931),HTML5AudioFile:s(89749),HTMLFile:s(88470),HTMLTextureFile:s(14643),ImageFile:s(19550),JSONFile:s(518),MultiAtlasFile:s(59327),MultiScriptFile:s(99297),OBJFile:s(41846),PackFile:s(58610),PluginFile:s(48988),SceneFile:s(88423),ScenePluginFile:s(56812),ScriptFile:s(34328),SpriteSheetFile:s(85035),SVGFile:s(67397),TextFile:s(78776),TilemapCSVFile:s(49477),TilemapImpactFile:s(40807),TilemapJSONFile:s(56775),UnityAtlasFile:s(25771),VideoFile:s(33720),XMLFile:s(57318)}},57777:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23906),y=s(79291),f={Events:s(54899),FileTypes:s(64589),File:s(41299),FileTypesManager:s(74099),GetURL:s(98356),LoaderPlugin:s(74261),MergeXHRSettings:s(3374),MultiFile:s(26430),XHRLoader:s(84376),XHRSettings:s(92638)};f=y(!1,f,g),C.exports=f},53307:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=0,y=0;y<s.length;y++)g+=+s[y];return g/s.length};C.exports=A},85710:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6411),y=function(f,l){return g(f)/g(l)/g(f-l)};C.exports=y},30976:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return Math.floor(Math.random()*(g-s+1)+s)};C.exports=A},87842:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){var h=(f-g)*.5,r=(l-y)*.5,o=s*s,u=s*o;return(2*y-2*f+h+r)*u+(-3*y+3*f-2*h-r)*o+h*s+y};C.exports=A},26302:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){g===void 0&&(g=0),y===void 0&&(y=10);var f=Math.pow(y,-g);return Math.ceil(s*f)/f};C.exports=A},45319:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return Math.max(g,Math.min(y,s))};C.exports=A},39506:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=function(f){return f*g.DEG_TO_RAD};C.exports=y},61241:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return Math.abs(s-g)};C.exports=A},38857:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(37867),l=s(29747),h=new f,r=new y({initialize:function o(u,a,d,c){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c=o.DefaultOrder),this._x=u,this._y=a,this._z=d,this._order=c,this.onChangeCallback=l},x:{get:function(){return this._x},set:function(o){this._x=o,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(o){this._y=o,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(o){this._z=o,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(o){this._order=o,this.onChangeCallback(this)}},set:function(o,u,a,d){return d===void 0&&(d=this._order),this._x=o,this._y=u,this._z=a,this._order=d,this.onChangeCallback(this),this},copy:function(o){return this.set(o.x,o.y,o.z,o.order)},setFromQuaternion:function(o,u,a){return u===void 0&&(u=this._order),a===void 0&&(a=!1),h.fromQuat(o),this.setFromRotationMatrix(h,u,a)},setFromRotationMatrix:function(o,u,a){u===void 0&&(u=this._order),a===void 0&&(a=!1);var d=o.val,c=d[0],p=d[4],v=d[8],m=d[1],T=d[5],E=d[9],P=d[2],w=d[6],R=d[10],b=0,O=0,I=0,D=.99999;switch(u){case"XYZ":{O=Math.asin(g(v,-1,1)),Math.abs(v)<D?(b=Math.atan2(-E,R),I=Math.atan2(-p,c)):b=Math.atan2(w,T);break}case"YXZ":{b=Math.asin(-g(E,-1,1)),Math.abs(E)<D?(O=Math.atan2(v,R),I=Math.atan2(m,T)):O=Math.atan2(-P,c);break}case"ZXY":{b=Math.asin(g(w,-1,1)),Math.abs(w)<D?(O=Math.atan2(-P,R),I=Math.atan2(-p,T)):I=Math.atan2(m,c);break}case"ZYX":{O=Math.asin(-g(P,-1,1)),Math.abs(P)<D?(b=Math.atan2(w,R),I=Math.atan2(m,c)):I=Math.atan2(-p,T);break}case"YZX":{I=Math.asin(g(m,-1,1)),Math.abs(m)<D?(b=Math.atan2(-E,T),O=Math.atan2(-P,c)):O=Math.atan2(v,R);break}case"XZY":{I=Math.asin(-g(p,-1,1)),Math.abs(p)<D?(b=Math.atan2(w,T),O=Math.atan2(v,c)):b=Math.atan2(-E,R);break}}return this._x=b,this._y=O,this._z=I,this._order=u,a&&this.onChangeCallback(this),this}});r.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],r.DefaultOrder="XYZ",C.exports=r},6411:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){if(s===0)return 1;for(var g=s;--s;)g*=s;return g};C.exports=A},99472:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return Math.random()*(g-s)+s};C.exports=A},77623:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){g===void 0&&(g=0),y===void 0&&(y=10);var f=Math.pow(y,-g);return Math.floor(s*f)/f};C.exports=A},62945:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=function(f,l,h){return f=g(f,0,1),(h-l)*f+l};C.exports=y},38265:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s/g/1e3};C.exports=A},78702:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s==parseFloat(s)?!(s%2):void 0};C.exports=A},94883:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s===parseFloat(s)?!(s%2):void 0};C.exports=A},28915:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return(g-s)*y+s};C.exports=A},94908:C=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y===void 0&&(y=0),s.clone().lerp(g,y)};C.exports=A},94434:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l){this.val=new Float32Array(9),l?this.copy(l):this.identity()},clone:function(){return new y(this)},set:function(f){return this.copy(f)},copy:function(f){var l=this.val,h=f.val;return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=h[6],l[7]=h[7],l[8]=h[8],this},fromMat4:function(f){var l=f.val,h=this.val;return h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[4],h[4]=l[5],h[5]=l[6],h[6]=l[8],h[7]=l[9],h[8]=l[10],this},fromArray:function(f){var l=this.val;return l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=f[6],l[7]=f[7],l[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,l=f[1],h=f[2],r=f[5];return f[1]=f[3],f[2]=f[6],f[3]=l,f[5]=f[7],f[6]=h,f[7]=r,this},invert:function(){var f=this.val,l=f[0],h=f[1],r=f[2],o=f[3],u=f[4],a=f[5],d=f[6],c=f[7],p=f[8],v=p*u-a*c,m=-p*o+a*d,T=c*o-u*d,E=l*v+h*m+r*T;return E?(E=1/E,f[0]=v*E,f[1]=(-p*h+r*c)*E,f[2]=(a*h-r*u)*E,f[3]=m*E,f[4]=(p*l-r*d)*E,f[5]=(-a*l+r*o)*E,f[6]=T*E,f[7]=(-c*l+h*d)*E,f[8]=(u*l-h*o)*E,this):null},adjoint:function(){var f=this.val,l=f[0],h=f[1],r=f[2],o=f[3],u=f[4],a=f[5],d=f[6],c=f[7],p=f[8];return f[0]=u*p-a*c,f[1]=r*c-h*p,f[2]=h*a-r*u,f[3]=a*d-o*p,f[4]=l*p-r*d,f[5]=r*o-l*a,f[6]=o*c-u*d,f[7]=h*d-l*c,f[8]=l*u-h*o,this},determinant:function(){var f=this.val,l=f[0],h=f[1],r=f[2],o=f[3],u=f[4],a=f[5],d=f[6],c=f[7],p=f[8];return l*(p*u-a*c)+h*(-p*o+a*d)+r*(c*o-u*d)},multiply:function(f){var l=this.val,h=l[0],r=l[1],o=l[2],u=l[3],a=l[4],d=l[5],c=l[6],p=l[7],v=l[8],m=f.val,T=m[0],E=m[1],P=m[2],w=m[3],R=m[4],b=m[5],O=m[6],I=m[7],D=m[8];return l[0]=T*h+E*u+P*c,l[1]=T*r+E*a+P*p,l[2]=T*o+E*d+P*v,l[3]=w*h+R*u+b*c,l[4]=w*r+R*a+b*p,l[5]=w*o+R*d+b*v,l[6]=O*h+I*u+D*c,l[7]=O*r+I*a+D*p,l[8]=O*o+I*d+D*v,this},translate:function(f){var l=this.val,h=f.x,r=f.y;return l[6]=h*l[0]+r*l[3]+l[6],l[7]=h*l[1]+r*l[4]+l[7],l[8]=h*l[2]+r*l[5]+l[8],this},rotate:function(f){var l=this.val,h=l[0],r=l[1],o=l[2],u=l[3],a=l[4],d=l[5],c=Math.sin(f),p=Math.cos(f);return l[0]=p*h+c*u,l[1]=p*r+c*a,l[2]=p*o+c*d,l[3]=p*u-c*h,l[4]=p*a-c*r,l[5]=p*d-c*o,this},scale:function(f){var l=this.val,h=f.x,r=f.y;return l[0]=h*l[0],l[1]=h*l[1],l[2]=h*l[2],l[3]=r*l[3],l[4]=r*l[4],l[5]=r*l[5],this},fromQuat:function(f){var l=f.x,h=f.y,r=f.z,o=f.w,u=l+l,a=h+h,d=r+r,c=l*u,p=l*a,v=l*d,m=h*a,T=h*d,E=r*d,P=o*u,w=o*a,R=o*d,b=this.val;return b[0]=1-(m+E),b[3]=p+R,b[6]=v-w,b[1]=p-R,b[4]=1-(c+E),b[7]=T+P,b[2]=v+w,b[5]=T-P,b[8]=1-(c+m),this},normalFromMat4:function(f){var l=f.val,h=this.val,r=l[0],o=l[1],u=l[2],a=l[3],d=l[4],c=l[5],p=l[6],v=l[7],m=l[8],T=l[9],E=l[10],P=l[11],w=l[12],R=l[13],b=l[14],O=l[15],I=r*c-o*d,D=r*p-u*d,B=r*v-a*d,k=o*p-u*c,z=o*v-a*c,X=u*v-a*p,K=m*R-T*w,H=m*b-E*w,Q=m*O-P*w,W=T*b-E*R,Y=T*O-P*R,N=E*O-P*b,Z=I*N-D*Y+B*W+k*Q-z*H+X*K;return Z?(Z=1/Z,h[0]=(c*N-p*Y+v*W)*Z,h[1]=(p*Q-d*N-v*H)*Z,h[2]=(d*Y-c*Q+v*K)*Z,h[3]=(u*Y-o*N-a*W)*Z,h[4]=(r*N-u*Q+a*H)*Z,h[5]=(o*Q-r*Y-a*K)*Z,h[6]=(R*X-b*z+O*k)*Z,h[7]=(b*B-w*X-O*D)*Z,h[8]=(w*z-R*B+O*I)*Z,this):null}});C.exports=y},37867:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(25836),f=1e-6,l=new g({initialize:function(c){this.val=new Float32Array(16),c?this.copy(c):this.identity()},clone:function(){return new l(this)},set:function(d){return this.copy(d)},setValues:function(d,c,p,v,m,T,E,P,w,R,b,O,I,D,B,k){var z=this.val;return z[0]=d,z[1]=c,z[2]=p,z[3]=v,z[4]=m,z[5]=T,z[6]=E,z[7]=P,z[8]=w,z[9]=R,z[10]=b,z[11]=O,z[12]=I,z[13]=D,z[14]=B,z[15]=k,this},copy:function(d){var c=d.val;return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},fromArray:function(d){return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(d,c,p){var v=h.fromQuat(p),m=v.val,T=c.x,E=c.y,P=c.z;return this.setValues(m[0]*T,m[1]*T,m[2]*T,0,m[4]*E,m[5]*E,m[6]*E,0,m[8]*P,m[9]*P,m[10]*P,0,d.x,d.y,d.z,1)},xyz:function(d,c,p){this.identity();var v=this.val;return v[12]=d,v[13]=c,v[14]=p,this},scaling:function(d,c,p){this.zero();var v=this.val;return v[0]=d,v[5]=c,v[10]=p,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var d=this.val,c=d[1],p=d[2],v=d[3],m=d[6],T=d[7],E=d[11];return d[1]=d[4],d[2]=d[8],d[3]=d[12],d[4]=c,d[6]=d[9],d[7]=d[13],d[8]=p,d[9]=m,d[11]=d[14],d[12]=v,d[13]=T,d[14]=E,this},getInverse:function(d){return this.copy(d),this.invert()},invert:function(){var d=this.val,c=d[0],p=d[1],v=d[2],m=d[3],T=d[4],E=d[5],P=d[6],w=d[7],R=d[8],b=d[9],O=d[10],I=d[11],D=d[12],B=d[13],k=d[14],z=d[15],X=c*E-p*T,K=c*P-v*T,H=c*w-m*T,Q=p*P-v*E,W=p*w-m*E,Y=v*w-m*P,N=R*B-b*D,Z=R*k-O*D,U=R*z-I*D,j=b*k-O*B,et=b*z-I*B,it=O*z-I*k,rt=X*it-K*et+H*j+Q*U-W*Z+Y*N;return rt?(rt=1/rt,this.setValues((E*it-P*et+w*j)*rt,(v*et-p*it-m*j)*rt,(B*Y-k*W+z*Q)*rt,(O*W-b*Y-I*Q)*rt,(P*U-T*it-w*Z)*rt,(c*it-v*U+m*Z)*rt,(k*H-D*Y-z*K)*rt,(R*Y-O*H+I*K)*rt,(T*et-E*U+w*N)*rt,(p*U-c*et-m*N)*rt,(D*W-B*H+z*X)*rt,(b*H-R*W-I*X)*rt,(E*Z-T*j-P*N)*rt,(c*j-p*Z+v*N)*rt,(B*K-D*Q-k*X)*rt,(R*Q-b*K+O*X)*rt)):this},adjoint:function(){var d=this.val,c=d[0],p=d[1],v=d[2],m=d[3],T=d[4],E=d[5],P=d[6],w=d[7],R=d[8],b=d[9],O=d[10],I=d[11],D=d[12],B=d[13],k=d[14],z=d[15];return this.setValues(E*(O*z-I*k)-b*(P*z-w*k)+B*(P*I-w*O),-(p*(O*z-I*k)-b*(v*z-m*k)+B*(v*I-m*O)),p*(P*z-w*k)-E*(v*z-m*k)+B*(v*w-m*P),-(p*(P*I-w*O)-E*(v*I-m*O)+b*(v*w-m*P)),-(T*(O*z-I*k)-R*(P*z-w*k)+D*(P*I-w*O)),c*(O*z-I*k)-R*(v*z-m*k)+D*(v*I-m*O),-(c*(P*z-w*k)-T*(v*z-m*k)+D*(v*w-m*P)),c*(P*I-w*O)-T*(v*I-m*O)+R*(v*w-m*P),T*(b*z-I*B)-R*(E*z-w*B)+D*(E*I-w*b),-(c*(b*z-I*B)-R*(p*z-m*B)+D*(p*I-m*b)),c*(E*z-w*B)-T*(p*z-m*B)+D*(p*w-m*E),-(c*(E*I-w*b)-T*(p*I-m*b)+R*(p*w-m*E)),-(T*(b*k-O*B)-R*(E*k-P*B)+D*(E*O-P*b)),c*(b*k-O*B)-R*(p*k-v*B)+D*(p*O-v*b),-(c*(E*k-P*B)-T*(p*k-v*B)+D*(p*P-v*E)),c*(E*O-P*b)-T*(p*O-v*b)+R*(p*P-v*E))},determinant:function(){var d=this.val,c=d[0],p=d[1],v=d[2],m=d[3],T=d[4],E=d[5],P=d[6],w=d[7],R=d[8],b=d[9],O=d[10],I=d[11],D=d[12],B=d[13],k=d[14],z=d[15],X=c*E-p*T,K=c*P-v*T,H=c*w-m*T,Q=p*P-v*E,W=p*w-m*E,Y=v*w-m*P,N=R*B-b*D,Z=R*k-O*D,U=R*z-I*D,j=b*k-O*B,et=b*z-I*B,it=O*z-I*k;return X*it-K*et+H*j+Q*U-W*Z+Y*N},multiply:function(d){var c=this.val,p=c[0],v=c[1],m=c[2],T=c[3],E=c[4],P=c[5],w=c[6],R=c[7],b=c[8],O=c[9],I=c[10],D=c[11],B=c[12],k=c[13],z=c[14],X=c[15],K=d.val,H=K[0],Q=K[1],W=K[2],Y=K[3];return c[0]=H*p+Q*E+W*b+Y*B,c[1]=H*v+Q*P+W*O+Y*k,c[2]=H*m+Q*w+W*I+Y*z,c[3]=H*T+Q*R+W*D+Y*X,H=K[4],Q=K[5],W=K[6],Y=K[7],c[4]=H*p+Q*E+W*b+Y*B,c[5]=H*v+Q*P+W*O+Y*k,c[6]=H*m+Q*w+W*I+Y*z,c[7]=H*T+Q*R+W*D+Y*X,H=K[8],Q=K[9],W=K[10],Y=K[11],c[8]=H*p+Q*E+W*b+Y*B,c[9]=H*v+Q*P+W*O+Y*k,c[10]=H*m+Q*w+W*I+Y*z,c[11]=H*T+Q*R+W*D+Y*X,H=K[12],Q=K[13],W=K[14],Y=K[15],c[12]=H*p+Q*E+W*b+Y*B,c[13]=H*v+Q*P+W*O+Y*k,c[14]=H*m+Q*w+W*I+Y*z,c[15]=H*T+Q*R+W*D+Y*X,this},multiplyLocal:function(d){var c=this.val,p=d.val;return this.setValues(c[0]*p[0]+c[1]*p[4]+c[2]*p[8]+c[3]*p[12],c[0]*p[1]+c[1]*p[5]+c[2]*p[9]+c[3]*p[13],c[0]*p[2]+c[1]*p[6]+c[2]*p[10]+c[3]*p[14],c[0]*p[3]+c[1]*p[7]+c[2]*p[11]+c[3]*p[15],c[4]*p[0]+c[5]*p[4]+c[6]*p[8]+c[7]*p[12],c[4]*p[1]+c[5]*p[5]+c[6]*p[9]+c[7]*p[13],c[4]*p[2]+c[5]*p[6]+c[6]*p[10]+c[7]*p[14],c[4]*p[3]+c[5]*p[7]+c[6]*p[11]+c[7]*p[15],c[8]*p[0]+c[9]*p[4]+c[10]*p[8]+c[11]*p[12],c[8]*p[1]+c[9]*p[5]+c[10]*p[9]+c[11]*p[13],c[8]*p[2]+c[9]*p[6]+c[10]*p[10]+c[11]*p[14],c[8]*p[3]+c[9]*p[7]+c[10]*p[11]+c[11]*p[15],c[12]*p[0]+c[13]*p[4]+c[14]*p[8]+c[15]*p[12],c[12]*p[1]+c[13]*p[5]+c[14]*p[9]+c[15]*p[13],c[12]*p[2]+c[13]*p[6]+c[14]*p[10]+c[15]*p[14],c[12]*p[3]+c[13]*p[7]+c[14]*p[11]+c[15]*p[15])},premultiply:function(d){return this.multiplyMatrices(d,this)},multiplyMatrices:function(d,c){var p=d.val,v=c.val,m=p[0],T=p[4],E=p[8],P=p[12],w=p[1],R=p[5],b=p[9],O=p[13],I=p[2],D=p[6],B=p[10],k=p[14],z=p[3],X=p[7],K=p[11],H=p[15],Q=v[0],W=v[4],Y=v[8],N=v[12],Z=v[1],U=v[5],j=v[9],et=v[13],it=v[2],rt=v[6],lt=v[10],ft=v[14],pt=v[3],vt=v[7],xt=v[11],yt=v[15];return this.setValues(m*Q+T*Z+E*it+P*pt,w*Q+R*Z+b*it+O*pt,I*Q+D*Z+B*it+k*pt,z*Q+X*Z+K*it+H*pt,m*W+T*U+E*rt+P*vt,w*W+R*U+b*rt+O*vt,I*W+D*U+B*rt+k*vt,z*W+X*U+K*rt+H*vt,m*Y+T*j+E*lt+P*xt,w*Y+R*j+b*lt+O*xt,I*Y+D*j+B*lt+k*xt,z*Y+X*j+K*lt+H*xt,m*N+T*et+E*ft+P*yt,w*N+R*et+b*ft+O*yt,I*N+D*et+B*ft+k*yt,z*N+X*et+K*ft+H*yt)},translate:function(d){return this.translateXYZ(d.x,d.y,d.z)},translateXYZ:function(d,c,p){var v=this.val;return v[12]=v[0]*d+v[4]*c+v[8]*p+v[12],v[13]=v[1]*d+v[5]*c+v[9]*p+v[13],v[14]=v[2]*d+v[6]*c+v[10]*p+v[14],v[15]=v[3]*d+v[7]*c+v[11]*p+v[15],this},scale:function(d){return this.scaleXYZ(d.x,d.y,d.z)},scaleXYZ:function(d,c,p){var v=this.val;return v[0]=v[0]*d,v[1]=v[1]*d,v[2]=v[2]*d,v[3]=v[3]*d,v[4]=v[4]*c,v[5]=v[5]*c,v[6]=v[6]*c,v[7]=v[7]*c,v[8]=v[8]*p,v[9]=v[9]*p,v[10]=v[10]*p,v[11]=v[11]*p,this},makeRotationAxis:function(d,c){var p=Math.cos(c),v=Math.sin(c),m=1-p,T=d.x,E=d.y,P=d.z,w=m*T,R=m*E;return this.setValues(w*T+p,w*E-v*P,w*P+v*E,0,w*E+v*P,R*E+p,R*P-v*T,0,w*P-v*E,R*P+v*T,m*P*P+p,0,0,0,0,1)},rotate:function(d,c){var p=this.val,v=c.x,m=c.y,T=c.z,E=Math.sqrt(v*v+m*m+T*T);if(Math.abs(E)<f)return this;E=1/E,v*=E,m*=E,T*=E;var P=Math.sin(d),w=Math.cos(d),R=1-w,b=p[0],O=p[1],I=p[2],D=p[3],B=p[4],k=p[5],z=p[6],X=p[7],K=p[8],H=p[9],Q=p[10],W=p[11],Y=p[12],N=p[13],Z=p[14],U=p[15],j=v*v*R+w,et=m*v*R+T*P,it=T*v*R-m*P,rt=v*m*R-T*P,lt=m*m*R+w,ft=T*m*R+v*P,pt=v*T*R+m*P,vt=m*T*R-v*P,xt=T*T*R+w;return this.setValues(b*j+B*et+K*it,O*j+k*et+H*it,I*j+z*et+Q*it,D*j+X*et+W*it,b*rt+B*lt+K*ft,O*rt+k*lt+H*ft,I*rt+z*lt+Q*ft,D*rt+X*lt+W*ft,b*pt+B*vt+K*xt,O*pt+k*vt+H*xt,I*pt+z*vt+Q*xt,D*pt+X*vt+W*xt,Y,N,Z,U)},rotateX:function(d){var c=this.val,p=Math.sin(d),v=Math.cos(d),m=c[4],T=c[5],E=c[6],P=c[7],w=c[8],R=c[9],b=c[10],O=c[11];return c[4]=m*v+w*p,c[5]=T*v+R*p,c[6]=E*v+b*p,c[7]=P*v+O*p,c[8]=w*v-m*p,c[9]=R*v-T*p,c[10]=b*v-E*p,c[11]=O*v-P*p,this},rotateY:function(d){var c=this.val,p=Math.sin(d),v=Math.cos(d),m=c[0],T=c[1],E=c[2],P=c[3],w=c[8],R=c[9],b=c[10],O=c[11];return c[0]=m*v-w*p,c[1]=T*v-R*p,c[2]=E*v-b*p,c[3]=P*v-O*p,c[8]=m*p+w*v,c[9]=T*p+R*v,c[10]=E*p+b*v,c[11]=P*p+O*v,this},rotateZ:function(d){var c=this.val,p=Math.sin(d),v=Math.cos(d),m=c[0],T=c[1],E=c[2],P=c[3],w=c[4],R=c[5],b=c[6],O=c[7];return c[0]=m*v+w*p,c[1]=T*v+R*p,c[2]=E*v+b*p,c[3]=P*v+O*p,c[4]=w*v-m*p,c[5]=R*v-T*p,c[6]=b*v-E*p,c[7]=O*v-P*p,this},fromRotationTranslation:function(d,c){var p=d.x,v=d.y,m=d.z,T=d.w,E=p+p,P=v+v,w=m+m,R=p*E,b=p*P,O=p*w,I=v*P,D=v*w,B=m*w,k=T*E,z=T*P,X=T*w;return this.setValues(1-(I+B),b+X,O-z,0,b-X,1-(R+B),D+k,0,O+z,D-k,1-(R+I),0,c.x,c.y,c.z,1)},fromQuat:function(d){var c=d.x,p=d.y,v=d.z,m=d.w,T=c+c,E=p+p,P=v+v,w=c*T,R=c*E,b=c*P,O=p*E,I=p*P,D=v*P,B=m*T,k=m*E,z=m*P;return this.setValues(1-(O+D),R+z,b-k,0,R-z,1-(w+D),I+B,0,b+k,I-B,1-(w+O),0,0,0,0,1)},frustum:function(d,c,p,v,m,T){var E=1/(c-d),P=1/(v-p),w=1/(m-T);return this.setValues(m*2*E,0,0,0,0,m*2*P,0,0,(c+d)*E,(v+p)*P,(T+m)*w,-1,0,0,T*m*2*w,0)},perspective:function(d,c,p,v){var m=1/Math.tan(d/2),T=1/(p-v);return this.setValues(m/c,0,0,0,0,m,0,0,0,0,(v+p)*T,-1,0,0,2*v*p*T,0)},perspectiveLH:function(d,c,p,v){return this.setValues(2*p/d,0,0,0,0,2*p/c,0,0,0,0,-v/(p-v),1,0,0,p*v/(p-v),0)},ortho:function(d,c,p,v,m,T){var E=d-c,P=p-v,w=m-T;return E=E===0?E:1/E,P=P===0?P:1/P,w=w===0?w:1/w,this.setValues(-2*E,0,0,0,0,-2*P,0,0,0,0,2*w,0,(d+c)*E,(v+p)*P,(T+m)*w,1)},lookAtRH:function(d,c,p){var v=this.val;return a.subVectors(d,c),a.lengthSq()===0&&(a.z=1),a.normalize(),o.crossVectors(p,a),o.lengthSq()===0&&(Math.abs(p.z)===1?a.x+=1e-4:a.z+=1e-4,a.normalize(),o.crossVectors(p,a)),o.normalize(),u.crossVectors(a,o),v[0]=o.x,v[1]=o.y,v[2]=o.z,v[4]=u.x,v[5]=u.y,v[6]=u.z,v[8]=a.x,v[9]=a.y,v[10]=a.z,this},lookAt:function(d,c,p){var v=d.x,m=d.y,T=d.z,E=p.x,P=p.y,w=p.z,R=c.x,b=c.y,O=c.z;if(Math.abs(v-R)<f&&Math.abs(m-b)<f&&Math.abs(T-O)<f)return this.identity();var I=v-R,D=m-b,B=T-O,k=1/Math.sqrt(I*I+D*D+B*B);I*=k,D*=k,B*=k;var z=P*B-w*D,X=w*I-E*B,K=E*D-P*I;k=Math.sqrt(z*z+X*X+K*K),k?(k=1/k,z*=k,X*=k,K*=k):(z=0,X=0,K=0);var H=D*K-B*X,Q=B*z-I*K,W=I*X-D*z;return k=Math.sqrt(H*H+Q*Q+W*W),k?(k=1/k,H*=k,Q*=k,W*=k):(H=0,Q=0,W=0),this.setValues(z,H,I,0,X,Q,D,0,K,W,B,0,-(z*v+X*m+K*T),-(H*v+Q*m+W*T),-(I*v+D*m+B*T),1)},yawPitchRoll:function(d,c,p){this.zero(),h.zero(),r.zero();var v=this.val,m=h.val,T=r.val,E=Math.sin(p),P=Math.cos(p);return v[10]=1,v[15]=1,v[0]=P,v[1]=E,v[4]=-E,v[5]=P,E=Math.sin(c),P=Math.cos(c),m[0]=1,m[15]=1,m[5]=P,m[10]=P,m[9]=-E,m[6]=E,E=Math.sin(d),P=Math.cos(d),T[5]=1,T[15]=1,T[0]=P,T[2]=-E,T[8]=E,T[10]=P,this.multiplyLocal(h),this.multiplyLocal(r),this},setWorldMatrix:function(d,c,p,v,m){return this.yawPitchRoll(d.y,d.x,d.z),h.scaling(p.x,p.y,p.z),r.xyz(c.x,c.y,c.z),this.multiplyLocal(h),this.multiplyLocal(r),v&&this.multiplyLocal(v),m&&this.multiplyLocal(m),this},multiplyToMat4:function(d,c){var p=this.val,v=d.val,m=p[0],T=p[1],E=p[2],P=p[3],w=p[4],R=p[5],b=p[6],O=p[7],I=p[8],D=p[9],B=p[10],k=p[11],z=p[12],X=p[13],K=p[14],H=p[15],Q=v[0],W=v[1],Y=v[2],N=v[3],Z=v[4],U=v[5],j=v[6],et=v[7],it=v[8],rt=v[9],lt=v[10],ft=v[11],pt=v[12],vt=v[13],xt=v[14],yt=v[15];return c.setValues(Q*m+W*w+Y*I+N*z,W*T+W*R+Y*D+N*X,Y*E+W*b+Y*B+N*K,N*P+W*O+Y*k+N*H,Z*m+U*w+j*I+et*z,Z*T+U*R+j*D+et*X,Z*E+U*b+j*B+et*K,Z*P+U*O+j*k+et*H,it*m+rt*w+lt*I+ft*z,it*T+rt*R+lt*D+ft*X,it*E+rt*b+lt*B+ft*K,it*P+rt*O+lt*k+ft*H,pt*m+vt*w+xt*I+yt*z,pt*T+vt*R+xt*D+yt*X,pt*E+vt*b+xt*B+yt*K,pt*P+vt*O+xt*k+yt*H)},fromRotationXYTranslation:function(d,c,p){var v=c.x,m=c.y,T=c.z,E=Math.sin(d.x),P=Math.cos(d.x),w=Math.sin(d.y),R=Math.cos(d.y),b=v,O=m,I=T,D=-E,B=0-D*w,k=0-P*w,z=D*R,X=P*R;return p||(b=R*v+w*T,O=B*v+P*m+z*T,I=k*v+E*m+X*T),this.setValues(R,B,k,0,0,P,E,0,w,z,X,0,b,O,I,1)},getMaxScaleOnAxis:function(){var d=this.val,c=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],p=d[4]*d[4]+d[5]*d[5]+d[6]*d[6],v=d[8]*d[8]+d[9]*d[9]+d[10]*d[10];return Math.sqrt(Math.max(c,p,v))}}),h=new l,r=new l,o=new y,u=new y,a=new y;C.exports=l},86883:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return Math.min(s+g,y)};C.exports=A},50040:C=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=s.length;if(g===0)return 0;s.sort(function(f,l){return f-l});var y=Math.floor(g/2);return g%2===0?(s[y]+s[y-1])/2:s[y]};C.exports=A},37204:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return Math.max(s-g,y)};C.exports=A},65201:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){y===void 0&&(y=g+1);var l=(s-g)/(y-g);return l>1?f!==void 0?(l=(f-s)/(f-y),l<0&&(l=0)):l=1:l<0&&(l=0),l};C.exports=A},15746:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(94434),f=s(29747),l=s(25836),h=1e-6,r=new Int8Array([1,2,0]),o=new Float32Array([0,0,0]),u=new l(1,0,0),a=new l(0,1,0),d=new l,c=new y,p=new g({initialize:function(m,T,E,P){this.onChangeCallback=f,this.set(m,T,E,P)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,m,T,E,P){return P===void 0&&(P=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=m||0,this._z=T||0,this._w=E||0),P&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,m=this.y,T=this.z,E=this.w;return Math.sqrt(v*v+m*m+T*T+E*E)},lengthSq:function(){var v=this.x,m=this.y,T=this.z,E=this.w;return v*v+m*m+T*T+E*E},normalize:function(){var v=this.x,m=this.y,T=this.z,E=this.w,P=v*v+m*m+T*T+E*E;return P>0&&(P=1/Math.sqrt(P),this._x=v*P,this._y=m*P,this._z=T*P,this._w=E*P),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,m){m===void 0&&(m=0);var T=this.x,E=this.y,P=this.z,w=this.w;return this.set(T+m*(v.x-T),E+m*(v.y-E),P+m*(v.z-P),w+m*(v.w-w))},rotationTo:function(v,m){var T=v.x*m.x+v.y*m.y+v.z*m.z;return T<-.999999?(d.copy(u).cross(v).length()<h&&d.copy(a).cross(v),d.normalize(),this.setAxisAngle(d,Math.PI)):T>.999999?this.set(0,0,0,1):(d.copy(v).cross(m),this._x=d.x,this._y=d.y,this._z=d.z,this._w=1+T,this.normalize())},setAxes:function(v,m,T){var E=c.val;return E[0]=m.x,E[3]=m.y,E[6]=m.z,E[1]=T.x,E[4]=T.y,E[7]=T.z,E[2]=-v.x,E[5]=-v.y,E[8]=-v.z,this.fromMat3(c).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,m){m=m*.5;var T=Math.sin(m);return this.set(T*v.x,T*v.y,T*v.z,Math.cos(m))},multiply:function(v){var m=this.x,T=this.y,E=this.z,P=this.w,w=v.x,R=v.y,b=v.z,O=v.w;return this.set(m*O+P*w+T*b-E*R,T*O+P*R+E*w-m*b,E*O+P*b+m*R-T*w,P*O-m*w-T*R-E*b)},slerp:function(v,m){var T=this.x,E=this.y,P=this.z,w=this.w,R=v.x,b=v.y,O=v.z,I=v.w,D=T*R+E*b+P*O+w*I;D<0&&(D=-D,R=-R,b=-b,O=-O,I=-I);var B=1-m,k=m;if(1-D>h){var z=Math.acos(D),X=Math.sin(z);B=Math.sin((1-m)*z)/X,k=Math.sin(m*z)/X}return this.set(B*T+k*R,B*E+k*b,B*P+k*O,B*w+k*I)},invert:function(){var v=this.x,m=this.y,T=this.z,E=this.w,P=v*v+m*m+T*T+E*E,w=P?1/P:0;return this.set(-v*w,-m*w,-T*w,E*w)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var m=this.x,T=this.y,E=this.z,P=this.w,w=Math.sin(v),R=Math.cos(v);return this.set(m*R+P*w,T*R+E*w,E*R-T*w,P*R-m*w)},rotateY:function(v){v*=.5;var m=this.x,T=this.y,E=this.z,P=this.w,w=Math.sin(v),R=Math.cos(v);return this.set(m*R-E*w,T*R+P*w,E*R+m*w,P*R-T*w)},rotateZ:function(v){v*=.5;var m=this.x,T=this.y,E=this.z,P=this.w,w=Math.sin(v),R=Math.cos(v);return this.set(m*R+T*w,T*R-m*w,E*R+P*w,P*R-E*w)},calculateW:function(){var v=this.x,m=this.y,T=this.z;return this.w=-Math.sqrt(1-v*v-m*m-T*T),this},setFromEuler:function(v,m){var T=v.x/2,E=v.y/2,P=v.z/2,w=Math.cos(T),R=Math.cos(E),b=Math.cos(P),O=Math.sin(T),I=Math.sin(E),D=Math.sin(P);switch(v.order){case"XYZ":{this.set(O*R*b+w*I*D,w*I*b-O*R*D,w*R*D+O*I*b,w*R*b-O*I*D,m);break}case"YXZ":{this.set(O*R*b+w*I*D,w*I*b-O*R*D,w*R*D-O*I*b,w*R*b+O*I*D,m);break}case"ZXY":{this.set(O*R*b-w*I*D,w*I*b+O*R*D,w*R*D+O*I*b,w*R*b-O*I*D,m);break}case"ZYX":{this.set(O*R*b-w*I*D,w*I*b+O*R*D,w*R*D-O*I*b,w*R*b+O*I*D,m);break}case"YZX":{this.set(O*R*b+w*I*D,w*I*b+O*R*D,w*R*D-O*I*b,w*R*b-O*I*D,m);break}case"XZY":{this.set(O*R*b-w*I*D,w*I*b-O*R*D,w*R*D+O*I*b,w*R*b+O*I*D,m);break}}return this},setFromRotationMatrix:function(v){var m=v.val,T=m[0],E=m[4],P=m[8],w=m[1],R=m[5],b=m[9],O=m[2],I=m[6],D=m[10],B=T+R+D,k;return B>0?(k=.5/Math.sqrt(B+1),this.set((I-b)*k,(P-O)*k,(w-E)*k,.25/k)):T>R&&T>D?(k=2*Math.sqrt(1+T-R-D),this.set(.25*k,(E+w)/k,(P+O)/k,(I-b)/k)):R>D?(k=2*Math.sqrt(1+R-T-D),this.set((E+w)/k,.25*k,(b+I)/k,(P-O)/k)):(k=2*Math.sqrt(1+D-T-R),this.set((P+O)/k,(b+I)/k,.25*k,(w-E)/k)),this},fromMat3:function(v){var m=v.val,T=m[0]+m[4]+m[8],E;if(T>0)E=Math.sqrt(T+1),this.w=.5*E,E=.5/E,this._x=(m[7]-m[5])*E,this._y=(m[2]-m[6])*E,this._z=(m[3]-m[1])*E;else{var P=0;m[4]>m[0]&&(P=1),m[8]>m[P*3+P]&&(P=2);var w=r[P],R=r[w];E=Math.sqrt(m[P*3+P]-m[w*3+w]-m[R*3+R]+1),o[P]=.5*E,E=.5/E,o[w]=(m[w*3+P]+m[P*3+w])*E,o[R]=(m[R*3+P]+m[P*3+R])*E,this._x=o[0],this._y=o[1],this._z=o[2],this._w=(m[R*3+w]-m[w*3+R])*E}return this.onChangeCallback(this),this}});C.exports=p},43396:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=function(f){return f*g.RAD_TO_DEG};C.exports=y},74362:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=1);var y=Math.random()*2*Math.PI;return s.x=Math.cos(y)*g,s.y=Math.sin(y)*g,s};C.exports=A},60706:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=1);var y=Math.random()*2*Math.PI,f=Math.random()*2-1,l=Math.sqrt(1-f*f)*g;return s.x=Math.cos(y)*l,s.y=Math.sin(y)*l,s.z=f*g,s};C.exports=A},67421:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1),s.x=(Math.random()*2-1)*g,s.y=(Math.random()*2-1)*g,s.z=(Math.random()*2-1)*g,s.w=(Math.random()*2-1)*g,s};C.exports=A},36305:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.x,f=s.y;return s.x=y*Math.cos(g)-f*Math.sin(g),s.y=y*Math.sin(g)+f*Math.cos(g),s};C.exports=A},11520:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=Math.cos(f),h=Math.sin(f),r=s.x-g,o=s.y-y;return s.x=r*l-o*h+g,s.y=r*h+o*l+y,s};C.exports=A},1163:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){var h=f+Math.atan2(s.y-y,s.x-g);return s.x=g+l*Math.cos(h),s.y=y+l*Math.sin(h),s};C.exports=A},70336:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){return s.x=g+l*Math.cos(f),s.y=y+l*Math.sin(f),s};C.exports=A},72678:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(25836),y=s(37867),f=s(15746),l=new y,h=new f,r=new g,o=function(u,a,d){return h.setAxisAngle(a,d),l.fromRotationTranslation(h,r.set(0,0,0)),u.transformMat4(l)};C.exports=o},2284:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s>0?Math.ceil(s):Math.floor(s)};C.exports=A},41013:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){g===void 0&&(g=0),y===void 0&&(y=10);var f=Math.pow(y,-g);return Math.round(s*f)/f};C.exports=A},16922:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g===void 0&&(g=1),y===void 0&&(y=1),f===void 0&&(f=1),f*=Math.PI/s;for(var l=[],h=[],r=0;r<s;r++)y-=g*f,g+=y*f,l[r]=y,h[r]=g;return{sin:h,cos:l,length:s}};C.exports=A},7602:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s<=g?0:s>=y?1:(s=(s-g)/(y-g),s*s*(3-2*s))};C.exports=A},54261:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s=Math.max(0,Math.min(1,(s-g)/(y-g))),s*s*s*(s*(s*6-15)+10)};C.exports=A},44408:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r){r===void 0&&(r=new g);var o=0,u=0,a=l*h;return f>0&&f<=a&&(f>l-1?(u=Math.floor(f/l),o=f-u*l):o=f),r.set(o,u)};C.exports=y},85955:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r,o,u,a,d){d===void 0&&(d=new g);var c=Math.sin(o),p=Math.cos(o),v=p*u,m=c*u,T=-c*a,E=p*a,P=1/(v*E+T*-m);return d.x=E*P*f+-T*P*l+(r*T-h*E)*P,d.y=v*P*l+-m*P*f+(-r*v+h*m)*P,d};C.exports=y},26099:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(43855),f=new g({initialize:function(h,r){this.x=0,this.y=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0):(r===void 0&&(r=h),this.x=h||0,this.y=r||0)},clone:function(){return new f(this.x,this.y)},copy:function(l){return this.x=l.x||0,this.y=l.y||0,this},setFromObject:function(l){return this.x=l.x||0,this.y=l.y||0,this},set:function(l,h){return h===void 0&&(h=l),this.x=l,this.y=h,this},setTo:function(l,h){return this.set(l,h)},setToPolar:function(l,h){return h==null&&(h=1),this.x=Math.cos(l)*h,this.y=Math.sin(l)*h,this},equals:function(l){return this.x===l.x&&this.y===l.y},fuzzyEquals:function(l,h){return y(this.x,l.x,h)&&y(this.y,l.y,h)},angle:function(){var l=Math.atan2(this.y,this.x);return l<0&&(l+=2*Math.PI),l},setAngle:function(l){return this.setToPolar(l,this.length())},add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l):(this.x=0,this.y=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(l){var h=l.x-this.x,r=l.y-this.y;return Math.sqrt(h*h+r*r)},distanceSq:function(l){var h=l.x-this.x,r=l.y-this.y;return h*h+r*r},length:function(){var l=this.x,h=this.y;return Math.sqrt(l*l+h*h)},setLength:function(l){return this.normalize().scale(l)},lengthSq:function(){var l=this.x,h=this.y;return l*l+h*h},normalize:function(){var l=this.x,h=this.y,r=l*l+h*h;return r>0&&(r=1/Math.sqrt(r),this.x=l*r,this.y=h*r),this},normalizeRightHand:function(){var l=this.x;return this.x=this.y*-1,this.y=l,this},normalizeLeftHand:function(){var l=this.x;return this.x=this.y,this.y=l*-1,this},dot:function(l){return this.x*l.x+this.y*l.y},cross:function(l){return this.x*l.y-this.y*l.x},lerp:function(l,h){h===void 0&&(h=0);var r=this.x,o=this.y;return this.x=r+h*(l.x-r),this.y=o+h*(l.y-o),this},transformMat3:function(l){var h=this.x,r=this.y,o=l.val;return this.x=o[0]*h+o[3]*r+o[6],this.y=o[1]*h+o[4]*r+o[7],this},transformMat4:function(l){var h=this.x,r=this.y,o=l.val;return this.x=o[0]*h+o[4]*r+o[12],this.y=o[1]*h+o[5]*r+o[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(l){var h=this.length();return h&&h>l&&this.scale(l/h),this},reflect:function(l){return l=l.clone().normalize(),this.subtract(l.scale(2*this.dot(l)))},mirror:function(l){return this.reflect(l).negate()},rotate:function(l){var h=Math.cos(l),r=Math.sin(l);return this.set(h*this.x-r*this.y,r*this.x+h*this.y)},project:function(l){var h=this.dot(l)/l.dot(l);return this.copy(l).scale(h)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),C.exports=f},25836:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r){this.x=0,this.y=0,this.z=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=h||0,this.z=r||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new y(this.x,this.y,this.z)},addVectors:function(f,l){return this.x=f.x+l.x,this.y=f.y+l.y,this.z=f.z+l.z,this},subVectors:function(f,l){return this.x=f.x-l.x,this.y=f.y-l.y,this.z=f.z-l.z,this},crossVectors:function(f,l){var h=f.x,r=f.y,o=f.z,u=l.x,a=l.y,d=l.z;return this.x=r*d-o*a,this.y=o*u-h*d,this.z=h*a-r*u,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,l,h){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=l||0,this.z=h||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,l){return this.fromArray(f.val,l*4)},fromArray:function(f,l){return l===void 0&&(l=0),this.x=f[l],this.y=f[l+1],this.z=f[l+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,l){return this.x+=f.x*l,this.y+=f.y*l,this.z+=f.z*l||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var l=f.x-this.x,h=f.y-this.y,r=f.z-this.z||0;return Math.sqrt(l*l+h*h+r*r)},distanceSq:function(f){var l=f.x-this.x,h=f.y-this.y,r=f.z-this.z||0;return l*l+h*h+r*r},length:function(){var f=this.x,l=this.y,h=this.z;return Math.sqrt(f*f+l*l+h*h)},lengthSq:function(){var f=this.x,l=this.y,h=this.z;return f*f+l*l+h*h},normalize:function(){var f=this.x,l=this.y,h=this.z,r=f*f+l*l+h*h;return r>0&&(r=1/Math.sqrt(r),this.x=f*r,this.y=l*r,this.z=h*r),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var l=this.x,h=this.y,r=this.z,o=f.x,u=f.y,a=f.z;return this.x=h*a-r*u,this.y=r*o-l*a,this.z=l*u-h*o,this},lerp:function(f,l){l===void 0&&(l=0);var h=this.x,r=this.y,o=this.z;return this.x=h+l*(f.x-h),this.y=r+l*(f.y-r),this.z=o+l*(f.z-o),this},applyMatrix3:function(f){var l=this.x,h=this.y,r=this.z,o=f.val;return this.x=o[0]*l+o[3]*h+o[6]*r,this.y=o[1]*l+o[4]*h+o[7]*r,this.z=o[2]*l+o[5]*h+o[8]*r,this},applyMatrix4:function(f){var l=this.x,h=this.y,r=this.z,o=f.val,u=1/(o[3]*l+o[7]*h+o[11]*r+o[15]);return this.x=(o[0]*l+o[4]*h+o[8]*r+o[12])*u,this.y=(o[1]*l+o[5]*h+o[9]*r+o[13])*u,this.z=(o[2]*l+o[6]*h+o[10]*r+o[14])*u,this},transformMat3:function(f){var l=this.x,h=this.y,r=this.z,o=f.val;return this.x=l*o[0]+h*o[3]+r*o[6],this.y=l*o[1]+h*o[4]+r*o[7],this.z=l*o[2]+h*o[5]+r*o[8],this},transformMat4:function(f){var l=this.x,h=this.y,r=this.z,o=f.val;return this.x=o[0]*l+o[4]*h+o[8]*r+o[12],this.y=o[1]*l+o[5]*h+o[9]*r+o[13],this.z=o[2]*l+o[6]*h+o[10]*r+o[14],this},transformCoordinates:function(f){var l=this.x,h=this.y,r=this.z,o=f.val,u=l*o[0]+h*o[4]+r*o[8]+o[12],a=l*o[1]+h*o[5]+r*o[9]+o[13],d=l*o[2]+h*o[6]+r*o[10]+o[14],c=l*o[3]+h*o[7]+r*o[11]+o[15];return this.x=u/c,this.y=a/c,this.z=d/c,this},transformQuat:function(f){var l=this.x,h=this.y,r=this.z,o=f.x,u=f.y,a=f.z,d=f.w,c=d*l+u*r-a*h,p=d*h+a*l-o*r,v=d*r+o*h-u*l,m=-o*l-u*h-a*r;return this.x=c*d+m*-o+p*-a-v*-u,this.y=p*d+m*-u+v*-o-c*-a,this.z=v*d+m*-a+c*-u-p*-o,this},project:function(f){var l=this.x,h=this.y,r=this.z,o=f.val,u=o[0],a=o[1],d=o[2],c=o[3],p=o[4],v=o[5],m=o[6],T=o[7],E=o[8],P=o[9],w=o[10],R=o[11],b=o[12],O=o[13],I=o[14],D=o[15],B=1/(l*c+h*T+r*R+D);return this.x=(l*u+h*p+r*E+b)*B,this.y=(l*a+h*v+r*P+O)*B,this.z=(l*d+h*m+r*w+I)*B,this},projectViewMatrix:function(f,l){return this.applyMatrix4(f).applyMatrix4(l)},unprojectViewMatrix:function(f,l){return this.applyMatrix4(f).applyMatrix4(l)},unproject:function(f,l){var h=f.x,r=f.y,o=f.z,u=f.w,a=this.x-h,d=u-this.y-1-r,c=this.z;return this.x=2*a/o-1,this.y=2*d/u-1,this.z=2*c-1,this.project(l)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});y.ZERO=new y,y.RIGHT=new y(1,0,0),y.LEFT=new y(-1,0,0),y.UP=new y(0,-1,0),y.DOWN=new y(0,1,0),y.FORWARD=new y(0,0,1),y.BACK=new y(0,0,-1),y.ONE=new y(1,1,1),C.exports=y},61369:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r,o){this.x=0,this.y=0,this.z=0,this.w=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=h||0,this.z=r||0,this.w=o||0)},clone:function(){return new y(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,l,h,r){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=l||0,this.z=h||0,this.w=r||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,l=this.y,h=this.z,r=this.w;return Math.sqrt(f*f+l*l+h*h+r*r)},lengthSq:function(){var f=this.x,l=this.y,h=this.z,r=this.w;return f*f+l*l+h*h+r*r},normalize:function(){var f=this.x,l=this.y,h=this.z,r=this.w,o=f*f+l*l+h*h+r*r;return o>0&&(o=1/Math.sqrt(o),this.x=f*o,this.y=l*o,this.z=h*o,this.w=r*o),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,l){l===void 0&&(l=0);var h=this.x,r=this.y,o=this.z,u=this.w;return this.x=h+l*(f.x-h),this.y=r+l*(f.y-r),this.z=o+l*(f.z-o),this.w=u+l*(f.w-u),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var l=f.x-this.x,h=f.y-this.y,r=f.z-this.z||0,o=f.w-this.w||0;return Math.sqrt(l*l+h*h+r*r+o*o)},distanceSq:function(f){var l=f.x-this.x,h=f.y-this.y,r=f.z-this.z||0,o=f.w-this.w||0;return l*l+h*h+r*r+o*o},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var l=this.x,h=this.y,r=this.z,o=this.w,u=f.val;return this.x=u[0]*l+u[4]*h+u[8]*r+u[12]*o,this.y=u[1]*l+u[5]*h+u[9]*r+u[13]*o,this.z=u[2]*l+u[6]*h+u[10]*r+u[14]*o,this.w=u[3]*l+u[7]*h+u[11]*r+u[15]*o,this},transformQuat:function(f){var l=this.x,h=this.y,r=this.z,o=f.x,u=f.y,a=f.z,d=f.w,c=d*l+u*r-a*h,p=d*h+a*l-o*r,v=d*r+o*h-u*l,m=-o*l-u*h-a*r;return this.x=c*d+m*-o+p*-a-v*-u,this.y=p*d+m*-u+v*-o-c*-a,this.z=v*d+m*-a+c*-u-p*-o,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});y.prototype.sub=y.prototype.subtract,y.prototype.mul=y.prototype.multiply,y.prototype.div=y.prototype.divide,y.prototype.dist=y.prototype.distance,y.prototype.distSq=y.prototype.distanceSq,y.prototype.len=y.prototype.length,y.prototype.lenSq=y.prototype.lengthSq,C.exports=y},60417:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return Math.abs(s-g)<=y};C.exports=A},15994:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=y-g;return g+((s-g)%f+f)%f};C.exports=A},31040:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return Math.atan2(f-g,y-s)};C.exports=A},55495:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return Math.atan2(g.y-s.y,g.x-s.x)};C.exports=A},128:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return Math.atan2(g.x-s.x,g.y-s.y)};C.exports=A},41273:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return Math.atan2(y-s,f-g)};C.exports=A},1432:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=function(f){return f>Math.PI&&(f-=g.PI2),Math.abs(((f+g.TAU)%g.PI2-g.PI2)%g.PI2)};C.exports=y},49127:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(12407),y=function(f,l){return g(l-f)};C.exports=y},52285:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(12407),y=2*Math.PI,f=function(l,h){var r=g(h-l);return r>0&&(r-=y),r};C.exports=f},67317:(C,A,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(86554),y=function(f,l){return g(l-f)};C.exports=y},12407:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s=s%(2*Math.PI),s>=0?s:s+2*Math.PI};C.exports=A},53993:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(99472),y=function(){return g(-Math.PI,Math.PI)};C.exports=y},86564:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(99472),y=function(){return g(-180,180)};C.exports=y},90154:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(12407),y=function(f){return g(f+Math.PI)};C.exports=y},48736:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=function(f,l,h){return h===void 0&&(h=.05),f===l||(Math.abs(l-f)<=h||Math.abs(l-f)>=g.PI2-h?f=l:(Math.abs(l-f)>Math.PI&&(l<f?l+=g.PI2:l-=g.PI2),l>f?f+=h:l<f&&(f-=h))),f};C.exports=y},61430:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=g-s;if(y===0)return 0;var f=Math.floor((y- -180)/360);return y-f*360};C.exports=A},86554:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(15994),y=function(f){return g(f,-Math.PI,Math.PI)};C.exports=y},30954:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(15994),y=function(f){return g(f,-180,180)};C.exports=y},25588:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Between:s(31040),BetweenPoints:s(55495),BetweenPointsY:s(128),BetweenY:s(41273),CounterClockwise:s(1432),GetClockwiseDistance:s(49127),GetCounterClockwiseDistance:s(52285),GetShortestDistance:s(67317),Normalize:s(12407),Random:s(53993),RandomDegrees:s(86564),Reverse:s(90154),RotateTo:s(48736),ShortestBetween:s(61430),Wrap:s(86554),WrapDegrees:s(30954)}},36383:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};C.exports=A},20339:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=s-y,h=g-f;return Math.sqrt(l*l+h*h)};C.exports=A},52816:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.x-g.x,f=s.y-g.y;return Math.sqrt(y*y+f*f)};C.exports=A},64559:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.x-g.x,f=s.y-g.y;return y*y+f*f};C.exports=A},82340:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return Math.max(Math.abs(s-y),Math.abs(g-f))};C.exports=A},14390:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){return l===void 0&&(l=2),Math.sqrt(Math.pow(y-s,l)+Math.pow(f-g,l))};C.exports=A},2243:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return Math.abs(s-y)+Math.abs(g-f)};C.exports=A},89774:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=s-y,h=g-f;return l*l+h*h};C.exports=A},50994:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Between:s(20339),BetweenPoints:s(52816),BetweenPointsSquared:s(64559),Chebyshev:s(82340),Power:s(14390),Snake:s(2243),Squared:s(89774)}},62640:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54178),y=s(41521),f=s(79980),l=s(85433),h=s(99140),r=s(48857),o=s(81596),u=s(59133),a=s(98516),d=s(35248),c=s(82500),p=s(49752);C.exports={Power0:o,Power1:u.Out,Power2:l.Out,Power3:a.Out,Power4:d.Out,Linear:o,Quad:u.Out,Cubic:l.Out,Quart:a.Out,Quint:d.Out,Sine:c.Out,Expo:r.Out,Circ:f.Out,Elastic:h.Out,Back:g.Out,Bounce:y.Out,Stepped:p,"Quad.easeIn":u.In,"Cubic.easeIn":l.In,"Quart.easeIn":a.In,"Quint.easeIn":d.In,"Sine.easeIn":c.In,"Expo.easeIn":r.In,"Circ.easeIn":f.In,"Elastic.easeIn":h.In,"Back.easeIn":g.In,"Bounce.easeIn":y.In,"Quad.easeOut":u.Out,"Cubic.easeOut":l.Out,"Quart.easeOut":a.Out,"Quint.easeOut":d.Out,"Sine.easeOut":c.Out,"Expo.easeOut":r.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":h.Out,"Back.easeOut":g.Out,"Bounce.easeOut":y.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":l.InOut,"Quart.easeInOut":a.InOut,"Quint.easeInOut":d.InOut,"Sine.easeInOut":c.InOut,"Expo.easeInOut":r.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":g.InOut,"Bounce.easeInOut":y.InOut}},1639:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1.70158),s*s*((g+1)*s-g)};C.exports=A},50099:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=1.70158);var y=g*1.525;return(s*=2)<1?.5*(s*s*((y+1)*s-y)):.5*((s-=2)*s*((y+1)*s+y)+2)};C.exports=A},41286:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1.70158),--s*s*((g+1)*s+g)+1};C.exports=A},54178:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(1639),Out:s(41286),InOut:s(50099)}},59590:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s=1-s,s<.36363636363636365?1-7.5625*s*s:s<.7272727272727273?1-(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?1-(7.5625*(s-=.8181818181818182)*s+.9375):1-(7.5625*(s-=.9545454545454546)*s+.984375)};C.exports=A},41788:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=!1;return s<.5?(s=1-s*2,g=!0):s=s*2-1,s<.36363636363636365?s=7.5625*s*s:s<.7272727272727273?s=7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?s=7.5625*(s-=.8181818181818182)*s+.9375:s=7.5625*(s-=.9545454545454546)*s+.984375,g?(1-s)*.5:s*.5+.5};C.exports=A},69905:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375};C.exports=A},41521:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(59590),Out:s(69905),InOut:s(41788)}},91861:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return 1-Math.sqrt(1-s*s)};C.exports=A},4177:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)};C.exports=A},57512:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.sqrt(1- --s*s)};C.exports=A},79980:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(91861),Out:s(57512),InOut:s(4177)}},51150:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s*s*s};C.exports=A},82820:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)};C.exports=A},35033:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return--s*s*s+1};C.exports=A},85433:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(51150),Out:s(35033),InOut:s(82820)}},69965:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===void 0&&(g=.1),y===void 0&&(y=.1),s===0)return 0;if(s===1)return 1;var f=y/4;return g<1?g=1:f=y*Math.asin(1/g)/(2*Math.PI),-(g*Math.pow(2,10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/y))};C.exports=A},50665:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===void 0&&(g=.1),y===void 0&&(y=.1),s===0)return 0;if(s===1)return 1;var f=y/4;return g<1?g=1:f=y*Math.asin(1/g)/(2*Math.PI),(s*=2)<1?-.5*(g*Math.pow(2,10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/y)):g*Math.pow(2,-10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/y)*.5+1};C.exports=A},7744:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===void 0&&(g=.1),y===void 0&&(y=.1),s===0)return 0;if(s===1)return 1;var f=y/4;return g<1?g=1:f=y*Math.asin(1/g)/(2*Math.PI),g*Math.pow(2,-10*s)*Math.sin((s-f)*(2*Math.PI)/y)+1};C.exports=A},99140:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(69965),Out:s(7744),InOut:s(50665)}},24590:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return Math.pow(2,10*(s-1))-.001};C.exports=A},87844:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(2-Math.pow(2,-10*(s-1)))};C.exports=A},89433:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return 1-Math.pow(2,-10*s)};C.exports=A},48857:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(24590),Out:s(89433),InOut:s(87844)}},48820:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Back:s(54178),Bounce:s(41521),Circular:s(79980),Cubic:s(85433),Elastic:s(99140),Expo:s(48857),Linear:s(81596),Quadratic:s(59133),Quartic:s(98516),Quintic:s(35248),Sine:s(82500),Stepped:s(49752)}},7147:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s};C.exports=A},81596:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=s(7147)},34826:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s*s};C.exports=A},20544:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)};C.exports=A},92029:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s*(2-s)};C.exports=A},59133:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(34826),Out:s(92029),InOut:s(20544)}},64413:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s*s*s*s};C.exports=A},78137:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)};C.exports=A},45840:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return 1- --s*s*s*s};C.exports=A},98516:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(64413),Out:s(45840),InOut:s(78137)}},87745:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s*s*s*s*s};C.exports=A},16509:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)};C.exports=A},17868:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return--s*s*s*s*s+1};C.exports=A},35248:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(87745),Out:s(17868),InOut:s(16509)}},80461:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s===0?0:s===1?1:1-Math.cos(s*Math.PI/2)};C.exports=A},34025:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s===0?0:s===1?1:.5*(1-Math.cos(Math.PI*s))};C.exports=A},52768:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s===0?0:s===1?1:Math.sin(s*Math.PI/2)};C.exports=A},82500:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:s(80461),Out:s(52768),InOut:s(34025)}},72251:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1),s<=0?0:s>=1?1:((g*s|0)+1)*(1/g)};C.exports=A},49752:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=s(72251)},75698:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1e-4),Math.ceil(s-g)};C.exports=A},43855:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y===void 0&&(y=1e-4),Math.abs(s-g)<y};C.exports=A},25777:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g=1e-4),Math.floor(s+g)};C.exports=A},5470:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y===void 0&&(y=1e-4),s>g-y};C.exports=A},94977:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return y===void 0&&(y=1e-4),s<g+y};C.exports=A},48379:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Ceil:s(75698),Equal:s(43855),Floor:s(25777),GreaterThan:s(5470),LessThan:s(94977)}},75508:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36383),y=s(79291),f={Angle:s(25588),Distance:s(50994),Easing:s(48820),Fuzzy:s(48379),Interpolation:s(38289),Pow2:s(49001),Snap:s(73697),RandomDataGenerator:s(28453),Average:s(53307),Bernstein:s(85710),Between:s(30976),CatmullRom:s(87842),CeilTo:s(26302),Clamp:s(45319),DegToRad:s(39506),Difference:s(61241),Euler:s(38857),Factorial:s(6411),FloatBetween:s(99472),FloorTo:s(77623),FromPercent:s(62945),GetSpeed:s(38265),IsEven:s(78702),IsEvenStrict:s(94883),Linear:s(28915),LinearXY:s(94908),MaxAdd:s(86883),Median:s(50040),MinSub:s(37204),Percent:s(65201),RadToDeg:s(43396),RandomXY:s(74362),RandomXYZ:s(60706),RandomXYZW:s(67421),Rotate:s(36305),RotateAround:s(11520),RotateAroundDistance:s(1163),RotateTo:s(70336),RoundAwayFromZero:s(2284),RoundTo:s(41013),SinCosTableGenerator:s(16922),SmootherStep:s(54261),SmoothStep:s(7602),ToXY:s(44408),TransformXY:s(85955),Within:s(60417),Wrap:s(15994),Vector2:s(26099),Vector3:s(25836),Vector4:s(61369),Matrix3:s(94434),Matrix4:s(37867),Quaternion:s(15746),RotateVec3:s(72678)};f=y(!1,f,g),C.exports=f},89318:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85710),y=function(f,l){for(var h=0,r=f.length-1,o=0;o<=r;o++)h+=Math.pow(1-l,r-o)*Math.pow(l,o)*f[o]*g(r,o);return h};C.exports=y},77259:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87842),y=function(f,l){var h=f.length-1,r=h*l,o=Math.floor(r);return f[0]===f[h]?(l<0&&(o=Math.floor(r=h*(1+l))),g(r-o,f[(o-1+h)%h],f[o],f[(o+1)%h],f[(o+2)%h])):l<0?f[0]-(g(-r,f[0],f[0],f[1],f[1])-f[0]):l>1?f[h]-(g(r-h,f[h],f[h],f[h-1],f[h-1])-f[h]):g(r-o,f[o?o-1:0],f[o],f[h<o+1?h:o+1],f[h<o+2?h:o+2])};C.exports=y},36316:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(l,h){var r=1-l;return r*r*r*h}function s(l,h){var r=1-l;return 3*r*r*l*h}function g(l,h){return 3*(1-l)*l*l*h}function y(l,h){return l*l*l*h}var f=function(l,h,r,o,u){return A(l,h)+s(l,r)+g(l,o)+y(l,u)};C.exports=f},28392:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(28915),y=function(f,l){var h=f.length-1,r=h*l,o=Math.floor(r);return l<0?g(f[0],f[1],r):l>1?g(f[h],f[h-1],h-r):g(f[o],f[o+1>h?h:o+1],r-o)};C.exports=y},32112:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(f,l){var h=1-f;return h*h*l}function s(f,l){return 2*(1-f)*f*l}function g(f,l){return f*f*l}var y=function(f,l,h,r){return A(f,l)+s(f,h)+g(f,r)};C.exports=y},47235:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7602),y=function(f,l,h){return l+(h-l)*g(f,0,1)};C.exports=y},50178:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(54261),y=function(f,l,h){return l+(h-l)*g(f,0,1)};C.exports=y},38289:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Bezier:s(89318),CatmullRom:s(77259),CubicBezier:s(36316),Linear:s(28392),QuadraticBezier:s(32112),SmoothStep:s(47235),SmootherStep:s(50178)}},98439:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=Math.log(s)/.6931471805599453;return 1<<Math.ceil(g)};C.exports=A},50030:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s>0&&(s&s-1)===0&&g>0&&(g&g-1)===0};C.exports=A},81230:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s>0&&(s&s-1)===0};C.exports=A},49001:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={GetNext:s(98439),IsSize:s(50030),IsValue:s(81230)}},28453:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l){l===void 0&&(l=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],l&&this.init(l)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var l,h=this.n;f=f.toString();for(var r=0;r<f.length;r++)h+=f.charCodeAt(r),l=.02519603282416938*h,h=l>>>0,l-=h,l*=h,h=l>>>0,l-=h,h+=l*4294967296;return this.n=h,(h>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var l=0;l<f.length&&f[l]!=null;l++){var h=f[l];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,l){return Math.floor(this.realInRange(0,l-f+1)+f)},between:function(f,l){return Math.floor(this.realInRange(0,l-f+1)+f)},realInRange:function(f,l){return this.frac()*(l-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",l="";for(l=f="";f++<36;l+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return l},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-.5)+.5)]},timestamp:function(f,l){return this.realInRange(f||9466848e5,l||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var l=f.length-1,h=l;h>0;h--){var r=Math.floor(this.frac()*(h+1)),o=f[r];f[r]=f[h],f[h]=o}return f}});C.exports=y},63448:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return y===void 0&&(y=0),g===0?s:(s-=y,s=g*Math.ceil(s/g),f?(y+s)/g:y+s)};C.exports=A},56583:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return y===void 0&&(y=0),g===0?s:(s-=y,s=g*Math.floor(s/g),f?(y+s)/g:y+s)};C.exports=A},77720:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){return y===void 0&&(y=0),g===0?s:(s-=y,s=g*Math.round(s/g),f?(y+s)/g:y+s)};C.exports=A},73697:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Ceil:s(63448),Floor:s(56583),To:s(77720)}},85454:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s(63595);var g=s(8054),y=s(79291),f={Actions:s(61061),Animations:s(60421),BlendModes:s(10312),Cache:s(83388),Cameras:s(26638),Core:s(42857),Class:s(83419),Create:s(15822),Curves:s(25410),Data:s(44965),Display:s(27460),DOM:s(84902),Events:s(93055),FX:s(66064),Game:s(50127),GameObjects:s(77856),Geom:s(55738),Input:s(14350),Loader:s(57777),Math:s(75508),Physics:s(44563),Plugins:s(18922),Renderer:s(36909),Scale:s(93364),ScaleModes:s(29795),Scene:s(97482),Scenes:s(62194),Structs:s(41392),Textures:s(27458),Tilemaps:s(62501),Time:s(90291),Tweens:s(43066),Utils:s(91799)};f.Sound=s(23717),f=y(!1,f,g),C.exports=f,s.g.Phaser=f},71289:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(92209),f=s(88571),l=new g({Extends:f,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:function(r,o,u,a,d){f.call(this,r,o,u,a,d),this.body=null}});C.exports=l},86689:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(39506),f=s(20339),l=s(89774),h=s(66022),r=s(95540),o=s(46975),u=s(72441),a=s(47956),d=s(37277),c=s(44594),p=s(26099),v=s(82248),m=new g({initialize:function(E){this.scene=E,this.systems=E.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,E.sys.events.once(c.BOOT,this.boot,this),E.sys.events.on(c.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new h(this.world));var T=this.systems.events;r(this.config,"customUpdate",!1)||T.on(c.UPDATE,this.world.update,this.world),T.on(c.POST_UPDATE,this.world.postUpdate,this.world),T.once(c.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(c.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(c.UPDATE,this.world.update,this.world)},getConfig:function(){var T=this.systems.game.config.physics,E=this.systems.settings.physics,P=o(r(E,"arcade",{}),r(T,"arcade",{}));return P},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(T,E,P,w,R){return P===void 0&&(P=null),w===void 0&&(w=null),R===void 0&&(R=P),this.world.collideObjects(T,E,P,w,R,!0)},collide:function(T,E,P,w,R){return P===void 0&&(P=null),w===void 0&&(w=null),R===void 0&&(R=P),this.world.collideObjects(T,E,P,w,R,!1)},collideTiles:function(T,E,P,w,R){return this.world.collideTiles(T,E,P,w,R)},overlapTiles:function(T,E,P,w,R){return this.world.overlapTiles(T,E,P,w,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(T,E,P,w,R,b){w===void 0&&(w=60);var O=Math.atan2(P-T.y,E-T.x);return T.body.acceleration.setToPolar(O,w),R!==void 0&&b!==void 0&&T.body.maxVelocity.set(R,b),O},accelerateToObject:function(T,E,P,w,R){return this.accelerateTo(T,E.x,E.y,P,w,R)},closest:function(T,E){E||(E=this.world.bodies.entries);for(var P=Number.MAX_VALUE,w=null,R=T.x,b=T.y,O=E.length,I=0;I<O;I++){var D=E[I],B=D.body||D;if(!(T===D||T===B||T===B.gameObject||T===B.center)){var k=l(R,b,B.center.x,B.center.y);k<P&&(w=D,P=k)}}return w},furthest:function(T,E){E||(E=this.world.bodies.entries);for(var P=-1,w=null,R=T.x,b=T.y,O=E.length,I=0;I<O;I++){var D=E[I],B=D.body||D;if(!(T===D||T===B||T===B.gameObject||T===B.center)){var k=l(R,b,B.center.x,B.center.y);k>P&&(w=D,P=k)}}return w},moveTo:function(T,E,P,w,R){w===void 0&&(w=60),R===void 0&&(R=0);var b=Math.atan2(P-T.y,E-T.x);return R>0&&(w=f(T.x,T.y,E,P)/(R/1e3)),T.body.velocity.setToPolar(b,w),b},moveToObject:function(T,E,P,w){return this.moveTo(T,E.x,E.y,P,w)},velocityFromAngle:function(T,E,P){return E===void 0&&(E=60),P===void 0&&(P=new p),P.setToPolar(y(T),E)},velocityFromRotation:function(T,E,P){return E===void 0&&(E=60),P===void 0&&(P=new p),P.setToPolar(T,E)},overlapRect:function(T,E,P,w,R,b){return a(this.world,T,E,P,w,R,b)},overlapCirc:function(T,E,P,w,R){return u(this.world,T,E,P,w,R)},shutdown:function(){if(this.world){var T=this.systems.events;T.off(c.UPDATE,this.world.update,this.world),T.off(c.POST_UPDATE,this.world.postUpdate,this.world),T.off(c.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",m,"arcadePhysics"),C.exports=m},13759:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(92209),f=s(68287),l=new g({Extends:f,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:function(r,o,u,a,d){f.call(this,r,o,u,a,d),this.body=null}});C.exports=l},37742:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(78389),f=s(37747),l=s(63012),h=s(43396),r=s(87841),o=s(37303),u=s(95829),a=s(26099),d=new g({Mixins:[y],initialize:function(p,v){var m=64,T=64,E={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=v!==void 0;P&&v.displayWidth&&(m=v.displayWidth,T=v.displayHeight),P||(v=E),this.world=p,this.gameObject=P?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=p.defaults.debugShowBody,this.debugShowVelocity=p.defaults.debugShowVelocity,this.debugBodyColor=p.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=m,this.height=T,this.sourceWidth=m,this.sourceHeight=T,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(T/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new a,this.newVelocity=new a,this.deltaMax=new a,this.acceleration=new a,this.allowDrag=!0,this.drag=new a,this.allowGravity=!0,this.gravity=new a,this.bounce=new a,this.worldBounce=null,this.customBoundsRectangle=p.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new a(1e4,1e4),this.maxSpeed=-1,this.friction=new a(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new a(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=u(!1),this.touching=u(!0),this.wasTouching=u(!0),this.blocked=u(!0),this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new r,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var c=this.gameObject,p=this.transform;if(c.parentContainer){var v=c.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);p.x=v.tx,p.y=v.ty,p.rotation=h(v.rotation),p.scaleX=v.scaleX,p.scaleY=v.scaleY,p.displayOriginX=c.displayOriginX,p.displayOriginY=c.displayOriginY}else p.x=c.x,p.y=c.y,p.rotation=c.angle,p.scaleX=c.scaleX,p.scaleY=c.scaleY,p.displayOriginX=c.displayOriginX,p.displayOriginY=c.displayOriginY;var m=!1;if(this.syncBounds){var T=c.getBounds(this._bounds);this.width=T.width,this.height=T.height,m=!0}else{var E=Math.abs(p.scaleX),P=Math.abs(p.scaleY);(this._sx!==E||this._sy!==P)&&(this.width=this.sourceWidth*E,this.height=this.sourceHeight*P,this._sx=E,this._sy=P,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var c=this.transform;this.position.x=c.x+c.scaleX*(this.offset.x-c.displayOriginX),this.position.y=c.y+c.scaleY*(this.offset.y-c.displayOriginY),this.updateCenter()},resetFlags:function(c){c===void 0&&(c=!1);var p=this.wasTouching,v=this.touching,m=this.blocked;c?u(!0,p):(p.none=v.none,p.up=v.up,p.down=v.down,p.left=v.left,p.right=v.right),u(!0,v),u(!0,m),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(c,p){if(c&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}c&&this.update(p)},update:function(c){var p=this.prev,v=this.position,m=this.velocity;if(p.set(v.x,v.y),!this.moves){this._dx=v.x-p.x,this._dy=v.y-p.y;return}if(this.directControl){var T=this.autoFrame;m.set((v.x-T.x)/c,(v.y-T.y)/c),this.world.updateMotion(this,c),this._dx=v.x-T.x,this._dy=v.y-T.y}else this.world.updateMotion(this,c),this.newVelocity.set(m.x*c,m.y*c),v.add(this.newVelocity),this._dx=v.x-p.x,this._dy=v.y-p.y;var E=m.x,P=m.y;if(this.updateCenter(),this.angle=Math.atan2(P,E),this.speed=Math.sqrt(E*E+P*P),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var w=this.blocked;this.world.emit(l.WORLD_BOUNDS,this,w.up,w.down,w.left,w.right)}},postUpdate:function(){var c=this.position,p=c.x-this.prevFrame.x,v=c.y-this.prevFrame.y,m=this.gameObject;if(this.moves){var T=this.deltaMax.x,E=this.deltaMax.y;T!==0&&p!==0&&(p<0&&p<-T?p=-T:p>0&&p>T&&(p=T)),E!==0&&v!==0&&(v<0&&v<-E?v=-E:v>0&&v>E&&(v=E)),m&&(m.x+=p,m.y+=v)}p<0?this.facing=f.FACING_LEFT:p>0&&(this.facing=f.FACING_RIGHT),v<0?this.facing=f.FACING_UP:v>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&m&&(m.angle+=this.deltaZ()),this._tx=p,this._ty=v,this.autoFrame.set(c.x,c.y)},setBoundsRectangle:function(c){return this.customBoundsRectangle=c||this.world.bounds,this},checkWorldBounds:function(){var c=this.position,p=this.velocity,v=this.blocked,m=this.customBoundsRectangle,T=this.world.checkCollision,E=this.worldBounce?-this.worldBounce.x:-this.bounce.x,P=this.worldBounce?-this.worldBounce.y:-this.bounce.y,w=!1;return c.x<m.x&&T.left?(c.x=m.x,p.x*=E,v.left=!0,w=!0):this.right>m.right&&T.right&&(c.x=m.right-this.width,p.x*=E,v.right=!0,w=!0),c.y<m.y&&T.up?(c.y=m.y,p.y*=P,v.up=!0,w=!0):this.bottom>m.bottom&&T.down&&(c.y=m.bottom-this.height,p.y*=P,v.down=!0,w=!0),w&&(this.blocked.none=!1,this.updateCenter()),w},setOffset:function(c,p){return p===void 0&&(p=c),this.offset.set(c,p),this},setGameObject:function(c,p){if(p===void 0&&(p=!0),!c||!c.hasTransformComponent)return this;var v=this.world;return this.gameObject&&this.gameObject.body&&(v.disable(this.gameObject),this.gameObject.body=null),c.body&&v.disable(c),this.gameObject=c,c.body=this,this.setSize(),this.enable=p,this},setSize:function(c,p,v){v===void 0&&(v=!0);var m=this.gameObject;if(m&&(!c&&m.frame&&(c=m.frame.realWidth),!p&&m.frame&&(p=m.frame.realHeight)),this.sourceWidth=c,this.sourceHeight=p,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&m&&m.getCenter){var T=(m.width-c)/2,E=(m.height-p)/2;this.offset.set(T,E)}return this.isCircle=!1,this.radius=0,this},setCircle:function(c,p,v){return p===void 0&&(p=this.offset.x),v===void 0&&(v=this.offset.y),c>0?(this.isCircle=!0,this.radius=c,this.sourceWidth=c*2,this.sourceHeight=c*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(p,v),this.updateCenter()):this.isCircle=!1,this},reset:function(c,p){this.stop();var v=this.gameObject;v&&(v.setPosition(c,p),this.rotation=v.angle,this.preRotation=v.angle);var m=this.position;v&&v.getTopLeft?v.getTopLeft(m):m.set(c,p),this.prev.copy(m),this.prevFrame.copy(m),this.autoFrame.copy(m),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(c){return c.x=this.x,c.y=this.y,c.right=this.right,c.bottom=this.bottom,c},hitTest:function(c,p){if(!this.isCircle)return o(this,c,p);if(this.radius>0&&c>=this.left&&c<=this.right&&p>=this.top&&p<=this.bottom){var v=(this.center.x-c)*(this.center.x-c),m=(this.center.y-p)*(this.center.y-p);return v+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(c){var p=this.position,v=p.x+this.halfWidth,m=p.y+this.halfHeight;this.debugShowBody&&(c.lineStyle(c.defaultStrokeWidth,this.debugBodyColor),this.isCircle?c.strokeCircle(v,m,this.width/2):(this.checkCollision.up&&c.lineBetween(p.x,p.y,p.x+this.width,p.y),this.checkCollision.right&&c.lineBetween(p.x+this.width,p.y,p.x+this.width,p.y+this.height),this.checkCollision.down&&c.lineBetween(p.x,p.y+this.height,p.x+this.width,p.y+this.height),this.checkCollision.left&&c.lineBetween(p.x,p.y,p.x,p.y+this.height))),this.debugShowVelocity&&(c.lineStyle(c.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),c.lineBetween(v,m,v+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(c){return c===void 0&&(c=!0),this.directControl=c,this},setCollideWorldBounds:function(c,p,v,m){c===void 0&&(c=!0),this.collideWorldBounds=c;var T=p!==void 0,E=v!==void 0;return(T||E)&&(this.worldBounce||(this.worldBounce=new a),T&&(this.worldBounce.x=p),E&&(this.worldBounce.y=v)),m!==void 0&&(this.onWorldBounds=m),this},setVelocity:function(c,p){return this.velocity.set(c,p),c=this.velocity.x,p=this.velocity.y,this.speed=Math.sqrt(c*c+p*p),this},setVelocityX:function(c){return this.setVelocity(c,this.velocity.y)},setVelocityY:function(c){return this.setVelocity(this.velocity.x,c)},setMaxVelocity:function(c,p){return this.maxVelocity.set(c,p),this},setMaxVelocityX:function(c){return this.maxVelocity.x=c,this},setMaxVelocityY:function(c){return this.maxVelocity.y=c,this},setMaxSpeed:function(c){return this.maxSpeed=c,this},setSlideFactor:function(c,p){return this.slideFactor.set(c,p),this},setBounce:function(c,p){return this.bounce.set(c,p),this},setBounceX:function(c){return this.bounce.x=c,this},setBounceY:function(c){return this.bounce.y=c,this},setAcceleration:function(c,p){return this.acceleration.set(c,p),this},setAccelerationX:function(c){return this.acceleration.x=c,this},setAccelerationY:function(c){return this.acceleration.y=c,this},setAllowDrag:function(c){return c===void 0&&(c=!0),this.allowDrag=c,this},setAllowGravity:function(c){return c===void 0&&(c=!0),this.allowGravity=c,this},setAllowRotation:function(c){return c===void 0&&(c=!0),this.allowRotation=c,this},setDrag:function(c,p){return this.drag.set(c,p),this},setDamping:function(c){return this.useDamping=c,this},setDragX:function(c){return this.drag.x=c,this},setDragY:function(c){return this.drag.y=c,this},setGravity:function(c,p){return this.gravity.set(c,p),this},setGravityX:function(c){return this.gravity.x=c,this},setGravityY:function(c){return this.gravity.y=c,this},setFriction:function(c,p){return this.friction.set(c,p),this},setFrictionX:function(c){return this.friction.x=c,this},setFrictionY:function(c){return this.friction.y=c,this},setAngularVelocity:function(c){return this.angularVelocity=c,this},setAngularAcceleration:function(c){return this.angularAcceleration=c,this},setAngularDrag:function(c){return this.angularDrag=c,this},setMass:function(c){return this.mass=c,this},setImmovable:function(c){return c===void 0&&(c=!0),this.immovable=c,this},setEnable:function(c){return c===void 0&&(c=!0),this.enable=c,this},processX:function(c,p,v,m){this.x+=c,this.updateCenter(),p!==null&&(this.velocity.x=p*this.slideFactor.x);var T=this.blocked;v&&(T.left=!0,T.none=!1),m&&(T.right=!0,T.none=!1)},processY:function(c,p,v,m){this.y+=c,this.updateCenter(),p!==null&&(this.velocity.y=p*this.slideFactor.y);var T=this.blocked;v&&(T.up=!0,T.none=!1),m&&(T.down=!0,T.none=!1)},x:{get:function(){return this.position.x},set:function(c){this.position.x=c}},y:{get:function(){return this.position.y},set:function(c){this.position.y=c}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});C.exports=d},79342:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r,o,u,a,d){this.world=l,this.name="",this.active=!0,this.overlapOnly=h,this.object1=r,this.object2=o,this.collideCallback=u,this.processCallback=a,this.callbackContext=d},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});C.exports=y},66022:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(71289),y=s(13759),f=s(37742),l=s(83419),h=s(37747),r=s(60758),o=s(72624),u=s(71464),a=new l({initialize:function(c){this.world=c,this.scene=c.scene,this.sys=c.scene.sys},collider:function(d,c,p,v,m){return this.world.addCollider(d,c,p,v,m)},overlap:function(d,c,p,v,m){return this.world.addOverlap(d,c,p,v,m)},existing:function(d,c){var p=c?h.STATIC_BODY:h.DYNAMIC_BODY;return this.world.enableBody(d,p),d},staticImage:function(d,c,p,v){var m=new g(this.scene,d,c,p,v);return this.sys.displayList.add(m),this.world.enableBody(m,h.STATIC_BODY),m},image:function(d,c,p,v){var m=new g(this.scene,d,c,p,v);return this.sys.displayList.add(m),this.world.enableBody(m,h.DYNAMIC_BODY),m},staticSprite:function(d,c,p,v){var m=new y(this.scene,d,c,p,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,h.STATIC_BODY),m},sprite:function(d,c,p,v){var m=new y(this.scene,d,c,p,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,h.DYNAMIC_BODY),m},staticGroup:function(d,c){return this.sys.updateList.add(new u(this.world,this.world.scene,d,c))},group:function(d,c){return this.sys.updateList.add(new r(this.world,this.world.scene,d,c))},body:function(d,c,p,v){var m=new f(this.world);return m.position.set(d,c),p&&v&&m.setSize(p,v),this.world.add(m,h.DYNAMIC_BODY),m},staticBody:function(d,c,p,v){var m=new o(this.world);return m.position.set(d,c),p&&v&&m.setSize(p,v),this.world.add(m,h.STATIC_BODY),m},destroy:function(){this.world=null,this.scene=null,this.sys=null}});C.exports=a},79599:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=0;if(!Array.isArray(s))g=s;else for(var y=0;y<s.length;y++)g|=s[y];return g};C.exports=A},64897:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37747),y=function(f,l,h,r){var o=0,u=f.deltaAbsX()+l.deltaAbsX()+r;return f._dx===0&&l._dx===0?(f.embedded=!0,l.embedded=!0):f._dx>l._dx?(o=f.right-l.x,o>u&&!h||f.checkCollision.right===!1||l.checkCollision.left===!1?o=0:(f.touching.none=!1,f.touching.right=!0,l.touching.none=!1,l.touching.left=!0,l.physicsType===g.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===g.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.left=!0))):f._dx<l._dx&&(o=f.x-l.width-l.x,-o>u&&!h||f.checkCollision.left===!1||l.checkCollision.right===!1?o=0:(f.touching.none=!1,f.touching.left=!0,l.touching.none=!1,l.touching.right=!0,l.physicsType===g.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===g.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.right=!0))),f.overlapX=o,l.overlapX=o,o};C.exports=y},45170:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37747),y=function(f,l,h,r){var o=0,u=f.deltaAbsY()+l.deltaAbsY()+r;return f._dy===0&&l._dy===0?(f.embedded=!0,l.embedded=!0):f._dy>l._dy?(o=f.bottom-l.y,o>u&&!h||f.checkCollision.down===!1||l.checkCollision.up===!1?o=0:(f.touching.none=!1,f.touching.down=!0,l.touching.none=!1,l.touching.up=!0,l.physicsType===g.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===g.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.up=!0))):f._dy<l._dy&&(o=f.y-l.bottom,-o>u&&!h||f.checkCollision.up===!1||l.checkCollision.down===!1?o=0:(f.touching.none=!1,f.touching.up=!0,l.touching.none=!1,l.touching.down=!0,l.physicsType===g.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===g.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.down=!0))),f.overlapY=o,l.overlapY=o,o};C.exports=y},60758:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13759),y=s(83419),f=s(78389),l=s(37747),h=s(95540),r=s(26479),o=s(41212),u=new y({Extends:r,Mixins:[f],initialize:function(d,c,p,v){if(!p&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(o(p))v=p,p=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(p)&&o(p[0])){var m=this;p.forEach(function(T){T.internalCreateCallback=m.createCallbackHandler,T.internalRemoveCallback=m.removeCallbackHandler,T.classType=h(T,"classType",g)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=d,v&&(v.classType=h(v,"classType",g)),this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:h(v,"collideWorldBounds",!1),setBoundsRectangle:h(v,"customBoundsRectangle",null),setAccelerationX:h(v,"accelerationX",0),setAccelerationY:h(v,"accelerationY",0),setAllowDrag:h(v,"allowDrag",!0),setAllowGravity:h(v,"allowGravity",!0),setAllowRotation:h(v,"allowRotation",!0),setDamping:h(v,"useDamping",!1),setBounceX:h(v,"bounceX",0),setBounceY:h(v,"bounceY",0),setDragX:h(v,"dragX",0),setDragY:h(v,"dragY",0),setEnable:h(v,"enable",!0),setGravityX:h(v,"gravityX",0),setGravityY:h(v,"gravityY",0),setFrictionX:h(v,"frictionX",0),setFrictionY:h(v,"frictionY",0),setMaxSpeed:h(v,"maxSpeed",-1),setMaxVelocityX:h(v,"maxVelocityX",1e4),setMaxVelocityY:h(v,"maxVelocityY",1e4),setVelocityX:h(v,"velocityX",0),setVelocityY:h(v,"velocityY",0),setAngularVelocity:h(v,"angularVelocity",0),setAngularAcceleration:h(v,"angularAcceleration",0),setAngularDrag:h(v,"angularDrag",0),setMass:h(v,"mass",1),setImmovable:h(v,"immovable",!1)},r.call(this,c,p,v),this.type="PhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,l.DYNAMIC_BODY);var d=a.body;for(var c in this.defaults)d[c](this.defaults[c])},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},setVelocity:function(a,d,c){c===void 0&&(c=0);for(var p=this.getChildren(),v=0;v<p.length;v++)p[v].body.velocity.set(a+v*c,d+v*c);return this},setVelocityX:function(a,d){d===void 0&&(d=0);for(var c=this.getChildren(),p=0;p<c.length;p++)c[p].body.velocity.x=a+p*d;return this},setVelocityY:function(a,d){d===void 0&&(d=0);for(var c=this.getChildren(),p=0;p<c.length;p++)c[p].body.velocity.y=a+p*d;return this}});C.exports=u},3017:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A,s,g,y,f,l,h,r,o,u,a,d,c,p,v,m,T,E=function(I,D,B){A=I,s=D;var k=A.velocity.x,z=s.velocity.x;return g=A.pushable,o=A._dx<0,u=A._dx>0,a=A._dx===0,v=Math.abs(A.right-s.x)<=Math.abs(s.right-A.x),h=z-k*A.bounce.x,y=s.pushable,d=s._dx<0,c=s._dx>0,p=s._dx===0,m=!v,r=k-z*s.bounce.x,T=Math.abs(B),P()},P=function(){return u&&v&&s.blocked.right?(A.processX(-T,h,!1,!0),1):o&&m&&s.blocked.left?(A.processX(T,h,!0),1):c&&m&&A.blocked.right?(s.processX(-T,r,!1,!0),2):d&&v&&A.blocked.left?(s.processX(T,r,!0),2):0},w=function(){var I=A.velocity.x,D=s.velocity.x,B=Math.sqrt(D*D*s.mass/A.mass)*(D>0?1:-1),k=Math.sqrt(I*I*A.mass/s.mass)*(I>0?1:-1),z=(B+k)*.5;return B-=z,k-=z,f=z+B*A.bounce.x,l=z+k*s.bounce.x,o&&m?R(0):d&&v?R(1):u&&v?R(2):c&&m?R(3):!1},R=function(I){if(g&&y)T*=.5,I===0||I===3?(A.processX(T,f),s.processX(-T,l)):(A.processX(-T,f),s.processX(T,l));else if(g&&!y)I===0||I===3?A.processX(T,h,!0):A.processX(-T,h,!1,!0);else if(!g&&y)I===0||I===3?s.processX(-T,r,!1,!0):s.processX(T,r,!0);else{var D=T*.5;I===0?p?(A.processX(T,0,!0),s.processX(0,null,!1,!0)):c?(A.processX(D,0,!0),s.processX(-D,0,!1,!0)):(A.processX(D,s.velocity.x,!0),s.processX(-D,null,!1,!0)):I===1?a?(A.processX(0,null,!1,!0),s.processX(T,0,!0)):u?(A.processX(-D,0,!1,!0),s.processX(D,0,!0)):(A.processX(-D,null,!1,!0),s.processX(D,A.velocity.x,!0)):I===2?p?(A.processX(-T,0,!1,!0),s.processX(0,null,!0)):d?(A.processX(-D,0,!1,!0),s.processX(D,0,!0)):(A.processX(-D,s.velocity.x,!1,!0),s.processX(D,null,!0)):I===3&&(a?(A.processX(0,null,!0),s.processX(-T,0,!1,!0)):o?(A.processX(D,0,!0),s.processX(-D,0,!1,!0)):(A.processX(D,s.velocity.y,!0),s.processX(-D,null,!1,!0)))}return!0},b=function(I){if(I===1?s.velocity.x=0:v?s.processX(T,r,!0):s.processX(-T,r,!1,!0),A.moves){var D=A.directControl?A.y-A.autoFrame.y:A.y-A.prev.y;s.y+=D*A.friction.y,s._dy=s.y-s.prev.y}},O=function(I){if(I===2?A.velocity.x=0:m?A.processX(T,h,!0):A.processX(-T,h,!1,!0),s.moves){var D=s.directControl?s.y-s.autoFrame.y:s.y-s.prev.y;A.y+=D*s.friction.y,A._dy=A.y-A.prev.y}};C.exports={BlockCheck:P,Check:w,Set:E,Run:R,RunImmovableBody1:b,RunImmovableBody2:O}},47962:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A,s,g,y,f,l,h,r,o,u,a,d,c,p,v,m,T,E=function(I,D,B){A=I,s=D;var k=A.velocity.y,z=s.velocity.y;return g=A.pushable,o=A._dy<0,u=A._dy>0,a=A._dy===0,v=Math.abs(A.bottom-s.y)<=Math.abs(s.bottom-A.y),h=z-k*A.bounce.y,y=s.pushable,d=s._dy<0,c=s._dy>0,p=s._dy===0,m=!v,r=k-z*s.bounce.y,T=Math.abs(B),P()},P=function(){return u&&v&&s.blocked.down?(A.processY(-T,h,!1,!0),1):o&&m&&s.blocked.up?(A.processY(T,h,!0),1):c&&m&&A.blocked.down?(s.processY(-T,r,!1,!0),2):d&&v&&A.blocked.up?(s.processY(T,r,!0),2):0},w=function(){var I=A.velocity.y,D=s.velocity.y,B=Math.sqrt(D*D*s.mass/A.mass)*(D>0?1:-1),k=Math.sqrt(I*I*A.mass/s.mass)*(I>0?1:-1),z=(B+k)*.5;return B-=z,k-=z,f=z+B*A.bounce.y,l=z+k*s.bounce.y,o&&m?R(0):d&&v?R(1):u&&v?R(2):c&&m?R(3):!1},R=function(I){if(g&&y)T*=.5,I===0||I===3?(A.processY(T,f),s.processY(-T,l)):(A.processY(-T,f),s.processY(T,l));else if(g&&!y)I===0||I===3?A.processY(T,h,!0):A.processY(-T,h,!1,!0);else if(!g&&y)I===0||I===3?s.processY(-T,r,!1,!0):s.processY(T,r,!0);else{var D=T*.5;I===0?p?(A.processY(T,0,!0),s.processY(0,null,!1,!0)):c?(A.processY(D,0,!0),s.processY(-D,0,!1,!0)):(A.processY(D,s.velocity.y,!0),s.processY(-D,null,!1,!0)):I===1?a?(A.processY(0,null,!1,!0),s.processY(T,0,!0)):u?(A.processY(-D,0,!1,!0),s.processY(D,0,!0)):(A.processY(-D,null,!1,!0),s.processY(D,A.velocity.y,!0)):I===2?p?(A.processY(-T,0,!1,!0),s.processY(0,null,!0)):d?(A.processY(-D,0,!1,!0),s.processY(D,0,!0)):(A.processY(-D,s.velocity.y,!1,!0),s.processY(D,null,!0)):I===3&&(a?(A.processY(0,null,!0),s.processY(-T,0,!1,!0)):o?(A.processY(D,0,!0),s.processY(-D,0,!1,!0)):(A.processY(D,s.velocity.y,!0),s.processY(-D,null,!1,!0)))}return!0},b=function(I){if(I===1?s.velocity.y=0:v?s.processY(T,r,!0):s.processY(-T,r,!1,!0),A.moves){var D=A.directControl?A.x-A.autoFrame.x:A.x-A.prev.x;s.x+=D*A.friction.x,s._dx=s.x-s.prev.x}},O=function(I){if(I===2?A.velocity.y=0:m?A.processY(T,h,!0):A.processY(-T,h,!1,!0),s.moves){var D=s.directControl?s.x-s.autoFrame.x:s.x-s.prev.x;A.x+=D*s.friction.x,A._dx=A.x-A.prev.x}};C.exports={BlockCheck:P,Check:w,Set:E,Run:R,RunImmovableBody1:b,RunImmovableBody2:O}},14087:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(64897),y=s(3017),f=function(l,h,r,o,u){u===void 0&&(u=g(l,h,r,o));var a=l.immovable,d=h.immovable;if(r||u===0||a&&d||l.customSeparateX||h.customSeparateX)return u!==0||l.embedded&&h.embedded;var c=y.Set(l,h,u);return!a&&!d?c>0?!0:y.Check():(a?y.RunImmovableBody1(c):d&&y.RunImmovableBody2(c),!0)};C.exports=f},89936:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45170),y=s(47962),f=function(l,h,r,o,u){u===void 0&&(u=g(l,h,r,o));var a=l.immovable,d=h.immovable;if(r||u===0||a&&d||l.customSeparateY||h.customSeparateY)return u!==0||l.embedded&&h.embedded;var c=y.Set(l,h,u);return!a&&!d?c>0?!0:y.Check():(a?y.RunImmovableBody1(c):d&&y.RunImmovableBody2(c),!0)};C.exports=f},95829:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===void 0&&(g={}),g.none=s,g.up=!1,g.down=!1,g.left=!1,g.right=!1,s||(g.up=!0,g.down=!0,g.left=!0,g.right=!0),g};C.exports=A},72624:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87902),y=s(83419),f=s(78389),l=s(37747),h=s(37303),r=s(95829),o=s(26099),u=new y({Mixins:[f],initialize:function(d,c){var p=64,v=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=c!==void 0;T&&c.displayWidth&&(p=c.displayWidth,v=c.displayHeight),T||(c=m),this.world=d,this.gameObject=T?c:void 0,this.isBody=!0,this.debugShowBody=d.defaults.debugShowStaticBody,this.debugBodyColor=d.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new o,this.position=new o(c.x-p*c.originX,c.y-v*c.originY),this.width=p,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new o(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=o.ZERO,this.allowGravity=!1,this.gravity=o.ZERO,this.bounce=o.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=r(!1),this.touching=r(!0),this.wasTouching=r(!0),this.blocked=r(!0),this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(a,d,c){if(d===void 0&&(d=!0),c===void 0&&(c=!0),!a||!a.hasTransformComponent)return this;var p=this.world;return this.gameObject&&this.gameObject.body&&(p.disable(this.gameObject),this.gameObject.body=null),a.body&&p.disable(a),this.gameObject=a,a.body=this,this.setSize(),d&&this.updateFromGameObject(),this.enable=c,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var a=this.gameObject;return a.getTopLeft(this.position),this.width=a.displayWidth,this.height=a.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(a,d){return d===void 0&&(d=a),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(a,d),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(a,d,c){c===void 0&&(c=!0);var p=this.gameObject;if(p&&p.frame&&(a||(a=p.frame.realWidth),d||(d=p.frame.realHeight)),this.world.staticTree.remove(this),this.width=a,this.height=d,this.halfWidth=Math.floor(a/2),this.halfHeight=Math.floor(d/2),c&&p&&p.getCenter){var v=p.displayWidth/2,m=p.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(a,d,c){return d===void 0&&(d=this.offset.x),c===void 0&&(c=this.offset.y),a>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=a,this.width=a*2,this.height=a*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,c),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(a,d){var c=this.gameObject;a===void 0&&(a=c.x),d===void 0&&(d=c.y),this.world.staticTree.remove(this),c.setPosition(a,d),c.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,d){return this.isCircle?g(this,a,d):h(this,a,d)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(a){var d=this.position,c=d.x+this.halfWidth,p=d.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?a.strokeCircle(c,p,this.width/2):a.strokeRect(d.x,d.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(a){return a<=0&&(a=.1),this.mass=a,this},x:{get:function(){return this.position.x},set:function(a){this.world.staticTree.remove(this),this.position.x=a,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(a){this.world.staticTree.remove(this),this.position.y=a,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});C.exports=u},71464:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13759),y=s(83419),f=s(78389),l=s(37747),h=s(95540),r=s(26479),o=s(41212),u=new y({Extends:r,Mixins:[f],initialize:function(d,c,p,v){!p&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:g}:o(p)?(v=p,p=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=h(v,"classType",g)):Array.isArray(p)&&o(p[0])?(v=p,p=null,v.forEach(function(m){m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=h(m,"classType",g)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=d,this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,r.call(this,c,p,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,l.STATIC_BODY)},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var a=this.children.entries,d=0;d<a.length;d++)a[d].body.reset();return this}});C.exports=u},82248:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(55495),y=s(37742),f=s(45319),l=s(83419),h=s(79342),r=s(37747),o=s(20339),u=s(52816),a=s(50792),d=s(63012),c=s(43855),p=s(5470),v=s(94977),m=s(64897),T=s(45170),E=s(96523),P=s(35154),w=s(36383),R=s(25774),b=s(96602),O=s(87841),I=s(59542),D=s(40012),B=s(14087),k=s(89936),z=s(35072),X=s(72624),K=s(2483),H=s(61340),Q=s(26099),W=s(15994),Y=new l({Extends:a,initialize:function(Z,U){a.call(this),this.scene=Z,this.bodies=new z,this.staticBodies=new z,this.pendingDestroy=new z,this.colliders=new R,this.gravity=new Q(P(U,"gravity.x",0),P(U,"gravity.y",0)),this.bounds=new O(P(U,"x",0),P(U,"y",0),P(U,"width",Z.sys.scale.width),P(U,"height",Z.sys.scale.height)),this.checkCollision={up:P(U,"checkCollision.up",!0),down:P(U,"checkCollision.down",!0),left:P(U,"checkCollision.left",!0),right:P(U,"checkCollision.right",!0)},this.fps=P(U,"fps",60),this.fixedStep=P(U,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=P(U,"timeScale",1),this.OVERLAP_BIAS=P(U,"overlapBias",4),this.TILE_BIAS=P(U,"tileBias",16),this.forceX=P(U,"forceX",!1),this.isPaused=P(U,"isPaused",!1),this._total=0,this.drawDebug=P(U,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:P(U,"debugShowBody",!0),debugShowStaticBody:P(U,"debugShowStaticBody",!0),debugShowVelocity:P(U,"debugShowVelocity",!0),bodyDebugColor:P(U,"debugBodyColor",16711935),staticBodyDebugColor:P(U,"debugStaticBodyColor",255),velocityDebugColor:P(U,"debugVelocityColor",65280)},this.maxEntries=P(U,"maxEntries",16),this.useTree=P(U,"useTree",!0),this.tree=new I(this.maxEntries),this.staticTree=new I(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H,this._tempMatrix2=new H,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(N,Z){Z===void 0&&(Z=r.DYNAMIC_BODY),Array.isArray(N)||(N=[N]);for(var U=0;U<N.length;U++){var j=N[U];if(j.isParent)for(var et=j.getChildren(),it=0;it<et.length;it++){var rt=et[it];rt.isParent?this.enable(rt,Z):this.enableBody(rt,Z)}else this.enableBody(j,Z)}},enableBody:function(N,Z){return Z===void 0&&(Z=r.DYNAMIC_BODY),N.hasTransformComponent&&(N.body||(Z===r.DYNAMIC_BODY?N.body=new y(this,N):Z===r.STATIC_BODY&&(N.body=new X(this,N))),this.add(N.body)),N},add:function(N){return N.physicsType===r.DYNAMIC_BODY?this.bodies.set(N):N.physicsType===r.STATIC_BODY&&(this.staticBodies.set(N),this.staticTree.insert(N)),N.enable=!0,N},disable:function(N){Array.isArray(N)||(N=[N]);for(var Z=0;Z<N.length;Z++){var U=N[Z];if(U.isParent)for(var j=U.getChildren(),et=0;et<j.length;et++){var it=j[et];it.isParent?this.disable(it):this.disableBody(it.body)}else this.disableBody(U.body)}},disableBody:function(N){this.remove(N),N.enable=!1},remove:function(N){N.physicsType===r.DYNAMIC_BODY?(this.tree.remove(N),this.bodies.delete(N)):N.physicsType===r.STATIC_BODY&&(this.staticBodies.delete(N),this.staticTree.remove(N))},createDebugGraphic:function(){var N=this.scene.sys.add.graphics({x:0,y:0});return N.setDepth(Number.MAX_VALUE),this.debugGraphic=N,this.drawDebug=!0,N},setBounds:function(N,Z,U,j,et,it,rt,lt){return this.bounds.setTo(N,Z,U,j),et!==void 0&&this.setBoundsCollision(et,it,rt,lt),this},setBoundsCollision:function(N,Z,U,j){return N===void 0&&(N=!0),Z===void 0&&(Z=!0),U===void 0&&(U=!0),j===void 0&&(j=!0),this.checkCollision.left=N,this.checkCollision.right=Z,this.checkCollision.up=U,this.checkCollision.down=j,this},pause:function(){return this.isPaused=!0,this.emit(d.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(d.RESUME),this},addCollider:function(N,Z,U,j,et){U===void 0&&(U=null),j===void 0&&(j=null),et===void 0&&(et=U);var it=new h(this,!1,N,Z,U,j,et);return this.colliders.add(it),it},addOverlap:function(N,Z,U,j,et){U===void 0&&(U=null),j===void 0&&(j=null),et===void 0&&(et=U);var it=new h(this,!0,N,Z,U,j,et);return this.colliders.add(it),it},removeCollider:function(N){return this.colliders.remove(N),this},setFPS:function(N){return this.fps=N,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(N,Z){if(!(this.isPaused||this.bodies.size===0)){var U,j=this._frameTime,et=this._frameTimeMS*this.timeScale;this._elapsed+=Z;var it,rt=this.bodies.entries,lt=this._elapsed>=et;for(this.fixedStep||(j=Z*.001,lt=!0,this._elapsed=0),U=0;U<rt.length;U++)it=rt[U],it.enable&&it.preUpdate(lt,j);if(lt){this._elapsed-=et,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(rt));var ft=this.colliders.update();for(U=0;U<ft.length;U++){var pt=ft[U];pt.active&&pt.update()}this.emit(d.WORLD_STEP,j)}for(;this._elapsed>=et;)this._elapsed-=et,this.step(j)}},step:function(N){var Z,U,j=this.bodies.entries,et=j.length;for(Z=0;Z<et;Z++)U=j[Z],U.enable&&U.update(N);this.useTree&&(this.tree.clear(),this.tree.load(j));var it=this.colliders.update();for(Z=0;Z<it.length;Z++){var rt=it[Z];rt.active&&rt.update()}this.emit(d.WORLD_STEP,N),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var N,Z,U=this.bodies.entries,j=U.length,et=this.bodies,it=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,N=0;N<j;N++)Z=U[N],Z.enable&&Z.postUpdate();if(this.drawDebug){var rt=this.debugGraphic;for(rt.clear(),N=0;N<j;N++)Z=U[N],Z.willDrawDebug()&&Z.drawDebug(rt);for(U=it.entries,j=U.length,N=0;N<j;N++)Z=U[N],Z.willDrawDebug()&&Z.drawDebug(rt)}var lt=this.pendingDestroy;if(lt.size>0){var ft=this.tree,pt=this.staticTree;for(U=lt.entries,j=U.length,N=0;N<j;N++)Z=U[N],Z.physicsType===r.DYNAMIC_BODY?(ft.remove(Z),et.delete(Z)):Z.physicsType===r.STATIC_BODY&&(pt.remove(Z),it.delete(Z)),Z.world=void 0,Z.gameObject=void 0;lt.clear()}},updateMotion:function(N,Z){N.allowRotation&&this.computeAngularVelocity(N,Z),this.computeVelocity(N,Z)},computeAngularVelocity:function(N,Z){var U=N.angularVelocity,j=N.angularAcceleration,et=N.angularDrag,it=N.maxAngular;j?U+=j*Z:N.allowDrag&&et&&(et*=Z,p(U-et,0,.1)?U-=et:v(U+et,0,.1)?U+=et:U=0),U=f(U,-it,it);var rt=U-N.angularVelocity;N.angularVelocity+=rt,N.rotation+=N.angularVelocity*Z},computeVelocity:function(N,Z){var U=N.velocity.x,j=N.acceleration.x,et=N.drag.x,it=N.maxVelocity.x,rt=N.velocity.y,lt=N.acceleration.y,ft=N.drag.y,pt=N.maxVelocity.y,vt=N.speed,xt=N.maxSpeed,yt=N.allowDrag,Ct=N.useDamping;N.allowGravity&&(U+=(this.gravity.x+N.gravity.x)*Z,rt+=(this.gravity.y+N.gravity.y)*Z),j?U+=j*Z:yt&&et&&(Ct?(et=Math.pow(et,Z),U*=et,vt=Math.sqrt(U*U+rt*rt),c(vt,0,.001)&&(U=0)):(et*=Z,p(U-et,0,.01)?U-=et:v(U+et,0,.01)?U+=et:U=0)),lt?rt+=lt*Z:yt&&ft&&(Ct?(ft=Math.pow(ft,Z),rt*=ft,vt=Math.sqrt(U*U+rt*rt),c(vt,0,.001)&&(rt=0)):(ft*=Z,p(rt-ft,0,.01)?rt-=ft:v(rt+ft,0,.01)?rt+=ft:rt=0)),U=f(U,-it,it),rt=f(rt,-pt,pt),N.velocity.set(U,rt),xt>-1&&N.velocity.length()>xt&&(N.velocity.normalize().scale(xt),vt=xt),N.speed=vt},separate:function(N,Z,U,j,et){var it,rt,lt=!1,ft=!0;if(!N.enable||!Z.enable||N.checkCollision.none||Z.checkCollision.none||!this.intersects(N,Z)||!(N.collisionMask&Z.collisionCategory)||!(Z.collisionMask&N.collisionCategory)||U&&U.call(j,N.gameObject||N,Z.gameObject||Z)===!1)return lt;if(N.isCircle||Z.isCircle){var pt=this.separateCircle(N,Z,et);pt.result?(lt=!0,ft=!1):(it=pt.x,rt=pt.y,ft=!0)}if(ft){var vt=!1,xt=!1,yt=this.OVERLAP_BIAS;et?(vt=B(N,Z,et,yt,it),xt=k(N,Z,et,yt,rt)):this.forceX||Math.abs(this.gravity.y+N.gravity.y)<Math.abs(this.gravity.x+N.gravity.x)?(vt=B(N,Z,et,yt,it),this.intersects(N,Z)&&(xt=k(N,Z,et,yt,rt))):(xt=k(N,Z,et,yt,rt),this.intersects(N,Z)&&(vt=B(N,Z,et,yt,it))),lt=vt||xt}return lt&&(et?(N.onOverlap||Z.onOverlap)&&this.emit(d.OVERLAP,N.gameObject,Z.gameObject,N,Z):(N.onCollide||Z.onCollide)&&this.emit(d.COLLIDE,N.gameObject,Z.gameObject,N,Z)),lt},separateCircle:function(N,Z,U){m(N,Z,!1,0),T(N,Z,!1,0);var j=N.isCircle,et=Z.isCircle,it=N.center,rt=Z.center,lt=N.immovable,ft=Z.immovable,pt=N.velocity,vt=Z.velocity,xt=0,yt=!0;if(j!==et){yt=!1;var Ct=it.x,wt=it.y,Lt=N.halfWidth,bt=Z.position.x,St=Z.position.y,Et=Z.right,Mt=Z.bottom;et&&(Ct=rt.x,wt=rt.y,Lt=Z.halfWidth,bt=N.position.x,St=N.position.y,Et=N.right,Mt=N.bottom),wt<St?Ct<bt?xt=o(Ct,wt,bt,St)-Lt:Ct>Et&&(xt=o(Ct,wt,Et,St)-Lt):wt>Mt&&(Ct<bt?xt=o(Ct,wt,bt,Mt)-Lt:Ct>Et&&(xt=o(Ct,wt,Et,Mt)-Lt)),xt*=-1}else xt=N.halfWidth+Z.halfWidth-u(it,rt);N.overlapR=xt,Z.overlapR=xt;var Vt=g(it,rt),Kt=(xt+w.EPSILON)*Math.cos(Vt),he=(xt+w.EPSILON)*Math.sin(Vt),Jt={overlap:xt,result:!1,x:Kt,y:he};if(U&&(!yt||yt&&xt!==0))return Jt.result=!0,Jt;if(!yt&&xt===0||lt&&ft||N.customSeparateX||Z.customSeparateX)return Jt.x=void 0,Jt.y=void 0,Jt;var Qt=!N.pushable&&!Z.pushable;if(yt){var ce=it.x-rt.x,be=it.y-rt.y,$t=Math.sqrt(Math.pow(ce,2)+Math.pow(be,2)),le=(rt.x-it.x)/$t||0,Gt=(rt.y-it.y)/$t||0,pe=2*(pt.x*le+pt.y*Gt-vt.x*le-vt.y*Gt)/(N.mass+Z.mass);(lt||ft||!N.pushable||!Z.pushable)&&(pe*=2),!lt&&N.pushable&&(pt.x=pt.x-pe/N.mass*le,pt.y=pt.y-pe/N.mass*Gt,pt.multiply(N.bounce)),!ft&&Z.pushable&&(vt.x=vt.x+pe/Z.mass*le,vt.y=vt.y+pe/Z.mass*Gt,vt.multiply(Z.bounce)),!lt&&!ft&&(Kt*=.5,he*=.5),(!lt||N.pushable||Qt)&&(N.x-=Kt,N.y-=he,N.updateCenter()),(!ft||Z.pushable||Qt)&&(Z.x+=Kt,Z.y+=he,Z.updateCenter()),Jt.result=!0}else!lt&&(N.pushable||Qt)&&(N.x-=Kt,N.y-=he,N.updateCenter()),!ft&&(Z.pushable||Qt)&&(Z.x+=Kt,Z.y+=he,Z.updateCenter()),Jt.x=void 0,Jt.y=void 0;return Jt},intersects:function(N,Z){return N===Z?!1:!N.isCircle&&!Z.isCircle?!(N.right<=Z.left||N.bottom<=Z.top||N.left>=Z.right||N.top>=Z.bottom):N.isCircle?Z.isCircle?u(N.center,Z.center)<=N.halfWidth+Z.halfWidth:this.circleBodyIntersects(N,Z):this.circleBodyIntersects(Z,N)},circleBodyIntersects:function(N,Z){var U=f(N.center.x,Z.left,Z.right),j=f(N.center.y,Z.top,Z.bottom),et=(N.center.x-U)*(N.center.x-U),it=(N.center.y-j)*(N.center.y-j);return et+it<=N.halfWidth*N.halfWidth},overlap:function(N,Z,U,j,et){return U===void 0&&(U=null),j===void 0&&(j=null),et===void 0&&(et=U),this.collideObjects(N,Z,U,j,et,!0)},collide:function(N,Z,U,j,et){return U===void 0&&(U=null),j===void 0&&(j=null),et===void 0&&(et=U),this.collideObjects(N,Z,U,j,et,!1)},collideObjects:function(N,Z,U,j,et,it){var rt,lt;N.isParent&&(N.physicsType===void 0||Z===void 0||N===Z)&&(N=N.children.entries),Z&&Z.isParent&&Z.physicsType===void 0&&(Z=Z.children.entries);var ft=Array.isArray(N),pt=Array.isArray(Z);if(this._total=0,!ft&&!pt)this.collideHandler(N,Z,U,j,et,it);else if(!ft&&pt)for(rt=0;rt<Z.length;rt++)this.collideHandler(N,Z[rt],U,j,et,it);else if(ft&&!pt)if(Z)for(rt=0;rt<N.length;rt++)this.collideHandler(N[rt],Z,U,j,et,it);else for(rt=0;rt<N.length;rt++){var vt=N[rt];for(lt=rt+1;lt<N.length;lt++)rt!==lt&&this.collideHandler(vt,N[lt],U,j,et,it)}else for(rt=0;rt<N.length;rt++)for(lt=0;lt<Z.length;lt++)this.collideHandler(N[rt],Z[lt],U,j,et,it);return this._total>0},collideHandler:function(N,Z,U,j,et,it){if(Z===void 0&&N.isParent)return this.collideGroupVsGroup(N,N,U,j,et,it);if(!N||!Z)return!1;if(N.body||N.isBody){if(Z.body||Z.isBody)return this.collideSpriteVsSprite(N,Z,U,j,et,it);if(Z.isParent)return this.collideSpriteVsGroup(N,Z,U,j,et,it);if(Z.isTilemap)return this.collideSpriteVsTilemapLayer(N,Z,U,j,et,it)}else if(N.isParent){if(Z.body||Z.isBody)return this.collideSpriteVsGroup(Z,N,U,j,et,it);if(Z.isParent)return this.collideGroupVsGroup(N,Z,U,j,et,it);if(Z.isTilemap)return this.collideGroupVsTilemapLayer(N,Z,U,j,et,it)}else if(N.isTilemap){if(Z.body||Z.isBody)return this.collideSpriteVsTilemapLayer(Z,N,U,j,et,it);if(Z.isParent)return this.collideGroupVsTilemapLayer(Z,N,U,j,et,it)}},canCollide:function(N,Z){return N&&Z&&(N.collisionMask&Z.collisionCategory)!==0&&(Z.collisionMask&N.collisionCategory)!==0},collideSpriteVsSprite:function(N,Z,U,j,et,it){var rt=N.isBody?N:N.body,lt=Z.isBody?Z:Z.body;return this.canCollide(rt,lt)?(this.separate(rt,lt,j,et,it)&&(U&&U.call(et,N,Z),this._total++),!0):!1},collideSpriteVsGroup:function(N,Z,U,j,et,it){var rt=N.isBody?N:N.body;if(!(Z.getLength()===0||!rt||!rt.enable||rt.checkCollision.none||!this.canCollide(rt,Z))){var lt,ft,pt;if(this.useTree||Z.physicsType===r.STATIC_BODY){var vt=this.treeMinMax;vt.minX=rt.left,vt.minY=rt.top,vt.maxX=rt.right,vt.maxY=rt.bottom;var xt=Z.physicsType===r.DYNAMIC_BODY?this.tree.search(vt):this.staticTree.search(vt);for(ft=xt.length,lt=0;lt<ft;lt++)pt=xt[lt],!(rt===pt||!pt.enable||pt.checkCollision.none||!Z.contains(pt.gameObject))&&this.separate(rt,pt,j,et,it)&&(U&&U.call(et,rt.gameObject,pt.gameObject),this._total++)}else{var yt=Z.getChildren(),Ct=Z.children.entries.indexOf(N);for(ft=yt.length,lt=0;lt<ft;lt++)pt=yt[lt].body,!(!pt||lt===Ct||!pt.enable)&&this.separate(rt,pt,j,et,it)&&(U&&U.call(et,rt.gameObject,pt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(N,Z,U,j,et,it){if(!this.canCollide(N,Z))return!1;var rt=N.getChildren();if(rt.length===0)return!1;for(var lt=!1,ft=0;ft<rt.length;ft++)(rt[ft].body||rt[ft].isBody)&&this.collideSpriteVsTilemapLayer(rt[ft],Z,U,j,et,it)&&(lt=!0);return lt},collideTiles:function(N,Z,U,j,et){return Z.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,Z,U,j,et,!1,!1)},overlapTiles:function(N,Z,U,j,et){return Z.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,Z,U,j,et,!0,!1)},collideSpriteVsTilemapLayer:function(N,Z,U,j,et,it){var rt=N.isBody?N:N.body;if(!rt.enable||rt.checkCollision.none||!this.canCollide(rt,Z))return!1;var lt=Z.layer,ft=rt.x-lt.tileWidth*Z.scaleX,pt=rt.y-lt.tileHeight*Z.scaleY,vt=rt.width+lt.tileWidth*Z.scaleX,xt=rt.height+lt.tileHeight*Z.scaleY,yt=it?null:this.tileFilterOptions,Ct=E(ft,pt,vt,xt,yt,Z.scene.cameras.main,Z.layer);return Ct.length===0?!1:this.collideSpriteVsTilesHandler(N,Ct,U,j,et,it,!0)},collideSpriteVsTilesHandler:function(N,Z,U,j,et,it,rt){for(var lt=N.isBody?N:N.body,ft,pt={left:0,right:0,top:0,bottom:0},vt,xt=!1,yt=0;yt<Z.length;yt++){ft=Z[yt],vt=ft.tilemapLayer;var Ct=vt.tileToWorldXY(ft.x,ft.y);pt.left=Ct.x,pt.top=Ct.y,pt.right=pt.left+ft.width*vt.scaleX,pt.bottom=pt.top+ft.height*vt.scaleY,K(pt,lt)&&(!j||j.call(et,N,ft))&&b(ft,N)&&(it||D(yt,lt,ft,pt,vt,this.TILE_BIAS,rt))&&(this._total++,xt=!0,U&&U.call(et,N,ft),it&&lt.onOverlap?this.emit(d.TILE_OVERLAP,N,ft,lt):lt.onCollide&&this.emit(d.TILE_COLLIDE,N,ft,lt))}return xt},collideGroupVsGroup:function(N,Z,U,j,et,it){if(!(N.getLength()===0||Z.getLength()===0||!this.canCollide(N,Z)))for(var rt=N.getChildren(),lt=0;lt<rt.length;lt++)this.collideSpriteVsGroup(rt[lt],Z,U,j,et,it)},wrap:function(N,Z){N.body?this.wrapObject(N,Z):N.getChildren?this.wrapArray(N.getChildren(),Z):Array.isArray(N)?this.wrapArray(N,Z):this.wrapObject(N,Z)},wrapArray:function(N,Z){for(var U=0;U<N.length;U++)this.wrapObject(N[U],Z)},wrapObject:function(N,Z){Z===void 0&&(Z=0),N.x=W(N.x,this.bounds.left-Z,this.bounds.right+Z),N.y=W(N.y,this.bounds.top-Z,this.bounds.bottom+Z)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});C.exports=Y},1093:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setAcceleration:function(s,g){return this.body.acceleration.set(s,g),this},setAccelerationX:function(s){return this.body.acceleration.x=s,this},setAccelerationY:function(s){return this.body.acceleration.y=s,this}};C.exports=A},59023:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setAngularVelocity:function(s){return this.body.angularVelocity=s,this},setAngularAcceleration:function(s){return this.body.angularAcceleration=s,this},setAngularDrag:function(s){return this.body.angularDrag=s,this}};C.exports=A},62069:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setBounce:function(s,g){return this.body.bounce.set(s,g),this},setBounceX:function(s){return this.body.bounce.x=s,this},setBounceY:function(s){return this.body.bounce.y=s,this},setCollideWorldBounds:function(s,g,y,f){return this.body.setCollideWorldBounds(s,g,y,f),this}};C.exports=A},78389:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79599),y={setCollisionCategory:function(f){var l=this.body?this.body:this;return l.collisionCategory=f,this},willCollideWith:function(f){var l=this.body?this.body:this;return(l.collisionMask&f)!==0},addCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask|f,this},removeCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask&~f,this},setCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=g(f),this},resetCollisionCategory:function(){var f=this.body?this.body:this;return f.collisionCategory=1,f.collisionMask=2147483647,this}};C.exports=y},87118:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setDebug:function(s,g,y){return this.debugShowBody=s,this.debugShowVelocity=g,this.debugBodyColor=y,this},setDebugBodyColor:function(s){return this.body.debugBodyColor=s,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(s){this.body.debugShowBody=s}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(s){this.body.debugShowVelocity=s}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(s){this.body.debugBodyColor=s}}};C.exports=A},52819:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setDrag:function(s,g){return this.body.drag.set(s,g),this},setDragX:function(s){return this.body.drag.x=s,this},setDragY:function(s){return this.body.drag.y=s,this},setDamping:function(s){return this.body.useDamping=s,this}};C.exports=A},4074:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setDirectControl:function(s){return this.body.setDirectControl(s),this},enableBody:function(s,g,y,f,l){return s&&this.body.reset(g,y),f&&(this.body.gameObject.active=!0),l&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(s,g){return s===void 0&&(s=!1),g===void 0&&(g=!1),this.body.stop(),this.body.enable=!1,s&&(this.body.gameObject.active=!1),g&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};C.exports=A},40831:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setFriction:function(s,g){return this.body.friction.set(s,g),this},setFrictionX:function(s){return this.body.friction.x=s,this},setFrictionY:function(s){return this.body.friction.y=s,this}};C.exports=A},26775:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setGravity:function(s,g){return this.body.gravity.set(s,g),this},setGravityX:function(s){return this.body.gravity.x=s,this},setGravityY:function(s){return this.body.gravity.y=s,this}};C.exports=A},9437:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setImmovable:function(s){return s===void 0&&(s=!0),this.body.immovable=s,this}};C.exports=A},30621:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setMass:function(s){return this.body.mass=s,this}};C.exports=A},72441:(C,A,s)=>{var g=s(47956),y=s(96503),f=s(2044),l=s(81491),h=function(r,o,u,a,d,c){var p=g(r,o-a,u-a,2*a,2*a,d,c);if(p.length===0)return p;for(var v=new y(o,u,a),m=new y,T=[],E=0;E<p.length;E++){var P=p[E];P.isCircle?(m.setTo(P.center.x,P.center.y,P.halfWidth),f(v,m)&&T.push(P)):l(v,P)&&T.push(P)}return T};C.exports=h},47956:C=>{var A=function(s,g,y,f,l,h,r){h===void 0&&(h=!0),r===void 0&&(r=!1);var o=[],u=[],a=s.treeMinMax;if(a.minX=g,a.minY=y,a.maxX=g+f,a.maxY=y+l,r&&(u=s.staticTree.search(a)),h&&s.useTree)o=s.tree.search(a);else if(h){var d=s.bodies,c={position:{x:g,y},left:g,top:y,right:g+f,bottom:y+l,isCircle:!1},p=s.intersects;d.iterate(function(v){p(v,c)&&o.push(v)})}return u.concat(o)};C.exports=A},62121:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setPushable:function(s){return s===void 0&&(s=!0),this.body.pushable=s,this}};C.exports=A},29384:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setOffset:function(s,g){return this.body.setOffset(s,g),this},setSize:function(s,g,y){return this.body.setSize(s,g,y),this},setBodySize:function(s,g,y){return this.body.setSize(s,g,y),this},setCircle:function(s,g,y){return this.body.setCircle(s,g,y),this}};C.exports=A},15098:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setVelocity:function(s,g){return this.body.setVelocity(s,g),this},setVelocityX:function(s){return this.body.setVelocityX(s),this},setVelocityY:function(s){return this.body.setVelocityY(s),this},setMaxVelocity:function(s,g){return this.body.maxVelocity.set(s,g),this}};C.exports=A},92209:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Acceleration:s(1093),Angular:s(59023),Bounce:s(62069),Collision:s(78389),Debug:s(87118),Drag:s(52819),Enable:s(4074),Friction:s(40831),Gravity:s(26775),Immovable:s(9437),Mass:s(30621),OverlapCirc:s(72441),OverlapRect:s(47956),Pushable:s(62121),Size:s(29384),Velocity:s(15098)}},37747:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};C.exports=A},20009:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="collide"},36768:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="overlap"},60473:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},89954:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},61804:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="tilecollide"},7161:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="tileoverlap"},34689:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="worldbounds"},16006:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="worldstep"},63012:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={COLLIDE:s(20009),OVERLAP:s(36768),PAUSE:s(60473),RESUME:s(89954),TILE_COLLIDE:s(61804),TILE_OVERLAP:s(7161),WORLD_BOUNDS:s(34689),WORLD_STEP:s(16006)}},27064:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37747),y=s(79291),f={ArcadePhysics:s(86689),Body:s(37742),Collider:s(79342),Components:s(92209),Events:s(63012),Factory:s(66022),GetCollidesWith:s(79599),GetOverlapX:s(64897),GetOverlapY:s(45170),SeparateX:s(14087),SeparateY:s(89936),Group:s(60758),Image:s(71289),Sprite:s(13759),StaticBody:s(72624),StaticGroup:s(71464),Tilemap:s(55173),World:s(82248)};f=y(!1,f,g),C.exports=f},96602:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.collisionCallback?!s.collisionCallback.call(s.collisionCallbackContext,g,s):s.layer.callbacks[s.index]?!s.layer.callbacks[s.index].callback.call(s.layer.callbacks[s.index].callbackContext,g,s):!0};C.exports=A},36294:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g<0?(s.blocked.none=!1,s.blocked.left=!0):g>0&&(s.blocked.none=!1,s.blocked.right=!0),s.position.x-=g,s.updateCenter(),s.bounce.x===0?s.velocity.x=0:s.velocity.x=-s.velocity.x*s.bounce.x};C.exports=A},67013:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g<0?(s.blocked.none=!1,s.blocked.up=!0):g>0&&(s.blocked.none=!1,s.blocked.down=!0),s.position.y-=g,s.updateCenter(),s.bounce.y===0?s.velocity.y=0:s.velocity.y=-s.velocity.y*s.bounce.y};C.exports=A},40012:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(21329),y=s(53442),f=s(2483),l=function(h,r,o,u,a,d,c){var p=u.left,v=u.top,m=u.right,T=u.bottom,E=o.faceLeft||o.faceRight,P=o.faceTop||o.faceBottom;if(c||(E=!0,P=!0),!E&&!P)return!1;var w=0,R=0,b=0,O=1;if(r.deltaAbsX()>r.deltaAbsY()?b=-1:r.deltaAbsX()<r.deltaAbsY()&&(O=-1),r.deltaX()!==0&&r.deltaY()!==0&&E&&P&&(b=Math.min(Math.abs(r.position.x-m),Math.abs(r.right-p)),O=Math.min(Math.abs(r.position.y-T),Math.abs(r.bottom-v))),b<O){if(E&&(w=g(r,o,p,m,d,c),w!==0&&!f(u,r)))return!0;P&&(R=y(r,o,v,T,d,c))}else{if(P&&(R=y(r,o,v,T,d,c),R!==0&&!f(u,r)))return!0;E&&(w=g(r,o,p,m,d,c))}return w!==0||R!==0};C.exports=l},21329:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36294),y=function(f,l,h,r,o,u){var a=0,d=l.faceLeft,c=l.faceRight,p=l.collideLeft,v=l.collideRight;return u||(d=!0,c=!0,p=!0,v=!0),f.deltaX()<0&&v&&f.checkCollision.left?c&&f.x<r&&(a=f.x-r,a<-o&&(a=0)):f.deltaX()>0&&p&&f.checkCollision.right&&d&&f.right>h&&(a=f.right-h,a>o&&(a=0)),a!==0&&(f.customSeparateX?f.overlapX=a:g(f,a)),a};C.exports=y},53442:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(67013),y=function(f,l,h,r,o,u){var a=0,d=l.faceTop,c=l.faceBottom,p=l.collideUp,v=l.collideDown;return u||(d=!0,c=!0,p=!0,v=!0),f.deltaY()<0&&v&&f.checkCollision.up?c&&f.y<r&&(a=f.y-r,a<-o&&(a=0)):f.deltaY()>0&&p&&f.checkCollision.down&&d&&f.bottom>h&&(a=f.bottom-h,a>o&&(a=0)),a!==0&&(f.customSeparateY?f.overlapY=a:g(f,a)),a};C.exports=y},2483:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return!(g.right<=s.left||g.bottom<=s.top||g.position.x>=s.right||g.position.y>=s.bottom)};C.exports=A},55173:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={ProcessTileCallbacks:s(96602),ProcessTileSeparationX:s(36294),ProcessTileSeparationY:s(67013),SeparateTile:s(40012),TileCheckX:s(21329),TileCheckY:s(53442),TileIntersectsBody:s(2483)};C.exports=g},44563:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Arcade:s(27064),Matter:s(3875)}},68174:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(26099),f=new g({initialize:function(){this.boundsCenter=new y,this.centerDiff=new y},parseBody:function(l){if(l=l.hasOwnProperty("body")?l.body:l,!l.hasOwnProperty("bounds")||!l.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,r=this.centerDiff,o=l.bounds.max.x-l.bounds.min.x,u=l.bounds.max.y-l.bounds.min.y,a=o*l.centerOfMass.x,d=u*l.centerOfMass.y;return h.set(o/2,u/2),r.set(a-h.x,d-h.y),!0},getTopLeft:function(l,h,r){if(h===void 0&&(h=0),r===void 0&&(r=0),this.parseBody(l)){var o=this.boundsCenter,u=this.centerDiff;return new y(h+o.x+u.x,r+o.y+u.y)}return!1},getTopCenter:function(l,h,r){if(h===void 0&&(h=0),r===void 0&&(r=0),this.parseBody(l)){var o=this.boundsCenter,u=this.centerDiff;return new y(h+u.x,r+o.y+u.y)}return!1},getTopRight:function(l,h,r){if(h===void 0&&(h=0),r===void 0&&(r=0),this.parseBody(l)){var o=this.boundsCenter,u=this.centerDiff;return new y(h-(o.x-u.x),r+o.y+u.y)}return!1},getLeftCenter:function(l,h,r){if(h===void 0&&(h=0),r===void 0&&(r=0),this.parseBody(l)){var o=this.boundsCenter,u=this.centerDiff;return new y(h+o.x+u.x,r+u.y)}return!1},getCenter:function(l,h,r){if(h===void 0&&(h=0),r===void 0&&(r=0),this.parseBody(l)){var o=this.centerDiff;return new y(h+o.x,r+o.y)}return!1},getRightCenter:function(l,h,r){if(h===void 0&&(h=0),r===void 0&&(r=0),this.parseBody(l)){var o=this.boundsCenter,u=this.centerDiff;return new y(h-(o.x-u.x),r+u.y)}return!1},getBottomLeft:function(l,h,r){if(h===void 0&&(h=0),r===void 0&&(r=0),this.parseBody(l)){var o=this.boundsCenter,u=this.centerDiff;return new y(h+o.x+u.x,r-(o.y-u.y))}return!1},getBottomCenter:function(l,h,r){if(h===void 0&&(h=0),r===void 0&&(r=0),this.parseBody(l)){var o=this.boundsCenter,u=this.centerDiff;return new y(h+u.x,r-(o.y-u.y))}return!1},getBottomRight:function(l,h,r){if(h===void 0&&(h=0),r===void 0&&(r=0),this.parseBody(l)){var o=this.boundsCenter,u=this.centerDiff;return new y(h-(o.x-u.x),r-(o.y-u.y))}return!1}});C.exports=f},19933:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6790);g.Body=s(22562),g.Composite=s(69351),g.World=s(4372),g.Collision=s(52284),g.Detector=s(81388),g.Pairs=s(99561),g.Pair=s(4506),g.Query=s(73296),g.Resolver=s(66272),g.Constraint=s(48140),g.Common=s(53402),g.Engine=s(48413),g.Events=s(35810),g.Sleeping=s(53614),g.Plugin=s(73832),g.Bodies=s(66280),g.Composites=s(74116),g.Axes=s(66615),g.Bounds=s(15647),g.Svg=s(74058),g.Vector=s(31725),g.Vertices=s(41598),g.World.add=g.Composite.add,g.World.remove=g.Composite.remove,g.World.addComposite=g.Composite.addComposite,g.World.addBody=g.Composite.addBody,g.World.addConstraint=g.Composite.addConstraint,g.World.clear=g.Composite.clear,C.exports=g},28137:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(83419),f=s(74116),l=s(48140),h=s(74058),r=s(75803),o=s(23181),u=s(34803),a=s(73834),d=s(19496),c=s(85791),p=s(98713),v=s(41598),m=new y({initialize:function(E){this.world=E,this.scene=E.scene,this.sys=E.scene.sys},rectangle:function(T,E,P,w,R){var b=g.rectangle(T,E,P,w,R);return this.world.add(b),b},trapezoid:function(T,E,P,w,R,b){var O=g.trapezoid(T,E,P,w,R,b);return this.world.add(O),O},circle:function(T,E,P,w,R){var b=g.circle(T,E,P,w,R);return this.world.add(b),b},polygon:function(T,E,P,w,R){var b=g.polygon(T,E,P,w,R);return this.world.add(b),b},fromVertices:function(T,E,P,w,R,b,O){typeof P=="string"&&(P=v.fromPath(P));var I=g.fromVertices(T,E,P,w,R,b,O);return this.world.add(I),I},fromPhysicsEditor:function(T,E,P,w,R){R===void 0&&(R=!0);var b=d.parseBody(T,E,P,w);return R&&!this.world.has(b)&&this.world.add(b),b},fromSVG:function(T,E,P,w,R,b){w===void 0&&(w=1),R===void 0&&(R={}),b===void 0&&(b=!0);for(var O=P.getElementsByTagName("path"),I=[],D=0;D<O.length;D++){var B=h.pathToVertices(O[D],30);w!==1&&v.scale(B,w,w),I.push(B)}var k=g.fromVertices(T,E,I,R);return b&&this.world.add(k),k},fromJSON:function(T,E,P,w,R){w===void 0&&(w={}),R===void 0&&(R=!0);var b=c.parseBody(T,E,P,w);return b&&R&&this.world.add(b),b},imageStack:function(T,E,P,w,R,b,O,I,D){O===void 0&&(O=0),I===void 0&&(I=0),D===void 0&&(D={});var B=this.world,k=this.sys.displayList;D.addToWorld=!1;var z=f.stack(P,w,R,b,O,I,function(X,K){var H=new o(B,X,K,T,E,D);return k.add(H),H.body});return B.add(z),z},stack:function(T,E,P,w,R,b,O){var I=f.stack(T,E,P,w,R,b,O);return this.world.add(I),I},pyramid:function(T,E,P,w,R,b,O){var I=f.pyramid(T,E,P,w,R,b,O);return this.world.add(I),I},chain:function(T,E,P,w,R,b){return f.chain(T,E,P,w,R,b)},mesh:function(T,E,P,w,R){return f.mesh(T,E,P,w,R)},newtonsCradle:function(T,E,P,w,R){var b=f.newtonsCradle(T,E,P,w,R);return this.world.add(b),b},car:function(T,E,P,w,R){var b=f.car(T,E,P,w,R);return this.world.add(b),b},softBody:function(T,E,P,w,R,b,O,I,D,B){var k=f.softBody(T,E,P,w,R,b,O,I,D,B);return this.world.add(k),k},joint:function(T,E,P,w,R){return this.constraint(T,E,P,w,R)},spring:function(T,E,P,w,R){return this.constraint(T,E,P,w,R)},constraint:function(T,E,P,w,R){w===void 0&&(w=1),R===void 0&&(R={}),R.bodyA=T.type==="body"?T:T.body,R.bodyB=E.type==="body"?E:E.body,isNaN(P)||(R.length=P),R.stiffness=w;var b=l.create(R);return this.world.add(b),b},worldConstraint:function(T,E,P,w){P===void 0&&(P=1),w===void 0&&(w={}),w.bodyB=T.type==="body"?T:T.body,isNaN(E)||(w.length=E),w.stiffness=P;var R=l.create(w);return this.world.add(R),R},mouseSpring:function(T){return this.pointerConstraint(T)},pointerConstraint:function(T){T===void 0&&(T={}),T.hasOwnProperty("render")||(T.render={visible:!1});var E=new p(this.scene,this.world,T);return this.world.add(E.constraint),E},image:function(T,E,P,w,R){var b=new o(this.world,T,E,P,w,R);return this.sys.displayList.add(b),b},tileBody:function(T,E){return new a(this.world,T,E)},sprite:function(T,E,P,w,R){var b=new u(this.world,T,E,P,w,R);return this.sys.displayList.add(b),this.sys.updateList.add(b),b},gameObject:function(T,E,P){return r(this.world,T,E,P)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});C.exports=m},75803:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(31884),y=s(95540),f=s(26099);function l(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}var h=function(r,o,u,a){u===void 0&&(u={}),a===void 0&&(a=!0);var d=o.x,c=o.y;o.body={temp:!0,position:{x:d,y:c}};var p=[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity];if(p.forEach(function(m){for(var T in m)l(m[T])?Object.defineProperty(o,T,{get:m[T].get,set:m[T].set}):Object.defineProperty(o,T,{value:m[T]})}),o.world=r,o._tempVec2=new f(d,c),u.hasOwnProperty("type")&&u.type==="body")o.setExistingBody(u,a);else{var v=y(u,"shape",null);v||(v="rectangle"),u.addToWorld=a,o.setBody(v,u)}return o};C.exports=h},23181:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31884),f=s(95643),l=s(95540),h=s(88571),r=s(72699),o=s(26099),u=new g({Extends:h,Mixins:[y.Bounce,y.Collision,y.Force,y.Friction,y.Gravity,y.Mass,y.Sensor,y.SetBody,y.Sleep,y.Static,y.Transform,y.Velocity,r],initialize:function(d,c,p,v,m,T){f.call(this,d.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,m),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new o(c,p);var E=l(T,"shape",null);E?this.setBody(E,T):this.setRectangle(this.width,this.height,T),this.setPosition(c,p),this.initPipeline(),this.initPostPipeline(!0)}});C.exports=u},42045:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(60461),y=s(66615),f=s(66280),l=s(22562),h=s(68174),r=s(15647),o=s(83419),u=s(52284),a=s(53402),d=s(69351),c=s(74116),p=s(48140),v=s(81388),m=s(20339),T=s(28137),E=s(95540),P=s(35154),w=s(46975),R=s(4506),b=s(99561),O=s(37277),I=s(73296),D=s(66272),B=s(44594),k=s(74058),z=s(31725),X=s(41598),K=s(68243);a.setDecomp(s(55973));var H=new o({initialize:function(W){this.scene=W,this.systems=W.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=l,this.composite=d,this.collision=u,this.detector=v,this.pair=R,this.pairs=b,this.query=I,this.resolver=D,this.constraint=p,this.bodies=f,this.composites=c,this.axes=y,this.bounds=r,this.svg=k,this.vector=z,this.vertices=X,this.verts=X,this._tempVec2=z.create(),D._restingThresh=P(this.config,"restingThresh",4),D._restingThreshTangent=P(this.config,"restingThreshTangent",6),D._positionDampen=P(this.config,"positionDampen",.9),D._positionWarming=P(this.config,"positionWarming",.8),D._frictionNormalMultiplier=P(this.config,"frictionNormalMultiplier",5),W.sys.events.once(B.BOOT,this.boot,this),W.sys.events.on(B.START,this.start,this)},boot:function(){this.world=new K(this.scene,this.config),this.add=new T(this.world),this.bodyBounds=new h,this.systems.events.once(B.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new K(this.scene,this.config),this.add=new T(this.world));var Q=this.systems.events;Q.on(B.UPDATE,this.world.update,this.world),Q.on(B.POST_UPDATE,this.world.postUpdate,this.world),Q.once(B.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Q=this.systems.game.config.physics,W=this.systems.settings.physics,Y=w(E(W,"matter",{}),E(Q,"matter",{}));return Y},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Q,W){this.world.step(Q,W)},containsPoint:function(Q,W,Y){Q=this.getMatterBodies(Q);var N=z.create(W,Y),Z=I.point(Q,N);return Z.length>0},intersectPoint:function(Q,W,Y){Y=this.getMatterBodies(Y);var N=z.create(Q,W),Z=[],U=I.point(Y,N);return U.forEach(function(j){Z.indexOf(j)===-1&&Z.push(j)}),Z},intersectRect:function(Q,W,Y,N,Z,U){Z===void 0&&(Z=!1),U=this.getMatterBodies(U);var j={min:{x:Q,y:W},max:{x:Q+Y,y:W+N}},et=[],it=I.region(U,j,Z);return it.forEach(function(rt){et.indexOf(rt)===-1&&et.push(rt)}),et},intersectRay:function(Q,W,Y,N,Z,U){Z===void 0&&(Z=1),U=this.getMatterBodies(U);for(var j=[],et=I.ray(U,z.create(Q,W),z.create(Y,N),Z),it=0;it<et.length;it++)j.push(et[it].body);return j},intersectBody:function(Q,W){W=this.getMatterBodies(W);for(var Y=[],N=I.collides(Q,W),Z=0;Z<N.length;Z++){var U=N[Z];U.bodyA===Q?Y.push(U.bodyB):Y.push(U.bodyA)}return Y},overlap:function(Q,W,Y,N,Z){Y===void 0&&(Y=null),N===void 0&&(N=null),Z===void 0&&(Z=Y),Array.isArray(Q)||(Q=[Q]),Q=this.getMatterBodies(Q),W=this.getMatterBodies(W);for(var U=!1,j=0;j<Q.length;j++)for(var et=Q[j],it=I.collides(et,W),rt=0;rt<it.length;rt++){var lt=it[rt],ft=lt.bodyA.id===et.id?lt.bodyB:lt.bodyA;if(!N||N.call(Z,et,ft,lt)){if(U=!0,Y)Y.call(Z,et,ft,lt);else if(!N)return!0}}return U},setCollisionCategory:function(Q,W){return Q=this.getMatterBodies(Q),Q.forEach(function(Y){Y.collisionFilter.category=W}),this},setCollisionGroup:function(Q,W){return Q=this.getMatterBodies(Q),Q.forEach(function(Y){Y.collisionFilter.group=W}),this},setCollidesWith:function(Q,W){Q=this.getMatterBodies(Q);var Y=0;if(!Array.isArray(W))Y=W;else for(var N=0;N<W.length;N++)Y|=W[N];return Q.forEach(function(Z){Z.collisionFilter.mask=Y}),this},getMatterBodies:function(Q){if(!Q)return this.world.getAllBodies();Array.isArray(Q)||(Q=[Q]);for(var W=[],Y=0;Y<Q.length;Y++){var N=Q[Y].hasOwnProperty("body")?Q[Y].body:Q[Y];W.push(N)}return W},setVelocity:function(Q,W,Y){Q=this.getMatterBodies(Q);var N=this._tempVec2;return N.x=W,N.y=Y,Q.forEach(function(Z){l.setVelocity(Z,N)}),this},setVelocityX:function(Q,W){Q=this.getMatterBodies(Q);var Y=this._tempVec2;return Y.x=W,Q.forEach(function(N){Y.y=N.velocity.y,l.setVelocity(N,Y)}),this},setVelocityY:function(Q,W){Q=this.getMatterBodies(Q);var Y=this._tempVec2;return Y.y=W,Q.forEach(function(N){Y.x=N.velocity.x,l.setVelocity(N,Y)}),this},setAngularVelocity:function(Q,W){return Q=this.getMatterBodies(Q),Q.forEach(function(Y){l.setAngularVelocity(Y,W)}),this},applyForce:function(Q,W){Q=this.getMatterBodies(Q);var Y=this._tempVec2;return Q.forEach(function(N){Y.x=N.position.x,Y.y=N.position.y,l.applyForce(N,Y,W)}),this},applyForceFromPosition:function(Q,W,Y,N){Q=this.getMatterBodies(Q);var Z=this._tempVec2;return Q.forEach(function(U){N===void 0&&(N=U.angle),Z.x=Y*Math.cos(N),Z.y=Y*Math.sin(N),l.applyForce(U,W,Z)}),this},applyForceFromAngle:function(Q,W,Y){Q=this.getMatterBodies(Q);var N=this._tempVec2;return Q.forEach(function(Z){Y===void 0&&(Y=Z.angle),N.x=W*Math.cos(Y),N.y=W*Math.sin(Y),l.applyForce(Z,{x:Z.position.x,y:Z.position.y},N)}),this},getConstraintLength:function(Q){var W=Q.pointA.x,Y=Q.pointA.y,N=Q.pointB.x,Z=Q.pointB.y;return Q.bodyA&&(W+=Q.bodyA.position.x,Y+=Q.bodyA.position.y),Q.bodyB&&(N+=Q.bodyB.position.x,Z+=Q.bodyB.position.y),m(W,Y,N,Z)},alignBody:function(Q,W,Y,N){Q=Q.hasOwnProperty("body")?Q.body:Q;var Z;switch(N){case g.TOP_LEFT:case g.LEFT_TOP:Z=this.bodyBounds.getTopLeft(Q,W,Y);break;case g.TOP_CENTER:Z=this.bodyBounds.getTopCenter(Q,W,Y);break;case g.TOP_RIGHT:case g.RIGHT_TOP:Z=this.bodyBounds.getTopRight(Q,W,Y);break;case g.LEFT_CENTER:Z=this.bodyBounds.getLeftCenter(Q,W,Y);break;case g.CENTER:Z=this.bodyBounds.getCenter(Q,W,Y);break;case g.RIGHT_CENTER:Z=this.bodyBounds.getRightCenter(Q,W,Y);break;case g.LEFT_BOTTOM:case g.BOTTOM_LEFT:Z=this.bodyBounds.getBottomLeft(Q,W,Y);break;case g.BOTTOM_CENTER:Z=this.bodyBounds.getBottomCenter(Q,W,Y);break;case g.BOTTOM_RIGHT:case g.RIGHT_BOTTOM:Z=this.bodyBounds.getBottomRight(Q,W,Y);break}return Z&&l.setPosition(Q,Z),this},shutdown:function(){var Q=this.systems.events;this.world&&(Q.off(B.UPDATE,this.world.update,this.world),Q.off(B.POST_UPDATE,this.world.postUpdate,this.world)),Q.off(B.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(B.START,this.start,this),this.scene=null,this.systems=null}});O.register("MatterPhysics",H,"matterPhysics"),C.exports=H},34803:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(9674),y=s(83419),f=s(31884),l=s(95643),h=s(95540),r=s(72699),o=s(68287),u=s(26099),a=new y({Extends:o,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,r],initialize:function(c,p,v,m,T,E){l.call(this,c.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new g(this),this.setTexture(m,T),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new u(p,v);var P=h(E,"shape",null);P?this.setBody(P,E):this.setRectangle(this.width,this.height,E),this.setPosition(p,v),this.initPipeline(),this.initPostPipeline(!0)}});C.exports=a},73834:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(22562),f=s(83419),l=s(31884),h=s(62644),r=s(50792),o=s(95540),u=s(97022),a=s(41598),d=new f({Extends:r,Mixins:[l.Bounce,l.Collision,l.Friction,l.Gravity,l.Mass,l.Sensor,l.Sleep,l.Static],initialize:function(p,v,m){r.call(this),this.tile=v,this.world=p,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var T=o(m,"body",null),E=o(m,"addToWorld",!0);if(T)this.setBody(T,E);else{var P=v.getCollisionGroup(),w=o(P,"objects",[]);w.length>0?this.setFromTileCollision(m):this.setFromTileRectangle(m)}if(v.flipX||v.flipY){var R={x:v.getCenterX(),y:v.getCenterY()},b=v.flipX?-1:1,O=v.flipY?-1:1;y.scale(T,b,O,R)}},setFromTileRectangle:function(c){c===void 0&&(c={}),u(c,"isStatic")||(c.isStatic=!0),u(c,"addToWorld")||(c.addToWorld=!0);var p=this.tile.getBounds(),v=p.x+p.width/2,m=p.y+p.height/2,T=g.rectangle(v,m,p.width,p.height,c);return this.setBody(T,c.addToWorld),this},setFromTileCollision:function(c){c===void 0&&(c={}),u(c,"isStatic")||(c.isStatic=!0),u(c,"addToWorld")||(c.addToWorld=!0);for(var p=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,m=this.tile.getLeft(),T=this.tile.getTop(),E=this.tile.getCollisionGroup(),P=o(E,"objects",[]),w=[],R=0;R<P.length;R++){var b=P[R],O=m+b.x*p,I=T+b.y*v,D=b.width*p,B=b.height*v,k=null;if(b.rectangle)k=g.rectangle(O+D/2,I+B/2,D,B,c);else if(b.ellipse)k=g.circle(O+D/2,I+B/2,D/2,c);else if(b.polygon||b.polyline){var z=b.polygon?b.polygon:b.polyline,X=z.map(function(W){return{x:W.x*p,y:W.y*v}}),K=a.create(X),H=a.centre(K);O+=H.x,I+=H.y,k=g.fromVertices(O,I,K,c)}k&&w.push(k)}if(w.length===1)this.setBody(w[0],c.addToWorld);else if(w.length>1){var Q=h(c);Q.parts=w,this.setBody(y.create(Q),Q.addToWorld)}return this},setBody:function(c,p){return p===void 0&&(p=!0),this.body&&this.removeBody(),this.body=c,this.body.gameObject=this,p&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});C.exports=d},19496:(C,A,s)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(22562),f=s(53402),l=s(95540),h=s(41598),r={parseBody:function(o,u,a,d){d===void 0&&(d={});for(var c=l(a,"fixtures",[]),p=[],v=0;v<c.length;v++)for(var m=this.parseFixture(c[v]),T=0;T<m.length;T++)p.push(m[T]);var E=f.clone(a,!0);f.extend(E,d,!0),delete E.fixtures,delete E.type;var P=y.create(E);return y.setParts(P,p),y.setPosition(P,{x:o,y:u}),P},parseFixture:function(o){var u=f.extend({},!1,o);delete u.circle,delete u.vertices;var a;if(o.circle){var d=l(o.circle,"x"),c=l(o.circle,"y"),p=l(o.circle,"radius");a=[g.circle(d,c,p,u)]}else o.vertices&&(a=this.parseVertices(o.vertices,u));return a},parseVertices:function(o,u){u===void 0&&(u={});for(var a=[],d=0;d<o.length;d++)h.clockwiseSort(o[d]),a.push(y.create(f.extend({position:h.centre(o[d]),vertices:o[d]},u)));return g.flagCoincidentParts(a)}};C.exports=r},85791:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(22562),f={parseBody:function(l,h,r,o){o===void 0&&(o={});var u,a=r.vertices;if(a.length===1)o.vertices=a[0],u=y.create(o),g.flagCoincidentParts(u.parts);else{for(var d=[],c=0;c<a.length;c++){var p=y.create({vertices:a[c]});d.push(p)}g.flagCoincidentParts(d),o.parts=d,u=y.create(o)}return u.label=r.label,y.setPosition(u,{x:l,y:h}),u}};C.exports=f},98713:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(15647),y=s(83419),f=s(69351),l=s(48140),h=s(81388),r=s(1121),o=s(8214),u=s(46975),a=s(53614),d=s(26099),c=s(41598),p=new y({initialize:function(m,T,E){E===void 0&&(E={});var P={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=T,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=l.create(u(E,P)),this.world.on(r.BEFORE_UPDATE,this.update,this),m.sys.input.on(o.POINTER_DOWN,this.onDown,this),m.sys.input.on(o.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var m=this.position,T=this.constraint;this.camera.getWorldPoint(v.x,v.y,m);for(var E=f.allBodies(this.world.localWorld),P=0;P<E.length;P++){var w=E[P];if(!w.ignorePointer&&g.contains(w.bounds,m)&&h.canCollide(w.collisionFilter,T.collisionFilter)&&this.hitTestBody(w,m))return this.world.emit(r.DRAG_START,w,this.part,this),!0}return!1},hitTestBody:function(v,m){for(var T=this.constraint,E=v.parts.length,P=E>1?1:0,w=P;w<E;w++){var R=v.parts[w];if(c.contains(R.vertices,m))return T.pointA=m,T.pointB={x:m.x-v.position.x,y:m.y-v.position.y},T.bodyB=v,T.angleB=v.angle,a.set(v,!1),this.part=R,this.body=v,!0}return!1},update:function(){var v=this.pointer,m=this.body;if(!this.active||!v){m&&this.stopDrag();return}if(!v.isDown&&m){this.stopDrag();return}else if(v.isDown){if(!this.camera||!m&&!this.getBody(v))return;m=this.body;var T=this.position,E=this.constraint;this.camera.getWorldPoint(v.x,v.y,T),E.pointA.x=T.x,E.pointA.y=T.y,a.set(m,!1),this.world.emit(r.DRAG,m,this)}},stopDrag:function(){var v=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(r.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(r.BEFORE_UPDATE,this.update),this.scene.sys.input.off(o.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(o.POINTER_UP,this.onUp,this)}});C.exports=p},68243:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(22562),f=s(83419),l=s(53402),h=s(69351),r=s(48413),o=s(50792),u=s(1121),a=s(95540),d=s(35154),c=s(22562),p=s(35810),v=s(73834),m=s(4372),T=s(13037),E=s(31725),P=new f({Extends:o,initialize:function(R,b){o.call(this),this.scene=R,this.engine=r.create(b),this.localWorld=this.engine.world;var O=d(b,"gravity",null);O?this.setGravity(O.x,O.y,O.scale):O===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=d(b,"enabled",!0),this.getDelta=d(b,"getDelta",this.update60Hz);var I=a(b,"runner",{}),D=a(I,"fps",!1);D&&(I.delta=1e3/a(I,"fps",60)),this.runner=T.create(I),this.autoUpdate=d(b,"autoUpdate",!0);var B=d(b,"debug",!1);if(this.drawDebug=typeof B=="object"?!0:B,this.debugGraphic,this.debugConfig={showAxes:a(B,"showAxes",!1),showAngleIndicator:a(B,"showAngleIndicator",!1),angleColor:a(B,"angleColor",15208787),showBroadphase:a(B,"showBroadphase",!1),broadphaseColor:a(B,"broadphaseColor",16757760),showBounds:a(B,"showBounds",!1),boundsColor:a(B,"boundsColor",16777215),showVelocity:a(B,"showVelocity",!1),velocityColor:a(B,"velocityColor",44783),showCollisions:a(B,"showCollisions",!1),collisionColor:a(B,"collisionColor",16094476),showSeparations:a(B,"showSeparations",!1),separationColor:a(B,"separationColor",16753920),showBody:a(B,"showBody",!0),showStaticBody:a(B,"showStaticBody",!0),showInternalEdges:a(B,"showInternalEdges",!1),renderFill:a(B,"renderFill",!1),renderLine:a(B,"renderLine",!0),fillColor:a(B,"fillColor",1075465),fillOpacity:a(B,"fillOpacity",1),lineColor:a(B,"lineColor",2678297),lineOpacity:a(B,"lineOpacity",1),lineThickness:a(B,"lineThickness",1),staticFillColor:a(B,"staticFillColor",857979),staticLineColor:a(B,"staticLineColor",1255396),showSleeping:a(B,"showSleeping",!1),staticBodySleepOpacity:a(B,"staticBodySleepOpacity",.7),sleepFillColor:a(B,"sleepFillColor",4605510),sleepLineColor:a(B,"sleepLineColor",10066585),showSensors:a(B,"showSensors",!0),sensorFillColor:a(B,"sensorFillColor",857979),sensorLineColor:a(B,"sensorLineColor",1255396),showPositions:a(B,"showPositions",!0),positionSize:a(B,"positionSize",4),positionColor:a(B,"positionColor",14697178),showJoint:a(B,"showJoint",!0),jointColor:a(B,"jointColor",14737474),jointLineOpacity:a(B,"jointLineOpacity",1),jointLineThickness:a(B,"jointLineThickness",2),pinSize:a(B,"pinSize",4),pinColor:a(B,"pinColor",4382944),springColor:a(B,"springColor",14697184),anchorColor:a(B,"anchorColor",15724527),anchorSize:a(B,"anchorSize",4),showConvexHulls:a(B,"showConvexHulls",!1),hullColor:a(B,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(b,"setBounds",!1)){var k=b.setBounds;if(typeof k=="boolean")this.setBounds();else{var z=a(k,"x",0),X=a(k,"y",0),K=a(k,"width",R.sys.scale.width),H=a(k,"height",R.sys.scale.height),Q=a(k,"thickness",64),W=a(k,"left",!0),Y=a(k,"right",!0),N=a(k,"top",!0),Z=a(k,"bottom",!0);this.setBounds(z,X,K,H,Q,W,Y,N,Z)}}},setCompositeRenderStyle:function(w){var R=w.bodies,b=w.constraints,O=w.composites,I,D,B;for(I=0;I<R.length;I++)D=R[I],B=D.render,this.setBodyRenderStyle(D,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity);for(I=0;I<b.length;I++)D=b[I],B=D.render,this.setConstraintRenderStyle(D,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize);for(I=0;I<O.length;I++)D=O[I],this.setCompositeRenderStyle(D);return this},setBodyRenderStyle:function(w,R,b,O,I,D){var B=w.render,k=this.debugConfig;return B?(R==null&&(R=w.isStatic?k.staticLineColor:k.lineColor),b==null&&(b=k.lineOpacity),O==null&&(O=k.lineThickness),I==null&&(I=w.isStatic?k.staticFillColor:k.fillColor),D==null&&(D=k.fillOpacity),R!==!1&&(B.lineColor=R),b!==!1&&(B.lineOpacity=b),O!==!1&&(B.lineThickness=O),I!==!1&&(B.fillColor=I),D!==!1&&(B.fillOpacity=D),this):this},setConstraintRenderStyle:function(w,R,b,O,I,D,B){var k=w.render,z=this.debugConfig;if(!k)return this;if(R==null){var X=k.type;X==="line"?R=z.jointColor:X==="pin"?R=z.pinColor:X==="spring"&&(R=z.springColor)}return b==null&&(b=z.jointLineOpacity),O==null&&(O=z.jointLineThickness),I==null&&(I=z.pinSize),D==null&&(D=z.anchorColor),B==null&&(B=z.anchorSize),R!==!1&&(k.lineColor=R),b!==!1&&(k.lineOpacity=b),O!==!1&&(k.lineThickness=O),I!==!1&&(k.pinSize=I),D!==!1&&(k.anchorColor=D),B!==!1&&(k.anchorSize=B),this},setEventsProxy:function(){var w=this,R=this.engine,b=this.localWorld;this.drawDebug&&(p.on(b,"compositeModified",function(O){w.setCompositeRenderStyle(O)}),p.on(b,"beforeAdd",function(O){for(var I=[].concat(O.object),D=0;D<I.length;D++){var B=I[D],k=B.render;B.type==="body"?w.setBodyRenderStyle(B,k.lineColor,k.lineOpacity,k.lineThickness,k.fillColor,k.fillOpacity):B.type==="composite"?w.setCompositeRenderStyle(B):B.type==="constraint"&&w.setConstraintRenderStyle(B,k.lineColor,k.lineOpacity,k.lineThickness,k.pinSize,k.anchorColor,k.anchorSize)}})),p.on(b,"beforeAdd",function(O){w.emit(u.BEFORE_ADD,O)}),p.on(b,"afterAdd",function(O){w.emit(u.AFTER_ADD,O)}),p.on(b,"beforeRemove",function(O){w.emit(u.BEFORE_REMOVE,O)}),p.on(b,"afterRemove",function(O){w.emit(u.AFTER_REMOVE,O)}),p.on(R,"beforeUpdate",function(O){w.emit(u.BEFORE_UPDATE,O)}),p.on(R,"afterUpdate",function(O){w.emit(u.AFTER_UPDATE,O)}),p.on(R,"collisionStart",function(O){var I=O.pairs,D,B;I.length>0&&I.map(function(k){D=k.bodyA,B=k.bodyB,D.gameObject&&D.gameObject.emit("collide",D,B,k),B.gameObject&&B.gameObject.emit("collide",B,D,k),p.trigger(D,"onCollide",{pair:k}),p.trigger(B,"onCollide",{pair:k}),D.onCollideCallback&&D.onCollideCallback(k),B.onCollideCallback&&B.onCollideCallback(k),D.onCollideWith[B.id]&&D.onCollideWith[B.id](B,k),B.onCollideWith[D.id]&&B.onCollideWith[D.id](D,k)}),w.emit(u.COLLISION_START,O,D,B)}),p.on(R,"collisionActive",function(O){var I=O.pairs,D,B;I.length>0&&I.map(function(k){D=k.bodyA,B=k.bodyB,D.gameObject&&D.gameObject.emit("collideActive",D,B,k),B.gameObject&&B.gameObject.emit("collideActive",B,D,k),p.trigger(D,"onCollideActive",{pair:k}),p.trigger(B,"onCollideActive",{pair:k}),D.onCollideActiveCallback&&D.onCollideActiveCallback(k),B.onCollideActiveCallback&&B.onCollideActiveCallback(k)}),w.emit(u.COLLISION_ACTIVE,O,D,B)}),p.on(R,"collisionEnd",function(O){var I=O.pairs,D,B;I.length>0&&I.map(function(k){D=k.bodyA,B=k.bodyB,D.gameObject&&D.gameObject.emit("collideEnd",D,B,k),B.gameObject&&B.gameObject.emit("collideEnd",B,D,k),p.trigger(D,"onCollideEnd",{pair:k}),p.trigger(B,"onCollideEnd",{pair:k}),D.onCollideEndCallback&&D.onCollideEndCallback(k),B.onCollideEndCallback&&B.onCollideEndCallback(k)}),w.emit(u.COLLISION_END,O,D,B)})},setBounds:function(w,R,b,O,I,D,B,k,z){return w===void 0&&(w=0),R===void 0&&(R=0),b===void 0&&(b=this.scene.sys.scale.width),O===void 0&&(O=this.scene.sys.scale.height),I===void 0&&(I=64),D===void 0&&(D=!0),B===void 0&&(B=!0),k===void 0&&(k=!0),z===void 0&&(z=!0),this.updateWall(D,"left",w-I,R-I,I,O+I*2),this.updateWall(B,"right",w+b,R-I,I,O+I*2),this.updateWall(k,"top",w,R-I,b,I),this.updateWall(z,"bottom",w,R+O,b,I),this},updateWall:function(w,R,b,O,I,D){var B=this.walls[R];w?(B&&m.remove(this.localWorld,B),b+=I/2,O+=D/2,this.walls[R]=this.create(b,O,I,D,{isStatic:!0,friction:0,frictionStatic:0})):(B&&m.remove(this.localWorld,B),this.walls[R]=null)},createDebugGraphic:function(){var w=this.scene.sys.add.graphics({x:0,y:0});return w.setDepth(Number.MAX_VALUE),this.debugGraphic=w,this.drawDebug=!0,w},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(w,R,b){return w===void 0&&(w=0),R===void 0&&(R=1),b===void 0&&(b=.001),this.localWorld.gravity.x=w,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=b,this},create:function(w,R,b,O,I){var D=g.rectangle(w,R,b,O,I);return m.add(this.localWorld,D),D},add:function(w){return m.add(this.localWorld,w),this},remove:function(w,R){Array.isArray(w)||(w=[w]);for(var b=0;b<w.length;b++){var O=w[b],I=O.body?O.body:O;h.remove(this.localWorld,I,R)}return this},removeConstraint:function(w,R){return h.remove(this.localWorld,w,R),this},convertTilemapLayer:function(w,R){var b=w.layer,O=w.getTilesWithin(0,0,b.width,b.height,{isColliding:!0});return this.convertTiles(O,R),this},convertTiles:function(w,R){if(w.length===0)return this;for(var b=0;b<w.length;b++)new v(this,w[b],R);return this},nextGroup:function(w){return c.nextGroup(w)},nextCategory:function(){return c.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=l.now(),this.emit(u.RESUME),this},update:function(w){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,b=this.runner,O=l.now(),I=b.delta,D=0,B=w-b.timeLastTick;if((!B||!b.timeLastTick||B>Math.max(T._maxFrameDelta,b.maxFrameTime))&&(B=b.frameDelta||T._frameDeltaFallback),b.frameDeltaSmoothing){b.frameDeltaHistory.push(B),b.frameDeltaHistory=b.frameDeltaHistory.slice(-b.frameDeltaHistorySize);var k=b.frameDeltaHistory.slice(0).sort(),z=b.frameDeltaHistory.slice(k.length*T._smoothingLowerBound,k.length*T._smoothingUpperBound),X=T._mean(z);B=X||B}b.frameDeltaSnapping&&(B=1e3/Math.round(1e3/B)),b.frameDelta=B,b.timeLastTick=w,b.timeBuffer+=b.frameDelta,b.timeBuffer=l.clamp(b.timeBuffer,0,b.frameDelta+I*T._timeBufferMargin),b.lastUpdatesDeferred=0;for(var K=b.maxUpdates||Math.ceil(b.maxFrameTime/I),H=l.now();I>0&&b.timeBuffer>=I*T._timeBufferMargin;){r.update(R,I),b.timeBuffer-=I,D+=1;var Q=l.now()-O,W=l.now()-H,Y=Q+T._elapsedNextEstimate*W/D;if(D>=K||Y>b.maxFrameTime){b.lastUpdatesDeferred=Math.round(Math.max(0,b.timeBuffer/I-T._timeBufferMargin));break}}}},step:function(w){r.update(this.engine,w)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(w){var R=w.hasOwnProperty("body")?w.body:w;return h.get(this.localWorld,R.id,R.type)!==null},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var w=this.debugConfig,R=this.engine,b=this.debugGraphic,O=h.allBodies(this.localWorld);this.debugGraphic.clear(),w.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,b,w.broadphaseColor,.5),w.showBounds&&this.renderBodyBounds(O,b,w.boundsColor,.5),(w.showBody||w.showStaticBody)&&this.renderBodies(O),w.showJoint&&this.renderJoints(),(w.showAxes||w.showAngleIndicator)&&this.renderBodyAxes(O,b,w.showAxes,w.angleColor,.5),w.showVelocity&&this.renderBodyVelocity(O,b,w.velocityColor,1,2),w.showSeparations&&this.renderSeparations(R.pairs.list,b,w.separationColor),w.showCollisions&&this.renderCollisions(R.pairs.list,b,w.collisionColor)}},renderGrid:function(w,R,b,O){R.lineStyle(1,b,O);for(var I=l.keys(w.buckets),D=0;D<I.length;D++){var B=I[D];if(!(w.buckets[B].length<2)){var k=B.split(/C|R/);R.strokeRect(parseInt(k[1],10)*w.bucketWidth,parseInt(k[2],10)*w.bucketHeight,w.bucketWidth,w.bucketHeight)}}return this},renderSeparations:function(w,R,b){R.lineStyle(1,b,1);for(var O=0;O<w.length;O++){var I=w[O];if(I.isActive){var D=I.collision,B=D.bodyA,k=D.bodyB,z=B.position,X=k.position,K=D.penetration,H=!B.isStatic&&!k.isStatic?4:1;k.isStatic&&(H=0),R.lineBetween(X.x,X.y,X.x-K.x*H,X.y-K.y*H),H=!B.isStatic&&!k.isStatic?4:1,B.isStatic&&(H=0),R.lineBetween(z.x,z.y,z.x-K.x*H,z.y-K.y*H)}}return this},renderCollisions:function(w,R,b){R.lineStyle(1,b,.5),R.fillStyle(b,1);var O,I;for(O=0;O<w.length;O++)if(I=w[O],!!I.isActive)for(var D=0;D<I.contactCount;D++){var B=I.contacts[D],k=B.vertex;k&&R.fillRect(k.x-2,k.y-2,5,5)}for(O=0;O<w.length;O++)if(I=w[O],!!I.isActive){var z=I.collision,X=I.contacts;if(I.contactCount>0){var K=X[0].vertex.x,H=X[0].vertex.y;I.contactCount===2&&(K=(X[0].vertex.x+X[1].vertex.x)/2,H=(X[0].vertex.y+X[1].vertex.y)/2),z.bodyB===z.supports[0].body||z.bodyA.isStatic?R.lineBetween(K-z.normal.x*8,H-z.normal.y*8,K,H):R.lineBetween(K+z.normal.x*8,H+z.normal.y*8,K,H)}}return this},renderBodyBounds:function(w,R,b,O){R.lineStyle(1,b,O);for(var I=0;I<w.length;I++){var D=w[I];if(D.render.visible){var B=D.bounds;if(B)R.strokeRect(B.min.x,B.min.y,B.max.x-B.min.x,B.max.y-B.min.y);else for(var k=D.parts,z=k.length>1?1:0;z<k.length;z++){var X=k[z];R.strokeRect(X.bounds.min.x,X.bounds.min.y,X.bounds.max.x-X.bounds.min.x,X.bounds.max.y-X.bounds.min.y)}}}return this},renderBodyAxes:function(w,R,b,O,I){R.lineStyle(1,O,I);for(var D=0;D<w.length;D++){var B=w[D],k=B.parts;if(B.render.visible){var z,X,K;if(b)for(X=k.length>1?1:0;X<k.length;X++)for(z=k[X],K=0;K<z.axes.length;K++){var H=z.axes[K];R.lineBetween(z.position.x,z.position.y,z.position.x+H.x*20,z.position.y+H.y*20)}else for(X=k.length>1?1:0;X<k.length;X++)for(z=k[X],K=0;K<z.axes.length;K++)R.lineBetween(z.position.x,z.position.y,(z.vertices[0].x+z.vertices[z.vertices.length-1].x)/2,(z.vertices[0].y+z.vertices[z.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(w,R,b,O,I){R.lineStyle(I,b,O);for(var D=0;D<w.length;D++){var B=w[D];B.render.visible&&R.lineBetween(B.position.x,B.position.y,B.position.x+(B.position.x-B.positionPrev.x)*2,B.position.y+(B.position.y-B.positionPrev.y)*2)}return this},renderBodies:function(w){for(var R=this.debugGraphic,b=this.debugConfig,O=b.showBody,I=b.showStaticBody,D=b.showSleeping,B=b.showInternalEdges,k=b.showConvexHulls,z=b.renderFill,X=b.renderLine,K=b.staticBodySleepOpacity,H=b.sleepFillColor,Q=b.sleepLineColor,W=b.hullColor,Y=0;Y<w.length;Y++){var N=w[Y];if(N.render.visible&&!(!I&&N.isStatic||!O&&!N.isStatic)){var Z=N.render.lineColor,U=N.render.lineOpacity,j=N.render.lineThickness,et=N.render.fillColor,it=N.render.fillOpacity;D&&N.isSleeping&&(N.isStatic?(U*=K,it*=K):(Z=Q,et=H)),z||(et=null),X||(Z=null),this.renderBody(N,R,B,Z,U,j,et,it);var rt=N.parts.length;k&&rt>1&&this.renderConvexHull(N,R,W,j)}}},renderBody:function(w,R,b,O,I,D,B,k){O===void 0&&(O=null),I===void 0&&(I=null),D===void 0&&(D=1),B===void 0&&(B=null),k===void 0&&(k=null);for(var z=this.debugConfig,X=z.sensorFillColor,K=z.sensorLineColor,H=w.parts,Q=H.length,W=Q>1?1:0;W<Q;W++){var Y=H[W],N=Y.render,Z=N.opacity;if(!(!N.visible||Z===0||Y.isSensor&&!z.showSensors)){var U=Y.circleRadius;if(R.beginPath(),Y.isSensor?(B!==null&&R.fillStyle(X,k*Z),O!==null&&R.lineStyle(D,K,I*Z)):(B!==null&&R.fillStyle(B,k*Z),O!==null&&R.lineStyle(D,O,I*Z)),U)R.arc(Y.position.x,Y.position.y,U,0,2*Math.PI);else{var j=Y.vertices,et=j.length;R.moveTo(j[0].x,j[0].y);for(var it=1;it<et;it++){var rt=j[it];if(!j[it-1].isInternal||b?R.lineTo(rt.x,rt.y):R.moveTo(rt.x,rt.y),it<et&&rt.isInternal&&!b){var lt=(it+1)%et;R.moveTo(j[lt].x,j[lt].y)}}R.closePath()}B!==null&&R.fillPath(),O!==null&&R.strokePath()}}if(z.showPositions&&!w.isStatic){var ft=w.position.x,pt=w.position.y,vt=Math.ceil(z.positionSize/2);R.fillStyle(z.positionColor,1),R.fillRect(ft-vt,pt-vt,z.positionSize,z.positionSize)}return this},renderConvexHull:function(w,R,b,O){O===void 0&&(O=1);var I=w.parts,D=I.length;if(D>1){var B=w.vertices;R.lineStyle(O,b),R.beginPath(),R.moveTo(B[0].x,B[0].y);for(var k=1;k<B.length;k++)R.lineTo(B[k].x,B[k].y);R.lineTo(B[0].x,B[0].y),R.strokePath()}return this},renderJoints:function(){for(var w=this.debugGraphic,R=h.allConstraints(this.localWorld),b=0;b<R.length;b++){var O=R[b].render,I=O.lineColor,D=O.lineOpacity,B=O.lineThickness,k=O.pinSize,z=O.anchorColor,X=O.anchorSize;this.renderConstraint(R[b],w,I,D,B,k,z,X)}},renderConstraint:function(w,R,b,O,I,D,B,k){var z=w.render;if(!z.visible||!w.pointA||!w.pointB)return this;R.lineStyle(I,b,O);var X=w.bodyA,K=w.bodyB,H,Q;if(X?H=E.add(X.position,w.pointA):H=w.pointA,z.type==="pin")R.strokeCircle(H.x,H.y,D);else{if(K?Q=E.add(K.position,w.pointB):Q=w.pointB,R.beginPath(),R.moveTo(H.x,H.y),z.type==="spring")for(var W=E.sub(Q,H),Y=E.perp(E.normalise(W)),N=Math.ceil(l.clamp(w.length/5,12,20)),Z,U=1;U<N;U+=1)Z=U%2===0?1:-1,R.lineTo(H.x+W.x*(U/N)+Y.x*Z*4,H.y+W.y*(U/N)+Y.y*Z*4);R.lineTo(Q.x,Q.y)}return R.strokePath(),z.anchors&&k>0&&(R.fillStyle(B),R.fillCircle(H.x,H.y,k),R.fillCircle(Q.x,Q.y,k)),this},resetCollisionIDs:function(){return y._nextCollidingGroupId=1,y._nextNonCollidingGroupId=-1,y._nextCategory=1,this},shutdown:function(){p.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),r.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});C.exports=P},70410:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setBounce:function(s){return this.body.restitution=s,this}};C.exports=A},66968:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setCollisionCategory:function(s){return this.body.collisionFilter.category=s,this},setCollisionGroup:function(s){return this.body.collisionFilter.group=s,this},setCollidesWith:function(s){var g=0;if(!Array.isArray(s))g=s;else for(var y=0;y<s.length;y++)g|=s[y];return this.body.collisionFilter.mask=g,this},setOnCollide:function(s){return this.body.onCollideCallback=s,this},setOnCollideEnd:function(s){return this.body.onCollideEndCallback=s,this},setOnCollideActive:function(s){return this.body.onCollideActiveCallback=s,this},setOnCollideWith:function(s,g){Array.isArray(s)||(s=[s]);for(var y=0;y<s.length;y++){var f=s[y].hasOwnProperty("body")?s[y].body:s[y];this.body.setOnCollideWith(f,g)}return this}};C.exports=A},51607:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22562),y={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),g.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,l){return g.applyForce(this.body,f,l),this},thrust:function(f){var l=this.body.angle;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),g.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var l=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),g.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var l=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),g.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var l=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),g.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};C.exports=y},5436:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setFriction:function(s,g,y){return this.body.friction=s,g!==void 0&&(this.body.frictionAir=g),y!==void 0&&(this.body.frictionStatic=y),this},setFrictionAir:function(s){return this.body.frictionAir=s,this},setFrictionStatic:function(s){return this.body.frictionStatic=s,this}};C.exports=A},39858:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setIgnoreGravity:function(s){return this.body.ignoreGravity=s,this}};C.exports=A},37302:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22562),y=s(26099),f={setMass:function(l){return g.setMass(this.body,l),this},setDensity:function(l){return g.setDensity(this.body,l),this},centerOfMass:{get:function(){return new y(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};C.exports=f},39132:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};C.exports=A},57772:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(66280),y=s(22562),f=s(43855),l=s(95540),h=s(19496),r=s(85791),o=s(41598),u={setRectangle:function(a,d,c){return this.setBody({type:"rectangle",width:a,height:d},c)},setCircle:function(a,d){return this.setBody({type:"circle",radius:a},d)},setPolygon:function(a,d,c){return this.setBody({type:"polygon",sides:d,radius:a},c)},setTrapezoid:function(a,d,c,p){return this.setBody({type:"trapezoid",width:a,height:d,slope:c},p)},setExistingBody:function(a,d){d===void 0&&(d=!0),this.body&&this.world.remove(this.body,!0),this.body=a;for(var c=0;c<a.parts.length;c++)a.parts[c].gameObject=this;var p=this;if(a.destroy=function(){p.world.remove(p.body,!0),p.body.gameObject=null},d&&(this.world.has(a)&&this.world.remove(a,!0),this.world.add(a)),this._originComponent){var v=a.render.sprite.xOffset,m=a.render.sprite.yOffset,T=a.centerOfMass.x,E=a.centerOfMass.y;if(f(T,.5)&&f(E,.5))this.setOrigin(v+.5,m+.5);else{var P=a.centerOffset.x,w=a.centerOffset.y;this.setOrigin(v+P/this.displayWidth,m+w/this.displayHeight)}}return this},setBody:function(a,d){if(!a)return this;var c;typeof a=="string"&&(a={type:a});var p=l(a,"type","rectangle"),v=l(a,"x",this._tempVec2.x),m=l(a,"y",this._tempVec2.y),T=l(a,"width",this.width),E=l(a,"height",this.height);switch(p){case"rectangle":c=g.rectangle(v,m,T,E,d);break;case"circle":var P=l(a,"radius",Math.max(T,E)/2),w=l(a,"maxSides",25);c=g.circle(v,m,P,d,w);break;case"trapezoid":var R=l(a,"slope",.5);c=g.trapezoid(v,m,T,E,R,d);break;case"polygon":var b=l(a,"sides",5),O=l(a,"radius",Math.max(T,E)/2);c=g.polygon(v,m,b,O,d);break;case"fromVertices":case"fromVerts":var I=l(a,"verts",null);if(I)if(typeof I=="string"&&(I=o.fromPath(I)),this.body&&!this.body.hasOwnProperty("temp"))y.setVertices(this.body,I),c=this.body;else{var D=l(a,"flagInternal",!1),B=l(a,"removeCollinear",.01),k=l(a,"minimumArea",10);c=g.fromVertices(v,m,I,d,D,B,k)}break;case"fromPhysicsEditor":c=h.parseBody(v,m,a,d);break;case"fromPhysicsTracer":c=r.parseBody(v,m,a,d);break}return c&&this.setExistingBody(c,a.addToWorld),this}};C.exports=u},38083:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(1121),y=s(53614),f=s(35810),l={setToSleep:function(){return y.set(this.body,!0),this},setAwake:function(){return y.set(this.body,!1),this},setSleepThreshold:function(h){return h===void 0&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,r){return this.setSleepStartEvent(h),this.setSleepEndEvent(r),this},setSleepStartEvent:function(h){if(h){var r=this.world;f.on(this.body,"sleepStart",function(o){r.emit(g.SLEEP_START,o,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var r=this.world;f.on(this.body,"sleepEnd",function(o){r.emit(g.SLEEP_END,o,this)})}else f.off(this.body,"sleepEnd");return this}};C.exports=l},90556:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22562),y={setStatic:function(f){return g.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}};C.exports=y},85436:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22562),y=s(36383),f=s(86554),l=s(30954),h=4,r={x:{get:function(){return this.body.position.x},set:function(o){this._tempVec2.set(o,this.y),g.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(o){this._tempVec2.set(this.x,o),g.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(o){this.setScale(o,o)}},scaleX:{get:function(){return this._scaleX},set:function(o){var u=1/this._scaleX,a=1/this._scaleY;this._scaleX=o,this._scaleX===0?this.renderFlags&=~h:this.renderFlags|=h,g.scale(this.body,u,a),g.scale(this.body,o,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(o){var u=1/this._scaleX,a=1/this._scaleY;this._scaleY=o,this._scaleY===0?this.renderFlags&=~h:this.renderFlags|=h,g.scale(this.body,u,a),g.scale(this.body,this._scaleX,o)}},angle:{get:function(){return l(this.body.angle*y.RAD_TO_DEG)},set:function(o){this.rotation=l(o)*y.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(o){this._rotation=f(o),g.setAngle(this.body,this._rotation)}},setPosition:function(o,u){return o===void 0&&(o=0),u===void 0&&(u=o),this._tempVec2.set(o,u),g.setPosition(this.body,this._tempVec2),this},setRotation:function(o){return o===void 0&&(o=0),this._rotation=f(o),g.setAngle(this.body,o),this},setFixedRotation:function(){return g.setInertia(this.body,1/0),this},setAngle:function(o){return o===void 0&&(o=0),this.angle=o,g.setAngle(this.body,this.rotation),this},setScale:function(o,u,a){o===void 0&&(o=1),u===void 0&&(u=o);var d=1/this._scaleX,c=1/this._scaleY;return this._scaleX=o,this._scaleY=u,g.scale(this.body,d,c,a),g.scale(this.body,o,u,a),this}};C.exports=r},42081:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(22562),y={setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),g.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),g.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,l){return this._tempVec2.set(f,l),g.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return g.getVelocity(this.body)},setAngularVelocity:function(f){return g.setAngularVelocity(this.body,f),this},getAngularVelocity:function(){return g.getAngularVelocity(this.body)},setAngularSpeed:function(f){return g.setAngularSpeed(this.body,f),this},getAngularSpeed:function(){return g.getAngularSpeed(this.body)}};C.exports=y},31884:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Bounce:s(70410),Collision:s(66968),Force:s(51607),Friction:s(5436),Gravity:s(39858),Mass:s(37302),Sensor:s(39132),SetBody:s(57772),Sleep:s(38083),Static:s(90556),Transform:s(85436),Velocity:s(42081)}},85608:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="afteradd"},1213:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="afterremove"},25968:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="afterupdate"},67205:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="beforeadd"},39438:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="beforeremove"},44823:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="beforeupdate"},92593:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="collisionactive"},60128:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="collisionend"},76861:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="collisionstart"},92362:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragend"},76408:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="drag"},93971:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dragstart"},5656:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},47861:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},79099:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="sleepend"},35906:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="sleepstart"},1121:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AFTER_ADD:s(85608),AFTER_REMOVE:s(1213),AFTER_UPDATE:s(25968),BEFORE_ADD:s(67205),BEFORE_REMOVE:s(39438),BEFORE_UPDATE:s(44823),COLLISION_ACTIVE:s(92593),COLLISION_END:s(60128),COLLISION_START:s(76861),DRAG_END:s(92362),DRAG:s(76408),DRAG_START:s(93971),PAUSE:s(5656),RESUME:s(47861),SLEEP_END:s(79099),SLEEP_START:s(35906)}},3875:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BodyBounds:s(68174),Components:s(31884),Events:s(1121),Factory:s(28137),MatterGameObject:s(75803),Image:s(23181),Matter:s(19933),MatterPhysics:s(42045),PolyDecomp:s(55973),Sprite:s(34803),TileBody:s(73834),PhysicsEditorParser:s(19496),PhysicsJSONParser:s(85791),PointerConstraint:s(98713),World:s(68243)}},22562:(C,A,s)=>{var g={};C.exports=g;var y=s(41598),f=s(31725),l=s(53614),h=s(53402),r=s(15647),o=s(66615);(function(){g._timeCorrection=!0,g._inertiaScale=4,g._nextCollidingGroupId=1,g._nextNonCollidingGroupId=-1,g._nextCategory=1,g._baseDelta=16.666666666666668,g.create=function(a){var d={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:a.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!a.hasOwnProperty("position")&&a.hasOwnProperty("vertices")?a.position=y.centre(a.vertices):a.hasOwnProperty("vertices")||(d.vertices=y.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var c=h.extend(d,a);return u(c,a),c.setOnCollideWith=function(p,v){return v?this.onCollideWith[p.id]=v:delete this.onCollideWith[p.id],this},c},g.nextGroup=function(a){return a?g._nextNonCollidingGroupId--:g._nextCollidingGroupId++},g.nextCategory=function(){return g._nextCategory=g._nextCategory<<1,g._nextCategory};var u=function(a,d){if(d=d||{},g.set(a,{bounds:a.bounds||r.create(a.vertices),positionPrev:a.positionPrev||f.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a}),y.rotate(a.vertices,a.angle,a.position),o.rotate(a.axes,a.angle),r.update(a.bounds,a.vertices,a.velocity),g.set(a,{axes:d.axes||a.axes,area:d.area||a.area,mass:d.mass||a.mass,inertia:d.inertia||a.inertia}),a.parts.length===1){var c=a.bounds,p=a.centerOfMass,v=a.centerOffset,m=c.max.x-c.min.x,T=c.max.y-c.min.y;p.x=-(c.min.x-a.position.x)/m,p.y=-(c.min.y-a.position.y)/T,v.x=m*p.x,v.y=T*p.y}};g.set=function(a,d,c){var p;typeof d=="string"&&(p=d,d={},d[p]=c);for(p in d)if(Object.prototype.hasOwnProperty.call(d,p))switch(c=d[p],p){case"isStatic":g.setStatic(a,c);break;case"isSleeping":l.set(a,c);break;case"mass":g.setMass(a,c);break;case"density":g.setDensity(a,c);break;case"inertia":g.setInertia(a,c);break;case"vertices":g.setVertices(a,c);break;case"position":g.setPosition(a,c);break;case"angle":g.setAngle(a,c);break;case"velocity":g.setVelocity(a,c);break;case"angularVelocity":g.setAngularVelocity(a,c);break;case"speed":g.setSpeed(a,c);break;case"angularSpeed":g.setAngularSpeed(a,c);break;case"parts":g.setParts(a,c);break;case"centre":g.setCentre(a,c);break;default:a[p]=c}},g.setStatic=function(a,d){for(var c=0;c<a.parts.length;c++){var p=a.parts[c];d?(p.isStatic||(p._original={restitution:p.restitution,friction:p.friction,mass:p.mass,inertia:p.inertia,density:p.density,inverseMass:p.inverseMass,inverseInertia:p.inverseInertia}),p.restitution=0,p.friction=1,p.mass=p.inertia=p.density=1/0,p.inverseMass=p.inverseInertia=0,p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.anglePrev=p.angle,p.angularVelocity=0,p.speed=0,p.angularSpeed=0,p.motion=0):p._original&&(p.restitution=p._original.restitution,p.friction=p._original.friction,p.mass=p._original.mass,p.inertia=p._original.inertia,p.density=p._original.density,p.inverseMass=p._original.inverseMass,p.inverseInertia=p._original.inverseInertia,p._original=null),p.isStatic=d}},g.setMass=function(a,d){var c=a.inertia/(a.mass/6);a.inertia=c*(d/6),a.inverseInertia=1/a.inertia,a.mass=d,a.inverseMass=1/a.mass,a.density=a.mass/a.area},g.setDensity=function(a,d){g.setMass(a,d*a.area),a.density=d},g.setInertia=function(a,d){a.inertia=d,a.inverseInertia=1/a.inertia},g.setVertices=function(a,d){d[0].body===a?a.vertices=d:a.vertices=y.create(d,a),a.axes=o.fromVertices(a.vertices),a.area=y.area(a.vertices),g.setMass(a,a.density*a.area);var c=y.centre(a.vertices);y.translate(a.vertices,c,-1),g.setInertia(a,g._inertiaScale*y.inertia(a.vertices,a.mass)),y.translate(a.vertices,a.position),r.update(a.bounds,a.vertices,a.velocity)},g.setParts=function(a,d,c){var p;for(d=d.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,p=0;p<d.length;p++){var v=d[p];v!==a&&(v.parent=a,a.parts.push(v))}if(a.parts.length!==1){if(c=typeof c<"u"?c:!0,c){var m=[];for(p=0;p<d.length;p++)m=m.concat(d[p].vertices);y.clockwiseSort(m);var T=y.hull(m),E=y.centre(T);g.setVertices(a,T),y.translate(a.vertices,E)}var P=g._totalProperties(a),w=P.centre.x,R=P.centre.y,b=a.bounds,O=a.centerOfMass,I=a.centerOffset;r.update(b,a.vertices,a.velocity),O.x=-(b.min.x-w)/(b.max.x-b.min.x),O.y=-(b.min.y-R)/(b.max.y-b.min.y),I.x=w,I.y=R,a.area=P.area,a.parent=a,a.position.x=w,a.position.y=R,a.positionPrev.x=w,a.positionPrev.y=R,g.setMass(a,P.mass),g.setInertia(a,P.inertia),g.setPosition(a,P.centre)}},g.setCentre=function(a,d,c){c?(a.positionPrev.x+=d.x,a.positionPrev.y+=d.y,a.position.x+=d.x,a.position.y+=d.y):(a.positionPrev.x=d.x-(a.position.x-a.positionPrev.x),a.positionPrev.y=d.y-(a.position.y-a.positionPrev.y),a.position.x=d.x,a.position.y=d.y)},g.setPosition=function(a,d,c){var p=f.sub(d,a.position);c?(a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.velocity.x=p.x,a.velocity.y=p.y,a.speed=f.magnitude(p)):(a.positionPrev.x+=p.x,a.positionPrev.y+=p.y);for(var v=0;v<a.parts.length;v++){var m=a.parts[v];m.position.x+=p.x,m.position.y+=p.y,y.translate(m.vertices,p),r.update(m.bounds,m.vertices,a.velocity)}},g.setAngle=function(a,d,c){var p=d-a.angle;c?(a.anglePrev=a.angle,a.angularVelocity=p,a.angularSpeed=Math.abs(p)):a.anglePrev+=p;for(var v=0;v<a.parts.length;v++){var m=a.parts[v];m.angle+=p,y.rotate(m.vertices,p,a.position),o.rotate(m.axes,p),r.update(m.bounds,m.vertices,a.velocity),v>0&&f.rotateAbout(m.position,p,a.position,m.position)}},g.setVelocity=function(a,d){var c=a.deltaTime/g._baseDelta;a.positionPrev.x=a.position.x-d.x*c,a.positionPrev.y=a.position.y-d.y*c,a.velocity.x=(a.position.x-a.positionPrev.x)/c,a.velocity.y=(a.position.y-a.positionPrev.y)/c,a.speed=f.magnitude(a.velocity)},g.getVelocity=function(a){var d=g._baseDelta/a.deltaTime;return{x:(a.position.x-a.positionPrev.x)*d,y:(a.position.y-a.positionPrev.y)*d}},g.getSpeed=function(a){return f.magnitude(g.getVelocity(a))},g.setSpeed=function(a,d){g.setVelocity(a,f.mult(f.normalise(g.getVelocity(a)),d))},g.setAngularVelocity=function(a,d){var c=a.deltaTime/g._baseDelta;a.anglePrev=a.angle-d*c,a.angularVelocity=(a.angle-a.anglePrev)/c,a.angularSpeed=Math.abs(a.angularVelocity)},g.getAngularVelocity=function(a){return(a.angle-a.anglePrev)*g._baseDelta/a.deltaTime},g.getAngularSpeed=function(a){return Math.abs(g.getAngularVelocity(a))},g.setAngularSpeed=function(a,d){g.setAngularVelocity(a,h.sign(g.getAngularVelocity(a))*d)},g.translate=function(a,d,c){g.setPosition(a,f.add(a.position,d),c)},g.rotate=function(a,d,c,p){if(!c)g.setAngle(a,a.angle+d,p);else{var v=Math.cos(d),m=Math.sin(d),T=a.position.x-c.x,E=a.position.y-c.y;g.setPosition(a,{x:c.x+(T*v-E*m),y:c.y+(T*m+E*v)},p),g.setAngle(a,a.angle+d,p)}},g.scale=function(a,d,c,p){var v=0,m=0;p=p||a.position;for(var T=a.inertia===1/0,E=0;E<a.parts.length;E++){var P=a.parts[E];P.scale.x=d,P.scale.y=c,y.scale(P.vertices,d,c,p),P.axes=o.fromVertices(P.vertices),P.area=y.area(P.vertices),g.setMass(P,a.density*P.area),y.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),g.setInertia(P,g._inertiaScale*y.inertia(P.vertices,P.mass)),y.translate(P.vertices,{x:P.position.x,y:P.position.y}),E>0&&(v+=P.area,m+=P.inertia),P.position.x=p.x+(P.position.x-p.x)*d,P.position.y=p.y+(P.position.y-p.y)*c,r.update(P.bounds,P.vertices,a.velocity)}a.parts.length>1&&(a.area=v,a.isStatic||(g.setMass(a,a.density*v),g.setInertia(a,m))),a.circleRadius&&(d===c?a.circleRadius*=d:a.circleRadius=null),T&&g.setInertia(a,1/0)},g.update=function(a,d){d=(typeof d<"u"?d:16.666666666666668)*a.timeScale;var c=d*d,p=g._timeCorrection?d/(a.deltaTime||d):1,v=1-a.frictionAir*(d/h._baseDelta),m=(a.position.x-a.positionPrev.x)*p,T=(a.position.y-a.positionPrev.y)*p;a.velocity.x=m*v+a.force.x/a.mass*c,a.velocity.y=T*v+a.force.y/a.mass*c,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.deltaTime=d,a.angularVelocity=(a.angle-a.anglePrev)*v*p+a.torque/a.inertia*c,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=f.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var E=0;E<a.parts.length;E++){var P=a.parts[E];y.translate(P.vertices,a.velocity),E>0&&(P.position.x+=a.velocity.x,P.position.y+=a.velocity.y),a.angularVelocity!==0&&(y.rotate(P.vertices,a.angularVelocity,a.position),o.rotate(P.axes,a.angularVelocity),E>0&&f.rotateAbout(P.position,a.angularVelocity,a.position,P.position)),r.update(P.bounds,P.vertices,a.velocity)}},g.updateVelocities=function(a){var d=g._baseDelta/a.deltaTime,c=a.velocity;c.x=(a.position.x-a.positionPrev.x)*d,c.y=(a.position.y-a.positionPrev.y)*d,a.speed=Math.sqrt(c.x*c.x+c.y*c.y),a.angularVelocity=(a.angle-a.anglePrev)*d,a.angularSpeed=Math.abs(a.angularVelocity)},g.applyForce=function(a,d,c){var p={x:d.x-a.position.x,y:d.y-a.position.y};a.force.x+=c.x,a.force.y+=c.y,a.torque+=p.x*c.y-p.y*c.x},g._totalProperties=function(a){for(var d={mass:0,area:0,inertia:0,centre:{x:0,y:0}},c=a.parts.length===1?0:1;c<a.parts.length;c++){var p=a.parts[c],v=p.mass!==1/0?p.mass:1;d.mass+=v,d.area+=p.area,d.inertia+=p.inertia,d.centre=f.add(d.centre,f.mult(p.position,v))}return d.centre=f.div(d.centre,d.mass),d},g.wrap=function(a,d){var c=r.wrap(a.bounds,d);return c&&g.translate(a,c),c}})()},69351:(C,A,s)=>{var g={};C.exports=g;var y=s(35810),f=s(53402),l=s(15647),h=s(22562);(function(){g.create=function(r){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},r)},g.setModified=function(r,o,u,a){if(y.trigger(r,"compositeModified",r),r.isModified=o,o&&r.cache&&(r.cache.allBodies=null,r.cache.allConstraints=null,r.cache.allComposites=null),u&&r.parent&&g.setModified(r.parent,o,u,a),a)for(var d=0;d<r.composites.length;d++){var c=r.composites[d];g.setModified(c,o,u,a)}},g.add=function(r,o){var u=[].concat(o);y.trigger(r,"beforeAdd",{object:o});for(var a=0;a<u.length;a++){var d=u[a];switch(d.type){case"body":if(d.parent!==d){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}g.addBody(r,d);break;case"constraint":g.addConstraint(r,d);break;case"composite":g.addComposite(r,d);break;case"mouseConstraint":g.addConstraint(r,d.constraint);break}}return y.trigger(r,"afterAdd",{object:o}),r},g.remove=function(r,o,u){var a=[].concat(o);y.trigger(r,"beforeRemove",{object:o});for(var d=0;d<a.length;d++){var c=a[d];switch(c.type){case"body":g.removeBody(r,c,u);break;case"constraint":g.removeConstraint(r,c,u);break;case"composite":g.removeComposite(r,c,u);break;case"mouseConstraint":g.removeConstraint(r,c.constraint);break}}return y.trigger(r,"afterRemove",{object:o}),r},g.addComposite=function(r,o){return r.composites.push(o),o.parent=r,g.setModified(r,!0,!0,!1),r},g.removeComposite=function(r,o,u){var a=f.indexOf(r.composites,o);if(a!==-1){var d=g.allBodies(o);g.removeCompositeAt(r,a);for(var c=0;c<d.length;c++)d[c].sleepCounter=0}if(u)for(var c=0;c<r.composites.length;c++)g.removeComposite(r.composites[c],o,!0);return r},g.removeCompositeAt=function(r,o){return r.composites.splice(o,1),g.setModified(r,!0,!0,!1),r},g.addBody=function(r,o){return r.bodies.push(o),g.setModified(r,!0,!0,!1),r},g.removeBody=function(r,o,u){var a=f.indexOf(r.bodies,o);if(a!==-1&&(g.removeBodyAt(r,a),o.sleepCounter=0),u)for(var d=0;d<r.composites.length;d++)g.removeBody(r.composites[d],o,!0);return r},g.removeBodyAt=function(r,o){return r.bodies.splice(o,1),g.setModified(r,!0,!0,!1),r},g.addConstraint=function(r,o){return r.constraints.push(o),g.setModified(r,!0,!0,!1),r},g.removeConstraint=function(r,o,u){var a=f.indexOf(r.constraints,o);if(a!==-1&&g.removeConstraintAt(r,a),u)for(var d=0;d<r.composites.length;d++)g.removeConstraint(r.composites[d],o,!0);return r},g.removeConstraintAt=function(r,o){return r.constraints.splice(o,1),g.setModified(r,!0,!0,!1),r},g.clear=function(r,o,u){if(u)for(var a=0;a<r.composites.length;a++)g.clear(r.composites[a],o,!0);return o?r.bodies=r.bodies.filter(function(d){return d.isStatic}):r.bodies.length=0,r.constraints.length=0,r.composites.length=0,g.setModified(r,!0,!0,!1),r},g.allBodies=function(r){if(r.cache&&r.cache.allBodies)return r.cache.allBodies;for(var o=[].concat(r.bodies),u=0;u<r.composites.length;u++)o=o.concat(g.allBodies(r.composites[u]));return r.cache&&(r.cache.allBodies=o),o},g.allConstraints=function(r){if(r.cache&&r.cache.allConstraints)return r.cache.allConstraints;for(var o=[].concat(r.constraints),u=0;u<r.composites.length;u++)o=o.concat(g.allConstraints(r.composites[u]));return r.cache&&(r.cache.allConstraints=o),o},g.allComposites=function(r){if(r.cache&&r.cache.allComposites)return r.cache.allComposites;for(var o=[].concat(r.composites),u=0;u<r.composites.length;u++)o=o.concat(g.allComposites(r.composites[u]));return r.cache&&(r.cache.allComposites=o),o},g.get=function(r,o,u){var a,d;switch(u){case"body":a=g.allBodies(r);break;case"constraint":a=g.allConstraints(r);break;case"composite":a=g.allComposites(r).concat(r);break}return a?(d=a.filter(function(c){return c.id.toString()===o.toString()}),d.length===0?null:d[0]):null},g.move=function(r,o,u){return g.remove(r,o),g.add(u,o),r},g.rebase=function(r){for(var o=g.allBodies(r).concat(g.allConstraints(r)).concat(g.allComposites(r)),u=0;u<o.length;u++)o[u].id=f.nextId();return r},g.translate=function(r,o,u){for(var a=u?g.allBodies(r):r.bodies,d=0;d<a.length;d++)h.translate(a[d],o);return r},g.rotate=function(r,o,u,a){for(var d=Math.cos(o),c=Math.sin(o),p=a?g.allBodies(r):r.bodies,v=0;v<p.length;v++){var m=p[v],T=m.position.x-u.x,E=m.position.y-u.y;h.setPosition(m,{x:u.x+(T*d-E*c),y:u.y+(T*c+E*d)}),h.rotate(m,o)}return r},g.scale=function(r,o,u,a,d){for(var c=d?g.allBodies(r):r.bodies,p=0;p<c.length;p++){var v=c[p],m=v.position.x-a.x,T=v.position.y-a.y;h.setPosition(v,{x:a.x+m*o,y:a.y+T*u}),h.scale(v,o,u)}return r},g.bounds=function(r){for(var o=g.allBodies(r),u=[],a=0;a<o.length;a+=1){var d=o[a];u.push(d.bounds.min,d.bounds.max)}return l.create(u)},g.wrap=function(r,o){var u=l.wrap(g.bounds(r),o);return u&&g.translate(r,u),u}})()},4372:(C,A,s)=>{var g={};C.exports=g;var y=s(69351);(function(){g.create=y.create,g.add=y.add,g.remove=y.remove,g.clear=y.clear,g.addComposite=y.addComposite,g.addBody=y.addBody,g.addConstraint=y.addConstraint})()},52284:(C,A,s)=>{var g={};C.exports=g;var y=s(41598),f=s(4506);(function(){var l=[],h={overlap:0,axis:null},r={overlap:0,axis:null};g.create=function(o,u){return{pair:null,collided:!1,bodyA:o,bodyB:u,parentA:o.parent,parentB:u.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},g.collides=function(o,u,a){if(g._overlapAxes(h,o.vertices,u.vertices,o.axes),h.overlap<=0||(g._overlapAxes(r,u.vertices,o.vertices,u.axes),r.overlap<=0))return null;var d=a&&a.table[f.id(o,u)],c;d?c=d.collision:(c=g.create(o,u),c.collided=!0,c.bodyA=o.id<u.id?o:u,c.bodyB=o.id<u.id?u:o,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent),o=c.bodyA,u=c.bodyB;var p;h.overlap<r.overlap?p=h:p=r;var v=c.normal,m=c.tangent,T=c.penetration,E=c.supports,P=p.overlap,w=p.axis,R=w.x,b=w.y,O=u.position.x-o.position.x,I=u.position.y-o.position.y;R*O+b*I>=0&&(R=-R,b=-b),v.x=R,v.y=b,m.x=-b,m.y=R,T.x=R*P,T.y=b*P,c.depth=P;var D=g._findSupports(o,u,v,1),B=0;if(y.contains(o.vertices,D[0])&&(E[B++]=D[0]),y.contains(o.vertices,D[1])&&(E[B++]=D[1]),B<2){var k=g._findSupports(u,o,v,-1);y.contains(u.vertices,k[0])&&(E[B++]=k[0]),B<2&&y.contains(u.vertices,k[1])&&(E[B++]=k[1])}return B===0&&(E[B++]=D[0]),c.supportCount=B,c},g._overlapAxes=function(o,u,a,d){var c=u.length,p=a.length,v=u[0].x,m=u[0].y,T=a[0].x,E=a[0].y,P=d.length,w=Number.MAX_VALUE,R=0,b,O,I,D,B,k;for(B=0;B<P;B++){var z=d[B],X=z.x,K=z.y,H=v*X+m*K,Q=T*X+E*K,W=H,Y=Q;for(k=1;k<c;k+=1)D=u[k].x*X+u[k].y*K,D>W?W=D:D<H&&(H=D);for(k=1;k<p;k+=1)D=a[k].x*X+a[k].y*K,D>Y?Y=D:D<Q&&(Q=D);if(O=W-Q,I=Y-H,b=O<I?O:I,b<w&&(w=b,R=B,b<=0))break}o.axis=d[R],o.overlap=w},g._findSupports=function(o,u,a,d){var c=u.vertices,p=c.length,v=o.position.x,m=o.position.y,T=a.x*d,E=a.y*d,P=c[0],w=P,R=T*(v-w.x)+E*(m-w.y),b,O,I;for(I=1;I<p;I+=1)w=c[I],O=T*(v-w.x)+E*(m-w.y),O<R&&(R=O,P=w);return b=c[(p+P.index-1)%p],R=T*(v-b.x)+E*(m-b.y),w=c[(P.index+1)%p],T*(v-w.x)+E*(m-w.y)<R?(l[0]=P,l[1]=w,l):(l[0]=P,l[1]=b,l)}})()},43424:C=>{var A={};C.exports=A,function(){A.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},81388:(C,A,s)=>{var g={};C.exports=g;var y=s(53402),f=s(52284);(function(){g.create=function(l){var h={bodies:[],collisions:[],pairs:null};return y.extend(h,l)},g.setBodies=function(l,h){l.bodies=h.slice(0)},g.clear=function(l){l.bodies=[],l.collisions=[]},g.collisions=function(l){var h=l.pairs,r=l.bodies,o=r.length,u=g.canCollide,a=f.collides,d=l.collisions,c=0,p,v;for(r.sort(g._compareBoundsX),p=0;p<o;p++){var m=r[p],T=m.bounds,E=m.bounds.max.x,P=m.bounds.max.y,w=m.bounds.min.y,R=m.isStatic||m.isSleeping,b=m.parts.length,O=b===1;for(v=p+1;v<o;v++){var I=r[v],D=I.bounds;if(D.min.x>E)break;if(!(P<D.min.y||w>D.max.y)&&!(R&&(I.isStatic||I.isSleeping))&&u(m.collisionFilter,I.collisionFilter)){var B=I.parts.length;if(O&&B===1){var k=a(m,I,h);k&&(d[c++]=k)}else for(var z=b>1?1:0,X=B>1?1:0,K=z;K<b;K++)for(var H=m.parts[K],T=H.bounds,Q=X;Q<B;Q++){var W=I.parts[Q],D=W.bounds;if(!(T.min.x>D.max.x||T.max.x<D.min.x||T.max.y<D.min.y||T.min.y>D.max.y)){var k=a(H,W,h);k&&(d[c++]=k)}}}}}return d.length!==c&&(d.length=c),d},g.canCollide=function(l,h){return l.group===h.group&&l.group!==0?l.group>0:(l.mask&h.category)!==0&&(h.mask&l.category)!==0},g._compareBoundsX=function(l,h){return l.bounds.min.x-h.bounds.min.x}})()},4506:(C,A,s)=>{var g={};C.exports=g;var y=s(43424);(function(){g.create=function(f,l){var h=f.bodyA,r=f.bodyB,o={id:g.id(h,r),bodyA:h,bodyB:r,collision:f,contacts:[y.create(),y.create()],contactCount:0,separation:0,isActive:!0,isSensor:h.isSensor||r.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return g.update(o,f,l),o},g.update=function(f,l,h){var r=l.supports,o=l.supportCount,u=f.contacts,a=l.parentA,d=l.parentB;f.isActive=!0,f.timeUpdated=h,f.collision=l,f.separation=l.depth,f.inverseMass=a.inverseMass+d.inverseMass,f.friction=a.friction<d.friction?a.friction:d.friction,f.frictionStatic=a.frictionStatic>d.frictionStatic?a.frictionStatic:d.frictionStatic,f.restitution=a.restitution>d.restitution?a.restitution:d.restitution,f.slop=a.slop>d.slop?a.slop:d.slop,f.contactCount=o,l.pair=f;var c=r[0],p=u[0],v=r[1],m=u[1];(m.vertex===c||p.vertex===v)&&(u[1]=p,u[0]=p=m,m=u[1]),p.vertex=c,m.vertex=v},g.setActive=function(f,l,h){l?(f.isActive=!0,f.timeUpdated=h):(f.isActive=!1,f.contactCount=0)},g.id=function(f,l){return f.id<l.id?f.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+f.id.toString(36)}})()},99561:(C,A,s)=>{var g={};C.exports=g;var y=s(4506),f=s(53402);(function(){g.create=function(l){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},g.update=function(l,h,r){var o=y.update,u=y.create,a=y.setActive,d=l.table,c=l.list,p=c.length,v=p,m=l.collisionStart,T=l.collisionEnd,E=l.collisionActive,P=h.length,w=0,R=0,b=0,O,I,D;for(D=0;D<P;D++)O=h[D],I=O.pair,I?(I.isActive&&(E[b++]=I),o(I,O,r)):(I=u(O,r),d[I.id]=I,m[w++]=I,c[v++]=I);for(v=0,p=c.length,D=0;D<p;D++)I=c[D],I.timeUpdated>=r?c[v++]=I:(a(I,!1,r),I.collision.bodyA.sleepCounter>0&&I.collision.bodyB.sleepCounter>0?c[v++]=I:(T[R++]=I,delete d[I.id]));c.length!==v&&(c.length=v),m.length!==w&&(m.length=w),T.length!==R&&(T.length=R),E.length!==b&&(E.length=b)},g.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},73296:(C,A,s)=>{var g={};C.exports=g;var y=s(31725),f=s(52284),l=s(15647),h=s(66280),r=s(41598);(function(){g.collides=function(o,u){for(var a=[],d=u.length,c=o.bounds,p=f.collides,v=l.overlaps,m=0;m<d;m++){var T=u[m],E=T.parts.length,P=E===1?0:1;if(o!==T&&v(T.bounds,c))for(var w=P;w<E;w++){var R=T.parts[w];if(v(R.bounds,c)){var b=p(R,o);if(b){a.push(b);break}}}}return a},g.ray=function(o,u,a,d){d=d||1e-100;for(var c=y.angle(u,a),p=y.magnitude(y.sub(u,a)),v=(a.x+u.x)*.5,m=(a.y+u.y)*.5,T=h.rectangle(v,m,p,d,{angle:c}),E=g.collides(T,o),P=0;P<E.length;P+=1){var w=E[P];w.body=w.bodyB=w.bodyA}return E},g.region=function(o,u,a){for(var d=[],c=0;c<o.length;c++){var p=o[c],v=l.overlaps(p.bounds,u);(v&&!a||!v&&a)&&d.push(p)}return d},g.point=function(o,u){for(var a=[],d=0;d<o.length;d++){var c=o[d];if(l.contains(c.bounds,u))for(var p=c.parts.length===1?0:1;p<c.parts.length;p++){var v=c.parts[p];if(l.contains(v.bounds,u)&&r.contains(v.vertices,u)){a.push(c);break}}}return a}})()},66272:(C,A,s)=>{var g={};C.exports=g;var y=s(41598),f=s(53402),l=s(15647);(function(){g._restingThresh=2,g._restingThreshTangent=Math.sqrt(6),g._positionDampen=.9,g._positionWarming=.8,g._frictionNormalMultiplier=5,g._frictionMaxStatic=Number.MAX_VALUE,g.preSolvePosition=function(h){var r,o,u,a=h.length;for(r=0;r<a;r++)o=h[r],o.isActive&&(u=o.contactCount,o.collision.parentA.totalContacts+=u,o.collision.parentB.totalContacts+=u)},g.solvePosition=function(h,r,o){var u,a,d,c,p,v,m,T,E=g._positionDampen*(o||1),P=f.clamp(r/f._baseDelta,0,1),w=h.length;for(u=0;u<w;u++)a=h[u],!(!a.isActive||a.isSensor)&&(d=a.collision,c=d.parentA,p=d.parentB,v=d.normal,a.separation=d.depth+v.x*(p.positionImpulse.x-c.positionImpulse.x)+v.y*(p.positionImpulse.y-c.positionImpulse.y));for(u=0;u<w;u++)a=h[u],!(!a.isActive||a.isSensor)&&(d=a.collision,c=d.parentA,p=d.parentB,v=d.normal,T=a.separation-a.slop*P,(c.isStatic||p.isStatic)&&(T*=2),c.isStatic||c.isSleeping||(m=E/c.totalContacts,c.positionImpulse.x+=v.x*T*m,c.positionImpulse.y+=v.y*T*m),p.isStatic||p.isSleeping||(m=E/p.totalContacts,p.positionImpulse.x-=v.x*T*m,p.positionImpulse.y-=v.y*T*m))},g.postSolvePosition=function(h){for(var r=g._positionWarming,o=h.length,u=y.translate,a=l.update,d=0;d<o;d++){var c=h[d],p=c.positionImpulse,v=p.x,m=p.y,T=c.velocity;if(c.totalContacts=0,v!==0||m!==0){for(var E=0;E<c.parts.length;E++){var P=c.parts[E];u(P.vertices,p),a(P.bounds,P.vertices,T),P.position.x+=v,P.position.y+=m}c.positionPrev.x+=v,c.positionPrev.y+=m,v*T.x+m*T.y<0?(p.x=0,p.y=0):(p.x*=r,p.y*=r)}}},g.preSolveVelocity=function(h){var r=h.length,o,u;for(o=0;o<r;o++){var a=h[o];if(!(!a.isActive||a.isSensor)){var d=a.contacts,c=a.contactCount,p=a.collision,v=p.parentA,m=p.parentB,T=p.normal,E=p.tangent;for(u=0;u<c;u++){var P=d[u],w=P.vertex,R=P.normalImpulse,b=P.tangentImpulse;if(R!==0||b!==0){var O=T.x*R+E.x*b,I=T.y*R+E.y*b;v.isStatic||v.isSleeping||(v.positionPrev.x+=O*v.inverseMass,v.positionPrev.y+=I*v.inverseMass,v.anglePrev+=v.inverseInertia*((w.x-v.position.x)*I-(w.y-v.position.y)*O)),m.isStatic||m.isSleeping||(m.positionPrev.x-=O*m.inverseMass,m.positionPrev.y-=I*m.inverseMass,m.anglePrev-=m.inverseInertia*((w.x-m.position.x)*I-(w.y-m.position.y)*O))}}}}},g.solveVelocity=function(h,r){var o=r/f._baseDelta,u=o*o,a=u*o,d=-g._restingThresh*o,c=g._restingThreshTangent,p=g._frictionNormalMultiplier*o,v=g._frictionMaxStatic,m=h.length,T,E,P,w;for(P=0;P<m;P++){var R=h[P];if(!(!R.isActive||R.isSensor)){var b=R.collision,O=b.parentA,I=b.parentB,D=b.normal.x,B=b.normal.y,k=b.tangent.x,z=b.tangent.y,X=R.inverseMass,K=R.friction*R.frictionStatic*p,H=R.contacts,Q=R.contactCount,W=1/Q,Y=O.position.x-O.positionPrev.x,N=O.position.y-O.positionPrev.y,Z=O.angle-O.anglePrev,U=I.position.x-I.positionPrev.x,j=I.position.y-I.positionPrev.y,et=I.angle-I.anglePrev;for(w=0;w<Q;w++){var it=H[w],rt=it.vertex,lt=rt.x-O.position.x,ft=rt.y-O.position.y,pt=rt.x-I.position.x,vt=rt.y-I.position.y,xt=Y-ft*Z,yt=N+lt*Z,Ct=U-vt*et,wt=j+pt*et,Lt=xt-Ct,bt=yt-wt,St=D*Lt+B*bt,Et=k*Lt+z*bt,Mt=R.separation+St,Vt=Math.min(Mt,1);Vt=Mt<0?0:Vt;var Kt=Vt*K;Et<-Kt||Et>Kt?(E=Et>0?Et:-Et,T=R.friction*(Et>0?1:-1)*a,T<-E?T=-E:T>E&&(T=E)):(T=Et,E=v);var he=lt*B-ft*D,Jt=pt*B-vt*D,Qt=W/(X+O.inverseInertia*he*he+I.inverseInertia*Jt*Jt),ce=(1+R.restitution)*St*Qt;if(T*=Qt,St<d)it.normalImpulse=0;else{var be=it.normalImpulse;it.normalImpulse+=ce,it.normalImpulse>0&&(it.normalImpulse=0),ce=it.normalImpulse-be}if(Et<-c||Et>c)it.tangentImpulse=0;else{var $t=it.tangentImpulse;it.tangentImpulse+=T,it.tangentImpulse<-E&&(it.tangentImpulse=-E),it.tangentImpulse>E&&(it.tangentImpulse=E),T=it.tangentImpulse-$t}var le=D*ce+k*T,Gt=B*ce+z*T;O.isStatic||O.isSleeping||(O.positionPrev.x+=le*O.inverseMass,O.positionPrev.y+=Gt*O.inverseMass,O.anglePrev+=(lt*Gt-ft*le)*O.inverseInertia),I.isStatic||I.isSleeping||(I.positionPrev.x-=le*I.inverseMass,I.positionPrev.y-=Gt*I.inverseMass,I.anglePrev-=(pt*Gt-vt*le)*I.inverseInertia)}}}}})()},48140:(C,A,s)=>{var g={};C.exports=g;var y=s(41598),f=s(31725),l=s(53614),h=s(15647),r=s(66615),o=s(53402);(function(){g._warming=.4,g._torqueDampen=1,g._minLength=1e-6,g.create=function(u){var a=u;a.bodyA&&!a.pointA&&(a.pointA={x:0,y:0}),a.bodyB&&!a.pointB&&(a.pointB={x:0,y:0});var d=a.bodyA?f.add(a.bodyA.position,a.pointA):a.pointA,c=a.bodyB?f.add(a.bodyB.position,a.pointB):a.pointB,p=f.magnitude(f.sub(d,c));a.length=typeof a.length<"u"?a.length:p,a.id=a.id||o.nextId(),a.label=a.label||"Constraint",a.type="constraint",a.stiffness=a.stiffness||(a.length>0?1:.7),a.damping=a.damping||0,a.angularStiffness=a.angularStiffness||0,a.angleA=a.bodyA?a.bodyA.angle:a.angleA,a.angleB=a.bodyB?a.bodyB.angle:a.angleB,a.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return a.length===0&&a.stiffness>.1?(v.type="pin",v.anchors=!1):a.stiffness<.9&&(v.type="spring"),a.render=o.extend(v,a.render),a},g.preSolveAll=function(u){for(var a=0;a<u.length;a+=1){var d=u[a],c=d.constraintImpulse;d.isStatic||c.x===0&&c.y===0&&c.angle===0||(d.position.x+=c.x,d.position.y+=c.y,d.angle+=c.angle)}},g.solveAll=function(u,a){for(var d=o.clamp(a/o._baseDelta,0,1),c=0;c<u.length;c+=1){var p=u[c],v=!p.bodyA||p.bodyA&&p.bodyA.isStatic,m=!p.bodyB||p.bodyB&&p.bodyB.isStatic;(v||m)&&g.solve(u[c],d)}for(c=0;c<u.length;c+=1)p=u[c],v=!p.bodyA||p.bodyA&&p.bodyA.isStatic,m=!p.bodyB||p.bodyB&&p.bodyB.isStatic,!v&&!m&&g.solve(u[c],d)},g.solve=function(u,a){var d=u.bodyA,c=u.bodyB,p=u.pointA,v=u.pointB;if(!(!d&&!c)){d&&!d.isStatic&&(f.rotate(p,d.angle-u.angleA,p),u.angleA=d.angle),c&&!c.isStatic&&(f.rotate(v,c.angle-u.angleB,v),u.angleB=c.angle);var m=p,T=v;if(d&&(m=f.add(d.position,p)),c&&(T=f.add(c.position,v)),!(!m||!T)){var E=f.sub(m,T),P=f.magnitude(E);P<g._minLength&&(P=g._minLength);var w=(P-u.length)/P,R=u.stiffness>=1||u.length===0,b=R?u.stiffness*a:u.stiffness*a*a,O=u.damping*a,I=f.mult(E,w*b),D=(d?d.inverseMass:0)+(c?c.inverseMass:0),B=(d?d.inverseInertia:0)+(c?c.inverseInertia:0),k=D+B,z,X,K,H,Q;if(O>0){var W=f.create();K=f.div(E,P),Q=f.sub(c&&f.sub(c.position,c.positionPrev)||W,d&&f.sub(d.position,d.positionPrev)||W),H=f.dot(K,Q)}d&&!d.isStatic&&(X=d.inverseMass/D,d.constraintImpulse.x-=I.x*X,d.constraintImpulse.y-=I.y*X,d.position.x-=I.x*X,d.position.y-=I.y*X,O>0&&(d.positionPrev.x-=O*K.x*H*X,d.positionPrev.y-=O*K.y*H*X),z=f.cross(p,I)/k*g._torqueDampen*d.inverseInertia*(1-u.angularStiffness),d.constraintImpulse.angle-=z,d.angle-=z),c&&!c.isStatic&&(X=c.inverseMass/D,c.constraintImpulse.x+=I.x*X,c.constraintImpulse.y+=I.y*X,c.position.x+=I.x*X,c.position.y+=I.y*X,O>0&&(c.positionPrev.x+=O*K.x*H*X,c.positionPrev.y+=O*K.y*H*X),z=f.cross(v,I)/k*g._torqueDampen*c.inverseInertia*(1-u.angularStiffness),c.constraintImpulse.angle+=z,c.angle+=z)}}},g.postSolveAll=function(u){for(var a=0;a<u.length;a++){var d=u[a],c=d.constraintImpulse;if(!(d.isStatic||c.x===0&&c.y===0&&c.angle===0)){l.set(d,!1);for(var p=0;p<d.parts.length;p++){var v=d.parts[p];y.translate(v.vertices,c),p>0&&(v.position.x+=c.x,v.position.y+=c.y),c.angle!==0&&(y.rotate(v.vertices,c.angle,d.position),r.rotate(v.axes,c.angle),p>0&&f.rotateAbout(v.position,c.angle,d.position,v.position)),h.update(v.bounds,v.vertices,d.velocity)}c.angle*=g._warming,c.x*=g._warming,c.y*=g._warming}}},g.pointAWorld=function(u){return{x:(u.bodyA?u.bodyA.position.x:0)+(u.pointA?u.pointA.x:0),y:(u.bodyA?u.bodyA.position.y:0)+(u.pointA?u.pointA.y:0)}},g.pointBWorld=function(u){return{x:(u.bodyB?u.bodyB.position.x:0)+(u.pointB?u.pointB.x:0),y:(u.bodyB?u.bodyB.position.y:0)+(u.pointB?u.pointB.y:0)}},g.currentLength=function(u){var a=(u.bodyA?u.bodyA.position.x:0)+(u.pointA?u.pointA.x:0),d=(u.bodyA?u.bodyA.position.y:0)+(u.pointA?u.pointA.y:0),c=(u.bodyB?u.bodyB.position.x:0)+(u.pointB?u.pointB.x:0),p=(u.bodyB?u.bodyB.position.y:0)+(u.pointB?u.pointB.y:0),v=a-c,m=d-p;return Math.sqrt(v*v+m*m)}})()},53402:(C,A,s)=>{var g={};C.exports=g,function(){g._baseDelta=16.666666666666668,g._nextId=0,g._seed=0,g._nowStartTime=+new Date,g._warnedOnce={},g._decomp=null,g.extend=function(f,l){var h,r;typeof l=="boolean"?(h=2,r=l):(h=1,r=!0);for(var o=h;o<arguments.length;o++){var u=arguments[o];if(u)for(var a in u)r&&u[a]&&u[a].constructor===Object&&(!f[a]||f[a].constructor===Object)?(f[a]=f[a]||{},g.extend(f[a],r,u[a])):f[a]=u[a]}return f},g.clone=function(f,l){return g.extend({},l,f)},g.keys=function(f){if(Object.keys)return Object.keys(f);var l=[];for(var h in f)l.push(h);return l},g.values=function(f){var l=[];if(Object.keys){for(var h=Object.keys(f),r=0;r<h.length;r++)l.push(f[h[r]]);return l}for(var o in f)l.push(f[o]);return l},g.get=function(f,l,h,r){l=l.split(".").slice(h,r);for(var o=0;o<l.length;o+=1)f=f[l[o]];return f},g.set=function(f,l,h,r,o){var u=l.split(".").slice(r,o);return g.get(f,l,0,-1)[u[u.length-1]]=h,h},g.shuffle=function(f){for(var l=f.length-1;l>0;l--){var h=Math.floor(g.random()*(l+1)),r=f[l];f[l]=f[h],f[h]=r}return f},g.choose=function(f){return f[Math.floor(g.random()*f.length)]},g.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},g.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},g.isFunction=function(f){return typeof f=="function"},g.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},g.isString=function(f){return toString.call(f)==="[object String]"},g.clamp=function(f,l,h){return f<l?l:f>h?h:f},g.sign=function(f){return f<0?-1:1},g.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-g._nowStartTime},g.random=function(f,l){return f=typeof f<"u"?f:0,l=typeof l<"u"?l:1,f+y()*(l-f)};var y=function(){return g._seed=(g._seed*9301+49297)%233280,g._seed/233280};g.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},g.logLevel=1,g.log=function(){console&&g.logLevel>0&&g.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},g.info=function(){console&&g.logLevel>0&&g.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},g.warn=function(){console&&g.logLevel>0&&g.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},g.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");g._warnedOnce[f]||(g.warn(f),g._warnedOnce[f]=!0)},g.deprecated=function(f,l,h){f[l]=g.chain(function(){g.warnOnce("🔅 deprecated 🔅",h)},f[l])},g.nextId=function(){return g._nextId++},g.indexOf=function(f,l){if(f.indexOf)return f.indexOf(l);for(var h=0;h<f.length;h++)if(f[h]===l)return h;return-1},g.map=function(f,l){if(f.map)return f.map(l);for(var h=[],r=0;r<f.length;r+=1)h.push(l(f[r]));return h},g.topologicalSort=function(f){var l=[],h=[],r=[];for(var o in f)!h[o]&&!r[o]&&g._topologicalSort(o,h,r,f,l);return l},g._topologicalSort=function(f,l,h,r,o){var u=r[f]||[];h[f]=!0;for(var a=0;a<u.length;a+=1){var d=u[a];h[d]||l[d]||g._topologicalSort(d,l,h,r,o)}h[f]=!1,l[f]=!0,o.push(f)},g.chain=function(){for(var f=[],l=0;l<arguments.length;l+=1){var h=arguments[l];h._chained?f.push.apply(f,h._chained):f.push(h)}var r=function(){for(var o,u=new Array(arguments.length),a=0,d=arguments.length;a<d;a++)u[a]=arguments[a];for(a=0;a<f.length;a+=1){var c=f[a].apply(o,u);typeof c<"u"&&(o=c)}return o};return r._chained=f,r},g.chainPathBefore=function(f,l,h){return g.set(f,l,g.chain(h,g.get(f,l)))},g.chainPathAfter=function(f,l,h){return g.set(f,l,g.chain(g.get(f,l),h))},g.setDecomp=function(f){g._decomp=f},g.getDecomp=function(){var f=g._decomp;try{!f&&typeof window<"u"&&(f=window.decomp),!f&&typeof s.g<"u"&&(f=s.g.decomp)}catch{f=null}return f}}()},48413:(C,A,s)=>{var g={};C.exports=g;var y=s(53614),f=s(66272),l=s(81388),h=s(99561),r=s(35810),o=s(69351),u=s(48140),a=s(53402),d=s(22562);(function(){g._deltaMax=16.666666666666668,g.create=function(c){c=c||{};var p={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=a.extend(p,c);return v.world=c.world||o.create({label:"World"}),v.pairs=c.pairs||h.create(),v.detector=c.detector||l.create(),v.detector.pairs=v.pairs,v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},g.update=function(c,p){var v=a.now(),m=c.world,T=c.detector,E=c.pairs,P=c.timing,w=P.timestamp,R;p>g._deltaMax&&a.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",g._deltaMax.toFixed(3),"ms."),p=typeof p<"u"?p:a._baseDelta,p*=P.timeScale,P.timestamp+=p,P.lastDelta=p;var b={timestamp:P.timestamp,delta:p};r.trigger(c,"beforeUpdate",b);var O=o.allBodies(m),I=o.allConstraints(m),D=o.allComposites(m);for(m.isModified&&(l.setBodies(T,O),o.setModified(m,!1,!1,!0)),c.enableSleeping&&y.update(O,p),g._bodiesApplyGravity(O,c.gravity),g.wrap(O,D),g.attractors(O),p>0&&g._bodiesUpdate(O,p),r.trigger(c,"beforeSolve",b),u.preSolveAll(O),R=0;R<c.constraintIterations;R++)u.solveAll(I,p);u.postSolveAll(O);var B=l.collisions(T);h.update(E,B,w),c.enableSleeping&&y.afterCollisions(E.list),E.collisionStart.length>0&&r.trigger(c,"collisionStart",{pairs:E.collisionStart,timestamp:P.timestamp,delta:p});var k=a.clamp(20/c.positionIterations,0,1);for(f.preSolvePosition(E.list),R=0;R<c.positionIterations;R++)f.solvePosition(E.list,p,k);for(f.postSolvePosition(O),u.preSolveAll(O),R=0;R<c.constraintIterations;R++)u.solveAll(I,p);for(u.postSolveAll(O),f.preSolveVelocity(E.list),R=0;R<c.velocityIterations;R++)f.solveVelocity(E.list,p);return g._bodiesUpdateVelocities(O),E.collisionActive.length>0&&r.trigger(c,"collisionActive",{pairs:E.collisionActive,timestamp:P.timestamp,delta:p}),E.collisionEnd.length>0&&r.trigger(c,"collisionEnd",{pairs:E.collisionEnd,timestamp:P.timestamp,delta:p}),g._bodiesClearForces(O),r.trigger(c,"afterUpdate",b),c.timing.lastElapsed=a.now()-v,c},g.merge=function(c,p){if(a.extend(c,p),p.world){c.world=p.world,g.clear(c);for(var v=o.allBodies(c.world),m=0;m<v.length;m++){var T=v[m];y.set(T,!1),T.id=a.nextId()}}},g.clear=function(c){h.clear(c.pairs),l.clear(c.detector)},g._bodiesClearForces=function(c){for(var p=c.length,v=0;v<p;v++){var m=c[v];m.force.x=0,m.force.y=0,m.torque=0}},g._bodiesApplyGravity=function(c,p){var v=typeof p.scale<"u"?p.scale:.001,m=c.length;if(!(p.x===0&&p.y===0||v===0))for(var T=0;T<m;T++){var E=c[T];E.ignoreGravity||E.isStatic||E.isSleeping||(E.force.y+=E.mass*p.y*v,E.force.x+=E.mass*p.x*v)}},g._bodiesUpdate=function(c,p){for(var v=c.length,m=0;m<v;m++){var T=c[m];T.isStatic||T.isSleeping||d.update(T,p)}},g._bodiesUpdateVelocities=function(c){for(var p=c.length,v=0;v<p;v++)d.updateVelocities(c[v])},g.wrap=function(c,p){for(var v=0;v<c.length;v+=1){var m=c[v];m.wrapBounds!==null&&d.wrap(m,m.wrapBounds)}for(v=0;v<p.length;v+=1){var T=p[v];T.wrapBounds!==null&&o.wrap(T,T.wrapBounds)}},g.attractors=function(c){for(var p=0;p<c.length;p++){var v=c[p],m=v.attractors;if(m&&m.length>0)for(var T=0;T<c.length;T++){var E=c[T];if(p!==T)for(var P=0;P<m.length;P++){var w=m[P],R=w;a.isFunction(w)&&(R=w(v,E)),R&&d.applyForce(E,E.position,R)}}}}})()},35810:(C,A,s)=>{var g={};C.exports=g;var y=s(53402);(function(){g.on=function(f,l,h){for(var r=l.split(" "),o,u=0;u<r.length;u++)o=r[u],f.events=f.events||{},f.events[o]=f.events[o]||[],f.events[o].push(h);return h},g.off=function(f,l,h){if(!l){f.events={};return}typeof l=="function"&&(h=l,l=y.keys(f.events).join(" "));for(var r=l.split(" "),o=0;o<r.length;o++){var u=f.events[r[o]],a=[];if(h&&u)for(var d=0;d<u.length;d++)u[d]!==h&&a.push(u[d]);f.events[r[o]]=a}},g.trigger=function(f,l,h){var r,o,u,a,d=f.events;if(d&&y.keys(d).length>0){h||(h={}),r=l.split(" ");for(var c=0;c<r.length;c++)if(o=r[c],u=d[o],u){a=y.clone(h,!1),a.name=o,a.source=f;for(var p=0;p<u.length;p++)u[p].apply(f,[a])}}}})()},6790:(C,A,s)=>{var g={};C.exports=g;var y=s(73832),f=s(53402);(function(){g.name="matter-js",g.version="0.20.0",g.uses=[],g.used=[],g.use=function(){y.use(g,Array.prototype.slice.call(arguments))},g.before=function(l,h){return l=l.replace(/^Matter./,""),f.chainPathBefore(g,l,h)},g.after=function(l,h){return l=l.replace(/^Matter./,""),f.chainPathAfter(g,l,h)}})()},73832:(C,A,s)=>{var g={};C.exports=g;var y=s(53402);(function(){g._registry={},g.register=function(f){if(g.isPlugin(f)||y.warn("Plugin.register:",g.toString(f),"does not implement all required fields."),f.name in g._registry){var l=g._registry[f.name],h=g.versionParse(f.version).number,r=g.versionParse(l.version).number;h>r?(y.warn("Plugin.register:",g.toString(l),"was upgraded to",g.toString(f)),g._registry[f.name]=f):h<r?y.warn("Plugin.register:",g.toString(l),"can not be downgraded to",g.toString(f)):f!==l&&y.warn("Plugin.register:",g.toString(f),"is already registered to different plugin object")}else g._registry[f.name]=f;return f},g.resolve=function(f){return g._registry[g.dependencyParse(f).name]},g.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},g.isPlugin=function(f){return f&&f.name&&f.version&&f.install},g.isUsed=function(f,l){return f.used.indexOf(l)>-1},g.isFor=function(f,l){var h=f.for&&g.dependencyParse(f.for);return!f.for||l.name===h.name&&g.versionSatisfies(l.version,h.range)},g.use=function(f,l){if(f.uses=(f.uses||[]).concat(l||[]),f.uses.length===0){y.warn("Plugin.use:",g.toString(f),"does not specify any dependencies to install.");return}for(var h=g.dependencies(f),r=y.topologicalSort(h),o=[],u=0;u<r.length;u+=1)if(r[u]!==f.name){var a=g.resolve(r[u]);if(!a){o.push("❌ "+r[u]);continue}g.isUsed(f,a.name)||(g.isFor(a,f)||(y.warn("Plugin.use:",g.toString(a),"is for",a.for,"but installed on",g.toString(f)+"."),a._warned=!0),a.install?a.install(f):(y.warn("Plugin.use:",g.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(o.push("🔶 "+g.toString(a)),delete a._warned):o.push("✅ "+g.toString(a)),f.used.push(a.name))}o.length>0&&!a.silent&&y.info(o.join("  "))},g.dependencies=function(f,l){var h=g.dependencyParse(f),r=h.name;if(l=l||{},!(r in l)){f=g.resolve(f)||f,l[r]=y.map(f.uses||[],function(u){g.isPlugin(u)&&g.register(u);var a=g.dependencyParse(u),d=g.resolve(u);return d&&!g.versionSatisfies(d.version,a.range)?(y.warn("Plugin.dependencies:",g.toString(d),"does not satisfy",g.toString(a),"used by",g.toString(h)+"."),d._warned=!0,f._warned=!0):d||(y.warn("Plugin.dependencies:",g.toString(u),"used by",g.toString(h),"could not be resolved."),f._warned=!0),a.name});for(var o=0;o<l[r].length;o+=1)g.dependencies(l[r][o],l);return l}},g.dependencyParse=function(f){if(y.isString(f)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(f)||y.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},g.versionParse=function(f){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(f)||y.warn("Plugin.versionParse:",f,"is not a valid version or range.");var h=l.exec(f),r=Number(h[4]),o=Number(h[5]),u=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:f,operator:h[1]||h[2]||"",major:r,minor:o,patch:u,parts:[r,o,u],prerelease:h[7],number:r*1e8+o*1e4+u}},g.versionSatisfies=function(f,l){l=l||"*";var h=g.versionParse(l),r=g.versionParse(f);if(h.isRange){if(h.operator==="*"||f==="*")return!0;if(h.operator===">")return r.number>h.number;if(h.operator===">=")return r.number>=h.number;if(h.operator==="~")return r.major===h.major&&r.minor===h.minor&&r.patch>=h.patch;if(h.operator==="^")return h.major>0?r.major===h.major&&r.number>=h.number:h.minor>0?r.minor===h.minor&&r.patch>=h.patch:r.patch===h.patch}return f===l||f==="*"}})()},13037:(C,A,s)=>{var g={};C.exports=g;var y=s(35810),f=s(48413),l=s(53402);(function(){g._maxFrameDelta=66.66666666666667,g._frameDeltaFallback=16.666666666666668,g._timeBufferMargin=1.5,g._elapsedNextEstimate=1,g._smoothingLowerBound=.1,g._smoothingUpperBound=.9,g.create=function(r){var o={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},u=l.extend(o,r);return u.fps=0,u},g.run=function(r,o){return r.timeBuffer=g._frameDeltaFallback,function u(a){r.frameRequestId=g._onNextFrame(r,u),a&&r.enabled&&g.tick(r,o,a)}(),r},g.tick=function(r,o,u){var a=l.now(),d=r.delta,c=0,p=u-r.timeLastTick;if((!p||!r.timeLastTick||p>Math.max(g._maxFrameDelta,r.maxFrameTime))&&(p=r.frameDelta||g._frameDeltaFallback),r.frameDeltaSmoothing){r.frameDeltaHistory.push(p),r.frameDeltaHistory=r.frameDeltaHistory.slice(-r.frameDeltaHistorySize);var v=r.frameDeltaHistory.slice(0).sort(),m=r.frameDeltaHistory.slice(v.length*g._smoothingLowerBound,v.length*g._smoothingUpperBound),T=h(m);p=T||p}r.frameDeltaSnapping&&(p=1e3/Math.round(1e3/p)),r.frameDelta=p,r.timeLastTick=u,r.timeBuffer+=r.frameDelta,r.timeBuffer=l.clamp(r.timeBuffer,0,r.frameDelta+d*g._timeBufferMargin),r.lastUpdatesDeferred=0;var E=r.maxUpdates||Math.ceil(r.maxFrameTime/d),P={timestamp:o.timing.timestamp};y.trigger(r,"beforeTick",P),y.trigger(r,"tick",P);for(var w=l.now();d>0&&r.timeBuffer>=d*g._timeBufferMargin;){y.trigger(r,"beforeUpdate",P),f.update(o,d),y.trigger(r,"afterUpdate",P),r.timeBuffer-=d,c+=1;var R=l.now()-a,b=l.now()-w,O=R+g._elapsedNextEstimate*b/c;if(c>=E||O>r.maxFrameTime){r.lastUpdatesDeferred=Math.round(Math.max(0,r.timeBuffer/d-g._timeBufferMargin));break}}o.timing.lastUpdatesPerFrame=c,y.trigger(r,"afterTick",P),r.frameDeltaHistory.length>=100&&(r.lastUpdatesDeferred&&Math.round(r.frameDelta/d)>E?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):r.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof r.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(r.deltaMin||r.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),r.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},g.stop=function(r){g._cancelNextFrame(r)},g._onNextFrame=function(r,o){if(typeof window<"u"&&window.requestAnimationFrame)r.frameRequestId=window.requestAnimationFrame(o);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return r.frameRequestId},g._cancelNextFrame=function(r){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(r.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var h=function(r){for(var o=0,u=r.length,a=0;a<u;a+=1)o+=r[a];return o/u||0};g._mean=h})()},53614:(C,A,s)=>{var g={};C.exports=g;var y=s(22562),f=s(35810),l=s(53402);(function(){g._motionWakeThreshold=.18,g._motionSleepThreshold=.08,g._minBias=.9,g.update=function(h,r){for(var o=r/l._baseDelta,u=g._motionSleepThreshold,a=0;a<h.length;a++){var d=h[a],c=y.getSpeed(d),p=y.getAngularSpeed(d),v=c*c+p*p;if(d.force.x!==0||d.force.y!==0){g.set(d,!1);continue}var m=Math.min(d.motion,v),T=Math.max(d.motion,v);d.motion=g._minBias*m+(1-g._minBias)*T,d.sleepThreshold>0&&d.motion<u?(d.sleepCounter+=1,d.sleepCounter>=d.sleepThreshold/o&&g.set(d,!0)):d.sleepCounter>0&&(d.sleepCounter-=1)}},g.afterCollisions=function(h){for(var r=g._motionSleepThreshold,o=0;o<h.length;o++){var u=h[o];if(u.isActive){var a=u.collision,d=a.bodyA.parent,c=a.bodyB.parent;if(!(d.isSleeping&&c.isSleeping||d.isStatic||c.isStatic)&&(d.isSleeping||c.isSleeping)){var p=d.isSleeping&&!d.isStatic?d:c,v=p===d?c:d;!p.isStatic&&v.motion>r&&g.set(p,!1)}}}},g.set=function(h,r){var o=h.isSleeping;r?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,o||f.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,o&&f.trigger(h,"sleepEnd"))}})()},66280:(C,A,s)=>{var g={};C.exports=g;var y=s(41598),f=s(53402),l=s(22562),h=s(15647),r=s(31725);(function(){g.rectangle=function(o,u,a,d,c){c=c||{};var p={label:"Rectangle Body",position:{x:o,y:u},vertices:y.fromPath("L 0 0 L "+a+" 0 L "+a+" "+d+" L 0 "+d)};if(c.chamfer){var v=c.chamfer;p.vertices=y.chamfer(p.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete c.chamfer}return l.create(f.extend({},p,c))},g.trapezoid=function(o,u,a,d,c,p){p=p||{},c>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),c*=.5;var v=(1-c*2)*a,m=a*c,T=m+v,E=T+m,P;c<.5?P="L 0 0 L "+m+" "+-d+" L "+T+" "+-d+" L "+E+" 0":P="L 0 0 L "+T+" "+-d+" L "+E+" 0";var w={label:"Trapezoid Body",position:{x:o,y:u},vertices:y.fromPath(P)};if(p.chamfer){var R=p.chamfer;w.vertices=y.chamfer(w.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete p.chamfer}return l.create(f.extend({},w,p))},g.circle=function(o,u,a,d,c){d=d||{};var p={label:"Circle Body",circleRadius:a};c=c||25;var v=Math.ceil(Math.max(10,Math.min(c,a)));return v%2===1&&(v+=1),g.polygon(o,u,v,a,f.extend({},p,d))},g.polygon=function(o,u,a,d,c){if(c=c||{},a<3)return g.circle(o,u,d,c);for(var p=2*Math.PI/a,v="",m=p*.5,T=0;T<a;T+=1){var E=m+T*p,P=Math.cos(E)*d,w=Math.sin(E)*d;v+="L "+P.toFixed(3)+" "+w.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:o,y:u},vertices:y.fromPath(v)};if(c.chamfer){var b=c.chamfer;R.vertices=y.chamfer(R.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete c.chamfer}return l.create(f.extend({},R,c))},g.fromVertices=function(o,u,a,d,c,p,v,m){var T=f.getDecomp(),E,P,w,R,b,O,I,D,B,k,z;for(E=!!(T&&T.quickDecomp),d=d||{},w=[],c=typeof c<"u"?c:!1,p=typeof p<"u"?p:.01,v=typeof v<"u"?v:10,m=typeof m<"u"?m:.01,f.isArray(a[0])||(a=[a]),k=0;k<a.length;k+=1)if(O=a[k],R=y.isConvex(O),b=!R,b&&!E&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!E)R?O=y.clockwiseSort(O):O=y.hull(O),w.push({position:{x:o,y:u},vertices:O});else{var X=O.map(function(it){return[it.x,it.y]});T.makeCCW(X),p!==!1&&T.removeCollinearPoints(X,p),m!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(X,m);var K=T.quickDecomp(X);for(I=0;I<K.length;I++){var H=K[I],Q=H.map(function(it){return{x:it[0],y:it[1]}});v>0&&y.area(Q)<v||w.push({position:y.centre(Q),vertices:Q})}}for(I=0;I<w.length;I++)w[I]=l.create(f.extend(w[I],d));if(c){var W=5;for(I=0;I<w.length;I++){var Y=w[I];for(D=I+1;D<w.length;D++){var N=w[D];if(h.overlaps(Y.bounds,N.bounds)){var Z=Y.vertices,U=N.vertices;for(B=0;B<Y.vertices.length;B++)for(z=0;z<N.vertices.length;z++){var j=r.magnitudeSquared(r.sub(Z[(B+1)%Z.length],U[z])),et=r.magnitudeSquared(r.sub(Z[B],U[(z+1)%U.length]));j<W&&et<W&&(Z[B].isInternal=!0,U[z].isInternal=!0)}}}}}return w.length>1?(P=l.create(f.extend({parts:w.slice(0)},d)),l.setPosition(P,{x:o,y:u}),P):w[0]},g.flagCoincidentParts=function(o,u){u===void 0&&(u=5);for(var a=0;a<o.length;a++)for(var d=o[a],c=a+1;c<o.length;c++){var p=o[c];if(h.overlaps(d.bounds,p.bounds))for(var v=d.vertices,m=p.vertices,T=0;T<d.vertices.length;T++)for(var E=0;E<p.vertices.length;E++){var P=r.magnitudeSquared(r.sub(v[(T+1)%v.length],m[E])),w=r.magnitudeSquared(r.sub(v[T],m[(E+1)%m.length]));P<u&&w<u&&(v[T].isInternal=!0,m[E].isInternal=!0)}}return o}})()},74116:(C,A,s)=>{var g={};C.exports=g;var y=s(69351),f=s(48140),l=s(53402),h=s(22562),r=s(66280);(function(){g.stack=function(o,u,a,d,c,p,v){for(var m=y.create({label:"Stack"}),T=o,E=u,P,w=0,R=0;R<d;R++){for(var b=0,O=0;O<a;O++){var I=v(T,E,O,R,P,w);if(I){var D=I.bounds.max.y-I.bounds.min.y,B=I.bounds.max.x-I.bounds.min.x;D>b&&(b=D),h.translate(I,{x:B*.5,y:D*.5}),T=I.bounds.max.x+c,y.addBody(m,I),P=I,w+=1}else T+=c}E+=b+p,T=o}return m},g.chain=function(o,u,a,d,c,p){for(var v=o.bodies,m=1;m<v.length;m++){var T=v[m-1],E=v[m],P=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,R=E.bounds.max.y-E.bounds.min.y,b=E.bounds.max.x-E.bounds.min.x,O={bodyA:T,pointA:{x:w*u,y:P*a},bodyB:E,pointB:{x:b*d,y:R*c}},I=l.extend(O,p);y.addConstraint(o,f.create(I))}return o.label+=" Chain",o},g.mesh=function(o,u,a,d,c){var p=o.bodies,v,m,T,E,P;for(v=0;v<a;v++){for(m=1;m<u;m++)T=p[m-1+v*u],E=p[m+v*u],y.addConstraint(o,f.create(l.extend({bodyA:T,bodyB:E},c)));if(v>0)for(m=0;m<u;m++)T=p[m+(v-1)*u],E=p[m+v*u],y.addConstraint(o,f.create(l.extend({bodyA:T,bodyB:E},c))),d&&m>0&&(P=p[m-1+(v-1)*u],y.addConstraint(o,f.create(l.extend({bodyA:P,bodyB:E},c)))),d&&m<u-1&&(P=p[m+1+(v-1)*u],y.addConstraint(o,f.create(l.extend({bodyA:P,bodyB:E},c))))}return o.label+=" Mesh",o},g.pyramid=function(o,u,a,d,c,p,v){return g.stack(o,u,a,d,c,p,function(m,T,E,P,w,R){var b=Math.min(d,Math.ceil(a/2)),O=w?w.bounds.max.x-w.bounds.min.x:0;if(!(P>b)){P=b-P;var I=P,D=a-1-P;if(!(E<I||E>D)){R===1&&h.translate(w,{x:(E+(a%2===1?1:-1))*O,y:0});var B=w?E*O:0;return v(o+B+E*c,T,E,P,w,R)}}})},g.newtonsCradle=function(o,u,a,d,c){for(var p=y.create({label:"Newtons Cradle"}),v=0;v<a;v++){var m=1.9,T=r.circle(o+v*(d*m),u+c,d,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),E=f.create({pointA:{x:o+v*(d*m),y:u},bodyB:T});y.addBody(p,T),y.addConstraint(p,E)}return p},g.car=function(o,u,a,d,c){var p=h.nextGroup(!0),v=20,m=-a*.5+v,T=a*.5-v,E=0,P=y.create({label:"Car"}),w=r.rectangle(o,u,a,d,{collisionFilter:{group:p},chamfer:{radius:d*.5},density:2e-4}),R=r.circle(o+m,u+E,c,{collisionFilter:{group:p},friction:.8}),b=r.circle(o+T,u+E,c,{collisionFilter:{group:p},friction:.8}),O=f.create({bodyB:w,pointB:{x:m,y:E},bodyA:R,stiffness:1,length:0}),I=f.create({bodyB:w,pointB:{x:T,y:E},bodyA:b,stiffness:1,length:0});return y.addBody(P,w),y.addBody(P,R),y.addBody(P,b),y.addConstraint(P,O),y.addConstraint(P,I),P},g.softBody=function(o,u,a,d,c,p,v,m,T,E){T=l.extend({inertia:1/0},T),E=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},E);var P=g.stack(o,u,a,d,c,p,function(w,R){return r.circle(w,R,m,T)});return g.mesh(P,a,d,v,E),P.label="Soft Body",P}})()},66615:(C,A,s)=>{var g={};C.exports=g;var y=s(31725),f=s(53402);(function(){g.fromVertices=function(l){for(var h={},r=0;r<l.length;r++){var o=(r+1)%l.length,u=y.normalise({x:l[o].y-l[r].y,y:l[r].x-l[o].x}),a=u.y===0?1/0:u.x/u.y;a=a.toFixed(3).toString(),h[a]=u}return f.values(h)},g.rotate=function(l,h){if(h!==0)for(var r=Math.cos(h),o=Math.sin(h),u=0;u<l.length;u++){var a=l[u],d;d=a.x*r-a.y*o,a.y=a.x*o+a.y*r,a.x=d}}})()},15647:C=>{var A={};C.exports=A,function(){A.create=function(s){var g={min:{x:0,y:0},max:{x:0,y:0}};return s&&A.update(g,s),g},A.update=function(s,g,y){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var f=0;f<g.length;f++){var l=g[f];l.x>s.max.x&&(s.max.x=l.x),l.x<s.min.x&&(s.min.x=l.x),l.y>s.max.y&&(s.max.y=l.y),l.y<s.min.y&&(s.min.y=l.y)}y&&(y.x>0?s.max.x+=y.x:s.min.x+=y.x,y.y>0?s.max.y+=y.y:s.min.y+=y.y)},A.contains=function(s,g){return g.x>=s.min.x&&g.x<=s.max.x&&g.y>=s.min.y&&g.y<=s.max.y},A.overlaps=function(s,g){return s.min.x<=g.max.x&&s.max.x>=g.min.x&&s.max.y>=g.min.y&&s.min.y<=g.max.y},A.translate=function(s,g){s.min.x+=g.x,s.max.x+=g.x,s.min.y+=g.y,s.max.y+=g.y},A.shift=function(s,g){var y=s.max.x-s.min.x,f=s.max.y-s.min.y;s.min.x=g.x,s.max.x=g.x+y,s.min.y=g.y,s.max.y=g.y+f},A.wrap=function(s,g,y){var f=null,l=null;if(typeof g.min.x<"u"&&typeof g.max.x<"u"&&(s.min.x>g.max.x?f=g.min.x-s.max.x:s.max.x<g.min.x&&(f=g.max.x-s.min.x)),typeof g.min.y<"u"&&typeof g.max.y<"u"&&(s.min.y>g.max.y?l=g.min.y-s.max.y:s.max.y<g.min.y&&(l=g.max.y-s.min.y)),f!==null||l!==null)return{x:f||0,y:l||0}}}()},74058:(C,A,s)=>{var g={};C.exports=g,s(15647);var y=s(53402);(function(){g.pathToVertices=function(f,l){typeof window<"u"&&!("SVGPathSeg"in window)&&y.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,r,o,u,a,d,c,p,v,m,T=[],E,P,w=0,R=0,b=0;l=l||15;var O=function(D,B,k){var z=k%2===1&&k>1;if(!v||D!=v.x||B!=v.y){v&&z?(E=v.x,P=v.y):(E=0,P=0);var X={x:E+D,y:P+B};(z||!v)&&(v=X),T.push(X),R=E+D,b=P+B}},I=function(D){var B=D.pathSegTypeAsLetter.toUpperCase();if(B!=="Z"){switch(B){case"M":case"L":case"T":case"C":case"S":case"Q":R=D.x,b=D.y;break;case"H":R=D.x;break;case"V":b=D.y;break}O(R,b,D.pathSegType)}};for(g._svgPathToAbsolute(f),o=f.getTotalLength(),d=[],h=0;h<f.pathSegList.numberOfItems;h+=1)d.push(f.pathSegList.getItem(h));for(c=d.concat();w<o;){if(m=f.getPathSegAtLength(w),a=d[m],a!=p){for(;c.length&&c[0]!=a;)I(c.shift());p=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":u=f.getPointAtLength(w),O(u.x,u.y,0);break}w+=l}for(h=0,r=c.length;h<r;++h)I(c[h]);return T},g._svgPathToAbsolute=function(f){for(var l,h,r,o,u,a,d=f.pathSegList,c=0,p=0,v=d.numberOfItems,m=0;m<v;++m){var T=d.getItem(m),E=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in T&&(c=T.x),"y"in T&&(p=T.y);else switch("x1"in T&&(r=c+T.x1),"x2"in T&&(u=c+T.x2),"y1"in T&&(o=p+T.y1),"y2"in T&&(a=p+T.y2),"x"in T&&(c+=T.x),"y"in T&&(p+=T.y),E){case"m":d.replaceItem(f.createSVGPathSegMovetoAbs(c,p),m);break;case"l":d.replaceItem(f.createSVGPathSegLinetoAbs(c,p),m);break;case"h":d.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(c),m);break;case"v":d.replaceItem(f.createSVGPathSegLinetoVerticalAbs(p),m);break;case"c":d.replaceItem(f.createSVGPathSegCurvetoCubicAbs(c,p,r,o,u,a),m);break;case"s":d.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(c,p,u,a),m);break;case"q":d.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(c,p,r,o),m);break;case"t":d.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(c,p),m);break;case"a":d.replaceItem(f.createSVGPathSegArcAbs(c,p,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),m);break;case"z":case"Z":c=l,p=h;break}(E=="M"||E=="m")&&(l=c,h=p)}}})()},31725:C=>{var A={};C.exports=A,function(){A.create=function(s,g){return{x:s||0,y:g||0}},A.clone=function(s){return{x:s.x,y:s.y}},A.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},A.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},A.rotate=function(s,g,y){var f=Math.cos(g),l=Math.sin(g);y||(y={});var h=s.x*f-s.y*l;return y.y=s.x*l+s.y*f,y.x=h,y},A.rotateAbout=function(s,g,y,f){var l=Math.cos(g),h=Math.sin(g);f||(f={});var r=y.x+((s.x-y.x)*l-(s.y-y.y)*h);return f.y=y.y+((s.x-y.x)*h+(s.y-y.y)*l),f.x=r,f},A.normalise=function(s){var g=A.magnitude(s);return g===0?{x:0,y:0}:{x:s.x/g,y:s.y/g}},A.dot=function(s,g){return s.x*g.x+s.y*g.y},A.cross=function(s,g){return s.x*g.y-s.y*g.x},A.cross3=function(s,g,y){return(g.x-s.x)*(y.y-s.y)-(g.y-s.y)*(y.x-s.x)},A.add=function(s,g,y){return y||(y={}),y.x=s.x+g.x,y.y=s.y+g.y,y},A.sub=function(s,g,y){return y||(y={}),y.x=s.x-g.x,y.y=s.y-g.y,y},A.mult=function(s,g){return{x:s.x*g,y:s.y*g}},A.div=function(s,g){return{x:s.x/g,y:s.y/g}},A.perp=function(s,g){return g=g===!0?-1:1,{x:g*-s.y,y:g*s.x}},A.neg=function(s){return{x:-s.x,y:-s.y}},A.angle=function(s,g){return Math.atan2(g.y-s.y,g.x-s.x)},A._temp=[A.create(),A.create(),A.create(),A.create(),A.create(),A.create()]}()},41598:(C,A,s)=>{var g={};C.exports=g;var y=s(31725),f=s(53402);(function(){g.create=function(l,h){for(var r=[],o=0;o<l.length;o++){var u=l[o],a={x:u.x,y:u.y,index:o,body:h,isInternal:!1};r.push(a)}return r},g.fromPath=function(l,h){var r=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,o=[];return l.replace(r,function(u,a,d){o.push({x:parseFloat(a),y:parseFloat(d)})}),g.create(o,h)},g.centre=function(l){for(var h=g.area(l,!0),r={x:0,y:0},o,u,a,d=0;d<l.length;d++)a=(d+1)%l.length,o=y.cross(l[d],l[a]),u=y.mult(y.add(l[d],l[a]),o),r=y.add(r,u);return y.div(r,6*h)},g.mean=function(l){for(var h={x:0,y:0},r=0;r<l.length;r++)h.x+=l[r].x,h.y+=l[r].y;return y.div(h,l.length)},g.area=function(l,h){for(var r=0,o=l.length-1,u=0;u<l.length;u++)r+=(l[o].x-l[u].x)*(l[o].y+l[u].y),o=u;return h?r/2:Math.abs(r)/2},g.inertia=function(l,h){for(var r=0,o=0,u=l,a,d,c=0;c<u.length;c++)d=(c+1)%u.length,a=Math.abs(y.cross(u[d],u[c])),r+=a*(y.dot(u[d],u[d])+y.dot(u[d],u[c])+y.dot(u[c],u[c])),o+=a;return h/6*(r/o)},g.translate=function(l,h,r){r=typeof r<"u"?r:1;var o=l.length,u=h.x*r,a=h.y*r,d;for(d=0;d<o;d++)l[d].x+=u,l[d].y+=a;return l},g.rotate=function(l,h,r){if(h!==0){var o=Math.cos(h),u=Math.sin(h),a=r.x,d=r.y,c=l.length,p,v,m,T;for(T=0;T<c;T++)p=l[T],v=p.x-a,m=p.y-d,p.x=a+(v*o-m*u),p.y=d+(v*u+m*o);return l}},g.contains=function(l,h){for(var r=h.x,o=h.y,u=l.length,a=l[u-1],d,c=0;c<u;c++){if(d=l[c],(r-a.x)*(d.y-a.y)+(o-a.y)*(a.x-d.x)>0)return!1;a=d}return!0},g.scale=function(l,h,r,o){if(h===1&&r===1)return l;o=o||g.centre(l);for(var u,a,d=0;d<l.length;d++)u=l[d],a=y.sub(u,o),l[d].x=o.x+a.x*h,l[d].y=o.y+a.y*r;return l},g.chamfer=function(l,h,r,o,u){typeof h=="number"?h=[h]:h=h||[8],r=typeof r<"u"?r:-1,o=o||2,u=u||14;for(var a=[],d=0;d<l.length;d++){var c=l[d-1>=0?d-1:l.length-1],p=l[d],v=l[(d+1)%l.length],m=h[d<h.length?d:h.length-1];if(m===0){a.push(p);continue}var T=y.normalise({x:p.y-c.y,y:c.x-p.x}),E=y.normalise({x:v.y-p.y,y:p.x-v.x}),P=Math.sqrt(2*Math.pow(m,2)),w=y.mult(f.clone(T),m),R=y.normalise(y.mult(y.add(T,E),.5)),b=y.sub(p,y.mult(R,P)),O=r;r===-1&&(O=Math.pow(m,.32)*1.75),O=f.clamp(O,o,u),O%2===1&&(O+=1);for(var I=Math.acos(y.dot(T,E)),D=I/O,B=0;B<O;B++)a.push(y.add(y.rotate(w,D*B),b))}return a},g.clockwiseSort=function(l){var h=g.mean(l);return l.sort(function(r,o){return y.angle(h,r)-y.angle(h,o)}),l},g.isConvex=function(l){var h=0,r=l.length,o,u,a,d;if(r<3)return null;for(o=0;o<r;o++)if(u=(o+1)%r,a=(o+2)%r,d=(l[u].x-l[o].x)*(l[a].y-l[u].y),d-=(l[u].y-l[o].y)*(l[a].x-l[u].x),d<0?h|=1:d>0&&(h|=2),h===3)return!1;return h!==0?!0:null},g.hull=function(l){var h=[],r=[],o,u;for(l=l.slice(0),l.sort(function(a,d){var c=a.x-d.x;return c!==0?c:a.y-d.y}),u=0;u<l.length;u+=1){for(o=l[u];r.length>=2&&y.cross3(r[r.length-2],r[r.length-1],o)<=0;)r.pop();r.push(o)}for(u=l.length-1;u>=0;u-=1){for(o=l[u];h.length>=2&&y.cross3(h[h.length-2],h[h.length-1],o)<=0;)h.pop();h.push(o)}return h.pop(),r.pop(),h.concat(r)}})()},55973:C=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={decomp:I,quickDecomp:z,isSimple:B,removeCollinearPoints:X,removeDuplicatePoints:K,makeCCW:v};function A(W,Y,N){N=N||0;var Z=[0,0],U,j,et,it,rt,lt,ft;return U=W[1][1]-W[0][1],j=W[0][0]-W[1][0],et=U*W[0][0]+j*W[0][1],it=Y[1][1]-Y[0][1],rt=Y[0][0]-Y[1][0],lt=it*Y[0][0]+rt*Y[0][1],ft=U*rt-it*j,H(ft,0,N)||(Z[0]=(rt*et-j*lt)/ft,Z[1]=(U*lt-it*et)/ft),Z}function s(W,Y,N,Z){var U=Y[0]-W[0],j=Y[1]-W[1],et=Z[0]-N[0],it=Z[1]-N[1];if(et*j-it*U===0)return!1;var rt=(U*(N[1]-W[1])+j*(W[0]-N[0]))/(et*j-it*U),lt=(et*(W[1]-N[1])+it*(N[0]-W[0]))/(it*U-et*j);return rt>=0&&rt<=1&&lt>=0&&lt<=1}function g(W,Y,N){return(Y[0]-W[0])*(N[1]-W[1])-(N[0]-W[0])*(Y[1]-W[1])}function y(W,Y,N){return g(W,Y,N)>0}function f(W,Y,N){return g(W,Y,N)>=0}function l(W,Y,N){return g(W,Y,N)<0}function h(W,Y,N){return g(W,Y,N)<=0}var r=[],o=[];function u(W,Y,N,Z){if(Z){var U=r,j=o;U[0]=Y[0]-W[0],U[1]=Y[1]-W[1],j[0]=N[0]-Y[0],j[1]=N[1]-Y[1];var et=U[0]*j[0]+U[1]*j[1],it=Math.sqrt(U[0]*U[0]+U[1]*U[1]),rt=Math.sqrt(j[0]*j[0]+j[1]*j[1]),lt=Math.acos(et/(it*rt));return lt<Z}else return g(W,Y,N)===0}function a(W,Y){var N=Y[0]-W[0],Z=Y[1]-W[1];return N*N+Z*Z}function d(W,Y){var N=W.length;return W[Y<0?Y%N+N:Y%N]}function c(W){W.length=0}function p(W,Y,N,Z){for(var U=N;U<Z;U++)W.push(Y[U])}function v(W){for(var Y=0,N=W,Z=1;Z<W.length;++Z)(N[Z][1]<N[Y][1]||N[Z][1]===N[Y][1]&&N[Z][0]>N[Y][0])&&(Y=Z);return y(d(W,Y-1),d(W,Y),d(W,Y+1))?!1:(m(W),!0)}function m(W){for(var Y=[],N=W.length,Z=0;Z!==N;Z++)Y.push(W.pop());for(var Z=0;Z!==N;Z++)W[Z]=Y[Z]}function T(W,Y){return l(d(W,Y-1),d(W,Y),d(W,Y+1))}var E=[],P=[];function w(W,Y,N){var Z,U,j=E,et=P;if(f(d(W,Y+1),d(W,Y),d(W,N))&&h(d(W,Y-1),d(W,Y),d(W,N)))return!1;U=a(d(W,Y),d(W,N));for(var it=0;it!==W.length;++it)if(!((it+1)%W.length===Y||it===Y)&&f(d(W,Y),d(W,N),d(W,it+1))&&h(d(W,Y),d(W,N),d(W,it))&&(j[0]=d(W,Y),j[1]=d(W,N),et[0]=d(W,it),et[1]=d(W,it+1),Z=A(j,et),a(d(W,Y),Z)<U))return!1;return!0}function R(W,Y,N){for(var Z=0;Z!==W.length;++Z)if(!(Z===Y||Z===N||(Z+1)%W.length===Y||(Z+1)%W.length===N)&&s(d(W,Y),d(W,N),d(W,Z),d(W,Z+1)))return!1;return!0}function b(W,Y,N,Z){var U=Z||[];if(c(U),Y<N)for(var j=Y;j<=N;j++)U.push(W[j]);else{for(var j=0;j<=N;j++)U.push(W[j]);for(var j=Y;j<W.length;j++)U.push(W[j])}return U}function O(W){for(var Y=[],N=[],Z=[],U=[],j=Number.MAX_VALUE,et=0;et<W.length;++et)if(T(W,et)){for(var it=0;it<W.length;++it)if(w(W,et,it)){N=O(b(W,et,it,U)),Z=O(b(W,it,et,U));for(var rt=0;rt<Z.length;rt++)N.push(Z[rt]);N.length<j&&(Y=N,j=N.length,Y.push([d(W,et),d(W,it)]))}}return Y}function I(W){var Y=O(W);return Y.length>0?D(W,Y):[W]}function D(W,Y){if(Y.length===0)return[W];if(Y instanceof Array&&Y.length&&Y[0]instanceof Array&&Y[0].length===2&&Y[0][0]instanceof Array){for(var N=[W],Z=0;Z<Y.length;Z++)for(var U=Y[Z],j=0;j<N.length;j++){var et=N[j],it=D(et,U);if(it){N.splice(j,1),N.push(it[0],it[1]);break}}return N}else{var U=Y,Z=W.indexOf(U[0]),j=W.indexOf(U[1]);return Z!==-1&&j!==-1?[b(W,Z,j),b(W,j,Z)]:!1}}function B(W){var Y=W,N;for(N=0;N<Y.length-1;N++)for(var Z=0;Z<N-1;Z++)if(s(Y[N],Y[N+1],Y[Z],Y[Z+1]))return!1;for(N=1;N<Y.length-2;N++)if(s(Y[0],Y[Y.length-1],Y[N],Y[N+1]))return!1;return!0}function k(W,Y,N,Z,U){U=U||0;var j=Y[1]-W[1],et=W[0]-Y[0],it=j*W[0]+et*W[1],rt=Z[1]-N[1],lt=N[0]-Z[0],ft=rt*N[0]+lt*N[1],pt=j*lt-rt*et;return H(pt,0,U)?[0,0]:[(lt*it-et*ft)/pt,(j*ft-rt*it)/pt]}function z(W,Y,N,Z,U,j,et){j=j||100,et=et||0,U=U||25,Y=typeof Y<"u"?Y:[],N=N||[],Z=Z||[];var it=[0,0],rt=[0,0],lt=[0,0],ft=0,pt=0,vt=0,xt=0,yt=0,Ct=0,wt=0,Lt=[],bt=[],St=W,Et=W;if(Et.length<3)return Y;if(et++,et>j)return console.warn("quickDecomp: max level ("+j+") reached."),Y;for(var Mt=0;Mt<W.length;++Mt)if(T(St,Mt)){N.push(St[Mt]),ft=pt=Number.MAX_VALUE;for(var Vt=0;Vt<W.length;++Vt)y(d(St,Mt-1),d(St,Mt),d(St,Vt))&&h(d(St,Mt-1),d(St,Mt),d(St,Vt-1))&&(lt=k(d(St,Mt-1),d(St,Mt),d(St,Vt),d(St,Vt-1)),l(d(St,Mt+1),d(St,Mt),lt)&&(vt=a(St[Mt],lt),vt<pt&&(pt=vt,rt=lt,Ct=Vt))),y(d(St,Mt+1),d(St,Mt),d(St,Vt+1))&&h(d(St,Mt+1),d(St,Mt),d(St,Vt))&&(lt=k(d(St,Mt+1),d(St,Mt),d(St,Vt),d(St,Vt+1)),y(d(St,Mt-1),d(St,Mt),lt)&&(vt=a(St[Mt],lt),vt<ft&&(ft=vt,it=lt,yt=Vt)));if(Ct===(yt+1)%W.length)lt[0]=(rt[0]+it[0])/2,lt[1]=(rt[1]+it[1])/2,Z.push(lt),Mt<yt?(p(Lt,St,Mt,yt+1),Lt.push(lt),bt.push(lt),Ct!==0&&p(bt,St,Ct,St.length),p(bt,St,0,Mt+1)):(Mt!==0&&p(Lt,St,Mt,St.length),p(Lt,St,0,yt+1),Lt.push(lt),bt.push(lt),p(bt,St,Ct,Mt+1));else{if(Ct>yt&&(yt+=W.length),xt=Number.MAX_VALUE,yt<Ct)return Y;for(var Vt=Ct;Vt<=yt;++Vt)f(d(St,Mt-1),d(St,Mt),d(St,Vt))&&h(d(St,Mt+1),d(St,Mt),d(St,Vt))&&(vt=a(d(St,Mt),d(St,Vt)),vt<xt&&R(St,Mt,Vt)&&(xt=vt,wt=Vt%W.length));Mt<wt?(p(Lt,St,Mt,wt+1),wt!==0&&p(bt,St,wt,Et.length),p(bt,St,0,Mt+1)):(Mt!==0&&p(Lt,St,Mt,Et.length),p(Lt,St,0,wt+1),p(bt,St,wt,Mt+1))}return Lt.length<bt.length?(z(Lt,Y,N,Z,U,j,et),z(bt,Y,N,Z,U,j,et)):(z(bt,Y,N,Z,U,j,et),z(Lt,Y,N,Z,U,j,et)),Y}return Y.push(W),Y}function X(W,Y){for(var N=0,Z=W.length-1;W.length>3&&Z>=0;--Z)u(d(W,Z-1),d(W,Z),d(W,Z+1),Y)&&(W.splice(Z%W.length,1),N++);return N}function K(W,Y){for(var N=W.length-1;N>=1;--N)for(var Z=W[N],U=N-1;U>=0;--U)if(Q(Z,W[U],Y)){W.splice(N,1);continue}}function H(W,Y,N){return N=N||0,Math.abs(W-Y)<=N}function Q(W,Y,N){return H(W[0],Y[0],N)&&H(W[1],Y[1],N)}},52018:(C,A,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var g=s(83419),y=new g({initialize:function(l){this.pluginManager=l,this.game=l.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=y},42363:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};C.exports=A},37277:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={},s={},g={};g.register=function(y,f,l,h){h===void 0&&(h=!1),A[y]={plugin:f,mapping:l,custom:h}},g.registerCustom=function(y,f,l,h){s[y]={plugin:f,mapping:l,data:h}},g.hasCore=function(y){return A.hasOwnProperty(y)},g.hasCustom=function(y){return s.hasOwnProperty(y)},g.getCore=function(y){return A[y]},g.getCustom=function(y){return s[y]},g.getCustomClass=function(y){return s.hasOwnProperty(y)?s[y].plugin:null},g.remove=function(y){A.hasOwnProperty(y)&&delete A[y]},g.removeCustom=function(y){s.hasOwnProperty(y)&&delete s[y]},g.destroyCorePlugins=function(){for(var y in A)A.hasOwnProperty(y)&&delete A[y]},g.destroyCustomPlugins=function(){for(var y in s)s.hasOwnProperty(y)&&delete s[y]},C.exports=g},77332:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(8443),f=s(50792),l=s(74099),h=s(44603),r=s(39429),o=s(95540),u=s(37277),a=s(72905),d=s(8054),c=new g({Extends:f,initialize:function(v){f.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted||v.config.renderType===d.HEADLESS?this.boot():v.events.once(y.BOOT,this.boot,this)},boot:function(){var p,v,m,T,E,P,w,R=this.game.config,b=R.installGlobalPlugins;for(b=b.concat(this._pendingGlobal),p=0;p<b.length;p++)v=b[p],m=o(v,"key",null),T=o(v,"plugin",null),E=o(v,"start",!1),P=o(v,"mapping",null),w=o(v,"data",null),m&&(T?this.install(m,T,E,P,w):console.warn("Missing `plugin` for key: "+m));for(b=R.installScenePlugins,b=b.concat(this._pendingScene),p=0;p<b.length;p++)v=b[p],m=o(v,"key",null),T=o(v,"plugin",null),P=o(v,"mapping",null),m&&(T?this.installScenePlugin(m,T,P):console.warn("Missing `plugin` for key: "+m));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(y.DESTROY,this.destroy,this)},addToScene:function(p,v,m){var T,E,P,w=this.game,R=p.scene,b=p.settings.map,O=p.settings.isBooted;for(T=0;T<v.length;T++)E=v[T],w[E]?(p[E]=w[E],b.hasOwnProperty(E)&&(R[b[E]]=p[E])):E==="game"&&b.hasOwnProperty(E)&&(R[b[E]]=w);for(var I=0;I<m.length;I++)for(P=m[I],T=0;T<P.length;T++)if(E=P[T],!!u.hasCore(E)){var D=u.getCore(E),B=D.mapping,k=new D.plugin(R,this,B);p[B]=k,D.custom?R[B]=k:b.hasOwnProperty(B)&&(R[b[B]]=k),O&&k.boot()}for(P=this.plugins,T=0;T<P.length;T++){var z=P[T];z.mapping&&(R[z.mapping]=z.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p=p.concat(this.scenePlugins),p},installScenePlugin:function(p,v,m,T,E){if(E===void 0&&(E=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+p);return}if(u.hasCore(p)||u.register(p,v,m,!0),this.scenePlugins.indexOf(p)===-1)this.scenePlugins.push(p);else if(!E&&u.hasCore(p)){console.warn("Scene Plugin key in use: "+p);return}if(T){var P=new v(T,this,p);T.sys[p]=P,m&&m!==""&&(T[m]=P),P.boot()}},install:function(p,v,m,T,E){if(m===void 0&&(m=!1),T===void 0&&(T=null),E===void 0&&(E=null),typeof v!="function")return console.warn("Invalid Plugin: "+p),null;if(u.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(T!==null&&(m=!0),!this.game.isBooted)this._pendingGlobal.push({key:p,plugin:v,start:m,mapping:T,data:E});else if(u.registerCustom(p,v,T,E),m)return this.start(p);return null},getIndex:function(p){for(var v=this.plugins,m=0;m<v.length;m++){var T=v[m];if(T.key===p)return m}return-1},getEntry:function(p){var v=this.getIndex(p);if(v!==-1)return this.plugins[v]},isActive:function(p){var v=this.getEntry(p);return v&&v.active},start:function(p,v){v===void 0&&(v=p);var m=this.getEntry(v);return m&&!m.active?(m.active=!0,m.plugin.start()):m||(m=this.createEntry(p,v)),m?m.plugin:null},createEntry:function(p,v){var m=u.getCustom(p);if(m){var T=new m.plugin(this);m={key:v,plugin:T,active:!0,mapping:m.mapping,data:m.data},this.plugins.push(m),T.init(m.data),T.start()}return m},stop:function(p){var v=this.getEntry(p);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(p,v){v===void 0&&(v=!0);var m=this.getEntry(p);if(m)return m.plugin;var T=this.getClass(p);return T&&v?(m=this.createEntry(p,p),m?m.plugin:null):T||null},getClass:function(p){return u.getCustomClass(p)},removeGlobalPlugin:function(p){var v=this.getEntry(p);v&&a(this.plugins,v),u.removeCustom(p)},removeScenePlugin:function(p){a(this.scenePlugins,p),u.remove(p)},registerGameObject:function(p,v,m){return v&&r.register(p,v),m&&h.register(p,m),this},removeGameObject:function(p,v,m){return v===void 0&&(v=!0),m===void 0&&(m=!0),v&&r.remove(p),m&&h.remove(p),this},registerFileType:function(p,v,m){l.register(p,v),m&&m.sys.load&&(m.sys.load[p]=v)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});C.exports=c},45145:(C,A,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var g=s(52018),y=s(83419),f=s(44594),l=new y({Extends:g,initialize:function(r,o,u){g.call(this,o),this.scene=r,this.systems=r.sys,this.pluginKey=u,r.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=l},18922:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={BasePlugin:s(52018),DefaultPlugins:s(42363),PluginCache:s(37277),PluginManager:s(77332),ScenePlugin:s(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(C){const A=performance.now(),s=this.getVideoPlaybackQuality(),g=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames,y=(f,l)=>{const h=this.getVideoPlaybackQuality(),r=this.mozPresentedFrames||this.mozPaintedFrames||h.totalVideoFrames-h.droppedVideoFrames;if(r>g){const o=this.mozFrameDelay||h.totalFrameDelay-s.totalFrameDelay||0,u=l-f;C(l,{presentationTime:l+o*1e3,expectedDisplayTime:l+u,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+u/1e3,presentedFrames:r,processingDuration:o}),delete this._rvfcpolyfillmap[A]}else this._rvfcpolyfillmap[A]=requestAnimationFrame(o=>y(l,o))};return this._rvfcpolyfillmap[A]=requestAnimationFrame(f=>y(A,f)),A},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(C){cancelAnimationFrame(this._rvfcpolyfillmap[C]),delete this._rvfcpolyfillmap[C]})},10312:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={DEFAULT:0,LINEAR:0,NEAREST:1};C.exports=A},68627:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19715),y=s(32880),f=s(83419),l=s(8054),h=s(50792),r=s(92503),o=s(56373),u=s(97480),a=s(69442),d=s(8443),c=s(61340),p=new f({Extends:h,initialize:function(m){h.call(this);var T=m.config;this.config={clearBeforeRender:T.clearBeforeRender,backgroundColor:T.backgroundColor,antialias:T.antialias,roundPixels:T.roundPixels,transparent:T.transparent},this.game=m,this.type=l.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=m.canvas;var E={alpha:T.transparent,desynchronized:T.desynchronized,willReadFrequently:!1};this.gameContext=T.context?T.context:this.gameCanvas.getContext("2d",E),this.currentContext=this.gameContext,this.antialias=T.antialias,this.blendModes=o(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.isBooted=!1,this.init()},init:function(){var v=this.game;v.events.once(d.BOOT,function(){var m=this.config;if(!m.transparent){var T=this.gameContext,E=this.gameCanvas;T.fillStyle=m.backgroundColor.rgba,T.fillRect(0,0,E.width,E.height)}},this),v.textures.once(a.READY,this.boot,this)},boot:function(){var v=this.game,m=v.scale.baseSize;this.width=m.width,this.height=m.height,this.isBooted=!0,v.scale.on(u.RESIZE,this.onResize,this),this.resize(m.width,m.height)},onResize:function(v,m){(m.width!==this.width||m.height!==this.height)&&this.resize(m.width,m.height)},resize:function(v,m){this.width=v,this.height=m,this.emit(r.RESIZE,v,m)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,m=this.config,T=this.width,E=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),this.emit(r.PRE_RENDER_CLEAR),m.clearBeforeRender&&(v.clearRect(0,0,T,E),m.transparent||(v.fillStyle=m.backgroundColor.rgba,v.fillRect(0,0,T,E))),v.save(),this.drawCount=0,this.emit(r.PRE_RENDER)},render:function(v,m,T){var E=m.length;this.emit(r.RENDER,v,T);var P=T.x,w=T.y,R=T.width,b=T.height,O=T.renderToTexture?T.context:v.sys.context;O.save(),this.game.scene.customViewports&&(O.beginPath(),O.rect(P,w,R,b),O.clip()),T.emit(g.PRE_RENDER,T),this.currentContext=O;var I=T.mask;I&&I.preRenderCanvas(this,null,T._maskCamera),T.transparent||(O.fillStyle=T.backgroundColor.rgba,O.fillRect(P,w,R,b)),O.globalAlpha=T.alpha,O.globalCompositeOperation="source-over",this.drawCount+=E,T.renderToTexture&&T.emit(g.PRE_RENDER,T),T.matrix.copyToContext(O);for(var D=0;D<E;D++){var B=m[D];B.mask&&B.mask.preRenderCanvas(this,B,T),B.renderCanvas(this,B,T),B.mask&&B.mask.postRenderCanvas(this,B,T)}O.setTransform(1,0,0,1,0,0),O.globalCompositeOperation="source-over",O.globalAlpha=1,T.flashEffect.postRenderCanvas(O),T.fadeEffect.postRenderCanvas(O),T.dirty=!1,I&&I.postRenderCanvas(this),O.restore(),T.renderToTexture&&(T.emit(g.POST_RENDER,T),T.renderToGame&&v.sys.context.drawImage(T.canvas,P,w)),T.emit(g.POST_RENDER,T)},postRender:function(){var v=this.gameContext;v.restore(),this.emit(r.POST_RENDER);var m=this.snapshotState;m.callback&&(y(this.gameCanvas,m),m.callback=null)},snapshotCanvas:function(v,m,T,E,P,w,R,b,O){T===void 0&&(T=!1),this.snapshotArea(E,P,w,R,m,b,O);var I=this.snapshotState;return I.getPixel=T,y(v,I),I.callback=null,this},snapshot:function(v,m,T){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,m,T)},snapshotArea:function(v,m,T,E,P,w,R){var b=this.snapshotState;return b.callback=P,b.type=w,b.encoder=R,b.getPixel=!1,b.x=v,b.y=m,b.width=Math.min(T,this.gameCanvas.width),b.height=Math.min(E,this.gameCanvas.height),this},snapshotPixel:function(v,m,T){return this.snapshotArea(v,m,1,1,T),this.snapshotState.getPixel=!0,this},batchSprite:function(v,m,T,E){var P=T.alpha*v.alpha;if(P!==0){var w=this.currentContext,R=this._tempMatrix1,b=this._tempMatrix2,O=m.canvasData,I=O.x,D=O.y,B=m.cutWidth,k=m.cutHeight,z=m.customPivot,X=m.source.resolution,K=v.displayOriginX,H=v.displayOriginY,Q=-K+m.x,W=-H+m.y;if(v.isCropped){var Y=v._crop;(Y.flipX!==v.flipX||Y.flipY!==v.flipY)&&m.updateCropUVs(Y,v.flipX,v.flipY),B=Y.cw,k=Y.ch,I=Y.cx,D=Y.cy,Q=-K+Y.x,W=-H+Y.y,v.flipX&&(Q>=0?Q=-(Q+B):Q<0&&(Q=Math.abs(Q)-B)),v.flipY&&(W>=0?W=-(W+k):W<0&&(W=Math.abs(W)-k))}var N=1,Z=1;v.flipX&&(z||(Q+=-m.realWidth+K*2),N=-1),v.flipY&&(z||(W+=-m.realHeight+H*2),Z=-1);var U=v.x,j=v.y;if(T.roundPixels&&(U=Math.floor(U),j=Math.floor(j)),b.applyITRS(U,j,v.rotation,v.scaleX*N,v.scaleY*Z),R.copyFrom(T.matrix),E?(R.multiplyWithOffset(E,-T.scrollX*v.scrollFactorX,-T.scrollY*v.scrollFactorY),b.e=U,b.f=j):(b.e-=T.scrollX*v.scrollFactorX,b.f-=T.scrollY*v.scrollFactorY),R.multiply(b),T.renderRoundPixels&&(R.e=Math.floor(R.e+.5),R.f=Math.floor(R.f+.5)),w.save(),R.setToContext(w),w.globalCompositeOperation=this.blendModes[v.blendMode],w.globalAlpha=P,w.imageSmoothingEnabled=!m.source.scaleMode,v.mask&&v.mask.preRenderCanvas(this,v,T),B>0&&k>0){var et=B/X,it=k/X;T.roundPixels&&(Q=Math.floor(Q+.5),W=Math.floor(W+.5),et+=.5,it+=.5),w.drawImage(m.source.image,I,D,B,k,Q,W,et,it)}v.mask&&v.mask.postRenderCanvas(this,v,T),w.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});C.exports=p},55830:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CanvasRenderer:s(68627),GetBlendModes:s(56373),SetTransform:s(20926)}},56373:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(89289),f=function(){var l=[],h=y.supportNewBlendModes,r="source-over";return l[g.NORMAL]=r,l[g.ADD]="lighter",l[g.MULTIPLY]=h?"multiply":r,l[g.SCREEN]=h?"screen":r,l[g.OVERLAY]=h?"overlay":r,l[g.DARKEN]=h?"darken":r,l[g.LIGHTEN]=h?"lighten":r,l[g.COLOR_DODGE]=h?"color-dodge":r,l[g.COLOR_BURN]=h?"color-burn":r,l[g.HARD_LIGHT]=h?"hard-light":r,l[g.SOFT_LIGHT]=h?"soft-light":r,l[g.DIFFERENCE]=h?"difference":r,l[g.EXCLUSION]=h?"exclusion":r,l[g.HUE]=h?"hue":r,l[g.SATURATION]=h?"saturation":r,l[g.COLOR]=h?"color":r,l[g.LUMINOSITY]=h?"luminosity":r,l[g.ERASE]="destination-out",l[g.SOURCE_IN]="source-in",l[g.SOURCE_OUT]="source-out",l[g.SOURCE_ATOP]="source-atop",l[g.DESTINATION_OVER]="destination-over",l[g.DESTINATION_IN]="destination-in",l[g.DESTINATION_OUT]="destination-out",l[g.DESTINATION_ATOP]="destination-atop",l[g.LIGHTER]="lighter",l[g.COPY]="copy",l[g.XOR]="xor",l};C.exports=f},20926:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91296),y=function(f,l,h,r,o){var u=r.alpha*h.alpha;if(u<=0)return!1;var a=g(h,r,o).calc;return l.globalCompositeOperation=f.blendModes[h.blendMode],l.globalAlpha=u,l.save(),a.setToContext(l),l.imageSmoothingEnabled=h.frame?!h.frame.source.scaleMode:f.antialias,!0};C.exports=y},63899:C=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="losewebgl"},6119:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postrender"},48070:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prerender"},15640:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="render"},8912:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resize"},87124:C=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="restorewebgl"},92503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={LOSE_WEBGL:s(63899),POST_RENDER:s(6119),PRE_RENDER:s(48070),RENDER:s(15640),RESIZE:s(8912),RESTORE_WEBGL:s(87124)}},36909:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Events:s(92503),Snapshot:s(89966)},C.exports.Canvas=s(55830),C.exports.WebGL=s(4159)},32880:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=s(40987),f=s(95540),l=function(h,r){var o=f(r,"callback"),u=f(r,"type","image/png"),a=f(r,"encoder",.92),d=Math.abs(Math.round(f(r,"x",0))),c=Math.abs(Math.round(f(r,"y",0))),p=Math.floor(f(r,"width",h.width)),v=Math.floor(f(r,"height",h.height)),m=f(r,"getPixel",!1);if(m){var T=h.getContext("2d",{willReadFrequently:!1}),E=T.getImageData(d,c,1,1),P=E.data;o.call(null,new y(P[0],P[1],P[2],P[3]))}else if(d!==0||c!==0||p!==h.width||v!==h.height){var w=g.createWebGL(this,p,v),R=w.getContext("2d",{willReadFrequently:!0});p>0&&v>0&&R.drawImage(h,d,c,p,v,0,0,p,v);var b=new Image;b.onerror=function(){o.call(null),g.remove(w)},b.onload=function(){o.call(null,b),g.remove(w)},b.src=w.toDataURL(u,a)}else{var O=new Image;O.onerror=function(){o.call(null)},O.onload=function(){o.call(null,O)},O.src=h.toDataURL(u,a)}};C.exports=l},88815:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=s(40987),f=s(95540),l=function(h,r){var o=h,u=f(r,"callback"),a=f(r,"type","image/png"),d=f(r,"encoder",.92),c=Math.abs(Math.round(f(r,"x",0))),p=Math.abs(Math.round(f(r,"y",0))),v=f(r,"getPixel",!1),m=f(r,"isFramebuffer",!1),T=m?f(r,"bufferWidth",1):o.drawingBufferWidth,E=m?f(r,"bufferHeight",1):o.drawingBufferHeight;if(v){var P=new Uint8Array(4),w=m?p:E-p;o.readPixels(c,w,1,1,o.RGBA,o.UNSIGNED_BYTE,P),u.call(null,new y(P[0],P[1],P[2],P[3]))}else{var R=Math.floor(f(r,"width",T)),b=Math.floor(f(r,"height",E)),O=R*b*4,I=new Uint8Array(O);o.readPixels(c,E-p-b,R,b,o.RGBA,o.UNSIGNED_BYTE,I);for(var D=g.createWebGL(this,R,b),B=D.getContext("2d",{willReadFrequently:!0}),k=B.getImageData(0,0,R,b),z=k.data,X=0;X<b;X++)for(var K=0;K<R;K++){var H=((b-X-1)*R+K)*4,Q=m?O-(X*R+(R-K))*4:(X*R+K)*4;z[Q+0]=I[H+0],z[Q+1]=I[H+1],z[Q+2]=I[H+2],z[Q+3]=I[H+3]}B.putImageData(k,0,0);var W=new Image;W.onerror=function(){u.call(null),g.remove(D)},W.onload=function(){u.call(null,W),g.remove(D)},W.src=D.toDataURL(a,d)}};C.exports=l},89966:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Canvas:s(32880),WebGL:s(88815)}},7530:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(36060),f=s(90330),l=s(82264),h=s(95540),r=s(32302),o=s(63448),u=s(31302),a=s(58918),d=s(14811),c=s(92651),p=s(96569),v=s(56527),m=s(57516),T=s(43439),E=s(81041),P=s(12385),w=s(7589),R=s(95428),b=s(72905),O=new g({initialize:function(D){this.game=D.game,this.renderer=D,this.classes=new f([[y.UTILITY_PIPELINE,w],[y.MULTI_PIPELINE,m],[y.BITMAPMASK_PIPELINE,u],[y.SINGLE_PIPELINE,P],[y.ROPE_PIPELINE,E],[y.LIGHT_PIPELINE,p],[y.POINTLIGHT_PIPELINE,T],[y.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new f,this.pipelines=new f,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(I,D,B){var k=this.renderer,z=this.renderTargets;this.frameInc=Math.floor(h(I,"frameInc",32));var X=k.width,K=k.height,H=this.game.config.disablePreFX,Q=this.game.config.disablePostFX;if(Q||this.postPipelineClasses.setAll([[String(d.BARREL),a.Barrel],[String(d.BLOOM),a.Bloom],[String(d.BLUR),a.Blur],[String(d.BOKEH),a.Bokeh],[String(d.CIRCLE),a.Circle],[String(d.COLOR_MATRIX),a.ColorMatrix],[String(d.DISPLACEMENT),a.Displacement],[String(d.GLOW),a.Glow],[String(d.GRADIENT),a.Gradient],[String(d.PIXELATE),a.Pixelate],[String(d.SHADOW),a.Shadow],[String(d.SHINE),a.Shine],[String(d.VIGNETTE),a.Vignette],[String(d.WIPE),a.Wipe]]),!H){this.classes.set(y.FX_PIPELINE,c);for(var W=Math.min(X,K),Y=Math.ceil(W/this.frameInc),N=1;N<Y;N++){var Z=N*this.frameInc;z.push(new r(k,Z,Z)),z.push(new r(k,Z,Z)),z.push(new r(k,Z,Z)),this.maxDimension=Z}z.push(new r(k,X,K,1,0,!0,!0)),z.push(new r(k,X,K,1,0,!0,!0)),z.push(new r(k,X,K,1,0,!0,!0))}var U,j,et=this,it=this.game;if(this.classes.each(function(lt,ft){U=et.add(lt,new ft({game:it})),lt===y.UTILITY_PIPELINE&&(et.UTILITY_PIPELINE=U,et.fullFrame1=U.fullFrame1,et.fullFrame2=U.fullFrame2,et.halfFrame1=U.halfFrame1,et.halfFrame2=U.halfFrame2)}),this.MULTI_PIPELINE=this.get(y.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(y.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(y.MOBILE_PIPELINE),H||(this.FX_PIPELINE=this.get(y.FX_PIPELINE)),I)for(j in I){var rt=I[j];U=new rt(it),U.name=j,U.isPostFX?this.postPipelineClasses.set(j,rt):this.has(j)||(this.classes.set(j,rt),this.add(j,U))}this.default=this.get(D),B&&!l.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(I){var D=this.get(I);return D&&(this.default=D),D},add:function(I,D){if(D.isPostFX){console.warn(I+" is a Post Pipeline. Use `addPostPipeline` instead");return}var B=this.pipelines,k=this.renderer;return B.has(I)?console.warn("Pipeline exists: "+I):(D.name=I,D.manager=this,B.set(I,D)),D.hasBooted||D.boot(),k.width!==0&&k.height!==0&&!D.isPreFX&&D.resize(k.width,k.height),D},addPostPipeline:function(I,D){this.postPipelineClasses.has(I)||this.postPipelineClasses.set(I,D)},flush:function(){this.current&&this.current.flush()},has:function(I){var D=this.pipelines;return typeof I=="string"?D.has(I):!!D.contains(I)},get:function(I){var D=this.pipelines;if(typeof I=="string")return D.get(I);if(D.contains(I))return I},getPostPipeline:function(I,D,B){var k=this.postPipelineClasses,z,X="",K=typeof I;if(K==="string"||K==="number"?(z=k.get(I),X=I):K==="function"?(k.contains(I)&&(z=I),X=I.name):K==="object"&&(z=k.get(I.name),X=I.name),z){var H=new z(this.game,B);return H.name=X,D&&(H.gameObject=D),this.postPipelineInstances.push(H),H}},removePostPipeline:function(I){b(this.postPipelineInstances,I)},remove:function(I,D,B){D===void 0&&(D=!0),B===void 0&&(B=!0),this.pipelines.delete(I),D&&this.classes.delete(I),B&&this.postPipelineClasses.delete(I)},set:function(I,D,B){if(!I.isPostFX)return this.isCurrent(I,B)||(this.flush(),this.current&&this.current.unbind(),this.current=I,I.bind(B)),I.updateProjectionMatrix(),I.onBind(D),I},preBatch:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,B=D.length-1;B>=0;B--){var k=D[B];k.active&&k.preBatch(I)}}},postBatch:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,B=0;B<D.length;B++){var k=D[B];k.active&&k.postBatch(I)}}},preBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,B=D.length-1;B>=0;B--){var k=D[B];k.active&&k.preBatch(I)}}},postBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,B=0;B<D.length;B++){var k=D[B];k.active&&k.postBatch(I)}}},isCurrent:function(I,D){var B=this.renderer,k=this.current;return k&&!D&&(D=k.currentShader),!(k!==I||D.program!==B.currentProgram)},copyFrame:function(I,D,B,k,z){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(I,D,B,k,z),this},copyToGame:function(I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(I),this},drawFrame:function(I,D,B,k){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(I,D,B,k),this},blendFrames:function(I,D,B,k,z){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(I,D,B,k,z),this},blendFramesAdditive:function(I,D,B,k,z){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(I,D,B,k,z),this},clearFrame:function(I,D){return this.UTILITY_PIPELINE.clearFrame(I,D),this},blitFrame:function(I,D,B,k,z,X){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(I,D,B,k,z,X),this},copyFrameRect:function(I,D,B,k,z,X,K,H){return this.UTILITY_PIPELINE.copyFrameRect(I,D,B,k,z,X,K,H),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(I){return this.UTILITY_PIPELINE.bind(I)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(I,D){D.restoreContext()}),R(this.postPipelineInstances,function(I){I.restoreContext()})},rebind:function(I){I===void 0&&this.previous&&(I=this.previous);var D=this.renderer,B=D.gl;B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),D.hasActiveStencilMask()?B.clear(B.DEPTH_BUFFER_BIT):(B.disable(B.STENCIL_TEST),B.clear(B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)),B.viewport(0,0,D.width,D.height),D.currentProgram=null,D.setBlendMode(0,!0);var k=D.vaoExtension;k&&k.bindVertexArrayOES(null);var z=this.pipelines.entries;for(var X in z)z[X].glReset=!0;I&&(this.current=I,I.rebind())},clear:function(){var I=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,I.currentProgram=null,I.setBlendMode(0,!0);var D=I.vaoExtension;D&&D.bindVertexArrayOES(null)},getRenderTarget:function(I){var D=this.renderTargets,B=3;if(I>this.maxDimension)return this.targetIndex=D.length-B,D[this.targetIndex];var k=(o(I,this.frameInc,0,!0)-1)*B;return this.targetIndex=k,D[k]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});C.exports=O},32302:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(92503),f=new g({initialize:function(h,r,o,u,a,d,c,p,v){u===void 0&&(u=1),a===void 0&&(a=0),d===void 0&&(d=!0),c===void 0&&(c=!1),p===void 0&&(p=!0),v===void 0&&(v=!0),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=u,this.minFilter=a,this.autoClear=d,this.autoResize=!0,this.hasDepthBuffer=p,this.forceClamp=v,this.init(r,o),c?this.renderer.on(y.RESIZE,this.resize,this):this.autoResize=!1},init:function(l,h){var r=this.renderer;this.texture=r.createTextureFromSource(null,l,h,this.minFilter,this.forceClamp),this.framebuffer=r.createFramebuffer(l,h,this.texture,this.hasDepthBuffer),this.width=l,this.height=h},setAutoResize:function(l){return l&&!this.autoResize?(this.renderer.on(y.RESIZE,this.resize,this),this.autoResize=!0):!l&&this.autoResize&&(this.renderer.off(y.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(l,h){if(this.autoResize&&this.willResize(l,h)){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.texture=r.createTextureFromSource(null,l,h,this.minFilter,this.forceClamp),this.framebuffer=r.createFramebuffer(l,h,this.texture,this.hasDepthBuffer),this.width=l,this.height=h}return this},willResize:function(l,h){return typeof l!="number"||typeof h!="number"?!1:(l=Math.round(l*this.scale),h=Math.round(h*this.scale),l=Math.max(l,1),h=Math.max(h,1),l!==this.width||h!==this.height)},bind:function(l,h,r){l===void 0&&(l=!1);var o=this.renderer;if(l&&o.flush(),h&&r&&this.resize(h,r),o.pushFramebuffer(this.framebuffer,!1,!1),l&&this.adjustViewport(),this.autoClear){var u=this.renderer.gl;u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT)}o.clearStencilMask()},adjustViewport:function(){var l=this.renderer.gl;l.viewport(0,0,this.width,this.height),l.disable(l.SCISSOR_TEST)},clear:function(l,h,r,o){var u=this.renderer,a=u.gl;u.pushFramebuffer(this.framebuffer),l!==void 0&&h!==void 0&&r!==void 0&&o!==void 0?(a.enable(a.SCISSOR_TEST),a.scissor(l,h,r,o)):a.disable(a.SCISSOR_TEST),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),u.popFramebuffer(),u.resetScissor()},unbind:function(l){l===void 0&&(l=!1);var h=this.renderer;return l&&h.flush(),h.popFramebuffer()},destroy:function(){var l=this.renderer;l.off(y.RESIZE,this.resize,this),l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});C.exports=f},70554:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={getTintFromFloats:function(A,s,g,y){var f=(A*255|0)&255,l=(s*255|0)&255,h=(g*255|0)&255,r=(y*255|0)&255;return(r<<24|f<<16|l<<8|h)>>>0},getTintAppendFloatAlpha:function(A,s){var g=(s*255|0)&255;return(g<<24|A)>>>0},getTintAppendFloatAlphaAndSwap:function(A,s){var g=(A>>16|0)&255,y=(A>>8|0)&255,f=(A|0)&255,l=(s*255|0)&255;return(l<<24|f<<16|y<<8|g)>>>0},getFloatsFromUintRGB:function(A){var s=(A>>16|0)&255,g=(A>>8|0)&255,y=(A|0)&255;return[s/255,g/255,y/255]},checkShaderMax:function(A,s){var g=Math.min(16,A.getParameter(A.MAX_TEXTURE_IMAGE_UNITS));return!s||s===-1?g:Math.min(g,s)},parseFragmentShaderMaxTextures:function(A,s){if(!A)return"";for(var g="",y=0;y<s;y++)y>0&&(g+=`
	else `),y<s-1&&(g+="if (outTexId < "+y+".5)"),g+=`
	{`,g+=`
		texture = texture2D(uMainSampler[`+y+"], outTexCoord);",g+=`
	}`;return A=A.replace(/%count%/gi,s.toString()),A.replace(/%forloop%/gi,g)},setGlowQuality:function(A,s,g,y){return g===void 0&&(g=s.config.glowFXQuality),y===void 0&&(y=s.config.glowFXDistance),A=A.replace(/__SIZE__/gi,(1/g/y).toFixed(7)),A=A.replace(/__DIST__/gi,y.toFixed(0)+".0"),A}}},29100:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(62644),f=s(50792),l=s(77085),h=s(95540),r=s(37867),o=s(92503),u=s(32302),a=s(70554),d=s(38683),c=new g({Extends:f,initialize:function(v){f.call(this);var m=v.game,T=m.renderer,E=T.gl;this.name=h(v,"name","WebGLPipeline"),this.game=m,this.renderer=T,this.manager,this.gl=E,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=h(v,"topology",E.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=h(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=h(v,"resizeUniform","")},boot:function(){var p,v=this.gl,m=this.config,T=this.renderer;this.isPostFX||(this.projectionMatrix=new r().identity());var E=this.renderTargets,P=h(m,"renderTarget",!1);typeof P=="boolean"&&P&&(P=1);var w=T.width,R=T.height;if(typeof P=="number")for(p=0;p<P;p++)E.push(new u(T,w,R,1,0,!0));else if(Array.isArray(P))for(p=0;p<P.length;p++){var b=h(P[p],"scale",1),O=h(P[p],"minFilter",0),I=h(P[p],"autoClear",1),D=h(P[p],"autoResize",!1),B=h(P[p],"width",null),k=h(P[p],"height",B);B?E.push(new u(T,B,k,1,O,I,D)):E.push(new u(T,w,R,b,O,I,D))}E.length&&(this.currentRenderTarget=E[0]),this.setShadersFromConfig(m);var z=this.shaders,X=0;for(p=0;p<z.length;p++)z[p].vertexSize>X&&(X=z[p].vertexSize);var K=h(m,"batchSize",T.config.batchSize);this.vertexCapacity=K*6;var H=new ArrayBuffer(this.vertexCapacity*X);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var Q=h(m,"vertices",null);for(Q?(this.vertexViewF32.set(Q),this.vertexBuffer=T.createVertexBuffer(H,v.STATIC_DRAW)):this.vertexBuffer=T.createVertexBuffer(H.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),p=z.length-1;p>=0;p--)z[p].rebind();this.hasBooted=!0,T.on(o.RESIZE,this.resize,this),T.on(o.PRE_RENDER,this.onPreRender,this),T.on(o.RENDER,this.onRender,this),T.on(o.POST_RENDER,this.onPostRender,this),this.emit(l.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(p,v,m){var T=this.renderer;if(p!==this.currentShader||T.currentProgram!==this.currentShader.program){this.flush();var E=this.setVertexBuffer(m);E&&!v&&(v=!0),p.bind(v,!1),this.currentShader=p}return this},getShaderByName:function(p){for(var v=this.shaders,m=0;m<v.length;m++)if(v[m].name===p)return v[m]},setShadersFromConfig:function(p){var v,m=this.shaders,T=this.renderer;for(v=0;v<m.length;v++)m[v].destroy();var E="vertShader",P="fragShader",w="attributes",R=h(p,E,null),b=a.parseFragmentShaderMaxTextures(h(p,P,null),T.maxTextures),O=h(p,w,null),I=h(p,"shaders",[]),D=I.length;if(D===0)R&&b&&(this.shaders=[new d(this,"default",R,b,y(O))]);else{var B=[];for(v=0;v<D;v++){var k=I[v],z,X,K,H;if(typeof k=="string"?(z="default",X=R,K=a.parseFragmentShaderMaxTextures(k,T.maxTextures),H=O):(z=h(k,"name","default"),X=h(k,E,R),K=a.parseFragmentShaderMaxTextures(h(k,P,b),T.maxTextures),H=h(k,w,O)),z==="default"){var Q=K.split(`
`),W=Q[0].trim();W.indexOf("#define SHADER_NAME")>-1&&(z=W.substring(20))}X&&K&&B.push(new d(this,z,X,K,y(H)))}this.shaders=B}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(p){return this.currentBatch={start:this.vertexCount,count:0,texture:[p],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=p,this.batch.push(this.currentBatch),0},addTextureToBatch:function(p){var v=this.currentBatch;v&&(v.texture.push(p),v.unit++,v.maxUnit++)},pushBatch:function(p){if(!this.currentBatch||this.forceZero&&p!==this.currentTexture)return this.createBatch(p);if(p===this.currentTexture)return this.currentUnit;var v=this.currentBatch,m=v.texture.indexOf(p);return m===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(p):(v.unit++,v.maxUnit++,v.texture.push(p),this.currentUnit=v.unit,this.currentTexture=p,v.unit):(this.currentUnit=m,this.currentTexture=p,m)},setGameObject:function(p,v){return v===void 0&&(v=p.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(p){return p===void 0&&(p=0),this.vertexCount+p>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(p,v){(p!==this.width||v!==this.height)&&this.flush(),this.width=p,this.height=v;for(var m=this.renderTargets,T=0;T<m.length;T++)m[T].resize(p,v);return this.setProjectionMatrix(p,v),this.resizeUniform&&this.set2f(this.resizeUniform,p,v),this.emit(l.RESIZE,p,v,this),this.onResize(p,v),this},setProjectionMatrix:function(p,v){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=p,this.projectionHeight=v,m.ortho(0,p,v,0,-1e3,1e3);for(var T=this.shaders,E="uProjectionMatrix",P=0;P<T.length;P++){var w=T[P];w.hasUniform(E)&&(w.resetUniform(E),w.setMatrix4fv(E,!1,m.val,w))}return this},flipProjectionMatrix:function(p){p===void 0&&(p=!0);var v=this.projectionMatrix;if(!v)return this;var m=this.projectionWidth,T=this.projectionHeight;p?v.ortho(0,m,0,T,-1e3,1e3):v.ortho(0,m,T,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var p=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==p||this.projectionHeight!==v)&&this.setProjectionMatrix(p,v)}},bind:function(p){if(p===void 0&&(p=this.currentShader),this.glReset)return this.rebind(p);var v=!1,m=this.gl;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),p.bind(v),this.currentShader=p,this.activeTextures.length=0,this.emit(l.BIND,this,p),this.onActive(p),this},rebind:function(p){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,m=v.length-1;m>=0;m--){var T=v[m].rebind();(!p||T===p)&&(this.currentShader=T)}return this.activeTextures.length=0,this.emit(l.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var p=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var m=0;m<p.length;m++){var T=p[m];T.syncUniforms(),v&&T.rebind()}},setVertexBuffer:function(p){if(p===void 0&&(p=this.vertexBuffer),p!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,p.webGLBuffer),this.activeBuffer=p,!0}return!1},preBatch:function(p){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(p),this},postBatch:function(p){return this.onDraw(this.currentRenderTarget),this.onPostBatch(p),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(p){if(p===void 0&&(p=!1),this.vertexCount>0){this.emit(l.BEFORE_FLUSH,this,p),this.onBeforeFlush(p);var v=this.gl,m=this.vertexCount,T=this.currentShader.vertexSize,E=this.topology;if(this.active){this.setVertexBuffer(),m===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,m*T));var P,w,R,b=this.batch,O=this.activeTextures;if(this.forceZero)for(O[0]||v.activeTexture(v.TEXTURE0),P=0;P<b.length;P++)w=b[P],R=w.texture[0],O[0]!==R&&(v.bindTexture(v.TEXTURE_2D,R.webGLTexture),O[0]=R),v.drawArrays(E,w.start,w.count);else for(P=0;P<b.length;P++){w=b[P];for(var I=0;I<=w.maxUnit;I++)R=w.texture[I],O[I]!==R&&(v.activeTexture(v.TEXTURE0+I),v.bindTexture(v.TEXTURE_2D,R.webGLTexture),O[I]=R);v.drawArrays(E,w.start,w.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(l.AFTER_FLUSH,this,p),this.onAfterFlush(p)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(p,v,m,T,E,P,w){var R=this.vertexViewF32,b=this.vertexViewU32,O=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++O]=p,R[++O]=v,R[++O]=m,R[++O]=T,R[++O]=E,R[++O]=P,b[++O]=w,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(p,v,m,T,E,P,w,R,b,O,I,D,B,k,z,X,K,H,Q,W){W===void 0&&(W=this.currentUnit);var Y=!1;this.shouldFlush(6)&&(this.flush(),Y=!0),this.currentBatch||(W=this.setTexture2D(Q));var N=this.vertexViewF32,Z=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return N[++U]=v,N[++U]=m,N[++U]=O,N[++U]=I,N[++U]=W,N[++U]=H,Z[++U]=k,N[++U]=T,N[++U]=E,N[++U]=O,N[++U]=B,N[++U]=W,N[++U]=H,Z[++U]=X,N[++U]=P,N[++U]=w,N[++U]=D,N[++U]=B,N[++U]=W,N[++U]=H,Z[++U]=K,N[++U]=v,N[++U]=m,N[++U]=O,N[++U]=I,N[++U]=W,N[++U]=H,Z[++U]=k,N[++U]=P,N[++U]=w,N[++U]=D,N[++U]=B,N[++U]=W,N[++U]=H,Z[++U]=K,N[++U]=R,N[++U]=b,N[++U]=D,N[++U]=I,N[++U]=W,N[++U]=H,Z[++U]=z,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(p),Y},batchTri:function(p,v,m,T,E,P,w,R,b,O,I,D,B,k,z,X,K){K===void 0&&(K=this.currentUnit);var H=!1;this.shouldFlush(3)&&(this.flush(),H=!0),this.currentBatch||(K=this.setTexture2D(X));var Q=this.vertexViewF32,W=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return Q[++Y]=v,Q[++Y]=m,Q[++Y]=R,Q[++Y]=b,Q[++Y]=K,Q[++Y]=z,W[++Y]=D,Q[++Y]=T,Q[++Y]=E,Q[++Y]=R,Q[++Y]=I,Q[++Y]=K,Q[++Y]=z,W[++Y]=B,Q[++Y]=P,Q[++Y]=w,Q[++Y]=O,Q[++Y]=I,Q[++Y]=K,Q[++Y]=z,W[++Y]=k,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(p),H},drawFillRect:function(p,v,m,T,E,P,w,R){w===void 0&&(w=this.renderer.whiteTexture),R===void 0&&(R=!0),p=Math.floor(p),v=Math.floor(v);var b=Math.floor(p+m),O=Math.floor(v+T),I=this.setTexture2D(w),D=a.getTintAppendFloatAlphaAndSwap(E,P),B=0,k=0,z=1,X=1;R&&(k=1,X=0),this.batchQuad(null,p,v,p,O,b,O,b,v,B,k,z,X,D,D,D,D,0,w,I)},setTexture2D:function(p){return p===void 0&&(p=this.renderer.whiteTexture),this.pushBatch(p)},bindTexture:function(p,v){v===void 0&&(v=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+v),m.bindTexture(m.TEXTURE_2D,p.webGLTexture),this},bindRenderTarget:function(p,v){return this.bindTexture(p.texture,v)},setTime:function(p,v){return this.set1f(p,this.game.loop.getDuration(),v),this},setBoolean:function(p,v,m){return m===void 0&&(m=this.currentShader),m.setBoolean(p,v),this},set1f:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set1f(p,v),this},set2f:function(p,v,m,T){return T===void 0&&(T=this.currentShader),T.set2f(p,v,m),this},set3f:function(p,v,m,T,E){return E===void 0&&(E=this.currentShader),E.set3f(p,v,m,T),this},set4f:function(p,v,m,T,E,P){return P===void 0&&(P=this.currentShader),P.set4f(p,v,m,T,E),this},set1fv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set1fv(p,v),this},set2fv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set2fv(p,v),this},set3fv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set3fv(p,v),this},set4fv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set4fv(p,v),this},set1iv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set1iv(p,v),this},set2iv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set2iv(p,v),this},set3iv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set3iv(p,v),this},set4iv:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set4iv(p,v),this},set1i:function(p,v,m){return m===void 0&&(m=this.currentShader),m.set1i(p,v),this},set2i:function(p,v,m,T){return T===void 0&&(T=this.currentShader),T.set2i(p,v,m),this},set3i:function(p,v,m,T,E){return E===void 0&&(E=this.currentShader),E.set3i(p,v,m,T),this},set4i:function(p,v,m,T,E,P){return P===void 0&&(P=this.currentShader),P.set4i(p,v,m,T,E),this},setMatrix2fv:function(p,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix2fv(p,v,m),this},setMatrix3fv:function(p,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix3fv(p,v,m),this},setMatrix4fv:function(p,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix4fv(p,v,m),this},destroy:function(){this.emit(l.DESTROY,this);var p,v=this.shaders;for(p=0;p<v.length;p++)v[p].destroy();var m=this.renderTargets;for(p=0;p<m.length;p++)m[p].destroy();var T=this.renderer;return T.deleteBuffer(this.vertexBuffer),T.off(o.RESIZE,this.resize,this),T.off(o.PRE_RENDER,this.onPreRender,this),T.off(o.RENDER,this.onRender,this),T.off(o.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});C.exports=c},74797:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95428),y=s(72905),f=s(19715),l=s(83419),h=s(8054),r=s(50792),o=s(92503),u=s(50030),a=s(37867),d=s(29747),c=s(7530),p=s(32302),v=s(97480),m=s(69442),T=s(70554),E=s(88815),P=s(26128),w=s(1482),R=s(82751),b=s(84387),O=s(93567),I=s(57183),D=new l({Extends:r,initialize:function(k){r.call(this);var z=k.config,X={alpha:z.transparent,desynchronized:z.desynchronized,depth:!0,antialias:z.antialiasGL,premultipliedAlpha:z.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:z.failIfMajorPerformanceCaveat,powerPreference:z.powerPreference,preserveDrawingBuffer:z.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:z.clearBeforeRender,antialias:z.antialias,backgroundColor:z.backgroundColor,contextCreation:X,roundPixels:z.roundPixels,maxTextures:z.maxTextures,maxTextureSize:z.maxTextureSize,batchSize:z.batchSize,maxLights:z.maxLights,mipmapFilter:z.mipmapFilter},this.game=k,this.type=h.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=k.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=d,this.contextRestoredHandler=d,this.previousContextLostHandler=d,this.previousContextRestoredHandler=d,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(B){var k,z=this.game,X=this.canvas,K=B.backgroundColor;if(z.config.context?k=z.config.context:k=X.getContext("webgl",B.contextCreation)||X.getContext("experimental-webgl",B.contextCreation),!k||k.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=k,this.setExtensions(),this.setContextHandlers(),z.context=k;for(var H=0;H<=27;H++)this.blendModes.push({func:[k.ONE,k.ONE_MINUS_SRC_ALPHA],equation:k.FUNC_ADD});this.blendModes[1].func=[k.ONE,k.DST_ALPHA],this.blendModes[2].func=[k.DST_COLOR,k.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[k.ONE,k.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[k.ZERO,k.ONE_MINUS_SRC_ALPHA],equation:k.FUNC_REVERSE_SUBTRACT},this.glFormats=[k.BYTE,k.SHORT,k.UNSIGNED_BYTE,k.UNSIGNED_SHORT,k.FLOAT],this.glFuncMap={mat2:{func:k.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:k.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:k.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:k.uniform1f,length:1},"1fv":{func:k.uniform1fv,length:1},"1i":{func:k.uniform1i,length:1},"1iv":{func:k.uniform1iv,length:1},"2f":{func:k.uniform2f,length:2},"2fv":{func:k.uniform2fv,length:1},"2i":{func:k.uniform2i,length:2},"2iv":{func:k.uniform2iv,length:1},"3f":{func:k.uniform3f,length:3},"3fv":{func:k.uniform3fv,length:1},"3i":{func:k.uniform3i,length:3},"3iv":{func:k.uniform3iv,length:1},"4f":{func:k.uniform4f,length:4},"4fv":{func:k.uniform4fv,length:1},"4i":{func:k.uniform4i,length:4},"4iv":{func:k.uniform4iv,length:1}},(!B.maxTextures||B.maxTextures===-1)&&(B.maxTextures=k.getParameter(k.MAX_TEXTURE_IMAGE_UNITS)),B.maxTextureSize||(B.maxTextureSize=k.getParameter(k.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),k.disable(k.DEPTH_TEST),k.disable(k.CULL_FACE),k.enable(k.BLEND),k.clearColor(K.redGL,K.greenGL,K.blueGL,K.alphaGL),k.clear(k.COLOR_BUFFER_BIT);var Q=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Q.indexOf(B.mipmapFilter)!==-1&&(this.mipmapFilter=k[B.mipmapFilter]),this.maxTextures=T.checkShaderMax(k,B.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new c(this),this.setBlendMode(h.BlendModes.NORMAL),this.projectionMatrix=new a().identity(),z.textures.once(m.READY,this.boot,this),this},boot:function(){var B=this.game,k=this.pipelines,z=B.scale.baseSize,X=z.width,K=z.height;this.width=X,this.height=K,this.isBooted=!0,this.renderTarget=new p(this,X,K,1,0,!0,!0),this.maskTarget=new p(this,X,K,1,0,!0,!0),this.maskSource=new p(this,X,K,1,0,!0,!0);var H=B.config;k.boot(H.pipeline,H.defaultPipeline,H.autoMobilePipeline),this.blankTexture=B.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=B.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=B.textures.getFrame("__WHITE").glTexture;var Q=this.gl;Q.bindFramebuffer(Q.FRAMEBUFFER,null),Q.enable(Q.SCISSOR_TEST),B.scale.on(v.RESIZE,this.onResize,this),this.resize(X,K)},setExtensions:function(){var B=this.gl,k=B.getSupportedExtensions();this.supportedExtensions=k;var z="ANGLE_instanced_arrays";this.instancedArraysExtension=k.indexOf(z)>-1?B.getExtension(z):null;var X="OES_vertex_array_object";this.vaoExtension=k.indexOf(X)>-1?B.getExtension(X):null},setContextHandlers:function(B,k){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof B=="function"?this.contextLostHandler=B.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof k=="function"?this.contextRestoredHandler=k.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(B){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(o.LOSE_WEBGL,this),B.preventDefault()},dispatchContextRestored:function(B){var k=this.gl;if(k.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(h.BlendModes.NORMAL),k.disable(k.BLEND),k.disable(k.DEPTH_TEST),k.enable(k.CULL_FACE),this.compression=this.getCompressedTextures();var z=function(X){X.createResource()};g(this.glTextureWrappers,z),g(this.glBufferWrappers,z),g(this.glFramebufferWrappers,z),g(this.glProgramWrappers,z),g(this.glAttribLocationWrappers,z),g(this.glUniformLocationWrappers,z),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(o.RESTORE_WEBGL,this),B.preventDefault()},createTemporaryTextures:function(){for(var B=this.gl,k=0;k<this.maxTextures;k++){var z=B.createTexture();B.activeTexture(B.TEXTURE0+k),B.bindTexture(B.TEXTURE_2D,z),B.texImage2D(B.TEXTURE_2D,0,B.RGBA,1,1,0,B.RGBA,B.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(k)}},captureFrame:function(B,k){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(B,k,z){},stopCapture:function(){},onCapture:function(B){},onResize:function(B,k){(k.width!==this.width||k.height!==this.height)&&this.resize(k.width,k.height)},beginCapture:function(B,k){B===void 0&&(B=this.width),k===void 0&&(k=this.height),this.renderTarget.bind(!0,B,k),this.setProjectionMatrix(B,k)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(B,k){var z=this.gl;return this.width=B,this.height=k,this.setProjectionMatrix(B,k),z.viewport(0,0,B,k),this.drawingBufferHeight=z.drawingBufferHeight,z.scissor(0,z.drawingBufferHeight-k,B,k),this.defaultScissor[2]=B,this.defaultScissor[3]=k,this.emit(o.RESIZE,B,k),this},getCompressedTextures:function(){var B="WEBGL_compressed_texture_",k="WEBKIT_"+B,z="EXT_texture_compression_",X=function(H,Q){var W=H.getExtension(B+Q)||H.getExtension(k+Q)||H.getExtension(z+Q);if(W){var Y={};for(var N in W)Y[W[N]]=N;return Y}},K=this.gl;return{ETC:X(K,"etc"),ETC1:X(K,"etc1"),ATC:X(K,"atc"),ASTC:X(K,"astc"),BPTC:X(K,"bptc"),RGTC:X(K,"rgtc"),PVRTC:X(K,"pvrtc"),S3TC:X(K,"s3tc"),S3TCSRGB:X(K,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(B,k){var z=this.compression[B.toUpperCase()];if(k in z)return z[k]},supportsCompressedTexture:function(B,k){var z=this.compression[B.toUpperCase()];return z?k?k in z:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(B,k){return(B!==this.projectionWidth||k!==this.projectionHeight)&&(this.projectionWidth=B,this.projectionHeight=k,this.projectionMatrix.ortho(0,B,k,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(B){return this.supportedExtensions?this.supportedExtensions.indexOf(B):!1},getExtension:function(B){return this.hasExtension(B)?(B in this.extensions||(this.extensions[B]=this.gl.getExtension(B)),this.extensions[B]):null},flush:function(){this.pipelines.flush()},pushScissor:function(B,k,z,X,K){K===void 0&&(K=this.drawingBufferHeight);var H=this.scissorStack,Q=[B,k,z,X];return H.push(Q),this.setScissor(B,k,z,X,K),this.currentScissor=Q,Q},setScissor:function(B,k,z,X,K){K===void 0&&(K=this.drawingBufferHeight);var H=this.gl,Q=this.currentScissor,W=z>0&&X>0;if(Q&&W){var Y=Q[0],N=Q[1],Z=Q[2],U=Q[3];W=Y!==B||N!==k||Z!==z||U!==X}W&&(this.flush(),H.scissor(B,K-k-X,z,X))},resetScissor:function(){var B=this.gl;B.enable(B.SCISSOR_TEST);var k=this.currentScissor;if(k){var z=k[0],X=k[1],K=k[2],H=k[3];K>0&&H>0&&B.scissor(z,this.drawingBufferHeight-X-H,K,H)}},popScissor:function(){var B=this.scissorStack;B.pop();var k=B[B.length-1];k&&this.setScissor(k[0],k[1],k[2],k[3]),this.currentScissor=k},hasActiveStencilMask:function(){var B=this.currentMask.mask,k=this.currentCameraMask.mask;return B&&B.isStencil||k&&k.isStencil},resetViewport:function(){var B=this.gl;B.viewport(0,0,this.width,this.height),this.drawingBufferHeight=B.drawingBufferHeight},setBlendMode:function(B,k){k===void 0&&(k=!1);var z=this.gl,X=this.blendModes[B];return k||B!==h.BlendModes.SKIP_CHECK&&this.currentBlendMode!==B?(this.flush(),z.enable(z.BLEND),z.blendEquation(X.equation),X.func.length>2?z.blendFuncSeparate(X.func[0],X.func[1],X.func[2],X.func[3]):z.blendFunc(X.func[0],X.func[1]),this.currentBlendMode=B,!0):!1},addBlendMode:function(B,k){var z=this.blendModes.push({func:B,equation:k});return z-1},updateBlendMode:function(B,k,z){return this.blendModes[B]&&(this.blendModes[B].func=k,z&&(this.blendModes[B].equation=z)),this},removeBlendMode:function(B){return B>17&&this.blendModes[B]&&this.blendModes.splice(B,1),this},pushFramebuffer:function(B,k,z,X,K){return B===this.currentFramebuffer?this:(this.fboStack.push(B),this.setFramebuffer(B,k,z,X,K))},setFramebuffer:function(B,k,z,X,K){if(k===void 0&&(k=!1),z===void 0&&(z=!0),X===void 0&&(X=null),K===void 0&&(K=!1),B===this.currentFramebuffer)return this;var H=this.gl,Q=this.width,W=this.height;return B&&B.renderTexture&&z?(Q=B.renderTexture.width,W=B.renderTexture.height):this.flush(),B?H.bindFramebuffer(H.FRAMEBUFFER,B.webGLFramebuffer):H.bindFramebuffer(H.FRAMEBUFFER,null),z&&H.viewport(0,0,Q,W),X&&H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,X.webGLTexture,0),K&&(H.clearColor(0,0,0,0),H.clear(H.COLOR_BUFFER_BIT)),k&&(B?(this.drawingBufferHeight=W,this.pushScissor(0,0,Q,W)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=B,this},popFramebuffer:function(B,k){B===void 0&&(B=!1),k===void 0&&(k=!0);var z=this.fboStack;z.pop();var X=z[z.length-1];return X||(X=null),this.setFramebuffer(X,B,k),X},restoreFramebuffer:function(B,k){B===void 0&&(B=!1),k===void 0&&(k=!0);var z=this.fboStack,X=z[z.length-1];X||(X=null),this.currentFramebuffer=null,this.setFramebuffer(X,B,k)},setProgram:function(B){return B!==this.currentProgram?(this.flush(),this.gl.useProgram(B.webGLProgram),this.currentProgram=B,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(B,k,z,X,K){K===void 0&&(K=!1);var H=this.gl,Q=H.NEAREST,W=H.NEAREST,Y=H.CLAMP_TO_EDGE,N=null;k=B?B.width:k,z=B?B.height:z;var Z=u(k,z);if(Z&&!K&&(Y=H.REPEAT),X===h.ScaleModes.LINEAR&&this.config.antialias){var U=B&&B.compressed,j=!U&&Z||U&&B.mipmaps.length>1;Q=this.mipmapFilter&&j?this.mipmapFilter:H.LINEAR,W=H.LINEAR}return!B&&typeof k=="number"&&typeof z=="number"?N=this.createTexture2D(0,Q,W,Y,Y,H.RGBA,null,k,z):N=this.createTexture2D(0,Q,W,Y,Y,H.RGBA,B),N},createTexture2D:function(B,k,z,X,K,H,Q,W,Y,N,Z,U){typeof W!="number"&&(W=Q?Q.width:1),typeof Y!="number"&&(Y=Q?Q.height:1);var j=new R(this.gl,B,k,z,X,K,H,Q,W,Y,N,Z,U);return this.glTextureWrappers.push(j),j},createFramebuffer:function(B,k,z,X){this.currentFramebuffer=null;var K=new b(this.gl,B,k,z,X);return this.glFramebufferWrappers.push(K),K},beginBitmapMask:function(B,k){var z=this.gl;z&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==B&&(this.currentMask.mask=B,this.currentMask.camera=k))},drawBitmapMask:function(B,k,z){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),B.renderWebGL(this,B,k),this.maskSource.unbind(!0),this.maskTarget.unbind();var X=this.gl,K=this.getCurrentStencilMask();K?(X.enable(X.STENCIL_TEST),K.mask.applyStencil(this,K.camera,!0)):this.currentMask.mask=null,this.pipelines.set(z),X.activeTexture(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,this.maskTarget.texture.webGLTexture),X.activeTexture(X.TEXTURE1),X.bindTexture(X.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(B,k){var z=new w(this.gl,B,k);return this.glProgramWrappers.push(z),z},createVertexBuffer:function(B,k){var z=this.gl,X=new P(z,B,z.ARRAY_BUFFER,k);return this.glBufferWrappers.push(X),X},createAttribLocation:function(B,k){var z=new O(this.gl,B,k);return this.glAttribLocationWrappers.push(z),z},createUniformLocation:function(B,k){var z=new I(this.gl,B,k);return this.glUniformLocationWrappers.push(z),z},createIndexBuffer:function(B,k){var z=this.gl,X=new P(z,B,z.ELEMENT_ARRAY_BUFFER,k);return this.glBufferWrappers.push(X),X},deleteTexture:function(B){if(B)return y(this.glTextureWrappers,B),B.destroy(),this},deleteFramebuffer:function(B){return B?(y(this.fboStack,B),y(this.glFramebufferWrappers,B),B.destroy(),this):this},deleteProgram:function(B){return B&&(y(this.glProgramWrappers,B),B.destroy()),this},deleteAttribLocation:function(B){return B&&(y(this.glAttribLocationWrappers,B),B.destroy()),this},deleteUniformLocation:function(B){return B&&(y(this.glUniformLocationWrappers,B),B.destroy()),this},deleteBuffer:function(B){return B?(y(this.glBufferWrappers,B),B.destroy(),this):this},preRenderCamera:function(B){var k=B.x,z=B.y,X=B.width,K=B.height,H=B.backgroundColor;if(B.emit(f.PRE_RENDER,B),this.pipelines.preBatchCamera(B),this.pushScissor(k,z,X,K),B.mask&&(this.currentCameraMask.mask=B.mask,this.currentCameraMask.camera=B._maskCamera,B.mask.preRenderWebGL(this,B,B._maskCamera)),H.alphaGL>0){var Q=this.pipelines.setMulti();Q.drawFillRect(k,z,X,K,T.getTintFromFloats(H.blueGL,H.greenGL,H.redGL,1),H.alphaGL)}},getCurrentStencilMask:function(){var B=null,k=this.maskStack,z=this.currentCameraMask;return k.length>0?B=k[k.length-1]:z.mask&&z.mask.isStencil&&(B=z),B},postRenderCamera:function(B){var k=B.flashEffect,z=B.fadeEffect;if(k.isRunning||z.isRunning||z.isComplete){var X=this.pipelines.setMulti();k.postRenderWebGL(X,T.getTintFromFloats),z.postRenderWebGL(X,T.getTintFromFloats)}B.dirty=!1,this.popScissor(),B.mask&&(this.currentCameraMask.mask=null,B.mask.postRenderWebGL(this,B._maskCamera)),this.pipelines.postBatchCamera(B),B.emit(f.POST_RENDER,B)},preRender:function(){if(!this.contextLost){var B=this.gl;if(B.bindFramebuffer(B.FRAMEBUFFER,null),this.emit(o.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var k=this.config.backgroundColor;B.clearColor(k.redGL,k.greenGL,k.blueGL,k.alphaGL),B.clear(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)}B.enable(B.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&B.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(o.PRE_RENDER)}},render:function(B,k,z){if(!this.contextLost){var X=k.length;if(this.emit(o.RENDER,B,z),this.preRenderCamera(z),X===0){this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(z);return}this.currentType="";for(var K=this.currentMask,H=0;H<X;H++){this.finalType=H===X-1;var Q=k[H],W=Q.mask;K=this.currentMask,K.mask&&K.mask!==W&&K.mask.postRenderWebGL(this,K.camera),W&&K.mask!==W&&W.preRenderWebGL(this,Q,z),Q.blendMode!==this.currentBlendMode&&this.setBlendMode(Q.blendMode);var Y=Q.type;Y!==this.currentType&&(this.newType=!0,this.currentType=Y),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=k[H+1].type===this.currentType,Q.renderWebGL(this,Q,z),this.newType=!1}K=this.currentMask,K.mask&&K.mask.postRenderWebGL(this,K.camera),this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(z)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(o.POST_RENDER);var B=this.snapshotState;B.callback&&(E(this.gl,B),B.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var B=this.gl,k=this.getCurrentStencilMask();if(k){var z=k.mask;B.enable(B.STENCIL_TEST),z.invertAlpha?B.stencilFunc(B.NOTEQUAL,z.level,255):B.stencilFunc(B.EQUAL,z.level,255)}},snapshot:function(B,k,z){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,B,k,z)},snapshotArea:function(B,k,z,X,K,H,Q){var W=this.snapshotState;return W.callback=K,W.type=H,W.encoder=Q,W.getPixel=!1,W.x=B,W.y=k,W.width=z,W.height=X,this},snapshotPixel:function(B,k,z){return this.snapshotArea(B,k,1,1,z),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(B,k,z,X,K,H,Q,W,Y,N,Z){K===void 0&&(K=!1),H===void 0&&(H=0),Q===void 0&&(Q=0),W===void 0&&(W=k),Y===void 0&&(Y=z),N==="pixel"&&(K=!0,N="image/png");var U=this.currentFramebuffer;this.snapshotArea(H,Q,W,Y,X,N,Z);var j=this.snapshotState;return j.getPixel=K,j.isFramebuffer=!0,j.bufferWidth=k,j.bufferHeight=z,j.width=Math.min(j.width,k),j.height=Math.min(j.height,z),this.setFramebuffer(B),E(this.gl,j),this.setFramebuffer(U),j.callback=null,j.isFramebuffer=!1,this},canvasToTexture:function(B,k,z,X){z===void 0&&(z=!1),X===void 0&&(X=!1);var K=this.gl,H=K.NEAREST,Q=K.NEAREST,W=B.width,Y=B.height,N=K.CLAMP_TO_EDGE,Z=u(W,Y);return!z&&Z&&(N=K.REPEAT),this.config.antialias&&(H=Z&&this.mipmapFilter?this.mipmapFilter:K.LINEAR,Q=K.LINEAR),k?(k.update(B,W,Y,X,N,N,H,Q,k.format),k):this.createTexture2D(0,H,Q,N,N,K.RGBA,B,W,Y,!0,!1,X)},createCanvasTexture:function(B,k,z){return k===void 0&&(k=!1),z===void 0&&(z=!1),this.canvasToTexture(B,null,k,z)},updateCanvasTexture:function(B,k,z,X){return z===void 0&&(z=!1),X===void 0&&(X=!1),this.canvasToTexture(B,k,X,z)},videoToTexture:function(B,k,z,X){z===void 0&&(z=!1),X===void 0&&(X=!1);var K=this.gl,H=K.NEAREST,Q=K.NEAREST,W=B.videoWidth,Y=B.videoHeight,N=K.CLAMP_TO_EDGE,Z=u(W,Y);return!z&&Z&&(N=K.REPEAT),this.config.antialias&&(H=Z&&this.mipmapFilter?this.mipmapFilter:K.LINEAR,Q=K.LINEAR),k?(k.update(B,W,Y,X,N,N,H,Q,k.format),k):this.createTexture2D(0,H,Q,N,N,K.RGBA,B,W,Y,!0,!0,X)},createVideoTexture:function(B,k,z){return k===void 0&&(k=!1),z===void 0&&(z=!1),this.videoToTexture(B,null,k,z)},updateVideoTexture:function(B,k,z,X){return z===void 0&&(z=!1),X===void 0&&(X=!1),this.videoToTexture(B,k,X,z)},createUint8ArrayTexture:function(B,k,z){var X=this.gl,K=X.NEAREST,H=X.NEAREST,Q=X.CLAMP_TO_EDGE,W=u(k,z);return W&&(Q=X.REPEAT),this.createTexture2D(0,K,H,Q,Q,X.RGBA,B,k,z)},setTextureFilter:function(B,k){var z=this.gl,X=k===0?z.LINEAR:z.NEAREST;z.activeTexture(z.TEXTURE0);var K=z.getParameter(z.TEXTURE_BINDING_2D);return z.bindTexture(z.TEXTURE_2D,B.webGLTexture),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,X),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,X),B.minFilter=X,B.magFilter=X,K&&z.bindTexture(z.TEXTURE_2D,K),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var B=function(k){k.destroy()};g(this.glAttribLocationWrappers,B),g(this.glBufferWrappers,B),g(this.glFramebufferWrappers,B),g(this.glProgramWrappers,B),g(this.glTextureWrappers,B),g(this.glUniformLocationWrappers,B),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});C.exports=D},38683:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95428),f=s(95540),l=s(14500),h=new g({initialize:function(o,u,a,d,c){this.pipeline=o,this.name=u,this.renderer=o.renderer,this.gl=this.renderer.gl,this.fragSrc=d,this.vertSrc=a,this.program=this.renderer.createProgram(a,d),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(c),this.createUniforms()},createAttributes:function(r){var o=0,u=0,a=[];this.vertexComponentCount=0;for(var d=0;d<r.length;d++){var c=r[d],p=c.name,v=f(c,"size",1),m=f(c,"type",l.FLOAT),T=m.enum,E=m.size,P=!!c.normalized;a.push({name:p,size:v,type:T,normalized:P,offset:u,enabled:!1,location:-1}),E===4?o+=v:o++,u+=v*E}this.vertexSize=u,this.vertexComponentCount=o,this.attributes=a},bind:function(r,o){return r===void 0&&(r=!1),o===void 0&&(o=!1),o&&this.pipeline.flush(),this.renderer.setProgram(this.program),r&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(r){r===void 0&&(r=!1);for(var o=this.gl,u=this.renderer,a=this.vertexSize,d=this.attributes,c=this.program,p=0;p<d.length;p++){var v=d[p],m=v.size,T=v.type,E=v.offset,P=v.enabled,w=v.location,R=!!v.normalized;if(r){w!==-1&&u.deleteAttribLocation(w);var b=this.renderer.createAttribLocation(c,v.name);b.webGLAttribLocation>=0?(o.enableVertexAttribArray(b.webGLAttribLocation),o.vertexAttribPointer(b.webGLAttribLocation,m,T,R,a,E),v.enabled=!0,v.location=b):b.webGLAttribLocation!==-1&&o.disableVertexAttribArray(b.webGLAttribLocation)}else P?o.vertexAttribPointer(w.webGLAttribLocation,m,T,R,a,E):!P&&w!==-1&&w.webGLAttribLocation>-1&&(o.disableVertexAttribArray(w.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var r=this.gl,o=this.program,u=this.uniforms,a,d,c,p=r.getProgramParameter(o.webGLProgram,r.ACTIVE_UNIFORMS);for(a=0;a<p;a++){var v=r.getActiveUniform(o.webGLProgram,a);if(v){d=v.name,c=this.renderer.createUniformLocation(o,d),c!==null&&(u[d]={name:d,location:c,setter:null,value1:null,value2:null,value3:null,value4:null});var m=d.indexOf("[");m>0&&(d=d.substr(0,m),u.hasOwnProperty(d)||(c=this.renderer.createUniformLocation(o,d),c!==null&&(u[d]={name:d,location:c,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var r=this.gl;this.renderer.setProgram(this.program);for(var o in this.uniforms){var u=this.uniforms[o];u.setter&&u.setter.call(r,u.location.webGLUniformLocation,u.value1,u.value2,u.value3,u.value4)}},hasUniform:function(r){return this.uniforms.hasOwnProperty(r)},resetUniform:function(r){var o=this.uniforms[r];return o&&(o.value1=null,o.value2=null,o.value3=null,o.value4=null),this},setUniform1:function(r,o,u,a){var d=this.uniforms[o];return d?((a||d.value1!==u)&&(d.setter||(d.setter=r),d.value1=u,this.renderer.setProgram(this.program),r.call(this.gl,d.location.webGLUniformLocation,u),this.pipeline.currentShader=this),this):this},setUniform2:function(r,o,u,a,d){var c=this.uniforms[o];return c?((d||c.value1!==u||c.value2!==a)&&(c.setter||(c.setter=r),c.value1=u,c.value2=a,this.renderer.setProgram(this.program),r.call(this.gl,c.location.webGLUniformLocation,u,a),this.pipeline.currentShader=this),this):this},setUniform3:function(r,o,u,a,d,c){var p=this.uniforms[o];return p?((c||p.value1!==u||p.value2!==a||p.value3!==d)&&(p.setter||(p.setter=r),p.value1=u,p.value2=a,p.value3=d,this.renderer.setProgram(this.program),r.call(this.gl,p.location.webGLUniformLocation,u,a,d),this.pipeline.currentShader=this),this):this},setUniform4:function(r,o,u,a,d,c,p){var v=this.uniforms[o];return v?((p||v.value1!==u||v.value2!==a||v.value3!==d||v.value4!==c)&&(v.setter||(v.setter=r),v.value1=u,v.value2=a,v.value3=d,v.value4=c,this.renderer.setProgram(this.program),r.call(this.gl,v.location.webGLUniformLocation,u,a,d,c),this.pipeline.currentShader=this),this):this},setBoolean:function(r,o){return this.setUniform1(this.gl.uniform1i,r,Number(o))},set1f:function(r,o){return this.setUniform1(this.gl.uniform1f,r,o)},set2f:function(r,o,u){return this.setUniform2(this.gl.uniform2f,r,o,u)},set3f:function(r,o,u,a){return this.setUniform3(this.gl.uniform3f,r,o,u,a)},set4f:function(r,o,u,a,d){return this.setUniform4(this.gl.uniform4f,r,o,u,a,d)},set1fv:function(r,o){return this.setUniform1(this.gl.uniform1fv,r,o,!0)},set2fv:function(r,o){return this.setUniform1(this.gl.uniform2fv,r,o,!0)},set3fv:function(r,o){return this.setUniform1(this.gl.uniform3fv,r,o,!0)},set4fv:function(r,o){return this.setUniform1(this.gl.uniform4fv,r,o,!0)},set1iv:function(r,o){return this.setUniform1(this.gl.uniform1iv,r,o,!0)},set2iv:function(r,o){return this.setUniform1(this.gl.uniform2iv,r,o,!0)},set3iv:function(r,o){return this.setUniform1(this.gl.uniform3iv,r,o,!0)},set4iv:function(r,o){return this.setUniform1(this.gl.uniform4iv,r,o,!0)},set1i:function(r,o){return this.setUniform1(this.gl.uniform1i,r,o)},set2i:function(r,o,u){return this.setUniform2(this.gl.uniform2i,r,o,u)},set3i:function(r,o,u,a){return this.setUniform3(this.gl.uniform3i,r,o,u,a)},set4i:function(r,o,u,a,d){return this.setUniform4(this.gl.uniform4i,r,o,u,a,d)},setMatrix2fv:function(r,o,u){return this.setUniform2(this.gl.uniformMatrix2fv,r,o,u,!0)},setMatrix3fv:function(r,o,u){return this.setUniform2(this.gl.uniformMatrix3fv,r,o,u,!0)},setMatrix4fv:function(r,o,u){return this.setUniform2(this.gl.uniformMatrix4fv,r,o,u,!0)},createProgram:function(r,o){return r===void 0&&(r=this.vertSrc),o===void 0&&(o=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=r,this.fragSrc=o,this.program=this.renderer.createProgram(r,o),this.createUniforms(),this.rebind()},destroy:function(){var r=this.renderer;y(this.uniforms,function(o){r.deleteUniformLocation(o.location)}),this.uniforms=null,y(this.attributes,function(o){r.deleteAttribLocation(o.location)}),this.attributes=null,r.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});C.exports=h},14500:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};C.exports=A},4159:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(14500),y=s(79291),f={PipelineManager:s(7530),Pipelines:s(96615),RenderTarget:s(32302),Utils:s(70554),WebGLPipeline:s(29100),WebGLRenderer:s(74797),WebGLShader:s(38683),Wrappers:s(9503)};f=y(!1,f,g),C.exports=f},31302:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(78908),l=s(85191),h=s(14500),r=s(29100),o=new g({Extends:r,initialize:function(a){a.fragShader=y(a,"fragShader",f),a.vertShader=y(a,"vertShader",l),a.batchSize=y(a,"batchSize",1),a.vertices=y(a,"vertices",[-1,1,-1,-7,7,1]),a.attributes=y(a,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),r.call(this,a)},boot:function(){r.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(u,a){r.prototype.resize.call(this,u,a),this.set2f("uResolution",u,a)},beginMask:function(u,a,d){this.renderer.beginBitmapMask(u,d)},endMask:function(u,a,d){var c=this.gl,p=this.renderer,v=u.bitmapMask;v&&c&&(p.drawBitmapMask(v,a,this),d&&this.set2f("uResolution",d.width,d.height),this.set1i("uInvertMaskAlpha",u.invertAlpha),c.drawArrays(this.topology,0,3),d&&this.set2f("uResolution",this.width,this.height),c.bindTexture(c.TEXTURE_2D,null))}});C.exports=o},92651:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(58918),f=s(14811),l=s(95540),h=s(43558),r=s(89350),o=s(70554),u=new g({Extends:h,initialize:function(d){d.shaders=[o.setGlowQuality(r.FXGlowFrag,d.game),r.FXShadowFrag,r.FXPixelateFrag,r.FXVignetteFrag,r.FXShineFrag,r.FXBlurLowFrag,r.FXBlurMedFrag,r.FXBlurHighFrag,r.FXGradientFrag,r.FXBloomFrag,r.ColorMatrixFrag,r.FXCircleFrag,r.FXBarrelFrag,r.FXDisplacementFrag,r.FXWipeFrag,r.FXBokehFrag],h.call(this,d);var c=this.game;this.glow=new y.Glow(c),this.shadow=new y.Shadow(c),this.pixelate=new y.Pixelate(c),this.vignette=new y.Vignette(c),this.shine=new y.Shine(c),this.gradient=new y.Gradient(c),this.circle=new y.Circle(c),this.barrel=new y.Barrel(c),this.wipe=new y.Wipe(c),this.bokeh=new y.Bokeh(c);var p=[];p[f.GLOW]=this.onGlow,p[f.SHADOW]=this.onShadow,p[f.PIXELATE]=this.onPixelate,p[f.VIGNETTE]=this.onVignette,p[f.SHINE]=this.onShine,p[f.BLUR]=this.onBlur,p[f.GRADIENT]=this.onGradient,p[f.BLOOM]=this.onBloom,p[f.COLOR_MATRIX]=this.onColorMatrix,p[f.CIRCLE]=this.onCircle,p[f.BARREL]=this.onBarrel,p[f.DISPLACEMENT]=this.onDisplacement,p[f.WIPE]=this.onWipe,p[f.BOKEH]=this.onBokeh,this.fxHandlers=p,this.source,this.target,this.swap},onDraw:function(a,d,c){this.source=a,this.target=d,this.swap=c;var p=a.width,v=a.height,m=this.tempSprite,T=this.fxHandlers;if(m&&m.preFX)for(var E=m.preFX.list,P=0;P<E.length;P++){var w=E[P];w.active&&T[w.type].call(this,w,p,v)}this.drawToGame(this.source)},runDraw:function(){var a=this.source,d=this.target;this.copy(a,d),this.source=d,this.target=a},onGlow:function(a,d,c){var p=this.shaders[f.GLOW];this.setShader(p),this.glow.onPreRender(a,p,d,c),this.runDraw()},onShadow:function(a){var d=this.shaders[f.SHADOW];this.setShader(d),this.shadow.onPreRender(a,d),this.runDraw()},onPixelate:function(a,d,c){var p=this.shaders[f.PIXELATE];this.setShader(p),this.pixelate.onPreRender(a,p,d,c),this.runDraw()},onVignette:function(a){var d=this.shaders[f.VIGNETTE];this.setShader(d),this.vignette.onPreRender(a,d),this.runDraw()},onShine:function(a,d,c){var p=this.shaders[f.SHINE];this.setShader(p),this.shine.onPreRender(a,p,d,c),this.runDraw()},onBlur:function(a,d,c){var p=l(a,"quality"),v=this.shaders[f.BLUR+p];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",d,c),this.set1f("strength",l(a,"strength")),this.set3fv("color",l(a,"glcolor"));for(var m=l(a,"x"),T=l(a,"y"),E=l(a,"steps"),P=0;P<E;P++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw()},onGradient:function(a){var d=this.shaders[f.GRADIENT];this.setShader(d),this.gradient.onPreRender(a,d),this.runDraw()},onBloom:function(a,d,c){var p=this.shaders[f.BLOOM];this.copySprite(this.source,this.swap),this.setShader(p),this.set1i("uMainSampler",0),this.set1f("strength",l(a,"blurStrength")),this.set3fv("color",l(a,"glcolor"));for(var v=2/d*l(a,"offsetX"),m=2/c*l(a,"offsetY"),T=l(a,"steps"),E=0;E<T;E++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw();this.blendFrames(this.swap,this.source,this.target,l(a,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(a){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",a.getData()),this.set1f("uAlpha",a.alpha),this.runDraw()},onCircle:function(a,d,c){var p=this.shaders[f.CIRCLE];this.setShader(p),this.circle.onPreRender(a,p,d,c),this.runDraw()},onBarrel:function(a){var d=this.shaders[f.BARREL];this.setShader(d),this.barrel.onPreRender(a,d),this.runDraw()},onDisplacement:function(a){this.setShader(this.shaders[f.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.runDraw()},onWipe:function(a){var d=this.shaders[f.WIPE];this.setShader(d),this.wipe.onPreRender(a,d),this.runDraw()},onBokeh:function(a,d,c){var p=this.shaders[f.BOKEH];this.setShader(p),this.bokeh.onPreRender(a,p,d,c),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,h.prototype.destroy.call(this),this}});C.exports=u},96569:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(31063),l=s(57516),h=s(61340),r=s(26099),o=s(29100),u=new g({Extends:l,initialize:function(d){var c=y(d,"fragShader",f);d.fragShader=c.replace("%LIGHT_COUNT%",d.game.renderer.config.maxLights),l.call(this,d),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new r,this._tempMatrix=new h,this._tempMatrix2=new h},boot:function(){o.prototype.boot.call(this)},onRender:function(a,d){var c=a.sys.lights;if(this.lightsActive=!1,!(!c||!c.active)){var p=c.getLights(d),v=p.length;this.lightsActive=!0;var m,T=this.renderer,E=T.height,P=d.matrix,w=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",d.x,d.y,d.rotation,d.zoom),this.set3f("uAmbientLightColor",c.ambientColor.r,c.ambientColor.g,c.ambientColor.b),this.set1i("uLightCount",v),m=0;m<v;m++){var R=p[m].light,b=R.color,O="uLights["+m+"].";P.transformPoint(R.x,R.y,w),this.set2f(O+"position",w.x-d.scrollX*R.scrollFactorX*d.zoom,E-(w.y-d.scrollY*R.scrollFactorY*d.zoom)),this.set3f(O+"color",b.r,b.g,b.b),this.set1f(O+"intensity",R.intensity),this.set1f(O+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(a){if(a!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var d=this.inverseRotationMatrix;if(a){var c=-a,p=Math.cos(c),v=Math.sin(c);d[1]=v,d[3]=-v,d[0]=d[4]=p}else d[0]=d[4]=1,d[1]=d[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,d),this.currentNormalMapRotation=a}},setTexture2D:function(a,d){var c=this.renderer;a===void 0&&(a=c.whiteTexture);var p=this.getNormalMap(d);this.isNewNormalMap(a,p)&&(this.flush(),this.createBatch(a),this.addTextureToBatch(p),this.currentNormalMap=p);var v=0;if(d&&d.parentContainer){var m=d.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=m.rotationNormalized}else d&&(v=d.rotation);return this.currentBatch===null&&(this.createBatch(a),this.addTextureToBatch(p)),this.setNormalMapRotation(v),0},setGameObject:function(a,d){d===void 0&&(d=a.frame);var c=d.glTexture,p=this.getNormalMap(a);if(this.isNewNormalMap(c,p)&&(this.flush(),this.createBatch(c),this.addTextureToBatch(p),this.currentNormalMap=p),a.parentContainer){var v=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(a.rotation);return this.currentBatch===null&&(this.createBatch(c),this.addTextureToBatch(p)),0},isNewNormalMap:function(a,d){return this.currentTexture!==a||this.currentNormalMap!==d},getNormalMap:function(a){var d;if(a)a.displayTexture?d=a.displayTexture.dataSource[a.displayFrame.sourceIndex]:a.texture?d=a.texture.dataSource[a.frame.sourceIndex]:a.tileset&&(Array.isArray(a.tileset)?d=a.tileset[0].image.dataSource[0]:d=a.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return d?d.glTexture:this.renderer.normalTexture},batchSprite:function(a,d,c){this.lightsActive&&l.prototype.batchSprite.call(this,a,d,c)},batchTexture:function(a,d,c,p,v,m,T,E,P,w,R,b,O,I,D,B,k,z,X,K,H,Q,W,Y,N,Z,U,j,et,it,rt,lt){this.lightsActive&&l.prototype.batchTexture.call(this,a,d,c,p,v,m,T,E,P,w,R,b,O,I,D,B,k,z,X,K,H,Q,W,Y,N,Z,U,j,et,it,rt,lt)},batchTextureFrame:function(a,d,c,p,v,m,T){this.lightsActive&&l.prototype.batchTextureFrame.call(this,a,d,c,p,v,m,T)}});C.exports=u},56527:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(57516),l=s(45561),h=s(60722),r=s(14500),o=s(29100),u=new g({Extends:f,initialize:function(d){d.fragShader=y(d,"fragShader",l),d.vertShader=y(d,"vertShader",h),d.attributes=y(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:r.UNSIGNED_BYTE,normalized:!0}]),d.forceZero=!0,d.resizeUniform="uResolution",f.call(this,d)},boot:function(){o.prototype.boot.call(this);var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height)}});C.exports=u},57516:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(94811),f=s(95540),l=s(98840),h=s(44667),r=s(61340),o=s(70554),u=s(14500),a=s(29100),d=new g({Extends:a,initialize:function(p){var v=p.game.renderer,m=f(p,"fragShader",l);p.fragShader=o.parseFragmentShaderMaxTextures(m,v.maxTextures),p.vertShader=f(p,"vertShader",h),p.attributes=f(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:u.UNSIGNED_BYTE,normalized:!0}]),p.resizeUniform="uResolution",a.call(this,p),this._tempMatrix1=new r,this._tempMatrix2=new r,this._tempMatrix3=new r,this.calcMatrix=new r,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){a.prototype.boot.call(this);var c=this.renderer;this.set1iv("uMainSampler",c.textureIndexes),this.set2f("uResolution",c.width,c.height)},batchSprite:function(c,p,v){this.manager.set(this,c);var m=this._tempMatrix1,T=this._tempMatrix2,E=this._tempMatrix3,P=c.frame,w=P.glTexture,R=P.u0,b=P.v0,O=P.u1,I=P.v1,D=P.x,B=P.y,k=P.cutWidth,z=P.cutHeight,X=P.customPivot,K=c.displayOriginX,H=c.displayOriginY,Q=-K+D,W=-H+B;if(c.isCropped){var Y=c._crop;(Y.flipX!==c.flipX||Y.flipY!==c.flipY)&&P.updateCropUVs(Y,c.flipX,c.flipY),R=Y.u0,b=Y.v0,O=Y.u1,I=Y.v1,k=Y.width,z=Y.height,D=Y.x,B=Y.y,Q=-K+D,W=-H+B}var N=1,Z=1;c.flipX&&(X||(Q+=-P.realWidth+K*2),N=-1),c.flipY&&(X||(W+=-P.realHeight+H*2),Z=-1);var U=c.x,j=c.y;p.roundPixels&&(U=Math.floor(U),j=Math.floor(j)),T.applyITRS(U,j,c.rotation,c.scaleX*N,c.scaleY*Z),m.copyFrom(p.matrix),v?(m.multiplyWithOffset(v,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),T.e=U,T.f=j):(T.e-=p.scrollX*c.scrollFactorX,T.f-=p.scrollY*c.scrollFactorY),m.multiply(T,E);var et=E.setQuad(Q,W,Q+k,W+z,p.renderRoundPixels),it=o.getTintAppendFloatAlpha,rt=p.alpha,lt=it(c.tintTopLeft,rt*c._alphaTL),ft=it(c.tintTopRight,rt*c._alphaTR),pt=it(c.tintBottomLeft,rt*c._alphaBL),vt=it(c.tintBottomRight,rt*c._alphaBR);this.shouldFlush(6)&&this.flush();var xt=this.setGameObject(c,P);this.manager.preBatch(c),this.batchQuad(c,et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7],R,b,O,I,lt,ft,pt,vt,c.tintFill,w,xt),this.manager.postBatch(c)},batchTexture:function(c,p,v,m,T,E,P,w,R,b,O,I,D,B,k,z,X,K,H,Q,W,Y,N,Z,U,j,et,it,rt,lt,ft,pt,vt){vt===void 0&&(vt=!1),this.manager.set(this,c);var xt=this._tempMatrix1,yt=this._tempMatrix2,Ct=this._tempMatrix3,wt=K/v+et,Lt=H/m+it,bt=(K+Q)/v+et,St=(H+W)/m+it,Et=P,Mt=w,Vt=-z,Kt=-X;if(c.isCropped){var he=c._crop,Jt=he.width,Qt=he.height;Et=Jt,Mt=Qt,P=Jt,w=Qt,K=he.x,H=he.y;var ce=K,be=H;I&&(ce=Q-he.x-Jt),D&&(be=W-he.y-Qt),wt=ce/v+et,Lt=be/m+it,bt=(ce+Jt)/v+et,St=(be+Qt)/m+it,Vt=-z+K,Kt=-X+H}D=D^(!ft&&p.isRenderTexture?1:0),I&&(Et*=-1,Vt+=P),D&&(Mt*=-1,Kt+=w),rt.roundPixels&&(T=Math.floor(T),E=Math.floor(E)),yt.applyITRS(T,E,O,R,b),xt.copyFrom(rt.matrix),lt?(xt.multiplyWithOffset(lt,-rt.scrollX*B,-rt.scrollY*k),yt.e=T,yt.f=E):(yt.e-=rt.scrollX*B,yt.f-=rt.scrollY*k),xt.multiply(yt,Ct);var $t=Ct.setQuad(Vt,Kt,Vt+Et,Kt+Mt,rt.renderRoundPixels);pt==null&&(pt=this.setTexture2D(p)),c&&!vt&&this.manager.preBatch(c),this.batchQuad(c,$t[0],$t[1],$t[2],$t[3],$t[4],$t[5],$t[6],$t[7],wt,Lt,bt,St,Y,N,Z,U,j,p,pt),c&&!vt&&this.manager.postBatch(c)},batchTextureFrame:function(c,p,v,m,T,E,P){this.manager.set(this);var w=this._tempMatrix1.copyFrom(E),R=this._tempMatrix2;P?w.multiply(P,R):R=w;var b=R.setQuad(p,v,p+c.width,v+c.height),O=this.setTexture2D(c.source.glTexture);m=o.getTintAppendFloatAlpha(m,T),this.batchQuad(null,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],c.u0,c.v0,c.u1,c.v1,m,m,m,m,0,c.glTexture,O)},batchFillRect:function(c,p,v,m,T,E){this.renderer.pipelines.set(this);var P=this.calcMatrix;E&&E.multiply(T,P);var w=P.setQuad(c,p,c+v,p+m),R=this.fillTint;this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(c,p,v,m,T,E,P,w){this.renderer.pipelines.set(this);var R=this.calcMatrix;w&&w.multiply(P,R);var b=R.getX(c,p),O=R.getY(c,p),I=R.getX(v,m),D=R.getY(v,m),B=R.getX(T,E),k=R.getY(T,E),z=this.fillTint;this.batchTri(null,b,O,I,D,B,k,0,0,1,1,z.TL,z.TR,z.BL,2)},batchStrokeTriangle:function(c,p,v,m,T,E,P,w,R){var b=this.tempTriangle;b[0].x=c,b[0].y=p,b[0].width=P,b[1].x=v,b[1].y=m,b[1].width=P,b[2].x=T,b[2].y=E,b[2].width=P,b[3].x=c,b[3].y=p,b[3].width=P,this.batchStrokePath(b,P,!1,w,R)},batchFillPath:function(c,p,v){this.renderer.pipelines.set(this);var m=this.calcMatrix;v&&v.multiply(p,m);for(var T=c.length,E=this.polygonCache,P,w,R=this.fillTint.TL,b=this.fillTint.TR,O=this.fillTint.BL,I=0;I<T;++I)w=c[I],E.push(w.x,w.y);P=y(E),T=P.length;for(var D=0;D<T;D+=3){var B=P[D+0]*2,k=P[D+1]*2,z=P[D+2]*2,X=E[B+0],K=E[B+1],H=E[k+0],Q=E[k+1],W=E[z+0],Y=E[z+1],N=m.getX(X,K),Z=m.getY(X,K),U=m.getX(H,Q),j=m.getY(H,Q),et=m.getX(W,Y),it=m.getY(W,Y);this.batchTri(null,N,Z,U,j,et,it,0,0,1,1,R,b,O,2)}E.length=0},batchStrokePath:function(c,p,v,m,T){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var E=c.length-1,P=0;P<E;P++){var w=c[P],R=c[P+1];this.batchLine(w.x,w.y,R.x,R.y,w.width/2,R.width/2,p,P,!v&&P===E-1,m,T)}},batchLine:function(c,p,v,m,T,E,P,w,R,b,O){this.renderer.pipelines.set(this);var I=this.calcMatrix;O&&O.multiply(b,I);var D=v-c,B=m-p,k=Math.sqrt(D*D+B*B);if(k!==0){var z=T*(m-p)/k,X=T*(c-v)/k,K=E*(m-p)/k,H=E*(c-v)/k,Q=v-K,W=m-H,Y=c-z,N=p-X,Z=v+K,U=m+H,j=c+z,et=p+X,it=I.getX(Q,W),rt=I.getY(Q,W),lt=I.getX(Y,N),ft=I.getY(Y,N),pt=I.getX(Z,U),vt=I.getY(Z,U),xt=I.getX(j,et),yt=I.getY(j,et),Ct=this.strokeTint,wt=Ct.TL,Lt=Ct.TR,bt=Ct.BL,St=Ct.BR;if(this.batchQuad(null,xt,yt,lt,ft,it,rt,pt,vt,0,0,1,1,wt,Lt,bt,St,2),!(P<=2)){var Et=this.prevQuad,Mt=this.firstQuad;w>0&&Et[4]?this.batchQuad(null,xt,yt,lt,ft,Et[0],Et[1],Et[2],Et[3],0,0,1,1,wt,Lt,bt,St,2):(Mt[0]=xt,Mt[1]=yt,Mt[2]=lt,Mt[3]=ft,Mt[4]=1),R&&Mt[4]?this.batchQuad(null,it,rt,pt,vt,Mt[0],Mt[1],Mt[2],Mt[3],0,0,1,1,wt,Lt,bt,St,2):(Et[0]=it,Et[1]=rt,Et[2]=pt,Et[3]=vt,Et[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,a.prototype.destroy.call(this),this}});C.exports=d},43439:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(4127),l=s(89924),h=s(29100),r=new g({Extends:h,initialize:function(u){u.vertShader=y(u,"vertShader",l),u.fragShader=y(u,"fragShader",f),u.attributes=y(u,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,u)},onRender:function(o,u){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",u.zoom)},batchPointLight:function(o,u,a,d,c,p,v,m,T,E,P,w){var R=o.color,b=o.intensity,O=o.radius,I=o.attenuation,D=R.r*b,B=R.g*b,k=R.b*b,z=u.alpha*o.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(a,d,P,w,O,I,D,B,k,z),this.batchLightVert(c,p,P,w,O,I,D,B,k,z),this.batchLightVert(v,m,P,w,O,I,D,B,k,z),this.batchLightVert(a,d,P,w,O,I,D,B,k,z),this.batchLightVert(v,m,P,w,O,I,D,B,k,z),this.batchLightVert(T,E,P,w,O,I,D,B,k,z),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(o,u,a,d,c,p,v,m,T,E){var P=this.vertexViewF32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++w]=o,P[++w]=u,P[++w]=a,P[++w]=d,P[++w]=c,P[++w]=p,P[++w]=v,P[++w]=m,P[++w]=T,P[++w]=E,this.vertexCount++}});C.exports=r},84057:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(89422),f=s(95540),l=s(27681),h=s(49627),r=s(29100),o=new g({Extends:r,initialize:function(a){a.renderTarget=f(a,"renderTarget",1),a.fragShader=f(a,"fragShader",l),a.vertShader=f(a,"vertShader",h),a.attributes=f(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),a.batchSize=1,a.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],r.call(this,a),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new y,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){r.prototype.boot.call(this);var u=this.manager.UTILITY_PIPELINE;this.fullFrame1=u.fullFrame1,this.fullFrame2=u.fullFrame2,this.halfFrame1=u.halfFrame1,this.halfFrame2=u.halfFrame2;var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height);for(var d=this.renderTargets,c=0;c<d.length;c++)d[c].autoResize=!0},postBatch:function(u){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(u),this},onDraw:function(u){this.bindAndDraw(u)},getController:function(u){return u!==void 0?u:this.controller?this.controller:this},copySprite:function(u,a,d){d===void 0&&(d=!1);var c=this.gl;c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.texture.webGLTexture);var p=c.getParameter(c.FRAMEBUFFER_BINDING);c.bindFramebuffer(c.FRAMEBUFFER,a.framebuffer.webGLFramebuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,a.texture.webGLTexture,0),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.STATIC_DRAW),c.drawArrays(c.TRIANGLES,0,6),d&&(c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,p))},copyFrame:function(u,a,d,c,p){this.manager.copyFrame(u,a,d,c,p)},copyToGame:function(u){this.manager.copyToGame(u)},drawFrame:function(u,a,d){this.manager.drawFrame(u,a,d,this.colorMatrix)},blendFrames:function(u,a,d,c,p){this.manager.blendFrames(u,a,d,c,p)},blendFramesAdditive:function(u,a,d,c,p){this.manager.blendFramesAdditive(u,a,d,c,p)},clearFrame:function(u,a){this.manager.clearFrame(u,a)},blitFrame:function(u,a,d,c,p,v){this.manager.blitFrame(u,a,d,c,p,v)},copyFrameRect:function(u,a,d,c,p,v,m,T){this.manager.copyFrameRect(u,a,d,c,p,v,m,T)},bindAndDraw:function(u,a,d,c,p){d===void 0&&(d=!0),c===void 0&&(c=!0);var v=this.gl,m=this.renderer;this.bind(p),this.set1i("uMainSampler",0),a?(v.viewport(0,0,a.width,a.height),v.bindFramebuffer(v.FRAMEBUFFER,a.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,a.texture.webGLTexture,0),d&&(c?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1),m.currentFramebuffer||v.viewport(0,0,m.width,m.height)),m.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,u.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),a&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,m.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),r.prototype.destroy.call(this),this}});C.exports=o},43558:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(67502),f=s(83419),l=s(96293),h=s(95540),r=s(57516),o=s(27681),u=s(87841),a=s(32302),d=s(45561),c=s(60722),p=s(29100),v=new f({Extends:r,initialize:function(T){var E=h(T,"fragShader",o),P=h(T,"vertShader",c),w=h(T,"drawShader",o),R=[{name:"DrawSprite",fragShader:d,vertShader:c},{name:"CopySprite",fragShader:E,vertShader:P},{name:"DrawGame",fragShader:w,vertShader:c},{name:"ColorMatrix",fragShader:l}],b=h(T,"shaders",[]);T.shaders=R.concat(b),T.vertShader||(T.vertShader=P),T.batchSize=1,r.call(this,T),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new u,this.targetBounds=new u,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){p.prototype.boot.call(this);var m=this.shaders,T=this.renderer;this.drawSpriteShader=m[0],this.copyShader=m[1],this.gameShader=m[2],this.colorMatrixShader=m[3],this.fsTarget=new a(T,T.width,T.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var E=new ArrayBuffer(168);this.quadVertexData=E,this.quadVertexViewF32=new Float32Array(E),this.quadVertexBuffer=T.createVertexBuffer(E,this.gl.STATIC_DRAW),this.onResize(T.width,T.height),this.currentShader=this.copyShader,this.set2f("uResolution",T.width,T.height)},onResize:function(m,T){var E=this.quadVertexViewF32;E[1]=T,E[22]=T,E[14]=m,E[28]=m,E[35]=m,E[36]=T},batchQuad:function(m,T,E,P,w,R,b,O,I,D,B,k,z,X,K,H,Q,W,Y){var N=Math.min(T,P,R,O),Z=Math.min(E,w,b,I),U=Math.max(T,P,R,O),j=Math.max(E,w,b,I),et=U-N,it=j-Z,rt=this.spriteBounds.setTo(N,Z,et,it),lt=m?m.preFX.padding:0,ft=et+lt*2,pt=it+lt*2,vt=Math.abs(Math.max(ft,pt)),xt=this.manager.getRenderTarget(vt),yt=this.targetBounds.setTo(0,0,xt.width,xt.height);y(yt,Math.round(rt.centerX),Math.round(rt.centerY)),this.tempSprite=m;var Ct=this.gl,wt=this.renderer;wt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",wt.width,wt.height),this.flipProjectionMatrix(!0),m&&(this.onDrawSprite(m,xt),m.preFX.onFX(this));var Lt=this.fsTarget;return this.flush(),Ct.viewport(0,0,wt.width,wt.height),Ct.bindFramebuffer(Ct.FRAMEBUFFER,Lt.framebuffer.webGLFramebuffer),Ct.framebufferTexture2D(Ct.FRAMEBUFFER,Ct.COLOR_ATTACHMENT0,Ct.TEXTURE_2D,Lt.texture.webGLTexture,0),Ct.clearColor(0,0,0,0),Ct.clear(Ct.COLOR_BUFFER_BIT),this.setTexture2D(Y),this.batchVert(T,E,D,B,0,W,X),this.batchVert(P,w,D,z,0,W,H),this.batchVert(R,b,k,z,0,W,Q),this.batchVert(T,E,D,B,0,W,X),this.batchVert(R,b,k,z,0,W,Q),this.batchVert(O,I,k,B,0,W,K),this.flush(),this.flipProjectionMatrix(!1),Ct.activeTexture(Ct.TEXTURE0),Ct.bindTexture(Ct.TEXTURE_2D,xt.texture.webGLTexture),Ct.copyTexSubImage2D(Ct.TEXTURE_2D,0,0,0,yt.x,yt.y,yt.width,yt.height),Ct.bindFramebuffer(Ct.FRAMEBUFFER,null),Ct.bindTexture(Ct.TEXTURE_2D,null),this.onBatch(m),this.currentShader=this.copyShader,this.onDraw(xt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(m,T,E,P,w,R,b){E===void 0&&(E=!0),P===void 0&&(P=!0),w===void 0&&(w=!1),b===void 0&&(b=this.copyShader);var O=this.gl,I=this.tempSprite;R&&(b=this.colorMatrixShader),this.currentShader=b;var D=this.setVertexBuffer(this.quadVertexBuffer);b.bind(D,!1);var B=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",B.width,B.height),I.preFX.onFXCopy(this),this.onCopySprite(m,T,I),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,m.texture.webGLTexture),m.height>T.height)O.viewport(0,0,m.width,m.height),this.setTargetUVs(m,T);else{var k=T.height-m.height;O.viewport(0,k,m.width,m.height),this.resetUVs()}if(O.bindFramebuffer(O.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,T.texture.webGLTexture,0),E&&(O.clearColor(0,0,0,+!P),O.clear(O.COLOR_BUFFER_BIT)),w){var z=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}O.bufferData(O.ARRAY_BUFFER,this.quadVertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),w&&this.renderer.setBlendMode(z),O.bindFramebuffer(O.FRAMEBUFFER,null)},copy:function(m,T){var E=this.gl;this.set1i("uMainSampler",0),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,m.texture.webGLTexture),E.viewport(0,0,m.width,m.height),this.setUVs(0,0,0,1,1,1,1,0),E.bindFramebuffer(E.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,T.texture.webGLTexture,0),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.quadVertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null)},blendFrames:function(m,T,E,P,w){this.manager.blendFrames(m,T,E,P,w)},blendFramesAdditive:function(m,T,E,P,w){this.manager.blendFramesAdditive(m,T,E,P,w)},drawToGame:function(m){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(m)},copyToGame:function(m){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(m)},bindAndDraw:function(m){var T=this.gl,E=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(m.texture);var P=this._tempMatrix1.loadIdentity(),w=this.targetBounds.x,R=this.targetBounds.y,b=w+m.width,O=R+m.height,I=P.getX(w,R),D=P.getX(w,O),B=P.getX(b,O),k=P.getX(b,R),z=P.getY(w,R),X=P.getY(w,O),K=P.getY(b,O),H=P.getY(b,R),Q=16777215;this.batchVert(I,z,0,0,0,0,Q),this.batchVert(D,X,0,1,0,0,Q),this.batchVert(B,K,1,1,0,0,Q),this.batchVert(I,z,0,0,0,0,Q),this.batchVert(B,K,1,1,0,0,Q),this.batchVert(k,H,1,0,0,0,Q),E.restoreFramebuffer(!1,!0),E.currentFramebuffer||T.viewport(0,0,E.width,E.height),E.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(m){this.drawToGame(m)},setUVs:function(m,T,E,P,w,R,b,O){var I=this.quadVertexViewF32;I[2]=m,I[3]=T,I[9]=E,I[10]=P,I[16]=w,I[17]=R,I[23]=m,I[24]=T,I[30]=w,I[31]=R,I[37]=b,I[38]=O},setTargetUVs:function(m,T){var E=T.height/m.height;E>.5?E=.5-(E-.5):E=.5+(.5-E),this.setUVs(0,E,0,1+E,1,1+E,1,E)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,r.prototype.destroy.call(this),this}});C.exports=v},81041:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(57516),l=new g({Extends:f,initialize:function(r){r.topology=5,r.batchSize=y(r,"batchSize",256),f.call(this,r)}});C.exports=l},12385:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(57516),l=s(45561),h=s(60722),r=s(29100),o=new g({Extends:f,initialize:function(a){a.fragShader=y(a,"fragShader",l),a.vertShader=y(a,"vertShader",h),a.forceZero=!0,f.call(this,a)},boot:function(){r.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height)}});C.exports=o},7589:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35407),y=s(10312),f=s(83419),l=s(89422),h=s(96293),r=s(36682),o=s(95540),u=s(48247),a=s(49627),d=s(29100),c=new f({Extends:d,initialize:function(v){v.renderTarget=o(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=o(v,"vertShader",a),v.shaders=o(v,"shaders",[{name:"Copy",fragShader:r},{name:"AddBlend",fragShader:g},{name:"LinearBlend",fragShader:u},{name:"ColorMatrix",fragShader:h}]),v.attributes=o(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,d.call(this,v),this.colorMatrix=new l,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){d.prototype.boot.call(this);var p=this.shaders,v=this.renderTargets;this.copyShader=p[0],this.addShader=p[1],this.linearShader=p[2],this.colorMatrixShader=p[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(p,v,m,T,E){m===void 0&&(m=1),T===void 0&&(T=!0),E===void 0&&(E=!0);var P=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,p.texture.webGLTexture),v?(P.viewport(0,0,v.width,v.height),P.bindFramebuffer(P.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,v.texture.webGLTexture,0)):P.viewport(0,0,p.width,p.height),T&&(E?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blitFrame:function(p,v,m,T,E,P,w){m===void 0&&(m=1),T===void 0&&(T=!0),E===void 0&&(E=!0),P===void 0&&(P=!1),w===void 0&&(w=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,p.texture.webGLTexture),p.height>v.height)R.viewport(0,0,p.width,p.height),this.setTargetUVs(p,v);else{var b=v.height-p.height;R.viewport(0,b,p.width,p.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,v.texture.webGLTexture,0),T&&(E?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),P){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(y.ERASE)}w&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),P&&this.renderer.setBlendMode(O),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(p,v,m,T,E,P,w,R){w===void 0&&(w=!0),R===void 0&&(R=!0);var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,p.texture.webGLTexture,0),w&&(R?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT)),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,v.texture.webGLTexture),b.copyTexSubImage2D(b.TEXTURE_2D,0,0,0,m,T,E,P),b.bindFramebuffer(b.FRAMEBUFFER,null),b.bindTexture(b.TEXTURE_2D,null)},copyToGame:function(p){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,p.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(p,v,m,T){m===void 0&&(m=!0),T===void 0&&(T=this.colorMatrix);var E=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,p.texture.webGLTexture),v?(E.viewport(0,0,v.width,v.height),E.bindFramebuffer(E.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,v.texture.webGLTexture,0)):E.viewport(0,0,p.width,p.height),m?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFrames:function(p,v,m,T,E,P){T===void 0&&(T=1),E===void 0&&(E=!0),P===void 0&&(P=this.linearShader);var w=this.gl;this.setShader(P),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",T),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,p.texture.webGLTexture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,v.texture.webGLTexture),m?(w.bindFramebuffer(w.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,m.texture.webGLTexture,0),w.viewport(0,0,m.width,m.height)):w.viewport(0,0,p.width,p.height),E?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFramesAdditive:function(p,v,m,T,E){this.blendFrames(p,v,m,T,E,this.addShader)},clearFrame:function(p,v){v===void 0&&(v=!0);var m=this.gl;m.viewport(0,0,p.width,p.height),m.bindFramebuffer(m.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),v?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var T=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,T.webGLFramebuffer)},setUVs:function(p,v,m,T,E,P,w,R){var b=this.vertexViewF32;b[2]=p,b[3]=v,b[6]=m,b[7]=T,b[10]=E,b[11]=P,b[14]=p,b[15]=v,b[18]=E,b[19]=P,b[22]=w,b[23]=R},setTargetUVs:function(p,v){var m=v.height/p.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});C.exports=c},36060:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};C.exports=A},84817:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelineafterflush"},36712:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelinebeforeflush"},40285:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelinebind"},65918:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelineboot"},92852:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelinedestroy"},56072:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelinerebind"},57566:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pipelineresize"},77085:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AFTER_FLUSH:s(84817),BEFORE_FLUSH:s(36712),BIND:s(40285),BOOT:s(65918),DESTROY:s(92852),REBIND:s(56072),RESIZE:s(57566)}},54812:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(99155),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.amount=1},onPreRender:function(h,r){h=this.getController(h),this.set1f("amount",h.amount,r)}});C.exports=l},67329:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(24400),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(h){h=this.getController(h),this.set1f("strength",h.blurStrength),this.set3fv("color",h.glcolor)},onDraw:function(h){var r=this.getController(),o=this.fullFrame1,u=this.fullFrame2;this.copyFrame(h,u);for(var a=2/h.width*r.offsetX,d=2/h.height*r.offsetY,c=0;c<r.steps;c++)this.set2f("offset",a,0),this.copySprite(h,o),this.set2f("offset",0,d),this.copySprite(o,h);this.blendFrames(u,h,o,r.strength),this.copyToGame(o)}});C.exports=l},8861:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(41514),f=s(51078),l=s(94328),h=s(84057),r=new g({Extends:h,initialize:function(u){h.call(this,{game:u,shaders:[{name:"Gaussian5",fragShader:y},{name:"Gaussian9",fragShader:f},{name:"Gaussian13",fragShader:l}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(o){var u=this.getController(),a=this.gl,d=this.fullFrame1,c=a.getParameter(a.FRAMEBUFFER_BINDING);this.bind(this.shaders[u.quality]),a.activeTexture(a.TEXTURE0),a.viewport(0,0,o.width,o.height),this.set1i("uMainSampler",0),this.set2f("resolution",o.width,o.height),this.set1f("strength",u.strength),this.set3fv("color",u.glcolor);for(var p=0;p<u.steps;p++)this.set2f("offset",u.x,0),this.copySprite(o,d),this.set2f("offset",0,u.y),this.copySprite(d,o);a.bindFramebuffer(a.FRAMEBUFFER,c),a.bindTexture(a.TEXTURE_2D,null),this.copyToGame(o)}});C.exports=r},51051:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(90610),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(h,r,o,u){h=this.getController(h),this.set1f("radius",h.radius,r),this.set1f("amount",h.amount,r),this.set1f("contrast",h.contrast,r),this.set1f("strength",h.strength,r),this.set2f("blur",h.blurX,h.blurY,r),this.setBoolean("isTiltShift",h.isTiltShift,r),o&&u&&this.set2f("resolution",o,u,r)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});C.exports=l},89428:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(91899),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(h,r,o,u){h=this.getController(h),this.set1f("scale",h.scale,r),this.set1f("feather",h.feather,r),this.set1f("thickness",h.thickness,r),this.set3fv("color",h.glcolor,r),this.set4fv("backgroundColor",h.glcolor2,r),o&&u&&this.set2f("resolution",o,u,r)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});C.exports=l},88904:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(84057),f=new g({Extends:y,initialize:function(h){y.call(this,{game:h})},onDraw:function(l){var h=this.fullFrame1;this.controller?this.manager.drawFrame(l,h,!0,this.controller):this.drawFrame(l,h),this.copyToGame(h)}});C.exports=f},63563:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(47838),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(h){var r=this.game.textures.getFrame(h);r&&(this.glTexture=r.glTexture)},onDraw:function(h){var r=this.getController(),o=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",r.x,r.y),this.bindTexture(r.glTexture,1),this.copySprite(h,o),this.copyToGame(o)}});C.exports=l},94045:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=s(98656),l=s(84057),h=s(70554),r=new g({Extends:l,initialize:function(u,a){var d=y(a,"quality",.1),c=y(a,"distance",10);l.call(this,{game:u,fragShader:h.setGlowQuality(f,u,d,c)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(o,u,a,d){o=this.getController(o),this.set1f("outerStrength",o.outerStrength,u),this.set1f("innerStrength",o.innerStrength,u),this.set4fv("glowColor",o.glcolor,u),this.setBoolean("knockout",o.knockout,u),a&&d&&this.set2f("resolution",a,d,u)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});C.exports=r},74088:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(70463),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(h,r){h=this.getController(h),this.set1f("alpha",h.alpha,r),this.set1i("size",h.size,r),this.set3fv("color1",h.glcolor1,r),this.set3fv("color2",h.glcolor2,r),this.set2f("positionFrom",h.fromX,h.fromY,r),this.set2f("positionTo",h.toX,h.toY,r)}});C.exports=l},99636:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50831),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.amount=1},onPreRender:function(h,r,o,u){h=this.getController(h),this.set1f("amount",h.amount,r),o&&u&&this.set2f("resolution",o,u,r)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});C.exports=l},34700:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(92595),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(h,r){h=this.getController(h);var o=h.samples;this.set1i("samples",o,r),this.set1f("intensity",h.intensity,r),this.set1f("decay",h.decay,r),this.set1f("power",h.power/o,r),this.set2f("lightPosition",h.x,h.y,r),this.set4fv("color",h.glcolor,r)}});C.exports=l},91157:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(72464),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(h,r,o,u){h=this.getController(h),this.setTime("time",r),this.set1f("speed",h.speed,r),this.set1f("lineWidth",h.lineWidth,r),this.set1f("gradient",h.gradient,r),this.setBoolean("reveal",h.reveal,r),o&&u&&this.set2f("resolution",o,u,r)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});C.exports=l},27797:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(39249),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(h,r){h=this.getController(h),this.set1f("radius",h.radius,r),this.set1f("strength",h.strength,r),this.set2f("position",h.x,h.y,r)}});C.exports=l},67603:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(2878),f=s(84057),l=new g({Extends:f,initialize:function(r){f.call(this,{game:r,fragShader:y}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(h,r){h=this.getController(h);var o=h.progress,u=h.wipeWidth,a=h.direction,d=h.axis;this.set4f("config",o,u,a,d,r),this.setBoolean("reveal",h.reveal,r)}});C.exports=l},58918:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={Barrel:s(54812),Bloom:s(67329),Blur:s(8861),Bokeh:s(51051),Circle:s(89428),ColorMatrix:s(88904),Displacement:s(63563),Glow:s(94045),Gradient:s(74088),Pixelate:s(99636),Shadow:s(34700),Shine:s(91157),Vignette:s(27797),Wipe:s(67603)};C.exports=g},96615:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(36060),y=s(79291),f={FX:s(58918),BitmapMaskPipeline:s(31302),Events:s(77085),FXPipeline:s(92651),LightPipeline:s(96569),MobilePipeline:s(56527),MultiPipeline:s(57516),PointLightPipeline:s(43439),PostFXPipeline:s(84057),PreFXPipeline:s(43558),RopePipeline:s(81041),SinglePipeline:s(12385),UtilityPipeline:s(7589)};f=y(!1,f,g),C.exports=f},35407:C=>{C.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:C=>{C.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:C=>{C.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:C=>{C.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:C=>{C.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:C=>{C.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:C=>{C.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:C=>{C.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:C=>{C.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:C=>{C.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:C=>{C.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:C=>{C.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:C=>{C.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:C=>{C.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:C=>{C.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:C=>{C.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:C=>{C.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:C=>{C.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:C=>{C.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:C=>{C.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:C=>{C.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:C=>{C.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:C=>{C.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:C=>{C.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:C=>{C.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:C=>{C.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:C=>{C.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:C=>{C.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:C=>{C.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:C=>{C.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:C=>{C.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:C=>{C.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:C=>{C.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:C=>{C.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(C,A,s)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AddBlendFrag:s(35407),BitmapMaskFrag:s(78908),BitmapMaskVert:s(85191),ColorMatrixFrag:s(96293),CopyFrag:s(36682),FXBarrelFrag:s(99155),FXBloomFrag:s(24400),FXBlurHighFrag:s(94328),FXBlurLowFrag:s(41514),FXBlurMedFrag:s(51078),FXBokehFrag:s(90610),FXCircleFrag:s(91899),FXDisplacementFrag:s(47838),FXGlowFrag:s(98656),FXGradientFrag:s(70463),FXPixelateFrag:s(50831),FXShadowFrag:s(92595),FXShineFrag:s(72464),FXVignetteFrag:s(39249),FXWipeFrag:s(2878),LightFrag:s(31063),LinearBlendFrag:s(48247),MeshFrag:s(41214),MeshVert:s(39653),MobileFrag:s(62143),MobileVert:s(47940),MultiFrag:s(98840),MultiVert:s(44667),PointLightFrag:s(4127),PointLightVert:s(89924),PostFXFrag:s(27681),QuadVert:s(49627),SingleFrag:s(45561),SingleVert:s(60722)}},93567:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r){this.webGLAttribLocation=-1,this.gl=l,this.program=h,this.name=r,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var f=this.gl;f.isContextLost()||(this.webGLAttribLocation=f.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});C.exports=y},26128:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r,o){this.webGLBuffer=null,this.gl=l,this.initialDataOrSize=h,this.bufferType=r,this.bufferUsage=o,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var f=this.gl;if(!f.isContextLost()){var l=this.bufferType,h=f.createBuffer();this.webGLBuffer=h,f.bindBuffer(l,this.webGLBuffer),f.bufferData(l,this.initialDataOrSize,this.bufferUsage),f.bindBuffer(l,null)}}},destroy:function(){var f=this.gl;f.isContextLost()||f.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});C.exports=y},84387:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},f=new g({initialize:function(h,r,o,u,a){this.webGLFramebuffer=null,this.gl=h,this.width=r,this.height=o,this.renderTexture=u,this.addDepthStencilBuffer=!!a,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var h=this.renderTexture,r=0,o=l.createFramebuffer();if(this.webGLFramebuffer=o,l.bindFramebuffer(l.FRAMEBUFFER,o),h.isRenderTexture=!0,h.isAlphaPremultiplied=!1,l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,h.webGLTexture,0),r=l.checkFramebufferStatus(l.FRAMEBUFFER),r!==l.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(y[r]||r));if(this.addDepthStencilBuffer){var u=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,u),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,this.width,this.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,u)}l.bindFramebuffer(l.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var l=this.gl;if(!l.isContextLost()){l.bindFramebuffer(l.FRAMEBUFFER,this.webGLFramebuffer);var h=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);h!==null&&(l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,null,0),l.deleteTexture(h));var r=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&l.deleteRenderbuffer(r),l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});C.exports=f},1482:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r){this.webGLProgram=null,this.gl=l,this.vertexSource=h,this.fragmentSource=r,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var l=f.createProgram(),h=f.createShader(f.VERTEX_SHADER),r=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(h,this.vertexSource),f.shaderSource(r,this.fragmentSource),f.compileShader(h),f.compileShader(r);var o=`Shader failed:
`;if(!f.getShaderParameter(h,f.COMPILE_STATUS))throw new Error("Vertex "+o+f.getShaderInfoLog(h));if(!f.getShaderParameter(r,f.COMPILE_STATUS))throw new Error("Fragment "+o+f.getShaderInfoLog(r));if(f.attachShader(l,h),f.attachShader(l,r),f.linkProgram(l),!f.getProgramParameter(l,f.LINK_STATUS))throw new Error("Link "+o+f.getProgramInfoLog(l));f.useProgram(l),this.webGLProgram=l}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});C.exports=y},82751:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50030),f=new g({initialize:function(h,r,o,u,a,d,c,p,v,m,T,E,P){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=h,this.mipLevel=r,this.minFilter=o,this.magFilter=u,this.wrapT=a,this.wrapS=d,this.format=c,this.pixels=p,this.width=v,this.height=m,this.pma=T??!0,this.forceSize=!!E,this.flipY=!!P,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){if(this.pixels instanceof f){this.webGLTexture=this.pixels.webGLTexture;return}var h=l.createTexture();h.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=h,this._processTexture()}},update:function(l,h,r,o,u,a,d,c,p){if(!(h===0||r===0)){this.pixels=l,this.width=h,this.height=r,this.flipY=o,this.wrapS=u,this.wrapT=a,this.minFilter=d,this.magFilter=c,this.format=p;var v=this.gl;v.isContextLost()||this._processTexture()}},_processTexture:function(){var l=this.gl;l.activeTexture(l.TEXTURE0);var h=l.getParameter(l.TEXTURE_BINDING_2D);l.bindTexture(l.TEXTURE_2D,this.webGLTexture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.minFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this.magFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this.wrapS),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this.wrapT),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,this.flipY);var r=this.pixels,o=this.mipLevel,u=this.width,a=this.height,d=this.format,c=!1;if(r==null)l.texImage2D(l.TEXTURE_2D,o,d,u,a,0,d,l.UNSIGNED_BYTE,null),c=y(u,a);else if(r.compressed){u=r.width,a=r.height,c=r.generateMipmap;for(var p=0;p<r.mipmaps.length;p++)l.compressedTexImage2D(l.TEXTURE_2D,p,r.internalFormat,r.mipmaps[p].width,r.mipmaps[p].height,0,r.mipmaps[p].data)}else r instanceof Uint8Array?(l.texImage2D(l.TEXTURE_2D,o,d,u,a,0,d,l.UNSIGNED_BYTE,r),c=y(u,a)):(this.forceSize||(u=r.width,a=r.height),l.texImage2D(l.TEXTURE_2D,o,d,d,l.UNSIGNED_BYTE,r),c=y(u,a));c&&l.generateMipmap(l.TEXTURE_2D),h?l.bindTexture(l.TEXTURE_2D,h):l.bindTexture(l.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(l){this.__SPECTOR_Metadata=l,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=l)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof f||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});C.exports=f},57183:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r){this.webGLUniformLocation=null,this.gl=l,this.program=h,this.name=r,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var f=this.gl;f.isContextLost()||(this.webGLUniformLocation=f.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});C.exports=y},9503:(C,A,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={WebGLAttribLocationWrapper:s(93567),WebGLBufferWrapper:s(26128),WebGLProgramWrapper:s(1482),WebGLTextureWrapper:s(82751),WebGLFramebufferWrapper:s(84387),WebGLUniformLocationWrapper:s(57183)};C.exports=g},76531:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(13560),y=s(83419),f=s(45319),l=s(50792),h=s(97480),r=s(8443),o=s(57811),u=s(74403),a=s(45818),d=s(29747),c=s(87841),p=s(86555),v=s(56583),m=s(26099),T=s(38058),E=new y({Extends:l,initialize:function(w){l.call(this),this.game=w,this.canvas,this.canvasBounds=new c,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=g.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=g.CENTER.NO_CENTER,this.orientation=g.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:d,windowResize:d,fullScreenChange:d,fullScreenError:d}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var P=this.game;this.canvas=P.canvas,this.fullscreen=P.device.fullscreen;var w=this.scaleMode;w!==g.SCALE_MODE.RESIZE&&w!==g.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(w),w===g.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),P.events.on(r.PRE_STEP,this.step,this),P.events.once(r.READY,this.refresh,this),P.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(P){this.getParent(P),this.getParentBounds();var w=P.width,R=P.height,b=P.scaleMode,O=P.zoom,I=P.autoRound;if(typeof w=="string")if(w.substr(-1)!=="%")w=parseInt(w,10);else{var D=this.parentSize.width;D===0&&(D=window.innerWidth);var B=parseInt(w,10)/100;w=Math.floor(D*B)}if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var k=this.parentSize.height;k===0&&(k=window.innerHeight);var z=parseInt(R,10)/100;R=Math.floor(k*z)}this.scaleMode=b,this.autoRound=I,this.autoCenter=P.autoCenter,this.resizeInterval=P.resizeInterval,I&&(w=Math.floor(w),R=Math.floor(R)),this.gameSize.setSize(w,R),O===g.ZOOM.MAX_ZOOM&&(O=this.getMaxZoom()),this.zoom=O,O!==1&&(this._resetZoom=!0),this.baseSize.setSize(w,R),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),P.minWidth>0&&this.displaySize.setMin(P.minWidth*O,P.minHeight*O),P.maxWidth>0&&this.displaySize.setMax(P.maxWidth*O,P.maxHeight*O),this.displaySize.setSize(w,R),(P.snapWidth>0||P.snapHeight>0)&&this.displaySize.setSnap(P.snapWidth,P.snapHeight),this.orientation=a(w,R)},getParent:function(P){var w=P.parent;if(w!==null){if(this.parent=u(w),this.parentIsWindow=this.parent===document.body,P.expandParent&&P.scaleMode!==g.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}P.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=u(P.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var P=this.parentSize,w=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(w.height=o(!0));var R=w.width,b=w.height;if(P.width!==R||P.height!==b)return P.setSize(R,b),!0;if(this.canvas){var O=this.canvasBounds,I=this.canvas.getBoundingClientRect();if(I.x!==O.x||I.y!==O.y)return!0}return!1},lockOrientation:function(P){var w=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return w?w.call(screen,P):!1},setParentSize:function(P,w){return this.parentSize.setSize(P,w),this.refresh()},setGameSize:function(P,w){var R=this.autoRound;R&&(P=Math.floor(P),w=Math.floor(w));var b=this.width,O=this.height;return this.gameSize.resize(P,w),this.baseSize.resize(P,w),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(P/w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(b,O)},resize:function(P,w){var R=this.zoom,b=this.autoRound;b&&(P=Math.floor(P),w=Math.floor(w));var O=this.width,I=this.height;this.gameSize.resize(P,w),this.baseSize.resize(P,w),b&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(P*R,w*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,B=P*R,k=w*R;return b&&(B=Math.floor(B),k=Math.floor(k)),(B!==P||k!==w)&&(D.width=B+"px",D.height=k+"px"),this.refresh(O,I)},setZoom:function(P){return this.zoom=P,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(P,w){return P===void 0&&(P=0),w===void 0&&(w=P),this.displaySize.setSnap(P,w),this.refresh()},refresh:function(P,w){P===void 0&&(P=this.width),w===void 0&&(w=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var b=this.canvas.style,O=R.style;O.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",O.marginLeft=b.marginLeft,O.marginTop=b.marginTop}return this.emit(h.RESIZE,this.gameSize,this.baseSize,this.displaySize,P,w),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var P=a(this.width,this.height);P!==this.orientation&&(this.orientation=P,this.emit(h.ORIENTATION_CHANGE,P))}},updateScale:function(){var P=this.canvas.style,w=this.gameSize.width,R=this.gameSize.height,b,O,I=this.zoom,D=this.autoRound;if(this.scaleMode===g.SCALE_MODE.NONE)this.displaySize.setSize(w*I,R*I),b=this.displaySize.width,O=this.displaySize.height,D&&(b=Math.floor(b),O=Math.floor(O)),this._resetZoom&&(P.width=b+"px",P.height=O+"px",this._resetZoom=!1);else if(this.scaleMode===g.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),b=this.displaySize.width,O=this.displaySize.height,D&&(b=Math.floor(b),O=Math.floor(O)),this.canvas.width=b,this.canvas.height=O;else if(this.scaleMode===g.SCALE_MODE.EXPAND){var B=this.game.config.width,k=this.game.config.height,z=this.parentSize.width,X=this.parentSize.height,K=z/B,H=X/k,Q,W;K<H?(Q=B,W=K!==0?X/K:k):(Q=H!==0?z/H:B,W=k);var Y=f(Q,this.displaySize.minWidth,this.displaySize.maxWidth),N=f(W,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(Y,N),this.gameSize.setSize(Y,N),D&&(Y=Math.floor(Y),N=Math.floor(N)),this.canvas.width=Y,this.canvas.height=N;var Z=z*(Y/Q),U=X*(N/W);this.displaySize.setSize(Z,U),b=this.displaySize.width,O=this.displaySize.height,D&&(b=Math.floor(b),O=Math.floor(O)),P.width=b+"px",P.height=O+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),b=this.displaySize.width,O=this.displaySize.height,D&&(b=Math.floor(b),O=Math.floor(O)),P.width=b+"px",P.height=O+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var P=v(this.parentSize.width,this.gameSize.width,0,!0),w=v(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(P,w),1)},updateCenter:function(){var P=this.autoCenter;if(P!==g.CENTER.NO_CENTER){var w=this.canvas,R=w.style,b=w.getBoundingClientRect(),O=b.width,I=b.height,D=Math.floor((this.parentSize.width-O)/2),B=Math.floor((this.parentSize.height-I)/2);P===g.CENTER.CENTER_HORIZONTALLY?B=0:P===g.CENTER.CENTER_VERTICALLY&&(D=0),R.marginLeft=D+"px",R.marginTop=B+"px"}},updateBounds:function(){var P=this.canvasBounds,w=this.canvas.getBoundingClientRect();P.x=w.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),P.y=w.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),P.width=w.width,P.height=w.height},transformX:function(P){return(P-this.canvasBounds.left)*this.displayScale.x},transformY:function(P){return(P-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(P){P===void 0&&(P={navigationUI:"hide"});var w=this.fullscreen;if(!w.available){this.emit(h.FULLSCREEN_UNSUPPORTED);return}if(!w.active){var R=this.getFullscreenTarget();w.keyboard?R[w.request](Element.ALLOW_KEYBOARD_INPUT):R[w.request](P)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(h.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(P){this.removeFullscreenTarget(),this.emit(h.FULLSCREEN_FAILED,P)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var P=document.createElement("div");P.style.margin="0",P.style.padding="0",P.style.width="100%",P.style.height="100%",this.fullscreenTarget=P,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var w=this.canvas.parentNode;w.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var P=this.fullscreenTarget;if(P&&P.parentNode){var w=P.parentNode;w.insertBefore(this.canvas,P),w.removeChild(P)}}},stopFullscreen:function(){var P=this.fullscreen;if(!P.available)return this.emit(h.FULLSCREEN_UNSUPPORTED),!1;P.active&&document[P.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(h.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(P){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(P)},startListeners:function(){var P=this,w=this.domlisteners;if(w.orientationChange=function(){P.updateBounds(),P._checkOrientation=!0,P.dirty=!0,P.refresh()},w.windowResize=function(){P.updateBounds(),P.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",w.orientationChange,!1):window.addEventListener("orientationchange",w.orientationChange,!1),window.addEventListener("resize",w.windowResize,!1),this.fullscreen.available){w.fullScreenChange=function(b){return P.onFullScreenChange(b)},w.fullScreenError=function(b){return P.onFullScreenError(b)};var R=["webkit","moz",""];R.forEach(function(b){document.addEventListener(b+"fullscreenchange",w.fullScreenChange,!1),document.addEventListener(b+"fullscreenerror",w.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",w.fullScreenChange,!1),document.addEventListener("MSFullscreenError",w.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(P,w){P instanceof T||(w=P,P=void 0),w===void 0&&(w=new c);var R=this.baseSize,b=this.parentSize,O=this.canvasBounds,I=this.displayScale,D=O.x>=0?0:-(O.x*I.x),B=O.y>=0?0:-(O.y*I.y),k;b.width>=O.width?k=R.width:k=R.width-(O.width-b.width)*I.x;var z;return b.height>=O.height?z=R.height:z=R.height-(O.height-b.height)*I.y,w.setTo(D,B,k,z),P&&(w.width/=P.zoomX,w.height/=P.zoomY,w.centerX=P.centerX+P.scrollX,w.centerY=P.centerY+P.scrollY),w},step:function(P,w){this.parent&&(this._lastCheck+=w,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var P=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",P.orientationChange,!1):window.removeEventListener("orientationchange",P.orientationChange,!1),window.removeEventListener("resize",P.windowResize,!1);var w=["webkit","moz",""];w.forEach(function(R){document.removeEventListener(R+"fullscreenchange",P.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",P.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",P.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===g.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===g.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});C.exports=E},64743:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={CENTER:s(64743),ORIENTATION:s(39218),SCALE_MODE:s(81050),ZOOM:s(80805)};C.exports=g},56139:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="enterfullscreen"},2336:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="fullscreenfailed"},47412:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="fullscreenunsupported"},51452:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="leavefullscreen"},20666:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="orientationchange"},47945:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resize"},97480:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ENTER_FULLSCREEN:s(56139),FULLSCREEN_FAILED:s(2336),FULLSCREEN_UNSUPPORTED:s(47412),LEAVE_FULLSCREEN:s(51452),ORIENTATION_CHANGE:s(20666),RESIZE:s(47945)}},93364:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=s(13560),f={Center:s(64743),Events:s(97480),Orientation:s(39218),ScaleManager:s(76531),ScaleModes:s(81050),Zoom:s(80805)};f=g(!1,f,y.CENTER),f=g(!1,f,y.ORIENTATION),f=g(!1,f,y.SCALE_MODE),f=g(!1,f,y.ZOOM),C.exports=f},27397:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=s(35355),f=function(l){var h=l.game.config.defaultPhysicsSystem,r=g(l.settings,"physics",!1);if(!(!h&&!r)){var o=[];if(h&&o.push(y(h+"Physics")),r)for(var u in r)u=y(u.concat("Physics")),o.indexOf(u)===-1&&o.push(u);return o}};C.exports=f},52106:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=function(f){var l=f.plugins.getDefaultScenePlugins(),h=g(f.settings,"plugins",!1);return Array.isArray(h)?h:l||[]};C.exports=y},87033:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};C.exports=A},97482:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(2368),f=new g({initialize:function(h){this.sys=new y(this,h),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});C.exports=f},60903:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(89993),f=s(44594),l=s(8443),h=s(35154),r=s(54899),o=s(29747),u=s(97482),a=s(2368),d=new g({initialize:function(p,v){if(this.game=p,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)this._pending.push({key:"default",scene:v[m],autoStart:m===0,data:{}})}p.events.once(l.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new u),this.game.events.emit(l.SYSTEM_READY,this.systemScene,this);var c,p,v,m;for(c=0;c<this._pending.length;c++){p=this._pending[c],v=p.key,m=p.scene;var T;m instanceof u?T=this.createSceneFromInstance(v,m):typeof m=="object"?T=this.createSceneFromObject(v,m):typeof m=="function"&&(T=this.createSceneFromFunction(v,m)),v=T.sys.settings.key,this.keys[v]=T,this.scenes.push(T),this._data[v]&&(T.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(p.autoStart=!0)),(p.autoStart||T.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,c=0;c<this._start.length;c++)p=this._start[c],this.start(p);this._start.length=0}},processQueue:function(){var c=this._pending.length,p=this._queue.length;if(!(c===0&&p===0)){var v,m;if(c){for(v=0;v<c;v++)m=this._pending[v],this.add(m.key,m.scene,m.autoStart,m.data);for(v=0;v<this._start.length;v++)m=this._start[v],this.start(m);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)m=this._queue[v],this[m.op](m.keyA,m.keyB,m.data);this._queue.length=0}},add:function(c,p,v,m){if(v===void 0&&(v=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:c,scene:p,autoStart:v,data:m}),this.isBooted||(this._data[c]={data:m}),null;c=this.getKey(c,p);var T;return p instanceof u?T=this.createSceneFromInstance(c,p):typeof p=="object"?(p.key=c,T=this.createSceneFromObject(c,p)):typeof p=="function"&&(T=this.createSceneFromFunction(c,p)),T.sys.settings.data=m,c=T.sys.settings.key,this.keys[c]=T,this.scenes.push(T),(v||T.sys.settings.active)&&(this._pending.length?this._start.push(c):this.start(c)),T},remove:function(c){if(this.isProcessing)return this.queueOp("remove",c);var p=this.getScene(c);if(!p||p.sys.isTransitioning())return this;var v=this.scenes.indexOf(p),m=p.sys.settings.key;return v>-1&&(delete this.keys[m],this.scenes.splice(v,1),this._start.indexOf(m)>-1&&(v=this._start.indexOf(m),this._start.splice(v,1)),p.sys.destroy()),this},bootScene:function(c){var p=c.sys,v=p.settings;p.sceneUpdate=o,c.init&&(c.init.call(c,v.data),v.status=y.INIT,v.isTransition&&p.events.emit(f.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var m;p.load&&(m=p.load,m.reset()),m&&c.preload?(c.preload.call(c),v.status=y.LOADING,m.once(r.COMPLETE,this.loadComplete,this),m.start()):this.create(c)},loadComplete:function(c){this.create(c.scene)},payloadComplete:function(c){this.bootScene(c.scene)},update:function(c,p){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var m=this.scenes[v].sys;m.settings.status>y.START&&m.settings.status<=y.RUNNING&&m.step(c,p),m.scenePlugin&&m.scenePlugin._target&&m.scenePlugin.step(c,p)}},render:function(c){for(var p=0;p<this.scenes.length;p++){var v=this.scenes[p].sys;v.settings.visible&&v.settings.status>=y.LOADING&&v.settings.status<y.SLEEPING&&v.render(c)}this.isProcessing=!1},create:function(c){var p=c.sys,v=p.settings;c.create&&(v.status=y.CREATING,c.create.call(c,v.data),v.status===y.DESTROYED)||(v.isTransition&&p.events.emit(f.TRANSITION_START,v.transitionFrom,v.transitionDuration),c.update&&(p.sceneUpdate=c.update),v.status=y.RUNNING,p.events.emit(f.CREATE,c))},createSceneFromFunction:function(c,p){var v=new p;if(v instanceof u){var m=v.sys.settings.key;if(m!==""&&(c=m),this.keys.hasOwnProperty(c))throw new Error("Cannot add Scene with duplicate key: "+c);return this.createSceneFromInstance(c,v)}else return v.sys=new a(v),v.sys.settings.key=c,v.sys.init(this.game),v},createSceneFromInstance:function(c,p){var v=p.sys.settings.key;return v===""&&(p.sys.settings.key=c),p.sys.init(this.game),p},createSceneFromObject:function(c,p){var v=new u(p),m=v.sys.settings.key;m!==""?c=m:v.sys.settings.key=c,v.sys.init(this.game);for(var T=["init","preload","create","update","render"],E=0;E<T.length;E++){var P=h(p,T[E],null);P&&(v[T[E]]=P)}if(p.hasOwnProperty("extend")){for(var w in p.extend)if(p.extend.hasOwnProperty(w)){var R=p.extend[w];w==="data"&&v.hasOwnProperty("data")&&typeof R=="object"?v.data.merge(R):w!=="sys"&&(v[w]=R)}}return v},getKey:function(c,p){if(c||(c="default"),typeof p=="function")return c;if(p instanceof u?c=p.sys.settings.key:typeof p=="object"&&p.hasOwnProperty("key")&&(c=p.key),this.keys.hasOwnProperty(c))throw new Error("Cannot add Scene with duplicate key: "+c);return c},getScenes:function(c,p){c===void 0&&(c=!0),p===void 0&&(p=!1);for(var v=[],m=this.scenes,T=0;T<m.length;T++){var E=m[T];E&&(!c||c&&E.sys.isActive())&&v.push(E)}return p?v.reverse():v},getScene:function(c){if(typeof c=="string"){if(this.keys[c])return this.keys[c]}else for(var p=0;p<this.scenes.length;p++)if(c===this.scenes[p])return c;return null},isActive:function(c){var p=this.getScene(c);return p?p.sys.isActive():null},isPaused:function(c){var p=this.getScene(c);return p?p.sys.isPaused():null},isVisible:function(c){var p=this.getScene(c);return p?p.sys.isVisible():null},isSleeping:function(c){var p=this.getScene(c);return p?p.sys.isSleeping():null},pause:function(c,p){var v=this.getScene(c);return v&&v.sys.pause(p),this},resume:function(c,p){var v=this.getScene(c);return v&&v.sys.resume(p),this},sleep:function(c,p){var v=this.getScene(c);return v&&!v.sys.isTransitioning()&&v.sys.sleep(p),this},wake:function(c,p){var v=this.getScene(c);return v&&v.sys.wake(p),this},run:function(c,p){var v=this.getScene(c);if(!v){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===c){this.queueOp("start",c,p);break}return this}v.sys.isSleeping()?v.sys.wake(p):v.sys.isPaused()?v.sys.resume(p):this.start(c,p)},start:function(c,p){if(!this.isBooted)return this._data[c]={autoStart:!0,data:p},this;var v=this.getScene(c);if(!v)return console.warn("Scene key not found: "+c),this;var m=v.sys,T=m.settings.status;if(T>=y.START&&T<=y.CREATING)return this;if(T>=y.RUNNING&&T<=y.SLEEPING)m.shutdown(),m.sceneUpdate=o,m.start(p);else{m.sceneUpdate=o,m.start(p);var E;if(m.load&&(E=m.load),E&&m.settings.hasOwnProperty("pack")&&(E.reset(),E.addPack({payload:m.settings.pack})))return m.settings.status=y.LOADING,E.once(r.COMPLETE,this.payloadComplete,this),E.start(),this}return this.bootScene(v),this},stop:function(c,p){var v=this.getScene(c);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==y.SHUTDOWN){var m=v.sys.load;m&&(m.off(r.COMPLETE,this.loadComplete,this),m.off(r.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(p)}return this},switch:function(c,p,v){var m=this.getScene(c),T=this.getScene(p);return m&&T&&m!==T&&(this.sleep(c),this.isSleeping(p)?this.wake(p,v):this.start(p,v)),this},getAt:function(c){return this.scenes[c]},getIndex:function(c){var p=this.getScene(c);return this.scenes.indexOf(p)},bringToTop:function(c){if(this.isProcessing)return this.queueOp("bringToTop",c);var p=this.getIndex(c),v=this.scenes;if(p!==-1&&p<v.length){var m=this.getScene(c);v.splice(p,1),v.push(m)}return this},sendToBack:function(c){if(this.isProcessing)return this.queueOp("sendToBack",c);var p=this.getIndex(c);if(p!==-1&&p>0){var v=this.getScene(c);this.scenes.splice(p,1),this.scenes.unshift(v)}return this},moveDown:function(c){if(this.isProcessing)return this.queueOp("moveDown",c);var p=this.getIndex(c);if(p>0){var v=p-1,m=this.getScene(c),T=this.getAt(v);this.scenes[p]=T,this.scenes[v]=m}return this},moveUp:function(c){if(this.isProcessing)return this.queueOp("moveUp",c);var p=this.getIndex(c);if(p<this.scenes.length-1){var v=p+1,m=this.getScene(c),T=this.getAt(v);this.scenes[p]=T,this.scenes[v]=m}return this},moveAbove:function(c,p){if(c===p)return this;if(this.isProcessing)return this.queueOp("moveAbove",c,p);var v=this.getIndex(c),m=this.getIndex(p);if(v!==-1&&m!==-1&&m<v){var T=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(v+(m>v),0,T)}return this},moveBelow:function(c,p){if(c===p)return this;if(this.isProcessing)return this.queueOp("moveBelow",c,p);var v=this.getIndex(c),m=this.getIndex(p);if(v!==-1&&m!==-1&&m>v){var T=this.getAt(m);this.scenes.splice(m,1),v===0?this.scenes.unshift(T):this.scenes.splice(v-(m<v),0,T)}return this},queueOp:function(c,p,v,m){return this._queue.push({op:c,keyA:p,keyB:v,data:m}),this},swapPosition:function(c,p){if(c===p)return this;if(this.isProcessing)return this.queueOp("swapPosition",c,p);var v=this.getIndex(c),m=this.getIndex(p);if(v!==m&&v!==-1&&m!==-1){var T=this.getAt(v);this.scenes[v]=this.scenes[m],this.scenes[m]=T}return this},dump:function(){for(var c=[],p=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var m=this.scenes[v].sys,T=m.settings.visible&&(m.settings.status===y.RUNNING||m.settings.status===y.PAUSED)?"[*] ":"[-] ";T+=m.settings.key+" ("+p[m.settings.status]+")",c.push(T)}console.log(c.join(`
`))},destroy:function(){for(var c=0;c<this.scenes.length;c++){var p=this.scenes[c].sys;p.destroy()}this.systemScene.sys.destroy(),this.update=o,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});C.exports=d},52209:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(44594),l=s(95540),h=s(37277),r=new y({initialize:function(u){this.scene=u,this.systems=u.sys,this.settings=u.sys.settings,this.key=u.sys.settings.key,this.manager=u.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,u.sys.events.once(f.BOOT,this.boot,this),u.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(o,u){return o===void 0&&(o=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",o,u),this},restart:function(o){var u=this.key;return this.manager.queueOp("stop",u),this.manager.queueOp("start",u,o),this},transition:function(o){o===void 0&&(o={});var u=l(o,"target",!1),a=this.manager.getScene(u);if(!u||!this.checkValidTransition(a))return!1;var d=l(o,"duration",1e3);this._elapsed=0,this._target=a,this._duration=d,this._willSleep=l(o,"sleep",!1),this._willRemove=l(o,"remove",!1);var c=l(o,"onUpdate",null);c&&(this._onUpdate=c,this._onUpdateScope=l(o,"onUpdateScope",this.scene));var p=l(o,"allowInput",!1);this.settings.transitionAllowInput=p;var v=a.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=d,v.transitionAllowInput=p,l(o,"moveAbove",!1)?this.manager.moveAbove(this.key,u):l(o,"moveBelow",!1)&&this.manager.moveBelow(this.key,u),a.sys.isSleeping()?a.sys.wake(l(o,"data")):this.manager.start(u,l(o,"data"));var m=l(o,"onStart",null),T=l(o,"onStartScope",this.scene);return m&&m.call(T,this.scene,a,d),this.systems.events.emit(f.TRANSITION_OUT,a,d),!0},checkValidTransition:function(o){return!(!o||o.sys.isActive()||o.sys.isTransitioning()||o===this.scene||this.systems.isTransitioning())},step:function(o,u){this._elapsed+=u,this.transitionProgress=g(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var o=this._target.sys,u=this._target.sys.settings;o.events.emit(f.TRANSITION_COMPLETE,this.scene),u.isTransition=!1,u.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(o,u,a,d){return this.manager.add(o,u,a,d)},launch:function(o,u){return o&&o!==this.key&&this.manager.queueOp("start",o,u),this},run:function(o,u){return o&&o!==this.key&&this.manager.queueOp("run",o,u),this},pause:function(o,u){return o===void 0&&(o=this.key),this.manager.queueOp("pause",o,u),this},resume:function(o,u){return o===void 0&&(o=this.key),this.manager.queueOp("resume",o,u),this},sleep:function(o,u){return o===void 0&&(o=this.key),this.manager.queueOp("sleep",o,u),this},wake:function(o,u){return o===void 0&&(o=this.key),this.manager.queueOp("wake",o,u),this},switch:function(o,u){return o!==this.key&&this.manager.queueOp("switch",this.key,o,u),this},stop:function(o,u){return o===void 0&&(o=this.key),this.manager.queueOp("stop",o,u),this},setActive:function(o,u,a){u===void 0&&(u=this.key);var d=this.manager.getScene(u);return d&&d.sys.setActive(o,a),this},setVisible:function(o,u){u===void 0&&(u=this.key);var a=this.manager.getScene(u);return a&&a.sys.setVisible(o),this},isSleeping:function(o){return o===void 0&&(o=this.key),this.manager.isSleeping(o)},isActive:function(o){return o===void 0&&(o=this.key),this.manager.isActive(o)},isPaused:function(o){return o===void 0&&(o=this.key),this.manager.isPaused(o)},isVisible:function(o){return o===void 0&&(o=this.key),this.manager.isVisible(o)},swapPosition:function(o,u){return u===void 0&&(u=this.key),o!==u&&this.manager.swapPosition(o,u),this},moveAbove:function(o,u){return u===void 0&&(u=this.key),o!==u&&this.manager.moveAbove(o,u),this},moveBelow:function(o,u){return u===void 0&&(u=this.key),o!==u&&this.manager.moveBelow(o,u),this},remove:function(o){return o===void 0&&(o=this.key),this.manager.remove(o),this},moveUp:function(o){return o===void 0&&(o=this.key),this.manager.moveUp(o),this},moveDown:function(o){return o===void 0&&(o=this.key),this.manager.moveDown(o),this},bringToTop:function(o){return o===void 0&&(o=this.key),this.manager.bringToTop(o),this},sendToBack:function(o){return o===void 0&&(o=this.key),this.manager.sendToBack(o),this},get:function(o){return this.manager.getScene(o)},getStatus:function(o){var u=this.manager.getScene(o);if(u)return u.sys.getStatus()},getIndex:function(o){return o===void 0&&(o=this.key),this.manager.getIndex(o)},shutdown:function(){var o=this.systems.events;o.off(f.SHUTDOWN,this.shutdown,this),o.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",r,"scenePlugin"),C.exports=r},55681:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(89993),y=s(35154),f=s(46975),l=s(87033),h={create:function(r){return typeof r=="string"?r={key:r}:r===void 0&&(r={}),{status:g.PENDING,key:y(r,"key",""),active:y(r,"active",!1),visible:y(r,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:y(r,"pack",!1),cameras:y(r,"cameras",null),map:y(r,"map",f(l,y(r,"mapAdd",{}))),physics:y(r,"physics",{}),loader:y(r,"loader",{}),plugins:y(r,"plugins",!1),input:y(r,"input",{})}}};C.exports=h},2368:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(89993),f=s(42363),l=s(44594),h=s(27397),r=s(52106),o=s(29747),u=s(55681),a=new g({initialize:function(c,p){this.scene=c,this.game,this.renderer,this.config=p,this.settings=u.create(p),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=o},init:function(d){this.settings.status=y.INIT,this.sceneUpdate=o,this.game=d,this.renderer=d.renderer,this.canvas=d.canvas,this.context=d.context;var c=d.plugins;this.plugins=c,c.addToScene(this,f.Global,[f.CoreScene,r(this),h(this)]),this.events.emit(l.BOOT,this),this.settings.isBooted=!0},step:function(d,c){var p=this.events;p.emit(l.PRE_UPDATE,d,c),p.emit(l.UPDATE,d,c),this.sceneUpdate.call(this.scene,d,c),p.emit(l.POST_UPDATE,d,c)},render:function(d){var c=this.displayList;c.depthSort(),this.events.emit(l.PRE_RENDER,d),this.cameras.render(d,c),this.events.emit(l.RENDER,d)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(d){var c=this.settings,p=this.getStatus();return p!==y.CREATING&&p!==y.RUNNING?console.warn("Cannot pause non-running Scene",c.key):this.settings.active&&(c.status=y.PAUSED,c.active=!1,this.events.emit(l.PAUSE,this,d)),this},resume:function(d){var c=this.events,p=this.settings;return this.settings.active||(p.status=y.RUNNING,p.active=!0,c.emit(l.RESUME,this,d)),this},sleep:function(d){var c=this.settings,p=this.getStatus();return p!==y.CREATING&&p!==y.RUNNING?console.warn("Cannot sleep non-running Scene",c.key):(c.status=y.SLEEPING,c.active=!1,c.visible=!1,this.events.emit(l.SLEEP,this,d)),this},wake:function(d){var c=this.events,p=this.settings;return p.status=y.RUNNING,p.active=!0,p.visible=!0,c.emit(l.WAKE,this,d),p.isTransition&&c.emit(l.TRANSITION_WAKE,p.transitionFrom,p.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var d=this.settings.status;return d>y.PENDING&&d<=y.RUNNING},isSleeping:function(){return this.settings.status===y.SLEEPING},isActive:function(){return this.settings.status===y.RUNNING},isPaused:function(){return this.settings.status===y.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(d){return this.settings.visible=d,this},setActive:function(d,c){return d?this.resume(c):this.pause(c)},start:function(d){var c=this.events,p=this.settings;d&&(p.data=d),p.status=y.START,p.active=!0,p.visible=!0,c.emit(l.START,this),c.emit(l.READY,this,d)},shutdown:function(d){var c=this.events,p=this.settings;c.off(l.TRANSITION_INIT),c.off(l.TRANSITION_START),c.off(l.TRANSITION_COMPLETE),c.off(l.TRANSITION_OUT),p.status=y.SHUTDOWN,p.active=!1,p.visible=!1,c.emit(l.SHUTDOWN,this,d)},destroy:function(){var d=this.events,c=this.settings;c.status=y.DESTROYED,c.active=!1,c.visible=!1,d.emit(l.DESTROY,this),d.removeAllListeners();for(var p=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<p.length;v++)this[p[v]]=null}});C.exports=a},89993:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};C.exports=A},69830:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addedtoscene"},7919:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="boot"},46763:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="create"},11763:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},71555:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},36735:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postupdate"},3809:C=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prerender"},90716:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="preupdate"},58262:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="ready"},91633:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedfromscene"},10319:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="render"},87132:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},81961:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="shutdown"},90194:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="sleep"},6265:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},33178:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitioncomplete"},43063:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitioninit"},11259:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionout"},61611:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionstart"},45209:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionwake"},22966:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="update"},21747:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="wake"},44594:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADDED_TO_SCENE:s(69830),BOOT:s(7919),CREATE:s(46763),DESTROY:s(11763),PAUSE:s(71555),POST_UPDATE:s(36735),PRE_RENDER:s(3809),PRE_UPDATE:s(90716),READY:s(58262),REMOVED_FROM_SCENE:s(91633),RENDER:s(10319),RESUME:s(87132),SHUTDOWN:s(81961),SLEEP:s(90194),START:s(6265),TRANSITION_COMPLETE:s(33178),TRANSITION_INIT:s(43063),TRANSITION_OUT:s(11259),TRANSITION_START:s(61611),TRANSITION_WAKE:s(45209),UPDATE:s(22966),WAKE:s(21747)}},62194:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(89993),y=s(79291),f={Events:s(44594),GetPhysicsPlugins:s(27397),GetScenePlugins:s(52106),SceneManager:s(60903),ScenePlugin:s(52209),Settings:s(55681),Systems:s(2368)};f=y(!1,f,g),C.exports=f},30341:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(14463),l=s(79291),h=s(29747),r=new g({Extends:y,initialize:function(u,a,d){y.call(this),this.manager=u,this.key=a,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=l(this.config,d),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(o){return!o||!o.name||typeof o.name!="string"?!1:this.markers[o.name]?(console.error("addMarker "+o.name+" already exists in Sound"),!1):(o=l(!0,{name:"",start:0,duration:this.totalDuration-(o.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},o),this.markers[o.name]=o,!0)},updateMarker:function(o){return!o||!o.name||typeof o.name!="string"?!1:this.markers[o.name]?(this.markers[o.name]=l(!0,this.markers[o.name],o),!0):(console.warn("Audio Marker: "+o.name+" missing in Sound: "+this.key),!1)},removeMarker:function(o){var u=this.markers[o];return u?(this.markers[o]=null,u):null},play:function(o,u){if(o===void 0&&(o=""),typeof o=="object"&&(u=o,o=""),typeof o!="string")return!1;if(!o)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[o])return console.warn("Marker: "+o+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[o],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=l(this.currentConfig,u),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var o=1.0005777895065548,u=this.currentConfig.detune+this.manager.detune,a=Math.pow(o,u);this.totalRate=this.currentConfig.rate*this.manager.rate*a},destroy:function(){this.pendingRemove||(this.stop(),this.emit(f.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});C.exports=r},85034:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(41786),f=s(50792),l=s(14463),h=s(8443),r=s(46710),o=s(58731),u=s(29747),a=s(26099),d=new g({Extends:f,initialize:function(p){f.call(this),this.game=p,this.jsonCache=p.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new a;var v=p.events;v.on(h.BLUR,this.onGameBlur,this),v.on(h.FOCUS,this.onGameFocus,this),v.on(h.PRE_STEP,this.update,this),v.once(h.DESTROY,this.destroy,this)},add:u,addAudioSprite:function(c,p){p===void 0&&(p={});var v=this.add(c,p);v.spritemap=this.jsonCache.get(c).spritemap;for(var m in v.spritemap)if(v.spritemap.hasOwnProperty(m)){var T=y(p),E=v.spritemap[m];T.loop=E.hasOwnProperty("loop")?E.loop:!1,v.addMarker({name:m,start:E.start,duration:E.end-E.start,config:T})}return v},get:function(c){return o(this.sounds,"key",c)},getAll:function(c){return c?r(this.sounds,"key",c):r(this.sounds)},getAllPlaying:function(){return r(this.sounds,"isPlaying",!0)},play:function(c,p){var v=this.add(c);return v.once(l.COMPLETE,v.destroy,v),p?p.name?(v.addMarker(p),v.play(p.name)):v.play(p):v.play()},playAudioSprite:function(c,p,v){var m=this.addAudioSprite(c);return m.once(l.COMPLETE,m.destroy,m),m.play(p,v)},remove:function(c){var p=this.sounds.indexOf(c);return p!==-1?(c.destroy(),this.sounds.splice(p,1),!0):!1},removeAll:function(){this.sounds.forEach(function(c){c.destroy()}),this.sounds.length=0},removeByKey:function(c){for(var p=0,v=this.sounds.length-1;v>=0;v--){var m=this.sounds[v];m.key===c&&(m.destroy(),this.sounds.splice(v,1),p++)}return p},pauseAll:function(){this.forEachActiveSound(function(c){c.pause()}),this.emit(l.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(c){c.resume()}),this.emit(l.RESUME_ALL,this)},setListenerPosition:u,stopAll:function(){this.forEachActiveSound(function(c){c.stop()}),this.emit(l.STOP_ALL,this)},stopByKey:function(c){var p=0;return this.getAll(c).forEach(function(v){v.stop()&&p++}),p},isPlaying:function(c){var p=this.sounds,v=p.length-1,m;if(c===void 0){for(;v>=0;v--)if(m=this.sounds[v],m.isPlaying)return!0}else for(;v>=0;v--)if(m=this.sounds[v],m.key===c&&m.isPlaying)return!0;return!1},unlock:u,onBlur:u,onFocus:u,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(c,p){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(l.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(m){m.update(c,p)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(c,p){var v=this;this.sounds.forEach(function(m,T){m&&!m.pendingRemove&&c.call(p||v,m,T,v.sounds)})},setRate:function(c){return this.rate=c,this},rate:{get:function(){return this._rate},set:function(c){this._rate=c,this.forEachActiveSound(function(p){p.calculateRate()}),this.emit(l.GLOBAL_RATE,this,c)}},setDetune:function(c){return this.detune=c,this},detune:{get:function(){return this._detune},set:function(c){this._detune=c,this.forEachActiveSound(function(p){p.calculateRate()}),this.emit(l.GLOBAL_DETUNE,this,c)}}});C.exports=d},14747:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33684),y=s(25960),f=s(57490),l={create:function(h){var r=h.config.audio,o=h.device.audio;return r.noAudio||!o.webAudio&&!o.audioData?new y(h):o.webAudio&&!r.disableWebAudio?new f(h):new g(h)}};C.exports=l},19723:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},98882:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="decodedall"},57506:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="decoded"},73146:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},11305:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="detune"},40577:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="detune"},30333:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="mute"},20394:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="rate"},21802:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="volume"},1299:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="looped"},99190:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loop"},97125:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="mute"},89259:C=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pan"},79986:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pauseall"},17586:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},19618:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="play"},42306:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="rate"},10387:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resumeall"},48959:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},9960:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="seek"},19180:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stopall"},98328:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stop"},50401:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="unlocked"},52498:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="volume"},14463:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={COMPLETE:s(19723),DECODED:s(57506),DECODED_ALL:s(98882),DESTROY:s(73146),DETUNE:s(11305),GLOBAL_DETUNE:s(40577),GLOBAL_MUTE:s(30333),GLOBAL_RATE:s(20394),GLOBAL_VOLUME:s(21802),LOOP:s(99190),LOOPED:s(1299),MUTE:s(97125),PAN:s(89259),PAUSE_ALL:s(79986),PAUSE:s(17586),PLAY:s(19618),RATE:s(42306),RESUME_ALL:s(10387),RESUME:s(48959),SEEK:s(9960),STOP_ALL:s(19180),STOP:s(98328),UNLOCKED:s(50401),VOLUME:s(52498)}},64895:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30341),y=s(83419),f=s(14463),l=s(45319),h=new y({Extends:g,initialize:function(o,u,a){if(a===void 0&&(a={}),this.tags=o.game.cache.audio.get(u),!this.tags)throw new Error('No cached audio asset with key "'+u);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,g.call(this,o,u,a)},play:function(r,o){return this.manager.isLocked(this,"play",[r,o])||!g.prototype.play.call(this,r,o)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!g.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!g.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!g.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var r=this.currentConfig.seek,o=this.currentConfig.delay,u=(this.currentMarker?this.currentMarker.start:0)+r;return this.previousTime=u,this.audio.currentTime=u,this.applyConfig(),o===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+o*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var r=0;r<this.tags.length;r++){var o=this.tags[r];if(o.dataset.used==="false")return o.dataset.used="true",this.audio=o,!0}if(!this.manager.override)return!1;var u=[];this.manager.forEachActiveSound(function(d){d.key===this.key&&d.audio&&u.push(d)},this),u.sort(function(d,c){return d.loop===c.loop?c.seek/c.duration-d.seek/d.duration:d.loop?1:-1});var a=u[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var r=this.audio.play();r&&r.catch(function(o){console.warn(o)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){g.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(r){if(this.isPlaying){if(this.startTime>0){this.startTime<r-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,r-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var o=this.currentMarker?this.currentMarker.start:0,u=o+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=u-this.manager.loopEndOffset?(this.audio.currentTime=o+Math.max(0,a-u),a=this.audio.currentTime):a<o&&(this.audio.currentTime+=o,a=this.audio.currentTime),a<this.previousTime&&this.emit(f.LOOPED,this);else if(a>=u){this.reset(),this.stopAndReleaseAudioTag(),this.emit(f.COMPLETE,this);return}this.previousTime=a}},destroy:function(){g.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=l(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){g.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(r){this.currentConfig.mute=r,!this.manager.isLocked(this,"mute",r)&&(this.updateMute(),this.emit(f.MUTE,this,r))}},setMute:function(r){return this.mute=r,this},volume:{get:function(){return this.currentConfig.volume},set:function(r){this.currentConfig.volume=r,!this.manager.isLocked(this,"volume",r)&&(this.updateVolume(),this.emit(f.VOLUME,this,r))}},setVolume:function(r){return this.volume=r,this},rate:{get:function(){return this.currentConfig.rate},set:function(r){this.currentConfig.rate=r,!this.manager.isLocked(this,f.RATE,r)&&(this.calculateRate(),this.emit(f.RATE,this,r))}},setRate:function(r){return this.rate=r,this},detune:{get:function(){return this.currentConfig.detune},set:function(r){this.currentConfig.detune=r,!this.manager.isLocked(this,f.DETUNE,r)&&(this.calculateRate(),this.emit(f.DETUNE,this,r))}},setDetune:function(r){return this.detune=r,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(r){this.manager.isLocked(this,"seek",r)||this.startTime>0||(this.isPlaying||this.isPaused)&&(r=Math.min(Math.max(0,r),this.duration),this.isPlaying?(this.previousTime=r,this.audio.currentTime=r):this.isPaused&&(this.currentConfig.seek=r),this.emit(f.SEEK,this,r))}},setSeek:function(r){return this.seek=r,this},loop:{get:function(){return this.currentConfig.loop},set:function(r){this.currentConfig.loop=r,!this.manager.isLocked(this,"loop",r)&&(this.audio&&(this.audio.loop=r),this.emit(f.LOOP,this,r))}},setLoop:function(r){return this.loop=r,this},pan:{get:function(){return this.currentConfig.pan},set:function(r){this.currentConfig.pan=r,this.emit(f.PAN,this,r)}},setPan:function(r){return this.pan=r,this}});C.exports=h},33684:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85034),y=s(83419),f=s(14463),l=s(64895),h=new y({Extends:g,initialize:function(o){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,g.call(this,o)},add:function(r,o){var u=new l(this,r,o);return this.sounds.push(u),u},unlock:function(){this.locked=!1;var r=this;if(this.game.cache.audio.entries.each(function(d,c){for(var p=0;p<c.length;p++)if(c[p].dataset.locked==="true")return r.locked=!0,!1;return!0}),!!this.locked){var o=!1,u=function(){o=!0},a=function(){if(o){o=!1;return}document.body.removeEventListener("touchmove",u),document.body.removeEventListener("touchend",a);var d=[];if(r.game.cache.audio.entries.each(function(p,v){for(var m=0;m<v.length;m++){var T=v[m];T.dataset.locked==="true"&&d.push(T)}return!0}),d.length!==0){var c=d[d.length-1];c.oncanplaythrough=function(){c.oncanplaythrough=null,d.forEach(function(p){p.dataset.locked="false"}),r.unlocked=!0},d.forEach(function(p){p.load()})}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(c){c.currentMarker===null&&c.duration===0&&(c.duration=c.tags[0].duration),c.totalDuration=c.tags[0].duration});this.lockedActionsQueue.length;){var d=this.lockedActionsQueue.shift();d.sound[d.prop].apply?d.sound[d.prop].apply(d.sound,d.value||[]):d.sound[d.prop]=d.value}},this),document.body.addEventListener("touchmove",u,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound(function(r){r.isPlaying&&(this.onBlurPausedSounds.push(r),r.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(r){r.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){g.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(r,o,u){return r.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:r,prop:o,value:u}),!0):!1},setMute:function(r){return this.mute=r,this},mute:{get:function(){return this._mute},set:function(r){this._mute=r,this.forEachActiveSound(function(o){o.updateMute()}),this.emit(f.GLOBAL_MUTE,this,r)}},setVolume:function(r){return this.volume=r,this},volume:{get:function(){return this._volume},set:function(r){this._volume=r,this.forEachActiveSound(function(o){o.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,r)}}});C.exports=h},23717:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={SoundManagerCreator:s(14747),Events:s(14463),BaseSound:s(30341),BaseSoundManager:s(85034),WebAudioSound:s(71741),WebAudioSoundManager:s(57490),HTML5AudioSound:s(64895),HTML5AudioSoundManager:s(33684),NoAudioSound:s(4603),NoAudioSoundManager:s(25960)}},4603:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30341),y=s(83419),f=s(50792),l=s(79291),h=s(29747),r=function(){return!1},o=function(){return null},u=function(){return this},a=new y({Extends:f,initialize:function(c,p,v){v===void 0&&(v={}),f.call(this),this.manager=c,this.key=p,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=l({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:r,updateMarker:r,removeMarker:o,play:r,pause:r,resume:r,stop:r,setMute:u,setVolume:u,setRate:u,setDetune:u,setSeek:u,setLoop:u,setPan:u,applyConfig:o,resetConfig:o,update:h,calculateRate:o,destroy:function(){g.prototype.destroy.call(this)}});C.exports=a},25960:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85034),y=s(83419),f=s(50792),l=s(4603),h=s(29747),r=new y({Extends:f,initialize:function(u){f.call(this),this.game=u,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(o,u){var a=new l(this,o,u);return this.sounds.push(a),a},addAudioSprite:function(o,u){var a=this.add(o,u);return a.spritemap={},a},get:function(o){return g.prototype.get.call(this,o)},getAll:function(o){return g.prototype.getAll.call(this,o)},play:function(o,u){return!1},playAudioSprite:function(o,u,a){return!1},remove:function(o){return g.prototype.remove.call(this,o)},removeAll:function(){return g.prototype.removeAll.call(this)},removeByKey:function(o){return g.prototype.removeByKey.call(this,o)},stopByKey:function(o){return g.prototype.stopByKey.call(this,o)},onBlur:h,onFocus:h,onGameBlur:h,onGameFocus:h,pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,unlock:h,forEachActiveSound:function(o,u){g.prototype.forEachActiveSound.call(this,o,u)},destroy:function(){g.prototype.destroy.call(this)}});C.exports=r},71741:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30341),y=s(83419),f=s(14463),l=s(95540),h=new y({Extends:g,initialize:function(o,u,a){if(a===void 0&&(a={}),this.audioBuffer=o.game.cache.audio.get(u),!this.audioBuffer)throw new Error('Audio key "'+u+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=o.context.createGain(),this.volumeNode=o.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),o.context.createPanner&&(this.spatialNode=o.context.createPanner(),this.volumeNode.connect(this.spatialNode)),o.context.createStereoPanner?(this.pannerNode=o.context.createStereoPanner(),o.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(o.destination)):o.context.createPanner?this.spatialNode.connect(o.destination):this.volumeNode.connect(o.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,g.call(this,o,u,a)},play:function(r,o){return g.prototype.play.call(this,r,o)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!g.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!g.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(f.RESUME,this),!0)},stop:function(){return g.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0):!1},createAndStartBufferSource:function(){var r=this.currentConfig.seek,o=this.currentConfig.delay,u=this.manager.context.currentTime+o,a=(this.currentMarker?this.currentMarker.start:0)+r,d=this.duration-r;this.playTime=u-r,this.startTime=u,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,u),Math.max(0,a),Math.max(0,d)),this.resetConfig()},createAndStartLoopBufferSource:function(){var r=this.getLoopTime(),o=this.currentMarker?this.currentMarker.start:0,u=this.duration;this.loopTime=r,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,r),Math.max(0,o),Math.max(0,u))},createBufferSource:function(){var r=this,o=this.manager.context.createBufferSource();return o.buffer=this.audioBuffer,o.connect(this.muteNode),o.onended=function(u){var a=u.target;(a===r.source||a===r.loopSource)&&(r.currentConfig.loop?r.hasLooped=!0:r.hasEnded=!0)},o},stopAndRemoveBufferSource:function(){if(this.source){var r=this.source;this.source=null,r.stop(),r.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var r=this.currentConfig.source;if(r&&this.manager.context.createPanner){var o=this.spatialNode;o.panningModel=l(r,"panningModel","equalpower"),o.distanceModel=l(r,"distanceModel","inverse"),o.orientationX.value=l(r,"orientationX",0),o.orientationY.value=l(r,"orientationY",0),o.orientationZ.value=l(r,"orientationZ",-1),o.refDistance=l(r,"refDistance",1),o.maxDistance=l(r,"maxDistance",1e4),o.rolloffFactor=l(r,"rolloffFactor",1),o.coneInnerAngle=l(r,"coneInnerAngle",360),o.coneOuterAngle=l(r,"coneOuterAngle",0),o.coneOuterGain=l(r,"coneOuterGain",0),this.spatialSource=l(r,"follow",null),this.spatialSource||(o.positionX.value=l(r,"x",0),o.positionY.value=l(r,"y",0),o.positionZ.value=l(r,"z",0))}g.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(r){this.spatialNode&&(this.spatialNode.positionX.value=r)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(r){this.spatialNode&&(this.spatialNode.positionY.value=r)}},update:function(){if(this.isPlaying&&this.spatialSource){var r=l(this.spatialSource,"x",null),o=l(this.spatialSource,"y",null);r&&r!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=r),o&&o!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=o)}this.hasEnded?(g.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){this.pendingRemove||(g.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){g.prototype.calculateRate.call(this);var r=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,r),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,r)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var r=0,o=0;o<this.rateUpdates.length;o++){var u=0;o<this.rateUpdates.length-1?u=this.rateUpdates[o+1].time:u=this.manager.context.currentTime-this.playTime,r+=(u-this.rateUpdates[o].time)*this.rateUpdates[o].rate}return r},getLoopTime:function(){for(var r=0,o=0;o<this.rateUpdates.length-1;o++)r+=(this.rateUpdates[o+1].time-this.rateUpdates[o].time)*this.rateUpdates[o].rate;var u=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+u.time+(this.duration-r)/u.rate},rate:{get:function(){return this.currentConfig.rate},set:function(r){this.currentConfig.rate=r,this.calculateRate(),this.emit(f.RATE,this,r)}},setRate:function(r){return this.rate=r,this},detune:{get:function(){return this.currentConfig.detune},set:function(r){this.currentConfig.detune=r,this.calculateRate(),this.emit(f.DETUNE,this,r)}},setDetune:function(r){return this.detune=r,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(r){this.currentConfig.mute=r,this.muteNode.gain.setValueAtTime(r?0:1,0),this.emit(f.MUTE,this,r)}},setMute:function(r){return this.mute=r,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(r){this.currentConfig.volume=r,this.volumeNode.gain.setValueAtTime(r,0),this.emit(f.VOLUME,this,r)}},setVolume:function(r){return this.volume=r,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(r){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(r=Math.min(Math.max(0,r),this.duration),this.currentConfig.seek=r,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,r))}},setSeek:function(r){return this.seek=r,this},loop:{get:function(){return this.currentConfig.loop},set:function(r){this.currentConfig.loop=r,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),r&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,r)}},setLoop:function(r){return this.loop=r,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(r){this.currentConfig.pan=r,this.pannerNode&&this.pannerNode.pan.setValueAtTime(r,this.manager.context.currentTime),this.emit(f.PAN,this,r)}},setPan:function(r){return this.pan=r,this}});C.exports=h},57490:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(53134),y=s(85034),f=s(83419),l=s(14463),h=s(8443),r=s(71741),o=s(95540),u=new f({Extends:y,initialize:function(d){this.context=this.createAudioContext(d),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",y.call(this,d),this.locked&&(d.isBooted?this.unlock():d.events.once(h.BOOT,this.unlock,this)),d.events.on(h.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var a=this.context;window.setTimeout(function(){a&&(a.suspend(),a.resume())},100)},createAudioContext:function(a){var d=a.config.audio;if(d.context)return d.context.resume(),d.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(a){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=a,this.masterMuteNode=a.createGain(),this.masterVolumeNode=a.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(a.destination),this.destination=this.masterMuteNode,this},add:function(a,d){var c=new r(this,a,d);return this.sounds.push(c),c},decodeAudio:function(a,d){var c;Array.isArray(a)?c=a:c=[{key:a,data:d}];for(var p=this.game.cache.audio,v=c.length,m=0;m<c.length;m++){var T=c[m],E=T.key,P=T.data;typeof P=="string"&&(P=g(P));var w=(function(b,O){p.add(b,O),this.emit(l.DECODED,b),v--,v===0&&this.emit(l.DECODED_ALL)}).bind(this,E),R=(function(b,O){console.error("Error decoding audio: "+b+" - ",O?O.message:""),v--,v===0&&this.emit(l.DECODED_ALL)}).bind(this,E);this.context.decodeAudioData(P,w,R)}},setListenerPosition:function(a,d){return a===void 0&&(a=this.game.scale.width/2),d===void 0&&(d=this.game.scale.height/2),this.listenerPosition.set(a,d),this},unlock:function(){var a=this,d=document.body,c=function p(){if(a.context&&d){var v=d.removeEventListener.bind(d);a.context.resume().then(function(){v("touchstart",p),v("touchend",p),v("mousedown",p),v("mouseup",p),v("keydown",p),a.unlocked=!0},function(){v("touchstart",p),v("touchend",p),v("mousedown",p),v("mouseup",p),v("keydown",p)})}};d&&(d.addEventListener("touchstart",c,!1),d.addEventListener("touchend",c,!1),d.addEventListener("mousedown",c,!1),d.addEventListener("mouseup",c,!1),d.addEventListener("keydown",c,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var a=this.context;a&&!this.locked&&(a.state==="suspended"||a.state==="interrupted")&&a.resume()},update:function(a,d){var c=this.context.listener,p=o(this.listenerPosition,"x",null),v=o(this.listenerPosition,"y",null);if(c&&c.positionX!==void 0)p&&p!==this._spatialx&&(this._spatialx=c.positionX.value=p),v&&v!==this._spatialy&&(this._spatialy=c.positionY.value=v);else if(c){p&&p!==this._spatialx&&(this._spatialx=p),v&&v!==this._spatialy&&(this._spatialy=v);var m=o(c,"z",0);c.setPosition(this._spatialx||0,this._spatialy||0,m)}y.prototype.update.call(this,a,d),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var a=this;this.context.close().then(function(){a.context=null})}this.game.events.off(h.VISIBLE,this.onGameVisible,this),y.prototype.destroy.call(this)},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(a){this.masterMuteNode.gain.setValueAtTime(a?0:1,0),this.emit(l.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(a){this.masterVolumeNode.gain.setValueAtTime(a,0),this.emit(l.GLOBAL_VOLUME,this,a)}}});C.exports=u},73162:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37105),y=s(83419),f=s(29747),l=s(19186),h=new y({initialize:function(o){this.parent=o,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(r,o){return o?g.Add(this.list,r):g.Add(this.list,r,0,this.addCallback,this)},addAt:function(r,o,u){return u?g.AddAt(this.list,r,o):g.AddAt(this.list,r,o,0,this.addCallback,this)},getAt:function(r){return this.list[r]},getIndex:function(r){return this.list.indexOf(r)},sort:function(r,o){return r?(o===void 0&&(o=function(u,a){return u[r]-a[r]}),l(this.list,o),this):this},getByName:function(r){return g.GetFirst(this.list,"name",r)},getRandom:function(r,o){return g.GetRandom(this.list,r,o)},getFirst:function(r,o,u,a){return g.GetFirst(this.list,r,o,u,a)},getAll:function(r,o,u,a){return g.GetAll(this.list,r,o,u,a)},count:function(r,o){return g.CountAllMatching(this.list,r,o)},swap:function(r,o){g.Swap(this.list,r,o)},moveTo:function(r,o){return g.MoveTo(this.list,r,o)},moveAbove:function(r,o){return g.MoveAbove(this.list,r,o)},moveBelow:function(r,o){return g.MoveBelow(this.list,r,o)},remove:function(r,o){return o?g.Remove(this.list,r):g.Remove(this.list,r,this.removeCallback,this)},removeAt:function(r,o){return o?g.RemoveAt(this.list,r):g.RemoveAt(this.list,r,this.removeCallback,this)},removeBetween:function(r,o,u){return u?g.RemoveBetween(this.list,r,o):g.RemoveBetween(this.list,r,o,this.removeCallback,this)},removeAll:function(r){for(var o=this.list.length;o--;)this.remove(this.list[o],r);return this},bringToTop:function(r){return g.BringToTop(this.list,r)},sendToBack:function(r){return g.SendToBack(this.list,r)},moveUp:function(r){return g.MoveUp(this.list,r),r},moveDown:function(r){return g.MoveDown(this.list,r),r},reverse:function(){return this.list.reverse(),this},shuffle:function(){return g.Shuffle(this.list),this},replace:function(r,o){return g.Replace(this.list,r,o)},exists:function(r){return this.list.indexOf(r)>-1},setAll:function(r,o,u,a){return g.SetAll(this.list,r,o,u,a),this},each:function(r,o){for(var u=[null],a=2;a<arguments.length;a++)u.push(arguments[a]);for(a=0;a<this.list.length;a++)u[0]=this.list[a],r.apply(o,u)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});C.exports=h},90330:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l){this.entries={},this.size=0,this.setAll(l)},setAll:function(f){if(Array.isArray(f))for(var l=0;l<f.length;l++)this.set(f[l][0],f[l][1]);return this},set:function(f,l){return this.has(f)||this.size++,this.entries[f]=l,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],l=this.entries;for(var h in l)f.push(l[h]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],l=this.entries;for(var h in l)f.push(l[h]);return f},dump:function(){var f=this.entries;console.group("Map");for(var l in f)console.log(l,f[l]);console.groupEnd()},each:function(f){var l=this.entries;for(var h in l)if(f(h,l[h])===!1)break;return this},contains:function(f){var l=this.entries;for(var h in l)if(l[h]===f)return!0;return!1},merge:function(f,l){l===void 0&&(l=!1);var h=this.entries,r=f.entries;for(var o in r)h.hasOwnProperty(o)&&l?h[o]=r[o]:this.set(o,r[o]);return this}});C.exports=y},25774:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(82348),l=new g({Extends:y,initialize:function(){y.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(h){return this._active.indexOf(h)>-1},isPending:function(h){return this._toProcess>0&&this._pending.indexOf(h)>-1},isDestroying:function(h){return this._destroy.indexOf(h)>-1},add:function(h){return this.checkQueue&&this.isActive(h)&&!this.isDestroying(h)||this.isPending(h)||(this._pending.push(h),this._toProcess++),h},remove:function(h){if(this.isPending(h)){var r=this._pending,o=r.indexOf(h);o!==-1&&r.splice(o,1)}else this.isActive(h)&&(this._destroy.push(h),this._toProcess++);return h},removeAll:function(){for(var h=this._active,r=this._destroy,o=h.length;o--;)r.push(h[o]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var h=this._destroy,r=this._active,o,u;for(o=0;o<h.length;o++){u=h[o];var a=r.indexOf(u);a!==-1&&(r.splice(a,1),this.emit(f.PROCESS_QUEUE_REMOVE,u))}for(h.length=0,h=this._pending,o=0;o<h.length;o++)u=h[o],(!this.checkQueue||this.checkQueue&&r.indexOf(u)===-1)&&(r.push(u),this.emit(f.PROCESS_QUEUE_ADD,u));return h.length=0,this._toProcess=0,r},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});C.exports=l},59542:(C,A,s)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(43886);function y(P){if(!(this instanceof y))return new y(P);this._maxEntries=Math.max(4,P||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}y.prototype={all:function(){return this._all(this.data,[])},search:function(P){var w=this.data,R=[],b=this.toBBox;if(!m(P,w))return R;for(var O=[],I,D,B,k;w;){for(I=0,D=w.children.length;I<D;I++)B=w.children[I],k=w.leaf?b(B):B,m(P,k)&&(w.leaf?R.push(B):v(P,k)?this._all(B,R):O.push(B));w=O.pop()}return R},collides:function(P){var w=this.data,R=this.toBBox;if(!m(P,w))return!1;for(var b=[],O,I,D,B;w;){for(O=0,I=w.children.length;O<I;O++)if(D=w.children[O],B=w.leaf?R(D):D,m(P,B)){if(w.leaf||v(P,B))return!0;b.push(D)}w=b.pop()}return!1},load:function(P){if(!(P&&P.length))return this;if(P.length<this._minEntries){for(var w=0,R=P.length;w<R;w++)this.insert(P[w]);return this}var b=this._build(P.slice(),0,P.length-1,0);if(!this.data.children.length)this.data=b;else if(this.data.height===b.height)this._splitRoot(this.data,b);else{if(this.data.height<b.height){var O=this.data;this.data=b,b=O}this._insert(b,this.data.height-b.height-1,!0)}return this},insert:function(P){return P&&this._insert(P,this.data.height-1),this},clear:function(){return this.data=T([]),this},remove:function(P,w){if(!P)return this;for(var R=this.data,b=this.toBBox(P),O=[],I=[],D,B,k,z;R||O.length;){if(R||(R=O.pop(),B=O[O.length-1],D=I.pop(),z=!0),R.leaf&&(k=f(P,R.children,w),k!==-1))return R.children.splice(k,1),O.push(R),this._condense(O),this;!z&&!R.leaf&&v(R,b)?(O.push(R),I.push(D),D=0,B=R,R=R.children[0]):B?(D++,R=B.children[D],z=!1):R=null}return this},toBBox:function(P){return P},compareMinX:o,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(P){return this.data=P,this},_all:function(P,w){for(var R=[];P;)P.leaf?w.push.apply(w,P.children):R.push.apply(R,P.children),P=R.pop();return w},_build:function(P,w,R,b){var O=R-w+1,I=this._maxEntries,D;if(O<=I)return D=T(P.slice(w,R+1)),l(D,this.toBBox),D;b||(b=Math.ceil(Math.log(O)/Math.log(I)),I=Math.ceil(O/Math.pow(I,b-1))),D=T([]),D.leaf=!1,D.height=b;var B=Math.ceil(O/I),k=B*Math.ceil(Math.sqrt(I)),z,X,K,H;for(E(P,w,R,k,this.compareMinX),z=w;z<=R;z+=k)for(K=Math.min(z+k-1,R),E(P,z,K,B,this.compareMinY),X=z;X<=K;X+=B)H=Math.min(X+B-1,K),D.children.push(this._build(P,X,H,b-1));return l(D,this.toBBox),D},_chooseSubtree:function(P,w,R,b){for(var O,I,D,B,k,z,X,K;b.push(w),!(w.leaf||b.length-1===R);){for(X=K=1/0,O=0,I=w.children.length;O<I;O++)D=w.children[O],k=a(D),z=c(P,D)-k,z<K?(K=z,X=k<X?k:X,B=D):z===K&&k<X&&(X=k,B=D);w=B||w.children[0]}return w},_insert:function(P,w,R){var b=this.toBBox,O=R?P:b(P),I=[],D=this._chooseSubtree(O,this.data,w,I);for(D.children.push(P),r(D,O);w>=0&&I[w].children.length>this._maxEntries;)this._split(I,w),w--;this._adjustParentBBoxes(O,I,w)},_split:function(P,w){var R=P[w],b=R.children.length,O=this._minEntries;this._chooseSplitAxis(R,O,b);var I=this._chooseSplitIndex(R,O,b),D=T(R.children.splice(I,R.children.length-I));D.height=R.height,D.leaf=R.leaf,l(R,this.toBBox),l(D,this.toBBox),w?P[w-1].children.push(D):this._splitRoot(R,D)},_splitRoot:function(P,w){this.data=T([P,w]),this.data.height=P.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(P,w,R){var b,O,I,D,B,k,z,X;for(k=z=1/0,b=w;b<=R-w;b++)O=h(P,0,b,this.toBBox),I=h(P,b,R,this.toBBox),D=p(O,I),B=a(O)+a(I),D<k?(k=D,X=b,z=B<z?B:z):D===k&&B<z&&(z=B,X=b);return X},_chooseSplitAxis:function(P,w,R){var b=P.leaf?this.compareMinX:o,O=P.leaf?this.compareMinY:u,I=this._allDistMargin(P,w,R,b),D=this._allDistMargin(P,w,R,O);I<D&&P.children.sort(b)},_allDistMargin:function(P,w,R,b){P.children.sort(b);var O=this.toBBox,I=h(P,0,w,O),D=h(P,R-w,R,O),B=d(I)+d(D),k,z;for(k=w;k<R-w;k++)z=P.children[k],r(I,P.leaf?O(z):z),B+=d(I);for(k=R-w-1;k>=w;k--)z=P.children[k],r(D,P.leaf?O(z):z),B+=d(D);return B},_adjustParentBBoxes:function(P,w,R){for(var b=R;b>=0;b--)r(w[b],P)},_condense:function(P){for(var w=P.length-1,R;w>=0;w--)P[w].children.length===0?w>0?(R=P[w-1].children,R.splice(R.indexOf(P[w]),1)):this.clear():l(P[w],this.toBBox)},compareMinX:function(P,w){return P.left-w.left},compareMinY:function(P,w){return P.top-w.top},toBBox:function(P){return{minX:P.left,minY:P.top,maxX:P.right,maxY:P.bottom}}};function f(P,w,R){if(!R)return w.indexOf(P);for(var b=0;b<w.length;b++)if(R(P,w[b]))return b;return-1}function l(P,w){h(P,0,P.children.length,w,P)}function h(P,w,R,b,O){O||(O=T(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var I=w,D;I<R;I++)D=P.children[I],r(O,P.leaf?b(D):D);return O}function r(P,w){return P.minX=Math.min(P.minX,w.minX),P.minY=Math.min(P.minY,w.minY),P.maxX=Math.max(P.maxX,w.maxX),P.maxY=Math.max(P.maxY,w.maxY),P}function o(P,w){return P.minX-w.minX}function u(P,w){return P.minY-w.minY}function a(P){return(P.maxX-P.minX)*(P.maxY-P.minY)}function d(P){return P.maxX-P.minX+(P.maxY-P.minY)}function c(P,w){return(Math.max(w.maxX,P.maxX)-Math.min(w.minX,P.minX))*(Math.max(w.maxY,P.maxY)-Math.min(w.minY,P.minY))}function p(P,w){var R=Math.max(P.minX,w.minX),b=Math.max(P.minY,w.minY),O=Math.min(P.maxX,w.maxX),I=Math.min(P.maxY,w.maxY);return Math.max(0,O-R)*Math.max(0,I-b)}function v(P,w){return P.minX<=w.minX&&P.minY<=w.minY&&w.maxX<=P.maxX&&w.maxY<=P.maxY}function m(P,w){return w.minX<=P.maxX&&w.minY<=P.maxY&&w.maxX>=P.minX&&w.maxY>=P.minY}function T(P){return{children:P,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function E(P,w,R,b,O){for(var I=[w,R],D;I.length;)R=I.pop(),w=I.pop(),!(R-w<=b)&&(D=w+Math.ceil((R-w)/b/2)*b,g(P,D,w,R,O),I.push(w,D,D,R))}C.exports=y},35072:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l){if(this.entries=[],Array.isArray(l))for(var h=0;h<l.length;h++)this.set(l[h])},set:function(f){return this.entries.indexOf(f)===-1&&this.entries.push(f),this},get:function(f,l){for(var h=0;h<this.entries.length;h++){var r=this.entries[h];if(r[f]===l)return r}},getArray:function(){return this.entries.slice(0)},delete:function(f){var l=this.entries.indexOf(f);return l>-1&&this.entries.splice(l,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++){var l=this.entries[f];console.log(l)}console.groupEnd()},each:function(f,l){var h,r=this.entries.slice(),o=r.length;if(l)for(h=0;h<o&&f.call(l,r[h],h)!==!1;h++);else for(h=0;h<o&&f(r[h],h)!==!1;h++);return this},iterate:function(f,l){var h,r=this.entries.length;if(l)for(h=0;h<r&&f.call(l,this.entries[h],h)!==!1;h++);else for(h=0;h<r&&f(this.entries[h],h)!==!1;h++);return this},iterateLocal:function(f){var l,h=[];for(l=1;l<arguments.length;l++)h.push(arguments[l]);var r=this.entries.length;for(l=0;l<r;l++){var o=this.entries[l];o[f].apply(o,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var l=new y;return f.entries.forEach(function(h){l.set(h)}),this.entries.forEach(function(h){l.set(h)}),l},intersect:function(f){var l=new y;return this.entries.forEach(function(h){f.contains(h)&&l.set(h)}),l},difference:function(f){var l=new y;return this.entries.forEach(function(h){f.contains(h)||l.set(h)}),l},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});C.exports=y},86555:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45319),y=s(83419),f=s(56583),l=s(26099),h=new y({initialize:function(o,u,a,d){o===void 0&&(o=0),u===void 0&&(u=o),a===void 0&&(a=0),d===void 0&&(d=null),this._width=o,this._height=u,this._parent=d,this.aspectMode=a,this.aspectRatio=u===0?1:o/u,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new l},setAspectMode:function(r){return r===void 0&&(r=0),this.aspectMode=r,this.setSize(this._width,this._height)},setSnap:function(r,o){return r===void 0&&(r=0),o===void 0&&(o=r),this.snapTo.set(r,o),this.setSize(this._width,this._height)},setParent:function(r){return this._parent=r,this.setSize(this._width,this._height)},setMin:function(r,o){return r===void 0&&(r=0),o===void 0&&(o=r),this.minWidth=g(r,0,this.maxWidth),this.minHeight=g(o,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(r,o){return r===void 0&&(r=Number.MAX_VALUE),o===void 0&&(o=r),this.maxWidth=g(r,this.minWidth,Number.MAX_VALUE),this.maxHeight=g(o,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(r,o){switch(r===void 0&&(r=0),o===void 0&&(o=r),this.aspectMode){case h.NONE:this._width=this.getNewWidth(f(r,this.snapTo.x)),this._height=this.getNewHeight(f(o,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(r,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(o,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(r,o,!0);break;case h.ENVELOP:this.constrain(r,o,!1);break}return this},setAspectRatio:function(r){return this.aspectRatio=r,this.setSize(this._width,this._height)},resize:function(r,o){return this._width=this.getNewWidth(f(r,this.snapTo.x)),this._height=this.getNewHeight(f(o,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(r,o){return o===void 0&&(o=!0),r=g(r,this.minWidth,this.maxWidth),o&&this._parent&&r>this._parent.width&&(r=Math.max(this.minWidth,this._parent.width)),r},getNewHeight:function(r,o){return o===void 0&&(o=!0),r=g(r,this.minHeight,this.maxHeight),o&&this._parent&&r>this._parent.height&&(r=Math.max(this.minHeight,this._parent.height)),r},constrain:function(r,o,u){r===void 0&&(r=0),o===void 0&&(o=r),u===void 0&&(u=!0),r=this.getNewWidth(r),o=this.getNewHeight(o);var a=this.snapTo,d=o===0?1:r/o;return u&&this.aspectRatio>d||!u&&this.aspectRatio<d?(r=f(r,a.x),o=r/this.aspectRatio,a.y>0&&(o=f(o,a.y),r=o*this.aspectRatio)):(u&&this.aspectRatio<d||!u&&this.aspectRatio>d)&&(o=f(o,a.y),r=o*this.aspectRatio,a.x>0&&(r=f(r,a.x),o=r*(1/this.aspectRatio))),this._width=r,this._height=o,this},fitTo:function(r,o){return this.constrain(r,o,!0)},envelop:function(r,o){return this.constrain(r,o,!1)},setWidth:function(r){return this.setSize(r,this._height)},setHeight:function(r){return this.setSize(this._width,r)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(r){r&&r.style&&(r.style.width=this._width+"px",r.style.height=this._height+"px")},copy:function(r){return r.setAspectMode(this.aspectMode),r.aspectRatio=this.aspectRatio,r.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(r){this.setSize(r,this._height)}},height:{get:function(){return this._height},set:function(r){this.setSize(this._width,r)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,C.exports=h},15238:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="add"},56187:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="remove"},82348:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={PROCESS_QUEUE_ADD:s(15238),PROCESS_QUEUE_REMOVE:s(56187)}},41392:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Events:s(82348),List:s(73162),Map:s(90330),ProcessQueue:s(25774),RTree:s(59542),Set:s(35072),Size:s(86555)}},57382:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(45319),f=s(40987),l=s(8054),h=s(50030),r=s(79237),o=new g({Extends:r,initialize:function(a,d,c,p,v){r.call(this,a,d,c,p,v),this.add("__BASE",0,0,0,p,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=p,this.height=v,this.imageData=this.context.getImageData(0,0,p,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===l.WEBGL&&this.refresh(),this},draw:function(u,a,d,c){return c===void 0&&(c=!0),this.context.drawImage(d,u,a),c&&this.update(),this},drawFrame:function(u,a,d,c,p){d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=!0);var v=this.manager.getFrame(u,a);if(v){var m=v.canvasData,T=v.cutWidth,E=v.cutHeight,P=v.source.resolution;this.context.drawImage(v.source.image,m.x,m.y,T,E,d,c,T/P,E/P),p&&this.update()}return this},setPixel:function(u,a,d,c,p,v){v===void 0&&(v=255),u=Math.abs(Math.floor(u)),a=Math.abs(Math.floor(a));var m=this.getIndex(u,a);if(m>-1){var T=this.context.getImageData(u,a,1,1);T.data[0]=d,T.data[1]=c,T.data[2]=p,T.data[3]=v,this.context.putImageData(T,u,a)}return this},putData:function(u,a,d,c,p,v,m){return c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=u.width),m===void 0&&(m=u.height),this.context.putImageData(u,a,d,c,p,v,m),this},getData:function(u,a,d,c){u=y(Math.floor(u),0,this.width-1),a=y(Math.floor(a),0,this.height-1),d=y(d,1,this.width-u),c=y(c,1,this.height-a);var p=this.context.getImageData(u,a,d,c);return p},getPixel:function(u,a,d){d||(d=new f);var c=this.getIndex(u,a);if(c>-1){var p=this.data,v=p[c+0],m=p[c+1],T=p[c+2],E=p[c+3];d.setTo(v,m,T,E)}return d},getPixels:function(u,a,d,c){u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=this.width),c===void 0&&(c=d),u=Math.abs(Math.round(u)),a=Math.abs(Math.round(a));for(var p=y(u,0,this.width),v=y(u+d,0,this.width),m=y(a,0,this.height),T=y(a+c,0,this.height),E=new f,P=[],w=m;w<T;w++){for(var R=[],b=p;b<v;b++)E=this.getPixel(b,w,E),R.push({x:b,y:w,color:E.color,alpha:E.alphaGL});P.push(R)}return P},getIndex:function(u,a){return u=Math.abs(Math.round(u)),a=Math.abs(Math.round(a)),u<this.width&&a<this.height?(u+a*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(u,a,d,c,p){return u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=this.width),c===void 0&&(c=this.height),p===void 0&&(p=!0),this.context.clearRect(u,a,d,c),p&&this.update(),this},setSize:function(u,a){return a===void 0&&(a=u),(u!==this.width||a!==this.height)&&(this.canvas.width=u,this.canvas.height=a,this._source.width=u,this._source.height=a,this._source.isPowerOf2=h(u,a),this.frames.__BASE.setSize(u,a,0,0),this.width=u,this.height=a,this.refresh()),this},destroy:function(){r.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});C.exports=o},81320:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(10312),y=s(38058),f=s(27919),l=s(83419),h=s(8054),r=s(4327),o=s(95540),u=s(36060),a=s(32302),d=s(79237),c=s(70554),p=new l({Extends:d,initialize:function(m,T,E,P,w){E===void 0&&(E=256),P===void 0&&(P=256),w===void 0&&(w=!0),this.type="DynamicTexture";var R=m.game.renderer,b=R&&R.type===h.CANVAS,O=b?f.create2D(this,E,P):[this];d.call(this,m,T,O,E,P),this.add("__BASE",0,0,0,E,P),this.renderer=R,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=b?O:null,this.context=b?O.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new y(0,0,E,P).setScene(m.game.scene.systemScene,!1),this.renderTarget=b?null:new a(R,E,P,1,0,!1,!1,!0,!1),this.pipeline=b?null:R.pipelines.get(u.SINGLE_PIPELINE),this.setSize(E,P,w)},setSize:function(v,m,T){m===void 0&&(m=v),T===void 0&&(T=!0),T&&(v=Math.floor(v),m=Math.floor(m),v%2!==0&&v++,m%2!==0&&m++);var E=this.get(),P=E.source;if(v!==this.width||m!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=m);var w=this.renderTarget;w&&(w.willResize(v,m)&&w.resize(v,m),w.texture!==P.glTexture&&this.renderer.deleteTexture(P.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,m),P.width=v,P.height=m,E.setSize(v,m),this.width=v,this.height=m}else{var R=this.getSourceImage();E.cutX+v>R.width&&(v=R.width-E.cutX),E.cutY+m>R.height&&(m=R.height-E.cutY),E.setSize(v,m,E.cutX,E.cutY)}return this},setFromRenderTarget:function(){var v=this.get(),m=v.source,T=this.renderTarget;return m.isRenderTexture=!0,m.isGLTexture=!0,m.glTexture=T.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,m,T,E,P,w){var R=this.camera,b=this.renderer;m===void 0&&(m=1),T===void 0&&(T=0),E===void 0&&(E=0),P===void 0&&(P=this.width),w===void 0&&(w=this.height);var O=v>>16&255,I=v>>8&255,D=v&255,B=this.renderTarget;if(R.preRender(),B){B.bind(!0);var k=this.pipeline.manager.set(this.pipeline),z=b.width/B.width,X=b.height/B.height,K=B.height-(E+w);k.drawFillRect(T*z,K*X,P*z,w*X,c.getTintFromFloats(D/255,I/255,O/255,1),m),B.unbind(!0)}else{var H=this.context;b.setContext(H),H.globalCompositeOperation="source-over",H.fillStyle="rgba("+O+","+I+","+D+","+m+")",H.fillRect(T,E,P,w),b.setContext()}return this.dirty=!0,this},clear:function(v,m,T,E){if(this.dirty){var P=this.context,w=this.renderTarget;w?w.clear(v,m,T,E):P&&(v!==void 0&&m!==void 0&&T!==void 0&&E!==void 0?P.clearRect(v,m,T,E):(P.save(),P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,this.width,this.height),P.restore())),this.dirty=!1}return this},stamp:function(v,m,T,E,P){T===void 0&&(T=0),E===void 0&&(E=0);var w=o(P,"alpha",1),R=o(P,"tint",16777215),b=o(P,"angle",0),O=o(P,"rotation",0),I=o(P,"scale",1),D=o(P,"scaleX",I),B=o(P,"scaleY",I),k=o(P,"originX",.5),z=o(P,"originY",.5),X=o(P,"blendMode",0),K=o(P,"erase",!1),H=o(P,"skipBatch",!1),Q=this.manager.resetStamp(w,R);return Q.setAngle(0),b!==0?Q.setAngle(b):O!==0&&Q.setRotation(O),Q.setScale(D,B),Q.setTexture(v,m),Q.setOrigin(k,z),Q.setBlendMode(X),K&&(this._eraseMode=!0),H?this.batchGameObject(Q,T,E):this.draw(Q,T,E),K&&(this._eraseMode=!1),this},erase:function(v,m,T){return this._eraseMode=!0,this.draw(v,m,T),this._eraseMode=!1,this},draw:function(v,m,T,E,P){return this.beginDraw(),this.batchDraw(v,m,T,E,P),this.endDraw(),this},drawFrame:function(v,m,T,E,P,w){return this.beginDraw(),this.batchDrawFrame(v,m,T,E,P,w),this.endDraw(),this},repeat:function(v,m,T,E,P,w,R,b,O){if(T===void 0&&(T=0),E===void 0&&(E=0),P===void 0&&(P=this.width),w===void 0&&(w=this.height),R===void 0&&(R=1),b===void 0&&(b=16777215),O===void 0&&(O=!1),v instanceof r?m=v:m=this.manager.getFrame(v,m),!m)return this;var I=this.manager.resetStamp(R,b);I.setFrame(m),I.setOrigin(0);var D=m.width,B=m.height;P=Math.floor(P),w=Math.floor(w);var k=Math.ceil(P/D),z=Math.ceil(w/B),X=k*D-P,K=z*B-w;X>0&&(X=D-X),K>0&&(K=B-K),T<0&&(k+=Math.ceil(Math.abs(T)/D)),E<0&&(z+=Math.ceil(Math.abs(E)/B));var H=T,Q=E,W=!1,Y=this.manager.stampCrop.setTo(0,0,D,B);O||this.beginDraw();for(var N=0;N<z;N++){if(Q+B<0){Q+=B;continue}for(var Z=0;Z<k;Z++){if(W=!1,H+D<0){H+=D;continue}else H<0&&(W=!0,Y.width=D+H,Y.x=D-Y.width);Q<0&&(W=!0,Y.height=B+Q,Y.y=B-Y.height),X>0&&Z===k-1&&(W=!0,Y.width=X),K>0&&N===z-1&&(W=!0,Y.height=K),W&&I.setCrop(Y),this.batchGameObject(I,H,Q),I.isCropped=!1,Y.setTo(0,0,D,B),H+=D}H=T,Q+=B}return O||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,m=this.renderer,T=this.renderTarget;v.preRender(),T?m.beginCapture(T.width,T.height):m.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,m,T,E,P){return Array.isArray(v)||(v=[v]),this.batchList(v,m,T,E,P),this},batchDrawFrame:function(v,m,T,E,P,w){T===void 0&&(T=0),E===void 0&&(E=0),P===void 0&&(P=1),w===void 0&&(w=16777215);var R=this.manager.getFrame(v,m);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,T,E,w,P,this.camera.matrix,null):this.batchTextureFrame(R,T,E,P,w)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var m=this.renderer,T=this.renderTarget;if(T){var E=m.endCapture(),P=m.pipelines.setUtility();P.blitFrame(E,T,1,!1,!1,v,this.isSpriteTexture),m.resetScissor(),m.resetViewport()}else m.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,m,T,E,P){var w=v.length;if(w!==0)for(var R=0;R<w;R++){var b=v[R];!b||b===this||(b.renderWebGL||b.renderCanvas?this.batchGameObject(b,m,T):b.isParent||b.list?this.batchGroup(b.getChildren(),m,T):typeof b=="string"?this.batchTextureFrameKey(b,null,m,T,E,P):b instanceof r?this.batchTextureFrame(b,m,T,E,P):Array.isArray(b)&&this.batchList(b,m,T,E,P))}},batchGroup:function(v,m,T){m===void 0&&(m=0),T===void 0&&(T=0);for(var E=0;E<v.length;E++){var P=v[E];P.willRender(this.camera)&&this.batchGameObject(P,P.x+m,P.y+T)}},batchGameObject:function(v,m,T){m===void 0&&(m=v.x),T===void 0&&(T=v.y);var E=v.x,P=v.y,w=this.camera,R=this.renderer,b=this._eraseMode,O=v.mask;if(v.setPosition(m,T),this.canvas){if(b){var I=v.blendMode;v.blendMode=g.ERASE}O&&O.preRenderCanvas(R,v,w),v.renderCanvas(R,v,w,null),O&&O.postRenderCanvas(R,v,w),b&&(v.blendMode=I)}else R&&(O&&O.preRenderWebGL(R,v,w),b||R.setBlendMode(v.blendMode),v.renderWebGL(R,v,w),O&&O.postRenderWebGL(R,w,this.renderTarget));v.setPosition(E,P)},batchTextureFrameKey:function(v,m,T,E,P,w){var R=this.manager.getFrame(v,m);R&&this.batchTextureFrame(R,T,E,P,w)},batchTextureFrame:function(v,m,T,E,P){m===void 0&&(m=0),T===void 0&&(T=0),E===void 0&&(E=1),P===void 0&&(P=16777215);var w=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(v,m,T,P,E,w,null);else{var b=this.context,O=v.canvasData,I=v.source.image;b.save(),b.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",b.globalAlpha=E,w.setToContext(b),O.width>0&&O.height>0&&b.drawImage(I,O.x,O.y,O.width,O.height,m,T,O.width,O.height),b.restore()}},snapshotArea:function(v,m,T,E,P,w,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,P,!1,v,m,T,E,w,R):this.renderer.snapshotCanvas(this.canvas,P,!1,v,m,T,E,w,R),this},snapshot:function(v,m,T){return this.snapshotArea(0,0,this.width,this.height,v,m,T)},snapshotPixel:function(v,m,T){return this.snapshotArea(v,m,1,1,T,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,m,T,E){var P=this.manager.resetStamp();P.setTexture(this),P.setOrigin(0),P.renderWebGL(v,P,T,E)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),d.prototype.destroy.call(this),f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});C.exports=p},4327:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(45319),f=s(79291),l=new g({initialize:function(r,o,u,a,d,c,p){this.texture=r,this.name=o,this.source=r.source[u],this.sourceIndex=u,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(c,p,a,d)},setCutPosition:function(h,r){return h===void 0&&(h=0),r===void 0&&(r=0),this.cutX=h,this.cutY=r,this.updateUVs()},setCutSize:function(h,r){return this.cutWidth=h,this.cutHeight=r,this.updateUVs()},setSize:function(h,r,o,u){o===void 0&&(o=0),u===void 0&&(u=0),this.setCutPosition(o,u),this.setCutSize(h,r),this.width=h,this.height=r,this.halfWidth=Math.floor(h*.5),this.halfHeight=Math.floor(r*.5),this.centerX=Math.floor(h/2),this.centerY=Math.floor(r/2);var a=this.data,d=a.cut;d.x=o,d.y=u,d.w=h,d.h=r,d.r=o+h,d.b=u+r,a.sourceSize.w=h,a.sourceSize.h=r,a.spriteSourceSize.w=h,a.spriteSourceSize.h=r,a.radius=.5*Math.sqrt(h*h+r*r);var c=a.drawImage;return c.x=o,c.y=u,c.width=h,c.height=r,this.updateUVs()},setTrim:function(h,r,o,u,a,d){var c=this.data,p=c.spriteSourceSize;return c.trim=!0,c.sourceSize.w=h,c.sourceSize.h=r,p.x=o,p.y=u,p.w=a,p.h=d,p.r=o+a,p.b=u+d,this.x=o,this.y=u,this.width=a,this.height=d,this.halfWidth=a*.5,this.halfHeight=d*.5,this.centerX=Math.floor(a/2),this.centerY=Math.floor(d/2),this.updateUVs()},setScale9:function(h,r,o,u){var a=this.data;return a.scale9=!0,a.is3Slice=r===0&&u===this.height,a.scale9Borders.x=h,a.scale9Borders.y=r,a.scale9Borders.w=o,a.scale9Borders.h=u,this},setCropUVs:function(h,r,o,u,a,d,c){var p=this.cutX,v=this.cutY,m=this.cutWidth,T=this.cutHeight,E=this.realWidth,P=this.realHeight;r=y(r,0,E),o=y(o,0,P),u=y(u,0,E-r),a=y(a,0,P-o);var w=p+r,R=v+o,b=u,O=a,I=this.data;if(I.trim){var D=I.spriteSourceSize;u=y(u,0,D.x+m-r),a=y(a,0,D.y+T-o);var B=r+u,k=o+a,z=!(D.r<r||D.b<o||D.x>B||D.y>k);if(z){var X=Math.max(D.x,r),K=Math.max(D.y,o),H=Math.min(D.r,B)-X,Q=Math.min(D.b,k)-K;b=H,O=Q,d?w=p+(m-(X-D.x)-H):w=p+(X-D.x),c?R=v+(T-(K-D.y)-Q):R=v+(K-D.y),r=X,o=K,u=H,a=Q}else w=0,R=0,b=0,O=0}else d&&(w=p+(m-r-u)),c&&(R=v+(T-o-a));var W=this.source.width,Y=this.source.height;return h.u0=Math.max(0,w/W),h.v0=Math.max(0,R/Y),h.u1=Math.min(1,(w+b)/W),h.v1=Math.min(1,(R+O)/Y),h.x=r,h.y=o,h.cx=w,h.cy=R,h.cw=b,h.ch=O,h.width=u,h.height=a,h.flipX=d,h.flipY=c,h},updateCropUVs:function(h,r,o){return this.setCropUVs(h,h.x,h.y,h.width,h.height,r,o)},setUVs:function(h,r,o,u,a,d){var c=this.data.drawImage;return c.width=h,c.height=r,this.u0=o,this.v0=u,this.u1=a,this.v1=d,this},updateUVs:function(){var h=this.cutX,r=this.cutY,o=this.cutWidth,u=this.cutHeight,a=this.data.drawImage;a.width=o,a.height=u;var d=this.source.width,c=this.source.height;return this.u0=h/d,this.v0=r/c,this.u1=(h+o)/d,this.v1=(r+u)/c,this},updateUVsInverted:function(){var h=this.source.width,r=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/r,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/r,this},clone:function(){var h=new l(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=f(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});C.exports=l},79237:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(4327),f=s(11876),l='Texture "%s" has no frame "%s"',h=new g({initialize:function(o,u,a,d,c){Array.isArray(a)||(a=[a]),this.manager=o,this.key=u,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var p=0;p<a.length;p++)this.source.push(new f(this,a[p],d,c))},add:function(r,o,u,a,d,c){if(this.has(r))return null;var p=new y(this,r,o,u,a,d,c);return this.frames[r]=p,this.firstFrame==="__BASE"&&(this.firstFrame=r),this.frameTotal++,p},remove:function(r){if(this.has(r)){var o=this.get(r);return o.destroy(),delete this.frames[r],!0}return!1},has:function(r){return this.frames.hasOwnProperty(r)},get:function(r){r||(r=this.firstFrame);var o=this.frames[r];return o||(console.warn(l,this.key,r),o=this.frames[this.firstFrame]),o},getTextureSourceIndex:function(r){for(var o=0;o<this.source.length;o++)if(this.source[o]===r)return o;return-1},getFramesFromTextureSource:function(r,o){o===void 0&&(o=!1);var u=[];for(var a in this.frames)if(!(a==="__BASE"&&!o)){var d=this.frames[a];d.sourceIndex===r&&u.push(d)}return u},getFrameBounds:function(r){r===void 0&&(r=0);for(var o=this.getFramesFromTextureSource(r,!0),u=o[0],a=u.cutX,d=u.cutY,c=u.cutX+u.cutWidth,p=u.cutY+u.cutHeight,v=1;v<o.length;v++){var m=o[v];m.cutX<a&&(a=m.cutX),m.cutY<d&&(d=m.cutY),m.cutX+m.cutWidth>c&&(c=m.cutX+m.cutWidth),m.cutY+m.cutHeight>p&&(p=m.cutY+m.cutHeight)}return{x:a,y:d,width:c-a,height:p-d}},getFrameNames:function(r){r===void 0&&(r=!1);var o=Object.keys(this.frames);if(!r){var u=o.indexOf("__BASE");u!==-1&&o.splice(u,1)}return o},getSourceImage:function(r){(r==null||this.frameTotal===1)&&(r="__BASE");var o=this.frames[r];return o?o.source.image:(console.warn(l,this.key,r),this.frames.__BASE.source.image)},getDataSourceImage:function(r){(r==null||this.frameTotal===1)&&(r="__BASE");var o=this.frames[r],u;return o?u=o.sourceIndex:(console.warn(l,this.key,r),u=this.frames.__BASE.sourceIndex),this.dataSource[u].image},setDataSource:function(r){Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var u=this.source[o];this.dataSource.push(new f(this,r[o],u.width,u.height))}},setFilter:function(r){var o;for(o=0;o<this.source.length;o++)this.source[o].setFilter(r);for(o=0;o<this.dataSource.length;o++)this.dataSource[o].setFilter(r)},destroy:function(){var r,o=this.source,u=this.dataSource;for(r=0;r<o.length;r++)o[r]&&o[r].destroy();for(r=0;r<u.length;r++)u[r]&&u[r].destroy();for(var a in this.frames){var d=this.frames[a];d&&d.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});C.exports=h},17130:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=s(57382),f=s(83419),l=s(40987),h=s(8054),r=s(81320),o=s(50792),u=s(69442),a=s(4327),d=s(8443),c=s(99584),p=s(35154),v=s(88571),m=s(41212),T=s(61309),E=s(87841),P=s(79237),w=new f({Extends:o,initialize:function(b){o.call(this),this.game=b,this.name="TextureManager",this.list={},this._tempCanvas=g.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new E,this.silentWarnings=!1,b.events.once(d.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(u.LOAD,this.updatePending,this),this.on(u.ERROR,this.updatePending,this);var R=this.game.config;R.defaultImage!==null&&this.addBase64("__DEFAULT",R.defaultImage),R.missingImage!==null&&this.addBase64("__MISSING",R.missingImage),R.whiteImage!==null&&this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(d.DESTROY,this.destroy,this),this.game.events.once(d.SYSTEM_READY,function(b){this.stamp=new v(b).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(u.LOAD),this.off(u.ERROR),this.emit(u.READY))},checkKey:function(R){return!R||typeof R!="string"||this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;var b=R.key;return this.list.hasOwnProperty(b)&&(R.destroy(),this.emit(u.REMOVE,b),this.emit(u.REMOVE_KEY+b)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,b){if(this.checkKey(R)){var O=this,I=new Image;I.onerror=function(){O.emit(u.ERROR,R)},I.onload=function(){var D=O.create(R,I);D&&(T.Image(D,0),O.emit(u.ADD,R,D),O.emit(u.ADD_KEY+R,D),O.emit(u.LOAD,R,D))},I.src=b}return this},getBase64:function(R,b,O,I){O===void 0&&(O="image/png"),I===void 0&&(I=.92);var D="",B=this.getFrame(R,b);if(B&&(B.source.isRenderTexture||B.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(B){var k=B.canvasData,z=g.create2D(this,k.width,k.height),X=z.getContext("2d",{willReadFrequently:!0});k.width>0&&k.height>0&&X.drawImage(B.source.image,k.x,k.y,k.width,k.height,0,0,k.width,k.height),D=z.toDataURL(O,I),g.remove(z)}return D},addImage:function(R,b,O){var I=null;return this.checkKey(R)&&(I=this.create(R,b),T.Image(I,0),O&&I.setDataSource(O),this.emit(u.ADD,R,I),this.emit(u.ADD_KEY+R,I)),I},addGLTexture:function(R,b){var O=null;if(this.checkKey(R)){var I=b.width,D=b.height;O=this.create(R,b,I,D),O.add("__BASE",0,0,0,I,D),this.emit(u.ADD,R,O),this.emit(u.ADD_KEY+R,O)}return O},addCompressedTexture:function(R,b,O){var I=null;if(this.checkKey(R)){if(I=this.create(R,b),I.add("__BASE",0,0,0,b.width,b.height),O){var D=function(k,z,X){Array.isArray(X.textures)||Array.isArray(X.frames)?T.JSONArray(k,z,X):T.JSONHash(k,z,X)};if(Array.isArray(O))for(var B=0;B<O.length;B++)D(I,B,O[B]);else D(I,0,O)}this.emit(u.ADD,R,I),this.emit(u.ADD_KEY+R,I)}return I},addRenderTexture:function(R,b){var O=null;return this.checkKey(R)&&(O=this.create(R,b),O.add("__BASE",0,0,0,b.width,b.height),this.emit(u.ADD,R,O),this.emit(u.ADD_KEY+R,O)),O},generate:function(R,b){if(this.checkKey(R)){var O=g.create(this,1,1);return b.canvas=O,c(b),this.addCanvas(R,O)}else return null},createCanvas:function(R,b,O){if(b===void 0&&(b=256),O===void 0&&(O=256),this.checkKey(R)){var I=g.create(this,b,O,h.CANVAS,!0);return this.addCanvas(R,I)}return null},addCanvas:function(R,b,O){O===void 0&&(O=!1);var I=null;return O?I=new y(this,R,b,b.width,b.height):this.checkKey(R)&&(I=new y(this,R,b,b.width,b.height),this.list[R]=I,this.emit(u.ADD,R,I),this.emit(u.ADD_KEY+R,I)),I},addDynamicTexture:function(R,b,O){var I=null;return typeof R=="string"&&!this.exists(R)?I=new r(this,R,b,O):(I=R,R=I.key),this.checkKey(R)?(this.list[R]=I,this.emit(u.ADD,R,I),this.emit(u.ADD_KEY+R,I)):I=null,I},addAtlas:function(R,b,O,I){return Array.isArray(O.textures)||Array.isArray(O.frames)?this.addAtlasJSONArray(R,b,O,I):this.addAtlasJSONHash(R,b,O,I)},addAtlasJSONArray:function(R,b,O,I){var D=null;if(b instanceof P?(R=b.key,D=b):this.checkKey(R)&&(D=this.create(R,b)),D){if(Array.isArray(O))for(var B=O.length===1,k=0;k<D.source.length;k++){var z=B?O[0]:O[k];T.JSONArray(D,k,z)}else T.JSONArray(D,0,O);I&&D.setDataSource(I),this.emit(u.ADD,R,D),this.emit(u.ADD_KEY+R,D)}return D},addAtlasJSONHash:function(R,b,O,I){var D=null;if(b instanceof P?(R=b.key,D=b):this.checkKey(R)&&(D=this.create(R,b)),D){if(Array.isArray(O))for(var B=0;B<O.length;B++)T.JSONHash(D,B,O[B]);else T.JSONHash(D,0,O);I&&D.setDataSource(I),this.emit(u.ADD,R,D),this.emit(u.ADD_KEY+R,D)}return D},addAtlasXML:function(R,b,O,I){var D=null;return b instanceof P?(R=b.key,D=b):this.checkKey(R)&&(D=this.create(R,b)),D&&(T.AtlasXML(D,0,O),I&&D.setDataSource(I),this.emit(u.ADD,R,D),this.emit(u.ADD_KEY+R,D)),D},addUnityAtlas:function(R,b,O,I){var D=null;return b instanceof P?(R=b.key,D=b):this.checkKey(R)&&(D=this.create(R,b)),D&&(T.UnityYAML(D,0,O),I&&D.setDataSource(I),this.emit(u.ADD,R,D),this.emit(u.ADD_KEY+R,D)),D},addSpriteSheet:function(R,b,O,I){var D=null;if(b instanceof P?(R=b.key,D=b):this.checkKey(R)&&(D=this.create(R,b)),D){var B=D.source[0].width,k=D.source[0].height;T.SpriteSheet(D,0,0,0,B,k,O),I&&D.setDataSource(I),this.emit(u.ADD,R,D),this.emit(u.ADD_KEY+R,D)}return D},addSpriteSheetFromAtlas:function(R,b){if(!this.checkKey(R))return null;var O=p(b,"atlas",null),I=p(b,"frame",null);if(!(!O||!I)){var D=this.get(O),B=D.get(I);if(B){var k=B.source.image;k||(k=B.source.glTexture);var z=this.create(R,k);return B.trimmed?T.SpriteSheetFromAtlas(z,B,b):T.SpriteSheet(z,0,B.cutX,B.cutY,B.cutWidth,B.cutHeight,b),this.emit(u.ADD,R,z),this.emit(u.ADD_KEY+R,z),z}}},addUint8Array:function(R,b,O,I){if(!this.checkKey(R)||b.length/4!==O*I)return null;var D=this.create(R,b,O,I);return D.add("__BASE",0,0,0,O,I),this.emit(u.ADD,R,D),this.emit(u.ADD_KEY+R,D),D},create:function(R,b,O,I){var D=null;return this.checkKey(R)&&(D=new P(this,R,b,O,I),this.list[R]=D),D},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof P?R:R instanceof a?R.texture:this.list.__MISSING},cloneFrame:function(R,b){if(this.list[R])return this.list[R].get(b).clone()},getFrame:function(R,b){if(this.list[R])return this.list[R].get(b)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(m(R))return this.getFrame(R.key,R.frame);if(R instanceof P)return R.get();if(R instanceof a)return R}else return},getTextureKeys:function(){var R=[];for(var b in this.list)b!=="__DEFAULT"&&b!=="__MISSING"&&b!=="__WHITE"&&b!=="__NORMAL"&&R.push(b);return R},getPixel:function(R,b,O,I){var D=this.getFrame(O,I);if(D){R-=D.x,b-=D.y;var B=D.data.cut;if(R+=B.x,b+=B.y,R>=B.x&&R<B.r&&b>=B.y&&b<B.b){var k=this._tempContext;k.clearRect(0,0,1,1),k.drawImage(D.source.image,R,b,1,1,0,0,1,1);var z=k.getImageData(0,0,1,1);return new l(z.data[0],z.data[1],z.data[2],z.data[3])}}return null},getPixelAlpha:function(R,b,O,I){var D=this.getFrame(O,I);if(D){R-=D.x,b-=D.y;var B=D.data.cut;if(R+=B.x,b+=B.y,R>=B.x&&R<B.r&&b>=B.y&&b<B.b){var k=this._tempContext;k.clearRect(0,0,1,1),k.drawImage(D.source.image,R,b,1,1,0,0,1,1);var z=k.getImageData(0,0,1,1);return z.data[3]}}return null},setTexture:function(R,b,O){return this.list[b]&&(R.texture=this.list[b],R.frame=R.texture.get(O)),R},renameTexture:function(R,b){var O=this.get(R);return O&&R!==b?(O.key=b,this.list[b]=O,delete this.list[R],!0):!1},each:function(R,b){for(var O=[null],I=1;I<arguments.length;I++)O.push(arguments[I]);for(var D in this.list)O[0]=this.list[D],R.apply(b,O)},resetStamp:function(R,b){R===void 0&&(R=1),b===void 0&&(b=16777215);var O=this.stamp;return O.setCrop(),O.setPosition(0),O.setAngle(0),O.setScale(1),O.setAlpha(R),O.setTint(b),O.setTexture("__WHITE"),O},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,g.remove(this._tempCanvas)}});C.exports=w},11876:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(27919),y=s(83419),f=s(50030),l=s(29795),h=s(82751),r=new y({initialize:function(u,a,d,c,p){p===void 0&&(p=!1);var v=u.manager.game;this.renderer=v.renderer,this.texture=u,this.source=a,this.image=a.compressed?null:a,this.compressionAlgorithm=a.compressed?a.format:null,this.resolution=1,this.width=d||a.naturalWidth||a.videoWidth||a.width||0,this.height=c||a.naturalHeight||a.videoHeight||a.height||0,this.scaleMode=l.DEFAULT,this.isCanvas=a instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&a instanceof HTMLVideoElement,this.isRenderTexture=a.type==="RenderTexture"||a.type==="DynamicTexture",this.isGLTexture=a instanceof h,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.flipY=p,this.init(v)},init:function(o){var u=this.renderer;if(u){var a=this.source;if(u.gl){var d=this.image,c=this.flipY,p=this.width,v=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=u.createCanvasTexture(d,!1,c):this.isVideo?this.glTexture=u.createVideoTexture(d,!1,c):this.isRenderTexture?this.glTexture=u.createTextureFromSource(null,p,v,m):this.isGLTexture?this.glTexture=a:this.compressionAlgorithm?this.glTexture=u.createTextureFromSource(a,void 0,void 0,m):a instanceof Uint8Array?this.glTexture=u.createUint8ArrayTexture(a,p,v,m):this.glTexture=u.createTextureFromSource(d,p,v,m)}else this.isRenderTexture&&(this.image=a.canvas)}o.config.antialias||this.setFilter(1)},setFilter:function(o){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,o),this.scaleMode=o},setFlipY:function(o){return o===void 0&&(o=!0),o===this.flipY?this:(this.flipY=o,this.update(),this)},update:function(){var o=this.renderer,u=this.image,a=this.flipY,d=o.gl;d&&this.isCanvas?o.updateCanvasTexture(u,this.glTexture,a):d&&this.isVideo&&o.updateVideoTexture(u,this.glTexture,a)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&g.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});C.exports=r},19673:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={LINEAR:0,NEAREST:1};C.exports=A},44538:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addtexture"},63486:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addtexture-"},94851:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="onerror"},29099:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="onload"},8678:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="ready"},86415:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removetexture"},30879:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removetexture-"},69442:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADD:s(44538),ADD_KEY:s(63486),ERROR:s(94851),LOAD:s(29099),READY:s(8678),REMOVE:s(86415),REMOVE_KEY:s(30879)}},27458:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=s(19673),f={CanvasTexture:s(57382),DynamicTexture:s(81320),Events:s(69442),FilterMode:y,Frame:s(4327),Parsers:s(61309),Texture:s(79237),TextureManager:s(17130),TextureSource:s(11876)};f=g(!1,f,y),C.exports=f},89905:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(!y.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var f=s.source[g];s.add("__BASE",g,0,0,f.width,f.height);for(var l=y.getElementsByTagName("SubTexture"),h,r=0;r<l.length;r++){var o=l[r].attributes,u=o.name.value,a=parseInt(o.x.value,10),d=parseInt(o.y.value,10),c=parseInt(o.width.value,10),p=parseInt(o.height.value,10);if(h=s.add(u,g,a,d,c,p),o.frameX){var v=Math.abs(parseInt(o.frameX.value,10)),m=Math.abs(parseInt(o.frameY.value,10)),T=parseInt(o.frameWidth.value,10),E=parseInt(o.frameHeight.value,10);h.setTrim(c,p,v,m,T,E)}}return s};C.exports=A},72893:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.source[g];return s.add("__BASE",g,0,0,y.width,y.height),s};C.exports=A},4832:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.source[g];return s.add("__BASE",g,0,0,y.width,y.height),s};C.exports=A},78566:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41786),y=function(f,l,h){if(!h.frames&&!h.textures){console.warn("Invalid Texture Atlas JSON Array");return}var r=f.source[l];f.add("__BASE",l,0,0,r.width,r.height);for(var o=Array.isArray(h.textures)?h.textures[l].frames:h.frames,u,a=0;a<o.length;a++){var d=o[a];if(u=f.add(d.filename,l,d.frame.x,d.frame.y,d.frame.w,d.frame.h),!u){console.warn("Invalid atlas json, frame already exists: "+d.filename);continue}d.trimmed&&u.setTrim(d.sourceSize.w,d.sourceSize.h,d.spriteSourceSize.x,d.spriteSourceSize.y,d.spriteSourceSize.w,d.spriteSourceSize.h),d.rotated&&(u.rotated=!0,u.updateUVsInverted());var c=d.anchor||d.pivot;c&&(u.customPivot=!0,u.pivotX=c.x,u.pivotY=c.y),d.scale9Borders&&u.setScale9(d.scale9Borders.x,d.scale9Borders.y,d.scale9Borders.w,d.scale9Borders.h),u.customData=g(d)}for(var p in h)p!=="frames"&&(Array.isArray(h[p])?f.customData[p]=h[p].slice(0):f.customData[p]=h[p]);return f};C.exports=y},39711:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41786),y=function(f,l,h){if(!h.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var r=f.source[l];f.add("__BASE",l,0,0,r.width,r.height);var o=h.frames,u;for(var a in o)if(o.hasOwnProperty(a)){var d=o[a];if(u=f.add(a,l,d.frame.x,d.frame.y,d.frame.w,d.frame.h),!u){console.warn("Invalid atlas json, frame already exists: "+a);continue}d.trimmed&&u.setTrim(d.sourceSize.w,d.sourceSize.h,d.spriteSourceSize.x,d.spriteSourceSize.y,d.spriteSourceSize.w,d.spriteSourceSize.h),d.rotated&&(u.rotated=!0,u.updateUVsInverted());var c=d.anchor||d.pivot;c&&(u.customPivot=!0,u.pivotX=c.x,u.pivotY=c.y),d.scale9Borders&&u.setScale9(d.scale9Borders.x,d.scale9Borders.y,d.scale9Borders.w,d.scale9Borders.h),u.customData=g(d)}for(var p in h)p!=="frames"&&(Array.isArray(h[p])?f.customData[p]=h[p].slice(0):f.customData[p]=h[p]);return f};C.exports=y},31403:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=[171,75,84,88,32,49,49,187,13,10,26,10],y,f=new Uint8Array(s,0,12);for(y=0;y<f.length;y++)if(f[y]!==g[y]){console.warn("KTXParser - Invalid file format");return}var l=Uint32Array.BYTES_PER_ELEMENT,h=new DataView(s,12,13*l),r=h.getUint32(0,!0)===67305985,o=h.getUint32(1*l,r);if(o!==0){console.warn("KTXParser - Only compressed formats supported");return}var u=h.getUint32(4*l,r),a=h.getUint32(6*l,r),d=h.getUint32(7*l,r),c=Math.max(1,h.getUint32(11*l,r)),p=h.getUint32(12*l,r),v=new Array(c),m=12+13*4+p,T=a,E=d;for(y=0;y<c;y++){var P=new Int32Array(s,m,1)[0];m+=4,v[y]={data:new Uint8Array(s,m,P),width:T,height:E},T=Math.max(1,T>>1),E=Math.max(1,E>>1),m+=P}return{mipmaps:v,width:a,height:d,internalFormat:u,compressed:!0,generateMipmap:!1}};C.exports=A},82038:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(b,O,I,D,B,k,z){return z===void 0&&(z=16),Math.floor((b+I)/B)*Math.floor((O+D)/k)*z}function s(b,O){return b=Math.max(b,16),O=Math.max(O,8),b*O/4}function g(b,O){return b=Math.max(b,8),O=Math.max(O,8),b*O/2}function y(b,O){return Math.ceil(b/4)*Math.ceil(O/4)*16}function f(b,O){return A(b,O,3,3,4,4,8)}function l(b,O){return A(b,O,3,3,4,4)}function h(b,O){return A(b,O,4,3,5,4)}function r(b,O){return A(b,O,4,4,5,5)}function o(b,O){return A(b,O,5,4,6,5)}function u(b,O){return A(b,O,5,5,6,6)}function a(b,O){return A(b,O,7,4,8,5)}function d(b,O){return A(b,O,7,5,8,6)}function c(b,O){return A(b,O,7,7,8,8)}function p(b,O){return A(b,O,9,4,10,5)}function v(b,O){return A(b,O,9,5,10,6)}function m(b,O){return A(b,O,9,7,10,8)}function T(b,O){return A(b,O,9,9,10,10)}function E(b,O){return A(b,O,11,9,12,10)}function P(b,O){return A(b,O,11,11,12,12)}var w={0:{sizeFunc:s,glFormat:[35841]},1:{sizeFunc:s,glFormat:[35843]},2:{sizeFunc:g,glFormat:[35840]},3:{sizeFunc:g,glFormat:[35842]},6:{sizeFunc:f,glFormat:[36196]},7:{sizeFunc:f,glFormat:[33776,35916]},8:{sizeFunc:l,glFormat:[33777,35917]},9:{sizeFunc:l,glFormat:[33778,35918]},11:{sizeFunc:l,glFormat:[33779,35919]},14:{sizeFunc:y,glFormat:[36494,36495]},15:{sizeFunc:y,glFormat:[36492,36493]},22:{sizeFunc:f,glFormat:[37492,37493]},23:{sizeFunc:l,glFormat:[37496,37497]},24:{sizeFunc:f,glFormat:[37494,37495]},25:{sizeFunc:f,glFormat:[37488]},26:{sizeFunc:l,glFormat:[37490]},27:{sizeFunc:l,glFormat:[37808,37840]},28:{sizeFunc:h,glFormat:[37809,37841]},29:{sizeFunc:r,glFormat:[37810,37842]},30:{sizeFunc:o,glFormat:[37811,37843]},31:{sizeFunc:u,glFormat:[37812,37844]},32:{sizeFunc:a,glFormat:[37813,37845]},33:{sizeFunc:d,glFormat:[37814,37846]},34:{sizeFunc:c,glFormat:[37815,37847]},35:{sizeFunc:p,glFormat:[37816,37848]},36:{sizeFunc:v,glFormat:[37817,37849]},37:{sizeFunc:m,glFormat:[37818,37850]},38:{sizeFunc:T,glFormat:[37819,37851]},39:{sizeFunc:E,glFormat:[37820,37852]},40:{sizeFunc:P,glFormat:[37821,37853]}},R=function(b){for(var O=new Uint32Array(b,0,13),I=O[0],D=I===55727696,B=D?O[2]:O[3],k=O[4],z=w[B].glFormat[k],X=w[B].sizeFunc,K=O[11],H=O[7],Q=O[6],W=52+O[12],Y=new Uint8Array(b,W),N=new Array(K),Z=0,U=H,j=Q,et=0;et<K;et++){var it=X(U,j);N[et]={data:new Uint8Array(Y.buffer,Y.byteOffset+Z,it),width:U,height:j},U=Math.max(1,U>>1),j=Math.max(1,j>>1),Z+=it}return{mipmaps:N,width:H,height:Q,internalFormat:z,compressed:!0,generateMipmap:!1}};C.exports=R},75549:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=function(f,l,h,r,o,u,a){var d=g(a,"frameWidth",null),c=g(a,"frameHeight",d);if(d===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var p=f.source[l];f.add("__BASE",l,0,0,p.width,p.height);var v=g(a,"startFrame",0),m=g(a,"endFrame",-1),T=g(a,"margin",0),E=g(a,"spacing",0),P=Math.floor((o-T+E)/(d+E)),w=Math.floor((u-T+E)/(c+E)),R=P*w;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(v>R||v<-R)&&(v=0),v<0&&(v=R+v),(m===-1||m>R||m<v)&&(m=R);for(var b=T,O=T,I=0,D=0,B=0,k=0;k<R;k++){I=0,D=0;var z=b+d,X=O+c;z>o&&(I=z-o),X>u&&(D=X-u),k>=v&&k<=m&&(f.add(B,l,h+b,r+O,d-I,c-D),B++),b+=d+E,b+d>o&&(b=T,O+=c+E)}return f};C.exports=y},47534:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=function(f,l,h){var r=g(h,"frameWidth",null),o=g(h,"frameHeight",r);if(!r)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var u=f.source[0];f.add("__BASE",0,0,0,u.width,u.height),g(h,"startFrame",0),g(h,"endFrame",-1);for(var a=g(h,"margin",0),d=g(h,"spacing",0),c=l.cutX,p=l.cutY,v=l.cutWidth,m=l.cutHeight,T=l.realWidth,E=l.realHeight,P=Math.floor((T-a+d)/(r+d)),w=Math.floor((E-a+d)/(o+d)),R=l.x,b=r-R,O=r-(T-v-R),I=l.y,D=o-I,B=o-(E-m-I),k,z=a,X=a,K=0,H=0,Q=0;Q<w;Q++){for(var W=Q===0,Y=Q===w-1,N=0;N<P;N++){var Z=N===0,U=N===P-1;if(k=f.add(K,H,c+z,p+X,r,o),Z||W||U||Y){var j=Z?R:0,et=W?I:0,it=0,rt=0;Z&&(it+=r-b),U&&(it+=r-O),W&&(rt+=o-D),Y&&(rt+=o-B);var lt=r-it,ft=o-rt;k.cutWidth=lt,k.cutHeight=ft,k.setTrim(r,o,j,et,lt,ft)}z+=d,Z?z+=b:U?z+=O:z+=r,K++}z=a,X+=d,W?X+=D:Y?X+=B:X+=o}return f};C.exports=y},86147:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=0,s=function(y,f,l,h){var r=A-h.y-h.height;y.add(l,f,h.x,r,h.width,h.height)},g=function(y,f,l){var h=y.source[f];y.add("__BASE",f,0,0,h.width,h.height),A=h.height;for(var r=l.split(`
`),o=/^[ ]*(- )*(\w+)+[: ]+(.*)/,u="",a="",d={x:0,y:0,width:0,height:0},c=0;c<r.length;c++){var p=r[c].match(o);if(p){var v=p[1]==="- ",m=p[2],T=p[3];if(v&&(a!==u&&(s(y,f,a,d),u=a),d={x:0,y:0,width:0,height:0}),m==="name"){a=T;continue}switch(m){case"x":case"y":case"width":case"height":d[m]=parseInt(T,10);break}}}return a!==u&&s(y,f,a,d),y};C.exports=g},55222:(C,A,s)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(50030),y=function(u){for(var a=u.mipmaps,d=1;d<a.length;d++){var c=a[d].width,p=a[d].height;if(!g(c,p))return console.warn("Mip level "+d+" is not a power-of-two size: "+c+"x"+p),!1}var v=o[u.internalFormat];return v?v(u):(console.warn("No format checker found for internal format "+u.internalFormat+". Assuming valid."),!0)};function f(u){for(var a=u.mipmaps,d=0;d<a.length;d++){var c=a[d].width,p=a[d].height;if((c<<d)%4!==0||(p<<d)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+d+" is "+c+"x"+p),!1}return!0}function l(){return!0}function h(u){var a=u.mipmaps,d=a[0];return g(d.width,d.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+d.width+"x"+d.height),!1)}function r(u){var a=u.mipmaps,d=a[0];return d.width%4!==0||d.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+d.width+"x"+d.height+" pixels"),!1):!0}var o={37488:l,37489:l,37490:l,37491:l,37492:l,37493:l,37494:l,37495:l,37496:l,37497:l,36196:l,37808:l,37809:l,37810:l,37811:l,37812:l,37813:l,37814:l,37815:l,37816:l,37817:l,37818:l,37819:l,37820:l,37821:l,37840:l,37841:l,37842:l,37843:l,37844:l,37845:l,37846:l,37847:l,37848:l,37849:l,37850:l,37851:l,37852:l,37853:l,36492:f,36493:f,36494:f,36495:f,36283:f,36284:f,36285:f,36286:f,35840:h,35841:h,35842:h,35843:h,33776:f,33777:f,33778:f,33779:f,35916:r,35917:r,35918:r,35919:r};C.exports=y},61309:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AtlasXML:s(89905),Canvas:s(72893),Image:s(4832),JSONArray:s(78566),JSONHash:s(39711),KTXParser:s(31403),PVRParser:s(82038),SpriteSheet:s(75549),SpriteSheetFromAtlas:s(47534),UnityYAML:s(86147)}},80341:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l,h,r,o,u,a,d){(r===void 0||r<=0)&&(r=32),(o===void 0||o<=0)&&(o=32),u===void 0&&(u=0),a===void 0&&(a=0),this.name=l,this.firstgid=h|0,this.imageWidth=r|0,this.imageHeight=o|0,this.imageMargin=u|0,this.imageSpacing=a|0,this.properties=d||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,l,h,r){return this.images.push({gid:f,image:l,width:h,height:r}),this.total++,this}});C.exports=y},27462:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=new g({initialize:function(l){if(this.gids=[],l!==void 0)for(var h=0;h<l.length;++h)for(var r=l[h],o=0;o<r.total;++o)this.gids[r.firstgid+o]=r;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(f){this.gids=f?this._gids:void 0}},getTypeIncludingTile:function(f){if(f.type!==void 0&&f.type!=="")return f.type;if(!(!this.gids||f.gid===void 0)){var l=this.gids[f.gid];if(l){var h=l.getTileData(f.gid);if(h)return h.type}}},setTextureAndFrame:function(f,l,h,r){if(l===null&&this.gids&&r.gid!==void 0){var o=this.gids[r.gid];o&&(l===null&&o.image!==void 0&&(l=o.image.key),h===null&&(h=r.gid-o.firstgid),f.scene.textures.getFrame(l,h)||(l=null,h=null))}f.setTexture(l,h)},setPropertiesFromTiledObject:function(f,l){if(this.gids!==void 0&&l.gid!==void 0){var h=this.gids[l.gid];h!==void 0&&this.setFromJSON(f,h.getTileProperties(l.gid))}this.setFromJSON(f,l.properties)},setFromJSON:function(f,l){if(l){if(Array.isArray(l)){for(var h=0;h<l.length;h++){var r=l[h];f[r.name]!==void 0?f[r.name]=r.value:f.setData(r.name,r.value)}return}for(var o in l)f[o]!==void 0?f[o]=l[o]:f.setData(o,l[o])}}});C.exports=y},31989:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80341),y=s(87010),f=s(46177),l=s(49075),h=function(r,o,u,a,d,c,p,v){u===void 0&&(u=32),a===void 0&&(a=32),d===void 0&&(d=10),c===void 0&&(c=10),v===void 0&&(v=!1);var m=null;if(Array.isArray(p)){var T=o!==void 0?o:"map";m=f(T,g.ARRAY_2D,p,u,a,v)}else if(o!==void 0){var E=r.cache.tilemap.get(o);E?m=f(o,E.format,E.data,u,a,v):console.warn("No map data found for key "+o)}return m===null&&(m=new y({tileWidth:u,tileHeight:a,width:d,height:c})),new l(r,m)};C.exports=h},23029:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(31401),f=s(91907),l=s(62644),h=s(93232),r=new g({Mixins:[y.AlphaSingle,y.Flip,y.Visible],initialize:function(u,a,d,c,p,v,m,T){this.layer=u,this.index=a,this.x=d,this.y=c,this.width=p,this.height=v,this.right,this.bottom,this.baseWidth=m!==void 0?m:p,this.baseHeight=T!==void 0?T:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(o,u){return!(o<this.pixelX||u<this.pixelY||o>this.right||u>this.bottom)},copy:function(o){return this.index=o.index,this.alpha=o.alpha,this.properties=l(o.properties),this.visible=o.visible,this.setFlip(o.flipX,o.flipY),this.tint=o.tint,this.rotation=o.rotation,this.collideUp=o.collideUp,this.collideDown=o.collideDown,this.collideLeft=o.collideLeft,this.collideRight=o.collideRight,this.collisionCallback=o.collisionCallback,this.collisionCallbackContext=o.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(o){var u=this.tilemapLayer;if(u){var a=u.tileToWorldXY(this.x,this.y,void 0,o);return a.x}return this.x*this.baseWidth},getRight:function(o){var u=this.tilemapLayer;return u?this.getLeft(o)+this.width*u.scaleX:this.getLeft(o)+this.width},getTop:function(o){var u=this.tilemapLayer;if(u){var a=u.tileToWorldXY(this.x,this.y,void 0,o);return a.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(o){var u=this.tilemapLayer;return u?this.getTop(o)+this.height*u.scaleY:this.getTop(o)+this.height},getBounds:function(o,u){return u===void 0&&(u=new h),u.x=this.getLeft(o),u.y=this.getTop(o),u.width=this.getRight(o)-u.x,u.height=this.getBottom(o)-u.y,u},getCenterX:function(o){return(this.getLeft(o)+this.getRight(o))/2},getCenterY:function(o){return(this.getTop(o)+this.getBottom(o))/2},intersects:function(o,u,a,d){return!(a<=this.pixelX||d<=this.pixelY||o>=this.right||u>=this.bottom)},isInteresting:function(o,u){return o&&u?this.canCollide||this.hasInterestingFace:o?this.collides:u?this.hasInterestingFace:!1},resetCollision:function(o){if(o===void 0&&(o=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,o){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(o,u,a,d,c){if(u===void 0&&(u=o),a===void 0&&(a=o),d===void 0&&(d=o),c===void 0&&(c=!0),this.collideLeft=o,this.collideRight=u,this.collideUp=a,this.collideDown=d,this.faceLeft=o,this.faceRight=u,this.faceTop=a,this.faceBottom=d,c){var p=this.tilemapLayer;p&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(o,u){return o===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=o,this.collisionCallbackContext=u),this},setSize:function(o,u,a,d){return o!==void 0&&(this.width=o),u!==void 0&&(this.height=u),a!==void 0&&(this.baseWidth=a),d!==void 0&&(this.baseHeight=d),this.updatePixelXY(),this},updatePixelXY:function(){var o=this.layer.orientation;if(o===f.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(o===f.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(o===f.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(o===f.HEXAGONAL){var u=this.layer.staggerAxis,a=this.layer.staggerIndex,d=this.layer.hexSideLength,c,p;u==="y"?(p=(this.baseHeight-d)/2+d,a==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*p):u==="x"&&(c=(this.baseWidth-d)/2+d,this.pixelX=this.x*c,a==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var o=this.layer.tilemapLayer;if(o){var u=o.gidMap[this.index];if(u)return u}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var o=this.tilemapLayer;return o?o.tilemap:null}}});C.exports=r},49075:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(84101),y=s(83419),f=s(39506),l=s(80341),h=s(95540),r=s(14977),o=s(27462),u=s(91907),a=s(36305),d=s(19133),c=s(68287),p=s(23029),v=s(81086),m=s(20442),T=s(33629),E=new y({initialize:function(w,R){this.scene=w,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var b=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(b),WorldToTileX:v.GetWorldToTileXFunction(b),WorldToTileY:v.GetWorldToTileYFunction(b),TileToWorldXY:v.GetTileToWorldXYFunction(b),TileToWorldX:v.GetTileToWorldXFunction(b),TileToWorldY:v.GetTileToWorldYFunction(b),GetTileCorners:v.GetTileCornersFunction(b)}},setRenderOrder:function(P){var w=["right-down","left-down","right-up","left-up"];return typeof P=="number"&&(P=w[P]),w.indexOf(P)>-1&&(this.renderOrder=P),this},addTilesetImage:function(P,w,R,b,O,I,D,B){if(P===void 0)return null;w==null&&(w=P);var k=this.scene.sys.textures;if(!k.exists(w))return console.warn('Texture key "%s" not found',w),null;var z=k.get(w),X=this.getTilesetIndex(P);if(X===null&&this.format===l.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',P,this.tilesets),null;var K=this.tilesets[X];return K?((R||b)&&K.setTileSize(R,b),(O||I)&&K.setSpacing(O,I),K.setImage(z),K):(R===void 0&&(R=this.tileWidth),b===void 0&&(b=this.tileHeight),O===void 0&&(O=0),I===void 0&&(I=0),D===void 0&&(D=0),B===void 0&&(B={x:0,y:0}),K=new T(P,D,R,b,O,I,void 0,void 0,B),K.setImage(z),this.tilesets.push(K),this.tiles=g(this),K)},copy:function(P,w,R,b,O,I,D,B){return B=this.getLayer(B),B!==null?(v.Copy(P,w,R,b,O,I,D,B),this):null},createBlankLayer:function(P,w,R,b,O,I,D,B){R===void 0&&(R=0),b===void 0&&(b=0),O===void 0&&(O=this.width),I===void 0&&(I=this.height),D===void 0&&(D=this.tileWidth),B===void 0&&(B=this.tileHeight);var k=this.getLayerIndex(P);if(k!==null)return console.warn("Invalid Tilemap Layer ID: "+P),null;for(var z=new r({name:P,tileWidth:D,tileHeight:B,width:O,height:I,orientation:this.orientation,hexSideLength:this.hexSideLength}),X,K=0;K<I;K++){X=[];for(var H=0;H<O;H++)X.push(new p(z,-1,H,K,D,B,this.tileWidth,this.tileHeight));z.data.push(X)}this.layers.push(z),this.currentLayerIndex=this.layers.length-1;var Q=new m(this.scene,this,this.currentLayerIndex,w,R,b);return Q.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Q),Q},createLayer:function(P,w,R,b){var O=this.getLayerIndex(P);if(O===null)return console.warn("Invalid Tilemap Layer ID: "+P),typeof P=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var I=this.layers[O];if(I.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+P),null;this.currentLayerIndex=O,R===void 0&&(R=I.x),b===void 0&&(b=I.y);var D=new m(this.scene,this,O,w,R,b);return D.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(D),D},createFromObjects:function(P,w,R){R===void 0&&(R=!0);var b=[],O=this.getObjectLayer(P);if(!O)return console.warn("createFromObjects: Invalid objectLayerName given: "+P),b;var I=new o(R?this.tilesets:void 0);Array.isArray(w)||(w=[w]);for(var D=O.objects,B=0;B<w.length;B++){var k=w[B],z=h(k,"id",null),X=h(k,"gid",null),K=h(k,"name",null),H=h(k,"type",null);I.enabled=!h(k,"ignoreTileset",null);for(var Q,W=[],Y=0;Y<D.length;Y++)Q=D[Y],(z===null&&X===null&&K===null&&H===null||z!==null&&Q.id===z||X!==null&&Q.gid===X||K!==null&&Q.name===K||H!==null&&I.getTypeIncludingTile(Q)===H)&&W.push(Q);for(var N=h(k,"classType",c),Z=h(k,"scene",this.scene),U=h(k,"container",null),j=h(k,"key",null),et=h(k,"frame",null),it=0;it<W.length;it++){Q=W[it];var rt=new N(Z);if(rt.setName(Q.name),rt.setPosition(Q.x,Q.y),I.setTextureAndFrame(rt,j,et,Q),Q.width&&(rt.displayWidth=Q.width),Q.height&&(rt.displayHeight=Q.height),this.orientation===u.ISOMETRIC){var lt=this.tileWidth/this.tileHeight,ft={x:rt.x-rt.y,y:(rt.x+rt.y)/lt};rt.x=ft.x,rt.y=ft.y}var pt={x:rt.originX*Q.width,y:(rt.originY-(Q.gid?1:0))*Q.height};if(Q.rotation){var vt=f(Q.rotation);a(pt,vt),rt.rotation=vt}rt.x+=pt.x,rt.y+=pt.y,(Q.flippedHorizontal!==void 0||Q.flippedVertical!==void 0)&&rt.setFlip(Q.flippedHorizontal,Q.flippedVertical),Q.visible||(rt.visible=!1),I.setPropertiesFromTiledObject(rt,Q),U?U.add(rt):Z.add.existing(rt),b.push(rt)}}return b},createFromTiles:function(P,w,R,b,O,I){return I=this.getLayer(I),I===null?null:v.CreateFromTiles(P,w,R,b,O,I)},fill:function(P,w,R,b,O,I,D){return I===void 0&&(I=!0),D=this.getLayer(D),D===null?null:(v.Fill(P,w,R,b,O,I,D),this)},filterObjects:function(P,w,R){if(typeof P=="string"){var b=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+b),null}return P.objects.filter(w,R)},filterTiles:function(P,w,R,b,O,I,D,B){return B=this.getLayer(B),B===null?null:v.FilterTiles(P,w,R,b,O,I,D,B)},findByIndex:function(P,w,R,b){return b=this.getLayer(b),b===null?null:v.FindByIndex(P,w,R,b)},findObject:function(P,w,R){if(typeof P=="string"){var b=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+b),null}return P.objects.find(w,R)||null},findTile:function(P,w,R,b,O,I,D,B){return B=this.getLayer(B),B===null?null:v.FindTile(P,w,R,b,O,I,D,B)},forEachTile:function(P,w,R,b,O,I,D,B){return B=this.getLayer(B),B===null?null:(v.ForEachTile(P,w,R,b,O,I,D,B),this)},getImageIndex:function(P){return this.getIndex(this.images,P)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(P){return P.name})},getIndex:function(P,w){for(var R=0;R<P.length;R++)if(P[R].name===w)return R;return null},getLayer:function(P){var w=this.getLayerIndex(P);return w!==null?this.layers[w]:null},getObjectLayer:function(P){var w=this.getIndex(this.objects,P);return w!==null?this.objects[w]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(P){return P.name})},getLayerIndex:function(P){return P===void 0?this.currentLayerIndex:typeof P=="string"?this.getLayerIndexByName(P):typeof P=="number"&&P<this.layers.length?P:P instanceof m&&P.tilemap===this?P.layerIndex:null},getLayerIndexByName:function(P){return this.getIndex(this.layers,P)},getTileAt:function(P,w,R,b){return b=this.getLayer(b),b===null?null:v.GetTileAt(P,w,R,b)},getTileAtWorldXY:function(P,w,R,b,O){return O=this.getLayer(O),O===null?null:v.GetTileAtWorldXY(P,w,R,b,O)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(P){return P.name})},getTilesWithin:function(P,w,R,b,O,I){return I=this.getLayer(I),I===null?null:v.GetTilesWithin(P,w,R,b,O,I)},getTilesWithinShape:function(P,w,R,b){return b=this.getLayer(b),b===null?null:v.GetTilesWithinShape(P,w,R,b)},getTilesWithinWorldXY:function(P,w,R,b,O,I,D){return D=this.getLayer(D),D===null?null:v.GetTilesWithinWorldXY(P,w,R,b,O,I,D)},getTileset:function(P){var w=this.getIndex(this.tilesets,P);return w!==null?this.tilesets[w]:null},getTilesetIndex:function(P){return this.getIndex(this.tilesets,P)},hasTileAt:function(P,w,R){return R=this.getLayer(R),R===null?null:v.HasTileAt(P,w,R)},hasTileAtWorldXY:function(P,w,R,b){return b=this.getLayer(b),b===null?null:v.HasTileAtWorldXY(P,w,R,b)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(P){this.setLayer(P)}},putTileAt:function(P,w,R,b,O){return b===void 0&&(b=!0),O=this.getLayer(O),O===null?null:v.PutTileAt(P,w,R,b,O)},putTileAtWorldXY:function(P,w,R,b,O,I){return b===void 0&&(b=!0),I=this.getLayer(I),I===null?null:v.PutTileAtWorldXY(P,w,R,b,O,I)},putTilesAt:function(P,w,R,b,O){return b===void 0&&(b=!0),O=this.getLayer(O),O===null?null:(v.PutTilesAt(P,w,R,b,O),this)},randomize:function(P,w,R,b,O,I){return I=this.getLayer(I),I===null?null:(v.Randomize(P,w,R,b,O,I),this)},calculateFacesAt:function(P,w,R){return R=this.getLayer(R),R===null?null:(v.CalculateFacesAt(P,w,R),this)},calculateFacesWithin:function(P,w,R,b,O){return O=this.getLayer(O),O===null?null:(v.CalculateFacesWithin(P,w,R,b,O),this)},removeLayer:function(P){var w=this.getLayerIndex(P);if(w!==null){d(this.layers,w);for(var R=w;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===w&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(P){var w=this.getLayerIndex(P);return w!==null?(P=this.layers[w],P.tilemapLayer.destroy(),d(this.layers,w),this.currentLayerIndex===w&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var P=this.layers,w=0;w<P.length;w++)P[w].tilemapLayer&&P[w].tilemapLayer.destroy(!1);return P.length=0,this.currentLayerIndex=0,this},removeTile:function(P,w,R){w===void 0&&(w=-1),R===void 0&&(R=!0);var b=[];Array.isArray(P)||(P=[P]);for(var O=0;O<P.length;O++){var I=P[O];b.push(this.removeTileAt(I.x,I.y,!0,R,I.tilemapLayer)),w>-1&&this.putTileAt(w,I.x,I.y,R,I.tilemapLayer)}return b},removeTileAt:function(P,w,R,b,O){return R===void 0&&(R=!0),b===void 0&&(b=!0),O=this.getLayer(O),O===null?null:v.RemoveTileAt(P,w,R,b,O)},removeTileAtWorldXY:function(P,w,R,b,O,I){return R===void 0&&(R=!0),b===void 0&&(b=!0),I=this.getLayer(I),I===null?null:v.RemoveTileAtWorldXY(P,w,R,b,O,I)},renderDebug:function(P,w,R){return R=this.getLayer(R),R===null?null:(this.orientation===u.ORTHOGONAL&&v.RenderDebug(P,w,R),this)},renderDebugFull:function(P,w){for(var R=this.layers,b=0;b<R.length;b++)v.RenderDebug(P,w,R[b]);return this},replaceByIndex:function(P,w,R,b,O,I,D){return D=this.getLayer(D),D===null?null:(v.ReplaceByIndex(P,w,R,b,O,I,D),this)},setCollision:function(P,w,R,b,O){return w===void 0&&(w=!0),R===void 0&&(R=!0),O===void 0&&(O=!0),b=this.getLayer(b),b===null?null:(v.SetCollision(P,w,R,b,O),this)},setCollisionBetween:function(P,w,R,b,O){return R===void 0&&(R=!0),b===void 0&&(b=!0),O=this.getLayer(O),O===null?null:(v.SetCollisionBetween(P,w,R,b,O),this)},setCollisionByProperty:function(P,w,R,b){return w===void 0&&(w=!0),R===void 0&&(R=!0),b=this.getLayer(b),b===null?null:(v.SetCollisionByProperty(P,w,R,b),this)},setCollisionByExclusion:function(P,w,R,b){return w===void 0&&(w=!0),R===void 0&&(R=!0),b=this.getLayer(b),b===null?null:(v.SetCollisionByExclusion(P,w,R,b),this)},setCollisionFromCollisionGroup:function(P,w,R){return P===void 0&&(P=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:(v.SetCollisionFromCollisionGroup(P,w,R),this)},setTileIndexCallback:function(P,w,R,b){return b=this.getLayer(b),b===null?null:(v.SetTileIndexCallback(P,w,R,b),this)},setTileLocationCallback:function(P,w,R,b,O,I,D){return D=this.getLayer(D),D===null?null:(v.SetTileLocationCallback(P,w,R,b,O,I,D),this)},setLayer:function(P){var w=this.getLayerIndex(P);return w!==null&&(this.currentLayerIndex=w),this},setBaseTileSize:function(P,w){this.tileWidth=P,this.tileHeight=w,this.widthInPixels=this.width*P,this.heightInPixels=this.height*w;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=P,this.layers[R].baseTileHeight=w;for(var b=this.layers[R].data,O=this.layers[R].width,I=this.layers[R].height,D=0;D<I;D++)for(var B=0;B<O;B++){var k=b[D][B];k!==null&&k.setSize(void 0,void 0,P,w)}}return this},setLayerTileSize:function(P,w,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=P,R.tileHeight=w;for(var b=R.data,O=R.width,I=R.height,D=0;D<I;D++)for(var B=0;B<O;B++){var k=b[D][B];k!==null&&k.setSize(P,w)}return this},shuffle:function(P,w,R,b,O){return O=this.getLayer(O),O===null?null:(v.Shuffle(P,w,R,b,O),this)},swapByIndex:function(P,w,R,b,O,I,D){return D=this.getLayer(D),D===null?null:(v.SwapByIndex(P,w,R,b,O,I,D),this)},tileToWorldX:function(P,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(P,w,R)},tileToWorldY:function(P,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(P,w,R)},tileToWorldXY:function(P,w,R,b,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldXY(P,w,R,b,O)},getTileCorners:function(P,w,R,b){return b=this.getLayer(b),b===null?null:this._convert.GetTileCorners(P,w,R,b)},weightedRandomize:function(P,w,R,b,O,I){return I=this.getLayer(I),I===null?null:(v.WeightedRandomize(w,R,b,O,P,I),this)},worldToTileX:function(P,w,R,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileX(P,w,R,b)},worldToTileY:function(P,w,R,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileY(P,w,R,b)},worldToTileXY:function(P,w,R,b,O,I){return I=this.getLayer(I),I===null?null:this._convert.WorldToTileXY(P,w,R,b,O,I)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});C.exports=E},45939:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(44603),y=s(31989);g.register("tilemap",function(f){var l=f!==void 0?f:{};return y(this.scene,l.key,l.tileWidth,l.tileHeight,l.width,l.height,l.data,l.insertNull)})},46029:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(39429),y=s(31989);g.register("tilemap",function(f,l,h,r,o,u,a){return f===null&&(f=void 0),l===null&&(l=void 0),h===null&&(h=void 0),r===null&&(r=void 0),o===null&&(o=void 0),y(this.scene,f,l,h,r,o,u,a)})},20442:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(78389),f=s(31401),l=s(95643),h=s(81086),r=s(19218),o=s(26099),u=new g({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,y,r],initialize:function(d,c,p,v,m,T){l.call(this,d,"TilemapLayer"),this.isTilemap=!0,this.tilemap=c,this.layerIndex=p,this.layer=c.layers[p],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new o,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(m,T),this.setOrigin(0,0),this.setSize(c.tileWidth*this.layer.width,c.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(a){var d=[],c=[],p=this.tilemap;Array.isArray(a)||(a=[a]);for(var v=0;v<a.length;v++){var m=a[v];if(typeof m=="string"&&(m=p.getTileset(m)),m){c.push(m);for(var T=m.firstgid,E=0;E<m.total;E++)d[T+E]=m}}this.gidMap=d,this.tileset=c},setRenderOrder:function(a){var d=["right-down","left-down","right-up","left-up"];return typeof a=="string"&&(a=d.indexOf(a)),a>=0&&a<4&&(this._renderOrder=a),this},calculateFacesAt:function(a,d){return h.CalculateFacesAt(a,d,this.layer),this},calculateFacesWithin:function(a,d,c,p){return h.CalculateFacesWithin(a,d,c,p,this.layer),this},createFromTiles:function(a,d,c,p,v){return h.CreateFromTiles(a,d,c,p,v,this.layer)},cull:function(a){return this.cullCallback(this.layer,a,this.culledTiles,this._renderOrder)},copy:function(a,d,c,p,v,m,T){return h.Copy(a,d,c,p,v,m,T,this.layer),this},fill:function(a,d,c,p,v,m){return h.Fill(a,d,c,p,v,m,this.layer),this},filterTiles:function(a,d,c,p,v,m,T){return h.FilterTiles(a,d,c,p,v,m,T,this.layer)},findByIndex:function(a,d,c){return h.FindByIndex(a,d,c,this.layer)},findTile:function(a,d,c,p,v,m,T){return h.FindTile(a,d,c,p,v,m,T,this.layer)},forEachTile:function(a,d,c,p,v,m,T){return h.ForEachTile(a,d,c,p,v,m,T,this.layer),this},setTint:function(a,d,c,p,v,m){a===void 0&&(a=16777215);var T=function(E){E.tint=a,E.tintFill=!1};return this.forEachTile(T,this,d,c,p,v,m)},setTintFill:function(a,d,c,p,v,m){a===void 0&&(a=16777215);var T=function(E){E.tint=a,E.tintFill=!0};return this.forEachTile(T,this,d,c,p,v,m)},getTileAt:function(a,d,c){return h.GetTileAt(a,d,c,this.layer)},getTileAtWorldXY:function(a,d,c,p){return h.GetTileAtWorldXY(a,d,c,p,this.layer)},getIsoTileAtWorldXY:function(a,d,c,p,v){c===void 0&&(c=!0);var m=this.tempVec;return h.IsometricWorldToTileXY(a,d,!0,m,v,this.layer,c),this.getTileAt(m.x,m.y,p)},getTilesWithin:function(a,d,c,p,v){return h.GetTilesWithin(a,d,c,p,v,this.layer)},getTilesWithinShape:function(a,d,c){return h.GetTilesWithinShape(a,d,c,this.layer)},getTilesWithinWorldXY:function(a,d,c,p,v,m){return h.GetTilesWithinWorldXY(a,d,c,p,v,m,this.layer)},hasTileAt:function(a,d){return h.HasTileAt(a,d,this.layer)},hasTileAtWorldXY:function(a,d,c){return h.HasTileAtWorldXY(a,d,c,this.layer)},putTileAt:function(a,d,c,p){return h.PutTileAt(a,d,c,p,this.layer)},putTileAtWorldXY:function(a,d,c,p,v){return h.PutTileAtWorldXY(a,d,c,p,v,this.layer)},putTilesAt:function(a,d,c,p){return h.PutTilesAt(a,d,c,p,this.layer),this},randomize:function(a,d,c,p,v){return h.Randomize(a,d,c,p,v,this.layer),this},removeTileAt:function(a,d,c,p){return h.RemoveTileAt(a,d,c,p,this.layer)},removeTileAtWorldXY:function(a,d,c,p,v){return h.RemoveTileAtWorldXY(a,d,c,p,v,this.layer)},renderDebug:function(a,d){return h.RenderDebug(a,d,this.layer),this},replaceByIndex:function(a,d,c,p,v,m){return h.ReplaceByIndex(a,d,c,p,v,m,this.layer),this},setSkipCull:function(a){return a===void 0&&(a=!0),this.skipCull=a,this},setCullPadding:function(a,d){return a===void 0&&(a=1),d===void 0&&(d=1),this.cullPaddingX=a,this.cullPaddingY=d,this},setCollision:function(a,d,c,p){return h.SetCollision(a,d,c,this.layer,p),this},setCollisionBetween:function(a,d,c,p){return h.SetCollisionBetween(a,d,c,p,this.layer),this},setCollisionByProperty:function(a,d,c){return h.SetCollisionByProperty(a,d,c,this.layer),this},setCollisionByExclusion:function(a,d,c){return h.SetCollisionByExclusion(a,d,c,this.layer),this},setCollisionFromCollisionGroup:function(a,d){return h.SetCollisionFromCollisionGroup(a,d,this.layer),this},setTileIndexCallback:function(a,d,c){return h.SetTileIndexCallback(a,d,c,this.layer),this},setTileLocationCallback:function(a,d,c,p,v,m){return h.SetTileLocationCallback(a,d,c,p,v,m,this.layer),this},shuffle:function(a,d,c,p){return h.Shuffle(a,d,c,p,this.layer),this},swapByIndex:function(a,d,c,p,v,m){return h.SwapByIndex(a,d,c,p,v,m,this.layer),this},tileToWorldX:function(a,d){return this.tilemap.tileToWorldX(a,d,this)},tileToWorldY:function(a,d){return this.tilemap.tileToWorldY(a,d,this)},tileToWorldXY:function(a,d,c,p){return this.tilemap.tileToWorldXY(a,d,c,p,this)},getTileCorners:function(a,d,c){return this.tilemap.getTileCorners(a,d,c,this)},weightedRandomize:function(a,d,c,p,v){return h.WeightedRandomize(d,c,p,v,a,this.layer),this},worldToTileX:function(a,d,c){return this.tilemap.worldToTileX(a,d,c,this)},worldToTileY:function(a,d,c){return this.tilemap.worldToTileY(a,d,c,this)},worldToTileXY:function(a,d,c,p,v){return this.tilemap.worldToTileXY(a,d,c,p,v,this)},destroy:function(a){a===void 0&&(a=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),a&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))}});C.exports=u},16153:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61340),y=new g,f=new g,l=new g,h=function(r,o,u,a){var d=o.cull(u),c=d.length,p=u.alpha*o.alpha;if(!(c===0||p<=0)){var v=y,m=f,T=l;m.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),v.copyFrom(u.matrix);var E=r.currentContext,P=o.gidMap;E.save(),a?(v.multiplyWithOffset(a,-u.scrollX*o.scrollFactorX,-u.scrollY*o.scrollFactorY),m.e=o.x,m.f=o.y,v.multiply(m,T),T.copyToContext(E)):(m.e-=u.scrollX*o.scrollFactorX,m.f-=u.scrollY*o.scrollFactorY,m.copyToContext(E)),(!r.antialias||o.scaleX>1||o.scaleY>1)&&(E.imageSmoothingEnabled=!1);for(var w=0;w<c;w++){var R=d[w],b=P[R.index];if(b){var O=b.image.getSourceImage(),I=b.getTileTextureCoordinates(R.index),D=b.tileWidth,B=b.tileHeight;if(!(I===null||D===0||B===0)){var k=D*.5,z=B*.5;I.x+=b.tileOffset.x,I.y+=b.tileOffset.y,E.save(),E.translate(R.pixelX+k,R.pixelY+z),R.rotation!==0&&E.rotate(R.rotation),(R.flipX||R.flipY)&&E.scale(R.flipX?-1:1,R.flipY?-1:1),E.globalAlpha=p*R.alpha,E.drawImage(O,I.x,I.y,D,B,-k,-z,D,B),E.restore()}}}E.restore()}};C.exports=h},19218:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(29747),y=g,f=g;y=s(99558),f=s(16153),C.exports={renderWebGL:y,renderCanvas:f}},99558:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70554),y=function(f,l,h){var r=l.cull(h),o=r.length,u=h.alpha*l.alpha;if(!(o===0||u<=0)){var a=l.gidMap,d=f.pipelines.set(l.pipeline,l),c=g.getTintAppendFloatAlpha,p=l.scrollFactorX,v=l.scrollFactorY,m=l.x,T=l.y,E=l.scaleX,P=l.scaleY;f.pipelines.preBatch(l);for(var w=0;w<o;w++){var R=r[w],b=a[R.index];if(b){var O=b.getTileTextureCoordinates(R.index),I=b.tileWidth,D=b.tileHeight;if(!(!O||I===0||D===0)){var B=I*.5,k=D*.5,z=b.glTexture,X=d.setTexture2D(z,l),K=I,H=D,Q=O.x,W=O.y,Y=b.tileOffset.x,N=b.tileOffset.y,Z=c(R.tint,u*R.alpha);d.batchTexture(l,z,z.width,z.height,m+R.pixelX*E+(B*E-Y),T+R.pixelY*P+(k*P-N),I,D,E,P,R.rotation,R.flipX,R.flipY,p,v,B,k,Q,W,K,H,Z,Z,Z,Z,R.tintFill,0,0,h,null,!0,X,!0)}}}f.pipelines.postBatch(l)}};C.exports=y},33629:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(26099),f=new g({initialize:function(h,r,o,u,a,d,c,p,v){(o===void 0||o<=0)&&(o=32),(u===void 0||u<=0)&&(u=32),a===void 0&&(a=0),d===void 0&&(d=0),c===void 0&&(c={}),p===void 0&&(p={}),this.name=h,this.firstgid=r,this.tileWidth=o,this.tileHeight=u,this.tileMargin=a,this.tileSpacing=d,this.tileProperties=c,this.tileData=p,this.tileOffset=new y,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(l){return this.containsTileIndex(l)?this.tileProperties[l-this.firstgid]:null},getTileData:function(l){return this.containsTileIndex(l)?this.tileData[l-this.firstgid]:null},getTileCollisionGroup:function(l){var h=this.getTileData(l);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},getTileTextureCoordinates:function(l){return this.containsTileIndex(l)?this.texCoordinates[l-this.firstgid]:null},setImage:function(l){this.image=l;var h=l.get(),r=l.getFrameBounds();return this.glTexture=h.source.glTexture,h.width>r.width||h.height>r.height?this.updateTileData(h.width,h.height):this.updateTileData(r.width,r.height,r.x,r.y),this},setTileSize:function(l,h){return l!==void 0&&(this.tileWidth=l),h!==void 0&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(l,h){return l!==void 0&&(this.tileMargin=l),h!==void 0&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(l,h,r,o){r===void 0&&(r=0),o===void 0&&(o=0);var u=(h-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),a=(l-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(u%1!==0||a%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),u=Math.floor(u),a=Math.floor(a),this.rows=u,this.columns=a,this.total=u*a,this.texCoordinates.length=0;for(var d=this.tileMargin+r,c=this.tileMargin+o,p=0;p<this.rows;p++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:d,y:c}),d+=this.tileWidth+this.tileSpacing;d=this.tileMargin+r,c+=this.tileHeight+this.tileSpacing}return this}});C.exports=f},72023:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7423),y=function(f,l,h){var r=g(f,l,!0,h),o=g(f,l-1,!0,h),u=g(f,l+1,!0,h),a=g(f-1,l,!0,h),d=g(f+1,l,!0,h),c=r&&r.collides;return c&&(r.faceTop=!0,r.faceBottom=!0,r.faceLeft=!0,r.faceRight=!0),o&&o.collides&&(c&&(r.faceTop=!1),o.faceBottom=!c),u&&u.collides&&(c&&(r.faceBottom=!1),u.faceTop=!c),a&&a.collides&&(c&&(r.faceLeft=!1),a.faceRight=!c),d&&d.collides&&(c&&(r.faceRight=!1),d.faceLeft=!c),r&&!r.collides&&r.resetFaces(),r};C.exports=y},42573:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7423),y=s(7386),f=function(l,h,r,o,u){for(var a=null,d=null,c=null,p=null,v=y(l,h,r,o,null,u),m=0;m<v.length;m++){var T=v[m];T&&(T.collides?(a=g(T.x,T.y-1,!0,u),d=g(T.x,T.y+1,!0,u),c=g(T.x-1,T.y,!0,u),p=g(T.x+1,T.y,!0,u),T.faceTop=!(a&&a.collides),T.faceBottom=!(d&&d.collides),T.faceLeft=!(c&&c.collides),T.faceRight=!(p&&p.collides)):T.resetFaces())}};C.exports=f},33528:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=new g,f=function(l,h,r,o){var u=r.tilemapLayer,a=u.cullPaddingX,d=u.cullPaddingY,c=u.tilemap.tileToWorldXY(l,h,y,o,u);return c.x>o.worldView.x+u.scaleX*r.tileWidth*(-a-.5)&&c.x<o.worldView.right+u.scaleX*r.tileWidth*(a-.5)&&c.y>o.worldView.y+u.scaleY*r.tileHeight*(-d-1)&&c.y<o.worldView.bottom+u.scaleY*r.tileHeight*(d-.5)};C.exports=f},1785:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(42573),y=s(7386),f=s(62991),l=s(23029),h=function(r,o,u,a,d,c,p,v){p===void 0&&(p=!0);var m=y(r,o,u,a,null,v),T=[];m.forEach(function(I){var D=new l(I.layer,I.index,I.x,I.y,I.width,I.height,I.baseWidth,I.baseHeight);D.copy(I),T.push(D)});for(var E=d-r,P=c-o,w=0;w<T.length;w++){var R=T[w],b=R.x+E,O=R.y+P;f(b,O,v)&&v.data[O][b]&&(R.x=b,R.y=O,R.updatePixelXY(),v.data[O][b]=R)}p&&g(d-1,c-1,u+2,a+2,v),m.length=0,T.length=0};C.exports=h},78419:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62644),y=s(7386),f=s(27987),l=function(h,r,o,u,a,d){o||(o={}),Array.isArray(h)||(h=[h]);var c=d.tilemapLayer;u||(u=c.scene),a||(a=u.cameras.main);var p=d.width,v=d.height,m=y(0,0,p,v,null,d),T=[],E,P=function(O,I,D){for(var B=0;B<D.length;B++){var k=D[B];O.hasOwnProperty(k)||(O[k]=I[k])}};for(E=0;E<m.length;E++){var w=m[E],R=g(o);if(h.indexOf(w.index)!==-1){var b=c.tileToWorldXY(w.x,w.y,void 0,a,d);R.x=b.x,R.y=b.y,P(R,w,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=w.width*.5,R.y+=w.height*.5),R.hasOwnProperty("useSpriteSheet")&&(R.key=w.tileset.image,R.frame=w.index-w.tileset.firstgid),T.push(u.make.sprite(R))}}if(Array.isArray(r))for(E=0;E<h.length;E++)f(h[E],r[E],0,0,p,v,d);else if(r!==null)for(E=0;E<h.length;E++)f(h[E],r,0,0,p,v,d);return T};C.exports=l},19545:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(87841),y=s(63448),f=s(56583),l=new g,h=function(r,o){var u=r.tilemapLayer.tilemap,a=r.tilemapLayer,d=Math.floor(u.tileWidth*a.scaleX),c=Math.floor(u.tileHeight*a.scaleY),p=f(o.worldView.x-a.x,d,0,!0)-a.cullPaddingX,v=y(o.worldView.right-a.x,d,0,!0)+a.cullPaddingX,m=f(o.worldView.y-a.y,c,0,!0)-a.cullPaddingY,T=y(o.worldView.bottom-a.y,c,0,!0)+a.cullPaddingY;return l.setTo(p,m,v-p,T-m)};C.exports=h},30003:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19545),y=s(32483),f=function(l,h,r,o){r===void 0&&(r=[]),o===void 0&&(o=0),r.length=0;var u=l.tilemapLayer,a=g(l,h);return(u.skipCull||u.scrollFactorX!==1||u.scrollFactorY!==1)&&(a.left=0,a.right=l.width,a.top=0,a.bottom=l.height),y(l,a,o,r),r};C.exports=f},35137:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(42573),f=s(20576),l=function(h,r,o,u,a,d,c){for(var p=c.collideIndexes.indexOf(h)!==-1,v=g(r,o,u,a,null,c),m=0;m<v.length;m++)v[m].index=h,f(v[m],p);d&&y(r-1,o-1,u+2,a+2,c)};C.exports=l},40253:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,h,r,o,u,a,d){var c=g(h,r,o,u,a,d);return c.filter(f,l)};C.exports=y},52692:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g===void 0&&(g=0),y===void 0&&(y=!1);var l=0,h,r,o;if(y){for(r=f.height-1;r>=0;r--)for(h=f.width-1;h>=0;h--)if(o=f.data[r][h],o&&o.index===s){if(l===g)return o;l+=1}}else for(r=0;r<f.height;r++)for(h=0;h<f.width;h++)if(o=f.data[r][h],o&&o.index===s){if(l===g)return o;l+=1}return null};C.exports=A},66151:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,h,r,o,u,a,d){var c=g(h,r,o,u,a,d);return c.find(f,l)||null};C.exports=y},97560:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,h,r,o,u,a,d){var c=g(h,r,o,u,a,d);c.forEach(f,l)};C.exports=y},43305:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(30003),f=s(9474),l=s(14018),h=s(29747),r=s(54503),o=function(u){return u===g.ORTHOGONAL?y:u===g.HEXAGONAL?f:u===g.STAGGERED?r:u===g.ISOMETRIC?l:h};C.exports=o},7423:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62991),y=function(f,l,h,r){if(g(f,l,r)){var o=r.data[l][f]||null;return o?o.index===-1?h?o:null:o:null}else return null};C.exports=y},60540:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7423),y=s(26099),f=new y,l=function(h,r,o,u,a){return a.tilemapLayer.worldToTileXY(h,r,!0,f,u),g(f.x,f.y,o,a)};C.exports=l},55826:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r){var o=r.baseTileWidth,u=r.baseTileHeight,a=r.tilemapLayer,d=0,c=0;a&&(h||(h=a.scene.cameras.main),d=a.x+h.scrollX*(1-a.scrollFactorX),c=a.y+h.scrollY*(1-a.scrollFactorY),o*=a.scaleX,u*=a.scaleY);var p=d+f*o,v=c+l*u;return[new g(p,v),new g(p+o,v),new g(p+o,v+u),new g(p,v+u)]};C.exports=y},11758:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(27229),f=s(29747),l=s(55826),h=function(r){return r===g.ORTHOGONAL?l:r===g.ISOMETRIC?f:r===g.HEXAGONAL?y:(r===g.STAGGERED,f)};C.exports=h},39167:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(29747),f=s(97281),l=function(h){return h===g.ORTHOGONAL?f:y};C.exports=l},62e3:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(19951),f=s(14127),l=s(29747),h=s(97202),r=s(70326),o=function(u){return u===g.ORTHOGONAL?r:u===g.ISOMETRIC?f:u===g.HEXAGONAL?y:u===g.STAGGERED?h:l};C.exports=o},5984:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(29747),f=s(28054),l=s(29650),h=function(r){return r===g.ORTHOGONAL?l:r===g.STAGGERED?f:y};C.exports=h},7386:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=function(f,l,h,r,o,u){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=u.width),r===void 0&&(r=u.height),o||(o={});var a=g(o,"isNotEmpty",!1),d=g(o,"isColliding",!1),c=g(o,"hasInterestingFace",!1);f<0&&(h+=f,f=0),l<0&&(r+=l,l=0),f+h>u.width&&(h=Math.max(u.width-f,0)),l+r>u.height&&(r=Math.max(u.height-l,0));for(var p=[],v=l;v<l+r;v++)for(var m=f;m<f+h;m++){var T=u.data[v][m];if(T!==null){if(a&&T.index===-1||d&&!T.collides||c&&!T.hasInterestingFace)continue;p.push(T)}}return p};C.exports=y},91141:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(55738),y=s(7386),f=s(91865),l=s(29747),h=s(26099),r=s(91907),o=function(p,v){return f.RectangleToTriangle(v,p)},u=new h,a=new h,d=new h,c=function(p,v,m,T){if(T.orientation!==r.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(p===void 0)return[];var E=l;p instanceof g.Circle?E=f.CircleToRectangle:p instanceof g.Rectangle?E=f.RectangleToRectangle:p instanceof g.Triangle?E=o:p instanceof g.Line&&(E=f.LineToRectangle),T.tilemapLayer.worldToTileXY(p.left,p.top,!0,a,m);var P=a.x,w=a.y;T.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,d,m);var R=Math.ceil(d.x),b=Math.ceil(d.y),O=Math.max(R-P,1),I=Math.max(b-w,1),D=y(P,w,O,I,v,T),B=T.tileWidth,k=T.tileHeight;T.tilemapLayer&&(B*=T.tilemapLayer.scaleX,k*=T.tilemapLayer.scaleY);for(var z=[],X=new g.Rectangle(0,0,B,k),K=0;K<D.length;K++){var H=D[K];T.tilemapLayer.tileToWorldXY(H.x,H.y,u,m),X.x=u.x,X.y=u.y,E(p,X)&&z.push(H)}return z};C.exports=c},96523:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(26099),f=new y,l=new y,h=function(r,o,u,a,d,c,p){var v=p.tilemapLayer.tilemap._convert.WorldToTileXY;v(r,o,!0,f,c,p);var m=f.x,T=f.y;v(r+u,o+a,!1,l,c,p);var E=Math.ceil(l.x),P=Math.ceil(l.y);return g(m,T,E-m,P-T,d,p)};C.exports=h},96113:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(20242),f=s(10095),l=function(h){return h===g.ORTHOGONAL?f:y};C.exports=l},16926:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(86625),f=s(96897),l=s(29747),h=s(15108),r=s(85896),o=function(u){return u===g.ORTHOGONAL?r:u===g.ISOMETRIC?f:u===g.HEXAGONAL?y:u===g.STAGGERED?h:l};C.exports=o},55762:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=s(20242),f=s(51900),l=s(63288),h=function(r){return r===g.ORTHOGONAL?l:r===g.STAGGERED?f:y};C.exports=h},45091:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62991),y=function(f,l,h){if(g(f,l,h)){var r=h.data[l][f];return r!==null&&r.index>-1}else return!1};C.exports=y},24152:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(45091),y=s(26099),f=new y,l=function(h,r,o,u){u.tilemapLayer.worldToTileXY(h,r,!0,f,o);var a=f.x,d=f.y;return g(a,d,u)};C.exports=l},90454:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(63448),y=s(56583),f=function(l,h){var r=l.tilemapLayer.tilemap,o=l.tilemapLayer,u=Math.floor(r.tileWidth*o.scaleX),a=Math.floor(r.tileHeight*o.scaleY),d=l.hexSideLength,c,p,v,m;if(l.staggerAxis==="y"){var T=(a-d)/2+d;c=y(h.worldView.x-o.x,u,0,!0)-o.cullPaddingX,p=g(h.worldView.right-o.x,u,0,!0)+o.cullPaddingX,v=y(h.worldView.y-o.y,T,0,!0)-o.cullPaddingY,m=g(h.worldView.bottom-o.y,T,0,!0)+o.cullPaddingY}else{var E=(u-d)/2+d;c=y(h.worldView.x-o.x,E,0,!0)-o.cullPaddingX,p=g(h.worldView.right-o.x,E,0,!0)+o.cullPaddingX,v=y(h.worldView.y-o.y,a,0,!0)-o.cullPaddingY,m=g(h.worldView.bottom-o.y,a,0,!0)+o.cullPaddingY}return{left:c,right:p,top:v,bottom:m}};C.exports=f},9474:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(90454),y=s(32483),f=function(l,h,r,o){r===void 0&&(r=[]),o===void 0&&(o=0),r.length=0;var u=l.tilemapLayer,a=g(l,h);return u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1&&(a.left=0,a.right=l.width,a.top=0,a.bottom=l.height),y(l,a,o,r),r};C.exports=f},27229:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19951),y=s(26099),f=new y,l=function(h,r,o,u){var a=u.baseTileWidth,d=u.baseTileHeight,c=u.tilemapLayer;c&&(a*=c.scaleX,d*=c.scaleY);var p=g(h,r,f,o,u),v=[],m=.5773502691896257,T,E;u.staggerAxis==="y"?(T=m*a,E=d/2):(T=a/2,E=m*d);for(var P=0;P<6;P++){var w=2*Math.PI*(.5-P)/6;v.push(new y(p.x+T*Math.cos(w),p.y+E*Math.sin(w)))}return v};C.exports=l},19951:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r,o){h||(h=new g);var u=o.baseTileWidth,a=o.baseTileHeight,d=o.tilemapLayer,c=0,p=0;d&&(r||(r=d.scene.cameras.main),c=d.x+r.scrollX*(1-d.scrollFactorX),p=d.y+r.scrollY*(1-d.scrollFactorY),u*=d.scaleX,a*=d.scaleY);var v=u/2,m=a/2,T,E,P=o.staggerAxis,w=o.staggerIndex;return P==="y"?(T=c+u*f+u,E=p+1.5*l*m+m,l%2===0&&(w==="odd"?T-=v:T+=v)):P==="x"&&w==="odd"&&(T=c+1.5*f*v+v,E=p+a*f+a,f%2===0&&(w==="odd"?E-=m:E+=m)),h.set(T,E)};C.exports=y},86625:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r,o,u){r||(r=new g);var a=u.baseTileWidth,d=u.baseTileHeight,c=u.tilemapLayer;c&&(o||(o=c.scene.cameras.main),f=f-(c.x+o.scrollX*(1-c.scrollFactorX)),l=l-(c.y+o.scrollY*(1-c.scrollFactorY)),a*=c.scaleX,d*=c.scaleY);var p=.5773502691896257,v=-.3333333333333333,m=0,T=.6666666666666666,E=a/2,P=d/2,w,R,b,O,I;u.staggerAxis==="y"?(w=(f-E)/(p*a),R=(l-P)/P,b=p*w+v*R,O=m*w+T*R):(w=(f-E)/E,R=(l-P)/(p*d),b=v*w+p*R,O=T*w+m*R),I=-b-O;var D=Math.round(b),B=Math.round(O),k=Math.round(I),z=Math.abs(D-b),X=Math.abs(B-O),K=Math.abs(k-I);z>X&&z>K?D=-B-k:X>K&&(B=-D-k);var H,Q=B;return u.staggerIndex==="odd"?H=Q%2===0?B/2+D:B/2+D-.5:H=Q%2===0?B/2+D:B/2+D+.5,r.set(H,Q)};C.exports=y},62991:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s>=0&&s<y.width&&g>=0&&g<y.height};C.exports=A},14018:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33528),y=function(f,l,h,r){h===void 0&&(h=[]),r===void 0&&(r=0),h.length=0;var o=f.tilemapLayer,u=f.data,a=f.width,d=f.height,c=o.skipCull,p=0,v=a,m=0,T=d,E,P,w;if(r===0)for(P=m;P<T;P++)for(E=p;E<v;E++)w=u[P][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!c&&!g(E,P,f,l)||h.push(w));else if(r===1)for(P=m;P<T;P++)for(E=v;E>=p;E--)w=u[P][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!c&&!g(E,P,f,l)||h.push(w));else if(r===2)for(P=T;P>=m;P--)for(E=p;E<v;E++)w=u[P][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!c&&!g(E,P,f,l)||h.push(w));else if(r===3)for(P=T;P>=m;P--)for(E=v;E>=p;E--)w=u[P][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!c&&!g(E,P,f,l)||h.push(w));return o.tilesDrawn=h.length,o.tilesTotal=a*d,h};C.exports=y},14127:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r,o){h||(h=new g);var u=o.baseTileWidth,a=o.baseTileHeight,d=o.tilemapLayer,c=0,p=0;d&&(r||(r=d.scene.cameras.main),c=d.x+r.scrollX*(1-d.scrollFactorX),u*=d.scaleX,p=d.y+r.scrollY*(1-d.scrollFactorY),a*=d.scaleY);var v=c+(f-l)*(u/2),m=p+(f+l)*(a/2);return h.set(v,m)};C.exports=y},96897:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r,o,u,a){r||(r=new g);var d=u.baseTileWidth,c=u.baseTileHeight,p=u.tilemapLayer;p&&(o||(o=p.scene.cameras.main),l=l-(p.y+o.scrollY*(1-p.scrollFactorY)),c*=p.scaleY,f=f-(p.x+o.scrollX*(1-p.scrollFactorX)),d*=p.scaleX);var v=d/2,m=c/2;f=f-v,a||(l=l-c);var T=.5*(f/v+l/m),E=.5*(-f/v+l/m);return h&&(T=Math.floor(T),E=Math.floor(E)),r.set(T,E)};C.exports=y},71558:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23029),y=s(62991),f=s(72023),l=s(20576),h=function(r,o,u,a,d){if(a===void 0&&(a=!0),!y(o,u,d))return null;var c,p=d.data[u][o],v=p&&p.collides;r instanceof g?(d.data[u][o]===null&&(d.data[u][o]=new g(d,r.index,o,u,d.tileWidth,d.tileHeight)),d.data[u][o].copy(r)):(c=r,d.data[u][o]===null?d.data[u][o]=new g(d,c,o,u,d.tileWidth,d.tileHeight):d.data[u][o].index=c);var m=d.data[u][o],T=d.collideIndexes.indexOf(m.index)!==-1;if(c=r instanceof g?r.index:r,c===-1)m.width=d.tileWidth,m.height=d.tileHeight;else{var E=d.tilemapLayer.tilemap,P=E.tiles,w=P[c][2],R=E.tilesets[w];m.width=R.tileWidth,m.height=R.tileHeight}return l(m,T),a&&v!==m.collides&&f(o,u,d),m};C.exports=h},26303:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(71558),y=s(26099),f=new y,l=function(h,r,o,u,a,d){return d.tilemapLayer.worldToTileXY(r,o,!0,f,a,d),g(h,f.x,f.y,u,d)};C.exports=l},14051:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(42573),y=s(71558),f=function(l,h,r,o,u){if(o===void 0&&(o=!0),!Array.isArray(l))return null;Array.isArray(l[0])||(l=[l]);for(var a=l.length,d=l[0].length,c=0;c<a;c++)for(var p=0;p<d;p++){var v=l[c][p];y(v,h+p,r+c,!1,u)}o&&g(h-1,r-1,d+2,a+2,u)};C.exports=f},77389:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(26546),f=function(l,h,r,o,u,a){var d,c=g(l,h,r,o,{},a);if(!u)for(u=[],d=0;d<c.length;d++)u.indexOf(c[d].index)===-1&&u.push(c[d].index);for(d=0;d<c.length;d++)c[d].index=y(u)};C.exports=f},63557:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(23029),y=s(62991),f=s(72023),l=function(h,r,o,u,a){if(o===void 0&&(o=!0),u===void 0&&(u=!0),!y(h,r,a))return null;var d=a.data[r][h];if(d)a.data[r][h]=o?null:new g(a,-1,h,r,a.tileWidth,a.tileHeight);else return null;return u&&d&&d.collides&&f(h,r,a),d};C.exports=l},94178:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(63557),y=s(26099),f=new y,l=function(h,r,o,u,a,d){return d.tilemapLayer.worldToTileXY(h,r,!0,f,a,d),g(f.x,f.y,o,u,d)};C.exports=l},15533:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(3956),f=new y(105,210,231,150),l=new y(243,134,48,200),h=new y(40,39,37,150),r=function(o,u,a){u===void 0&&(u={});var d=u.tileColor!==void 0?u.tileColor:f,c=u.collidingTileColor!==void 0?u.collidingTileColor:l,p=u.faceColor!==void 0?u.faceColor:h,v=g(0,0,a.width,a.height,null,a);o.translateCanvas(a.tilemapLayer.x,a.tilemapLayer.y),o.scaleCanvas(a.tilemapLayer.scaleX,a.tilemapLayer.scaleY);for(var m=0;m<v.length;m++){var T=v[m],E=T.tileset?T.tileset.tileOffset:{x:0,y:0},P=T.width,w=T.height,R=T.pixelX-E.x,b=T.pixelY-E.y,O=T.collides?c:d;O!==null&&(o.fillStyle(O.color,O.alpha/255),o.fillRect(R,b,P,w)),R+=1,b+=1,P-=2,w-=2,p!==null&&(o.lineStyle(1,p.color,p.alpha/255),T.faceTop&&o.lineBetween(R,b,R+P,b),T.faceRight&&o.lineBetween(R+P,b,R+P,b+w),T.faceBottom&&o.lineBetween(R,b+w,R+P,b+w),T.faceLeft&&o.lineBetween(R,b,R,b+w))}};C.exports=r},27987:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,h,r,o,u,a){for(var d=g(h,r,o,u,null,a),c=0;c<d.length;c++)d[c]&&d[c].index===f&&(d[c].index=l)};C.exports=y},32483:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=s.data,h=s.width,r=s.height,o=s.tilemapLayer,u=Math.max(0,g.left),a=Math.min(h,g.right),d=Math.max(0,g.top),c=Math.min(r,g.bottom),p,v,m;if(y===0)for(v=d;v<c;v++)for(p=u;l[v]&&p<a;p++)m=l[v][p],!(!m||m.index===-1||!m.visible||m.alpha===0)&&f.push(m);else if(y===1)for(v=d;v<c;v++)for(p=a;l[v]&&p>=u;p--)m=l[v][p],!(!m||m.index===-1||!m.visible||m.alpha===0)&&f.push(m);else if(y===2)for(v=c;v>=d;v--)for(p=u;l[v]&&p<a;p++)m=l[v][p],!(!m||m.index===-1||!m.visible||m.alpha===0)&&f.push(m);else if(y===3)for(v=c;v>=d;v--)for(p=a;l[v]&&p>=u;p--)m=l[v][p],!(!m||m.index===-1||!m.visible||m.alpha===0)&&f.push(m);return o.tilesDrawn=f.length,o.tilesTotal=h*r,f};C.exports=A},57068:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20576),y=s(42573),f=s(9589),l=function(h,r,o,u,a){r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=!0),Array.isArray(h)||(h=[h]);for(var d=0;d<h.length;d++)f(h[d],r,u);if(a)for(var c=0;c<u.height;c++)for(var p=0;p<u.width;p++){var v=u.data[c][p];v&&h.indexOf(v.index)!==-1&&g(v,r)}o&&y(0,0,u.width,u.height,u)};C.exports=l},37266:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20576),y=s(42573),f=s(9589),l=function(h,r,o,u,a,d){if(o===void 0&&(o=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),!(h>r)){for(var c=h;c<=r;c++)f(c,o,a);if(d)for(var p=0;p<a.height;p++)for(var v=0;v<a.width;v++){var m=a.data[p][v];m&&m.index>=h&&m.index<=r&&g(m,o)}u&&y(0,0,a.width,a.height,a)}};C.exports=l},75661:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20576),y=s(42573),f=s(9589),l=function(h,r,o,u){r===void 0&&(r=!0),o===void 0&&(o=!0),Array.isArray(h)||(h=[h]);for(var a=0;a<u.height;a++)for(var d=0;d<u.width;d++){var c=u.data[a][d];c&&h.indexOf(c.index)===-1&&(g(c,r),f(c.index,r,u))}o&&y(0,0,u.width,u.height,u)};C.exports=l},64740:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20576),y=s(42573),f=s(97022),l=function(h,r,o,u){r===void 0&&(r=!0),o===void 0&&(o=!0);for(var a=0;a<u.height;a++)for(var d=0;d<u.width;d++){var c=u.data[a][d];if(c){for(var p in h)if(f(c.properties,p)){var v=h[p];Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)c.properties[p]===v[m]&&g(c,r)}}}o&&y(0,0,u.width,u.height,u)};C.exports=l},63307:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(20576),y=s(42573),f=function(l,h,r){l===void 0&&(l=!0),h===void 0&&(h=!0);for(var o=0;o<r.height;o++)for(var u=0;u<r.width;u++){var a=r.data[o][u];if(a){var d=a.getCollisionGroup();d&&d.objects&&d.objects.length>0&&g(a,l)}}h&&y(0,0,r.width,r.height,r)};C.exports=f},9589:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=y.collideIndexes.indexOf(s);g&&f===-1?y.collideIndexes.push(s):!g&&f!==-1&&y.collideIndexes.splice(f,1)};C.exports=A},20576:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g?s.setCollision(!0,!0,!0,!0,!1):s.resetCollision(!1)};C.exports=A},79583:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){if(typeof s=="number")f.callbacks[s]=g!==null?{callback:g,callbackContext:y}:void 0;else for(var l=0,h=s.length;l<h;l++)f.callbacks[s[l]]=g!==null?{callback:g,callbackContext:y}:void 0};C.exports=A},93254:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,h,r,o,u,a){for(var d=g(f,l,h,r,null,a),c=0;c<d.length;c++)d[c].setCollisionCallback(o,u)};C.exports=y},32903:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(33680),f=function(l,h,r,o,u){var a=g(l,h,r,o,null,u),d=a.map(function(p){return p.index});y(d);for(var c=0;c<a.length;c++)a[c].index=d[c]};C.exports=f},61325:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(63448),y=s(56583),f=function(l,h){var r=l.tilemapLayer.tilemap,o=l.tilemapLayer,u=Math.floor(r.tileWidth*o.scaleX),a=Math.floor(r.tileHeight*o.scaleY),d=y(h.worldView.x-o.x,u,0,!0)-o.cullPaddingX,c=g(h.worldView.right-o.x,u,0,!0)+o.cullPaddingX,p=y(h.worldView.y-o.y,a/2,0,!0)-o.cullPaddingY,v=g(h.worldView.bottom-o.y,a/2,0,!0)+o.cullPaddingY;return{left:d,right:c,top:p,bottom:v}};C.exports=f},54503:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(61325),y=s(32483),f=function(l,h,r,o){r===void 0&&(r=[]),o===void 0&&(o=0),r.length=0;var u=l.tilemapLayer,a=g(l,h);return u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1&&(a.left=0,a.right=l.width,a.top=0,a.bottom=l.height),y(l,a,o,r),r};C.exports=f},97202:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r,o){h||(h=new g);var u=o.baseTileWidth,a=o.baseTileHeight,d=o.tilemapLayer,c=0,p=0;d&&(r||(r=d.scene.cameras.main),c=d.x+r.scrollX*(1-d.scrollFactorX),u*=d.scaleX,p=d.y+r.scrollY*(1-d.scrollFactorY),a*=d.scaleY);var v=c+f*u+l%2*(u/2),m=p+l*(a/2);return h.set(v,m)};C.exports=y},28054:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=y.baseTileHeight,l=y.tilemapLayer,h=0;return l&&(g===void 0&&(g=l.scene.cameras.main),h=l.y+g.scrollY*(1-l.scrollFactorY),f*=l.scaleY),h+s*(f/2)+f};C.exports=A},15108:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r,o,u){r||(r=new g);var a=u.baseTileWidth,d=u.baseTileHeight,c=u.tilemapLayer;c&&(o||(o=c.scene.cameras.main),l=l-(c.y+o.scrollY*(1-c.scrollFactorY)),d*=c.scaleY,f=f-(c.x+o.scrollX*(1-c.scrollFactorX)),a*=c.scaleX);var p=h?Math.floor(l/(d/2)):l/(d/2),v=h?Math.floor((f+p%2*.5*a)/a):(f+p%2*.5*a)/a;return r.set(v,p)};C.exports=y},51900:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=f.baseTileHeight,h=f.tilemapLayer;return h&&(y||(y=h.scene.cameras.main),s=s-(h.y+y.scrollY*(1-h.scrollFactorY)),l*=h.scaleY),g?Math.floor(s/(l/2)):s/(l/2)};C.exports=A},86560:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=function(f,l,h,r,o,u,a){for(var d=g(h,r,o,u,null,a),c=0;c<d.length;c++)d[c]&&(d[c].index===f?d[c].index=l:d[c].index===l&&(d[c].index=f))};C.exports=y},97281:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=y.baseTileWidth,l=y.tilemapLayer,h=0;return l&&(g||(g=l.scene.cameras.main),h=l.x+g.scrollX*(1-l.scrollFactorX),f*=l.scaleX),h+s*f};C.exports=A},70326:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(97281),y=s(29650),f=s(26099),l=function(h,r,o,u,a){return o||(o=new f(0,0)),o.x=g(h,u,a),o.y=y(r,u,a),o};C.exports=l},29650:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=y.baseTileHeight,l=y.tilemapLayer,h=0;return l&&(g||(g=l.scene.cameras.main),h=l.y+g.scrollY*(1-l.scrollFactorY),f*=l.scaleY),h+s*f};C.exports=A},77366:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(7386),y=s(75508),f=function(l,h,r,o,u,a){if(u){var d,c=g(l,h,r,o,null,a),p=0;for(d=0;d<u.length;d++)p+=u[d].weight;if(!(p<=0))for(d=0;d<c.length;d++){for(var v=y.RND.frac()*p,m=0,T=-1,E=0;E<u.length;E++)if(m+=u[E].weight,v<=m){var P=u[E].index;T=Array.isArray(P)?P[Math.floor(y.RND.frac()*P.length)]:P;break}c[d].index=T}}};C.exports=f},10095:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85896),y=s(26099),f=new y,l=function(h,r,o,u){return g(h,0,r,f,o,u),f.x};C.exports=l},85896:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(26099),y=function(f,l,h,r,o,u){h===void 0&&(h=!0),r||(r=new g);var a=u.baseTileWidth,d=u.baseTileHeight,c=u.tilemapLayer;c&&(o||(o=c.scene.cameras.main),f=f-(c.x+o.scrollX*(1-c.scrollFactorX)),l=l-(c.y+o.scrollY*(1-c.scrollFactorY)),a*=c.scaleX,d*=c.scaleY);var p=f/a,v=l/d;return h&&(p=Math.floor(p),v=Math.floor(v)),r.set(p,v)};C.exports=y},63288:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(85896),y=s(26099),f=new y,l=function(h,r,o,u){return g(0,h,r,f,o,u),f.y};C.exports=l},81086:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CalculateFacesAt:s(72023),CalculateFacesWithin:s(42573),CheckIsoBounds:s(33528),Copy:s(1785),CreateFromTiles:s(78419),CullBounds:s(19545),CullTiles:s(30003),Fill:s(35137),FilterTiles:s(40253),FindByIndex:s(52692),FindTile:s(66151),ForEachTile:s(97560),GetCullTilesFunction:s(43305),GetTileAt:s(7423),GetTileAtWorldXY:s(60540),GetTileCorners:s(55826),GetTileCornersFunction:s(11758),GetTilesWithin:s(7386),GetTilesWithinShape:s(91141),GetTilesWithinWorldXY:s(96523),GetTileToWorldXFunction:s(39167),GetTileToWorldXYFunction:s(62e3),GetTileToWorldYFunction:s(5984),GetWorldToTileXFunction:s(96113),GetWorldToTileXYFunction:s(16926),GetWorldToTileYFunction:s(55762),HasTileAt:s(45091),HasTileAtWorldXY:s(24152),HexagonalCullBounds:s(90454),HexagonalCullTiles:s(9474),HexagonalGetTileCorners:s(27229),HexagonalTileToWorldXY:s(19951),HexagonalWorldToTileXY:s(86625),IsInLayerBounds:s(62991),IsometricCullTiles:s(14018),IsometricTileToWorldXY:s(14127),IsometricWorldToTileXY:s(96897),PutTileAt:s(71558),PutTileAtWorldXY:s(26303),PutTilesAt:s(14051),Randomize:s(77389),RemoveTileAt:s(63557),RemoveTileAtWorldXY:s(94178),RenderDebug:s(15533),ReplaceByIndex:s(27987),RunCull:s(32483),SetCollision:s(57068),SetCollisionBetween:s(37266),SetCollisionByExclusion:s(75661),SetCollisionByProperty:s(64740),SetCollisionFromCollisionGroup:s(63307),SetLayerCollisionIndex:s(9589),SetTileCollision:s(20576),SetTileIndexCallback:s(79583),SetTileLocationCallback:s(93254),Shuffle:s(32903),StaggeredCullBounds:s(61325),StaggeredCullTiles:s(54503),StaggeredTileToWorldXY:s(97202),StaggeredTileToWorldY:s(28054),StaggeredWorldToTileXY:s(15108),StaggeredWorldToTileY:s(51900),SwapByIndex:s(86560),TileToWorldX:s(97281),TileToWorldXY:s(70326),TileToWorldY:s(29650),WeightedRandomize:s(77366),WorldToTileX:s(10095),WorldToTileXY:s(85896),WorldToTileY:s(63288)}},91907:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={ORIENTATION:s(91907)};C.exports=g},62501:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=s(21829),f={Components:s(81086),Parsers:s(57442),Formats:s(80341),ImageCollection:s(16536),ParseToTilemap:s(31989),Tile:s(23029),Tilemap:s(49075),TilemapCreator:s(45939),TilemapFactory:s(46029),Tileset:s(33629),TilemapLayer:s(20442),Orientation:s(91907),LayerData:s(14977),MapData:s(87010),ObjectLayer:s(48700)};f=g(!1,f,y.ORIENTATION),C.exports=f},14977:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(91907),f=s(95540),l=new g({initialize:function(r){r===void 0&&(r={}),this.name=f(r,"name","layer"),this.id=f(r,"id",0),this.x=f(r,"x",0),this.y=f(r,"y",0),this.width=f(r,"width",0),this.height=f(r,"height",0),this.tileWidth=f(r,"tileWidth",0),this.tileHeight=f(r,"tileHeight",0),this.baseTileWidth=f(r,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(r,"baseTileHeight",this.tileHeight),this.orientation=f(r,"orientation",y.ORTHOGONAL),this.widthInPixels=f(r,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(r,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(r,"alpha",1),this.visible=f(r,"visible",!0),this.properties=f(r,"properties",[]),this.indexes=f(r,"indexes",[]),this.collideIndexes=f(r,"collideIndexes",[]),this.callbacks=f(r,"callbacks",[]),this.bodies=f(r,"bodies",[]),this.data=f(r,"data",[]),this.tilemapLayer=f(r,"tilemapLayer",null),this.hexSideLength=f(r,"hexSideLength",0),this.staggerAxis=f(r,"staggerAxis","y"),this.staggerIndex=f(r,"staggerIndex","odd")}});C.exports=l},87010:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(91907),f=s(95540),l=new g({initialize:function(r){r===void 0&&(r={}),this.name=f(r,"name","map"),this.width=f(r,"width",0),this.height=f(r,"height",0),this.infinite=f(r,"infinite",!1),this.tileWidth=f(r,"tileWidth",0),this.tileHeight=f(r,"tileHeight",0),this.widthInPixels=f(r,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(r,"heightInPixels",this.height*this.tileHeight),this.format=f(r,"format",null),this.orientation=f(r,"orientation",y.ORTHOGONAL),this.renderOrder=f(r,"renderOrder","right-down"),this.version=f(r,"version","1"),this.properties=f(r,"properties",{}),this.layers=f(r,"layers",[]),this.images=f(r,"images",[]),this.objects=f(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=f(r,"collision",{}),this.tilesets=f(r,"tilesets",[]),this.imageCollections=f(r,"imageCollections",[]),this.tiles=f(r,"tiles",[]),this.hexSideLength=f(r,"hexSideLength",0),this.staggerAxis=f(r,"staggerAxis","y"),this.staggerIndex=f(r,"staggerIndex","odd")}});C.exports=l},48700:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=new g({initialize:function(h){h===void 0&&(h={}),this.name=y(h,"name","object layer"),this.id=y(h,"id",0),this.opacity=y(h,"opacity",1),this.properties=y(h,"properties",{}),this.propertyTypes=y(h,"propertytypes",{}),this.type=y(h,"type","objectgroup"),this.visible=y(h,"visible",!0),this.objects=y(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});C.exports=f},6641:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(91907),y=function(f){return f=f.toLowerCase(),f==="isometric"?g.ISOMETRIC:f==="staggered"?g.STAGGERED:f==="hexagonal"?g.HEXAGONAL:g.ORTHOGONAL};C.exports=y},46177:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80341),y=s(2342),f=s(82593),l=s(46594),h=s(87021),r=function(o,u,a,d,c,p){var v;switch(u){case g.ARRAY_2D:v=y(o,a,d,c,p);break;case g.CSV:v=f(o,a,d,c,p);break;case g.TILED_JSON:v=l(o,a,p);break;case g.WELTMEISTER:v=h(o,a,p);break;default:console.warn("Unrecognized tilemap data format: "+u),v=null}return v};C.exports=r},2342:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80341),y=s(14977),f=s(87010),l=s(23029),h=function(r,o,u,a,d){for(var c=new y({tileWidth:u,tileHeight:a}),p=new f({name:r,tileWidth:u,tileHeight:a,format:g.ARRAY_2D,layers:[c]}),v=[],m=o.length,T=0,E=0;E<o.length;E++){v[E]=[];for(var P=o[E],w=0;w<P.length;w++){var R=parseInt(P[w],10);isNaN(R)||R===-1?v[E][w]=d?null:new l(c,-1,w,E,u,a):v[E][w]=new l(c,R,w,E,u,a)}T===0&&(T=P.length)}return p.width=c.width=T,p.height=c.height=m,p.widthInPixels=c.widthInPixels=T*u,p.heightInPixels=c.heightInPixels=m*a,c.data=v,p};C.exports=h},82593:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80341),y=s(2342),f=function(l,h,r,o,u){var a=h.trim().split(`
`).map(function(c){return c.split(",")}),d=y(l,a,r,o,u);return d.format=g.CSV,d};C.exports=f},6656:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(14977),y=s(23029),f=function(l,h){for(var r=[],o=0;o<l.layer.length;o++){for(var u=l.layer[o],a=new g({name:u.name,width:u.width,height:u.height,tileWidth:u.tilesize,tileHeight:u.tilesize,visible:u.visible===1}),d=[],c=[],p=0;p<u.data.length;p++){for(var v=0;v<u.data[p].length;v++){var m=u.data[p][v]-1,T;m>-1?T=new y(a,m,v,p,u.tilesize,u.tilesize):T=h?null:new y(a,-1,v,p,u.tilesize,u.tilesize),d.push(T)}c.push(d),d=[]}a.data=c,r.push(a)}return r};C.exports=f},96483:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33629),y=function(f){for(var l=[],h=[],r=0;r<f.layer.length;r++){var o=f.layer[r],u=o.tilesetName;u!==""&&h.indexOf(u)===-1&&(h.push(u),l.push(new g(u,0,o.tilesize,o.tilesize,0,0)))}return l};C.exports=y},87021:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(80341),y=s(87010),f=s(6656),l=s(96483),h=function(r,o,u){if(o.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+r),null;for(var a=0,d=0,c=0;c<o.layer.length;c++)o.layer[c].width>a&&(a=o.layer[c].width),o.layer[c].height>d&&(d=o.layer[c].height);var p=new y({width:a,height:d,name:r,tileWidth:o.layer[0].tilesize,tileHeight:o.layer[0].tilesize,format:g.WELTMEISTER});return p.layers=f(o,u),p.tilesets=l(o),p};C.exports=h},52833:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ParseTileLayers:s(6656),ParseTilesets:s(96483),ParseWeltmeister:s(87021)}},57442:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={FromOrientationString:s(6641),Parse:s(46177),Parse2DArray:s(2342),ParseCSV:s(82593),Impact:s(52833),Tiled:s(96761)}},51233:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(79291),y=function(f){for(var l,h,r,o,u,a=0;a<f.layers.length;a++){l=f.layers[a],o=null;for(var d=0;d<l.data.length;d++){u=l.data[d];for(var c=0;c<u.length;c++)h=u[c],!(h===null||h.index<0)&&(r=f.tiles[h.index][2],o=f.tilesets[r],h.width=o.tileWidth,h.height=o.tileHeight,o.tileProperties&&o.tileProperties[h.index-o.firstgid]&&(h.properties=g(h.properties,o.tileProperties[h.index-o.firstgid])))}}};C.exports=y},41868:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=window.atob(s),y=g.length,f=new Array(y/4),l=0;l<y;l+=4)f[l/4]=(g.charCodeAt(l)|g.charCodeAt(l+1)<<8|g.charCodeAt(l+2)<<16|g.charCodeAt(l+3)<<24)>>>0;return f};C.exports=A},84101:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33629),y=function(f){var l,h,r=[];for(l=0;l<f.imageCollections.length;l++)for(var o=f.imageCollections[l],u=o.images,a=0;a<u.length;a++){var d=u[a],c={x:0,y:d.height-f.tileHeight};h=new g(d.image,d.gid,d.width,d.height,0,0,void 0,void 0,c),h.updateTileData(d.width,d.height),f.tilesets.push(h)}for(l=0;l<f.tilesets.length;l++){h=f.tilesets[l];for(var p=h.tileMargin,v=h.tileMargin,m=0,T=0,E=0,P=h.firstgid;P<h.firstgid+h.total&&(r[P]=[p,v,l],p+=h.tileWidth+h.tileSpacing,m++,!(m===h.total||(T++,T===h.columns&&(p=h.tileMargin,v+=h.tileHeight+h.tileSpacing,T=0,E++,E===h.rows))));P++);}return r};C.exports=y},79677:(C,A,s)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=function(f,l,h){if(!l)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var r=l.x+g(l,"startx",0)*f.tilewidth+g(l,"offsetx",0),o=l.y+g(l,"starty",0)*f.tileheight+g(l,"offsety",0);return{i:0,layers:l.layers,name:h.name+l.name+"/",opacity:h.opacity*l.opacity,visible:h.visible&&l.visible,x:h.x+r,y:h.y+o}};C.exports=y},29920:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=2147483648,s=1073741824,g=536870912,y=function(f){var l=!!(f&A),h=!!(f&s),r=!!(f&g);f=f&536870911;var o=0,u=!1;return l&&h&&r?(o=Math.PI/2,u=!0):l&&h&&!r?(o=Math.PI,u=!1):l&&!h&&r?(o=Math.PI/2,u=!1):l&&!h&&!r?(o=0,u=!0):!l&&h&&r?(o=3*Math.PI/2,u=!1):!l&&h&&!r?(o=Math.PI,u=!0):!l&&!h&&r?(o=3*Math.PI/2,u=!0):!l&&!h&&!r&&(o=0,u=!1),{gid:f,flippedHorizontal:l,flippedVertical:h,flippedAntiDiagonal:r,rotation:o,flipped:u}};C.exports=y},12635:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=s(79677),f=function(l){for(var h=[],r=[],o=y(l);o.i<o.layers.length||r.length>0;){if(o.i>=o.layers.length){if(r.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=r.pop();continue}var u=o.layers[o.i];if(o.i++,u.type!=="imagelayer"){if(u.type==="group"){var a=y(l,u,o);r.push(o),o=a}continue}var d=g(u,"offsetx",0)+g(u,"startx",0),c=g(u,"offsety",0)+g(u,"starty",0);h.push({name:o.name+u.name,image:u.image,x:o.x+d+u.x,y:o.y+c+u.y,alpha:o.opacity*u.opacity,visible:o.visible&&u.visible,properties:g(u,"properties",{})})}return h};C.exports=f},46594:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(51233),y=s(84101),f=s(91907),l=s(62644),h=s(80341),r=s(6641),o=s(87010),u=s(12635),a=s(22611),d=s(28200),c=s(24619),p=function(v,m,T){var E=l(m),P=new o({width:E.width,height:E.height,name:v,tileWidth:E.tilewidth,tileHeight:E.tileheight,orientation:r(E.orientation),format:h.TILED_JSON,version:E.version,properties:E.properties,renderOrder:E.renderorder,infinite:E.infinite});if(P.orientation===f.HEXAGONAL)if(P.hexSideLength=E.hexsidelength,P.staggerAxis=E.staggeraxis,P.staggerIndex=E.staggerindex,P.staggerAxis==="y"){var w=(P.tileHeight-P.hexSideLength)/2;P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+w)+w}else{var R=(P.tileWidth-P.hexSideLength)/2;P.widthInPixels=P.width*(P.hexSideLength+R)+R,P.heightInPixels=P.tileHeight*(P.height+.5)}P.layers=d(E,T),P.images=u(E);var b=c(E);return P.tilesets=b.tilesets,P.imageCollections=b.imageCollections,P.objects=a(E),P.tiles=y(P),g(P),P};C.exports=p},52205:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(18254),y=s(29920),f=function(r){return{x:r.x,y:r.y}},l=["id","name","type","rotation","properties","visible","x","y","width","height"],h=function(r,o,u){o===void 0&&(o=0),u===void 0&&(u=0);var a=g(r,l);if(a.x+=o,a.y+=u,r.gid){var d=y(r.gid);a.gid=d.gid,a.flippedHorizontal=d.flippedHorizontal,a.flippedVertical=d.flippedVertical,a.flippedAntiDiagonal=d.flippedAntiDiagonal}else r.polyline?a.polyline=r.polyline.map(f):r.polygon?a.polygon=r.polygon.map(f):r.ellipse?a.ellipse=r.ellipse:r.text?a.text=r.text:r.point?a.point=!0:a.rectangle=!0;return a};C.exports=h},22611:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95540),y=s(52205),f=s(48700),l=s(79677),h=function(r){for(var o=[],u=[],a=l(r);a.i<a.layers.length||u.length>0;){if(a.i>=a.layers.length){if(u.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=u.pop();continue}var d=a.layers[a.i];if(a.i++,d.opacity*=a.opacity,d.visible=a.visible&&d.visible,d.type!=="objectgroup"){if(d.type==="group"){var c=l(r,d,a);u.push(a),a=c}continue}d.name=a.name+d.name;for(var p=a.x+g(d,"startx",0)+g(d,"offsetx",0),v=a.y+g(d,"starty",0)+g(d,"offsety",0),m=[],T=0;T<d.objects.length;T++){var E=y(d.objects[T],p,v);m.push(E)}var P=new f(d);P.objects=m,o.push(P)}return o};C.exports=h},28200:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41868),y=s(91907),f=s(79677),l=s(6641),h=s(95540),r=s(14977),o=s(29920),u=s(23029),a=function(d,c){for(var p=h(d,"infinite",!1),v=[],m=[],T=f(d);T.i<T.layers.length||m.length>0;){if(T.i>=T.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}T=m.pop();continue}var E=T.layers[T.i];if(T.i++,E.type!=="tilelayer"){if(E.type==="group"){var P=f(d,E,T);m.push(T),T=P}continue}if(E.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+E.name+"'");continue}else if(E.encoding&&E.encoding==="base64"){if(E.chunks)for(var w=0;w<E.chunks.length;w++)E.chunks[w].data=g(E.chunks[w].data);E.data&&(E.data=g(E.data)),delete E.encoding}var R,b,O,I,D,B,k=[],z=0;if(p){var X=h(E,"startx",0)+E.x,K=h(E,"starty",0)+E.y;R=new r({name:T.name+E.name,id:E.id,x:T.x+h(E,"offsetx",0)+X*d.tilewidth,y:T.y+h(E,"offsety",0)+K*d.tileheight,width:E.width,height:E.height,tileWidth:d.tilewidth,tileHeight:d.tileheight,alpha:T.opacity*E.opacity,visible:T.visible&&E.visible,properties:h(E,"properties",[]),orientation:l(d.orientation)}),R.orientation===y.HEXAGONAL&&(R.hexSideLength=d.hexsidelength,R.staggerAxis=d.staggeraxis,R.staggerIndex=d.staggerindex,R.staggerAxis==="y"?(D=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+D)+D):(B=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+B)+B,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var H=0;H<E.height;H++){k[H]=[null];for(var Q=0;Q<E.width;Q++)k[H][Q]=null}for(H=0,ft=E.chunks.length;H<ft;H++)for(var W=E.chunks[H],Y=W.x-X,N=W.y-K,Z=0,U=0,j=W.data.length;U<j;U++){var et=z+Y,it=Z+N;b=o(W.data[U]),b.gid>0?(O=new u(R,b.gid,et,it,d.tilewidth,d.tileheight),O.rotation=b.rotation,O.flipX=b.flipped,k[it][et]=O):(I=c?null:new u(R,-1,et,it,d.tilewidth,d.tileheight),k[it][et]=I),z++,z===W.width&&(Z++,z=0)}}else{R=new r({name:T.name+E.name,id:E.id,x:T.x+h(E,"offsetx",0)+E.x,y:T.y+h(E,"offsety",0)+E.y,width:E.width,height:E.height,tileWidth:d.tilewidth,tileHeight:d.tileheight,alpha:T.opacity*E.opacity,visible:T.visible&&E.visible,properties:h(E,"properties",[]),orientation:l(d.orientation)}),R.orientation===y.HEXAGONAL&&(R.hexSideLength=d.hexsidelength,R.staggerAxis=d.staggeraxis,R.staggerIndex=d.staggerindex,R.staggerAxis==="y"?(D=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+D)+D):(B=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+B)+B,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var rt=[],lt=0,ft=E.data.length;lt<ft;lt++)b=o(E.data[lt]),b.gid>0?(O=new u(R,b.gid,z,k.length,d.tilewidth,d.tileheight),O.rotation=b.rotation,O.flipX=b.flipped,rt.push(O)):(I=c?null:new u(R,-1,z,k.length,d.tilewidth,d.tileheight),rt.push(I)),z++,z===E.width&&(k.push(rt),z=0,rt=[])}R.data=k,v.push(R)}return v};C.exports=a},24619:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(33629),y=s(16536),f=s(52205),l=s(57880),h=function(r){for(var o=[],u=[],a=null,d,c=0;c<r.tilesets.length;c++){var p=r.tilesets[c];if(p.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(p.image){var v=new g(p.name,p.firstgid,p.tilewidth,p.tileheight,p.margin,p.spacing,void 0,void 0,p.tileoffset);if(r.version>1){var m=void 0,T=void 0;if(Array.isArray(p.tiles)){m=m||{},T=T||{};for(var E=0;E<p.tiles.length;E++){var P=p.tiles[E];if(P.properties){var w={};P.properties.forEach(function(H){w[H.name]=H.value}),T[P.id]=w}if(P.objectgroup&&((m[P.id]||(m[P.id]={})).objectgroup=P.objectgroup,P.objectgroup.objects)){var R=P.objectgroup.objects.map(function(H){return f(H)});m[P.id].objectgroup.objects=R}P.animation&&((m[P.id]||(m[P.id]={})).animation=P.animation),P.type&&((m[P.id]||(m[P.id]={})).type=P.type)}}Array.isArray(p.wangsets)&&(m=m||{},T=T||{},l(p.wangsets,m)),m&&(v.tileData=m,v.tileProperties=T)}else if(p.tileproperties&&(v.tileProperties=p.tileproperties),p.tiles){v.tileData=p.tiles;for(d in v.tileData){var b=v.tileData[d].objectgroup;if(b&&b.objects){var O=b.objects.map(function(H){return f(H)});v.tileData[d].objectgroup.objects=O}}}v.updateTileData(p.imagewidth,p.imageheight),o.push(v)}else{var I=new y(p.name,p.firstgid,p.tilewidth,p.tileheight,p.margin,p.spacing,p.properties),D=0;for(E=0;E<p.tiles.length;E++){P=p.tiles[E];var B=P.image,k=parseInt(P.id,10),z=p.firstgid+k,X=P.imagewidth,K=P.imageheight;I.addImage(z,B,X,K),D=Math.max(k,D)}I.maxId=D,u.push(I)}a&&(a.lastgid=p.firstgid-1),a=p}return{tilesets:o,imageCollections:u}};C.exports=h},57880:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){for(var y=0;y<s.length;y++){var f=s[y],l=y;if(f.name&&f.name!==""&&(l=f.name),Array.isArray(f.wangtiles)&&f.wangtiles.length>0){var h={},r={},o,u,a;if(Array.isArray(f.edgecolors))for(o=0;o<f.edgecolors.length;o++)a=1+o,u=f.edgecolors[o],u.name!==""&&(h[a]=u.name);if(Array.isArray(f.cornercolors))for(o=0;o<f.cornercolors.length;o++)a=1+o,u=f.cornercolors[o],u.name!==""&&(r[a]=u.name);if(Array.isArray(f.colors))for(o=0;o<f.colors.length;o++)u=f.colors[o],a=1+o,u.name!==""&&(h[a]=r[a]=u.name);for(var d=[h,r,h,r,h,r,h,r],c=0;c<f.wangtiles.length;c++){var p=f.wangtiles[c],v=g[p.tileid]||(g[p.tileid]={});v=v.wangid||(v.wangid={});for(var m=[],T=0;T<Math.min(d.length,p.wangid.length);T++){if(u=p.wangid[T],u===0){m.push(void 0);continue}var E=d[T][u];if(E!==void 0){m.push(E);continue}m.push(u)}v[l]=m}}}};C.exports=A},96761:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={AssignTileProperties:s(51233),Base64Decode:s(41868),BuildTilesetIndex:s(84101),CreateGroupLayer:s(79677),ParseGID:s(29920),ParseImageLayers:s(12635),ParseJSONTiled:s(46594),ParseObject:s(52205),ParseObjectLayers:s(22611),ParseTileLayers:s(28200),ParseTilesets:s(24619)}},33385:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(37277),f=s(44594),l=s(94880),h=s(72905),r=new g({initialize:function(u){this.scene=u,this.systems=u.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],u.sys.events.once(f.BOOT,this.boot,this),u.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var o=this.systems.events;o.on(f.PRE_UPDATE,this.preUpdate,this),o.on(f.UPDATE,this.update,this),o.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(o){var u;if(o instanceof l){if(u=o,this.removeEvent(u),u.elapsed=u.startAt,u.hasDispatched=!1,u.repeatCount=u.repeat===-1||u.loop?999999999999:u.repeat,u.delay<=0&&u.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else u=new l(o);return this._pendingInsertion.push(u),u},delayedCall:function(o,u,a,d){return this.addEvent({delay:o,callback:u,args:a,callbackScope:d})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length;u++){var a=o[u];h(this._pendingRemoval,a),h(this._pendingInsertion,a),h(this._active,a)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var o=this._pendingRemoval.length,u=this._pendingInsertion.length;if(!(o===0&&u===0)){var a,d;for(a=0;a<o;a++){d=this._pendingRemoval[a];var c=this._active.indexOf(d);c>-1&&this._active.splice(c,1),d.destroy()}for(a=0;a<u;a++)d=this._pendingInsertion[a],this._active.push(d);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(o,u){if(this.now=o,!this.paused){u*=this.timeScale;for(var a=0;a<this._active.length;a++){var d=this._active[a];if(!d.paused&&(d.elapsed+=u*d.timeScale,d.elapsed>=d.delay)){var c=d.elapsed-d.delay;if(d.elapsed=d.delay,!d.hasDispatched&&d.callback&&(d.hasDispatched=!0,d.callback.apply(d.callbackScope,d.args)),d.repeatCount>0){if(d.repeatCount--,c>=d.delay)for(;c>=d.delay&&d.repeatCount>0;)d.callback&&d.callback.apply(d.callbackScope,d.args),c-=d.delay,d.repeatCount--;d.elapsed=c,d.hasDispatched=!1}else d.hasDispatched&&this._pendingRemoval.push(d)}}}},shutdown:function(){var o;for(o=0;o<this._pendingInsertion.length;o++)this._pendingInsertion[o].destroy();for(o=0;o<this._active.length;o++)this._active[o].destroy();for(o=0;o<this._pendingRemoval.length;o++)this._pendingRemoval[o].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var u=this.systems.events;u.off(f.PRE_UPDATE,this.preUpdate,this),u.off(f.UPDATE,this.update,this),u.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});y.register("Clock",r,"time"),C.exports=r},96120:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(39429),l=s(95540),h=s(44594),r=s(89809),o=new g({Extends:y,initialize:function(a,d){y.call(this),this.scene=a,this.systems=a.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var c=this.systems.events;c.on(h.PRE_UPDATE,this.preUpdate,this),c.on(h.UPDATE,this.update,this),c.once(h.SHUTDOWN,this.destroy,this),d&&this.add(d)},preUpdate:function(u,a){this.paused||(this.elapsed+=a*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var u,a=this.events,d=!1,c=this.systems,p;for(u=0;u<a.length;u++){var v=a[u];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,p=v.target?v.target:this,v.if&&!v.if.call(p,v))continue;if(v.once&&(d=!0),v.set&&v.target)for(var m in v.set)v.target[m]=v.set[m];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(p),v.tween&&(v.tweenInstance=c.tweens.add(v.tween)),v.sound&&(typeof v.sound=="string"?c.sound.play(v.sound):c.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,p),v.run&&v.run.call(p),v.stop&&this.stop()}}if(d)for(u=0;u<a.length;u++)a[u].complete&&a[u].once&&(a.splice(u,1),u--);this.totalComplete>=a.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(r.COMPLETE,this)}},play:function(u){return u===void 0&&(u=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,u&&this.reset(),this},pause:function(){this.paused=!0;for(var u=this.events,a=0;a<u.length;a++){var d=u[a];d.tweenInstance&&(d.tweenInstance.paused=!0)}return this},repeat:function(u){return(u===void 0||u===!0)&&(u=-1),u===!1&&(u=0),this.loop=u,this},resume:function(){this.paused=!1;for(var u=this.events,a=0;a<u.length;a++){var d=u[a];d.tweenInstance&&(d.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(u){u===void 0&&(u=!1),this.elapsed=0,u||(this.iteration=0);for(var a=this.events,d=0;d<a.length;d++){var c=a[d];c.complete=!1,u||(c.repeat=0),c.tweenInstance&&c.tweenInstance.stop()}return this.play(!1)},add:function(u){Array.isArray(u)||(u=[u]);var a=this.events,d=0;a.length>0&&(d=a[a.length-1].time);for(var c=0;c<u.length;c++){var p=u[c],v=l(p,"at",0),m=l(p,"in",null);m!==null&&(v=this.elapsed+m);var T=l(p,"from",null);T!==null&&(v=d+T),a.push({complete:!1,time:v,repeat:0,if:l(p,"if",null),run:l(p,"run",null),loop:l(p,"loop",null),event:l(p,"event",null),target:l(p,"target",null),set:l(p,"set",null),tween:l(p,"tween",null),sound:l(p,"sound",null),once:l(p,"once",!1),stop:l(p,"stop",!1)}),d=v}return this.complete=!1,this},clear:function(){for(var u=this.events,a=0;a<u.length;a++){var d=u[a];d.tweenInstance&&d.tweenInstance.stop()}return u=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var u=Math.min(this.totalComplete,this.events.length);return u/this.events.length},destroy:function(){var u=this.systems.events;u.off(h.PRE_UPDATE,this.preUpdate,this),u.off(h.UPDATE,this.update,this),u.off(h.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});f.register("timeline",function(u){return new o(this.scene,u)}),C.exports=o},94880:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(95540),f=new g({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(l){if(this.delay=y(l,"delay",0),this.repeat=y(l,"repeat",0),this.loop=y(l,"loop",!1),this.callback=y(l,"callback",void 0),this.callbackScope=y(l,"callbackScope",this),this.args=y(l,"args",[]),this.timeScale=y(l,"timeScale",1),this.startAt=y(l,"startAt",0),this.paused=y(l,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var l=this.delay+this.delay*this.repeat,h=this.elapsed+this.delay*(this.repeat-this.repeatCount);return h/l}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(l){l===void 0&&(l=!1),this.elapsed=this.delay,this.hasDispatched=!l,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});C.exports=f},35945:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},89809:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={COMPLETE:s(35945)}},90291:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Clock:s(33385),Events:s(89809),Timeline:s(96120),TimerEvent:s(94880)}},40382:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(72905),y=s(83419),f=s(43491),l=s(88032),h=s(37277),r=s(44594),o=s(93109),u=s(86081),a=s(8357),d=s(43960),c=s(26012),p=new y({initialize:function(m){this.scene=m,this.events=m.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(r.UPDATE,this.update,this),this.events.once(r.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var m=[],T=0;T<v.length;T++){var E=v[T];E instanceof u||E instanceof d?m.push(E):Array.isArray(E.tweens)?m.push(c(this,E)):m.push(a(this,E))}return m.length===1?m[0]:m},add:function(v){var m=v,T=this.tweens;return m instanceof u||m instanceof d||(Array.isArray(m.tweens)?m=c(this,m):m=a(this,m)),T.push(m.reset()),m},addMultiple:function(v){for(var m,T=[],E=this.tweens,P=0;P<v.length;P++)m=v[P],m instanceof u||m instanceof d||(Array.isArray(m.tweens)?m=c(this,m):m=a(this,m)),E.push(m.reset()),T.push(m);return T},chain:function(v){var m=c(this,v);return this.tweens.push(m.init()),m},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var m=l(this,v);return this.tweens.push(m.reset()),m},stagger:function(v,m){return o(v,m)},setLagSmooth:function(v,m){return v===void 0&&(v=1/1e-8),m===void 0&&(m=0),this.maxLag=v,this.lagSkip=Math.min(m,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var m=Date.now()-this.prevTime;m>this.maxLag&&(this.startTime+=m-this.lagSkip),this.prevTime+=m;var T=this.prevTime-this.startTime,E=T-this.nextTime,P=T-this.time*1e3;return E>0||v?(T/=1e3,this.time=T,this.nextTime+=E+(E>=this.gap?4:this.gap-E)):P=0,P},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var m=this.getDelta(v);if(!(m<=0)){this.processing=!0;var T,E,P=[],w=this.tweens;for(T=0;T<w.length;T++)E=w[T],E.update(m)&&P.push(E);var R=P.length;if(R&&w.length>0){for(T=0;T<R;T++){E=P[T];var b=w.indexOf(E);b>-1&&(E.isPendingRemove()||E.isDestroyed())&&(w.splice(b,1),E.destroy())}P.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(g(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,m){var T,E=[null];for(T=1;T<arguments.length;T++)E.push(arguments[T]);return this.tweens.forEach(function(P){E[0]=P,v.apply(m,E)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var m=[],T=this.tweens;Array.isArray(v)?v=f(v):v=[v];for(var E=v.length,P=0;P<T.length;P++)for(var w=T[P],R=0;R<E;R++)!w.isDestroyed()&&w.hasTarget(v[R])&&m.push(w);return m},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var m=this.tweens,T,E=0;E<m.length;E++)if(T=m[E],T.isPlaying()&&T.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,m=0;m<v.length;m++)v[m].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var m=this.getTweensOf(v),T=0;T<m.length;T++)m[T].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(r.UPDATE,this.update,this),this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.events=null}});h.register("TweenManager",p,"tweens"),C.exports=p},57355:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){return s&&s.hasOwnProperty(g)?s[g]:y};C.exports=A},6113:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(62640),y=s(35355),f=function(l,h){var r=g.Power0;if(typeof l=="string")if(g.hasOwnProperty(l))r=g[l];else{var o="";if(l.indexOf(".")){o=l.substring(l.indexOf(".")+1);var u=o.toLowerCase();u==="in"?o="easeIn":u==="out"?o="easeOut":u==="inout"&&(o="easeInOut")}l=y(l.substring(0,l.indexOf(".")+1)+o),g.hasOwnProperty(l)&&(r=g[l])}else typeof l=="function"&&(r=l);if(!h)return r;var a=h.slice(0);return a.unshift(0),function(d){return a[0]=d,r.apply(this,a)}};C.exports=f},91389:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(89318),y=s(77259),f=s(28392),l={bezier:g,catmull:y,catmullrom:y,linear:f},h=function(r){if(r===null)return null;var o=l.linear;return typeof r=="string"?l.hasOwnProperty(r)&&(o=l[r]):typeof r=="function"&&(o=r),o};C.exports=h},55292:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f;if(s.hasOwnProperty(g)){var l=typeof s[g];l==="function"?f=function(h,r,o,u,a,d){return s[g](h,r,o,u,a,d)}:f=function(){return s[g]}}else typeof y=="function"?f=y:f=function(){return y};return f};C.exports=A},82985:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(81076),y=function(f){var l,h=[];if(f.hasOwnProperty("props"))for(l in f.props)l.substring(0,1)!=="_"&&h.push({key:l,value:f.props[l]});else for(l in f)g.indexOf(l)===-1&&l.substring(0,1)!=="_"&&h.push({key:l,value:f[l]});return h};C.exports=y},62329:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35154),y=function(f){var l=g(f,"targets",null);return l===null||(typeof l=="function"&&(l=l.call()),Array.isArray(l)||(l=[l])),l};C.exports=y},17777:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(30976),y=s(99472);function f(u){return!!u.getActive&&typeof u.getActive=="function"}function l(u){return!!u.getStart&&typeof u.getStart=="function"}function h(u){return!!u.getEnd&&typeof u.getEnd=="function"}function r(u){return l(u)||h(u)||f(u)}var o=function(u,a){var d,c=function(H,Q,W){return W},p=function(H,Q,W){return W},v=null,m=typeof a;if(m==="number")c=function(){return a};else if(Array.isArray(a))p=function(){return a[0]},c=function(){return a[a.length-1]};else if(m==="string"){var T=a.toLowerCase(),E=T.substring(0,6)==="random",P=T.substring(0,3)==="int";if(E||P){var w=T.indexOf("("),R=T.indexOf(")"),b=T.indexOf(",");if(w&&R&&b){var O=parseFloat(T.substring(w+1,b)),I=parseFloat(T.substring(b+1,R));E?c=function(){return y(O,I)}:c=function(){return g(O,I)}}else throw new Error("invalid random() format")}else{T=T[0];var D=parseFloat(a.substr(2));switch(T){case"+":c=function(H,Q,W){return W+D};break;case"-":c=function(H,Q,W){return W-D};break;case"*":c=function(H,Q,W){return W*D};break;case"/":c=function(H,Q,W){return W/D};break;default:c=function(){return parseFloat(a)}}}}else if(m==="function")c=a;else if(m==="object")if(r(a))f(a)&&(v=a.getActive),h(a)&&(c=a.getEnd),l(a)&&(p=a.getStart);else if(a.hasOwnProperty("value"))d=o(u,a.value);else{var B=a.hasOwnProperty("to"),k=a.hasOwnProperty("from"),z=a.hasOwnProperty("start");if(B&&(k||z)){if(d=o(u,a.to),z){var X=o(u,a.start);d.getActive=X.getEnd}if(k){var K=o(u,a.from);d.getStart=K.getEnd}}}return d||(d={getActive:v,getEnd:c,getStart:p}),d};C.exports=o},88032:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70402),y=s(69902),f=s(23568),l=s(57355),h=s(6113),r=s(95540),o=s(55292),u=s(35154),a=s(17777),d=s(269),c=s(86081),p=function(v,m,T){if(m instanceof c)return m.parent=v,m;T===void 0?T=y:T=d(y,T);var E=r(m,"from",0),P=r(m,"to",1),w=[{value:E}],R=r(m,"delay",T.delay),b=r(m,"easeParams",T.easeParams),O=r(m,"ease",T.ease),I=a("value",P),D=new c(v,w),B=D.add(0,"value",I.getEnd,I.getStart,I.getActive,h(r(m,"ease",O),r(m,"easeParams",b)),o(m,"delay",R),r(m,"duration",T.duration),l(m,"yoyo",T.yoyo),r(m,"hold",T.hold),r(m,"repeat",T.repeat),r(m,"repeatDelay",T.repeatDelay),!1,!1);B.start=E,B.current=E,D.completeDelay=f(m,"completeDelay",0),D.loop=Math.round(f(m,"loop",0)),D.loopDelay=Math.round(f(m,"loopDelay",0)),D.paused=l(m,"paused",!1),D.persist=l(m,"persist",!1),D.isNumberTween=!0,D.callbackScope=u(m,"callbackScope",D);for(var k=g.TYPES,z=0;z<k.length;z++){var X=k[z],K=u(m,X,!1);if(K){var H=u(m,X+"Params",[]);D.setCallback(X,K,H)}}return D};C.exports=p},93109:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(6113),y=s(35154),f=s(36383),l=function(h,r){r===void 0&&(r={});var o,u=y(r,"start",0),a=y(r,"ease",null),d=y(r,"grid",null),c=y(r,"from",0),p=c==="first",v=c==="center",m=c==="last",T=typeof c=="number",E=Array.isArray(h),P=parseFloat(E?h[0]:h),w=E?parseFloat(h[1]):0,R=Math.max(P,w);if(E&&(u+=P),d){var b=d[0],O=d[1],I=0,D=0,B=0,k=0,z=[];m?(I=b-1,D=O-1):T?(I=c%b,D=Math.floor(c/b)):v&&(I=(b-1)/2,D=(O-1)/2);for(var X=f.MIN_SAFE_INTEGER,K=0;K<O;K++){z[K]=[];for(var H=0;H<b;H++){B=I-H,k=D-K;var Q=Math.sqrt(B*B+k*k);Q>X&&(X=Q),z[K][H]=Q}}}var W=a?g(a):null;return d?o=function(Y,N,Z,U){var j=0,et=U%b,it=Math.floor(U/b);et>=0&&et<b&&it>=0&&it<O&&(j=z[it][et]);var rt;if(E){var lt=w-P;W?rt=j/X*lt*W(j/X):rt=j/X*lt}else W?rt=j*P*W(j/X):rt=j*P;return rt+u}:o=function(Y,N,Z,U,j){j--;var et;p?et=U:v?et=Math.abs(j/2-U):m?et=j-U:T&&(et=Math.abs(c-U));var it;if(E){var rt;v?rt=(w-P)/j*(et*2):rt=(w-P)/j*et,W?it=rt*W(et/j):it=rt}else W?it=j*R*W(et/j):it=et*P;return it+u},o};C.exports=l},8357:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70402),y=s(69902),f=s(23568),l=s(57355),h=s(6113),r=s(95540),o=s(91389),u=s(55292),a=s(82985),d=s(62329),c=s(35154),p=s(17777),v=s(269),m=s(86081),T=function(E,P,w){if(P instanceof m)return P.parent=E,P;w===void 0?w=y:w=v(y,w);var R=d(P);!R&&w.targets&&(R=w.targets);for(var b=a(P),O=r(P,"delay",w.delay),I=r(P,"duration",w.duration),D=r(P,"easeParams",w.easeParams),B=r(P,"ease",w.ease),k=r(P,"hold",w.hold),z=r(P,"repeat",w.repeat),X=r(P,"repeatDelay",w.repeatDelay),K=l(P,"yoyo",w.yoyo),H=l(P,"flipX",w.flipX),Q=l(P,"flipY",w.flipY),W=r(P,"interpolation",w.interpolation),Y=function(vt,xt,yt,Ct){if(yt==="texture"){var wt=Ct,Lt=void 0;Array.isArray(Ct)?(wt=Ct[0],Lt=Ct[1]):Ct.hasOwnProperty("value")?(wt=Ct.value,Array.isArray(Ct.value)?(wt=Ct.value[0],Lt=Ct.value[1]):typeof Ct.value=="string"&&(wt=Ct.value)):typeof Ct=="string"&&(wt=Ct),vt.addFrame(xt,wt,Lt,u(Ct,"delay",O),r(Ct,"duration",I),r(Ct,"hold",k),r(Ct,"repeat",z),r(Ct,"repeatDelay",X),l(Ct,"flipX",H),l(Ct,"flipY",Q))}else{var bt=p(yt,Ct),St=o(r(Ct,"interpolation",W));vt.add(xt,yt,bt.getEnd,bt.getStart,bt.getActive,h(r(Ct,"ease",B),r(Ct,"easeParams",D)),u(Ct,"delay",O),r(Ct,"duration",I),l(Ct,"yoyo",K),r(Ct,"hold",k),r(Ct,"repeat",z),r(Ct,"repeatDelay",X),l(Ct,"flipX",H),l(Ct,"flipY",Q),St,St?Ct:null)}},N=new m(E,R),Z=0;Z<b.length;Z++)for(var U=b[Z].key,j=b[Z].value,et=0;et<R.length;et++)U==="scale"&&!R[et].hasOwnProperty("scale")?(Y(N,et,"scaleX",j),Y(N,et,"scaleY",j)):Y(N,et,U,j);N.completeDelay=f(P,"completeDelay",0),N.loop=Math.round(f(P,"loop",0)),N.loopDelay=Math.round(f(P,"loopDelay",0)),N.paused=l(P,"paused",!1),N.persist=l(P,"persist",!1),N.callbackScope=r(P,"callbackScope",N);for(var it=g.TYPES,rt=0;rt<it.length;rt++){var lt=it[rt],ft=c(P,lt,!1);if(ft){var pt=c(P,lt+"Params",[]);N.setCallback(lt,ft,pt)}}return N};C.exports=T},26012:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70402),y=s(23568),f=s(57355),l=s(62329),h=s(35154),r=s(8357),o=s(43960),u=function(a,d){if(d instanceof o)return d.parent=a,d;var c=new o(a);c.startDelay=h(d,"delay",0),c.completeDelay=y(d,"completeDelay",0),c.loop=Math.round(y(d,"loop",h(d,"repeat",0))),c.loopDelay=Math.round(y(d,"loopDelay",h(d,"repeatDelay",0))),c.paused=f(d,"paused",!1),c.persist=f(d,"persist",!1),c.callbackScope=h(d,"callbackScope",c);var p,v=g.TYPES;for(p=0;p<v.length;p++){var m=v[p],T=h(d,m,!1);if(T){var E=h(d,m+"Params",[]);c.setCallback(m,T,E)}}var P=h(d,"tweens",null);if(Array.isArray(P)){var w=[],R=l(d),b=void 0;for(R&&(b={targets:R}),p=0;p<P.length;p++)w.push(r(c,P[p],b));c.add(w)}return c};C.exports=u},30231:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={GetBoolean:s(57355),GetEaseFunction:s(6113),GetInterpolationFunction:s(91389),GetNewValue:s(55292),GetProps:s(82985),GetTargets:s(62329),GetValueOp:s(17777),NumberTweenBuilder:s(88032),StaggerBuilder:s(93109),TweenBuilder:s(8357)}},73685:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="active"},98540:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},67233:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loop"},2859:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},98336:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="repeat"},25764:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},32193:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},84371:C=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stop"},70766:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="update"},55659:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="yoyo"},842:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={TWEEN_ACTIVE:s(73685),TWEEN_COMPLETE:s(98540),TWEEN_LOOP:s(67233),TWEEN_PAUSE:s(2859),TWEEN_RESUME:s(25764),TWEEN_REPEAT:s(98336),TWEEN_START:s(32193),TWEEN_STOP:s(84371),TWEEN_UPDATE:s(70766),TWEEN_YOYO:s(55659)}},43066:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={States:s(86353),Builders:s(30231),Events:s(842),TweenManager:s(40382),Tween:s(86081),TweenData:s(48177),TweenFrameData:s(42220),BaseTween:s(70402),TweenChain:s(43960)};C.exports=g},70402:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(50792),f=s(842),l=s(86353),h=new g({Extends:y,initialize:function(o){y.call(this),this.parent=o,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=l.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(r){return this.timeScale=r,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(f.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(f.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(f.TWEEN_COMPLETE,"onComplete")},complete:function(r){return r===void 0&&(r=0),r?(this.setCompleteDelayState(),this.countdown=r):this.onCompleteHandler(),this},completeAfterLoop:function(r){return r===void 0&&(r=0),this.loopCounter>r&&(this.loopCounter=r),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(f.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(r){this.countdown-=r,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(r){return this.countdown-=r,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(f.TWEEN_START,"onStart"),r=0),r},updateCompleteDelay:function(r){this.countdown-=r,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(r,o,u){return u===void 0&&(u=[]),this.callbacks.hasOwnProperty(r)&&(this.callbacks[r]={func:o,params:u}),this},setPendingState:function(){this.state=l.PENDING},setActiveState:function(){this.state=l.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=l.LOOP_DELAY},setCompleteDelayState:function(){this.state=l.COMPLETE_DELAY},setStartDelayState:function(){this.state=l.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=l.PENDING_REMOVE},setRemovedState:function(){this.state=l.REMOVED},setFinishedState:function(){this.state=l.FINISHED},setDestroyedState:function(){this.state=l.DESTROYED},isPending:function(){return this.state===l.PENDING},isActive:function(){return this.state===l.ACTIVE},isLoopDelayed:function(){return this.state===l.LOOP_DELAY},isCompleteDelayed:function(){return this.state===l.COMPLETE_DELAY},isStartDelayed:function(){return this.state===l.START_DELAY},isPendingRemove:function(){return this.state===l.PENDING_REMOVE},isRemoved:function(){return this.state===l.REMOVED},isFinished:function(){return this.state===l.FINISHED},isDestroyed:function(){return this.state===l.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(r){r.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});h.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],C.exports=h},95042:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(83419),y=s(842),f=s(86353),l=new g({initialize:function(r,o,u,a,d,c,p,v,m,T){this.tween=r,this.targetIndex=o,this.duration=a<=0?.01:a,this.totalDuration=0,this.delay=0,this.getDelay=u,this.yoyo=d,this.hold=c,this.repeat=p,this.repeatDelay=v,this.repeatCounter=0,this.flipX=m,this.flipY=T,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(h){h===void 0&&(h=this.current),this.tween.targets[this.targetIndex][this.key]=h},setCreatedState:function(){this.state=f.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=f.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=f.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=f.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=f.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=f.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=f.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=f.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===f.CREATED},isDelayed:function(){return this.state===f.DELAY},isPendingRender:function(){return this.state===f.PENDING_RENDER},isPlayingForward:function(){return this.state===f.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===f.PLAYING_BACKWARD},isHolding:function(){return this.state===f.HOLD_DELAY},isRepeating:function(){return this.state===f.REPEAT_DELAY},isComplete:function(){return this.state===f.COMPLETE},setStateFromEnd:function(h){this.yoyo?this.onRepeat(h,!0,!0):this.repeatCounter>0?this.onRepeat(h,!0,!1):this.setCompleteState()},setStateFromStart:function(h){this.repeatCounter>0?this.onRepeat(h,!1):this.setCompleteState()},reset:function(){var h=this.tween,r=h.totalTargets,o=this.targetIndex,u=h.targets[o],a=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(u,a,0,o,r,h),this.repeatCounter=this.repeat===-1?f.MAX:this.repeat,this.setPendingRenderState();var d=this.duration+this.hold;this.yoyo&&(d+=this.duration);var c=d+this.repeatDelay;this.totalDuration=this.delay+d,this.repeat===-1?(this.totalDuration+=c*f.MAX,h.isInfinite=!0):this.repeat>0&&(this.totalDuration+=c*this.repeat),this.totalDuration>h.duration&&(h.duration=this.totalDuration),this.delay<h.startDelay&&(h.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(h,r,o){var u=this.tween,a=u.totalTargets,d=this.targetIndex,c=u.targets[d],p=this.key,v=p!=="texture";if(this.elapsed=h,this.progress=h/this.duration,this.flipX&&c.toggleFlipX(),this.flipY&&c.toggleFlipY(),v&&(r||o)&&(this.start=this.getStartValue(c,p,this.start,d,a,u)),o){this.setPlayingBackwardState(),this.dispatchEvent(y.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(c,p,this.start,d,a,u)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-h,v&&(this.current=this.start,c[p]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(y.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});C.exports=l},69902:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};C.exports=A},81076:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(70402),y=s(83419),f=s(842),l=s(44603),h=s(39429),r=s(36383),o=s(86353),u=s(48177),a=s(42220),d=new y({Extends:g,initialize:function(p,v){g.call(this,p),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(c,p,v,m,T,E,P,w,R,b,O,I,D,B,k,z){var X=new u(this,c,p,v,m,T,E,P,w,R,b,O,I,D,B,k,z);return this.totalData=this.data.push(X),X},addFrame:function(c,p,v,m,T,E,P,w,R,b){var O=new a(this,c,p,v,m,T,E,P,w,R,b);return this.totalData=this.data.push(O),O},getValue:function(c){c===void 0&&(c=0);var p=null;return this.data&&(p=this.data[c].current),p},hasTarget:function(c){return this.targets&&this.targets.indexOf(c)!==-1},updateTo:function(c,p,v){if(v===void 0&&(v=!1),c!=="texture")for(var m=0;m<this.totalData;m++){var T=this.data[m];T.key===c&&(T.isPlayingForward()||T.isPlayingBackward())&&(T.end=p,v&&(T.start=T.current))}return this},restart:function(){switch(this.state){case o.REMOVED:case o.FINISHED:this.seek(),this.parent.makeActive(this);break;case o.PENDING:case o.PENDING_REMOVE:this.parent.reset(this);break;case o.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,g.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(c,p,v){if(c===void 0&&(c=0),p===void 0&&(p=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive");var m=this.paused;if(this.paused=!1,c>0){for(var T=Math.floor(c/p),E=c-T*p,P=0;P<T;P++)this.update(p);E>0&&this.update(E)}return this.paused=m,this.isSeeking=!1,this},initTweenData:function(c){c===void 0&&(c=!1),this.duration=0,this.startDelay=r.MAX_SAFE_INTEGER;for(var p=this.data,v=0;v<this.totalData;v++)p[v].reset(c);this.duration=Math.max(this.duration,.01);var m=this.duration,T=this.completeDelay,E=this.loopCounter,P=this.loopDelay;E>0?this.totalDuration=m+T+(m+P)*E:this.totalDuration=m+T},reset:function(c){return c===void 0&&(c=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=o.MAX),c||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")),this},update:function(c){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(c*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(c),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(c),!1;this.hasStarted||(this.startDelay-=c,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(f.TWEEN_START,"onStart"),c=0));var p=!1;if(this.isActive())for(var v=this.data,m=0;m<this.totalData;m++)v[m].update(c)&&(p=!0);this.elapsed+=c,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=c,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),p||this.nextState();var T=this.isPendingRemove();return T&&this.persist&&(this.setFinishedState(),T=!1),T},forward:function(c){return this.update(c),this},rewind:function(c){return this.update(-c),this},dispatchEvent:function(c,p){if(!this.isSeeking){if(this.emit(c,this,this.targets),!this.callbacks)return;var v=this.callbacks[p];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){g.prototype.destroy.call(this),this.targets=null}});h.register("tween",function(c){return this.scene.sys.tweens.add(c)}),l.register("tween",function(c){return this.scene.sys.tweens.create(c)}),C.exports=d},43960:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(72905),y=s(70402),f=s(83419),l=s(842),h=s(44603),r=s(39429),o=s(86353),u=new f({Extends:y,initialize:function(d){y.call(this,d),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?o.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(a){var d=this.parent.create(a);Array.isArray(d)||(d=[d]);for(var c=this.data,p=0;p<d.length;p++){var v=d[p];v.parent=this,c.push(v.reset())}return this.totalData=c.length,this},remove:function(a){return g(this.data,a),a.setRemovedState(),a===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(a){for(var d=this.data,c=0;c<this.totalData;c++)if(d[c].hasTarget(a))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(a){return a.seek(),a.setActiveState(),this},makeActive:function(a){return a.reset(),a.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var a=this.data,d=this.totalData,c=0;c<d;c++)a[c].reset(!1);this.setCurrentTween(0)},update:function(a){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(a*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(a),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(a),!1;this.hasStarted||(this.startDelay-=a,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),a=0));var d=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(a)&&this.nextTween()&&this.nextState(),d=this.isPendingRemove(),d&&this.persist&&(this.setFinishedState(),d=!1)),d},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(a){this.currentIndex=a,this.currentTween=this.data[a],this.currentTween.setActiveState()},dispatchEvent:function(a,d){this.emit(a,this);var c=this.callbacks[d];c&&c.func.apply(this.callbackScope,[this].concat(c.params))},destroy:function(){y.prototype.destroy.call(this),this.currentTween=null}});r.register("tweenchain",function(a){return this.scene.sys.tweens.chain(a)}),h.register("tweenchain",function(a){return this.scene.sys.tweens.create(a)}),C.exports=u},48177:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95042),y=s(45319),f=s(83419),l=s(842),h=new f({Extends:g,initialize:function(o,u,a,d,c,p,v,m,T,E,P,w,R,b,O,I,D){g.call(this,o,u,m,T,E,P,w,R,b,O),this.key=a,this.getActiveValue=p,this.getEndValue=d,this.getStartValue=c,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=I,this.interpolationData=D},reset:function(r){g.prototype.reset.call(this);var o=this.tween.targets[this.targetIndex],u=this.key;r&&(o[u]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(o[u]=this.getActiveValue(o,u,0))},update:function(r){var o=this.tween,u=o.totalTargets,a=this.targetIndex,d=o.targets[a],c=this.key;if(!d)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=r,this.elapsed<=0&&(this.elapsed=0,r=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(d,c,d[c],a,u,o),this.end=this.getEndValue(d,c,this.start,a,u,o),this.current=this.start,d[c]=this.start,this.setPlayingForwardState(),!0;var p=this.isPlayingForward(),v=this.isPlayingBackward();if(p||v){var m=this.elapsed,T=this.duration,E=0,P=!1;m+=r,m>=T?(E=m-T,m=T,P=!0):m<0&&(m=0);var w=y(m/T,0,1);this.elapsed=m,this.progress=w,this.previous=this.current,p||(w=1-w);var R=this.ease(w);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,d[c]=this.current,P&&(p?(o.isNumberTween&&(this.current=this.end,d[c]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(E)):(o.isNumberTween&&(this.current=this.start,d[c]=this.current),this.setStateFromStart(E))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(r,o){var u=this.tween;if(!u.isSeeking){var a=u.targets[this.targetIndex],d=this.key,c=this.current,p=this.previous;u.emit(r,u,d,a,c,p);var v=u.callbacks[o];v&&v.func.apply(u.callbackScope,[u,a,d,c,p].concat(v.params))}},destroy:function(){g.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});C.exports=h},42220:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(95042),y=s(45319),f=s(83419),l=s(842),h=new f({Extends:g,initialize:function(o,u,a,d,c,p,v,m,T,E,P){g.call(this,o,u,c,p,!1,v,m,T,E,P),this.key="texture",this.startTexture=null,this.endTexture=a,this.startFrame=null,this.endFrame=d,this.yoyo=m!==0},reset:function(r){g.prototype.reset.call(this);var o=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=o.texture.key,this.startFrame=o.frame.name),r&&o.setTexture(this.startTexture,this.startFrame)},update:function(r){var o=this.tween,u=this.targetIndex,a=o.targets[u];if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=r,this.elapsed<=0&&(this.elapsed=0,r=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&a.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),c=this.isPlayingBackward();if(d||c){var p=this.elapsed,v=this.duration,m=0,T=!1;p+=r,p>=v?(m=p-v,p=v,T=!0):p<0&&(p=0);var E=y(p/v,0,1);this.elapsed=p,this.progress=E,T&&(d?(a.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(a.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(m))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(r,o){var u=this.tween;if(!u.isSeeking){var a=u.targets[this.targetIndex],d=this.key;u.emit(r,u,d,a);var c=u.callbacks[o];c&&c.func.apply(u.callbackScope,[u,a,d].concat(c.params))}},destroy:function(){g.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});C.exports=h},86353:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};C.exports=A},83419:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(h){return!!h.get&&typeof h.get=="function"||!!h.set&&typeof h.set=="function"}function s(h,r,o){var u=o?h[r]:Object.getOwnPropertyDescriptor(h,r);return!o&&u.value&&typeof u.value=="object"&&(u=u.value),u&&A(u)?(typeof u.enumerable>"u"&&(u.enumerable=!0),typeof u.configurable>"u"&&(u.configurable=!0),u):!1}function g(h,r){var o=Object.getOwnPropertyDescriptor(h,r);return o?(o.value&&typeof o.value=="object"&&(o=o.value),o.configurable===!1):!1}function y(h,r,o,u){for(var a in r)if(r.hasOwnProperty(a)){var d=s(r,a,o);if(d!==!1){var c=u||h;if(g(c.prototype,a)){if(l.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(h.prototype,a,d)}else h.prototype[a]=r[a]}}function f(h,r){if(r){Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++)y(h,r[o].prototype||r[o])}}function l(h){h||(h={});var r,o;if(h.initialize){if(typeof h.initialize!="function")throw new Error("initialize must be a function");r=h.initialize,delete h.initialize}else if(h.Extends){var u=h.Extends;r=function(){u.apply(this,arguments)}}else r=function(){};h.Extends?(r.prototype=Object.create(h.Extends.prototype),r.prototype.constructor=r,o=h.Extends,delete h.Extends):r.prototype.constructor=r;var a=null;return h.Mixins&&(a=h.Mixins,delete h.Mixins),f(r,a),y(r,h,!0,o),r}l.extend=y,l.mixin=f,l.ignoreFinals=!1,C.exports=l},29747:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){};C.exports=A},20242:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){return null};C.exports=A},71146:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l){if(l===void 0&&(l=s),y>0){var h=y-s.length;if(h<=0)return null}if(!Array.isArray(g))return s.indexOf(g)===-1?(s.push(g),f&&f.call(l,g),g):null;for(var r=g.length-1;r>=0;)s.indexOf(g[r])!==-1&&g.splice(r,1),r--;if(r=g.length,r===0)return null;y>0&&r>h&&(g.splice(h),r=h);for(var o=0;o<r;o++){var u=g[o];s.push(u),f&&f.call(l,u)}return g};C.exports=A},51067:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f,l,h){if(y===void 0&&(y=0),h===void 0&&(h=s),f>0){var r=f-s.length;if(r<=0)return null}if(!Array.isArray(g))return s.indexOf(g)===-1?(s.splice(y,0,g),l&&l.call(h,g),g):null;for(var o=g.length-1;o>=0;)s.indexOf(g[o])!==-1&&g.pop(),o--;if(o=g.length,o===0)return null;f>0&&o>r&&(g.splice(r),o=r);for(var u=o-1;u>=0;u--){var a=g[u];s.splice(y,0,a),l&&l.call(h,a)}return g};C.exports=A},66905:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.indexOf(g);return y!==-1&&y<s.length&&(s.splice(y,1),s.push(g)),g};C.exports=A},21612:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,h,r,o){r===void 0&&(r=0),o===void 0&&(o=f.length);var u=0;if(g(f,r,o))for(var a=r;a<o;a++){var d=f[a];d[l]===h&&u++}return u};C.exports=y},95428:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f,l=[null];for(f=3;f<arguments.length;f++)l.push(arguments[f]);for(f=0;f<s.length;f++)l[0]=s[f],g.apply(y,l);return s};C.exports=A},36914:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,h,r,o){if(r===void 0&&(r=0),o===void 0&&(o=f.length),g(f,r,o)){var u,a=[null];for(u=5;u<arguments.length;u++)a.push(arguments[u]);for(u=r;u<o;u++)a[0]=f[u],l.apply(h,a)}return f};C.exports=y},81957:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g.length){if(g.length===1)return g[0]}else return NaN;var f=1,l,h;if(y){if(s<g[0][y])return g[0];for(;g[f][y]<s;)f++}else for(;g[f]<s;)f++;return f>g.length&&(f=g.length),y?(l=g[f-1][y],h=g[f][y],h-s<=s-l?g[f]:g[f-1]):(l=g[f-1],h=g[f],h-s<=s-l?h:l)};C.exports=A},43491:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=[]);for(var y=0;y<s.length;y++)Array.isArray(s[y])?A(s[y],g):g.push(s[y]);return g};C.exports=A},46710:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,h,r,o){r===void 0&&(r=0),o===void 0&&(o=f.length);var u=[];if(g(f,r,o))for(var a=r;a<o;a++){var d=f[a];(!l||l&&h===void 0&&d.hasOwnProperty(l)||l&&h!==void 0&&d[l]===h)&&u.push(d)}return u};C.exports=y},58731:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,h,r,o){if(r===void 0&&(r=0),o===void 0&&(o=f.length),r!==-1){if(g(f,r,o))for(var u=r;u<o;u++){var a=f[u];if(!l||l&&h===void 0&&a.hasOwnProperty(l)||l&&h!==void 0&&a[l]===h)return a}}else if(g(f,0,o))for(var u=o;u>=0;u--){var a=f[u];if(!l||l&&h===void 0&&a.hasOwnProperty(l)||l&&h!==void 0&&a[l]===h)return a}return null};C.exports=y},26546:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){g===void 0&&(g=0),y===void 0&&(y=s.length);var f=g+Math.floor(Math.random()*y);return s[f]===void 0?null:s[f]};C.exports=A},85835:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===y)return s;var f=s.indexOf(g),l=s.indexOf(y);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return f>l||(s.splice(f,1),l=s.indexOf(y),s.splice(l+1,0,g)),s};C.exports=A},83371:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===y)return s;var f=s.indexOf(g),l=s.indexOf(y);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return f<l||(s.splice(f,1),l===0?s.unshift(g):s.splice(l,0,g)),s};C.exports=A},70864:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.indexOf(g);if(y>0){var f=s[y-1],l=s.indexOf(f);s[y]=f,s[l]=g}return s};C.exports=A},69693:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=s.indexOf(g);if(f===-1||y<0||y>=s.length)throw new Error("Supplied index out of bounds");return f!==y&&(s.splice(f,1),s.splice(y,0,g)),g};C.exports=A},40853:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.indexOf(g);if(y!==-1&&y<s.length-1){var f=s[y+1],l=s.indexOf(f);s[y]=f,s[l]=g}return s};C.exports=A},20283:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=[],h,r=!1;if((y||f)&&(r=!0,y||(y=""),f||(f="")),g<s)for(h=s;h>=g;h--)r?l.push(y+h.toString()+f):l.push(h);else for(h=s;h<=g;h++)r?l.push(y+h.toString()+f):l.push(h);return l};C.exports=A},593:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(2284),y=function(f,l,h){f===void 0&&(f=0),l===void 0&&(l=null),h===void 0&&(h=1),l===null&&(l=f,f=0);for(var r=[],o=Math.max(g((l-f)/(h||1)),0),u=0;u<o;u++)r.push(f),f+=h;return r};C.exports=y},43886:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function A(y,f,l){var h=y[f];y[f]=y[l],y[l]=h}function s(y,f){return y<f?-1:y>f?1:0}var g=function(y,f,l,h,r){for(l===void 0&&(l=0),h===void 0&&(h=y.length-1),r===void 0&&(r=s);h>l;){if(h-l>600){var o=h-l+1,u=f-l+1,a=Math.log(o),d=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*d*(o-d)/o)*(u-o/2<0?-1:1),p=Math.max(l,Math.floor(f-u*d/o+c)),v=Math.min(h,Math.floor(f+(o-u)*d/o+c));g(y,f,p,v,r)}var m=y[f],T=l,E=h;for(A(y,l,f),r(y[h],m)>0&&A(y,l,h);T<E;){for(A(y,T,E),T++,E--;r(y[T],m)<0;)T++;for(;r(y[E],m)>0;)E--}r(y[l],m)===0?A(y,l,E):(E++,A(y,E,h)),E<=f&&(l=E+1),f<=E&&(h=E-1)}};C.exports=g},88492:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35154),y=s(33680),f=function(h,r,o){for(var u=[],a=0;a<h.length;a++)for(var d=0;d<r.length;d++)for(var c=0;c<o;c++)u.push({a:h[a],b:r[d]});return u},l=function(h,r,o){var u=g(o,"max",0),a=g(o,"qty",1),d=g(o,"random",!1),c=g(o,"randomB",!1),p=g(o,"repeat",0),v=g(o,"yoyo",!1),m=[];if(c&&y(r),p===-1)if(u===0)p=0;else{var T=h.length*r.length*a;v&&(T*=2),p=Math.ceil(u/T)}for(var E=0;E<=p;E++){var P=f(h,r,a);d&&y(P),m=m.concat(P),v&&(P.reverse(),m=m.concat(P))}return u&&m.splice(u),m};C.exports=l},72905:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19133),y=function(f,l,h,r){r===void 0&&(r=f);var o;if(!Array.isArray(l))return o=f.indexOf(l),o!==-1?(g(f,o),h&&h.call(r,l),l):null;for(var u=l.length-1,a=[];u>=0;){var d=l[u];o=f.indexOf(d),o!==-1&&(g(f,o),a.push(d),h&&h.call(r,d)),u--}return a};C.exports=y},60248:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19133),y=function(f,l,h,r){if(r===void 0&&(r=f),l<0||l>f.length-1)throw new Error("Index out of bounds");var o=g(f,l);return h&&h.call(r,o),o};C.exports=y},81409:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,h,r,o){if(l===void 0&&(l=0),h===void 0&&(h=f.length),o===void 0&&(o=f),g(f,l,h)){var u=h-l,a=f.splice(l,u);if(r)for(var d=0;d<a.length;d++){var c=a[d];r.call(o,c)}return a}else return[]};C.exports=y},31856:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(19133),y=function(f,l,h){l===void 0&&(l=0),h===void 0&&(h=f.length);var r=l+Math.floor(Math.random()*h);return g(f,r)};C.exports=y},42169:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=s.indexOf(g),l=s.indexOf(y);return f!==-1&&l===-1?(s[f]=y,!0):!1};C.exports=A},86003:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=1);for(var y=null,f=0;f<g;f++)y=s.shift(),s.push(y);return y};C.exports=A},49498:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){g===void 0&&(g=1);for(var y=null,f=0;f<g;f++)y=s.pop(),s.unshift(y);return y};C.exports=A},82011:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){var l=s.length;if(g<0||g>=l||g>=y||y>l){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};C.exports=A},89545:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){var y=s.indexOf(g);return y!==-1&&y>0&&(s.splice(y,1),s.unshift(g)),g};C.exports=A},17810:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82011),y=function(f,l,h,r,o){if(r===void 0&&(r=0),o===void 0&&(o=f.length),g(f,r,o))for(var u=r;u<o;u++){var a=f[u];a.hasOwnProperty(l)&&(a[l]=h)}return f};C.exports=y},33680:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=s.length-1;g>0;g--){var y=Math.floor(Math.random()*(g+1)),f=s[g];s[g]=s[y],s[y]=f}return s};C.exports=A},90126:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g=/\D/g;return s.sort(function(y,f){return parseInt(y.replace(g,""),10)-parseInt(f.replace(g,""),10)}),s};C.exports=A},19133:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){if(!(g>=s.length)){for(var y=s.length-1,f=s[g],l=g;l<y;l++)s[l]=s[l+1];return s.length=y,f}};C.exports=A},19186:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(82264);function y(r,o){return String(r).localeCompare(o)}function f(r,o){var u=r.length;if(u<=1)return r;for(var a=new Array(u),d=1;d<u;d*=2){l(r,o,d,a);var c=r;r=a,a=c}return r}function l(r,o,u,a){var d=r.length,c=0,p=u*2,v,m,T,E,P;for(v=0;v<d;v+=p)for(m=v+u,T=m+u,m>d&&(m=d),T>d&&(T=d),E=v,P=m;;)if(E<m&&P<T)o(r[E],r[P])<=0?a[c++]=r[E++]:a[c++]=r[P++];else if(E<m)a[c++]=r[E++];else if(P<T)a[c++]=r[P++];else break}var h=function(r,o){if(o===void 0&&(o=y),!r||r.length<2)return r;if(g.features.stableSort)return r.sort(o);var u=f(r,o);return u!==r&&l(u,null,r.length,r),r};C.exports=h},25630:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(g===y)return s;var f=s.indexOf(g),l=s.indexOf(y);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return s[f]=y,s[l]=g,s};C.exports=A},37105:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Matrix:s(54915),Add:s(71146),AddAt:s(51067),BringToTop:s(66905),CountAllMatching:s(21612),Each:s(95428),EachInRange:s(36914),FindClosestInSorted:s(81957),Flatten:s(43491),GetAll:s(46710),GetFirst:s(58731),GetRandom:s(26546),MoveDown:s(70864),MoveTo:s(69693),MoveUp:s(40853),MoveAbove:s(85835),MoveBelow:s(83371),NumberArray:s(20283),NumberArrayStep:s(593),QuickSelect:s(43886),Range:s(88492),Remove:s(72905),RemoveAt:s(60248),RemoveBetween:s(81409),RemoveRandomElement:s(31856),Replace:s(42169),RotateLeft:s(86003),RotateRight:s(49498),SafeRange:s(82011),SendToBack:s(89545),SetAll:s(17810),Shuffle:s(33680),SortByDigits:s(90126),SpliceOne:s(19133),StableSort:s(19186),Swap:s(25630)}},86922:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){if(!Array.isArray(s)||!Array.isArray(s[0]))return!1;for(var g=s[0].length,y=1;y<s.length;y++)if(s[y].length!==g)return!1;return!0};C.exports=A},63362:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41836),y=s(86922),f=function(l){var h="";if(!y(l))return h;for(var r=0;r<l.length;r++){for(var o=0;o<l[r].length;o++){var u=l[r][o].toString();u!=="undefined"?h+=g(u,2):h+="?",o<l[r].length-1&&(h+=" |")}if(r<l.length-1){h+=`
`;for(var a=0;a<l[r].length;a++)h+="---",a<l[r].length-1&&(h+="+");h+=`
`}}return h};C.exports=f},92598:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.reverse()};C.exports=A},21224:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=0;g<s.length;g++)s[g].reverse();return s};C.exports=A},98717:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37829),y=function(f){return g(f,180)};C.exports=y},44657:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37829),y=function(f,l){l===void 0&&(l=1);for(var h=0;h<l;h++)f=g(f,90);return f};C.exports=y},37829:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(86922),y=s(2429),f=function(l,h){if(h===void 0&&(h=90),!g(l))return null;if(typeof h!="string"&&(h=(h%360+360)%360),h===90||h===-270||h==="rotateLeft")l=y(l),l.reverse();else if(h===-90||h===270||h==="rotateRight")l.reverse(),l=y(l);else if(Math.abs(h)===180||h==="rotate180"){for(var r=0;r<l.length;r++)l[r].reverse();l.reverse()}return l};C.exports=f},92632:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(37829),y=function(f,l){l===void 0&&(l=1);for(var h=0;h<l;h++)f=g(f,-90);return f};C.exports=y},69512:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(86003),y=s(49498),f=function(l,h,r){if(h===void 0&&(h=0),r===void 0&&(r=0),r!==0&&(r<0?g(l,Math.abs(r)):y(l,r)),h!==0)for(var o=0;o<l.length;o++){var u=l[o];h<0?g(u,Math.abs(h)):y(u,h)}return l};C.exports=f},2429:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){for(var g=s.length,y=s[0].length,f=new Array(y),l=0;l<y;l++){f[l]=new Array(g);for(var h=g-1;h>-1;h--)f[l][h]=s[h][l]}return f};C.exports=A},54915:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CheckMatrix:s(86922),MatrixToString:s(63362),ReverseColumns:s(92598),ReverseRows:s(21224),Rotate180:s(98717),RotateLeft:s(44657),RotateMatrix:s(37829),RotateRight:s(92632),Translate:s(69512),TransposeMatrix:s(2429)}},71334:C=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(g,y){for(var f=new Uint8Array(g),l=f.length,h=y?"data:"+y+";base64,":"",r=0;r<l;r+=3)h+=A[f[r]>>2],h+=A[(f[r]&3)<<4|f[r+1]>>4],h+=A[(f[r+1]&15)<<2|f[r+2]>>6],h+=A[f[r+2]&63];return l%3===2?h=h.substring(0,h.length-1)+"=":l%3===1&&(h=h.substring(0,h.length-2)+"=="),h};C.exports=s},53134:C=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),g=0;g<A.length;g++)s[A.charCodeAt(g)]=g;var y=function(f){f=f.substr(f.indexOf(",")+1);var l=f.length,h=l*.75,r=0,o,u,a,d;f[l-1]==="="&&(h--,f[l-2]==="="&&h--);for(var c=new ArrayBuffer(h),p=new Uint8Array(c),v=0;v<l;v+=4)o=s[f.charCodeAt(v)],u=s[f.charCodeAt(v+1)],a=s[f.charCodeAt(v+2)],d=s[f.charCodeAt(v+3)],p[r++]=o<<2|u>>4,p[r++]=(u&15)<<4|a>>2,p[r++]=(a&3)<<6|d&63;return c};C.exports=y},65839:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ArrayBufferToBase64:s(71334),Base64ToArrayBuffer:s(53134)}},91799:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Array:s(37105),Base64:s(65839),Objects:s(1183),String:s(31749),NOOP:s(29747),NULL:s(20242)}},41786:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g={};for(var y in s)Array.isArray(s[y])?g[y]=s[y].slice(0):g[y]=s[y];return g};C.exports=A},62644:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){var g,y,f;if(typeof s!="object"||s===null)return s;g=Array.isArray(s)?[]:{};for(f in s)y=s[f],g[f]=A(y);return g};C.exports=A},79291:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41212),y=function(){var f,l,h,r,o,u,a=arguments[0]||{},d=1,c=arguments.length,p=!1;for(typeof a=="boolean"&&(p=a,a=arguments[1]||{},d=2),c===d&&(a=this,--d);d<c;d++)if((f=arguments[d])!=null)for(l in f)h=a[l],r=f[l],a!==r&&(p&&r&&(g(r)||(o=Array.isArray(r)))?(o?(o=!1,u=h&&Array.isArray(h)?h:[]):u=h&&g(h)?h:{},a[l]=y(p,u,r)):r!==void 0&&(a[l]=r));return a};C.exports=y},23568:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(75508),y=s(35154),f=function(l,h,r){var o=y(l,h,null);if(o===null)return r;if(Array.isArray(o))return g.RND.pick(o);if(typeof o=="object"){if(o.hasOwnProperty("randInt"))return g.RND.integerInRange(o.randInt[0],o.randInt[1]);if(o.hasOwnProperty("randFloat"))return g.RND.realInRange(o.randFloat[0],o.randFloat[1])}else if(typeof o=="function")return o(h);return o};C.exports=f},95540:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){var f=typeof s;return!s||f==="number"||f==="string"?y:s.hasOwnProperty(g)&&s[g]!==void 0?s[g]:y};C.exports=A},82840:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(35154),y=s(45319),f=function(l,h,r,o,u){u===void 0&&(u=r);var a=g(l,h,u);return y(a,r,o)};C.exports=f},35154:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){if(!s&&!f||typeof s=="number")return y;if(s&&s.hasOwnProperty(g))return s[g];if(f&&f.hasOwnProperty(g))return f[g];if(g.indexOf(".")!==-1){for(var l=g.split("."),h=s,r=f,o=y,u=y,a=!0,d=!0,c=0;c<l.length;c++)h&&h.hasOwnProperty(l[c])?(o=h[l[c]],h=h[l[c]]):a=!1,r&&r.hasOwnProperty(l[c])?(u=r[l[c]],r=r[l[c]]):d=!1;return a?o:d?u:y}else return y};C.exports=A},69036:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){for(var y=0;y<g.length;y++)if(!s.hasOwnProperty(g[y]))return!1;return!0};C.exports=A},1985:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){for(var y=0;y<g.length;y++)if(s.hasOwnProperty(g[y]))return!0;return!1};C.exports=A},97022:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.hasOwnProperty(g)};C.exports=A},41212:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){if(!s||typeof s!="object"||s.nodeType||s===s.window)return!1;try{if(s.constructor&&!{}.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};C.exports=A},46975:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41786),y=function(f,l){var h=g(f);for(var r in l)h.hasOwnProperty(r)||(h[r]=l[r]);return h};C.exports=y},269:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(41786),y=function(f,l){var h=g(f);for(var r in l)h.hasOwnProperty(r)&&(h[r]=l[r]);return h};C.exports=y},18254:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=s(97022),y=function(f,l){for(var h={},r=0;r<l.length;r++){var o=l[r];g(f,o)&&(h[o]=f[o])}return h};C.exports=y},61622:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y){if(!s||typeof s=="number")return!1;if(s.hasOwnProperty(g))return s[g]=y,!0;if(g.indexOf(".")!==-1){for(var f=g.split("."),l=s,h=s,r=0;r<f.length;r++)if(l.hasOwnProperty(f[r]))h=l,l=l[f[r]];else return!1;return h[f[f.length-1]]=y,!0}return!1};C.exports=A},1183:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Clone:s(41786),DeepCopy:s(62644),Extend:s(79291),GetAdvancedValue:s(23568),GetFastValue:s(95540),GetMinMaxValue:s(82840),GetValue:s(35154),HasAll:s(69036),HasAny:s(1985),HasValue:s(97022),IsPlainObject:s(41212),Merge:s(46975),MergeRight:s(269),Pick:s(18254),SetValue:s(61622)}},27902:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return s.replace(/%([0-9]+)/g,function(y,f){return g[Number(f)-1]})};C.exports=A},41836:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g,y,f){g===void 0&&(g=0),y===void 0&&(y=" "),f===void 0&&(f=3),s=s.toString();var l=0;if(g+1>=s.length)switch(f){case 1:s=new Array(g+1-s.length).join(y)+s;break;case 3:var h=Math.ceil((l=g-s.length)/2),r=l-h;s=new Array(r+1).join(y)+s+new Array(h+1).join(y);break;default:s=s+new Array(g+1-s.length).join(y);break}return s};C.exports=A},33628:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s,g){return g===0?s.slice(1):s.slice(0,g)+s.slice(g+1)};C.exports=A},27671:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s.split("").reverse().join("")};C.exports=A},45650:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var g=Math.random()*16|0,y=s==="x"?g:g&3|8;return y.toString(16)})};C.exports=A},35355:C=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var A=function(s){return s&&s[0].toUpperCase()+s.slice(1)};C.exports=A},31749:(C,A,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Format:s(27902),Pad:s(41836),RemoveAt:s(33628),Reverse:s(27671),UppercaseFirst:s(35355),UUID:s(45650)}}},ot={};function ht(C){var A=ot[C];if(A!==void 0)return A.exports;var s=ot[C]={exports:{}};return tt[C](s,s.exports,ht),s.exports}ht.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var gt=ht(85454);return gt})())})(wT);var DW=wT.exports;const oe=MT(DW);var RT={exports:{}};(function(At,J){(function(tt,ot){At.exports=ot()})(ET,function(){class tt{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,i){tt.prototype[t]=i}}var ot=function(e){return e===void 0&&(e=ht),this.getFrameNameCallback=e,this},ht=function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`};function gt(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>gt(i));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let i in e)e.hasOwnProperty(i)&&(t[i]=gt(e[i]));return t}var C=function(e,t,i,n){Array.isArray(t)&&(n=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],n=[arguments[4],void 0,arguments[5]]):i===void 0&&n===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(i=this.columns.data,n=this.rows.data):(i=gt(i),n=gt(n)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=n,this.rows.count=n?n.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var x=this.scene.sys.textures.get(e);if(!x)return this.clear(),this;if(!i||!n)return this.clear(),this;for(var S=x.get(t),M=S.width,L=0,F=0,G=i.length;F<G;F++)i[F]===void 0?L++:typeof i[F]=="number"?M-=i[F]:M-=i[F].width;for(var V=L>0?M/L:0,$=S.height,_=0,F=0,G=n.length;F<G;F++)n[F]===void 0?_++:typeof n[F]=="number"?$-=n[F]:$-=n[F].width;for(var q=_?$/_:0,st,at,nt,ut,ct,dt=0,mt=0,Tt=0,Pt=n.length;Tt<Pt;Tt++){n[Tt]===void 0&&(n[Tt]=q),typeof n[Tt]=="number"&&(n[Tt]={height:n[Tt],stretch:Tt%2}),st=n[Tt],nt=st.height,this.rows.stretch+=st.stretch|0,this.rows.minHeight+=st.stretch>0?0:nt,dt=0;for(var F=0,Rt=i.length;F<Rt;F++){if(i[F]===void 0&&(i[F]=V),typeof i[F]=="number"&&(i[F]={width:i[F],stretch:F%2}),at=i[F],ut=at.width,Tt===0&&(this.columns.stretch+=at.stretch|0,this.columns.minWidth+=at.stretch>0?0:ut),ut>=1&&nt>=1){ct=this.getFrameNameCallback(F,Tt,t);var Dt=typeof ct;(Dt==="string"||Dt==="number")&&x.add(ct,0,dt+S.cutX,mt+S.cutY,ut,nt)}dt+=ut}mt+=nt}return this.updateTexture(),this},A=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,n=this.width-t,x=this.height-i,S=n>=0?this.maxFixedPartScaleX:this.width/t,M=x>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var L=Math.min(S,M);if(S>L){var F=(S-L)*t;n>=0?n+=F:n=F,S=L}if(M>L){var G=(M-L)*i;x>=0?x+=G:x=G,M=L}}this.columns.scale=S,this.rows.scale=M;var V;n>0?V=this.columns.stretch>0?n/this.columns.stretch:0:V=0;var $;x>0?$=this.rows.stretch>0?x/this.rows.stretch:0:$=0;var _,q,st,at,nt,ut=0,ct=0,dt;this._beginDraw();for(var mt=0,Tt=this.rows.count;mt<Tt;mt++){st=this.rows.data[mt],nt=st.stretch===0?st.height*M:$*st.stretch,ut=0;for(var Pt=0,Rt=this.columns.count;Pt<Rt;Pt++)q=this.columns.data[Pt],at=q.stretch===0?q.width*S:V*q.stretch,_=this.getFrameNameCallback(Pt,mt,this.baseFrameName),e.has(_)&&at>0&&nt>0&&(st.stretch===0&&q.stretch===0||this.getStretchMode(Pt,mt)===0?dt=0:dt=1,dt===0?this._drawImage(this.textureKey,_,ut,ct,at,nt):this._drawTileSprite(this.textureKey,_,ut,ct,at,nt)),ut+=at;ct+=nt}this._endDraw()};const s=Phaser.Utils.Objects.IsPlainObject,g=Phaser.Utils.Objects.GetValue;var y=function(e){return s(e)?(this.stretchMode.edge=f(g(e,"edge",0)),this.stretchMode.internal=f(g(e,"internal",0))):(e=f(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},f=function(e){return typeof e=="string"&&(e=l[e]),e};const l={scale:0,repeat:1};var h=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},r=function(e,t){return h.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},o=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},u=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},a=function(){},d={_beginDraw:a,_drawImage:a,_drawTileSprite:a,_endDraw:a,setGetFrameNameCallback:ot,setBaseTexture:C,updateTexture:A,setStretchMode:y,getStretchMode:r,setPreserveRatio:o,setMaxFixedPartScale:u};const c=Phaser.Utils.Objects.IsPlainObject,p=Phaser.Utils.Objects.GetValue;var v=function(e,t){class i extends e{constructor(x,S,M,L,F,G,V,$,_,q){if(c(S)?(q=S,S=p(q,"x",0),M=p(q,"y",0),L=p(q,"width",1),F=p(q,"height",1),G=p(q,"key",void 0),V=p(q,"baseFrame",void 0),$=p(q,"columns",void 0),_=p(q,"rows",void 0)):c(L)?(q=L,L=p(q,"width",1),F=p(q,"height",1),G=p(q,"key",void 0),V=p(q,"baseFrame",void 0),$=p(q,"columns",void 0),_=p(q,"rows",void 0)):c(G)?(q=G,G=p(q,"key",void 0),V=p(q,"baseFrame",void 0),$=p(q,"columns",void 0),_=p(q,"rows",void 0)):c(V)?(q=V,V=p(q,"baseFrame",void 0),$=p(q,"columns",void 0),_=p(q,"rows",void 0)):Array.isArray(V)?(q=_,_=$,$=V,V=p(q,"baseFrame",void 0)):c($)&&(q=$,$=p(q,"columns",void 0),_=p(q,"rows",void 0)),V===void 0&&(V=p(q,"frame",void 0)),$===void 0){var st=p(q,"leftWidth",void 0),at=p(q,"rightWidth",void 0);st!==void 0&&at!==void 0&&($=[st,void 0,at])}if(_===void 0){var nt=p(q,"topHeight",void 0),ut=p(q,"bottomHeight",void 0);nt!==void 0&&ut!==void 0&&(_=[nt,void 0,ut])}super(x),this.type=t,this.setPosition(S,M).setSize(L,F).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(p(q,"getFrameNameCallback",void 0)),this.setStretchMode(p(q,"stretchMode",0)),this.setPreserveRatio(p(q,"preserveRatio",!0));var ct=p(q,"maxFixedPartScale",1),dt=p(q,"maxFixedPartScaleX",ct),mt=p(q,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(dt,mt),this.setBaseTexture(G,V,$,_)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(x,S){return this.width===x&&this.height===S?this:(super.resize?super.resize(x,S):super.setSize(x,S),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(i.prototype,d),i};const m=Phaser.Game;var T=function(e){return e instanceof m};const E=Phaser.Scene;var P=function(e){return e instanceof E},w=function(e){if(e==null||typeof e!="object")return null;if(T(e))return e;if(T(e.game))return e.game;if(P(e))return e.sys.game;if(P(e.scene))return e.scene.sys.game};const R=Phaser.GameObjects;var b=void 0,O=function(e,t){if(b||(b={},w(e).events.once("destroy",function(){for(var n in b)b[n].destroy();b=void 0})),!b.hasOwnProperty(t)){var i=w(e).scene.systemScene,e=new R[t](i);e.setOrigin(0),b[t]=e}return b[t]},I=function(e,t,i,n,x,S){var M=O(this,"Image").setTexture(e,t).setDisplaySize(x,S);this.draw(M,i,n)},D=function(e,t,i,n,x,S){var M=O(this,"TileSprite").setTexture(e,t).setSize(x,S);this.draw(M,i,n)};const B=Phaser.GameObjects.RenderTexture;let k=class extends v(B,"rexNinePatch"){};var z={_drawImage:I,_drawTileSprite:D};Object.assign(k.prototype,z);var X=function(e){return e==null||e===""||e.length===0},K=function(e,t,i){var n=e;if(!X(t)){typeof t=="string"&&(t=t.split("."));for(var x,S=0,M=t.length;S<M;S++){if(x=t[S],n[x]==null||typeof n[x]!="object"){var L;S===M-1?L={}:L={},n[x]=L}n=n[x]}}return n},H=function(e,t,i,n){if(n===void 0&&(n="."),typeof e=="object"){if(X(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(n));var x=t.pop(),S=K(e,t);S[x]=i}return e}};tt.register("ninePatch",function(e,t,i,n,x,S,M,L){var F=new k(this.scene,e,t,i,n,x,S,M,L);return this.scene.add.existing(F),F}),H(window,"RexPlugins.UI.NinePatch",k);const Q=Phaser.GameObjects.GetCalcMatrix;var W=function(e,t,i,n){var x=t.getRenderList();if(x.length!==0){i.addToRenderList(t);var S=e.pipelines.set(t.pipeline),M=t.frame.glTexture,L=S.setGameObject(t),F=i.roundPixels,G=Q(t,i,n),V=S.calcMatrix.copyFrom(G.calc),$=t._displayOriginX,_=t._displayOriginY,q=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var st=0,at=x.length;st<at;st++)x[st].webglRender(S,V,q,$,_,M,L,F);e.pipelines.postBatch(t)}};const Y=Phaser.Renderer.Canvas.SetTransform;var N=function(e,t,i,n){var x=e.currentContext,S=t.getRenderList();if(!(S.length===0||!Y(e,x,t,i,n))){i.addToRenderList(t);var M=i.roundPixels,L=-t._displayOriginX,F=-t._displayOriginY;x.translate(L,F);for(var G=0,V=S.length;G<V;G++)S[G].canvasRender(x,L,F,M);x.restore()}},Z={renderWebGL:W,renderCanvas:N},U=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},j=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},et=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const it=Phaser.Utils.Array.Remove;var rt=function(e){return this.poolManager&&this.poolManager.free(e),it(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},lt=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},ft=function(){return this.lastAppendedChildren},pt=function(){return this.children.list},vt={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}},xt={setTexture:U,resize:j,setSize:j,addChild:et,removeChild:rt,removeChildren:lt,clear:lt,getLastAppendedChildren:ft,getChildren:pt};Object.assign(xt,vt);class yt{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const Ct=Phaser.Utils.Objects.GetValue;var wt={};let Lt=class{constructor(t){this.pools=Ct(t,"pools",wt)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new yt),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const bt=60;var St=!1,Et=function(e){if(!St){e===void 0&&(e=bt);var t=Phaser.VERSION.split("."),i=parseInt(t[0]);if(i===3){var n=parseInt(t[1]);n<e&&console.error(`Minimum supported version : ${i}.${n}`)}else console.error(`Can't supported version : ${i}`);St=!0}};Et();const Mt=Phaser.GameObjects.GameObject,Vt=Phaser.Utils.Objects.IsPlainObject,Kt=Phaser.Utils.Objects.GetValue,he=Phaser.Structs.List,Jt=Phaser.Utils.Array.StableSort;class Qt extends Mt{constructor(t,i,n,x,S,M){Vt(i)&&(M=i,i=Kt(M,"x",0),n=Kt(M,"y",0),x=Kt(M,"texture"),S=Kt(M,"frame")),i===void 0&&(i=0),n===void 0&&(n=0),super(t,"rexBlitter"),this.children=new he,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var L=Kt(M,"reuseBob",!0);this.poolManager=L?new Lt(M):void 0,this.setTexture(x,S),this.setPosition(i,n),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,n=0,x=i.length;n<x;n++){var S=i[n];ce(S)&&(this.renderList.push(S),t||(t=S.depth!==0))}t&&Jt(this.renderList,be),this.displayListDirty=!1}return this.renderList}}var ce=function(e){return e.active&&e.visible&&e.alpha>0},be=function(e,t){return e._depth-t._depth};const $t=Phaser.GameObjects.Components;Phaser.Class.mixin(Qt,[$t.Alpha,$t.BlendMode,$t.ComputedSize,$t.Depth,$t.GetBounds,$t.Mask,$t.Origin,$t.Pipeline,$t.PostPipeline,$t.ScrollFactor,$t.Transform,$t.Visible,Z,xt]);const le="image";var Gt=function(e,t,i){if(!e||typeof e=="number")return i;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return i}for(var n=t,x=e,S=i,M=0;M<n.length;M++)if(t=n[M],x.hasOwnProperty(t))S=x[t],x=S;else{S=i;break}return S},pe=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e},wi={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Gt(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&pe(this.data),this}};let ns=class{constructor(t,i){this.type=i,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(ns.prototype,wi);const Ps=Phaser.Math.DegToRad,Es=Phaser.Math.RadToDeg,li=Phaser.Utils.Objects.GetValue;let LT=class extends ns{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setRotation(t){return this.rotation=t,this}get angle(){return Es(this.rotation)}set angle(t){this.rotation=Ps(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,i){return i===void 0&&(i=!1),this.displayWidth=t,i&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,i){return i===void 0&&(i=!1),this.displayHeight=t,i&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,i){return i===void 0&&(i=t),this.setOriginX(t).setOriginY(i),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=li(t,"width",void 0),n=li(t,"height",void 0),x=li(t,"scale",void 0),S=li(t,"scaleX",x),M=li(t,"scaleY",x);i!==void 0?n===void 0&&M===void 0?this.setWidth(i,!0):this.setWidth(i):S!==void 0?this.setScaleX(S):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),n!==void 0?i===void 0&&S===void 0?this.setHeight(n,!0):this.setHeight(n):M!==void 0?this.setScaleY(M):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var L=li(t,"origin",void 0);return L!==void 0?this.setOrigin(L):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,i,n,x,S,M,L,F){}canvasRender(t,i,n,x){}};const bT=Phaser.GameObjects.Components.TransformMatrix,OT=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Jo=new bT,FT=function(e,t,i,n,x,S,M,L){var F=this.frame;if(F){var G=this._width,V=this._height,$=G*this.originX,_=V*this.originY,q=this.x-n,st=this.y-x,at,nt,ut,ct,dt,mt,Tt,Pt;if(this.isCropped){var Rt=this._crop;(Rt.flipX!==this.flipX||Rt.flipY!==this.flipY)&&F.updateCropUVs(Rt,this.flipX,this.flipY),at=Rt.u0,nt=Rt.v0,ut=Rt.u1,ct=Rt.v1,Tt=Rt.width,Pt=Rt.height,dt=Rt.x,mt=Rt.y}else at=this.frame.u0,nt=this.frame.v0,ut=this.frame.u1,ct=this.frame.v1,Tt=G,Pt=V,dt=0,mt=0;var Dt=1,Ft=1;this.flipX&&(q+=G-$*2,Dt=-1),this.flipY&&(st+=V-_*2,Ft=-1),Jo.applyITRS(q,st,this.rotation,this.scaleX*Dt,this.scaleY*Ft),t.multiply(Jo,Jo);var zt=-$+dt,kt=-_+mt,qt=zt+Tt,_t=kt+Pt,It=Jo.setQuad(zt,kt,qt,_t,L),de=OT(this.tint,this.alpha*i);e.batchQuad(this.parent,It[0],It[1],It[2],It[3],It[4],It[5],It[6],It[7],at,nt,ut,ct,de,de,de,de,this.tintFill,S,M)}},DT=function(e,t,i,n){var x=this.frame;if(x){e.save();var S=this._width,M=this._height,L=S*this.originX,F=M*this.originY,G=this.x-L,V=this.y-F,$,_,q,st;if(this.isCropped){var at=this._crop;(at.flipX!==this.flipX||at.flipY!==this.flipY)&&x.updateCropUVs(at,this.flipX,this.flipY),q=at.cw,st=at.ch,$=at.cx,_=at.cy}else q=x.cutWidth,st=x.cutHeight,$=x.cutX,_=x.cutY;var nt=1,ut=1;this.flipX&&(G+=S,nt=-1),this.flipY&&(V+=M,ut=-1);var ct=x.source.resolution,dt=q/ct,mt=st/ct;n&&(G=Math.floor(G+.5),V=Math.floor(V+.5),dt+=.5,mt+=.5),e.translate(G,V),e.rotate(this.rotation),e.scale(this.scaleX*nt,this.scaleY*ut),e.drawImage(x.source.image,$,_,q,st,0,0,dt,mt),e.restore()}};const BT=Phaser.Utils.Objects.IsPlainObject;let Qv=class extends LT{constructor(t,i){super(t,le),this._crop=IT(),this.setFrame(i)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!BT(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,i,n,x){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&i===0&&n===this._width&&x===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,i,n,x,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var IT=function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},GT={webglRender:FT,canvasRender:DT};Object.assign(Qv.prototype,GT);var jv=function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(le):null;return i===null?i=new Qv(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},kT=function(e,t,i,n,x,S){jv(this,{frame:t,x:i,y:n,width:x,height:S})},zT=function(e,t,i,n,x,S){var M=this.texture.get(t),L=M.width,F=M.height,G=x%L,V=S%F;G===0&&(G=L),V===0&&(V=F);for(var $=Math.ceil(x/L),_=Math.ceil(S/F),q=$-1,st=_-1,at=0;at<$;at++)for(var nt=0;nt<_;nt++){let dt=jv(this,{frame:t,x:i+at*L,y:n+nt*F});var ut=at===q?G:L,ct=nt===st?V:F;(ut!==L||ct!==F)&&dt.setCrop(0,0,ut,ct)}},NT={_drawImage:kT,_drawTileSprite:zT};class bu extends v(Qt,"rexNinePatch2"){setBaseTexture(t,i,n,x){return this.setTexture(t,i),super.setBaseTexture(t,i,n,x),this}}Object.assign(bu.prototype,NT),tt.register("ninePatch2",function(e,t,i,n,x,S,M,L){var F=new bu(this.scene,e,t,i,n,x,S,M,L);return this.scene.add.existing(F),F}),H(window,"RexPlugins.UI.NinePatch2",bu);var VT=Phaser.Renderer.WebGL.Utils,qv=function(e,t,i,n,x,S){for(var M=VT.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*n),L=i.pathData,F=i.pathIndexes,G=0;G<F.length;G+=3){var V=F[G]*2,$=F[G+1]*2,_=F[G+2]*2,q=L[V+0]-x,st=L[V+1]-S,at=L[$+0]-x,nt=L[$+1]-S,ut=L[_+0]-x,ct=L[_+1]-S,dt=t.getX(q,st),mt=t.getY(q,st),Tt=t.getX(at,nt),Pt=t.getY(at,nt),Rt=t.getX(ut,ct),Dt=t.getY(ut,ct);e.batchTri(i,dt,mt,Tt,Pt,Rt,Dt,0,0,1,1,M,M,M,2)}},UT=Phaser.Renderer.WebGL.Utils,Qo=function(e,t,i,n,x){var S=e.strokeTint,M=UT.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);S.TL=M,S.TR=M,S.BL=M,S.BR=M;var L=t.pathData,F=L.length-1,G=t.lineWidth,V=G/2,$=L[0]-n,_=L[1]-x;t.closePath||(F-=2);for(var q=2;q<F;q+=2){var st=L[q]-n,at=L[q+1]-x;e.batchLine($,_,st,at,V,V,G,q-2,t.closePath?q===F-1:!1),$=st,_=at}};const WT=Phaser.GameObjects.GetCalcMatrix;var XT=function(e,t,i,n){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var x=e.pipelines.set(t.pipeline),S=WT(t,i,n),M=x.calcMatrix.copyFrom(S.calc),L=t._displayOriginX,F=t._displayOriginY,G=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&qv(x,M,t,G,L,F),t.isStroked&&Qo(x,t,G,L,F),e.pipelines.postBatch(t)},Ta=function(e,t,i,n){var x=t.fillColor,S=t.fillAlpha,M=(x&16711680)>>>16,L=(x&65280)>>>8,F=x&255;e.fillStyle="rgba("+M+","+L+","+F+","+S+")"},Pa=function(e,t,i,n){var x=t.strokeColor,S=t.strokeAlpha,M=(x&16711680)>>>16,L=(x&65280)>>>8,F=x&255;e.strokeStyle="rgba("+M+","+L+","+F+","+S+")",e.lineWidth=t.lineWidth};const YT=Phaser.Renderer.Canvas.SetTransform;var HT=function(e,t,i,n){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var x=e.currentContext;if(YT(e,x,t,i,n)){var S=t._displayOriginX,M=t._displayOriginY,L=t.pathData,F=L.length-1,G=L[0]-S,V=L[1]-M;x.beginPath(),x.moveTo(G,V),t.closePath||(F-=2);for(var $=2;$<F;$+=2){var _=L[$]-S,q=L[$+1]-M;x.lineTo(_,q)}x.closePath(),t.isFilled&&(Ta(x,t),x.fill()),t.isStroked&&(Pa(x,t),x.stroke()),x.restore()}},$T={renderWebGL:XT,renderCanvas:HT};const KT=Phaser.GameObjects.Shape;class Ou extends KT{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,n){return n===void 0&&(n=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=n,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}}Object.assign(Ou.prototype,$T);const lr=Phaser.Utils.Objects.GetValue;let Fu=class{constructor(t,i,n,x,S){t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,n,x,S)}setTo(t,i,n,x,S){return this.setPosition(t,i),this.setRadius(S),this.setSize(n,x),this}setPosition(t,i){return this.x=t,this.y=i,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var i,n;typeof t=="number"?(i=t,n=t):(i=lr(t,"x",0),n=lr(t,"y",0));var x=this.cornerRadius;x.tl=jo(lr(t,"tl",void 0),i,n),x.tr=jo(lr(t,"tr",void 0),i,n),x.bl=jo(lr(t,"bl",void 0),i,n),x.br=jo(lr(t,"br",void 0),i,n)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){qo(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){qo(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){qo(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){qo(this.cornerRadius.br,t)}};var jo=function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),_v(e),e},qo=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=lr(t,"x",0),e.y=lr(t,"y",0)),_v(e)},_v=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},me=function(e){return e.x>0&&e.y>0},Ue=function(e,t,i){var n=i.length;if(n>=2){var x=i[n-2],S=i[n-1];if(e===x&&t===S)return i}return i.push(e,t),i};const tp=Phaser.Math.DegToRad;var We=function(e,t,i,n,x,S,M,L,F){M&&S>x?S-=360:!M&&S<x&&(S+=360);var G=S-x,V=tp(G)/L;x=tp(x);for(var $=0;$<=L;$++){var _=x+V*$,q=e+i*Math.cos(_),st=t+n*Math.sin(_);Ue(q,st,F)}return F};const ZT=Phaser.Utils.Objects.IsPlainObject,ep=Phaser.Utils.Objects.GetValue,JT=Phaser.Geom.Polygon.Earcut;let Nr=class extends Ou{constructor(t,i,n,x,S,M,L,F){var G,V,$,_;if(ZT(i)){var q=i;i=q.x,n=q.y,x=q.width,S=q.height,M=q.radius,L=q.color,F=q.alpha,G=q.strokeColor,V=q.strokeAlpha,$=q.strokeWidth,_=q.shape}i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=x),M===void 0&&(M=0),_===void 0&&(_=0);var st=new Fu;if(super(t,"rexRoundRectangleShape",st),this.setShapeType(_),this.shapeType===0){var at=ep(M,"radius",M);st.setTo(0,0,x,S,at)}else{var at={x:x/2,y:S/2};st.setTo(0,0,x,S,at)}this.setIteration(ep(M,"iteration",void 0)),this.setPosition(i,n),this.setFillStyle(L,F),$===void 0&&($=2),this.setStrokeStyle($,G,V),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var n=t.width,x=t.height,S=t.cornerRadius,M,L=this.iteration+1;if(M=S.tl,me(M))if(M.convex){var F=M.x,G=M.y;We(F,G,M.x,M.y,180,270,!1,L,i)}else{var F=0,G=0;We(F,G,M.x,M.y,90,0,!0,L,i)}else Ue(0,0,i);if(M=S.tr,me(M))if(M.convex){var F=n-M.x,G=M.y;We(F,G,M.x,M.y,270,360,!1,L,i)}else{var F=n,G=0;We(F,G,M.x,M.y,180,90,!0,L,i)}else Ue(n,0,i);if(M=S.br,me(M))if(M.convex){var F=n-M.x,G=x-M.y;We(F,G,M.x,M.y,0,90,!1,L,i)}else{var F=n,G=x;We(F,G,M.x,M.y,270,180,!0,L,i)}else Ue(n,x,i);if(M=S.bl,me(M))if(M.convex){var F=M.x,G=x-M.y;We(F,G,M.x,M.y,90,180,!1,L,i)}else{var F=0,G=x;We(F,G,M.x,M.y,360,270,!0,L,i)}else Ue(0,x,i);return i.push(i[0],i[1]),this.pathIndexes=JT(i),this}setShapeType(t){return typeof t=="string"&&(t=QT[t]),this.shapeType=t,this}setSize(t,i){return i===void 0&&(i=t),this.geom.width===t&&this.geom.height===i?this:(this.geom.setSize(t,i),this.shapeType===1&&this.setRadius({x:t/2,y:i/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,i),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};const QT={rectangle:0,circle:1};tt.register("roundRectangle",function(e,t,i,n,x,S,M){var L=new Nr(this.scene,e,t,i,n,x,S,M);return this.scene.add.existing(L),L}),H(window,"RexPlugins.UI.RoundRectangle",Nr);const jT=Phaser.Renderer.WebGL.Utils;var qT=function(e,t,i,n){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var x=t.frame,S=x.width,M=x.height,L=jT.getTintAppendFloatAlpha,F=e.pipelines.set(t.pipeline,t),G=F.setTexture2D(x.glTexture,t);e.pipelines.preBatch(t),F.batchTexture(t,x.glTexture,S,M,t.x,t.y,S/t.resolution,M/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,M,L(t.tintTopLeft,i.alpha*t._alphaTL),L(t.tintTopRight,i.alpha*t._alphaTR),L(t.tintBottomLeft,i.alpha*t._alphaBL),L(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,n,!1,G),e.pipelines.postBatch(t)}},_T=function(e,t,i,n){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))},t1={renderWebGL:qT,renderCanvas:_T};const e1=Phaser.Display.Color;var i1={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,n,x,S,M,L,F,G){var V=this.scene.sys.textures.getFrame(e,t);if(!V)return this;var $=V.cutWidth,_=V.cutHeight;i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=$),S===void 0&&(S=_),M===void 0&&(M=0),L===void 0&&(L=0),F===void 0&&(F=$),G===void 0&&(G=_);var q=V.cutX+M,st=V.cutY+L;return this.context.drawImage(V.source.image,q,st,F,G,i,n,x,S),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new e1);var n=this.context.getImageData(e,t,1,1);return i.setTo(n.data[0],n.data[1],n.data[2],n.data[3]),i},setPixel(e,t,i,n,x,S){if(typeof i!="number"){var M=i;i=M.red,n=M.green,x=M.blue,S=M.alpha}S===void 0&&(S=i!==0||n!==0||x!==0?255:0);var L=this.context.createImageData(1,1);return L.data[0]=i,L.data[1]=n,L.data[2]=x,L.data[3]=S,this.context.putImageData(L,e,t),this.dirty=!0,this}},ip=function(e,t,i,n,x,S,M){var L=e.sys.textures,F=e.renderer;n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=t.width),M===void 0&&(M=t.height);var G;L.exists(i)?G=L.get(i):G=L.createCanvas(i,S,M);var V=G.getSourceImage();V.width!==S&&(V.width=S),V.height!==M&&(V.height=M);var $=V.getContext("2d",{willReadFrequently:!0});$.clearRect(0,0,S,M),$.drawImage(t,n,x,S,M),F.gl&&G&&F.canvasToTexture(V,G.source[0].glTexture,!0,0)},s1={updateTexture(e,t){if(e){var i=this.resolution;i!==1&&(this.context.save(),this.context.scale(i,i)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),i!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},generateTexture(e,t,i,n,x){var S=this.canvas;return n===void 0?n=S.width:n*=this.resolution,x===void 0?x=S.height:x*=this.resolution,ip(this.scene,S,e,t,i,n,x),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};Et();const sp=Phaser.Display.Canvas.CanvasPool,r1=Phaser.GameObjects.GameObject,n1=Phaser.Utils.String.UUID;let ur=class extends r1{constructor(t,i,n,x,S,M){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=1),M===void 0&&(M=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=x,this._height=S,this.resolution=M,x=Math.max(Math.ceil(x*this.resolution),1),S=Math.max(Math.ceil(S*this.resolution),1),this.canvas=sp.create(this,x,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(i,n),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=n1(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){sp.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var i=Math.max(Math.ceil(this.width*t),1),n=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=i,this.canvas.height=n,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,i){return this._width===t&&this._height===i?this:(this._width=t,this._height=i,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),i=Math.max(Math.ceil(i*this.resolution),1),this.canvas.width=t,this.canvas.height=i,this.frame.setSize(t,i),this.dirty=!0,this)}setSize(t,i){return this.setCanvasSize(t,i),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,i){return this.displayWidth=t,this.displayHeight=i,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,i){return this.setSize(t,i),this}};const ui=Phaser.GameObjects.Components;Phaser.Class.mixin(ur,[ui.Alpha,ui.BlendMode,ui.Crop,ui.Depth,ui.Flip,ui.GetBounds,ui.Mask,ui.Origin,ui.Pipeline,ui.PostPipeline,ui.ScrollFactor,ui.Tint,ui.Transform,ui.Visible,t1,i1,s1]);const a1=Phaser.Utils.String.Pad;var Wt=function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${a1(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const rp=Phaser.Math.DegToRad;var np=function(e,t,i,n,x,S,M){var L=new Fu(t,i,n,x,S),F=L.minWidth,G=L.minHeight,V=n>=F?1:n/F,$=x>=G?1:x/G,_=L.cornerRadius,q,st,at,nt,ut,ct,dt;e.save(),e.beginPath(),e.translate(t,i),q=_.tl,th(q)?(st=q.x*V,at=q.y*$,_o(q)?(nt=st,ut=at,dr(e,nt,ut,st,at,180,270,!1,M)):(nt=0,ut=0,dr(e,nt,ut,st,at,90,0,!0,M)),ct=0,dt=at):(e.lineTo(0,0),ct=0,dt=0),q=_.tr,th(q)?(st=q.x*V,at=q.y*$,_o(q)?(nt=n-st,ut=at,dr(e,nt,ut,st,at,270,360,!1,M)):(nt=n,ut=0,dr(e,nt,ut,st,at,180,90,!0,M))):e.lineTo(n,0),q=_.br,th(q)?(st=q.x*V,at=q.y*$,_o(q)?(nt=n-st,ut=x-at,dr(e,nt,ut,st,at,0,90,!1,M)):(nt=n,ut=x,dr(e,nt,ut,st,at,270,180,!0,M))):e.lineTo(n,x),q=_.bl,th(q)?(st=q.x*V,at=q.y*$,_o(q)?(nt=st,ut=x-at,dr(e,nt,ut,st,at,90,180,!1,M)):(nt=0,ut=x,dr(e,nt,ut,st,at,360,270,!0,M))):e.lineTo(0,x),e.lineTo(ct,dt),e.closePath(),e.restore()},_o=function(e){return!e.hasOwnProperty("convex")||e.convex},th=function(e){return e.x>0&&e.y>0},dr=function(e,t,i,n,x,S,M,L,F){if(L&&M>S?M-=360:!L&&M<S&&(M+=360),S=rp(S),M=rp(M),F==null)e.ellipse(t,i,n,x,0,S,M,L);else{F+=1;for(var G,V,$,_=(M-S)/F,q=0;q<=F;q++)$=S+_*q,G=t+n*Math.cos($),V=i+x*Math.sin($),e.lineTo(G,V)}},o1=function(e,t,i,n,x,S,M,L,F,G,V,$,_){if(np(t,i,n,x,S,M,_),L!=null){if(V!=null){var q;$?q=t.createLinearGradient(0,0,x,0):q=t.createLinearGradient(0,0,0,S),q.addColorStop(0,L),q.addColorStop(1,V),L=q}t.fillStyle=L,t.fill()}F!=null&&G>0&&(t.strokeStyle=F,t.lineWidth=G,t.stroke())},Du=function(e,t,i,n,x,S,M,L){if(!(t==null&&i==null)){var F=e.canvas.width,G=e.canvas.height;i==null&&(n=0);var V=n/2;F=Math.max(1,F-n),G=Math.max(1,G-n),o1(e.canvas,e.context,V,V,F,G,x,t,i,n,S,M,L)}},h1=function(){Du(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const ap=Phaser.Utils.Objects.GetValue;let op=class extends ur{constructor(t,i,n,x,S,M,L,F,G,V,$,_){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=x),M===void 0&&(M=0),_===void 0&&(_=1),super(t,i,n,x,S,_),this.type="rexRoundRectangleCanvas";var q=ap(M,"radius",M),st=ap(M,"iteration",void 0);this.setRadius(q),this.setIteration(st),this.setFillStyle(L,V,$),this.setStrokeStyle(F,G)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=Wt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=Wt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,i,n){return n===void 0&&(n=!0),this.fillStyle=t,this.fillColor2=i,this.isHorizontalGradient=n,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=Wt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,i){return this.strokeStyle=t,this.lineWidth=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),h1.call(this)},this),this}};tt.register("roundRectangleCanvas",function(e,t,i,n,x,S,M,L,F,G){var V=new op(this.scene,e,t,i,n,x,S,M,L,F,G);return this.scene.add.existing(V),V}),H(window,"RexPlugins.UI.RoundRectangleCanvas",op);var ie=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},fr=function(e,t,i){!t||ie(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return i.x},set:function(n){i.x=n,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return i.y},set:function(n){i.y=n,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return i.t},set:function(n){i.t=n,e.dirty=!0}}))},l1={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,i,n){var x=this.geom.topSidePoints;if(Array.isArray(e))for(var x=e,S,M=0,L=x.length;M<L;M++)S=x[M],this.geom.insertTopSidePoint(S.t,S.x,S.y),fr(this,S.key,x[x.length-1]);else this.geom.insertTopSidePoint(e,t,i),fr(this,n,x[x.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,i,n){var x=this.geom.rightSidePoints;if(Array.isArray(e))for(var x=e,S,M=0,L=x.length;M<L;M++)S=x[M],this.geom.insertRightSidePoint(S.t,S.x,S.y),fr(this,S.key,x[x.length-1]);else this.geom.insertRightSidePoint(e,t,i),fr(this,n,x[x.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,i,n){var x=this.geom.bottomSidePoints;if(Array.isArray(e))for(var x=e,S,M=0,L=x.length;M<L;M++)S=x[M],this.geom.insertBottomSidePoint(S.t,S.x,S.y),fr(this,S.key,x[x.length-1]);else this.geom.insertBottomSidePoint(e,t,i),fr(this,n,x[x.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,i,n){var x=this.geom.leftSidePoints;if(Array.isArray(e))for(var x=e,S,M=0,L=x.length;M<L;M++)S=x[M],this.geom.insertLeftSidePoint(S.t,S.x,S.y),fr(this,S.key,x[x.length-1]);else this.geom.insertLeftSidePoint(e,t,i),fr(this,n,x[x.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class u1{constructor(t,i,n,x){t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=0),x===void 0&&(x=0),this.setTo(t,i,n,x),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,i,n,x){return this.setPosition(t,i),this.setSize(n,x),this}setPosition(t,i){return this.x=t,this.y=i,this}setSize(t,i){return this.width=t,this.height=i,this}setTLPosition(t,i){return this.tlx=t,this.tly=i,this}setTRPosition(t,i){return this.trx=t,this.try=i,this}setBLPosition(t,i){return this.blx=t,this.bly=i,this}setBRPosition(t,i){return this.brx=t,this.bry=i,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,i,n){return eh(this.topSidePoints,t,i,n),this}insertRightSidePoint(t,i,n){return eh(this.rightSidePoints,t,i,n),this}insertBottomSidePoint(t,i,n){return eh(this.bottomSidePoints,t,i,n),this}insertLeftSidePoint(t,i,n){return eh(this.leftSidePoints,t,i,n),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var eh=function(e,t,i,n){if(typeof t!="number"){var x=t;t=x.t,i=x.x,n=x.y}e.push({t,x:i,y:n})};const d1=Phaser.Utils.Objects.IsPlainObject,Ri=Phaser.Utils.Objects.GetValue,cr=Phaser.Math.Linear,f1=Phaser.Geom.Polygon.Earcut;class Bu extends Ou{constructor(t,i,n,x,S,M,L){var F,G,V;if(d1(i)){var $=i;i=$.x,n=$.y,x=$.width,S=$.height,M=$.color,L=$.alpha,F=$.strokeColor,G=$.strokeAlpha,V=$.strokeWidth}i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=x);var _=new u1;super(t,"rexQuadShape",_),_.setTo(0,0,x,S),this.setPosition(i,n),this.setFillStyle(M,L),F!==void 0&&V===void 0&&(V=2),this.setStrokeStyle(V,F,G),this.setTLPosition(Ri($,"tlx",0),Ri($,"tly",0)).setTRPosition(Ri($,"trx",0),Ri($,"try",0)).setBLPosition(Ri($,"blx",0),Ri($,"bly",0)).setBRPosition(Ri($,"brx",0),Ri($,"bry",0));var q=Ri($,"leftSidePoints");q&&this.insertLeftSidePoint(q);var st=Ri($,"topSidePoints");st&&this.insertTopSidePoint(st);var at=Ri($,"rightSidePoints");at&&this.insertRightSidePoint(at);var nt=Ri($,"bottomSidePoints");nt&&this.insertBottomSidePoint(nt),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var n=t.width,x=t.height,S=0+t.tlx,M=0+t.tly,L=n+t.trx,F=0+t.try,G=n+t.brx,V=x+t.bry,$=0+t.blx,_=x+t.bly,q=t.topSidePoints,st=t.rightSidePoints,at=t.bottomSidePoints,nt=t.leftSidePoints;Ue(S,M,i),ih(q);for(var ut=0,ct=q.length;ut<ct;ut++){var dt=q[ut],mt=cr(S,L,dt.t)+dt.x,Tt=cr(M,F,dt.t)+dt.y;Ue(mt,Tt,i)}Ue(L,F,i),ih(st);for(var ut=0,ct=st.length;ut<ct;ut++){var dt=st[ut],mt=cr(L,G,dt.t)+dt.x,Tt=cr(F,V,dt.t)+dt.y;Ue(mt,Tt,i)}Ue(G,V,i),ih(at);for(var ut=at.length-1;ut>=0;ut--){var dt=at[ut],mt=cr($,G,dt.t)+dt.x,Tt=cr(_,V,dt.t)+dt.y;Ue(mt,Tt,i)}Ue($,_,i),ih(nt);for(var ut=nt.length-1;ut>=0;ut--){var dt=nt[ut],mt=cr(S,$,dt.t)+dt.x,Tt=cr(M,_,dt.t)+dt.y;Ue(mt,Tt,i)}return i.push(i[0],i[1]),this.pathIndexes=f1(i),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var ih=function(e){e.length<=1||e.sort(function(t,i){return t.t-i.t})};Object.assign(Bu.prototype,l1),tt.register("QuadShape",function(e,t,i,n,x,S){var M=new Bu(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),H(window,"RexPlugins.UI.QuadShape",Bu);var c1=Phaser.Renderer.WebGL.Utils,v1=function(e,t,i,n){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var x=t.frame,S=x.width,M=x.height,L=c1.getTintAppendFloatAlpha,F=e.pipelines.set(t.pipeline,t),G=F.setTexture2D(x.glTexture,t);e.pipelines.preBatch(t),F.batchTexture(t,x.glTexture,S,M,t.x,t.y,S/t.style.resolution,M/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,M,L(t.tintTopLeft,i.alpha*t._alphaTL),L(t.tintTopRight,i.alpha*t._alphaTR),L(t.tintBottomLeft,i.alpha*t._alphaBL),L(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,n,!1,G),e.pipelines.postBatch(t)}},p1=function(e,t,i,n){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))},g1={renderWebGL:v1,renderCanvas:p1};const Iu=Phaser.Display.Canvas.CanvasPool;var m1=function(e,t,i){i===void 0&&(i={});var n=Iu.create(this),x=n.getContext("2d",{willReadFrequently:!0});e.syncFont(n,x);var S=x.measureText(t),M=Math.ceil(S.width*e.baselineX),L=M,F=2*L;if(L=L*e.baselineY|0,n.width=M,n.height=F,x.fillStyle="#f00",x.fillRect(0,0,M,F),x.font=e._font,x.textBaseline="alphabetic",x.fillStyle="#000",x.fillText(e.testString,0,L),i.left=0,M===0||F===0||!x.getImageData(0,0,M,F))return Iu.remove(n),i;for(var G=x.getImageData(0,0,M,F).data,V=!1,$=0;$<M;$++){for(var _=0;_<F;_++){var q=(_*M+$)*4;if(G[q]!==255){i.left=$,V=!0;break}}if(V)break}return Iu.remove(n),i};Et();const x1=Phaser.GameObjects.GameObject;class hp extends x1{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,n){return this.style.setBackgroundColor(t,i,n)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,n,x,S,M){return this.style.setShadow(t,i,n,x,S,M)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,i,n){return this.style.setUnderline(t,i,n)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,i,n){return this.style.setStrikethrough(t,i,n)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return m1(this.style,t,i)}}const si=Phaser.GameObjects.Components;Phaser.Class.mixin(hp,[si.Alpha,si.BlendMode,si.ComputedSize,si.Crop,si.Depth,si.Flip,si.GetBounds,si.Mask,si.Origin,si.Pipeline,si.PostPipeline,si.ScrollFactor,si.Tint,si.Transform,si.Visible,g1]);var y1={backgroundColor:["backgroundColor",null,Wt],backgroundColor2:["backgroundColor2",null,Wt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,Wt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",Wt],stroke:["stroke","#fff",Wt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",Wt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",Wt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",Wt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|MÃ‰qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const sh=Phaser.Display.Canvas.CanvasPool;var lp=function(e){var t=sh.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var n=i.measureText(e.testString);if("actualBoundingBoxAscent"in n){var x=n.actualBoundingBoxAscent,S=n.actualBoundingBoxDescent,G={ascent:x,descent:S,fontSize:x+S};return sh.remove(t),G}var M=Math.ceil(n.width*e.baselineX),L=M,F=2*L;L=L*e.baselineY|0,t.width=M,t.height=F,i.fillStyle="#f00",i.fillRect(0,0,M,F),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,L);var G={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,M,F))return G.ascent=L,G.descent=L+6,G.fontSize=G.ascent+G.descent,sh.remove(t),G;var V=i.getImageData(0,0,M,F).data,$=V.length,_=M*4,q,st,at=0,nt=!1;for(q=0;q<L;q++){for(st=0;st<_;st+=4)if(V[at+st]!==255){nt=!0;break}if(!nt)at+=_;else break}for(G.ascent=L-q,at=$-_,nt=!1,q=F;q>L;q--){for(st=0;st<_;st+=4)if(V[at+st]!==255){nt=!0;break}if(!nt)at-=_;else break}return G.descent=q-L,G.fontSize=G.ascent+G.descent,sh.remove(t),G},Oe={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const rh={none:Oe.NO_WRAP,word:Oe.WORD_WRAP,char:Oe.CHAR_WRAP,character:Oe.CHAR_WRAP,mix:Oe.MIX_WRAP},C1=Phaser.Utils.Objects.GetAdvancedValue,gi=Phaser.Utils.Objects.GetValue;let Gu=class{constructor(t,i,n){this.parent=t,n===void 0&&(n=y1),this.propertyMap=n,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(i,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==Oe.NO_WRAP&&this.wrapWidth===0}setStyle(t,i,n){if(i===void 0&&(i=!0),n===void 0&&(n=!1),t&&t.hasOwnProperty("wordWrap")){var x=t.wordWrap;x.hasOwnProperty("width")&&(t.wrap={mode:"word",width:x.width})}if(t&&t.hasOwnProperty("wrap")){var S=t.wrap;if(S.hasOwnProperty("mode")){var M=S.mode;typeof M=="string"&&(S.mode=rh[M])}else S.hasOwnProperty("width")&&(S.mode=1)}t&&t.rtl&&n&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var L=this.propertyMap;for(var F in L){var G=L[F],V=G[0],$=n?G[1]:this[F],_=G[2];if(F==="wrapCallback"||F==="wrapCallbackScope")this[F]=gi(t,V,$);else{var q=C1(t,V,$);_&&(q=_(q)),this[F]=q}}var st=gi(t,"font",null);st===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=st;var at=gi(t,"fill",null);at!==null&&(this.color=Wt(at));var nt=gi(t,"metrics",!1);return nt?this.metrics={ascent:gi(nt,"ascent",0),descent:gi(nt,"descent",0),fontSize:gi(nt,"fontSize",0)}:(i||!this.metrics)&&(this.metrics=lp(this)),i?this.parent.updateText():this.parent}syncFont(t,i){i.font=this._font}syncStyle(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"}syncShadow(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=lp(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=gi(t,"fontFamily","Courier"),this.fontSize=gi(t,"fontSize","16px"),this.fontStyle=gi(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,i,n){return n===void 0&&(n=!0),this.backgroundColor=Wt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=Wt(i,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=n,this.update(!1)}setBackgroundStrokeColor(t,i){return this.backgroundStrokeColor=Wt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=i,this.update(!1)}setBackgroundCornerRadius(t,i){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=i,this.update(!1)}setFill(t){return this.color=Wt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=Wt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,i){return t===void 0?this.strokeThickness=0:(i===void 0&&(i=this.strokeThickness),this.stroke=Wt(t,this.parent.canvas,this.parent.context),this.strokeThickness=i),this.update(!0)}setShadow(t,i,n,x,S,M){return t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n="#000"),x===void 0&&(x=0),S===void 0&&(S=!1),M===void 0&&(M=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=Wt(n,this.parent.canvas,this.parent.context),this.shadowBlur=x,this.shadowStroke=S,this.shadowFill=M,this.update(!1)}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=Wt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,i,n){return t===void 0&&(t="#000"),i===void 0&&(i=0),n===void 0&&(n=0),this.underlineColor=Wt(t,this.parent.canvas,this.parent.context),this.underlineThickness=i,this.underlineOffset=n,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=Wt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,i,n){return t===void 0&&(t="#000"),i===void 0&&(i=0),n===void 0&&(n=0),this.strikethroughColor=Wt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=i,this.strikethroughOffset=n,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=Wt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=rh[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,i){return t===void 0&&(t="left"),i===void 0&&(i="top"),this.halign=t,this.valign=i,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,i){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,i&&(typeof i=="string"?(this.fontFamily=i,this.fontSize="",this.fontStyle=""):(this.fontFamily=gi(i,"fontFamily",this.fontFamily),this.fontSize=gi(i,"fontSize",this.fontSize),this.fontStyle=gi(i,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},i=this.propertyMap;for(var n in i)t[n]=this[n];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};var An=function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e},S1={draw(e,t,i,n){var x=this.penManager;this.hitAreaManager.clear();var S=this.context;S.save();var M=this.defaultStyle;this.clear(),Du(this,M.backgroundColor,M.backgroundStrokeColor,M.backgroundStrokeLineWidth,M.backgroundCornerRadius,M.backgroundColor2,M.backgroundHorizontalGradient,M.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var L=M.halign,F=M.valign,G,V=M.lineHeight,$=x.lines,_=$.length,q=M.maxLines,st,at,nt;q>0&&_>q?(st=q,F==="center"?at=Math.floor((_-st)/2):F==="bottom"?at=_-st:at=0):(st=_,at=0),nt=at+st;var ut,ct,dt=this.rtl,mt=dt?this.parent.width:void 0;F==="center"?ct=Math.max((n-st*V)/2,0):F==="bottom"?ct=Math.max(n-st*V-2,0):ct=0,ct+=t;for(var Tt=at;Tt<nt;Tt++)if(G=x.getLineWidth(Tt),G!==0){for(var Pt=$[Tt],Rt=Pt.length,Dt=L,Ft=0;Ft<Rt;Ft++){var zt=Pt[Ft].prop.align;if(zt!==void 0){Dt=zt;break}}Dt==="center"?ut=(i-G)/2:Dt==="right"?ut=dt?0:i-G:ut=dt?i-G:0,ut+=e;for(var Ft=0;Ft<Rt;Ft++)this.drawPen(Pt[Ft],ut,ct,mt)}S.restore()},drawPen(e,t,i,n){t+=e.x,i+=e.y+(e.prop.y||0),n!==void 0&&(t=n-t);var x=this.canvas,S=this.context;S.save();var M=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(M.bgcolor!==null&&e.width>0){var L=this.defaultStyle.metrics,F=i-L.ascent,G=L.fontSize;this.drawRectangle(t,F,e.width,G,M.bgcolor,M)}if(M.underlineThickness>0&&e.width>0){var V=i+M.underlineOffset-M.underlineThickness/2;this.drawLine(t,V,e.width,M.underlineThickness,M.underlineColor,M)}if(e.isTextPen&&(M.buildFont(),M.syncFont(x,S),M.syncStyle(x,S),this.drawText(t,i,e.text,M)),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,M),M.strikethroughThickness>0&&e.width>0){var V=i+M.strikethroughOffset-M.strikethroughThickness/2;this.drawLine(t,V,e.width,M.strikethroughThickness,M.strikethroughColor,M)}if(S.restore(),e.hasAreaMarker&&e.width>0){var $,_=e.prop.area;if(_)$={key:_};else{var q=e.prop.url;$={key:`url:${q}`,url:q}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,$)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,i,n,x,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var M=this.context;M.fillStyle=x,M.fillRect(e,t,i,n)},drawLine(e,t,i,n,x,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var M=this.context;S.syncShadow(M,S.shadowStroke);var L=M.lineCap;M.lineCap="butt",M.strokeStyle=x,M.lineWidth=n,M.beginPath(),M.moveTo(e,t),M.lineTo(e+i,t),M.stroke(),M.lineCap=L},drawText(e,t,i,n){this.autoRound&&(e=Math.round(e),t=Math.round(t));var x=this.context;n.stroke&&n.stroke!=="none"&&n.strokeThickness>0&&(n.syncShadow(x,n.shadowStroke),x.strokeText(i,e,t)),n.color&&n.color!=="none"&&(n.syncShadow(x,n.shadowFill),x.fillText(i,e,t))},drawImage(e,t,i,n,x){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,n,this.autoRound)}};const Vr=Phaser.Utils.Objects.GetValue,T1=Oe.NO_NEWLINE,up=Oe.RAW_NEWLINE;class P1{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=Vr(t,"text",""),this.x=Vr(t,"x",0),this.y=Vr(t,"y",0),this.width=Vr(t,"width",0);var i=Vr(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=Vr(t,"newLineMode",0),this.startIndex=Vr(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===up&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==T1&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===up&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var Xi=function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:pe(t),i){t.length=e.length;for(var n=0,x=e.length;n<x;n++)t[n]=e[n]}else for(var S in e)t[S]=e[S];return t};const dp=Phaser.Utils.Objects.GetFastValue,fp=Oe.NO_NEWLINE,E1=Oe.WRAPPED_NEWLINE;class ku{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=dp(t,"tagToText",a),this.tagToTextScope=dp(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,n,x,S,M){var L=this.pensPool.pop();return L==null&&(L=new P1),Ur.text=t,Ur.x=i,Ur.y=n,Ur.width=x,Ur.prop=S,Ur.newLineMode=M,L.resetFromJSON(Ur),this.addPen(L),this}addImagePen(t,i,n,x){return this.addTextPen("",t,i,n,x,fp),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,n=t?t.y:0,x=t?Xi(t.prop):null;return this.addTextPen("",i,n,0,x,E1),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var n=this.lastLine;n==null&&(n=this.linesPool.pop()||[],this.lines.push(n)),n.push(t),t.newLineMode!==fp&&(n=this.linesPool.pop()||[],this.lines.push(n)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new ku),t.clear();for(var i=0,n=this.lines.length;i<n;i++)for(var x=this.lines[i],S=0,M=x.length;S<M;S++){var L=x[S];t.addPen(L.text,L.x,L.y,L.width,Xi(L.prop),L.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,n=!1,x;for(i=t;i>=0&&(x=this.lines[i],n=x!=null&&x.length>0,!n);i--);if(!n)return 0;var S=x[x.length-1];return S.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var n=i[i.length-1];if(n==null)return 0;var x=n.lastX;return x}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,n=0,x=this.lines.length;n<x;n++)t=this.getLineWidth(n),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,n=this.lines.length;i<n;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,n=0,x=i.length;n<x;n++)t+=i[n].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,n=0,x=this.pens.length;n<x;n++)t+=i[n].rawTextLength;return t}getSliceTagText(t,i,n){var x=this.lastPen;if(x==null)return"";var S=x.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===S)&&(i=S+1),n===void 0&&(n=!1);for(var M="",L,F,G,V,$,_,q,st=0,at=this.pens.length;st<at&&(L=this.pens[st],V=L.endIndex,!(!(V<=t)&&(L=this.pens[st],F=n?L.wrapText:L.plainText,_=L.prop,G=L.startIndex,$=G>=t&&V<=i,$||(F=F.substring(t-G,i-G)),this.tagToTextScope?M+=this.tagToText.call(this.tagToTextScope,F,_,q):M+=this.tagToText(F,_,q),q=_,V>=i)));st++);return M}get length(){return this.lines.length}set length(t){this.clear()}}var Ur={};const M1=Phaser.Geom.Rectangle;var cp=new yt;class w1{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)this.hitAreas[t].data=null;return cp.pushMultiple(this.hitAreas),this}add(t,i,n,x,S){S===void 0&&(S={});var M=cp.pop();return M===null?M=new M1(t,i,n,x):M.setTo(t,i,n,x),M.data=S,this.hitAreas.push(M),this}getFirst(t,i){for(var n=0,x=this.hitAreas.length;n<x;n++){var S=this.hitAreas[n];if(S.contains(t,i))return S}return null}getByKey(t){for(var i=0,n=this.hitAreas.length;i<n;i++){var x=this.hitAreas[i];if(x.data.key===t)return x}return null}drawBounds(t,i,n){i===void 0&&(i=16777215),n&&t.save().translateCanvas(n.x,n.y).rotateCanvas(n.rotation).scaleCanvas(n.scaleX,n.scaleY);for(var x=0,S=this.hitAreas.length;x<S;x++){var M=this.hitAreas[x];t.lineStyle(1,i).strokeRect(M.x,M.y,M.width,M.height)}return n&&t.restore(),this}}var R1=function(){this.parent.on("pointerdown",A1,this).on("pointerup",L1,this).on("pointermove",zu,this).on("pointerover",zu,this).on("pointerout",function(e,t){zu.call(this,e,null,null,t)},this)},A1=function(e,t,i,n){var x=this.hitAreaManager.getFirst(t,i);if(x!==null){var S=x.data.key;Ln.call(this,"areadown",S,e,t,i,n),x.data&&(x.data.isDown=!0)}},L1=function(e,t,i,n){var x=this.hitAreaManager.getFirst(t,i);if(x!==null){var S=x.data.key;if(Ln.call(this,"areaup",S,e,t,i,n),!!x.data){if(x.data.isDown){if(Ln.call(this,"areaclick",S,e,t,i,n),!x.data)return;var M=x.data.url;M&&window.open(M,"_blank")}x.data.isDown=!1}}},zu=function(e,t,i,n){if(t===null){if(this.lastHitAreaKey!==null){Ln.call(this,"areaout",this.lastHitAreaKey,e,t,i,n);var x=this.hitAreaManager.getByKey(this.lastHitAreaKey);x&&x.data&&(x.data.isDown=!1),this.lastHitAreaKey=null}return}var x=this.hitAreaManager.getFirst(t,i),S=x?x.data.key:null;if(this.lastHitAreaKey!==S){if(this.lastHitAreaKey!==null){Ln.call(this,"areaout",this.lastHitAreaKey,e,t,i,n);var M=this.hitAreaManager.getByKey(this.lastHitAreaKey);M&&(this.urlTagCursorStyle&&vp(this.scene,M,""),M.data.isDown=!1)}S!==null&&(Ln.call(this,"areaover",S,e,t,i,n),x.data&&this.urlTagCursorStyle&&vp(this.scene,x,this.urlTagCursorStyle)),this.lastHitAreaKey=S}},Ln=function(e,t,i,n,x,S){this.parent.emit(`${e}-${t}`,i,n,x,S),this.parent.emit(e,t,i,n,x,S)},vp=function(e,t,i){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=i)};const pp=Phaser.GameObjects.Components.TransformMatrix,b1=Phaser.Math.TransformXY;var gp=function(e,t,i,n,x){n===void 0&&(n=e.scene.cameras.main),x===void 0?x={}:x===!0&&(x=O1);var S=n.scrollX,M=n.scrollY,L=t+S*e.scrollFactorX-S,F=i+M*e.scrollFactorY-M;return e.parentContainer?(nh===void 0&&(nh=new pp,mp=new pp),e.getWorldTransformMatrix(nh,mp),nh.applyInverse(L,F,x)):b1(L,F,e.x,e.y,e.rotation,e.scaleX,e.scaleY,x),x.x+=e.displayOriginX,x.y+=e.displayOriginY,x},nh,mp,O1={},F1=function(e,t,i){var n=gp(this.parent,e,t,i,!0),x=this.hitAreaManager.getFirst(n.x,n.y);if(x!==null)return x.data.key},D1=/^[\x00-\x7F]+$/,Ea=function(e){return D1.test(e)};const B1=Oe.NO_NEWLINE,I1=Oe.RAW_NEWLINE,Nu=Oe.WRAPPED_NEWLINE,xp=Oe.NO_WRAP,G1=Oe.WORD_WRAP,yp=Oe.CHAR_WRAP,k1=Oe.SPLITREGEXP;var Cp=function(e,t,i,n,x,S){n<=0&&(i=xp);var M=[];if(!e||!e.length)return M;for(var L=i===xp,F=e.split(k1),G,V,$,_=0,q=F.length;_<q;_++){if(G=F[_],$=_===q-1?B1:I1,L){var st=t.measureText(G).width;M.push(S.getLine(G,st,$));continue}if(V=_===0?n-x:n,G.length<=100){var st=t.measureText(G).width;if(st<=V){M.push(S.getLine(G,st,$));continue}}for(var at=z1(G,i),nt,ut,ct="",dt=0,mt,Tt=0,Pt=at.length;Tt<Pt;Tt++){if(nt=at[Tt],ut=t.measureText(nt).width,ut>n&&N1(nt)){ct!==""?M.push(S.getLine(ct,dt,Nu)):Tt===0&&x>0&&M.push(S.getLine("",0,Nu)),M.push(...Cp(nt,t,yp,n,0,S));var Rt=M.pop();ct=Rt.text,dt=Rt.width,S.freeLine(Rt),ct===" "&&(ct="",dt=0);continue}mt=dt+ut,mt>V?(M.push(S.getLine(ct,dt,Nu)),ct=nt,dt=ut,V=n):(ct+=nt,dt=mt),Tt===Pt-1&&M.push(S.getLine(ct,dt,$))}}return M},z1=function(e,t){var i;switch(t){case G1:i=[],e=e.split(" ");for(var n=0,x=e.length;n<x;n++){var S=e[n];n<x-1?i.push(S+" "):S!==""&&i.push(S)}break;case yp:i=e.split("");break;default:i=[],e=e.split(" ");for(var n=0,x=e.length;n<x;n++){var S=e[n];n<x-1?Ea(S)?i.push(S+" "):(i.push(...S.split("")),i.push(" ")):S!==""&&(Ea(S)?i.push(S):i.push(...S.split("")))}break}return i},N1=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const Vu=Phaser.Utils.Objects.GetValue,V1=Oe.NO_WRAP,Sp=Oe.NO_NEWLINE,U1=Oe.WRAPPED_NEWLINE;class Tp{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Vu(t,"context",null),this.canvas=this.context.canvas,this.parser=Vu(t,"parser",null),this.defaultStyle=Vu(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new w1,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,n,x,S){if(S===void 0&&(S=this.penManager),S.clear(),t==="")return S;var M=this.parent.style;if(M.isWrapFitMode){var L=this.parent.padding;n=M.fixedWidth-L.left-L.right}for(var F=this.canvas,G=this.context,V=0,$=0,_=M.wrapCallback,q=M.wrapCallbackScope,st=!0,at,nt,ut,ct=this.parser.splitText(t),dt,mt,Tt=this.wrapTextLinesPool,Pt=0,Rt=ct.length;Pt<Rt;Pt++)if(dt=this.parser.tagTextToProp(ct[Pt],nt),at=dt.plainText,nt=dt.prop,nt.img){var Dt=this.imageManager.getOuterWidth(nt.img);n>0&&i!==V1&&n<V+Dt&&(S.addNewLinePen(),$+=x,V=0),S.addImagePen(V,$,Dt,Xi(nt)),V+=Dt}else if(at!==""){if(G.save(),ut=this.parser.propToContextStyle(this.defaultStyle,nt),ut.buildFont(),ut.syncFont(F,G),ut.syncStyle(F,G),!_)mt=Cp(at,G,i,n,V,Tt);else{mt=_.call(q,at,G,n,V),typeof mt=="string"&&(mt=mt.split(`
`));for(var kt,Ft=0,zt=mt.length;Ft<zt;Ft++)kt=mt[Ft],typeof kt=="string"?mt[Ft]=Tt.getLine(kt,G.measureText(kt).width,Ft<zt-1?U1:Sp):st=!1}for(var kt,Ft=0,zt=mt.length;Ft<zt;Ft++)kt=mt[Ft],S.addTextPen(kt.text,V,$,kt.width,Xi(nt),kt.newLineMode),kt.newLineMode!==Sp?(V=0,$+=x):V+=kt.width;st&&Tt.freeLines(mt),mt=null,G.restore()}for(var Pt=0,Rt=this.lines.length;Pt<Rt;Pt++){var qt=this.lines[Pt],_t=qt[qt.length-1];_t&&(_t.width+=this.parser.getStrokeThinkness(this.defaultStyle,_t.prop))}return S}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new ku({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,n){var x;if(t==null)x=this.penManager.plainText;else{var S=this.parser.splitText(t,1);x="";for(var M=0,L=S.length;M<L;M++)x+=S[M]}return(i!=null||n!=null)&&(i==null&&(i=0),n==null&&(n=x.length),x=x.substring(i,n)),x}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,i),i}getText(t,i,n,x){if(t==null)return this.penManager.getSliceTagText(i,n,x);var S=this.tmpPenManager,M=this.defaultStyle;return this.updatePenManager(t,M.wrapMode,M.wrapWidth,M.lineHeight,S),S.getSliceTagText(i,n,x)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var W1={setInteractive:R1,getHitArea:F1};Object.assign(Tp.prototype,S1,W1);class Pp extends yt{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,n){var x=this.pop();return x===null&&(x={}),x.text=t,x.width=i,x.newLineMode=n,x}}const X1=Phaser.Utils.Objects.IsPlainObject,bn=Phaser.Utils.Objects.GetValue;var Uu=function(e,t){X1(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,n=t.frame,x=t.width,S=t.height;if(x===void 0||S===void 0){var M=this.textureManager.getFrame(i,n),L=M?M.cutWidth:0,F=M?M.cutHeight:0;x===void 0&&S===void 0?(x=L,S=F):x===void 0?x=L*(S/F):S===void 0&&(S=F*(x/L))}this.images[e]={key:i,frame:n,width:x,height:S,y:bn(t,"y",0),left:bn(t,"left",0),right:bn(t,"right",0),originX:bn(t,"originX",0),originY:bn(t,"originY",0),tintFill:bn(t,"tintFill",!1)}};const Ep=Phaser.Display.Canvas.CanvasPool;var Mp=function(e,t,i,n,x,S,M,L){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=e.cutWidth),S===void 0&&(S=e.cutHeight),L===void 0&&(L=!1),L&&(i=Math.round(i),n=Math.round(n));var F=t.getContext("2d",{willReadFrequently:!0});if(M){var G=Ep.create(null,x,S,Phaser.CANVAS,!0),V=G.getContext("2d",{willReadFrequently:!0});V.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,x,S),V.globalCompositeOperation="source-in",V.fillStyle=M,V.fillRect(0,0,x,S),F.drawImage(G,0,0,x,S,i,n,x,S),Ep.remove(G)}else F.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,n,x,S)},Y1=function(e,t,i,n,x,S){var M=this.get(e);if(M){var L=this.textureManager.getFrame(M.key,M.frame),F=M.width,G=M.height;i+=M.left-M.originX*F,n+=M.y-M.originY*G,M.tintFill||(x=void 0),Mp(L,t.canvas,i,n,F,G,x,S)}};class Wu{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")Uu.call(this,t,i);else if(Array.isArray(t))for(var n=t,x=0,S=n.length;x<S;x++)Uu.call(this,n[x]);else{var n=t;for(var t in n)Uu.call(this,t,n[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var H1={draw:Y1};Object.assign(Wu.prototype,H1);var wp=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this};const $1=Phaser.Utils.Objects.IsPlainObject,Rp=Phaser.DOM.AddToDOM,Ap=Phaser.Display.Canvas.CanvasPool,K1=Phaser.GameObjects.GameObject,di=Phaser.Utils.Objects.GetValue,Z1=Phaser.DOM.RemoveFromDOM,J1=Oe.SPLITREGEXP,Q1=Phaser.Utils.String.UUID;var On=null,Xu=null,Yu=null;class Hu extends hp{constructor(t,i,n,x,S,M,L){if($1(i)){var F=i;i=di(F,"x",0),n=di(F,"y",0),x=di(F,"text",""),S=di(F,"style")}if(i===void 0&&(i=0),n===void 0&&(n=0),super(t,M),this.renderer=t.sys.game.renderer,this.setPosition(i,n),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=Ap.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,S){if(S.hasOwnProperty("align")){var G=S.align;delete S.align,S.halign=G}S.hasOwnProperty("stroke")&&!S.hasOwnProperty("strokeThickness")&&(S.strokeThickness=1)}this.style=new Gu(this,S);var V=di(S,"images",void 0);V&&this.addImage(V),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=Q1(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var $=di(S,"sharedPool",!0),_,q,st;$?(On||(On={},Xu=new yt,Yu=new Pp,this.scene.game.events.once("destroy",function(){On=null,Xu=null,Yu=null})),On.hasOwnProperty(M)||(On[M]=new yt),_=On[M],q=Xu,st=Yu):(_=new yt,q=new yt,st=new Pp),this.canvasText=new Tp({parent:this,context:this.context,parser:L,style:this.style,pensPool:_,linesPool:q,wrapTextLinesPool:st}),this.parser=L,this.initRTL(),S&&S.padding&&this.setPadding(S.padding),this.setText(x),this.setUrlTagCursorStyle(di(S,"urlTagCursorStyle","pointer")),di(S,"interactive",!1)&&this.setInteractive()}preDestroy(){Z1(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),Ap.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Rp(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Rp(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var n=this._imageManager.images;for(var x in n)n[x].originX=1-n[x].originX}return this}setText(t){return t=An(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,n,x){if(typeof t=="object"){var S=t,M=di(S,"x",null);M!==null?(t=M,n=M):(t=di(S,"left",0),n=di(S,"right",t));var L=di(S,"y",null);L!==null?(i=L,x=L):(i=di(S,"top",0),x=di(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=t),x===void 0&&(x=i);return this.padding.left=t,this.padding.top=i,this.padding.right=n,this.padding.bottom=x,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,n=this.style;t&&i.updatePenManager(this._text,n.wrapMode,n.wrapWidth,n.lineHeight);var x=this.padding,S,M,L=Math.ceil(i.linesWidth);n.fixedWidth===0?(this.width=L+x.left+x.right,S=L):(this.width=n.fixedWidth,S=this.width-x.left-x.right,S<L&&(S=L)),n.fixedHeight===0?(this.height=i.linesHeight+x.top+x.bottom,M=i.linesHeight):(this.height=n.fixedHeight,M=this.height-x.top-x.bottom,M<i.linesHeight&&(M=i.linesHeight));var F=this.width,G=this.height;this.updateDisplayOrigin();var V=n.resolution;F*=V,G*=V,F=Math.max(Math.ceil(F),1),G=Math.max(Math.ceil(G),1);var $=this.canvas,_=this.context;$.width!==F||$.height!==G?($.width=F,$.height=G,this.frame.setSize(F,G)):_.clearRect(0,0,F,G),_.save(),_.scale(V,V);var q=this.style.rtl?x.right:x.left,st=x.top;i.draw(q,st,S,M),_.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture($,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var at=this.input;return at&&!at.customHitArea&&(at.hitArea.width=this.width,at.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,n){var x=!!this.input;return K1.prototype.setInteractive.call(this,t,i,n),x||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),t=this.canvasText.getText(t,i,n,!0),t.split(J1)}getPlainText(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,n)}getText(t,i,n,x){return typeof t=="number"&&(x=n,n=i,i=t,t=void 0),x===void 0&&(x=!1),this.canvasText.getText(t,i,n,x)}getSubString(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),this.getText(t,i,n)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new Wu(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,n,x,S){var M=this.canvas;return x===void 0?x=M.width:x*=this.resolution,S===void 0?S=M.height:S*=this.resolution,ip(this.scene,M,t,i,n,x,S),this}getHitArea(t,i,n){return this.canvasText.getHitArea(t,i,n)}}var j1={appendText:wp};Object.assign(Hu.prototype,j1);var q1=function(e,t){for(var i=this.tagRegex,n=[],x=0,S=!1,M=!1;;){var L=i.RE_SPLITTEXT.exec(e);if(!L)break;var F=L[0];if(M)if(i.RE_ESC_CLOSE.test(F))M=!1;else continue;else if(S)if(i.RE_RAW_CLOSE.test(F))S=!1;else continue;else i.RE_ESC_OPEN.test(F)?M=!0:i.RE_RAW_OPEN.test(F)&&(S=!0);var G=i.RE_SPLITTEXT.lastIndex,V=G-F.length;if(x<V){var $=e.substring(x,V);n.push($)}t===void 0&&n.push(F),x=G}var _=e.length;return x<_&&n.push(e.substring(x,_)),n};const Ee=!1,xe=!0;var _1={plainText:null,prevProp:null},tP=function(e,t){var i=this.tagRegex;t==null&&(t={});var n="";if(t.img&&Xt(t,Ee,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?Xt(t,Ee,"esc"):n=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?Xt(t,Ee,"raw"):n=e;else if(i.RE_ESC_OPEN.test(e))Xt(t,xe,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))Xt(t,Ee,"esc");else if(i.RE_RAW_OPEN.test(e))Xt(t,xe,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))Xt(t,Ee,"raw");else if(i.RE_BLOD_OPEN.test(e))Xt(t,xe,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))Xt(t,Ee,"b");else if(i.RE_ITALICS_OPEN.test(e))Xt(t,xe,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))Xt(t,Ee,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var x=e.match(i.RE_WEIGHT_OPEN);Xt(t,xe,"weight",x[1])}else if(i.RE_WEIGHT_CLOSE.test(e))Xt(t,Ee,"weight");else if(i.RE_SIZE_OPEN.test(e)){var x=e.match(i.RE_SIZE_OPEN);Xt(t,xe,"size",`${x[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))Xt(t,Ee,"size");else if(i.RE_FAMILY_OPEN.test(e)){var x=e.match(i.RE_FAMILY_OPEN);Xt(t,xe,"family",x[1])}else if(i.RE_FAMILY_CLOSE.test(e))Xt(t,Ee,"family");else if(i.RE_COLOR_OPEN.test(e)){var x=e.match(i.RE_COLOR_OPEN);Xt(t,xe,"color",x[1])}else if(i.RE_COLOR_CLOSE.test(e))Xt(t,Ee,"color");else if(i.RE_UNDERLINE_OPEN.test(e))Xt(t,xe,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var x=e.match(i.RE_UNDERLINE_OPENC);Xt(t,xe,"u",x[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))Xt(t,Ee,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))Xt(t,xe,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var x=e.match(i.RE_STRIKETHROUGH_OPENC);Xt(t,xe,"s",x[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))Xt(t,Ee,"s");else if(i.RE_SHADOW_OPEN.test(e))Xt(t,xe,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var x=e.match(i.RE_SHADOW_OPENC);Xt(t,xe,"shadow",x[1])}else if(i.RE_SHADOW_CLOSE.test(e))Xt(t,Ee,"shadow");else if(i.RE_STROKE_OPEN.test(e))Xt(t,xe,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var x=e.match(i.RE_STROKE_OPENC);Xt(t,xe,"stroke",x[1])}else if(i.RE_STROKE_CLOSE.test(e))Xt(t,Ee,"stroke");else if(i.RE_BGCOLOR_OPEN.test(e)){var x=e.match(i.RE_BGCOLOR_OPEN);Xt(t,xe,"bgcolor",x[1])}else if(i.RE_BGCOLOR_CLOSE.test(e))Xt(t,Ee,"bgcolor");else if(i.RE_OFFSETY_OPEN.test(e)){var x=e.match(i.RE_OFFSETY_OPEN);Xt(t,xe,"y",parseFloat(x[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))Xt(t,Ee,"y");else if(i.RE_IMAGE_OPEN.test(e)){var x=e.match(i.RE_IMAGE_OPEN);Xt(t,xe,"img",x[1])}else if(i.RE_IMAGE_CLOSE.test(e))Xt(t,Ee,"img");else if(i.RE_AREA_OPEN.test(e)){var x=e.match(i.RE_AREA_OPEN);Xt(t,xe,"area",x[1])}else if(i.RE_AREA_CLOSE.test(e))Xt(t,Ee,"area");else if(i.RE_URL_OPEN.test(e)){var x=e.match(i.RE_URL_OPEN);Xt(t,xe,"url",x[1])}else if(i.RE_URL_CLOSE.test(e))Xt(t,Ee,"url");else if(i.RE_ALIGN_OPEN.test(e)){var x=e.match(i.RE_ALIGN_OPEN);Xt(t,xe,"align",x[1])}else if(i.RE_ALIGN_CLOSE.test(e))Xt(t,Ee,"align");else if(i.RE_ID_OPEN.test(e)){var x=e.match(i.RE_ID_OPEN);Xt(t,xe,"id",x[1])}else i.RE_ID_CLOSE.test(e)?Xt(t,Ee,"id"):n=e;var S=_1;return S.plainText=n,S.prop=t,S},Xt=function(e,t,i,n){return t===xe?e[i]=n:e.hasOwnProperty(i)&&delete e[i],e},eP=function(e,t){var i=sP;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var n=t.size;typeof n=="number"&&(n=`${n}px`),i.fontSize=n}else i.fontSize=e.fontSize;i.fontStyle=iP(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?i.bgcolor=t.bgcolor:i.bgcolor=null,i},iP=function(e){var t=e.b,i=e.weight,n=e.i;return t||i||n?n?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},sP=new Gu,rP=function(e,t,i){i==null&&(i=nP);var n=this.delimiters[0],x=this.delimiters[1],S=[];for(var M in i)t.hasOwnProperty(M)||S.push(`${n}/${M}${x}`);for(var M in t){var L=t[M];if(M!=="img"){if(i[M]===L)continue}switch(M){case"size":S.push(`${n}size=${L.replace("px","")}${x}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":S.push(`${n}${M}=${L}${x}`);break;case"u":case"s":L===!0?S.push(`${n}${M}${x}`):S.push(`${n}${M}=${L}${x}`);break;default:S.push(`${n}${M}${x}`);break}}return S.push(e),S.join("")},nP={},Fn=function(e){return e.replace(aP,"\\$&").replace(oP,"\\x2d")},aP=/[|\\{}()[\]^$+*?.]/g,oP=/-/g,Lp,bp,Ht={},Ce=function(e,t,i,n){return n===void 0?`${e}${i}${t}`:`${e}${i}=(${n})${t}`},ke=function(e,t,i){return`${e}/${i}${t}`},hP=function(e){return`[^${e}]+`},$u="[-.0-9]+",lP=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],Dn=lP.join("|"),Op=function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(Lp===e&&bp===t)return!1;Lp=e,bp=t,e=Fn(e),t=Fn(t);var n=hP(t),x="esc",S=Ce(e,t,x),M=ke(e,t,x),L="raw",F=Ce(e,t,L),G=ke(e,t,L),V="b",$=Ce(e,t,V),_=ke(e,t,V),q="i",st=Ce(e,t,q),at=ke(e,t,q),nt="weight",ut=Ce(e,t,nt,$u),ct=ke(e,t,nt),dt="size",mt=Ce(e,t,dt,$u),Tt=ke(e,t,dt),Pt="family",Rt=Ce(e,t,Pt,n),Dt=ke(e,t,Pt),Ft="color",zt=Ce(e,t,Ft,Dn),kt=ke(e,t,Ft),qt="u",_t=Ce(e,t,qt),It=Ce(e,t,qt,Dn),de=ke(e,t,qt),ge="s",Pe=Ce(e,t,ge),Ve=Ce(e,t,ge,Dn),Ge=ke(e,t,ge),oi="shadow",Vi=Ce(e,t,oi),Ui=Ce(e,t,oi,Dn),Ts=ke(e,t,oi),yn="stroke",Mu=Ce(e,t,yn),hi=Ce(e,t,yn,Dn),Ho=ke(e,t,yn),$o="bgcolor",wu=Ce(e,t,$o,Dn),Xs=ke(e,t,$o),eT="y",iT=Ce(e,t,eT,$u),sT=ke(e,t,eT),rT="img",nT=Ce(e,t,rT,n),aT=ke(e,t,rT),oT="area",hT=Ce(e,t,oT,n),lT=ke(e,t,oT),uT="url",dT=Ce(e,t,uT,n),fT=ke(e,t,uT),cT="align",vT=Ce(e,t,cT,n),pT=ke(e,t,cT),gT="id",mT=Ce(e,t,gT,n),xT=ke(e,t,gT);return Ht.RE_ESC_OPEN=new RegExp(S,"i"),Ht.RE_ESC_CLOSE=new RegExp(M,"i"),Ht.RE_RAW_OPEN=new RegExp(F,"i"),Ht.RE_RAW_CLOSE=new RegExp(G,"i"),Ht.RE_BLOD_OPEN=new RegExp($,"i"),Ht.RE_BLOD_CLOSE=new RegExp(_,"i"),Ht.RE_ITALICS_OPEN=new RegExp(st,"i"),Ht.RE_ITALICS_CLOSE=new RegExp(at,"i"),Ht.RE_WEIGHT_OPEN=new RegExp(ut,"i"),Ht.RE_WEIGHT_CLOSE=new RegExp(ct,"i"),Ht.RE_SIZE_OPEN=new RegExp(mt,"i"),Ht.RE_SIZE_CLOSE=new RegExp(Tt,"i"),Ht.RE_FAMILY_OPEN=new RegExp(Rt,"i"),Ht.RE_FAMILY_CLOSE=new RegExp(Dt,"i"),Ht.RE_COLOR_OPEN=new RegExp(zt,"i"),Ht.RE_COLOR_CLOSE=new RegExp(kt,"i"),Ht.RE_UNDERLINE_OPEN=new RegExp(_t,"i"),Ht.RE_UNDERLINE_OPENC=new RegExp(It,"i"),Ht.RE_UNDERLINE_CLOSE=new RegExp(de,"i"),Ht.RE_STRIKETHROUGH_OPEN=new RegExp(Pe,"i"),Ht.RE_STRIKETHROUGH_OPENC=new RegExp(Ve,"i"),Ht.RE_STRIKETHROUGH_CLOSE=new RegExp(Ge,"i"),Ht.RE_SHADOW_OPEN=new RegExp(Vi,"i"),Ht.RE_SHADOW_OPENC=new RegExp(Ui,"i"),Ht.RE_SHADOW_CLOSE=new RegExp(Ts,"i"),Ht.RE_STROKE_OPEN=new RegExp(Mu,"i"),Ht.RE_STROKE_OPENC=new RegExp(hi,"i"),Ht.RE_STROKE_CLOSE=new RegExp(Ho,"i"),Ht.RE_BGCOLOR_OPEN=new RegExp(wu,"i"),Ht.RE_BGCOLOR_CLOSE=new RegExp(Xs,"i"),Ht.RE_OFFSETY_OPEN=new RegExp(iT,"i"),Ht.RE_OFFSETY_CLOSE=new RegExp(sT,"i"),Ht.RE_IMAGE_OPEN=new RegExp(nT,"i"),Ht.RE_IMAGE_CLOSE=new RegExp(aT,"i"),Ht.RE_AREA_OPEN=new RegExp(hT,"i"),Ht.RE_AREA_CLOSE=new RegExp(lT,"i"),Ht.RE_URL_OPEN=new RegExp(dT,"i"),Ht.RE_URL_CLOSE=new RegExp(fT,"i"),Ht.RE_ALIGN_OPEN=new RegExp(vT,"i"),Ht.RE_ALIGN_CLOSE=new RegExp(pT,"i"),Ht.RE_ID_OPEN=new RegExp(mT,"i"),Ht.RE_ID_CLOSE=new RegExp(xT,"i"),Ht.RE_SPLITTEXT=new RegExp([F,G,S,M,$,_,st,at,ut,ct,mt,Tt,Rt,Dt,zt,kt,_t,It,de,Pe,Ve,Ge,Vi,Ui,Ts,Mu,hi,Ho,wu,Xs,iT,sT,nT,aT,hT,lT,dT,fT,vT,pT,mT,xT].join("|"),"ig"),!0},Fp=function(e,t){return e!==void 0&&Op(e,t),Object.assign({},Ht)};const uP=Phaser.Utils.Objects.GetValue;let Dp=class{constructor(t){var i=uP(t,"delimiters","[]");this.tagRegex=Fp(i),this.delimiters=i}getStrokeThinkness(t,i){var n;return i.hasOwnProperty("stroke")?n=t.strokeThickness:n=0,n}setDelimiters(t,i){return Op(t,i)&&(this.tagRegex=Fp()),this}};var dP={splitText:q1,tagTextToProp:tP,propToContextStyle:eP,propToTagText:rP};Object.assign(Dp.prototype,dP);class Ku extends Hu{constructor(t,i,n,x,S){var M=new Dp(S);super(t,i,n,x,S,"rexBBCodeText",M)}setDelimiters(t,i){return this.parser.setDelimiters(t,i),this}}tt.register("BBCodeText",function(e,t,i,n){var x=new Ku(this.scene,e,t,i,n);return this.scene.add.existing(x),x}),H(window,"RexPlugins.UI.BBCodeText",Ku);var fP={plainText:null,prevProp:null},cP=new Gu;let vP=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,i){this.tags[t]=i}getTag(t){return this.tags[t]}splitText(t,i){for(var n=[],x=0;;){var S=Zu.exec(t);if(!S)break;var M=S[0],L=Zu.lastIndex-M.length;if(x<L&&n.push(t.substring(x,L)),i===void 0)n.push(M);else if(i===1){if(Ip.test(M)){var F=M.match(Gp);n.push(F[2])}else if(kp.test(M)){var F=M.match(zp);n.push(F[2])}}x=Zu.lastIndex}var G=t.length;return x<G&&n.push(t.substring(x,G)),n}tagTextToProp(t,i){var n,x;if(Ip.test(t)){var S=t.match(Gp);if(S!=null){var M=S[1],L=this.tags;L.hasOwnProperty(M)?x=L[M]:x={},x._class=M,n=S[2]}}else if(kp.test(t)){var S=t.match(zp);if(S!=null){var F=S[1];x=pP(F),x._style=F,n=S[2]}}n==null&&(n=t),x==null&&(x={});var G=fP;return G.plainText=n,G.prop=x,G}propToContextStyle(t,i){var n=cP;if(i.hasOwnProperty("img"))n.image=i.img;else{if(n.image=null,i.hasOwnProperty("family")||i.hasOwnProperty("fontFamily")||i.hasOwnProperty("font-family")){var x=i.hasOwnProperty("family")?i.family:i.hasOwnProperty("fontFamily")?i.fontFamily:i["font-family"];n.fontFamily=x}else n.fontFamily=t.fontFamily;if(i.hasOwnProperty("size")||i.hasOwnProperty("fontSize")||i.hasOwnProperty("font-size")){var S=i.hasOwnProperty("size")?i.size:i.hasOwnProperty("fontSize")?i.fontSize:i["font-size"];typeof S=="number"&&(S=`${S}px`),n.fontSize=S}else n.fontSize=t.fontSize;if(i.hasOwnProperty("style")||i.hasOwnProperty("fontStyle")||i.hasOwnProperty("font-style")){var M=i.hasOwnProperty("style")?i.style:i.hasOwnProperty("fontStyle")?i.fontStyle:i["font-style"];n.fontStyle=M}else n.fontStyle=t.fontStyle;if(i.hasOwnProperty("color")||i.hasOwnProperty("font-color")){var L=i.hasOwnProperty("color")?i.color:i["font-color"];n.color=L}else n.color=t.color;if(i.hasOwnProperty("stroke")){var F=i.stroke;n.stroke=F.hasOwnProperty("color")?F.color:t.stroke,n.strokeThickness=F.hasOwnProperty("thickness")?F.thickness:t.strokeThickness}else n.stroke=t.stroke,n.strokeThickness=t.strokeThickness}if(i.hasOwnProperty("shadow")){var G=i.shadow;n.shadowColor=G.hasOwnProperty("color")?G.color:t.shadowColor,n.shadowOffsetX=G.hasOwnProperty("offsetX")?G.offsetX:t.shadowOffsetX,n.shadowOffsetY=G.hasOwnProperty("offsetY")?G.offsetY:t.shadowOffsetY,n.shadowBlur=G.hasOwnProperty("blur")?G.blur:t.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0}else n.shadowColor=t.shadowColor,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY,n.shadowBlur=t.shadowBlur,n.shadowStroke=t.shadowStroke,n.shadowFill=t.shadowFill;if(i.hasOwnProperty("u")||i.hasOwnProperty("underline")){var V=i.hasOwnProperty("u")?i.u:i.underline;n.underlineColor=V.hasOwnProperty("color")?V.color:t.underlineColor,n.underlineThickness=V.hasOwnProperty("thickness")?V.thickness:t.underlineThickness,n.underlineOffset=V.hasOwnProperty("offset")?V.offset:t.underlineOffset}else n.underlineColor=t.underlineColor,n.underlineThickness=t.underlineThickness,n.underlineOffset=t.underlineOffset;if(i.hasOwnProperty("s")||i.hasOwnProperty("strikethrough")){var $=i.hasOwnProperty("s")?i.s:i.strikethrough;n.strikethroughColor=$.hasOwnProperty("color")?$.color:t.strikethroughColor,n.strikethroughThickness=$.hasOwnProperty("thickness")?$.thickness:t.strikethroughThickness,n.strikethroughOffset=$.hasOwnProperty("offset")?$.offset:t.strikethroughOffset}else n.strikethroughColor=t.strikethroughColor,n.strikethroughThickness=t.strikethroughThickness,n.strikethroughOffset=t.strikethroughOffset;return n}getStrokeThinkness(t,i){var n;if(i.hasOwnProperty("stroke")){var x=i.stroke;n=x.hasOwnProperty("thickness")?x.thickness:t.strokeThickness}else n=t.strokeThickness;return n}propToTagText(t,i,n){return i.hasOwnProperty("_class")?t===""&&this.isTextTag(i._class)?"":`<class='${i._class}'>${t}</class>`:i.hasOwnProperty("_style")?`<style='${i._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var i=this.tags[t];return i?i.img==null:!1}};var pP=function(e){e=e.split(";");for(var t={},i,n,x,S=0,M=e.length;S<M;S++)if(i=e[S].split(":"),n=i[0],x=i[1],!(Bp(n)||Bp(x))){switch(n){case"stroke":var L=x.split(" "),F=L.length;x={},F>=1&&(x.color=L[0]),F>=2&&(x.thickness=parseInt(L[1].replace("px","")));break;case"shadow":var L=x.split(" "),F=L.length;x={},F>=1&&(x.color=L[0]),F>=2&&(x.offsetX=parseInt(L[1].replace("px",""))),F>=3&&(x.offsetY=parseInt(L[2].replace("px",""))),F>=4&&(x.blur=parseInt(L[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var L=x.split(" "),F=L.length;x={},F>=1&&(x.color=L[0]),F>=2&&(x.thickness=parseInt(L[1].replace("px",""))),F>=3&&(x.offset=parseInt(L[2].replace("px",""))),n==="underline"?n="u":n==="strikethrough"&&(n="s");break;case"y":x=parseFloat(x);break}t[n]=x}return t},Bp=function(e){return e=e.replace(gP,""),e.length===0},Zu=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,Ip=/<\s*class=/i,Gp=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,kp=/<\s*style=/i,zp=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,gP=/^\s+|\s+$/;const mP=Phaser.Utils.Objects.GetValue;class Np extends Hu{constructor(t,i,n,x,S){var M=mP(S,"tags",void 0),L=new vP(M);super(t,i,n,x,S,"rexTagText",L)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}tt.register("tagText",function(e,t,i,n){var x=new Np(this.scene,e,t,i,n);return this.scene.add.existing(x),x}),H(window,"RexPlugins.UI.TagText",Np);const ah=Phaser.Utils.Objects.GetValue;var oh=function(e,t){return t===void 0?e:e[t]},vr=function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var n=typeof t;return n==="string"?e[t]=i:n==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=ah(t,"left",0),e.right=ah(t,"right",0),e.top=ah(t,"top",0),e.bottom=ah(t,"bottom",0)),e};let Ju=class{constructor(t,i){this.setParent(t),this.type=i,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,i){return!1}};Object.assign(Ju.prototype,wi);var xP={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}};const yP=Phaser.Math.RotateAround;var CP=function(e,t,i,n){return n===void 0?n={}:n===!0&&(Qu===void 0&&(Qu={}),n=Qu),n.x=(e-i.drawX)/i.scaleX,n.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&yP(n,0,0,-i.rotation),n},Qu;const SP=Phaser.Geom.Rectangle;var TP=function(e,t){if(this.width===0||this.height===0)return!1;var i=CP(e,t,this,!0);return PP(this).contains(i.x,i.y)},PP=function(e){hh===void 0&&(hh=new SP);var t=e.drawTLX,i=e.drawTLY;return hh.setTo(t,i,e.drawTRX-t,e.drawBLY-i),hh},hh;const EP=Phaser.Math.RotateAround;var Vp=function(e,t,i,n){return n===void 0?n={}:n===!0&&(ju===void 0&&(ju={}),n=ju),n.x=t,n.y=i,e.rotation!==0&&EP(n,0,0,e.rotation),n.x=n.x*e.scaleX+e.drawX,n.y=n.y*e.scaleY+e.drawY,n},ju;const Up=Phaser.GameObjects.Components.TransformMatrix;var MP=function(e,t,i,n){n===void 0?n={}:n===!0&&(n=wP);var x=t-e.width*e.originX,S=i-e.height*e.originY;return Ma===void 0&&(Ma=new Up,Wp=new Up),e.parentContainer?e.getWorldTransformMatrix(Ma,Wp):Ma.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),Ma.transformPoint(x,S,n),n},Ma,Wp,wP={},RP=function(e,t,i,n,x){var S=Vp(t,i,n,!0),M=MP(e,S.x,S.y,x);return M},Xp=function(e,t,i,n,x){typeof i!="number"&&(x=i,i=0,n=0);var S=t.drawCenterX+i,M=t.drawCenterY+n;return RP(e,t,S,M,x)},AP=function(e,t,i){return Xp(this.parent,this,e,t,i)},Yp={contains:TP,getWorldPosition:AP};Object.assign(Yp,xP);const LP=Phaser.Math.DegToRad,bP=Phaser.Math.RadToDeg,lh=Phaser.Utils.Objects.GetValue;class Wr extends Ju{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return bP(this._rotation)}set angle(t){this.rotation=LP(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=lh(t,"width",void 0),n=lh(t,"height",void 0),x=lh(t,"scaleX",void 0),S=lh(t,"scaleY",void 0);return i!==void 0?n===void 0&&S===void 0?this.setWidth(i,!0):this.setWidth(i):x!==void 0&&this.setScaleX(x),n!==void 0?i===void 0&&x===void 0?this.setHeight(n,!0):this.setHeight(n):S!==void 0&&this.setScaleY(S),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(Wr.prototype,Yp);var pr=function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]};const Xr=Phaser.Utils.Objects.GetValue;class OP extends Wr{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(Xr(i,"color",null),Xr(i,"color2",null),Xr(i,"horizontalGradient",!0)),this.setStroke(Xr(i,"stroke",null),Xr(i,"strokeThickness",2)),this.setCornerRadius(Xr(i,"cornerRadius",0),Xr(i,"cornerIteration",null))}set color(t){t=Wt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Wt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,n){return n===void 0&&(n=!0),this.color=t,this.color2=i,this.horizontalGradient=n,this}set stroke(t){t=Wt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,pr("color2",t,this),pr("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,pr("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,pr("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){Du(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const gr=Phaser.Utils.Objects.GetValue;class FP extends Wr{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(gr(i,"color",null),gr(i,"color2",null),gr(i,"horizontalGradient",!0)),this.setStroke(gr(i,"stroke",null),gr(i,"strokeThickness",2))}set color(t){t=Wt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Wt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,n){return n===void 0&&(n=!0),this.color=t,this.color2=i,this.horizontalGradient=n,this}set stroke(t){t=Wt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,gr(t,"color2",null),gr(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,gr(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,n=t.top,x=this.parent.width-t.left-t.right,S=this.parent.height-t.top-t.bottom,M=this.context;if(this.color!=null){var L;if(this.color2!=null){var F;this.horizontalGradient?F=M.createLinearGradient(0,0,x,0):F=M.createLinearGradient(0,0,0,S),F.addColorStop(0,this.color),F.addColorStop(1,this.color2),L=F}else L=this.color;M.fillStyle=L,M.fillRect(i,n,x,S)}this.stroke!=null&&this.strokeThickness>0&&(M.strokeStyle=this.stroke,M.lineWidth=this.strokeThickness,M.strokeRect(i,n,x,S))}}const Fe=Phaser.Utils.Objects.GetValue;class uh{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(Fe(t,"bold",!1)),this.setItalic(Fe(t,"italic",!1)),this.setFontSize(Fe(t,"fontSize","16px")),this.setFontFamily(Fe(t,"fontFamily","Courier")),this.setColor(Fe(t,"color","#fff")),this.setStrokeStyle(Fe(t,"stroke",null),Fe(t,"strokeThickness",0)),this.setShadow(Fe(t,"shadowColor",null),Fe(t,"shadowOffsetX",0),Fe(t,"shadowOffsetY",0),Fe(t,"shadowBlur",0)),this.setOffset(Fe(t,"offsetX",0),Fe(t,"offsetY",0)),this.setSpace(Fe(t,"leftSpace",0),Fe(t,"rightSpace",0)),this.setAlign(Fe(t,"align",void 0)),this.setBackgroundColor(Fe(t,"backgroundColor",null)),this.setBackgroundHeight(Fe(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(Fe(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(Fe(t,"backgroundLeftX",0)),this.setBackgroundRightX(Fe(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(pr("stroke",t,this),pr("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(pr("shadowOffsetX",t,this),pr("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new uh(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=Wt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=Wt(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=Wt(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,n,x){return this.setShadowColor(t).setShadowOffset(i,n).setShadowBlur(x),this}setBackgroundColor(t){return this.backgroundColor=Wt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,n=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=n?this.stroke:"#000",t.lineWidth=n?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}}var DP=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},BP=function(e,t){var i=this.padding,n=i.left,x=i.right,S=i.top,M=i.bottom;return vr(i,e,t),this.dirty=this.dirty||n!=i.left||x!=i.right||S!=i.top||M!=i.bottom,this},IP=function(e){return oh(this.padding,e)},GP=function(e){return this.textStyle.modify(e),this},kP=function(e){return this.defaultTextStyle.modify(e),this},zP=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},NP=function(e){return this.testString=e,this};const VP=Phaser.Utils.Array.Remove;var UP=function(e){return this.poolManager.free(e),VP(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},WP=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const XP=Phaser.Utils.Array.Remove;var YP=function(e){return XP(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},HP=function(){return this.setText(),this},$P=function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const Ms="text",Hp="image",$p="drawer",Kp="space",qu="command";var Zp=function(e){return e.type===Ms&&e.text===`
`},Jp=function(e){return e.type===Ms&&e.text==="\f"},KP=function(e){return e.type===Ms&&e.text===" "},Yr=function(e){return e.type===Ms},ZP=function(e){return e.type===qu};class Qp extends Wr{constructor(t,i,n){super(t,Ms),this.updateTextFlag=!1,this.style=new uh(this,n),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var n,x;"actualBoundingBoxAscent"in i?(n=i.actualBoundingBoxAscent,x=i.actualBoundingBoxDescent):(n=0,x=0),this.textHeight=n+x,this.ascent=n,this.descent=x}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var n=this.drawTLX+i.backgroundLeftX,x=this.drawTRX+i.backgroundRightX,S=n,M=x-n+1;if(M>0){var L=i.backgroundBottomY;L==null&&(L=this.drawBLY);var F=i.backgroundHeight;F==null&&(F=L-this.drawTLY);var G=L-F;t.fillRect(S,G,M,F)}}var V=i.hasFill,$=i.hasStroke;!V&&!$||(i.syncFont(t).syncStyle(t),$&&(i.syncShadow(t),t.strokeText(this.text,0,0)),V&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var JP=function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(Ms);return i===null?i=new Qp(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},QP=function(e,t){t&&this.textStyle.modify(t);for(var i=[],n=0,x=e.length;n<x;n++){var S=e.charAt(n),M=this.poolManager.allocate(Ms);M===null?M=new Qp(this,S,this.textStyle):M.setParent(this).setActive().modifyStyle(this.textStyle).setText(S),i.push(M)}return i},wa=function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},jP=function(e,t){return e===void 0&&(e=""),this.removeChildren(),wa.call(this,e,t),this.dirty=!0,this},qP=function(e,t,i){var n=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(n,e),this},_P=function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var n=this.getCharChildIndex(e,!0);if(n===void 0)break;this.removeChild(this.children[n])}return this},tE=function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class eE extends Wr{constructor(t,i,n){super(t,Hp),this.setTexture(i,n),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){Mp(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var iE=function(e,t,i){var n=this.poolManager.allocate(Hp);return n===null?n=new eE(this,e,t):n.setParent(this).setActive().setTexture(e,t),n.modifyPorperties(i),n},jp=function(e,t,i){var n=this.createImageChild(e,t,i);return this.addChild(n),this};class sE extends Wr{constructor(t,i,n,x){super(t,$p),this.setRenderCallback(i),this.setDrawerSize(n,x)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var rE=function(e,t,i){var n=this.poolManager.allocate($p);return n===null?n=new sE(this,e,t,i):n.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),n},nE=function(e,t,i){var n=this.createDrawerChild(e,t,i);return this.addChild(n),this};let aE=class extends Wr{constructor(t,i){super(t,Kp),this.setSpaceWidth(i)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var oE=function(e){var t=this.poolManager.allocate(Kp);return t===null?t=new aE(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},qp=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class hE extends Ju{constructor(t,i,n,x,S){super(t,qu),this.setName(i).setParameter(x).setCallback(n,S)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var lE=function(e,t,i,n){var x=this.poolManager.allocate(qu);return x===null?x=new hE(this,e,t,i,n):x.setParent(this).setActive().setName(e).setCallback(t,n).setParameter(i),x},Bt=function(e,t,i,n){var x=this.createCommandChild(e,t,i,n);return this.addChild(x),this},uE=function(e){return e===void 0?e={}:typeof e=="object"&&(e=gt(e)),this.wrapConfig=e,this},_p=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const dE={none:0,word:1,char:2,character:2,mix:3};var fE=function(e,t,i,n){n===void 0&&(n={word:[],width:0}),n.word.length=0;for(var x=i===2,S=i===3,M=!x&&!S,L=e.length,F=t,G=n.word,V=0,$=!1;F<L;){var _=e[F];if(!_.renderable){G.push(_),F++;continue}var q=_.type===Ms?_.text:null;if(q===null||q===`
`||q==="\f"){F===t&&(G.push(_),V+=_.outerWidth);break}if(M){if(G.push(_),V+=_.outerWidth,q===" ")break;F++}else if(x){G.push(_),V+=_.outerWidth;break}else if(S)if(Ea(q)){if(G.push(_),V+=_.outerWidth,q===" ")break;F++,$=!0}else{if($)break;G.push(_),V+=_.outerWidth;var st=e[F+1];st&&st.type===Ms&&st.text===" "&&(G.push(st),V+=st.outerWidth);break}}return n.width=V,n},tg=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n.align!==void 0)return n.align}},eg=function(e,t,i){if(!(t===0&&i===0))for(var n=0,x=e.length;n<x;n++){var S=e[n];S.renderable&&(S.x+=t,S.y+=i)}},cE=function(e,t,i){for(var n=e.hAlign,x=e.vAlign,S=e.justifyPercentage,M=e.lines,L,F,G=0,V=M.length;G<V;G++){var $=M[G],_=$.width,q=$.children,st=tg(q);switch(st===void 0&&(st=n),st){case 0:case"left":L=0;break;case 1:case"center":var at=t-_;L=at/2;break;case 2:case"right":var at=t-_;L=at;break;case 3:case"justify":case"justify-left":var at=t-_,nt=at/t;nt<S&&_u(q,at),L=0;break;case 4:case"justify-center":var at=t-_,nt=at/t;nt<S?(_u(q,at),L=0):L=at/2;break;case 5:case"justify-right":var at=t-_,nt=at/t;nt<S?(_u(q,at),L=0):L=at;break;default:L=0;break}var ut=e.linesHeight;switch(x){case 1:case"center":F=(i-ut)/2;break;case 2:case"bottom":F=i-ut;break;default:F=0;break}eg(q,L,F)}},_u=function(e,t){for(var i=t/e.length,n=0,x=e.length;n<x;n++){var S=e[n];S.renderable&&(S.x+=i*n)}},ig=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),dh.ascent=t,dh.descent=i,dh.height=t+i,dh},dh={};const ri=Phaser.Utils.Objects.GetValue;var vE=function(e){var t=ri(e,"start",0);vr(this.wrapPadding,ri(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,n=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,x=ri(e,"lineHeight"),S=ri(e,"ascent",x),M;if(x===void 0){var L=ri(e,"useDefaultTextHeight",!1);if(M=ri(e,"maxLines",0),this.fixedHeight>0&&!L){var Xs=this.fixedHeight-i;if(M>0)x=Xs/M;else{var F=ig.call(this);x=F.height,S=F.ascent,M=Math.floor((Xs-S)/x)}}else{var F=ig.call(this);x=F.height,S=F.ascent}}else if(this.fixedHeight>0){if(M=ri(e,"maxLines"),M===void 0){var Xs=this.fixedHeight-i;M=Math.floor(Xs/x)}}else M=ri(e,"maxLines",0);S===void 0&&(S=x);var G=M===0,V=ri(e,"wrapMode");if(V===void 0){var $=ri(e,"charWrap",!1);V=$?"char":"word"}typeof V=="string"&&(V=dE[V]);var _=ri(e,"wrapWidth",void 0);_===void 0&&(this.fixedWidth>0?_=this.fixedWidth-n:(_=1/0,V=0));for(var q=ri(e,"letterSpacing",0),st=ri(e,"hAlign",0),at=ri(e,"vAlign",0),nt=ri(e,"justifyPercentage",.25),ut=_p({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:q,maxLines:M,hAlign:st,vAlign:at,justifyPercentage:nt,ascent:S,lineHeight:x,wrapWidth:_,wrapMode:V}),ct=this.children,dt=0,mt=ct.length;dt<mt;dt++)ct[dt].setActive(!1);_+=q;for(var Tt=this.padding.left+this.wrapPadding.left,Pt=this.padding.top+this.wrapPadding.top+S,Rt=Tt,Dt=Pt,Ft=_,zt=t,kt=ct.length,qt=ut.children,_t=ut.lines,It=[],de=0,ge=0,Pe,Ve=!1;zt<kt;){Pe=fE(ct,zt,V,Pe);var Ge=Pe.word,oi=Ge.length,Vi=Pe.width+oi*q;zt+=oi;var Ui=Zp(Ge[0]);Ve=Jp(Ge[0]);var Ts=Ui||Ve;if(Ft<Vi||Ts){if(Ts){var yn=Ge[0];yn.setActive().setPosition(Rt,Dt),qt.push(yn),It.push(yn)}Rt=Tt,Dt+=x,Ft=_,_t.push({children:It,width:de}),ge=Math.max(ge,de),de=0,It=[];var Mu=Ve||!G&&_t.length===M;if(Mu)break;if(Ts)continue}Ft-=Vi,de+=Vi;for(var dt=0,mt=Ge.length;dt<mt;dt++){var hi=Ge[dt];hi.setActive(),qt.push(hi),It.push(hi),hi.renderable&&(hi.setPosition(Rt,Dt),Rt+=hi.outerWidth+q)}}It.length>0&&(_t.push({children:It,width:de}),ge=Math.max(ge,de)),ut.start+=qt.length,ut.isLastPage=!Ve&&ut.start===kt,ut.maxLineWidth=ge,ut.linesHeight=_t.length*x;var Ho=this.fixedWidth>0?this.fixedWidth:ut.maxLineWidth+n,$o=this.fixedHeight>0?this.fixedHeight:ut.linesHeight+i,wu=Ho-n,Xs=$o-i;cE(ut,wu,Xs),this.setCanvasSize(Ho,$o);for(var dt=0,mt=qt.length;dt<mt;dt++){var hi=qt[dt];hi.renderable&&(hi.x0=hi.x,hi.y0=hi.y)}return ut};const pE=Phaser.Utils.Objects.Merge;var gE=function(e){return e===void 0&&(e={}),vE.call(this,pE(e,this.wrapConfig))},mE=function(e,t,i){var n=e.hAlign,x=e.vAlign,S,M,L=e.rtl,F=e.lines,G=e.lineWidth,V=e.linesWidth;switch(n){case 1:case"center":S=(t-V)/2;break;case 2:case"right":S=t-V;break;default:S=0;break}L&&(S+=G);for(var $=0,_=F.length;$<_;$++){var q=F[L?_-$-1:$],st=q.children,at=q.height,nt=tg(st);switch(nt===void 0&&(nt=x),nt){case 1:case"center":M=(i-at)/2;break;case 2:case"bottom":M=i-at;break;default:M=0;break}eg(st,S,M),S+=G}};const mi=Phaser.Utils.Objects.GetValue;var xE=function(e){var t=mi(e,"start",0);vr(this.wrapPadding,mi(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,n=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,x=mi(e,"lineWidth",void 0),S;if(x===void 0)if(S=mi(e,"maxLines",0),this.fixedWidth>0){var Ui=this.fixedWidth-n;x=Ui/S}else x=0;else if(this.fixedWidth>0){if(S=mi(e,"maxLines",void 0),S===void 0){var Ui=this.fixedWidth-n;S=Math.floor(Ui/x)+1}}else S=mi(e,"maxLines",0);var M=S===0,L=mi(e,"fixedCharacterHeight",void 0);if(L===void 0){var F=mi(e,"charPerLine",void 0);if(F!==void 0){var Ts=this.fixedHeight-i;L=Math.floor(Ts/F)}}var G=mi(e,"wrapHeight",void 0);G===void 0&&(this.fixedHeight>0?G=this.fixedHeight-i:G=1/0);for(var V=mi(e,"letterSpacing",0),$=mi(e,"rtl",!0),_=mi(e,"hAlign",$?2:0),q=mi(e,"vAlign",0),st=_p({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:V,maxLines:S,hAlign:_,vAlign:q,lineWidth:x,fixedCharacterHeight:L,wrapHeight:G,rtl:$}),at=this.children,nt=0,ut=at.length;nt<ut;nt++)at[nt].setActive(!1);G+=V;for(var ct=this.padding.left+this.wrapPadding.left,dt=this.padding.top+this.wrapPadding.top,mt=ct,Tt=dt,Pt=G,Rt=t,Dt=at.length,Ft=st.children,zt=st.lines,kt=[],qt=0,_t=0;Rt<Dt;){var It=at[Rt];if(Rt++,!It.renderable){It.setActive(),Ft.push(It),kt.push(It);continue}var de=(L!==void 0?L:It.height)+V,ge=Zp(It),Pe=Jp(It),Ve=ge||Pe;if(Pt<de||Ve){ge&&(It.setActive().setPosition(mt,Tt).setOrigin(.5),Ft.push(It),kt.push(It)),mt=ct,Tt=dt,Pt=G,zt.push({children:kt,height:qt}),_t=Math.max(_t,qt),qt=0,kt=[];var Ge=Pe||!M&&zt.length===S;if(Ge)break;if(Ve)continue}Pt-=de,qt+=de,It.setActive().setPosition(mt,Tt).setOrigin(.5),Ft.push(It),kt.push(It),Tt+=de}kt.length>0&&(zt.push({children:kt,height:qt}),_t=Math.max(_t,qt)),st.start+=Ft.length,st.isLastPage=st.start===Dt,st.maxLineHeight=_t,st.linesWidth=zt.length*x;var oi=this.fixedWidth>0?this.fixedWidth:st.linesWidth+n,Vi=this.fixedHeight>0?this.fixedHeight:st.maxLineHeight+i,Ui=oi-n,Ts=Vi-i;mE(st,Ui,Ts),this.setCanvasSize(oi,Vi);for(var nt=0,ut=Ft.length;nt<ut;nt++){var It=Ft[nt];It.renderable&&(It.x0=It.x,It.y0=It.y)}return st};const yE=Phaser.Utils.Objects.Merge;var CE=function(e){return e===void 0&&(e={}),xE.call(this,yE(e,this.wrapConfig))};const sg=Phaser.Utils.Objects.GetValue;var SE=function(e){var t=sg(this.wrapConfig,"callback");return t||(t=sg(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)},TE={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},PE={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}},EE=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},ME=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(F){return!(i&&!F.active)}),x=0,S=n.length;x<S;x++){var M=n[x],L;if(t?L=e.call(this,M,x,n):L=e(M,x,n),L)break}return this},wE=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(F){return!(i&&!F.active||!F.renderable||F.removed)}),x=0,S=n.length;x<S;x++){var M=n[x],L;if(t?L=e.call(this,M,x,n):L=e(M,x,n),L)break}return this},RE=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(F){return!(i&&!F.active||!Yr(F)||F.removed)}),x=0,S=n.length;x<S;x++){var M=n[x],L;if(t?L=e.call(this,M,x,n):L=e(M,x,n),L)break}return this},AE=function(){return this.children};const LE=Phaser.Utils.Array.GetAll;var bE=function(){return LE(this.children,"active",!0)},OE=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},FE=function(){return this.lastAppendedChildren},DE=function(e,t,i,n){typeof t!="number"&&(n=t,t=0,i=0);var x=e.drawCenterX+t,S=e.drawCenterY+i;return Vp(e,x,S,n)};const BE=Phaser.Math.Distance.BetweenPointsSquared;var IE=function(e,t){var i={x:e,y:t},n=1/0,x=null;return this.forEachRenderableChild(function(S){var M=BE(i,DE(S,!0));n>M&&(n=M,x=S)}),x},GE=function(e,t,i,n){return typeof e=="number"&&(e=this.getCharChild(e,!0)),Xp(this,e,t,i,n)},kE=function(){for(var e=this.children,t=0,i=0,n=0,x=e.length;n<x;n++){var S=e[n];if(!(!S.renderable||!S.active||!S.visible)){var M=S.x0!==void 0?S.x0:S.x,L=S.y0!==void 0?S.y0:S.y;t=Math.max(t,M),i=Math.max(i,L)}}var F=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,G=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==F||this.height!==G)&&(this.dirty=!0,this.setCanvasSize(F,G)),this},zE=function(e,t){t===void 0&&(t=!0);for(var i=this.children,n=0,x=i.length;n<x;n++){var S=i[n];if(!(t&&!S.active)&&Yr(S)&&!S.removed){if(e===0)return n;e--}}},NE=function(e,t){t===void 0&&(t=!0);for(var i=this.children,n=0,x=i.length;n<x;n++){var S=i[n];if(!(t&&!S.active)&&Yr(S)&&!S.removed){if(e===0)return S;e--}}},VE=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var n=0,x=0;x<e;x++){var S=i[x];t&&!S.active||Yr(S)&&!S.removed&&n++}return n},UE=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},td=function(n,t,i){for(var n=n,x=0,S=n.length;x<S;x++){var M=n[x];if(!(!M.active||!M.renderable)&&M.contains(t,i))return M}return null},WE=function(){return this.on("pointerdown",XE,this).on("pointerdown",YE,this).on("pointermove",ed,this).on("pointerover",ed,this).on("pointerout",function(e,t){ed.call(this,e,null,null,t)},this),this},XE=function(e,t,i,n){if(this.childrenInteractiveEnable){var x=td(this.children,t,i);x&&this.emit("child.pointerdown",x,e,t,i,n)}},YE=function(e,t,i,n){if(this.childrenInteractiveEnable){var x=td(this.children,t,i);x&&this.emit("child.pointerup",x,e,t,i,n)}},ed=function(e,t,i,n){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,n),this.lastOverChild=null);return}var x=td(this.children,t,i);x!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,n),x!==null&&this.emit("child.pointerover",x,e,t,i,n),this.lastOverChild=x)}};const HE=Phaser.GameObjects.GameObject;var $E=function(e,t,i){var n=!!this.input;return HE.prototype.setInteractive.call(this,e,t,i),n||WE.call(this),this};const KE=Phaser.Utils.Array.BringToTop,ZE=Phaser.Utils.Array.SendToBack,JE=Phaser.Utils.Array.MoveUp,QE=Phaser.Utils.Array.MoveDown,jE=Phaser.Utils.Array.MoveAbove,qE=Phaser.Utils.Array.MoveBelow;var _E={moveChildToFist(e){return ZE(this.children,e),this},moveChildToLast(e){return KE(this.children,e),this},movechildUp(e){return JE(this.children,e),this},movechildDown(e){return QE(this.children,e),this},movechildAbove(e,t){return jE(this.children,e,t),this},movechildBelow(e,t){return qE(this.children,e,t),this}},t2={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},e2={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}},rg={setFixedSize:DP,setPadding:BP,getPadding:IP,modifyTextStyle:GP,modifyDefaultTextStyle:kP,resetTextStyle:zP,setTestString:NP,removeChild:UP,removeChildren:WP,popChild:YP,clearContent:HP,addChild:$P,createCharChild:JP,createCharChildren:QP,setText:jP,appendText:wa,insertText:qP,removeText:_P,getText:tE,createImageChild:iE,appendImage:jp,createDrawerChild:rE,appendDrawer:nE,createSpaceChild:oE,appendSpace:qp,createCommandChild:lE,appendCommand:Bt,setWrapConfig:uE,runWordWrap:gE,runVerticalWrap:CE,runWrap:SE,renderContent:EE,forEachChild:ME,forEachRenderableChild:wE,forEachCharChild:RE,getChildren:AE,getActiveChildren:bE,getCharChildren:OE,getLastAppendedChildren:FE,getNearestChild:IE,getCharWorldPosition:GE,setToMinSize:kE,getCharChildIndex:zE,getCharChild:NE,getCharIndex:VE,setChildrenInteractiveEnable:UE,setInteractive:$E};Object.assign(rg,_E,t2,e2,TE,PE);const i2=Phaser.Utils.Objects.GetFastValue;var s2={};class r2{constructor(t){this.pools=i2(t,"pools",s2)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new yt),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const id=Phaser.Utils.Objects.IsPlainObject,$e=Phaser.Utils.Objects.GetValue;class Bn extends ur{constructor(t,i,n,x,S,M,L){id(i)?(L=i,i=$e(L,"x",0),n=$e(L,"y",0),x=$e(L,"width",0),S=$e(L,"height",0),M=$e(L,"resolution",1)):id(x)?(L=x,x=$e(L,"width",0),S=$e(L,"height",0),M=$e(L,"resolution",1)):id(M)&&(L=M,M=$e(L,"resolution",1));var F=x===0?1:x,G=S===0?1:S;super(t,i,n,F,G,M),this.type="rexDynamicText",this.autoRound=!0,this.padding=vr(),this.wrapPadding=vr();var V=$e(L,"style",void 0);this.defaultTextStyle=new uh(null,V),this.textStyle=this.defaultTextStyle.clone(),this.setTestString($e(L,"testString","|MÉqgy")),this._textOX=0,this._textOY=0,this.background=new OP(this,$e(L,"background",void 0)),this.innerBounds=new FP(this,$e(L,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new r2(L),this.setFixedSize(x,S),this.setPadding($e(L,"padding",0)),this.setWrapConfig($e(L,"wrap",void 0)),this.setChildrenInteractiveEnable($e(L,"childrenInteractive",!1));var $=$e(L,"text",void 0);$&&this.setText($)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(Bn.prototype,rg),tt.register("dynamicText",function(e,t,i,n,x){var S=new Bn(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.DynamicText",Bn);var Ra={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},n2={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(_){var t=_.property,i=_.value,n=_.duration,x=_.delay,S=_.ease,M=_.repeat,L=_.yoyo,F=_.from,G=_.complete,V=_.target;if(n===void 0&&(n=1e3),x===void 0&&(x=0),S===void 0&&(S="Linear"),M===void 0&&(M=0),L===void 0&&(L=!1),V===void 0&&(V=this.gameObject),F){var $=i;i=V[t],V[t]=$}var _={targets:V,duration:n,delay:x,ease:S,repeat:M,yoyo:L,onComplete:G};return _[t]=i,this.addTweenTask(t,_),this},addTweenTask(e,t){var i=this.tweens,n=i[e];n&&n.remove();var x=t.onComplete;return t.onComplete=function(){i[e].remove(),i[e]=null,x&&x(t.targets,e)},n=this.scene.tweens.add(t),n.timeScale=this.timeScale,i[e]=n,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},a2={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var i=this.gameObject;return i[e].apply(i,t),this}},o2={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class sd{constructor(t,i,n){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,n)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.goName=i,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var n in i){var x=i[n];x&&(x.timeScale=t)}return this}}Object.assign(sd.prototype,n2,a2,o2);var Aa=function(e){for(var t in e)return!1;return!0},Hr=function(e){return e&&e.charAt(0)!=="!"},h2={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(Hr(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var i in this.bobs)e&&i===e||t.push(this.bobs[i]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var i=this.get(e);if(i)if(Array.isArray(i)){t===void 0&&(t=[]);var n=i;return n.forEach(function(x){t.push(x.gameObject)}),t}else return i.gameObject;else return null},forEachGO(e,t){for(var i in this.bobs){var n=this.bobs[i].gameObject,x;if(t?x=e.call(t,n,i,this):x=e(n,i,this),x)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var i=this.bobs[t].gameObject;e.push(i)}return e}},La=function(e){return e>>16&255},ba=function(e){return e>>8&255},Oa=function(e){return e&255},ng=function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t};const l2=65535,u2=16711935,d2=16776960;var f2=function(e,t){return(t&255)<<16|e&l2},c2=function(e,t){return(t&255)<<8|e&u2},v2=function(e,t){return t&255|e&d2},p2=function(e,t,i,n){return(t&255)<<16|(i&255)<<8|n&255},g2=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=La(t),n=ba(t),x=Oa(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(S){S=Math.floor(S)&16777215,e.setTint&&e.setTint(S),t!==S&&(t=S,i=La(t),n=ba(t),x=Oa(t))}}),Object.defineProperty(e,"tintR",{get:function(){return i},set:function(S){S=Math.floor(S)&255,i!==S&&(i=S,e.tint=f2(t,S))}}),Object.defineProperty(e,"tintG",{get:function(){return n},set:function(S){S=Math.floor(S)&255,n!==S&&(n=S,e.tint=c2(t,S))}}),Object.defineProperty(e,"tintB",{get:function(){return x},set:function(S){S=Math.floor(S)&255,x!==S&&(x=S,e.tint=v2(t,S))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((i+n+x)/3)},set:function(S){S=Math.floor(S)&255,(i!==S||n!==S||x!==S)&&(i=S,n=S,x=S,e.tint=p2(t,S,S,S))}}),e.tint=t,e};const m2=Phaser.Events.EventEmitter;var x2=function(e){if(e.events)return e;var t=new m2,i=e.x;Object.defineProperty(e,"x",{get:function(){return i},set:function(M){i!==M&&(i=M,t.emit("update",e))}});var n=e.y;Object.defineProperty(e,"y",{get:function(){return n},set:function(M){n!==M&&(n=M,t.emit("update",e))}});var x=e.width;Object.defineProperty(e,"width",{get:function(){return x},set:function(M){x!==M&&(x=M,t.emit("update",e))}});var S=e.height;return Object.defineProperty(e,"height",{get:function(){return S},set:function(M){S!==M&&(S=M,t.emit("update",e))}}),e.events=t,e},y2=function(e,t,i,n,x,S){return S===void 0?S={}:S===!0&&(S=C2),typeof i!="number"&&(i=0,n=0),S.x=x.x+x.width*e+i,S.y=x.y+x.height*t+n,S},C2={},S2=function(e,t,i,n,x,S,M){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(M=i,i=void 0),typeof x=="function"&&(M=x,x=void 0),i===void 0&&(i=.5),n===void 0&&(n=.5),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=y2),x2(t);var L=t.events;e.vp=t;var F=function(){M(i,n,x,S,t,e)};L.on("update",F),e.once("destroy",function(){L.off("update",F),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return i},set:function(G){i!==G&&(i=G,F())}}),Object.defineProperty(e,"vpy",{get:function(){return n},set:function(G){n!==G&&(n=G,F())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return x},set:function(G){x!==G&&(x=G,F())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return S},set:function(G){S!==G&&(S=G,F())}}),F()},je=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},Me=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,n=0,x=i.length;n<x;n++)e[i[n]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},T2=function(e){if(ie(e,"barrel"))return e;var t=je(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))}}),e.barrel=null,Me(e,"barrel"),e},Ke=function(e,t,i){if(ie(e,t))return e;var n=je(e);if(!n)return e;var x=`_${t}Effect`,S;return Object.defineProperty(e,t,{get:function(){return S},set:function(M){if(S!==M)if(S=M,S===null||S===!1)e[x]&&(n.remove(e[x]),e[x]=void 0);else{e[x]||(e[x]=n.addColorMatrix());var L=e[x];L[t](i===1?M:void 0)}}}),e[t]=null,Me(e,t),e},P2=function(e){return Ke(e,"blackWhite"),e},E2=function(e){if(ie(e,"bloomColor"))return e;var t=je(e);if(!t)return e;var i,n=1,x=1,S=1,M=1,L=4;return Object.defineProperty(e,"bloomColor",{get:function(){return i},set:function(F){i!==F&&(i=F,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,n,x,S,M,L),t.setPadding(Math.max(n,x)+1)),e._bloom.color=i))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return n},set:function(F){if(n!==F&&(n=F,e._bloom)){var G=Math.max(n,x);t.setPadding(G+1),e._bloom.offsetX=n}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return x},set:function(F){if(x!==F&&(x=F,e._bloom)){var G=Math.max(n,x);t.setPadding(G+1),e._bloom.offsetY=x}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return S},set:function(F){S!==F&&(S=F,e._bloom&&(e._bloom.blurStrength=S))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return M},set:function(F){M!==F&&(M=F,e._bloom&&(e._bloom.strength=M))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return L},set:function(F){L!==F&&(L=F,e._bloom&&(e._bloom.steps=L))}}),e.bloomColor=null,Me(e,"bloomColor"),e},M2=function(e){if(ie(e,"blurColor"))return e;var t=je(e);if(!t)return e;var i,n=0,x=1,S=1,M=1,L=4;return Object.defineProperty(e,"blurColor",{get:function(){return i},set:function(F){i!==F&&(i=F,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(n,x,S,M,i,L),t.setPadding(Math.max(x,S)+1)),e._blur.color=i))}}),Object.defineProperty(e,"blurQuality",{get:function(){return n},set:function(F){n!==F&&(n=F,e._blur&&(e._blur.quality=n))}}),Object.defineProperty(e,"blurX",{get:function(){return x},set:function(F){if(x!==F&&(x=F,e._blur)){var G=Math.max(x,S);t.setPadding(G+1),e._blur.x=x}}}),Object.defineProperty(e,"blurY",{get:function(){return S},set:function(F){if(S!==F&&(S=F,e._blur)){var G=Math.max(x,S);t.setPadding(G+1),e._blur.y=S}}}),Object.defineProperty(e,"blurStrength",{get:function(){return M},set:function(F){M!==F&&(M=F,e._blur&&(e._blur.strength=M))}}),Object.defineProperty(e,"blurSteps",{get:function(){return L},set:function(F){L!==F&&(L=F,e._blur&&(e._blur.steps=L))}}),e.blurColor=null,Me(e,"blurColor"),e},w2=function(e){if(ie(e,"bokehRadius"))return e;var t=je(e);if(!t)return e;var i,n=1,x=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,n,x)),e._bokeh.radius=i))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return n},set:function(S){n!==S&&(n=S,e._bokeh&&(e._bokeh.amount=n))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return x},set:function(S){x!==S&&(x=S,e._bokeh&&(e._bokeh.contrast=x))}}),e.bokehRadius=null,Me(e,"bokehRadius"),e},R2=function(e){return Ke(e,"brightness",1),e},A2=function(e){return Ke(e,"brown"),e},L2=function(e){if(ie(e,"circleColor"))return e;var t=je(e);if(!t)return e;var i,n=8,x=0,S=.4,M=1,L=.005;return Object.defineProperty(e,"circleColor",{get:function(){return i},set:function(F){i!==F&&(i=F,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(n,i,x,M,L),e.circleBackgroundAlpha=S),e._circle.color=i))}}),Object.defineProperty(e,"circleThickness",{get:function(){return n},set:function(F){n!==F&&(n=F,e._circle&&(e._circle.thickness=n))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return x},set:function(F){x!==F&&(x=F,e._circle&&(e._circle.backgroundColor=x))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return S},set:function(F){S!==F&&(S=F,e._circle&&(e._circle.glcolor2[3]=S))}}),Object.defineProperty(e,"circleScale",{get:function(){return M},set:function(F){M!==F&&(M=F,e._circle&&(e._circle.scale=M))}}),Object.defineProperty(e,"circleFeather",{get:function(){return L},set:function(F){L!==F&&(L=F,e._circle&&(e._circle.feather=L))}}),e.circleColor=null,Me(e,"circleColor"),e},b2=function(e){return Ke(e,"contrast",1),e},O2=function(e){return Ke(e,"desaturate",1),e},F2=function(e){return Ke(e,"desaturateLuminance"),e},D2=function(e){if(ie(e,"displacementKey"))return e;var t=je(e);if(!t)return e;var i,n=.005,x=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,n,x)),e._displacement.setTexture(i)))}}),Object.defineProperty(e,"displacementX",{get:function(){return n},set:function(S){n!==S&&(n=S,e._displacement&&(e._displacement.x=n))}}),Object.defineProperty(e,"displacementY",{get:function(){return x},set:function(S){x!==S&&(x=S,e._displacement&&(e._displacement.y=x))}}),e.displacementKey=null,Me(e,"displacementKey"),e},B2=function(e){if(ie(e,"glowColor"))return e;var t=je(e);if(!t)return e;var i,n=4,x=0;return Object.defineProperty(e,"glowColor",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,n,x),t.setPadding(n+1)),e._glow.color=i))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return n},set:function(S){n!==S&&(n=S,e._glow&&(t.setPadding(n+1),e._glow.outerStrength=n))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return x},set:function(S){x!==S&&(x=S,e._glow&&(e._glow.innerStrength=x))}}),e.glowColor=null,Me(e,"glowColor"),e},I2=function(e){if(ie(e,"gradientColor"))return e;var t=je(e);if(!t)return e;var i,n,x=.5,S=0,M=0,L=0,F=1,G=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[i,n]},set:function(V){var $,_;V===null||V===!1?($=null,_=null):($=V[0],_=V[1]),!(i===$&&n===_)&&(i=$,n=_,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,n,x,S,M,L,F,G)),e._gradient.color1=i,e._gradient.color2=n))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return i},set:function(V){if(V===null||V===!1){e.gradientColor=V;return}i!==V&&(i=V,e._gradient&&(e._gradient.color1=i))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return n},set:function(V){if(V===null||V===!1){e.gradientColor=V;return}n!==V&&(n=V,e._gradient&&(e._gradient.color2=n))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return x},set:function(V){x!==V&&(x=V,e._gradient&&(e._gradient.alpha=x))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return S},set:function(V){S!==V&&(S=V,e._gradient&&(e._gradient.fromX=S))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return M},set:function(V){M!==V&&(M=V,e._gradient&&(e._gradient.fromY=M))}}),Object.defineProperty(e,"gradientToX",{get:function(){return L},set:function(V){L!==V&&(L=V,e._gradient&&(e._gradient.toX=L))}}),Object.defineProperty(e,"gradientToY",{get:function(){return F},set:function(V){F!==V&&(F=V,e._gradient&&(e._gradient.toY=F))}}),Object.defineProperty(e,"gradientSize",{get:function(){return G},set:function(V){G!==V&&(G=V,e._gradient&&(e._gradient.size=G))}}),e.gradientColor=null,Me(e,"gradientColor"),e},G2=function(e){return Ke(e,"grayscale",1),e},k2=function(e){return Ke(e,"hue",1),e},z2=function(e){return Ke(e,"kodachrome"),e},N2=function(e){return Ke(e,"lsd"),e},V2=function(e){return Ke(e,"negative"),e},U2=function(e){if(ie(e,"pixelate"))return e;var t=je(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))}}),e.pixelate=null,Me(e,"pixelate"),e},W2=function(e){return Ke(e,"polaroid"),e},X2=function(e){if(ie(e,"revealLeft"))return e;var t=je(e);if(!t)return e;var i,n,x,S,M=.1,L=function(){i=null,n=null,x=null,S=null},F=function(G){G._revealEffect&&(t.remove(G._revealEffect),G._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return i},set:function(G){i!==G&&(L(),i=G,i===null||i===!1?F(e):(e._revealEffect||(e._revealEffect=t.addReveal(M,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))}}),Object.defineProperty(e,"revealRight",{get:function(){return n},set:function(G){n!==G&&(L(),n=G,n===null||n===!1?F(e):(e._revealEffect||(e._revealEffect=t.addReveal(M,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=n))}}),Object.defineProperty(e,"revealUp",{get:function(){return x},set:function(G){x!==G&&(L(),x=G,x===null||x===!1?F(e):(e._revealEffect||(e._revealEffect=t.addReveal(M,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=x))}}),Object.defineProperty(e,"revealDown",{get:function(){return S},set:function(G){S!==G&&(L(),S=G,S===null||S===!1?F(e):(e._revealEffect||(e._revealEffect=t.addReveal(M,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=S))}}),Object.defineProperty(e,"revealWidth",{get:function(){return M},set:function(G){M!==G&&(M=G,e._revealEffect&&(e._revealEffect.wipeWidth=M))}}),e.revealLeft=null,Me(e,"revealLeft"),Me(e,"revealRight"),Me(e,"revealUp"),Me(e,"revealDown"),e},Y2=function(e){return Ke(e,"saturate",1),e},H2=function(e){return Ke(e,"sepia"),e},$2=function(e){if(ie(e,"shadowColor"))return e;var t=je(e);if(!t)return e;var i,n=0,x=0,S=.1,M=1,L=6,F=1;return Object.defineProperty(e,"shadowColor",{get:function(){return i},set:function(G){i!==G&&(i=G,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(n,x,S,M,i,L,F)),e._shadow.color=i))}}),Object.defineProperty(e,"shadowX",{get:function(){return n},set:function(G){n!==G&&(n=G,e._shadow&&(e._shadow.x=n))}}),Object.defineProperty(e,"shadowY",{get:function(){return x},set:function(G){x!==G&&(x=G,e._shadow&&(e._shadow.y=x))}}),Object.defineProperty(e,"decay",{get:function(){return S},set:function(G){S!==G&&(S=G,e._shadow&&(e._shadow.decay=S))}}),Object.defineProperty(e,"shadowPower",{get:function(){return M},set:function(G){M!==G&&(M=G,e._shadow&&(e._shadow.power=M))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return L},set:function(G){L!==G&&(L=G,e._shadow&&(e._shadow.samples=L))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return F},set:function(G){F!==G&&(F=G,e._shadow&&(e._shadow.intensity=F))}}),e.shadowColor=null,Me(e,"shadowColor"),e},K2=function(e){return Ke(e,"shiftToBGR"),e},Z2=function(e){if(ie(e,"shineSpeed"))return e;var t=je(e);if(!t)return e;var i,n=.5,x=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,n,x)),e._shine.speed=i))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return n},set:function(S){n!==S&&(n=S,e._shine&&(e._shine.lineWidth=n))}}),Object.defineProperty(e,"shineGradient",{get:function(){return x},set:function(S){x!==S&&(x=S,e._shine&&(e._shine.gradient=x))}}),e.shineSpeed=null,Me(e,"shineSpeed"),e},J2=function(e){return Ke(e,"technicolor"),e},Q2=function(e){if(ie(e,"tiltShiftRadius"))return e;var t=je(e);if(!t)return e;var i,n=1,x=.2,S=1,M=1,L=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return i},set:function(F){i!==F&&(i=F,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,n,x,S,M,L)),e._tiltShift.radius=i))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return n},set:function(F){n!==F&&(n=F,e._tiltShift&&(e._tiltShift.amount=n))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return x},set:function(F){x!==F&&(x=F,e._tiltShift&&(e._tiltShift.contrast=x))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return S},set:function(F){S!==F&&(S=F,e._tiltShift&&(e._tiltShift.blurX=S))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return M},set:function(F){M!==F&&(M=F,e._tiltShift&&(e._tiltShift.blurY=M))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return L},set:function(F){L!==F&&(L=F,e._tiltShift&&(e._tiltShift.strength=L))}}),e.tiltShiftRadius=null,Me(e,"tiltShiftRadius"),e},j2=function(e){if(ie(e,"vignetteRadius"))return e;var t=je(e);if(!t)return e;var i,n=.5,x=.5,S=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return i},set:function(M){i!==M&&(i=M,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(n,x,i,S)),e._vignette.radius=i))}}),Object.defineProperty(e,"vignetteX",{get:function(){return n},set:function(M){n!==M&&(n=M,e._vignette&&(e._vignette.x=n))}}),Object.defineProperty(e,"vignetteY",{get:function(){return x},set:function(M){x!==M&&(x=M,e._vignette&&(e._vignette.y=x))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return S},set:function(M){S!==M&&(S=M,e._vignette&&(e._vignette.strength=S))}}),e.vignetteRadius=null,Me(e,"vignetteRadius"),e},q2=function(e){return Ke(e,"vintagePinhole"),e},_2=function(e){if(ie(e,"wipeLeft"))return e;var t=je(e);if(!t)return e;var i,n,x,S,M=.1,L=function(){i=null,n=null,x=null,S=null},F=function(G){G._wipeEffect&&(t.remove(G._wipeEffect),G._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return i},set:function(G){i!==G&&(L(),i=G,i===null||i===!1?F(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(M,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))}}),Object.defineProperty(e,"wipeRight",{get:function(){return n},set:function(G){n!==G&&(L(),n=G,n===null||n===!1?F(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(M,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=n))}}),Object.defineProperty(e,"wipeUp",{get:function(){return x},set:function(G){x!==G&&(L(),x=G,x===null||x===!1?F(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(M,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=x))}}),Object.defineProperty(e,"wipeDown",{get:function(){return S},set:function(G){S!==G&&(L(),S=G,S===null||S===!1?F(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(M,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=S))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return M},set:function(G){M!==G&&(M=G,e._wipeEffect&&(e._wipeEffect.wipeWidth=M))}}),e.wipeLeft=null,Me(e,"wipeLeft"),Me(e,"wipeRight"),Me(e,"wipeUp"),Me(e,"wipeDown"),e};const fh={barrel:T2,blackWhite:P2,bloom:E2,blur:M2,bokeh:w2,brightness:R2,brown:A2,circle:L2,contrast:b2,desaturate:O2,desaturateLuminance:F2,displacement:D2,glow:B2,gradient:I2,grayscale:G2,hue:k2,kodachrome:z2,lsd:N2,negative:V2,pixelate:U2,polaroid:W2,reveal:X2,saturate:Y2,sepia:H2,shadow:$2,shiftToBGR:K2,shine:Z2,technicolor:J2,tiltShift:Q2,vignette:j2,vintagePinhole:q2,wipe:_2};var In=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},n=0,x=i.length;n<x;n++)t[i[n]]=!0;if(t===!0)for(var S in fh)fh[S](e);else for(var S in t)t[S]&&fh[S]&&fh[S](e);return e};const tM=Phaser.Utils.Array.Remove;var eM={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&g2(t),this.viewportCoordinateEnable&&S2(t,this.viewport),this.effectPropertiesConfig&&In(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){tM(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,n=this.createGameObjectScope,x=i.call(n,this.scene,...t);this.addGO(e,x),this.gameObjectDepth!=null&&x.setDepth(this.gameObjectDepth);var S=this.get(e);return this.fadeBob(S,0,1),this}},iM={remove(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var n=this;return i.forEach(function(x){delete n.bobs[x.name];var S=x.gameObject;n.removedGOs.push(S),S.setName(),t?x.destroy():n.fadeBob(x,void 0,0,function(){x.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},sM={hasProperty(e,t){var i=Hr(e)?this.get(e):this.getFitst(e);return i?i.hasProperty(t):!1},getProperty(e,t){var i=Hr(e)?this.get(e):this.getFitst(e);if(i)return i.getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),n.forEach(function(x){x.setProperty(t,i)}),this},easeProperty(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var n=t.value,x=t.property;return this.symbols&&typeof n=="string"&&this.isNumberProperty(e,x)&&n in this.symbols&&(t.value=this.symbols[n]),i.forEach(function(S){S.easeProperty(t)}),this},hasTweenTask(e,t){var i=Hr(e)?this.get(e):this.getFitst(e);return i?i.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var i=Hr(e)?this.get(e):this.getFitst(e);return i&&i.tweens[t]||null}},rM={hasMethod(e,t){var i=Hr(e)?this.get(e):this.getFitst(e);return i?i.hasMethod(t):!1},call(e,t,...i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return n.forEach(function(x){x.call(t,...i)}),this}},nM={hasData(e,t){var i=Hr(e)?this.get(e):this.getFitst(e);return i?i.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return n.forEach(function(x){x.setData(t,i)}),this}};const ag=0,og=1,rd=2,hg=3,lg=4,nd=5,aM={tint:ag,alpha:og,revealUp:rd,revealDown:hg,revealLeft:lg,revealRight:nd};var oM={setGOFadeMode(e){return typeof e=="string"&&(e=aM[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===ag)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===og)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=rd&&this.fadeMode<=nd&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,n){var x=e.gameObject;if(this.useTintFadeEffect(x))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*i),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n});else if(this.useAlphaFadeEffect(x))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n});else if(this.useRevealEffect(x)){In(x,"reveal");var S;switch(this.fadeMode){case rd:S="revealUp";break;case hg:S="revealDown";break;case lg:S="revealLeft";break;case nd:S="revealRight";break}t===void 0&&(t=0),x[S]=t,e.easeProperty({property:S,value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n}),e.getTweenTask(S).once("complete",function(){x[S]=null})}else n&&n(x);return this}},se=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},re=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const ug=Phaser.Geom.Rectangle,as=Phaser.Math.Vector2,hM=Phaser.Math.RotateAround,lM=Phaser.GameObjects.Container;var ad=function(e,t){if(t===void 0?t=new ug:t===!0&&(od===void 0&&(od=new ug),t=od),e.getBounds&&!(e instanceof lM))return e.getBounds(t);var i,n,x,S,M,L,F,G;if(e.parentContainer){var V=e.parentContainer.getBoundsTransformMatrix();$r(e,t),V.transformPoint(t.x,t.y,t),i=t.x,n=t.y,Fa(e,t),V.transformPoint(t.x,t.y,t),x=t.x,S=t.y,Da(e,t),V.transformPoint(t.x,t.y,t),M=t.x,L=t.y,hd(e,t),V.transformPoint(t.x,t.y,t),F=t.x,G=t.y}else $r(e,t),i=t.x,n=t.y,Fa(e,t),x=t.x,S=t.y,Da(e,t),M=t.x,L=t.y,hd(e,t),F=t.x,G=t.y;return t.x=Math.min(i,x,M,F),t.y=Math.min(n,S,L,G),t.width=Math.max(i,x,M,F)-t.x,t.height=Math.max(n,S,L,G)-t.y,t},od=void 0,$r=function(e,t,i){return t===void 0?t=new as:t===!0&&(ni===void 0&&(ni=new as),t=ni),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-se(e)*e.originX,t.y=e.y-re(e)*e.originY,Ba(e,t,i))},Fa=function(e,t,i){return t===void 0?t=new as:t===!0&&(ni===void 0&&(ni=new as),t=ni),e.getTopRight?e.getTopRight(t):(t.x=e.x-se(e)*e.originX+se(e),t.y=e.y-re(e)*e.originY,Ba(e,t,i))},Da=function(e,t,i){return t===void 0?t=new as:t===!0&&(ni===void 0&&(ni=new as),t=ni),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-se(e)*e.originX,t.y=e.y-re(e)*e.originY+re(e),Ba(e,t,i))},hd=function(e,t,i){return t===void 0?t=new as:t===!0&&(ni===void 0&&(ni=new as),t=ni),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-se(e)*e.originX+se(e),t.y=e.y-re(e)*e.originY+re(e),Ba(e,t,i))},dg=function(e,t,i){t===void 0?t=new as:t===!0&&(ni===void 0&&(ni=new as),t=ni);var n=se(e),x=re(e);return t.x=e.x+n*(.5-e.originX),t.y=e.y+x*(.5-e.originY),Ba(e,t,i)},ni=void 0,Ba=function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&hM(t,e.x,e.y,e.rotation),i&&e.parentContainer){var n=e.parentContainer.getBoundsTransformMatrix();n.transformPoint(t.x,t.y,t)}return t};const Ia=Phaser.Utils.Objects.GetValue;var fg=function(e,t,i){var n,x,S,M,L;if(typeof i=="number"?n=i:(n=Ia(i,"color"),x=Ia(i,"lineWidth"),S=Ia(i,"fillColor"),M=Ia(i,"fillAlpha",1),L=Ia(i,"padding",0)),Array.isArray(e))for(var F=0,G=e.length;F<G;F++)cg(e[F],t,n,x,S,M,L);else cg(e,t,n,x,S,M,L)},cg=function(e,t,i,n,x,S,M){var L=e.getBounds||e.width!==void 0&&e.height!==void 0;if(L){i===void 0&&(i=16777215),n===void 0&&(n=1),x===void 0&&(x=null),S===void 0&&(S=1),M===void 0&&(M=0);var F=$r(e,Gn[0]);F.x-=M,F.y-=M;var G=Fa(e,Gn[1]);G.x+=M,G.y-=M;var V=hd(e,Gn[2]);V.x+=M,V.y+=M;var $=Da(e,Gn[3]);$.x-=M,$.y+=M,x!==null&&t.fillStyle(x,S).fillPoints(Gn,!0,!0),i!==null&&t.lineStyle(n,i).strokePoints(Gn,!0,!0)}},Gn=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],uM=function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):fg(i,e,t)}),this},vg=function(e,t){var i=e.cameras,n;if(t===void 0)n=i.main;else{var x=typeof t;switch(x){case"string":n=i.getCamera(t);break;case"number":n=i.cameras[t];break;default:n=t;break}}return n},dM={setCamera(e,t){var i=this.get(e);if(!i)return this;var n=vg(this.scene,t);return n?(i.gameObject.cameraFilter=4294967295^n.id,i.camera=n,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}},pg={drawGameObjectsBounds:uM};Object.assign(pg,h2,eM,iM,sM,rM,nM,oM,dM);const fM=Phaser.Cameras.Scene2D.BaseCamera;var cM=function(e){return e instanceof fM};const gg=Phaser.Geom.Rectangle;var kn=function(e,t,i){return cM(t)||(i=t,t=void 0),i===void 0?i=new gg:i===!0&&(i=vM),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},vM=new gg;const fi=Phaser.Utils.Objects.GetValue;class zn{constructor(t,i){this.scene=t,this.BobClass=fi(i,"BobClass",sd),this.setCreateGameObjectCallback(fi(i,"createGameObject"),fi(i,"createGameObjectScope")),this.setEventEmitter(fi(i,"eventEmitter",void 0)),this.setGameObjectDepth(fi(i,"depth",void 0));var n=fi(i,"fade",500);typeof n=="number"?(this.setGOFadeMode(),this.setGOFadeTime(n)):(this.setGOFadeMode(fi(n,"mode")),this.setGOFadeTime(fi(n,"time",500)));var x=fi(i,"viewportCoordinate",!1);x!==!1?(this.setViewportCoordinateEnable(fi(i,"enable",!0)),this.setViewport(fi(x,"viewport"))):this.setViewportCoordinateEnable(!1);var S=fi(i,"effectProperties",!1);this.setEffectPropertiesConfig(S),this.setSymbols(fi(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=fi(i,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var n in i)i[n].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=kn(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return Aa(this.bobs)&&this.removedGOs.length===0}}Object.assign(zn.prototype,Ra,pg);const pM=Phaser.GameObjects.GameObject,gM=Phaser.GameObjects.Layer;var ci=function(e){return e instanceof pM||e instanceof gM};const mM=Phaser.GameObjects.Layer;var Ga=function(e){return e instanceof mM},mg=function(e){var t=e.displayList;return Ga(t)?t:null},Ai=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,n=0,x=e.length;n<x;n++){var S=e[n];if(S.displayList?i=S.displayList:S.parentContainer&&(i=S.parentContainer.list),i)break}return i||(i=S.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(M,L){return i.indexOf(L)-i.indexOf(M)}):e.sort(function(M,L){return i.indexOf(M)-i.indexOf(L)}),e},xM={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),Ai(e,!1),e},addToLayer(e,t){var i=this.getGO(e);if(!i){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var n=0,x=t.length;n<x;n++){var S=t[n];S.isRexContainerLite?S.addToLayer(i):i.add(S)}return i.scrollFactorX!==void 0&&S.setScrollFactor(i.scrollFactorX,i.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),i=t[t.length-1];return this.addToLayer(i.goName,e),this},removeFromLayer(e,t,i){var n=this.getGO(e);if(!n){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return i===void 0&&(i=!0),t.isRexContainerLite?t.removeFromLayer(n,i):(n.remove(t),i&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var i=this.getGO(e);if(!i){console.warn(`Can't get layer "${e}"`);return}if(t)for(var n=i.getAll(),x=0,S=n.length;x<S;x++)n[x].destroy();else i.removeAll();return this}},yM={setScrollFactor(e,t,i){i===void 0&&(i=t);var n=this.getLayer(e);if(!n)return this;n.scrollFactorX=t,n.scrollFactorY=i;for(var x=n.getAll(),S=0,M=x.length;S<M;S++)x[S].setScrollFactor(t,i);return this}};const ch=Phaser.Utils.Array,CM=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(ch.BringToTop(e,this),this):this},SM=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(ch.SendToBack(e,this),this):this},xg=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(ch.MoveBelow(t,this,e),this):this},yg=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(ch.MoveAbove(t,this,e),this):this};var vh={bringMeToTop:CM,sendMeToBack:SM,moveMyDepthBelow:xg,moveMyDepthAbove:yg},TM={bringLayerToTop(e){var t=this.getLayer(e);return t?(vh.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(vh.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var i=this.getLayer(e),n=this.getLayer(t);return!i||!n?this:(vh.moveMyDepthBelow.call(i,n),this)},moveLayerAbove(e,t){if(e===t)return this;var i=this.getLayer(e),n=this.getLayer(t);return!i||!n?this:(vh.moveMyDepthAbove.call(i,n),this)}};const PM=zn.prototype.setCamera;var EM={setCamera(e,t){var i=vg(this.scene,t);return i||(i=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),PM.call(this,e,i),this}},Cg={};Object.assign(Cg,xM,yM,TM,EM);const ph=Phaser.Utils.Objects.GetValue;class gh extends zn{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var n=ph(i,"rootLayer");this.setRootLayer(n);var x=ph(i,"layers");if(x)for(var S=0,M=x.length;S<M;S++){var L=x[S];if(typeof L=="string")this.add(L);else{var F=L.name;this.add(F);var G=L.scrollFactor,V=ph(L,"scrollFactorX",G),$=ph(L,"scrollFactorY",G);V!==void 0&&this.setScrollFactor(F,V,$),this.setCamera(F,L.cameraName)}}}setCreateGameObjectCallback(t,i){return t||(t=MM),super.setCreateGameObjectCallback(t,i),this}setRootLayer(t){if(t===this.rootLayer)return this;var i=this.getAllGO();return t?t.add(i):this.scene.displayList.add(i),this.rootLayer=t,this}addGO(t,i){return super.addGO(t,i),i.name=t,this.rootLayer&&this.rootLayer.add(i),this}get(t,i){if(ci(t)){var n=mg(t);if(!n||(t=n.name,!t))return}return super.get(t,i)}}var MM=function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i};Object.assign(gh.prototype,Cg);var wM=function(e){return P(e)?e.sys.sound:e.sound},RM=function(e){return this.sound.game.cache.audio.has(e)},Nn=function(e){return e==null||typeof e!="object"?null:P(e)?e:e.scene&&P(e.scene)?e.scene:e.parent&&e.parent.scene&&P(e.parent.scene)?e.parent.scene:null};const AM=Phaser.Utils.Objects.GetValue;class ye{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(AM(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=Nn(t),this.game=w(t),this}}Object.assign(ye.prototype,Ra);const LM=Phaser.Utils.Objects.GetValue;class mh extends ye{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(LM(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=bM[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const bM={no:0,lazy:1,always:2},OM=Phaser.Utils.Objects.GetValue;class FM extends mh{constructor(t,i){super(t,i);var n=this.scene?"update":"step";this.tickEventName=OM(i,"tickEventName",n),this.isSceneTicker=!DM(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var DM=function(e){return e==="step"||e==="poststep"};const ws=Phaser.Utils.Objects.GetValue,Sg=Phaser.Math.Clamp;let Tg=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=ws(t,"state",ka),this.timeScale=ws(t,"timeScale",1),this.delay=ws(t,"delay",0),this.repeat=ws(t,"repeat",0),this.repeatCounter=ws(t,"repeatCounter",0),this.repeatDelay=ws(t,"repeatDelay",0),this.duration=ws(t,"duration",0),this.nowTime=ws(t,"nowTime",0),this.justRestart=ws(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Vn:za,this.repeatCounter=0,this}stop(){return this.state=ka,this}update(t,i){this.state===ka||this.state===xh||i===0||this.timeScale===0||(this.nowTime+=i*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=Pg)):(this.nowTime=this.duration,this.state=xh):this.nowTime>=0&&(this.state=Vn))}get t(){var t;switch(this.state){case ka:case za:case Pg:t=0;break;case Vn:t=this.nowTime/this.duration;break;case xh:t=1;break}return Sg(t,0,1)}set t(t){t=Sg(t,-1,1),t<0?(this.state=za,this.nowTime=-this.delay*t):(this.state=Vn,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===ka}get isDelay(){return this.state===za}get isCountDown(){return this.state===Vn}get isRunning(){return this.state===za||this.state===Vn}get isDone(){return this.state===xh}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const ka=0,za=1,Vn=2,Pg=3,xh=-1;class BM extends FM{constructor(t,i){super(t,i),this.timer=new Tg}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const Na=Phaser.Utils.Objects.GetValue,Eg=Phaser.Utils.Objects.GetAdvancedValue,IM=Phaser.Tweens.Builders.GetEaseFunction;class Kr extends BM{resetFromJSON(t){return this.timer.resetFromJSON(Na(t,"timer")),this.setEnable(Na(t,"enable",!0)),this.setTarget(Na(t,"target",this.parent)),this.setDelay(Eg(t,"delay",0)),this.setDuration(Eg(t,"duration",1e3)),this.setEase(Na(t,"ease","Linear")),this.setRepeat(Na(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=IM(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var n=this.target,x=this.timer;return x.update(t,i),x.isDelay||this.updateTarget(n,x),this.emit("update",n,this),x.isDone&&this.complete(),this}updateTarget(t,i){}}const GM=Phaser.Sound.BaseSound;var ld=function(e){return e instanceof GM};const Mg=Phaser.Utils.Objects.GetValue,wg=Phaser.Utils.Objects.GetAdvancedValue,kM=Phaser.Math.Linear;let Rg=class extends Kr{constructor(t,i,n){ld(t)&&(n=i,i=t,t=void 0),i.active=!0,i.scene=t,i.game=i.manager.game,super(i,n),this.volume={},this.resetFromJSON(n)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Mg(t,"mode",0)),this.setEnable(Mg(t,"enable",!0)),this.setVolumeRange(wg(t,"volume.start",this.parent.volume),wg(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=zM[t]),this.mode=t,this}setVolumeRange(t,i){return this.volume.start=t,this.volume.end=i,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,i){t.volume=kM(this.volume.start,this.volume.end,i.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const zM={stop:1,destroy:2};var yh=function(e,t,i,n,x){ld(e)&&(x=n,n=i,i=t,t=e,e=void 0),n===void 0&&(n=1),x===void 0&&(x=0);var S={mode:0,volume:{start:x,end:n},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var M;return t.hasOwnProperty("_fade")?(M=t._fade,M.stop().resetFromJSON(S)):(M=new Rg(e,t,S),t._fade=M),M.start(),t.isPlaying||t.setVolume(x).play(),t},Un=function(e,t,i,n){ld(e)&&(n=i,i=t,t=e,e=void 0),n===void 0&&(n=!0);var x={mode:n?2:1,volume:{start:t.volume,end:0},duration:i},S;return t.hasOwnProperty("_fade")?(S=t._fade,S.stop().resetFromJSON(x)):(S=new Rg(e,t,x),t._fade=S),S.start(),t.isPlaying||t.play(),t};const Va=Phaser.Utils.Objects.GetValue;var NM={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:Va(t,"loop",this.backgroundMusicLoop),mute:Va(t,"mute",this.backgroundMusicMute),volume:Va(t,"volume",this.backgroundMusicVolume),detune:Va(t,"detune",0),rate:Va(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&yh(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&Un(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}};const Ua=Phaser.Utils.Objects.GetValue;var VM={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:Ua(t,"loop",this.backgroundMusicLoop),mute:Ua(t,"mute",this.backgroundMusic2Mute),volume:Ua(t,"volume",this.backgroundMusic2Volume),detune:Ua(t,"detune",0),rate:Ua(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&yh(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&Un(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}};const Ag=Phaser.Utils.Array.Remove,Ch=Phaser.Utils.Objects.GetValue;var UM={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:Ch(t,"mute",this.soundEffectsMute),volume:Ch(t,"volume",this.soundEffectsVolume),detune:Ch(t,"detune",0),rate:Ch(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&Ag(this.soundEffects,i)},this).once("destroy",function(){this.sound&&Ag(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&yh(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&Un(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)Un(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var n=0,x=i.length;n<x;n++)i[n].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var n=0,x=i.length;n<x;n++)i[n].setRate(e);return this}};const Lg=Phaser.Utils.Array.Remove,Sh=Phaser.Utils.Objects.GetValue;var WM={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:Sh(t,"mute",this.soundEffects2Mute),volume:Sh(t,"volume",this.soundEffects2Volume),detune:Sh(t,"detune",0),rate:Sh(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&Lg(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&Lg(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&yh(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&Un(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)Un(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var n=0,x=i.length;n<x;n++)i[n].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var n=0,x=i.length;n<x;n++)i[n].setRate(e);return this}},bg={hasAudio:RM};Object.assign(bg,NM,VM,UM,WM);const Li=Phaser.Utils.Objects.GetValue;class Og{constructor(t,i){this.sound=wM(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Li(i,"bgm.volume",1),this._backgroundMusicMute=Li(i,"bgm.mute",!1),this.setBackgroundMusicLoop(Li(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Li(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Li(i,"bgm2.volume",1),this._backgroundMusic2Mute=Li(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Li(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Li(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Li(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Li(i,"soundEffect2.volume",1);var n=Li(i,"bgm.initial",void 0);n&&this.setCurrentBackgroundMusic(n);var x=Li(i,"bgm2.initial",void 0);x&&this.setCurrentBackgroundMusic2(x)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,n=0,x=i.length;n<x;n++)i[n].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,n=0,x=i.length;n<x;n++)i[n].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,n=0,x=soundEffects2.length;n<x;n++)i[n].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,n=0,x=i.length;n<x;n++)i[n].setVolume(t)}}Object.assign(Og.prototype,bg);const ud=Phaser.Utils.Objects.GetValue;class XM extends mh{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=ud(t,"isRunning",!1),this.timeScale=ud(t,"timeScale",1),this.now=ud(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class Fg extends XM{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}}var ue=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const Dg=Phaser.Math.Clamp;class YM{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,n,x){return this.target=t,this.onStart=i,this.onProgress=n,this.onComplete=x,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=Dg(t,0,1),this.yoyo&&(t=ue(t)),t}setProgress(t){t=Dg(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var n=this.remainder<=0;return n&&this.runCallback(this.onComplete),n}}let HM=class extends yt{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}};const $M=Phaser.Utils.Objects.GetValue,KM=new HM;class ZM extends Fg{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=$M(i,"pool",KM)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new YM(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,n,x){var S=this.addTimer({duration:t,onComplete:function(M,L,F){n===void 0&&(n=[]),n.push(F),i.apply(x,n)}});return S}delayEvent(t,i){this.removeDelayEvent(i);var n=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){n.remove(),n=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],n=[this.addedTimers,this.timers],x=0,S=n.length;x<S;x++)for(var M=n[x],L=0,F=M.length;L<F;L++){var G=M[L];G.name===t&&i.push(G)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var n=[],x=0,S=this.timers.length;x<S;x++){var M=this.timers[x],L=M.update(this.now,this.delta);L?this.timerPool.free(M):n.push(M)}this.timers=n,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const JM="_wait.complete",QM="_remove.wait";var jM=function(e,t,i,n,x){var S=Nn(e),M=S.time.delayedCall(t,function(){S.sys.events.once("preupdate",function(){i.call(n,x)})});return M};let Bg=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=JM,this.removeWaitEventsEventName=QM}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,i,n){var x=this.getWaitCompleteTriggerCallback(n);return t.once(i,x,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(i,x,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var i=this.waitId,n=this,x=function(){i<n.waitId||(n.waitId++,n.removeWaitEvents(),n.parent.emit(n.waitCompleteEventName))};if(t){var S=function(){jM(n.parent,0,x)};return S}else return x}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,i){return this.parent.on(this.waitCompleteEventName,t,i),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(Bg.prototype,Ra);var qM={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}},_M=function(e,t){var i=`(?<!\\\\)\\${t}`,n=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(x){return x.replace(n,t)})},tw={setClickTarget(e){return this.clickTarget=e,e?P(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=_M(e,"|"),n=0,x=i.length;n<x;n++)this.waitEvent(t,`keydown-${i[n].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},ew={waitGameObjectTweenComplete(e,t,i){var n=this.parent.getGameObjectTweenTask(e,t,i);return n?this.waitEvent(n,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,n){var x=this.parent.getGameObject(e,t);if(!x)return this.waitTime(0);if(x.getData(i)===n)return this.waitTime(0);var S=`changedata-${i}`,M=function(L,F,G){F=!!F,F===n&&L.emit("_dataFlagMatch")};return x.on(S,M),this.parent.once(this.removeWaitEventsEventName,function(){x.off(S,M)}),this.waitEvent(x,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,n=!1;for(var x in i)n=!0,this.waitEvent(i[x],"empty");return n?this.parent:this.waitTime(0)}}},iw={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var i;if(t?i=this.scene.cameras.getCamera(t):i=this.cameraTarget,!i)return this.waitTime(0);var n,x;switch(e){case"camera.fadein":n=i.fadeEffect,x="camerafadeincomplete";break;case"camera.fadeout":n=i.fadeEffect,x="camerafadeoutcomplete";break;case"camera.flash":n=i.flashEffect,x="cameraflashcomplete";break;case"camera.shake":n=i.shakeEffect,x="camerashakecomplete";break;case"camera.zoom":n=i.zoomEffect,x="camerazoomcomplete";break;case"camera.rotate":n=i.rotateToEffect,x="camerarotatecomplete";break;case"camera.scroll":n=i.panEffect,x="camerapancomplete";break}return n.isRunning?this.waitEvent(i,x):this.waitTime(0)}},sw={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}},rw=function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var n=i.split(".");if(n.length===2){var x=n[0],S=n[1],M=this.parent.getGameObjectManager(void 0,x);if(!M)continue;if(S==="destroy")return this.waitGameObjectDestroy(void 0,x);var L=M.getProperty(x,S);if(typeof L=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,x,S);continue}var F=S,G=F.startsWith("!");if(G&&(F=F.substring(1)),M.hasData(x,S)){t=!0,this.waitGameObjectDataFlag(void 0,x,F,!G);continue}this.waitEvent(gameObject,S);continue}else n.length;break}return t||this.waitTime(0),this.parent},Ig={waitAny:rw};Object.assign(Ig,qM,tw,ew,iw,sw);class Gg extends Bg{constructor(t,i){super(t),this.waitCompleteEventName=Gt(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Gt(i,"clickTarget",this.scene)),this.setClickShortcutKeys(Gt(i,"clickShortcutKeys",void 0)),this.setCameraTarget(Gt(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(Gg.prototype,Ig);const Th=Phaser.Utils.Objects.GetValue;var nw=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=Th(t,"layers",!1);if(i!==!1){var n=new gh(e,{name:"LAYER",layers:i,rootLayer:Th(t,"rootLayer",void 0),depth:Th(t,"layerDepth",void 0)});this.addGameObjectManager(n),this.layerManager=n}var x=Th(t,"sounds");return x!==!1&&(this.soundManager=new Og(e,x)),this.timeline=new ZM(this),this.waitEventManager=new Gg(this,t),this},aw=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},ow=function(){return this.timeline.timeScale},hw=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0},kg={addGameObjectManager(e,t){var i;return e instanceof zn?i=e:typeof e=="string"?(i=t,i.name=e):(e===void 0&&(e={}),t===void 0&&(t=zn),e.createGameObjectScope||(e.createGameObjectScope=this),i=new t(this.managersScene,e)),this.gameObjectManagers[i.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},lw={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...n){return this.getGameObjectManager(e,t).call(t,i,...n),this},setGameObjectProperty(e,t,i,n){return this.getGameObjectManager(e,t).setProperty(t,i,n),this},easeGameObjectProperty(e,t,i){return this.getGameObjectManager(e,t).easeProperty(t,i),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var n=this.getGameObjectManager(e,t);if(!n)return i;if(typeof t=="string")return n.getGO(t);i===void 0&&(i=[]);var x=t;x===void 0&&(x=Object.keys(n.bobs));for(var S=Array.isArray(i),M=0,L=x.length;M<L;M++){t=x[M];var F=n.getGO(t);F&&(S?i.push(F):i[t]=F)}return i},addGameObject(e,t,i){var n=this.getGameObjectManager(e,t);if(typeof t=="string")n.addGO(t,i);else{var x=t;for(t in x)n.addGO(t,x[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var n=0,x=e.length;n<x;n++)this.getGameObjectManager(e[n]).drawGameObjectsBounds(t,i);return this}},uw=function(e){class t extends e{}var i={initManagers:nw,setTimeScale:aw,getTimeScale:ow,destroyManagers:hw};return Object.assign(t.prototype,i,kg,lw),t};function dw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zg={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function x(F,G,V){this.fn=F,this.context=G,this.once=V||!1}function S(F,G,V,$,_){if(typeof V!="function")throw new TypeError("The listener must be a function");var q=new x(V,$||F,_),st=i?i+G:G;return F._events[st]?F._events[st].fn?F._events[st]=[F._events[st],q]:F._events[st].push(q):(F._events[st]=q,F._eventsCount++),F}function M(F,G){--F._eventsCount===0?F._events=new n:delete F._events[G]}function L(){this._events=new n,this._eventsCount=0}L.prototype.eventNames=function(){var G=[],V,$;if(this._eventsCount===0)return G;for($ in V=this._events)t.call(V,$)&&G.push(i?$.slice(1):$);return Object.getOwnPropertySymbols?G.concat(Object.getOwnPropertySymbols(V)):G},L.prototype.listeners=function(G){var V=i?i+G:G,$=this._events[V];if(!$)return[];if($.fn)return[$.fn];for(var _=0,q=$.length,st=new Array(q);_<q;_++)st[_]=$[_].fn;return st},L.prototype.listenerCount=function(G){var V=i?i+G:G,$=this._events[V];return $?$.fn?1:$.length:0},L.prototype.emit=function(G,V,$,_,q,st){var at=i?i+G:G;if(!this._events[at])return!1;var nt=this._events[at],ut=arguments.length,ct,dt;if(nt.fn){switch(nt.once&&this.removeListener(G,nt.fn,void 0,!0),ut){case 1:return nt.fn.call(nt.context),!0;case 2:return nt.fn.call(nt.context,V),!0;case 3:return nt.fn.call(nt.context,V,$),!0;case 4:return nt.fn.call(nt.context,V,$,_),!0;case 5:return nt.fn.call(nt.context,V,$,_,q),!0;case 6:return nt.fn.call(nt.context,V,$,_,q,st),!0}for(dt=1,ct=new Array(ut-1);dt<ut;dt++)ct[dt-1]=arguments[dt];nt.fn.apply(nt.context,ct)}else{var mt=nt.length,Tt;for(dt=0;dt<mt;dt++)switch(nt[dt].once&&this.removeListener(G,nt[dt].fn,void 0,!0),ut){case 1:nt[dt].fn.call(nt[dt].context);break;case 2:nt[dt].fn.call(nt[dt].context,V);break;case 3:nt[dt].fn.call(nt[dt].context,V,$);break;case 4:nt[dt].fn.call(nt[dt].context,V,$,_);break;default:if(!ct)for(Tt=1,ct=new Array(ut-1);Tt<ut;Tt++)ct[Tt-1]=arguments[Tt];nt[dt].fn.apply(nt[dt].context,ct)}}return!0},L.prototype.on=function(G,V,$){return S(this,G,V,$,!1)},L.prototype.once=function(G,V,$){return S(this,G,V,$,!0)},L.prototype.removeListener=function(G,V,$,_){var q=i?i+G:G;if(!this._events[q])return this;if(!V)return M(this,q),this;var st=this._events[q];if(st.fn)st.fn===V&&(!_||st.once)&&(!$||st.context===$)&&M(this,q);else{for(var at=0,nt=[],ut=st.length;at<ut;at++)(st[at].fn!==V||_&&!st[at].once||$&&st[at].context!==$)&&nt.push(st[at]);nt.length?this._events[q]=nt.length===1?nt[0]:nt:M(this,q)}return this},L.prototype.removeAllListeners=function(G){var V;return G?(V=i?i+G:G,this._events[V]&&M(this,V)):(this._events=new n,this._eventsCount=0),this},L.prototype.off=L.prototype.removeListener,L.prototype.addListener=L.prototype.on,L.prefixed=i,L.EventEmitter=L,e.exports=L})(zg);var fw=zg.exports,cw=dw(fw);class Ng extends cw{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}var Vg={setEventEmitter(e,t){return t===void 0&&(t=Ng),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},vw=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,pw=/^0x[0-9A-F]+$/i,dd=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(vw.test(e))e=parseFloat(e);else if(pw.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let Ug=class{constructor(t){this.setEventEmitter(Gt(t,"eventEmitter",void 0)),this.setValueConverter(Gt(t,"valueConvert",!0)),this.setLoopEnable(Gt(t,"loop",!1)),this.setMultipleLinesTagEnable(Gt(t,"multipleLinesTag",!1));var i=Gt(t,"delimiters","<>");this.setDelimiters(i[0],i[1]),this.setTranslateTagNameCallback(Gt(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,i){i===void 0&&(i=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=i,t=Fn(this.delimiterLeft),i=Fn(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${i}`,n),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=dd:t||(t=gw),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,i=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var n=this.reSplit.exec(t);if(!n){if(this.progressIndex<i&&(this.onContent(t.substring(this.progressIndex,i)),this.isPaused)){this.progressIndex=i;break}this.onComplete(),this.isRunning=!1;return}var x=this.reSplit.lastIndex,S=x-n[0].length;if(this.progressIndex<S&&(this.onContent(t.substring(this.progressIndex,S)),this.isPaused)){this.progressIndex=S;break}if(this.lastTagSource=n[0],this.onTag(n[1]),this.lastTagSource=void 0,this.progressIndex=x,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,i){return this.isPaused?this:(this.pause(),t.once(i,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const gw=function(e){return e};Object.assign(Ug.prototype,Vg);var mw=function(e,t,i){if(e==null)return[];t===void 0&&(t=dd),i===void 0&&(i=",");for(var n=e.split(i),x=0,S=n.length;x<S;x++)n[x]=t(n[x]);return n};class xw extends Ug{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Gt(t,"regex.tag",void 0)),this.setValueExpression(Gt(t,"regex.value",void 0));var i=Gt(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=Ph),this.tagExpression=t,this}setValueExpression(t){return t||(t=Ph),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var n=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(n,"i"),this.tagExpression!==Ph||this.valueExpression!==Ph){var x=`${this.tagExpression}(=${this.valueExpression})?`,S=`/${this.tagExpression}`;t=Fn(this.delimiterLeft),i=Fn(this.delimiterRight);var M=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${x})|(${S}))${i}`,M)}return this}onTag(t){var i=t.match(this.reTag),n=i[1],x=n.charAt(0)==="/";if(x&&(n=n.substring(1,n.length)),this.translateTagNameCallback&&(n=this.translateTagNameCallback(n)),this.skipEventFlag=!1,x)this.emit(`-${n}`),this.skipEventFlag||this.emit("-",n),this.lastTagEnd=n;else{var S=mw(i[3],this.valueConverter);this.emit(`+${n}`,...S),this.skipEventFlag||this.emit("+",n,...S),this.lastTagStart=n}}}const Ph="[^=]+";var yw=function(e,t,i){var n="color",x;t.on("start",function(){x=e.textStyle.color}).on(`+${n}`,function(S){e.textStyle.setColor(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setColor(x),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(x)})},Cw=function(e,t,i){var n="stroke",x;t.on("start",function(){x=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setStrokeStyle(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(x)})},Sw=function(e,t,i){var n="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${n}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},Tw=function(e,t,i){var n="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${n}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},Pw=function(e,t,i){var n="size",x;t.on("start",function(){x=e.textStyle.fontSize}).on(`+${n}`,function(S){e.textStyle.setFontSize(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setFontSize(x),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(x)})},Ew=function(e,t,i){var n="y",x;t.on("start",function(){x=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setOffsetY(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},Mw=function(e,t,i){var n="x",x;t.on("start",function(){x=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setOffsetX(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},ww=function(e,t,i){var n="left",x;t.on("start",function(){x=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setLeftSpace(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},Rw=function(e,t,i){var n="right",x;t.on("start",function(){x=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setRightSpace(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},Aw=function(e,t,i){var n="shadow",x;t.on("start",function(){x=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${n}`,function(S){S===void 0&&(S=x),e.textStyle.setShadowColor(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(x)})},Lw=function(e,t,i){var n="align";t.on(`+${n}`,function(x){e.textStyle.setAlign(x),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},bw=function(e,t,i){var n="img";t.on(`+${n}`,function(x){var S=e.imageManager.get(x);S&&jp.call(e,S.key,S.frame,{width:S.width,hieght:S.height,leftSpace:S.left,rightSpace:S.right,color:S.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Ow=function(e,t,i){var n="space";t.on(`+${n}`,function(x){qp.call(e,x),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Fw=function(e,t,i){var n="speed";t.on(`+${n}`,function(x){Wg(e,x),t.skipEvent()}).on(`-${n}`,function(){Wg(e,void 0),t.skipEvent()})},Dw=function(e){this.typeWriter.setTypingSpeed(e)},Wg=function(e,t){Bt.call(e,"speed",Dw,t,e)},Bw=function(e,t,i){var n="se";t.on(`+${n}`,function(x,S){Bt.call(e,n,Iw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2";t.on(`+${n}`,function(x,S){Bt.call(e,n,Gw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Iw=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},Gw=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},kw=function(e,t,i){var n="se.fadein";t.on(`+${n}`,function(x){Bt.call(e,n,zw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.fadein";t.on(`+${n}`,function(x){Bt.call(e,n,Nw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},zw=function(e){this.soundManager.fadeInSoundEffect(e)},Nw=function(e){this.soundManager.fadeInSoundEffect2(e)},Vw=function(e,t,i){var n="se.fadeout";t.on(`+${n}`,function(x,S){S=S==="stop",Bt.call(e,n,Uw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.fadeout";t.on(`+${n}`,function(x,S){S=S==="stop",Bt.call(e,n,Ww,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Uw=function(e){this.soundManager.fadeOutSoundEffect(...e)},Ww=function(e){this.soundManager.fadeOutSoundEffect2(...e)},Xw=function(e,t,i){var n="se.volume";t.on(`+${n}`,function(x){Bt.call(e,n,Yw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.volume";t.on(`+${n}`,function(x){Bt.call(e,n,Hw,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Yw=function(e){this.soundManager.setSoundEffectVolume(e,!0)},Hw=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},$w=function(e,t,i){var n="se.mute";t.on(`+${n}`,function(){Bt.call(e,n,Kw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.mute";t.on(`+${n}`,function(){Bt.call(e,n,Zw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se.unmute";t.on(`+${n}`,function(){Bt.call(e,n,Jw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.unmute";t.on(`+${n}`,function(){Bt.call(e,n,Qw,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Kw=function(){this.soundManager.setSoundEffectMute(!0)},Zw=function(){this.soundManager.setSoundEffect2Mute(!0)},Jw=function(){this.soundManager.setSoundEffectMute(!1)},Qw=function(){this.soundManager.setSoundEffect2Mute(!1)},jw=function(e,t,i){var n="bgm";t.on(`+${n}`,function(x,S){Bt.call(e,n,qw,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){Bt.call(e,"bgm.stop",_w,void 0,e),t.skipEvent()});var n="bgm2";t.on(`+${n}`,function(x,S){Bt.call(e,n,tR,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){Bt.call(e,"bgm2.stop",eR,void 0,e),t.skipEvent()})},qw=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},_w=function(){this.soundManager.stopBackgroundMusic()},tR=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},eR=function(){this.soundManager.stopBackgroundMusic2()},iR=function(e,t,i){var n="bgm.fadein";t.on(`+${n}`,function(x){Bt.call(e,n,sR,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.fadein";t.on(`+${n}`,function(x){Bt.call(e,n,rR,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},sR=function(e){this.soundManager.fadeInBackgroundMusic(e)},rR=function(e){this.soundManager.fadeInBackgroundMusic2(e)},nR=function(e,t,i){var n="bgm.fadeout";t.on(`+${n}`,function(x,S){S=S==="stop",Bt.call(e,n,aR,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.fadeout";t.on(`+${n}`,function(x,S){S=S==="stop",Bt.call(e,n,oR,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},aR=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},oR=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},hR=function(e,t,i){var n="bgm.cross";t.on(`+${n}`,function(x,S){Bt.call(e,n,lR,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.cross";t.on(`+${n}`,function(x,S){Bt.call(e,n,uR,[x,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},lR=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},uR=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},dR=function(e,t,i){var n="bgm.pause";t.on(`+${n}`,function(){Bt.call(e,n,fR,void 0,e),t.skipEvent()}).on(`-${n}`,function(){Bt.call(e,"bgm.resume",cR,void 0,e),t.skipEvent()});var n="bgm2.pause";t.on(`+${n}`,function(){Bt.call(e,n,vR,void 0,e),t.skipEvent()}).on(`-${n}`,function(){Bt.call(e,"bgm2.resume",pR,void 0,e),t.skipEvent()})},fR=function(){this.soundManager.pauseBackgroundMusic()},cR=function(){this.soundManager.resumeBackgroundMusic()},vR=function(){this.soundManager.pauseBackgroundMusic2()},pR=function(){this.soundManager.resumeBackgroundMusic2()},gR=function(e,t,i){var n="bgm.volume";t.on(`+${n}`,function(x){Bt.call(e,n,mR,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.volume";t.on(`+${n}`,function(x){Bt.call(e,n,xR,x,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},mR=function(e){this.soundManager.setBackgroundMusicVolume(e)},xR=function(e){this.soundManager.setBackgroundMusicVolume2(e)},yR=function(e,t,i){var n="bgm.mute";t.on(`+${n}`,function(){Bt.call(e,n,CR,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.mute";t.on(`+${n}`,function(){Bt.call(e,n,SR,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm.unmute";t.on(`+${n}`,function(){Bt.call(e,n,TR,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.unmute";t.on(`+${n}`,function(){Bt.call(e,n,PR,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},CR=function(){this.soundManager.setBackgroundMusicMute(!0)},SR=function(){this.soundManager.setBackgroundMusic2Mute(!0)},TR=function(){this.soundManager.setBackgroundMusicMute(!1)},PR=function(){this.soundManager.setBackgroundMusic2Mute(!1)},ER=function(e,t,i){var n="camera.fadein";t.on(`+${n}`,function(x,S,M,L){Bt.call(e,n,MR,[x,S,M,L],e),t.skipEvent()})},MR=function(e){this.cameraTarget.fadeIn(...e)},wR=function(e,t,i){var n="camera.fadeout";t.on(`+${n}`,function(x,S,M,L){Bt.call(e,n,RR,[x,S,M,L],e),t.skipEvent()})},RR=function(e){this.cameraTarget.fadeOut(...e)},AR=function(e,t,i){var n="camera.shake";t.on(`+${n}`,function(x,S){Bt.call(e,n,LR,[x,S],e),t.skipEvent()})},LR=function(e){this.cameraTarget.shake(...e)},bR=function(e,t,i){var n="camera.flash";t.on(`+${n}`,function(x,S,M,L){Bt.call(e,n,OR,[x,S,M,L],e),t.skipEvent()})},OR=function(e){this.cameraTarget.flash(...e)},FR=function(e,t,i){var n="camera.zoom";t.on(`+${n}`,function(x){Bt.call(e,n,DR,x,e),t.skipEvent()}).on(`+${n}.to`,function(x,S,M){Bt.call(e,"camera.zoom.to",BR,[x,S,M],e),t.skipEvent()})},DR=function(e){this.cameraTarget.setZoom(e)},BR=function(e){this.cameraTarget.zoomTo(...e)};const Xg=Phaser.Math.DegToRad;var IR=function(e,t,i){var n="camera.rotate";t.on(`+${n}`,function(x){x=Xg(x),Bt.call(e,n,GR,x,e),t.skipEvent()}).on(`+${n}.to`,function(x,S,M){x=Xg(x),Bt.call(e,"camera.rotate.to",kR,[x,S,M],e),t.skipEvent()})},GR=function(e){this.cameraTarget.setRotation(e)},kR=function(e){var t=e[0],i=e[1],n=e[2];this.cameraTarget.rotateTo(t,!1,i,n)},zR=function(e,t,i){var n="camera.scroll";t.on(`+${n}`,function(x,S){Bt.call(e,n,NR,[x,S],e),t.skipEvent()}).on(`+${n}.to`,function(x,S,M,L){Bt.call(e,"camera.scroll.to",VR,[x,S,M,L],e),t.skipEvent()})},NR=function(e){this.cameraTarget.setScroll(...e)},VR=function(e){var t=e[0],i=e[1],n=e[2],x=e[3],S=this.cameraTarget,M=S.scrollX,L=S.scrollY;S.setScroll(t,i),t+=S.centerX,i+=S.centerY,S.setScroll(M,L),S.pan(t,i,n,x)},UR=function(e,t,i){var n="wait",x="click";t.on(`+${n}`,function(S){Yg(e,S),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()}).on(`+${x}`,function(){Yg(e,"click"),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},WR=function(e){this.typeWriter.wait(e)},Yg=function(e,t){Bt.call(e,"wait",WR,t,e)},XR=function(e,t,i){var n="r";t.on(`+${n}`,function(){wa.call(e,`
`),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},YR=function(e,t,i){for(var n=["pagebreak","pb"],x=0,S=n.length;x<S;x++){var M=n[x];t.on(`+${M}`,function(){wa.call(e,"\f"),t.skipEvent()}).on(`-${M}`,function(){t.skipEvent()})}},HR=function(e,t,i){var n="content.off";t.on(`+${n}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},$R=function(e,t,i){var n="content.on";t.on(`+${n}`,function(){t.setContentOutputEnable(),t.skipEvent()})},KR=function(e,t,i){t.on("content",function(n){if(t.contentOutputEnable)wa.call(e,n);else{var x=`+${t.lastTagStart}`;e.emit(`parser.${x}#content`,t,n)}})},ZR=function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(n,...x){if(!t.skipEventFlag){var S=`+${n}`,M=x;e.emit(`parser.${S}`,t,...x,M),Hg(e,S,M)}}).on("-",function(n){if(!t.skipEventFlag){var x=`-${n}`,S=[];e.emit(`parser.${x}`,t,S),Hg(e,x,S)}}).on("complete",function(){e.emit("parser.complete",t)})},JR=function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},Hg=function(e,t,i){Bt.call(e,t,JR,i,e)};const $g=[yw,Cw,Sw,Tw,Pw,Aw,Lw,Ew,Mw,ww,Rw,bw,Ow,Fw,Bw,kw,Vw,Xw,$w,jw,iR,nR,hR,dR,gR,yR,ER,wR,AR,bR,FR,IR,zR,UR,XR,YR,HR,$R,KR,ZR];var QR=function(e,t,i){for(var n=0,x=$g.length;n<x;n++)$g[n](e,t,i)},jR=function(e,t){for(var i=e.commentLineStart,n=t.split(`
`),x=0,S=n.length;x<S;x++){var M=n[x];M===""||(M.trim().length===0||i&&M.startsWith(i))&&(n[x]="")}return n.join("")};const qR=Phaser.Utils.Objects.GetValue;class _R extends xw{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),QR(t,this,i),this.setCommentLineStartSymbol(qR(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(jR(this,t)),this}}var tA={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}};const Zr="page.fadeout",fd="_remove.play",Kg=[Zr,fd];var eA=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(Zr),this;var e=this.children.filter(function(n){return n.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(Zr);else if(t.once)t.once("complete",function(){this.emit(Zr)},this);else if(t.then){var i=this;t.then(function(){i.emit(Zr)})}else this.emit(Zr);return this},Eh=function(e,t){return new Promise(function(i,n){e.once(t,function(){i()})})},Ze=function(e){return Eh(e,"complete")},iA=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),Ze(this)};const sA="delay",Zg="anim";var Jg=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var n=this.animationConfig;if(n.duration>0){var x=this.timeline.addTimer({name:Zg,target:i,duration:n.duration,yoyo:n.yoyo,onStart:n.onStart,onProgress:n.onProgress,onComplete:n.onComplete});this.skipTypingAnimation&&x.seek(1)}else n.onStart&&n.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var S=this.nextChild;if(S&&!(this.skipSpaceEnable&&KP(S))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:sA,target:this,duration:t,onComplete:function(M,L,F){M.typingTimer=void 0,Jg.call(M,F.remainder)}});break}}}else ZP(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},rA=function(){return this.timeline.pause(),this},nA=function(){return this.timeline.resume(),this},aA=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},oA=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},hA=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},lA=function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},uA=function(e,t,i,n){var x=e.waitEventManager,S=t.split("."),M=S[0],L=e.getGameObjectManager(M),F=`wait.${M}`;switch(S.length){case 1:x.waitGameObjectManagerEmpty(M),e.emit(F);return;case 2:var G=S[1];x.waitGameObjectDestroy(M,G),e.emit(F,G);return;case 3:var G=S[1],V=S[2],$=L.getProperty(G,V);if(typeof $=="number"){x.waitGameObjectTweenComplete(M,G,V),e.emit(F,G,V);return}var _=V,q=_.startsWith("!");if(q&&(_=_.substring(1)),L.hasData(G,_)){x.waitGameObjectDataFlag(M,G,_,!q),e.emit(F,G,_);return}else{x.waitTime(0);return}}};const dA=Phaser.Input.Keyboard.KeyCodes;var Qg=function(e,t,i,n){var x=e.waitEventManager;x.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,n),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var S=0,M=t.length;S<M;S++){var L=t[S];if(L==null||L==="wait"){var F=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",F)}else if(typeof L=="number"||!isNaN(L)){var G=parseFloat(L);x.waitTime(G),e.emit("wait.time",G)}else if(L==="click")x.waitClick(),e.emit("wait.click");else if(L==="se"){x.waitSoundEffectComplete();var V=e.soundManager.getLastSoundEffect();e.emit("wait.music",V)}else if(L==="se2"){x.waitSoundEffect2Complete();var V=e.soundManager.getLastSoundEffect2();e.emit("wait.music",V)}else if(L==="bgm"){x.waitBackgroundMusicComplete();var V=e.soundManager.getBackgroundMusic();e.emit("wait.music",V)}else if(L==="bgm2"){x.waitBackgroundMusic2Complete();var V=e.soundManager.getBackgroundMusic2();e.emit("wait.music",V)}else if(dA.hasOwnProperty(L.toUpperCase()))x.waitKeyDown(L),e.emit("wait.keydown",L);else if(hA(L))x.waitCameraEffectComplete(L),e.emit("wait.camera",L);else if(lA(e,L))uA(e,L);else{var F=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${L}`,F)}}},fA=function(e){return this.ignoreWait?this:(this.pauseTyping(),Qg(this.textPlayer,e,this.resumeTyping,this),this)},cA=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},vA=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},pA=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(Zg),i=0,n=t.length;i<n;i++)t[i].seek(1);return this},gA=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},mA=function(){return this.typingTimer&&this.typingTimer.seek(1),this},jg={fadeOutPage:eA,start:iA,typing:Jg,pause:rA,resume:nA,pauseTyping:aA,resumeTyping:oA,wait:fA,setIgnoreWait:cA,setSkipSpaceEnable:vA,setSkipTypingAnimation:pA,setSkipSoundEffect:gA,skipCurrentTypingDelay:mA};Object.assign(jg,tA);const Wn=Phaser.Utils.Objects.GetValue;class qg{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(Wn(i,"onTypingStart",yA)),this.setDefaultTypingSpeed(Wn(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(Wn(i,"skipSpace",!1)),this.setAnimationConfig(Wn(i,"animation",void 0)),this.setMinSizeEnable(Wn(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(Wn(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=xA),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var xA=function(e){e.setVisible&&e.setVisible()},yA=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];n.setVisible&&n.setVisible(!1)}};Object.assign(qg.prototype,Ra,jg);class CA extends sd{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}var SA={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}},_g={};Object.assign(_g,SA);var t0=function(e){return!e||e==="sprite"?e=TA:e==="image"&&(e=PA),e},TA=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},PA=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)};class e0 extends zn{constructor(t,i){i===void 0&&(i={}),i.BobClass=CA,super(t,i)}setCreateGameObjectCallback(t,i){return t=t0(t),super.setCreateGameObjectCallback(t,i),this}}Object.assign(e0.prototype,_g);var i0=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},EA=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},MA=function(e,t,i){var n=i.name;t.on("+",function(x,...S){if(!t.skipEventFlag){var M=x.split("."),L;if(i0(M,n))L=M[1];else return;Bt.call(e,`${n}.play`,wA,[n,L,S],e),t.skipEvent()}}).on("+",function(x){if(!t.skipEventFlag){var S=x.split("."),M;if(EA(S,n))M=S[1];else return;Bt.call(e,`${n}.stop`,s0,[n,M],e),t.skipEvent()}}).on("-",function(x){if(!t.skipEventFlag){var S=x.split("."),M;if(i0(S,n))M=S[1];else return;Bt.call(e,`${n}.stop`,s0,[n,M],e),t.skipEvent()}})},wA=function(e){var t,i,n;[t,i,n]=e;var x=n.shift(),S=this.getGameObjectManager(t);S.playAnimation(i,x),n.length>0&&S.chainAnimation(i,n)},s0=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.stopAnimation(...i)},RA=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},AA=function(e,t,i){var n=i.name;t.on("+",function(x){if(!t.skipEventFlag){var S=x.split("."),M;if(RA(S,n))M=S[1];else return;Bt.call(e,`${n}.pause`,LA,[n,M],e),t.skipEvent()}})},LA=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.pauseAnimation(...i)},bA=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},OA=function(e,t,i){var n=i.name;t.on("+",function(x){if(!t.skipEventFlag){var S=x.split("."),M;if(bA(S,n))M=S[1];else return;var L=Array.prototype.slice.call(arguments,1);Bt.call(e,`${n}.chain`,FA,[n,M,L],e),t.skipEvent()}})},FA=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.chainAnimation(...i)};const DA=[MA,AA,OA];var BA=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=DA,e.createGameObject=t0(e.createGameObject),this.addGameObjectManager(e,e0)},r0=function(e,t){return e.length===2&&e[0]===t},IA=function(e,t,i){var n=i.name;t.on("+",function(x,...S){if(!t.skipEventFlag){var M=x.split("."),L;if(r0(M,n))L=M[1];else return;Bt.call(e,`${n}.add`,GA,[n,L,...S],e),t.skipEvent()}}).on("-",function(x){if(!t.skipEventFlag){var S=x.split("."),M;if(r0(S,n))M=S[1];else return;Bt.call(e,`${n}.remove`,kA,[n,M],e),t.skipEvent()}})},GA=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.add(...i)},kA=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.remove(...i)},zA=function(e,t,i){var n=i.name;t.on("-",function(x){t.skipEventFlag||x===n&&(Bt.call(e,`${n}.removeall`,NA,n,e),t.skipEvent())})},NA=function(e){var t=this.getGameObjectManager(e);t.removeAll()},VA=function(e,t){return e.length===3&&e[0]===t},UA=function(e,t,i){var n=i.name;t.on("+",function(x,...S){if(!t.skipEventFlag){var M=x.split("."),L,F;if(VA(M,n))L=M[1],F=M[2];else return;Bt.call(e,`${n}.call`,WA,[n,L,F,...S],e),t.skipEvent()}})},WA=function(e){var t,i,n,x;[t,i,n,...x]=e;var S=`${t}.${n}`;if(this.emit(S,i,...x),!(this.listenerCount(S)>0)){var M=this.getGameObjectManager(t);M.hasMethod(i,n)?M.call(i,n,...x):M.setProperty(i,n,x[0])}},XA={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},YA=function(e,t){return e.length===4&&e[0]===t&&XA[e[3]]},HA=function(e,t,i){var n=i.name;e.getGameObjectManager(n),t.on("+",function(x,S,M,L,F){if(!t.skipEventFlag){var G=x.split("."),V,$,_;if(YA(G,n))V=G[1],$=G[2],_=G[3];else return;typeof L=="number"&&(F=L,L=void 0),Bt.call(e,`${n}.ease`,$A,[n,V,$,S,M,L,F,_],e),t.skipEvent()}})},$A=function(e){var t,i,n,x,S,M,L,F;[t,i,n,x,S,M,L,F]=e;var G=this.getGameObjectManager(t),V=G.getProperty(i,n);if(typeof V=="number"){F.endsWith("Left")||F.endsWith("Up")?F.startsWith("to")||F.startsWith("yoyo")?x=V-x:F.startsWith("from")&&(G.setProperty(i,n,V-x),x=V):F.endsWith("Right")||F.endsWith("Down")?F.startsWith("to")||F.startsWith("yoyo")?x=V+x:F.startsWith("from")&&(G.setProperty(i,n,V+x),x=V):F==="from"&&(G.setProperty(i,n,x),x=V);var $=F.startsWith("yoyo");G.easeProperty(i,{property:n,value:x,duration:S,ease:M,repeat:L,yoyo:$})}};const n0=[IA,zA,UA,HA],KA=kg.addGameObjectManager;var ZA={addGameObjectManager(e,t){e=e?Xi(e):{};var i=e.name;i||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var n=e.defaultLayer,x=e.createGameObject,S=this.layerManager;e.createGameObject=function(G,...V){var $=x.call(this,G,...V);return n&&S&&S.addToLayer(n,$),$},KA.call(this,e,t);var M=e.parseCallbacks;M?M=[...M,...n0]:M=n0;for(var L=0,F=M.length;L<F;L++)M[L](this,this.parser,e);return this}},JA=function(e){return this.waitEventManager.setClickTarget(e),this},QA=function(e){return this.waitEventManager.setCameraTarget(e),this},jA=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,n){var x=t.waitEventManager;x.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,n);var S=x.getWaitCompleteTriggerCallback();e.call(t,S)}:this.nextPageInput=function(i,n){Qg(t,e,i,n)}:this.nextPageInput=null},qA=function(e,t){return this.imageManager.add(e,t),this},_A={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=Ze(this);return this.play(e),t}},cd=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(Zr,tL,this).fadeOutPage(),this)},tL=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(fd),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?cd.call(this):this.nextPageInput&&this.nextPageInput(cd,this))};this.once(fd,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)},eL={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},iL={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}},sL=function(e){return this.typeWriter.wait(e),this},rL={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}},nL=function(e){return this.typeWriter.setIgnoreWait(e),this},aL=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},oL=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,n=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(n)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this},hL={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},lL={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}},a0={setClickTarget:JA,setCameraTarget:QA,setNextPageInput:jA,addImage:qA,typingNextPage:cd,wait:sL,setIgnoreWait:nL,setIgnoreNextPageInput:aL,showPage:oL};Object.assign(a0,ZA,_A,eL,iL,rL,hL,lL);var uL=function(e){for(var t=0,i=Kg.length;t<i;t++)e.emit(Kg[t])};const o0=Phaser.Utils.Objects.IsPlainObject,Xn=Phaser.Utils.Objects.GetValue;class vd extends uw(Bn){constructor(t,i,n,x,S,M){o0(i)?M=i:o0(x)&&(M=x),M===void 0&&(M={});var L=M.text;delete M.text,super(t,i,n,x,S,M),this.type="rexTextPlayer",this.initManagers(t,M),this.parser=new _R(this,Xn(M,"parser",void 0)),this.typeWriter=new qg(this,Xn(M,"typing",void 0)),this._imageManager=void 0;var F=Xn(M,"images",void 0);F&&this.addImage(F);var G=Xn(M,"sprites");G!==!1&&G!==null&&BA.call(this,G),this.setIgnoreNextPageInput(Xn(M,"ignoreNextPageInput",!1)),this.setNextPageInput(Xn(M,"nextPageInput",null)),this.isPlaying=!1,L&&this.play(L)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new Wu(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(uL(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(vd.prototype,a0),tt.register("textPlayer",function(e,t,i,n,x){var S=new vd(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.TextPlayer",vd);const h0={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},l0={direction:["direction",void 0]};var mr=function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var n=i;if(Array.isArray(n))for(var x=0,S=n.length;x<S;x++)mr(e,t,n[x]);else for(var i in n)mr(e,t,i)}},dL=function(e){e===void 0&&(e={});var t={};return mr(e,t,"inputType"),mr(e,t,"type"),mr(e,t,"style"),mr(e,t,l0),mr(e,t,h0),t},pd=function(e,t,i,n,x){if(t)return!(i&&!i(e,t)||!u0(e,t)||n&&!n(e,t));x===void 0&&(x=!1);for(var S=e.scene.input.manager,M=S.pointersTotal,L=S.pointers,t,F=0;F<M;F++)if(t=L[F],!(i&&!i(e,t))&&u0(e,t)&&!(n&&!n(e,t)))return x?t:!0;return!1},u0=function(e,t){for(var i=e.scene,n=i.input.cameras.getCamerasBelowPointer(t),x=i.input.manager,S=[e],M=0,L=n.length;M<L;M++)if(x.hitTest(t,S,n[M],Mh),Mh.length>0)return Mh.length=0,!0;return Mh.length=0,!1},Mh=[],Yn=void 0,fL=function(e){e!==Yn&&(Yn!==void 0&&Yn.close(),Yn=e)},cL=function(e){e===Yn&&(Yn=void 0)};const vL=Phaser.Utils.Objects.GetValue;var wh=function(e,t,i){i===void 0&&(i={});var n,x;for(var S in e)n=e[S],x=vL(t,S,n[1]),x!==void 0&&(i[n[0]]=x);return i},d0=function(e){e.addEventListener("touchstart",Hn,!1),e.addEventListener("touchmove",Hn,!1),e.addEventListener("touchend",Hn,!1),e.addEventListener("mousedown",Hn,!1),e.addEventListener("mouseup",Hn,!1),e.addEventListener("mousemove",Hn,!1)},Hn=function(e){e.stopPropagation()},f0=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},pL=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",f0,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(yg.call(this.clickOutSideTarget,this.parent),xg.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},gL=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},mL=function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",f0,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),gL(this.node),this.node=void 0,this.emit("close",this)};const gd=Phaser.Utils.Objects.GetValue;var xL=function(e,t){var i,n=gd(t,"inputType",void 0);n===void 0&&(n=gd(t,"type","text")),n==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=n);var x=gd(t,"style",void 0),S=i.style;wh(l0,x,S),S.position="absolute",S.opacity=0,S.pointerEvents="none",S.zIndex=0,S.transform="scale(0)",wh(h0,t,i),d0(i);var M=e.scene.sys.scale,L=M.isFullscreen?M.fullscreenTarget:document.body;return L.appendChild(i),i.addEventListener("focus",function(F){pL.call(e)}),i.addEventListener("blur",function(F){mL.call(e)}),i},yL=function(){return this.isOpened?this:this.readOnly?this:(fL(this),this.node||(this.node=xL(this,this.nodeConfig)),this.setFocus(),this)},CL=function(){return this.isOpened?(cL(this),this.setBlur(),this):this},SL={open:yL,close:CL};const Rs=Phaser.Utils.Objects.GetValue;class md extends ye{constructor(t,i){super(t);var n=Rs(i,"inputType",void 0);n===void 0&&(n=Rs(i,"type","text")),this.setEnterCloseEnable(Rs(i,"enterClose",n!=="textarea"));var x=Rs(i,"onOpen",void 0);x||(x=Rs(i,"onFocus",void 0)),this.onOpenCallback=x,this.clickOutSideTarget=Rs(i,"clickOutSideTarget",void 0);var S=Rs(i,"onClose",void 0);S||(S=Rs(i,"onBlur",void 0)),this.onCloseCallback=S,this.onUpdateCallback=Rs(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=dL(i),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){pd(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(md.prototype,SL);var c0=function(e,t,i){e=e.replace(" ","");var n=i.previousText;if(e===n)return e;if(isNaN(e)){i.emit("nan",e,i),e=n;var x=i.cursorPosition-1;i.setText(e),i.setCursorPosition(x)}else i.previousText=e;return e},TL=function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,n=e.isOpened?e.selectionEnd:null,x=e.prevSelectionStart,S=e.prevSelectionEnd;if(!(x===i&&S===n)){var M,L;x===null?(M=i,L=n):i===null?(M=x,L=S):(M=Math.min(x,i),L=Math.max(S,n));for(var F=M;F<L;F++){var G;x===null?G=!1:G=F>=x&&F<S;var V;if(i===null?V=!1:V=F>=i&&F<n,G!==V){var $=t.getCharChild(F);if($){var _=G?"rangeout":"rangein";t.emit(_,$,F,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=n}},PL=function(e){var t=e.parent,i=0,n=t.width,x=0,S=t.height,M=e.drawX,L=e.drawY,F=M+e.drawTLX,G=M+e.drawTRX,V=L+e.drawTLY,$=L+e.drawBLY,_;F<i?_=i-F:G>n?_=n-G:_=0;var q;V<x?q=x-V:$>S?q=S-$:q=0,t._textOX+=_,t._textOY+=q},EL=function(e){var t=e.parent,i=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var n=e.cursorPosition;if(e.prevCursorPosition!==n){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var x=t.getCharChild(e.prevCursorPosition);x&&(x.text===`
`&&x.clearTextSize(),t.emit("cursorout",x,e.prevCursorPosition,t))}if(n!=null){var x=t.getCharChild(n);x&&(x.text===`
`&&x.copyTextSize(t.lastInsertCursor),PL(x),t.emit("cursorin",x,n,t))}t.emit("movecursor",n,e.prevCursorPosition,t),e.prevCursorPosition=n}},v0=function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,n=e.parent,x=t;x<i;x++){var S=n.getCharChild(x);S&&n.emit("cursorout",S,x,n)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},p0=function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,n=i.getCharChild(t);n&&i.emit("cursorout",n,t,i),e.prevCursorPosition=null}};const ML=Phaser.Utils.Objects.GetValue;let wL=class extends md{constructor(t,i){super(t,i),this.setSelectAllWhenFocusEnable(ML(i,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(n,x,S,M){var L=t.getNearestChild(x,S),F=t.getCharIndex(L);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(F),this.cursorMoveStartIndex=F,this.firstClickAfterOpen=!1},this).on("pointermove",function(n,x,S,M){if(n.isDown){var L=t.getNearestChild(x,S),F=t.getCharIndex(L);this.cursorMoveStartIndex<F?this.selectText(this.cursorMoveStartIndex,F+1):this.selectText(F,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var n=this.onUpdateCallback(i,t,this);n!=null&&(i=n)}return t.text!==i&&t.setText(i),this.isOpened?this.selectionStart!==this.selectionEnd?(p0(this),TL(this)):(v0(this),EL(this)):(v0(this),p0(this)),this}setNumberInput(){return this.onUpdateCallback=c0,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}};const RL=Phaser.Utils.Objects.GetValue,AL=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var LL=function(e,t){var i=RL(t,"edit");return i===void 0&&(i={}),mr(t,i,AL),new wL(e,i)},As=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),n=e,x=0;x<i.length;x++)if(n.hasOwnProperty(i[x]))n=n[i[x]];else return!1;return!0}else return!1},xd=function(e){if(e.parentContainer)return xd(e.parentContainer);var t=mg(e);return t?xd(t):e},bL=function(e){for(var t=xd(e).cameraFilter,i=e.scene.sys.cameras.cameras,n,x,S=0,M=i.length;S<M;S++)if(n=i[S],x=(t&n.id)>0,!x)return n;return null};class g0 extends ye{constructor(t,i){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,i=this.parent,n=bL(i);if(n){i.setScrollFactor(0).setOrigin(.5);var x=t.sys.scale.gameSize,S=x.width,M=x.height,L=1/n.zoom,F=S/2,G=M/2,V=S*L,$=M*L;(i.x!==F||i.y!==G)&&i.setPosition(F,G),(i.width!==V||i.height!==$)&&i.setSize(V,$)}}}const OL=Phaser.GameObjects.Zone;let yd=class extends OL{constructor(t){super(t,0,0,2,2),this.fullWindow=new g0(this)}};var FL=function(e,t){var i=!t.textArea;if(!As(t,"wrap.vAlign")){var n=i?"center":"top";H(t,"wrap.vAlign",n)}if(As(t,"wrap.wrapMode")||H(t,"wrap.wrapMode","char"),!As(t,"wrap.maxLines")){var n=i?1:void 0;H(t,"wrap.maxLines",n)}if(i&&H(t,"wrap.wrapWidth",1/0),As(t,"wrap.useDefaultTextHeight")||H(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!As(t.edit,"inputType")){var n=i?"text":"textarea";H(t.edit,"inputType",n)}if(t.clickOutSideTarget===!0){var x=new yd(e);e.add.existing(x),t.clickOutSideTarget=x}return t},Rh=function(e,t,i,n){if(i===void 0&&(i="."),n===void 0&&(n={}),!e)return n;if(t in e)return Object.assign(n,e[t]);t+=i;for(var x in e)x.startsWith(t)&&(n[x.replace(t,"")]=e[x]);return n},DL=function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},Ah=function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var n,x=0,S=t.length;x<S;x++)n=t[x],i[n]=e[n];else for(var n in t)i[n]=e[n];return i},Wa=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},BL=function(e){Aa(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,n=Ah(t.style,i);Wa(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},IL=function(e){Aa(e)||this.setRangeStyle(e).on("rangein",function(t){var i=this.rangeStyle,n=Ah(t.style,i);Wa(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},GL=function(e){Aa(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,n=Ah(t,i);Wa(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},kL=function(e){var t=e.createCharChild("|");return t.text="",t};function Ls(){}Ls.prototype={diff(e,t,i={}){let n=i.callback;typeof i=="function"&&(n=i,i={}),this.options=i;let x=this;function S(q){return n?(setTimeout(function(){n(void 0,q)},0),!0):q}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let M=t.length,L=e.length,F=1,G=M+L;i.maxEditLength&&(G=Math.min(G,i.maxEditLength));let V=[{newPos:-1,components:[]}],$=this.extractCommon(V[0],t,e,0);if(V[0].newPos+1>=M&&$+1>=L)return S([{value:this.join(t),count:t.length}]);function _(){for(let q=-1*F;q<=F;q+=2){let st,at=V[q-1],nt=V[q+1],ut=(nt?nt.newPos:0)-q;at&&(V[q-1]=void 0);let ct=at&&at.newPos+1<M,dt=nt&&0<=ut&&ut<L;if(!ct&&!dt){V[q]=void 0;continue}if(!ct||dt&&at.newPos<nt.newPos?(st=NL(nt),x.pushComponent(st.components,void 0,!0)):(st=at,st.newPos++,x.pushComponent(st.components,!0,void 0)),ut=x.extractCommon(st,t,e,q),st.newPos+1>=M&&ut+1>=L)return S(zL(x,st.components,t,e,x.useLongestToken));V[q]=st}F++}if(n)(function q(){setTimeout(function(){if(F>G)return n();_()||q()},0)})();else for(;F<=G;){let q=_();if(q)return q}},pushComponent(e,t,i){let n=e[e.length-1];n&&n.added===t&&n.removed===i?e[e.length-1]={count:n.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,n){let x=t.length,S=i.length,M=e.newPos,L=M-n,F=0;for(;M+1<x&&L+1<S&&this.equals(t[M+1],i[L+1]);)M++,L++,F++;return F&&e.components.push({count:F}),e.newPos=M,L},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function zL(e,t,i,n,x){let S=0,M=t.length,L=0,F=0;for(;S<M;S++){let V=t[S];if(V.removed){if(V.value=e.join(n.slice(F,F+V.count)),F+=V.count,S&&t[S-1].added){let $=t[S-1];t[S-1]=t[S],t[S]=$}}else{if(!V.added&&x){let $=i.slice(L,L+V.count);$=$.map(function(_,q){let st=n[F+q];return st.length>_.length?st:_}),V.value=e.join($)}else V.value=e.join(i.slice(L,L+V.count));L+=V.count,V.added||(F+=V.count)}}let G=t[M-1];return M>1&&typeof G.value=="string"&&(G.added||G.removed)&&e.equals("",G.value)&&(t[M-2].value+=G.value,t.pop()),t}function NL(e){return{newPos:e.newPos,components:e.components.slice(0)}}const VL=new Ls;function UL(e,t,i){return VL.diff(e,t,i)}const m0=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,x0=/\S/,y0=new Ls;y0.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!x0.test(e)&&!x0.test(t)},y0.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&m0.test(t[i])&&m0.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const C0=new Ls;C0.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let n=0;n<i.length;n++){let x=i[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=x:(this.options.ignoreWhitespace&&(x=x.trim()),t.push(x))}return t};const WL=new Ls;WL.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const XL=new Ls;XL.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const YL=Object.prototype.toString,Xa=new Ls;Xa.useLongestToken=!0,Xa.tokenize=C0.tokenize,Xa.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=(n,x)=>typeof x>"u"?t:x}=this.options;return typeof e=="string"?e:JSON.stringify(Cd(e,null,null,i),i,"  ")},Xa.equals=function(e,t){return Ls.prototype.equals.call(Xa,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Cd(e,t,i,n,x){t=t||[],i=i||[],n&&(e=n(x,e));let S;for(S=0;S<t.length;S+=1)if(t[S]===e)return i[S];let M;if(YL.call(e)==="[object Array]"){for(t.push(e),M=new Array(e.length),i.push(M),S=0;S<e.length;S+=1)M[S]=Cd(e[S],t,i,n,x);return t.pop(),i.pop(),M}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),M={},i.push(M);let L=[],F;for(F in e)e.hasOwnProperty(F)&&L.push(F);for(L.sort(),S=0;S<L.length;S+=1)F=L[S],M[F]=Cd(e[F],t,i,n,F);t.pop(),i.pop()}else M=e;return M}const Sd=new Ls;Sd.tokenize=function(e){return e.slice()},Sd.join=Sd.removeEmpty=function(e){return e};const HL=Phaser.Utils.Array.Remove;var $L=function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),HL(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var n=UL(i,t),x=0,S=0,M=n.length;S<M;S++){var L=n[S];L.removed?e.removeText(x,L.count):(L.added&&e.insertText(x,L.value),x+=L.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}},KL={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}};const Lh=Phaser.Math.Clamp;var S0=function(e,t){var i={lineIndex:0,position:0};if(t<0)return i;for(var n=0,x=e.length;n<x;n++){var S=e[n];if(t<=S){i.lineIndex=n;break}t-=S}return i.position=t,i},T0=function(e,t){var i=0,n=t.lineIndex;if(n<0)return i;for(var x=0,S=e.length;x<S;x++){var M=e[x];if(n>x)i+=M;else if(n===x)i+=Math.min(t.position,M);else break}return i},ZL={cursorMoveLeft(){if(!this.isOpened)return this;var e=Lh(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=Lh(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=S0(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=Lh(T0(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=S0(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=Lh(T0(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}};const P0=Phaser.Utils.Objects.IsPlainObject;class Ya extends Bn{constructor(t,i,n,x,S,M){P0(i)?M=i:P0(x)&&(M=x),M===void 0&&(M={}),FL(t,M);var L=M.text;L&&delete M.text;var F=Rh(M.background,"focus"),G=Rh(M.style,"cursor"),V=Rh(M.style,"range");super(t,i,n,x,S,M),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=LL(this,M),DL.call(this),M.focusStyle&&Object.assign(F,M.focusStyle),GL.call(this,F),M.cursorStyle&&Object.assign(G,M.cursorStyle),BL.call(this,G),M.rangeStyle&&Object.assign(V,M.rangeStyle),Aa(V)&&Object.assign(V,G),IL.call(this,V);var $=M.onAddChar;$&&this.on("addchar",$);var _=M.onCursorIn;_&&this.on("cursorin",_);var q=M.onCursorOut;q&&this.on("cursorout",q);var st=!M.onRangeIn&&!M.onRangeOut,at=st?M.onCursorIn:M.onRangeIn;at&&this.on("rangein",at);var nt=st?M.onCursorOut:M.onRangeOut;nt&&this.on("rangeout",nt);var ut=M.onMoveCursor;ut&&this.on("movecursor",ut),this.setParseTextCallback(M.parseTextCallback),this.lastInsertCursor=kL(this),L||(L=""),this.setText(L)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var n=t,x=0,S=n.length;x<S;x++){var t=n[x];Yr(t)&&this.emit("addchar",t,i+x,this)}else Yr(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&($L(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,this.characterCountOfLines.length=0;for(var n=i.lines,x=0,S=n.length;x<S;x++){for(var M=n[x].children,L=0,F=0,G=M.length;F<G;F++){var V=M[F];V.active&&!V.removed&&Yr(V)&&L++}this.characterCountOfLines.push(L)}return i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=JL),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var JL=function(e){return e};Object.assign(Ya.prototype,KL,ZL),tt.register("canvasInput",function(e,t,i,n,x){var S=new Ya(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.CanvasInput",Ya);var Td=function(e){return w(e).loop.delta};const E0=Phaser.Utils.Objects.GetValue,QL=Phaser.Math.Wrap;class M0 extends md{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=c0),super(t,i),this.setCursor(E0(i,"cursor","|")),this.setCursorFlashDuration(E0(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var n=this.onUpdateCallback(i,t,this);n!=null&&(i=n)}if(this.isOpened&&this.hasCursor){var x=this.cursorPosition;i=i.substring(0,x)+this.cursor+i.substring(x),this.prevCursorPosition!==x&&(this.prevCursorPosition=x)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+Td(this.scene);return this.cursorFlashTimer=QL(i,0,this.cursorFlashDuration),t}}tt.register("hiddenEdit",function(e,t){var i=new M0(e,t);return i}),H(window,"RexPlugins.UI.HiddenEdit",M0);const jL=Phaser.GameObjects.GetCalcMatrix;var qL=function(e,t,i,n){t.updateData(),i.addToRenderList(t);var x=e.pipelines.set(t.pipeline),S=jL(t,i,n),M=x.calcMatrix.copyFrom(S.calc),L=t._displayOriginX,F=t._displayOriginY,G=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var V=t.geom,$,_=0,q=V.length;_<q;_++)$=V[_],$.visible&&$.webglRender(x,M,G,L,F);e.pipelines.postBatch(t)};const _L=Phaser.Renderer.Canvas.SetTransform;var tb=function(e,t,i,n){t.updateData(),i.addToRenderList(t);var x=e.currentContext;if(_L(e,x,t,i,n)){for(var S=t._displayOriginX,M=t._displayOriginY,L=t.geom,F,G=0,V=L.length;G<V;G++)F=L[G],F.visible&&F.canvasRender(x,S,M);x.restore()}},eb={renderWebGL:qL,renderCanvas:tb};const ib=Phaser.GameObjects.Shape,sb=Phaser.Utils.Array.Remove;class bs extends ib{constructor(t,i,n,x,S){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=2),S===void 0&&(S=x),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,n),this.setSize(x,S),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==n,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=n,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,n=t.length;i<n;i++){var x=t[i];x.dirty&&x.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,pe(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],sb(this.geom,i)),this}}Object.assign(bs.prototype,eb);var rb={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},nb={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}},ab=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},ob=function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this},hb={fillStyle:ab,lineStyle:ob};class bh{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,n,x,S){}canvasRender(t,i,n){}updateData(){this.dirty=!1}}Object.assign(bh.prototype,hb,wi);const lb=Phaser.Geom.Polygon.Earcut;class Ha extends bh{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=lb(this.pathData),super.updateData(),this}webglRender(t,i,n,x,S){this.isFilled&&qv(t,i,this,n,x,S),this.isStroked&&Qo(t,this,n,x,S)}canvasRender(t,i,n){var x=this.pathData,S=x.length-1,M=x[0]-i,L=x[1]-n;t.beginPath(),t.moveTo(M,L),this.closePath||(S-=2);for(var F=2;F<S;F+=2){var G=x[F]-i,V=x[F+1]-n;t.lineTo(G,V)}this.closePath&&t.closePath(),this.isFilled&&(Ta(t,this),t.fill()),this.isStroked&&(Pa(t,this),t.stroke())}}const w0=Phaser.Math.DegToRad;class $n extends Ha{constructor(t,i,n,x,S,M,L,F){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=360),L===void 0&&(L=!1),F===void 0&&(F=!1),super(),this.setCenterPosition(t,i),this.setRadius(n,x),this.setAngle(S,M,L),this.setPie(F),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,n){return n===void 0&&(n=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=n,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),We(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,n){t.beginPath();var x=this.x-i,S=this.y-n,M=w0(this.startAngle),L=w0(this.endAngle);this.pie&&(t.moveTo(x,S),t.lineTo(x+Math.cos(M)*this.radiusX,S+Math.sin(M)*this.radiusY)),t.ellipse(x,S,this.radiusX,this.radiusY,0,M,L,this.anticlockwise),this.pie&&t.lineTo(x,S),this.isFilled&&(Ta(t,this),t.fill()),this.isStroked&&(Pa(t,this),t.stroke())}}class bi extends $n{constructor(t,i,n){super(t,i,n,n,0,360)}}class ub extends Ha{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,n=t.length;i<n;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class db extends $n{constructor(t,i,n,x){super(t,i,n,x,0,360)}}class xr extends Ha{constructor(t,i,n,x){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=0),super(),this.setP0(t,i),this.setP1(n,x)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var fb=function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i};const R0=Phaser.Math.Interpolation.QuadraticBezier;var cb=function(e,t,i,n,x,S){for(var M=S.length,L=S[M-2],F=S[M-1],G=1,V=x-1;G<=V;G++){var $=G/V;S.push(R0($,L,e,i),R0($,F,t,n))}return S};const A0=Phaser.Math.Interpolation.CubicBezier;var vb=function(e,t,i,n,x,S,M,L){for(var F=L.length,G=L[F-2],V=L[F-1],$=1,_=M-1;$<=_;$++){var q=$/_;L.push(A0(q,G,e,i,x),A0(q,V,t,n,S))}return L};const L0=Phaser.Math.Interpolation.CatmullRom;var pb=function(e,t,i){for(var n=i.length,x=i[n-2],S=i[n-1],M=[x],L=[S],F=0,G=e.length;F<G;F+=2)M.push(e[F]),L.push(e[F+1]);for(var F=1,V=t-1;F<=V;F++){var $=F/V;i.push(L0(M,$),L0(L,$))}return i},b0=function(e){var t=e.length;if(t<2)return e;var i=e[t-2],n=e[t-1];return e.push(i),e.push(n),e},gb={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,fb(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),Ue(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,n,x,S,M){return M===void 0&&(M=!1),We(e,t,i,n,x,S,M,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,n,x,S){return this.ellipticalArc(e,t,i,i,n,x,S),this},quadraticBezierTo(e,t,i,n){return cb(e,t,i,n,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=n,this},cubicBezierTo(e,t,i,n,x,S){return vb(e,t,i,n,x,S,this.iterations,this.pathData),this.lastPointX=x,this.lastPointY=S,this},catmullRomTo(...e){return pb(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return b0(this.pathData),this}};const mb=Phaser.Math.RotateAround;var xb=function(e,t,i,n){for(var x={x:0,y:0},S=0,M=n.length-1;S<M;S+=2)x.x=n[S],x.y=n[S+1],mb(x,e,t,i),n[S]=x.x,n[S+1]=x.y;return n},yb=function(e,t,i,n,x){for(var S=0,M=x.length-1;S<M;S+=2){var L=x[S]-e,F=x[S+1]-t;L*=i,F*=n,x[S]=L+e,x[S+1]=F+t}return x},O0=function(e,t,i){for(var n=0,x=i.length-1;n<x;n+=2)i[n]+=e,i[n+1]+=t;return i};const Cb=Phaser.Math.DegToRad;Phaser.Math.RotateAround;var Sb={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=Cb(i),xb(e,t,i,this.pathData);var n=this.pathData.length;return this.lastPointX=this.pathData[n-2],this.lastPointY=this.pathData[n-1],this},scale(e,t,i,n){return this.pathData.length===0?this:(yb(e,t,i,n,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return O0(e,t,this.pathData),this}},Oh=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=t.length),e.length=n-i;for(var x=0,S=e.length;x<S;x++)e[x]=t[x+i];return e},Tb={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(Oh(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}};const Pb=Phaser.Math.Distance.Between,Eb=Phaser.Math.Wrap,Mb=Phaser.Math.Linear;var F0=function(e,t,i,n,x){if(n===void 0&&(n=i,i=0),i=D0(i),n=D0(n),i!==n){var S=t[t.length-1],M=S*i,L=S*n;i<n?Pd(e,t,M,L,x):(Pd(e,t,M,S,x),Pd(e,t,0,L,x)),b0(x)}},Pd=function(e,t,i,n,x){for(var S=i>0,M=0,L=t.length;M<L;M++){var F=M*2,G=t[M];if(S){if(G<i)continue;if(G==i)S=!1;else{var V=G-t[M-1],$=1-(G-i)/V;x.push(Fh(e,F-2,F,$)),x.push(Fh(e,F-1,F+1,$)),S=!1}}if(G<=n){if(x.push(e[F]),x.push(e[F+1]),G===n)break}else{var V=G-t[M-1],$=1-(G-n)/V;x.push(Fh(e,F-2,F,$)),x.push(Fh(e,F-1,F+1,$));break}}},Fh=function(e,t,i,n){var x=e[t],S=e[i];return Mb(x,S,n)},D0=function(e){return e===0?0:e%1===0?1:Eb(e,0,1)},wb={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,n,x,S,M,L=0,F=0,G=t.length;F<G;F+=2)x=t[F],S=t[F+1],M=i===void 0?0:Pb(i,n,x,S),L+=M,e.push(L),i=x,n=S;return this.totalPathLength=L,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,F0(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),F0(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},Rb={draw(e,t,i){var n=this.toPoints();return t&&e.fillPoints(n,this.closePath,this.closePath),i&&e.strokePoints(n,this.closePath,this.closePath),this}},Ab=function(e,t){t===void 0&&(t=[]);for(var i=0,n=e.length-1;i<n;i+=2)t.push({x:e[i],y:e[i+1]});return t};const Lb=Phaser.Geom.Polygon;var bb=function(e,t){return t===void 0&&(t=new Lb),t.setTo(e),t};class B0{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return Ab(this.pathData)}toPolygon(t){return bb(this.pathData,t)}}Object.assign(B0.prototype,gb,Sb,Tb,wb,Rb);class Je extends Ha{constructor(){super(),this.builder=new B0(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,n){return this.builder.lineTo(t,i,n),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,n,x,S,M,L){return this.builder.ellipticalArc(t,i,n,x,S,M,L),this.dirty=!0,this}arc(t,i,n,x,S,M){return this.builder.arc(t,i,n,x,S,M),this.dirty=!0,this}quadraticBezierTo(t,i,n,x){return this.builder.quadraticBezierTo(t,i,n,x),this.dirty=!0,this}cubicBezierTo(t,i,n,x,S,M){return this.builder.cubicBezierTo(t,i,n,x,S,M),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,n){return this.builder.rotateAround(t,i,n),this.dirty=!0,this}scale(t,i,n,x){return this.builder.scale(t,i,n,x),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,n){return this.builder.appendFromPathSegment(t.builder,i,n),this}copyPathFrom(t,i,n){return this.builder.clear().appendFromPathSegment(t.builder,i,n),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}}const Ob=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Fb=class extends bh{constructor(t,i,n,x){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=n),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,i),this.setSize(n,x)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}updateData(){this.pathData.length=0;var t=this.x,i=t+this.width,n=this.y,x=n+this.height;return this.pathData.push(t,n),this.pathData.push(i,n),this.pathData.push(i,x),this.pathData.push(t,x),this.pathData.push(t,n),super.updateData(),this}webglRender(t,i,n,x,S){if(this.isFilled){var M=t.fillTint,L=Ob(this.fillColor,this.fillAlpha*n);M.TL=L,M.TR=L,M.BL=L,M.BR=L,t.batchFillRect(-x+this.x,-S+this.y,this.width,this.height)}this.isStroked&&Qo(t,this,n,x,S)}canvasRender(t,i,n){this.isFilled&&(Ta(t,this),t.fillRect(-i,-n,this.width,this.height)),this.isStroked&&(Pa(t,this),t.beginPath(),t.rect(-i,-n,this.width,this.height),t.stroke())}};const Dh=Phaser.Utils.Objects.GetValue;class Bh extends Ha{constructor(t,i,n,x,S,M){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=n),S===void 0&&(S=0),M===void 0&&(M=6),super(),this.setTopLeftPosition(t,i),this.setSize(n,x),this.setRadius(S),this.setIterations(M),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=Dh(t,"tl",0),this.radiusTR=Dh(t,"tr",0),this.radiusBL=Dh(t,"bl",0),this.radiusBR=Dh(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,n=this.height,x,S=this.iterations+1;if(x=this.radiusTL,x>0)if(this._convexTL){var M=x,L=x;We(M,L,x,x,180,270,!1,S,t)}else{var M=0,L=0;We(M,L,x,x,90,0,!0,S,t)}else Ue(0,0,t);if(x=this.radiusTR,x>0)if(this._convexTR){var M=i-x,L=x;We(M,L,x,x,270,360,!1,S,t)}else{var M=i,L=0;We(M,L,x,x,180,90,!0,S,t)}else Ue(i,0,t);if(x=this.radiusBR,x>0)if(this._convexBR){var M=i-x,L=n-x;We(M,L,x,x,0,90,!1,S,t)}else{var M=i,L=n;We(M,L,x,x,270,180,!0,S,t)}else Ue(i,n,t);if(x=this.radiusBL,x>0)if(this._convexBL){var M=x,L=n-x;We(M,L,x,x,90,180,!1,S,t)}else{var M=0,L=n;We(M,L,x,x,360,270,!0,S,t)}else Ue(0,n,t);return t.push(t[0],t[1]),O0(this.x,this.y,t),super.updateData(),this}}const Db=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Bb=class extends bh{constructor(t,i,n,x,S,M){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,i),this.setP1(n,x),this.setP2(S,M)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,i){return this.dirty=this.dirty||this.x2!==t||this.y2!==i,this.x2=t,this.y2=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,i,n,x,S){if(this.isFilled){var M=Db(this.fillColor,this.fillAlpha*n),L=this.x0-x,F=this.y0-S,G=this.x1-x,V=this.y1-S,$=this.x2-x,_=this.y2-S,q=i.getX(L,F),st=i.getY(L,F),at=i.getX(G,V),nt=i.getY(G,V),ut=i.getX($,_),ct=i.getY($,_);t.batchTri(q,st,at,nt,ut,ct,M,M,M)}this.isStroked&&Qo(t,this,n,x,S)}canvasRender(t,i,n){var x=this.x1-i,S=this.y1-n,M=this.x2-i,L=this.y2-n,F=this.x3-i,G=this.y3-n;t.beginPath(),t.moveTo(x,S),t.lineTo(M,L),t.lineTo(F,G),t.closePath(),this.isFilled&&(Ta(t,this),t.fill()),this.isStroked&&(Pa(t,this),t.stroke())}};var Ib={buildShapes(){this.addShape(new Bh().setName("box")).addShape(new Je().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),n=i*2,x=e-i,S=t-i,M=this.boxLineWidth,L=Math.max(n/10,2),F=this.getShape("box"),G=this.getShape("checker");if(this.isSizeChanged){var _=n*(1-this.boxSize)/2,V=M/2,$=n*this.boxSize-M;F.setTopLeftPosition(x+V+_,S+V+_).setSize($,$),this.isCircleShape?F.setRadius($/2):F.setRadius(0);var _=n*(1-this.checkerSize)/2,q=n*this.checkerSize/4,st=q*1,at=q*2,nt=q*3;G.startAt(st,at).lineTo(at,nt).lineTo(nt,st).offset(x+_,S+_).end()}this.checked?(F.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(M,this.boxStrokeColor,this.boxStrokeAlpha),G.lineStyle(L,this.checkerColor)):(F.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(M,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),G.lineStyle()),this.checked&&G.setDisplayPathSegment(this.checkerAnimProgress)}};const yr=Phaser.Utils.Objects.GetValue,Gb=Phaser.Math.Linear;class Yi extends Kr{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=yr(t,"key","value");var n=i[this.propertyKey];return this.fromValue=yr(t,"from",n),this.toValue=yr(t,"to",n),this.setEase(yr(t,"ease",this.ease)),this.setDuration(yr(t,"duration",this.duration)),this.setRepeat(yr(t,"repeat",0)),this.setDelay(yr(t,"delay",0)),this.setRepeatDelay(yr(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,i){var n=i.t;n=this.easeFn(n),t[this.propertyKey]=Gb(this.fromValue,this.toValue,n)}}var kb={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new Yi(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}},I0={};Object.assign(I0,rb,nb,Ib,kb);const $a=23730,zb=16777215,we=Phaser.Utils.Objects.GetValue,G0=Phaser.Utils.Objects.IsPlainObject;class k0 extends bs{constructor(t,i,n,x,S,M,L){G0(i)?(L=i,i=we(L,"x",0),n=we(L,"y",0),x=we(L,"width",2),S=we(L,"height",2),M=we(L,"color",$a)):G0(M)&&(L=M,M=we(L,"color",$a)),super(t,i,n,x,S),this.type="rexCheckbox",M===void 0&&(M=$a),this.setBoxShape(we(L,"circleBox",!1)),this.setBoxFillStyle(M,we(L,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(we(L,"uncheckedColor",null),we(L,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(we(L,"boxLineWidth",4),we(L,"boxStrokeColor",M),we(L,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,we(L,"uncheckedBoxStrokeColor",this.boxStrokeColor),we(L,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(we(L,"checkerColor",zb),we(L,"checkerAlpha",1)),this.setBoxSize(we(L,"boxSize",1)),this.setCheckerSize(we(L,"checkerSize",1)),this.setCheckerAnimationDuration(we(L,"animationDuration",150)),this.buildShapes();var F=we(L,"checked");F===void 0&&(F=we(L,"value",!1)),this.setValue(F)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(k0.prototype,I0);const Ka=Phaser.Utils.Objects.GetValue;class Os extends ye{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(Ka(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(Ka(t,"enable",!0)),this.setMode(Ka(t,"mode",1)),this.setClickInterval(Ka(t,"clickInterval",100)),this.setDragThreshold(Ka(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Nb[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,n,x){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,x),this.mode===0&&this.click(t.downTime,t,x))}onRelease(t,i,n,x){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,x),this.mode===1&&this.click(t.upTime,t,x),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,n,x){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,n,x){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,x),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,n){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,n),this;this.pointer=void 0;var x=this.lastClickTime;return x!==void 0&&t-x<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,n),this)}cancel(){return this.pointer=void 0,this}}const Nb={press:0,pointerdown:0,release:1,pointerup:1},Cr=Phaser.Utils.Objects.GetValue,z0=Phaser.Utils.Objects.IsPlainObject;class Ed extends k0{constructor(t,i,n,x,S,M,L){z0(i)?(L=i,i=Cr(L,"x",0),n=Cr(L,"y",0),x=Cr(L,"width",2),S=Cr(L,"height",2),M=Cr(L,"color",$a)):z0(M)&&(L=M,M=Cr(L,"color",$a)),super(t,i,n,x,S,M,L),this._click=new Os(this,Cr(L,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(Cr(L,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}tt.register("checkbox",function(e,t,i,n,x,S){var M=new Ed(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),H(window,"RexPlugins.UI.Checkbox",Ed);var Vb={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},Ub={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},Wb={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Md=function(e,t,i){return(t-e)*i+e},Xb=function(e,t,i){var n=Md(La(e),La(t),i),x=Md(ba(e),ba(t),i),S=Md(Oa(e),Oa(t),i);return(n&255)<<16|(x&255)<<8|S&255};const N0=Phaser.Math.Linear;var Yb={buildShapes(){this.addShape(new Bh().setName("track")).addShape(new Bh().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,n=this.getShape("track");if(this.isSizeChanged){var x=e*this.trackWidth,S=t*this.trackHeight,M=(e-x)/2,L=(t-S)/2,F=t*this.trackRadius;n.setTopLeftPosition(M,L).setSize(x,S).setRadius(F)}var G=Xb(this.falseValueTrackColor,this.trackFillColor,i),V=N0(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);n.fillStyle(G,V);var $=this.getShape("thumb");if(this.isSizeChanged){var _=e*this.thumbWidth,q=t*this.thumbHeight,st=t*this.thumbRadius;$.setSize(_,q).setRadius(st)}var at=N0(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(at=e-at);var nt=t/2;$.setCenterPosition(at,nt),$.fillStyle(this.thumbColor,this.thumbAlpha)}},Hb={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new Yi(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}},V0={};Object.assign(V0,Vb,Ub,Wb,Yb,Hb);var $b=function(e){var t=.3*La(e)+.59*ba(e)+.11*Oa(e);return(t&255)<<16|(t&255)<<8|t&255};const Re=Phaser.Utils.Objects.GetValue,U0=Phaser.Utils.Objects.IsPlainObject,wd=23730,Kb=16777215;class W0 extends bs{constructor(t,i,n,x,S,M,L){U0(i)?(L=i,i=Re(L,"x",0),n=Re(L,"y",0),x=Re(L,"width",2),S=Re(L,"height",2),M=Re(L,"color",wd)):U0(M)&&(L=M,M=Re(L,"color",wd)),super(t,i,n,x,S),this.type="rexToggleSwitch",M===void 0&&(M=wd),this.setTrackFillStyle(M,Re(L,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(Re(L,"falseValueTrackColor",$b(M)),Re(L,"falseValueTrackFillAlpha",1)),this.setThumbStyle(Re(L,"thumbColor",Kb),Re(L,"thumbAlpha",1)),this.setTrackSize(Re(L,"trackWidth",.9),Re(L,"trackHeight",.5)),this.setTrackRadius(Re(L,"trackRadius",this.trackHeight*.5));var F=Re(L,"thumbHeight",void 0),G=Re(L,"thumbWidth",F);G===void 0&&(G=this.trackHeight*.9),this.setThumbSize(G,F),this.setThumbRadius(Re(L,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(Re(L,"thumbLeft",.3),Re(L,"thumbRight",void 0)),this.setRTL(Re(L,"rtl",!1)),this.setToggleAnimationDuration(Re(L,"animationDuration",150)),this.buildShapes(),this.setValue(Re(L,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var n=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=n,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(W0.prototype,V0);const X0=Phaser.Utils.Objects.GetValue;class Rd extends W0{constructor(t,i,n,x,S,M,L){super(t,i,n,x,S,M,L),this._click=new Os(this,X0(L,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(X0(L,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}tt.register("toggleSwitch",function(e,t,i,n,x,S){var M=new Rd(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),H(window,"RexPlugins.UI.ToggleSwitch",Rd);var Zb={loadFromURL(e,t){var i=this,n=new Image;return n.onload=function(){i.width!==n.width||i.height!==n.height?i.resize(n.width,n.height):i.clear(),i.context.drawImage(n,0,0),i.updateTexture(),t&&t(),n.onload=null,n.src="",n.remove()},n.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,n){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,n){t.loadFromFile(e,i)})}};class Jr extends ur{}Object.assign(Jr.prototype,Zb),tt.register("canvas",function(e,t,i,n){var x=new Jr(this.scene,e,t,i,n);return this.scene.add.existing(x),x}),H(window,"RexPlugins.UI.Canvas",Jr);const Kn=Phaser.Utils.Objects.GetValue;class Y0 extends ur{constructor(t,i,n,x,S,M){super(t,i,n),this.type="rexCircleMaskImage",this.setTexture(x,S,M)}setTexture(t,i,n){typeof i=="object"&&(n=i,i=void 0),typeof n=="string"&&(n={maskType:n});var x=Kn(n,"maskType",0),S=Kn(n,"backgroundColor",void 0),M=Kn(n,"strokeColor",void 0),L=M!=null?10:0,F=Kn(n,"strokeWidth",L);if(x===void 0?x=0:typeof x=="string"&&(x=Jb[x]),this._textureKey=t,this._frameName=i,x===null)return this.loadTexture(t,i),this.dirty=!0,this;var G=this.scene.sys.textures.getFrame(t,i);if(!G)return this;G.cutWidth!==this.width||G.cutHeight!==this.height?this.setCanvasSize(G.cutWidth,G.cutHeight):this.clear();var V=this.canvas,$=this.context,_=V.width,q=V.height;S!=null&&($.fillStyle=S,$.fillRect(0,0,_,q)),$.save(),$.beginPath();var st=F/2;switch(x){case 1:var dt=Math.floor(_/2),mt=Math.floor(q/2),at=dt-st,nt=mt-st;$.ellipse(dt,mt,at,nt,0,0,2*Math.PI);break;case 2:var ut=Kn(n,"radius",0),ct=Kn(n,"iteration",void 0);np($,st,st,_-F,q-F,ut,ct);break;default:var dt=Math.floor(_/2),mt=Math.floor(q/2),Tt=Math.min(dt,mt)-st;$.arc(dt,mt,Tt,0,2*Math.PI);break}return M!=null&&($.strokeStyle=M,$.lineWidth=F,$.stroke()),$.clip(),this.loadTexture(t,i),$.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}const Jb={circle:0,ellipse:1,roundRectangle:2};tt.register("circleMaskImage",function(e,t,i,n,x){var S=new Y0(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.CircleMaskImage",Y0);const Za=Phaser.Utils.Objects.GetValue;class H0 extends ur{constructor(t,i,n,x,S,M){super(t,i,n),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(x,S,M)}setTexture(t,i,n){typeof i=="object"&&(n=i,i=void 0),typeof n=="string"&&(n={mask:{key:n}});var x=Za(n,"mask.key"),S=Za(n,"mask.frame"),M=Za(n,"mask.invertAlpha",!1),L=Za(n,"mask.scale"),F=Za(n,"backgroundColor");if(x){this._maskKey=x,this._maskFrame=S,this._maskScale=L;var G=x?this.scene.sys.textures.get(x):null;this.maskFrame=G?G.get(S):null}this._textureKey=t,this._frameName=i;var V=this.maskFrame;if(V===null)return this.loadTexture(t,i),this.dirty=!0,this;var $=F!=null;this.loadTexture(t,i);var _=this.canvas,q=this.context,st=_.width,at=_.height;q.save(),q.globalCompositeOperation=M?"destination-out":"destination-in";var nt,ut;this._maskScale!=null?(nt=V.cutWidth*this._maskScale,ut=V.cutHeight*this._maskScale):(nt=st,ut=at);var ct=(st-nt)/2,dt=(at-ut)/2;return this.drawFrame(this._maskKey,this._maskFrame,ct,dt,nt,ut),q.restore(),$&&(q.save(),q.globalCompositeOperation="destination-over",q.fillStyle=F,q.fillRect(0,0,st,at),q.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}tt.register("alphaMaskImage",function(e,t,i,n,x){var S=new H0(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.AlphaMaskImage",H0);const Qb=Phaser.Math.Linear,$0=Phaser.Math.Percent;var jb={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=$0(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=$0(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&t!==void 0&&(i=Qb(e,t,i)),i}};const qb=Phaser.Math.Percent;var _b={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,i){return e==null?this:(t!==void 0&&(e=qb(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new Yi(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,i,n){return i===void 0&&(i=-1),n===void 0&&(n=0),this.easeValueTask===void 0&&(this.easeValueTask=new Yi(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:n}),this}};const Ja=Phaser.Utils.Objects.GetValue,tO=Phaser.Math.Clamp;function Sr(e){class t extends e{bootProgressBase(n){this.eventEmitter=Ja(n,"eventEmitter",this);var x=Ja(n,"valuechangeCallback",null);if(x!==null){var S=Ja(n,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",x,S)}return this.setEaseValuePropName("value").setEaseValueDuration(Ja(n,"easeValue.duration",0)).setEaseValueFunction(Ja(n,"easeValue.ease","Linear")),this}get value(){return this._value}set value(n){n=tO(n,0,1);var x=this._value,S=x!=n;this.dirty=this.dirty||S,this._value=n,S&&this.eventEmitter.emit("valuechange",this._value,x,this.eventEmitter)}}return Object.assign(t.prototype,jb,_b),t}const eO=Phaser.Math.RadToDeg,K0=Phaser.Math.DegToRad;var Z0=function(e,t,i,n,x,S,M,L){var F=Math.abs(M-S)===360,G=K0(S),V=K0(M),$=Math.cos(G),_=Math.sin(G),q=Math.cos(V),st=Math.sin(V);return e.startAt(t+$*n,i+_*n),e.arc(t,i,n,S,M,L),F&&x===0||(e.lineTo(t+q*x,i+st*x),x>0&&e.arc(t,i,x,M,S,!L)),e.close(),e},iO={buildShapes(){var e=this.iterations;this.addShape(new Je().setIterations(e).setName("track")).addShape(new Je().setIterations(e).setName("bar")).addShape(new bi().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,n=i-t,x=this.getShape("track");this.trackColor!=null&&this.thickness>0?(x.fillStyle(this.trackColor),Z0(x,e,e,i,n,0,360,!1)):x.reset();var S=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var M,L,F;if(this.value===1)M=!1,L=0,F=360;else{M=this.anticlockwise,L=eO(this.startAngle);var G=360*(M?1-this.value:this.value);F=G+L}S.fillStyle(this.barColor),Z0(S,e,e,i+1,n-1,L,F,!1)}else S.reset();var V=this.getShape("center");this.centerColor&&n>0?V.setCenterPosition(e,e).setRadius(n).fillStyle(this.centerColor):V.reset()}};const Hi=Phaser.Utils.Objects.GetValue,sO=Phaser.Utils.Objects.IsPlainObject,rO=Phaser.Math.Clamp,nO=Phaser.Math.DegToRad(270);let Ad=class extends Sr(bs){constructor(t,i,n,x,S,M,L){sO(i)&&(L=i,i=Hi(L,"x",0),n=Hi(L,"y",0),x=Hi(L,"radius",1),S=Hi(L,"barColor",void 0),M=Hi(L,"value",0)),x===void 0&&(x=1);var F=x*2;super(t,i,n,F,F),this.type="rexCircularProgress",this.bootProgressBase(L),this.setRadius(x),this.setTrackColor(Hi(L,"trackColor",void 0)),this.setBarColor(S),this.setCenterColor(Hi(L,"centerColor",void 0)),this.setThickness(Hi(L,"thickness",.2)),this.setStartAngle(Hi(L,"startAngle",nO)),this.setAnticlockwise(Hi(L,"anticlockwise",!1)),this.iterations=Hi(L,"iterations",128),this.buildShapes(),this.setValue(M)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=rO(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(Ad.prototype,iO),tt.register("circularProgress",function(e,t,i,n,x,S){var M=new Ad(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),H(window,"RexPlugins.UI.CircularProgress",Ad);var Ld=function(e,t,i,n,x,S,M,L,F,G,V,$){G===void 0&&(G=0),V===void 0&&(V=2*Math.PI),$===void 0&&($=!1),t.beginPath(),t.ellipse(i,n,x,S,0,G,V,$),M!=null&&(t.fillStyle=M,t.fill()),L!=null&&(t.strokeStyle=L,t.lineWidth=F,t.stroke())};const J0=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],aO=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];for(var bd={},Q0,Ih=0,oO=J0.length;Ih<oO;Ih++)Q0=J0[Ih].toLowerCase(),bd[Q0]=aO[Ih];var hO=function(e){return e=e.toLowerCase(),bd.hasOwnProperty(e)?bd[e]:null},Od=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=hO(e)),e};const lO=Phaser.Math.DegToRad,Fd=Phaser.Math.Linear;var uO=function(e,t,i,n,x,S,M,L,F,G,V,$,_){G===void 0&&(G=0),V===void 0&&(V=2*Math.PI),$===void 0&&($=!1),_===void 0&&(_=2),M=Od(M),L=Od(L),Qa=ng(M,Qa),ja=ng(L,ja);var q=lO(_),st;$?st=G-V:st=V-G,st<0&&(st+=2*Math.PI);var at=Math.ceil(st/q),nt=st/at;$&&(nt=-nt);for(var ut=0;ut<at;ut++){var ct=ut/at,dt=Math.round(Fd(Qa.r,ja.r,ct)),mt=Math.round(Fd(Qa.g,ja.g,ct)),Tt=Math.round(Fd(Qa.b,ja.b,ct)),Pt=G+ut*nt,Rt=Pt+nt;ut<at-1&&(Rt+=nt/2),t.beginPath(),t.ellipse(i,n,x,S,0,Pt,Rt,$),t.strokeStyle=`rgb(${dt},${mt},${Tt})`,t.lineWidth=F,t.stroke()}},Qa,ja,dO=function(e,t,i,n,x,S,M,L,F,G,V){F===void 0&&L!=null&&(F=2),t.font=S,t.textAlign=G,t.textBaseline=V,t.fillStyle=M,t.strokeStyle=L,t.lineWidth=F,t.lineCap="round",t.lineJoin="round",L!=null&&L!=="none"&&F>0&&t.strokeText(x,i,n),M!=null&&M!=="none"&&t.fillText(x,i,n)};const Dd=Phaser.Math.PI2;var fO=function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,n=this.radius-t,x=this.canvas,S=this.context,M=this.anticlockwise,L=this.startAngle,F=this.endAngle,G=this._deltaAngle;if(this.trackColor&&t>0&&(S.save(),Ld(x,S,e,e,i,i,void 0,this.trackColor,t,L,F,M),S.restore()),this.barColor&&i>0){var V;this.value>=1?V=F:M?V=(L-G*this.value+Dd)%Dd:V=(L+G*this.value)%Dd,S.save(),this.barColor2?uO(x,S,e,e,i,i,this.barColor2,this.barColor,t,L,V,M):Ld(x,S,e,e,i,i,void 0,this.barColor,t,L,V,M),S.restore()}if(this.centerColor&&n>0){var $;this.centerColor2?($=this.context.createRadialGradient(e,e,0,e,e,n),$.addColorStop(0,this.centerColor),$.addColorStop(1,this.centerColor2)):$=this.centerColor,S.save(),Ld(x,S,e,e,n,n,$),S.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(S.save(),dO(x,S,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),S.restore())};const Se=Phaser.Utils.Objects.GetValue,cO=Phaser.Utils.Objects.IsPlainObject,vO=Phaser.Math.Clamp,pO=Phaser.Math.DegToRad(270),Gh=Phaser.Math.PI2;class kh extends Sr(ur){constructor(t,i,n,x,S,M,L){cO(i)&&(L=i,i=Se(L,"x",0),n=Se(L,"y",0),x=Se(L,"radius",1),S=Se(L,"barColor",void 0),M=Se(L,"value",0));var F=x*2,G=Se(L,"resolution",1);super(t,i,n,F,F,G),this.type="rexCircularProgressCanvas",this.bootProgressBase(L),this.setRadius(x),this.setTrackColor(Se(L,"trackColor",void 0)),this.setBarColor(S),this.setBarColor2(Se(L,"barColor2",void 0)),this.setCenterColor(Se(L,"centerColor",void 0)),this.setThickness(Se(L,"thickness",.2)),this.setAnticlockwise(Se(L,"anticlockwise",!1)),this.setStartAngle(Se(L,"startAngle",pO));var V=Se(L,"endAngle");V===void 0&&(this.anticlockwise?V=this.startAngle-Gh:V=this.startAngle+Gh),this.setEndAngle(Se(L,"endAngle",V)),this.setTextColor(Se(L,"textColor",void 0)),this.setTextStrokeColor(Se(L,"textStrokeColor",void 0),Se(L,"textStrokeThickness",void 0));var $=Se(L,"textFont",void 0);$?this.setTextFont($):this.setTextFont(Se(L,"textSize","16px"),Se(L,"textFamily","Courier"),Se(L,"textStyle","")),this.setTextFormatCallback(Se(L,"textFormatCallback",void 0),Se(L,"textFormatCallbackScope",void 0)),this.setValue(M)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=Bd(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=Bd(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=Bd(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=vO(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,n){var x;return i===void 0?x=t:x=n+" "+t+" "+i,this.textFont=x,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),fO.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}}var Bd=function(e,t,i){return i?e<=t?Gh+e-t:e-t:e>=t?Gh+t-e:t-e};tt.register("circularProgressCanvas",function(e,t,i,n,x,S){var M=new kh(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),H(window,"RexPlugins.UI.CircularProgressCanvas",kh);var gO=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,n=this.getShape("trackFill");n.fillStyle(this.trackColor),n.isFilled&&Id(n,0,0,t,i,e);var x=this.getShape("bar");if(x.fillStyle(this.barColor),x.isFilled){var S,M;this.rtl?(S=t*(1-this.value),M=t):(S=0,M=t*this.value),Id(x,S,0,M,i,e)}var L=this.getShape("trackStroke");L.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),L.isStroked&&Id(L,0,0,t,i,e)},Id=function(e,t,i,n,x,S){var M=(t+n)/2;return S>=0?e.startAt(M+S,i).lineTo(n+S,i).lineTo(n,x).lineTo(t,x).lineTo(t+S,i).lineTo(M+S,i):e.startAt(M,i).lineTo(n,i).lineTo(n-S,x).lineTo(t-S,x).lineTo(t,i).lineTo(M,i),e.close(),e};const qa=Phaser.Utils.Objects.GetValue,Gd=Phaser.Utils.Objects.IsPlainObject;let zh=class extends Sr(bs){constructor(t,i,n,x,S,M,L,F){Gd(i)?(F=i,i=F.x,n=F.y,x=F.width,S=F.height,M=F.barColor,L=F.value):Gd(x)?(F=x,x=F.width,S=F.height,M=F.barColor,L=F.value):Gd(M)&&(F=M,M=F.barColor,L=F.value),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=2),S===void 0&&(S=x),L===void 0&&(L=0),super(t,i,n,x,S,F),this.type="rexLineProgress",this.bootProgressBase(F),this.addShape(new Je().setName("trackFill")).addShape(new Je().setName("bar")).addShape(new Je().setName("trackStroke")),this.setTrackColor(qa(F,"trackColor",void 0)),this.setBarColor(M),this.setTrackStroke(qa(F,"trackStrokeThickness",2),qa(F,"trackStrokeColor",void 0)),this.setSkewX(qa(F,"skewX",0)),this.setRTL(qa(F,"rtl",!1)),this.setValue(L)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var mO={updateShapes:gO};Object.assign(zh.prototype,mO),tt.register("lineProgress",function(e,t,i,n,x,S,M){var L=new zh(this.scene,e,t,i,n,x,S,M);return this.scene.add.existing(L),L}),H(window,"RexPlugins.UI.LineProgress",zh);var kd=function(e,t,i,n,x){e.setIterations(x).start();var L=n.tl;if(me(L))if(L.convex){var S=L.x,M=L.y;e.ellipticalArc(S,M,L.x,L.y,180,270,!1)}else{var S=0,M=0;e.ellipticalArc(S,M,L.x,L.y,90,0,!0)}else e.lineTo(0,0);var L=n.tr;if(me(L))if(L.convex){var S=t-L.x,M=L.y;e.ellipticalArc(S,M,L.x,L.y,270,360,!1)}else{var S=t,M=0;e.ellipticalArc(S,M,L.x,L.y,180,90,!0)}else e.lineTo(t,0);var L=n.br;if(me(L))if(L.convex){var S=t-L.x,M=i-L.y;e.ellipticalArc(S,M,L.x,L.y,0,90,!1)}else{var S=t,M=i;e.ellipticalArc(S,M,L.x,L.y,270,180,!0)}else e.lineTo(t,i);var L=n.bl;if(me(L))if(L.convex){var S=L.x,M=i-L.y;e.ellipticalArc(S,M,L.x,L.y,90,180,!1)}else{var S=0,M=i;e.ellipticalArc(S,M,L.x,L.y,360,270,!0)}else e.lineTo(0,i);return e.close(),e},Nh=Phaser.Math.RadToDeg,xO=function(e,t,i,n,x){var S=t*x,G=n.tl;if(me(G)){var M;S>G.x?M=90:M=Nh(Math.acos((G.x-S)/G.x));var L=G.x,F=G.y;e.ellipticalArc(L,F,G.x,G.y,180,180+M,!1)}else e.lineTo(0,0);var G=n.tr;if(me(G)&&S>t-G.x){var M=90-Nh(Math.acos((S-(t-G.x))/G.x)),L=t-G.x,F=G.y;e.ellipticalArc(L,F,G.x,G.y,270,270+M,!1)}else e.lineTo(S,0);var G=n.br;if(me(G)&&S>t-G.x){var M=90-Nh(Math.acos((S-(t-G.x))/G.x)),L=t-G.x,F=i-G.y;e.ellipticalArc(L,F,G.x,G.y,90-M,90,!1)}else e.lineTo(S,i);var G=n.bl;if(me(G)){var M;S>G.x?M=90:M=Nh(Math.acos((G.x-S)/G.x));var L=G.x,F=i-G.y;e.ellipticalArc(L,F,G.x,G.y,180-M,180,!1)}else e.lineTo(0,i)},Vh=Phaser.Math.RadToDeg,yO=function(e,t,i,n,x){var S=i*x,G=n.tl;if(me(G)){var M;S>G.y?M=90:M=Vh(Math.acos((G.y-S)/G.y));var L=G.x,F=G.y;e.ellipticalArc(L,F,G.x,G.y,270-M,270,!1)}else e.lineTo(0,0);var G=n.tr;if(me(G)){var M;S>G.y?M=90:M=Vh(Math.acos((G.y-S)/G.y));var L=t-G.x,F=G.y;e.ellipticalArc(L,F,G.x,G.y,270,270+M,!1)}else e.lineTo(t,0);var G=n.br;if(me(G)&&S>i-G.y){var M=90-Vh(Math.acos((S-(i-G.y))/G.y)),L=t-G.x,F=i-G.y;e.ellipticalArc(L,F,G.x,G.y,0,0+M,!1)}else e.lineTo(t,S);var G=n.bl;if(me(G)&&S>i-G.y){var M=90-Vh(Math.acos((S-(i-G.y))/G.y)),L=G.x,F=i-G.y;e.ellipticalArc(L,F,G.x,G.y,180-M,180,!1)}else e.lineTo(0,S)},Uh=Phaser.Math.RadToDeg,CO=function(e,t,i,n,x){var S=t*x,G=n.tr;if(me(G)){var M;S>G.x?M=90:M=Uh(Math.acos((G.x-S)/G.x));var L=t-G.x,F=G.y;e.ellipticalArc(L,F,G.x,G.y,360-M,360,!1)}else e.lineTo(t,0);var G=n.br;if(me(G)){var M;S>G.x?M=90:M=Uh(Math.acos((G.x-S)/G.x));var L=t-G.x,F=i-G.y;e.ellipticalArc(L,F,G.x,G.y,0,0+M,!1)}else e.lineTo(t,i);var G=n.bl;if(me(G)&&S>t-G.x){var M=90-Uh(Math.acos((S-(t-G.x))/G.x)),L=G.x,F=i-G.y;e.ellipticalArc(L,F,G.x,G.y,90,90+M,!1)}else e.lineTo(t-S,i);var G=n.tl;if(me(G)&&S>t-G.x){var M=90-Uh(Math.acos((S-(t-G.x))/G.x)),L=G.x,F=G.y;e.ellipticalArc(L,F,G.x,G.y,270-M,270,!1)}else e.lineTo(t-S,0)},Wh=Phaser.Math.RadToDeg,SO=function(e,t,i,n,x){var S=i*x,G=n.br;if(me(G)){S>G.y?F=90:F=Wh(Math.acos((G.y-S)/G.y));var M=t-G.x,L=i-G.y;e.ellipticalArc(M,L,G.x,G.y,90-F,90,!1)}else e.lineTo(t,i);var G=n.bl;if(me(G)){S>G.y?F=90:F=Wh(Math.acos((G.y-S)/G.y));var M=G.x,L=i-G.y;e.ellipticalArc(M,L,G.x,G.y,90,90+F,!1)}else e.lineTo(0,i);var G=n.tl;if(me(G)&&S>i-G.y){var F=90-Wh(Math.acos((S-(i-G.y))/G.y)),M=G.x,L=G.y;e.ellipticalArc(M,L,G.x,G.y,180,180+F,!1)}else e.lineTo(0,i-S);var G=n.tr;if(me(G)&&S>i-G.y){var F=90-Wh(Math.acos((S-(i-G.y))/G.y)),M=t-G.x,L=G.y;e.ellipticalArc(M,L,G.x,G.y,360-F,360,!1)}else e.lineTo(t,i-S)},TO=function(e,t,i,n,x,S,M,L){if(e.setIterations(L).start(),x===0)return e;if(x===1)return kd(e,t,i,n,L);var F;return S===0?F=M?CO:xO:F=M?SO:yO,F(e,t,i,n,x),e.close(),e},PO=function(){var e=this.width,t=this.height,i=this.rrGeom.cornerRadius,n=this.value,x=this.orientation,S=this.rtl,M=this.iteration+1,L=this.getShape("trackFill");L.fillStyle(this.trackColor),L.isFilled&&kd(L,e,t,i,M);var F=this.getShape("bar");F.fillStyle(this.barColor),F.isFilled&&TO(F,e,t,i,n,x,S,M);var G=this.getShape("trackStroke");G.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),G.isStroked&&kd(G,e,t,i,M)},EO={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Qr=function(e){return typeof e=="string"&&(e=EO[e]),e};const Zn=Phaser.Utils.Objects.GetValue,zd=Phaser.Utils.Objects.IsPlainObject;class Nd extends Sr(bs){constructor(t,i,n,x,S,M,L,F,G){zd(i)?(G=i,i=G.x,n=G.y,x=G.width,S=G.height,M=G.radius,L=G.barColor,F=G.value):zd(x)?(G=x,x=G.width,S=G.height,M=G.radius,L=G.barColor,F=G.value):zd(M)&&(G=M,M=G.radius,L=G.barColor,F=G.value),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=x),M===void 0&&(M=0),F===void 0&&(F=0),super(t,i,n,x,S,G),this.type="rexRoundRectangleProgress",this.rrGeom=new Fu,this.bootProgressBase(G),this.addShape(new Je().setName("trackFill")).addShape(new Je().setName("bar")).addShape(new Je().setName("trackStroke")),this.setTrackColor(Zn(G,"trackColor",void 0)),this.setBarColor(L),this.setTrackStroke(Zn(G,"trackStrokeThickness",2),Zn(G,"trackStrokeColor",void 0)),this.setOrientation(Zn(G,"orientation",0)),this.setRTL(Zn(G,"rtl",!1)),this.setRadius(M),this.setIteration(Zn(M,"iteration",void 0)),this.setValue(F)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=Qr(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var MO={updateShapes:PO};Object.assign(Nd.prototype,MO),tt.register("roundRectanleProgress",function(e,t,i,n,x,S,M,L){var F=new Nd(this.scene,e,t,i,n,x,S,M,L);return this.scene.add.existing(F),F}),H(window,"RexPlugins.UI.RoundRectangleProgress",Nd);var wO=function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var n=1,x=t.length;n<x;n++)i=t[n],e.lineTo(i.x,i.y);e.closePath(),e.restore()},Vd=function(e,t,i,n,x,S,M){M===void 0&&(M="round"),wO(t,i),t.lineJoin=M,n!=null&&(t.fillStyle=n,t.fill()),x!=null&&(t.strokeStyle=x,t.lineWidth=S,t.stroke())},RO=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,n=this.canvas,x=this.context;(this.trackColor||this.trackStrokeColor)&&j0(0,0,t,i,e,this.trackPoints);var S,M;if(this.barColor&&(this.rtl?(S=t*(1-this.value),M=t):(S=0,M=t*this.value),j0(S,0,M,i,e,this.barPoints)),this.trackColor&&(x.save(),Vd(n,x,this.trackPoints,this.trackColor),x.restore()),this.barColor){x.save();var L;if(this.barColor2){var F;if(this.isHorizontalGradient){var G=i/2;F=x.createLinearGradient(S,G,M,G)}else{var V=t/2;F=x.createLinearGradient(V,0,V,i)}F.addColorStop(0,this.rtl?this.barColor:this.barColor2),F.addColorStop(1,this.rtl?this.barColor2:this.barColor),L=F}else L=this.barColor;Vd(n,x,this.barPoints,L),x.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(x.save(),Vd(n,x,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),x.restore())},j0=function(e,t,i,n,x,S){S===void 0&&(S=[]),S.length=4;for(var M=0;M<4;M++)S[M]||(S[M]={});var L;return x>=0?(L=S[0],L.x=e+x,L.y=t,L=S[1],L.x=i+x,L.y=t,L=S[2],L.x=i,L.y=n,L=S[3],L.x=e,L.y=n):(L=S[0],L.x=e,L.y=t,L=S[1],L.x=i,L.y=t,L=S[2],L.x=i-x,L.y=n,L=S[3],L.x=e-x,L.y=n),S};const Be=Phaser.Utils.Objects.GetValue,Ud=Phaser.Utils.Objects.IsPlainObject;class Wd extends Sr(ur){constructor(t,i,n,x,S,M,L,F){Ud(i)?(F=i,i=Be(F,"x",0),n=Be(F,"y",0),x=Be(F,"width",2),S=Be(F,"height",2),M=Be(F,"barColor",void 0),L=Be(F,"value",0)):Ud(x)?(F=x,x=Be(F,"width",2),S=Be(F,"height",2),M=Be(F,"barColor",void 0),L=Be(F,"value",0)):Ud(M)&&(F=M,M=Be(F,"barColor",void 0),L=Be(F,"value",0));var G=Be(F,"resolution",1);super(t,i,n,x,S,G),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(F),this.setTrackColor(Be(F,"trackColor",void 0)),this.setBarColor(M,Be(F,"barColor2",void 0),Be(F,"isHorizontalGradient",void 0)),this.setTrackStroke(Be(F,"trackStrokeThickness",2),Be(F,"trackStrokeColor",void 0)),this.setSkewX(Be(F,"skewX",0)),this.setRTL(Be(F,"rtl",!1)),this.setValue(L)}get trackColor(){return this._trackColor}set trackColor(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=Wt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,n){return n===void 0&&(n=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=n,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),RO.call(this)},this),this}}tt.register("circularProgressCanvas",function(e,t,i,n,x,S,M){var L=new Wd(this.scene,e,t,i,n,x,S,M);return this.scene.add.existing(L),L}),H(window,"RexPlugins.UI.LineProgressCanvas",Wd),Phaser.Math.Wrap;const Jn=Phaser.Math.Linear;var AO=function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,n=0+t.left,x=this.height-t.bottom,S=0+t.top,M=(n+i)/2,L=(S+x)/2,F={0:{a:{x:n,y:S},b:{x:i,y:L},c:{x:n,y:x}},1:{a:{x:n,y:S},b:{x:M,y:x},c:{x:i,y:S}},2:{a:{x:i,y:S},b:{x:n,y:L},c:{x:i,y:x}},3:{a:{x:n,y:x},b:{x:M,y:S},c:{x:i,y:x}}},G,V,$,_,q,st;if(this.previousDirection===void 0){var at=F[this.direction],nt=at.a,ut=at.b,ct=at.c;G=nt.x,V=nt.y,$=ut.x,_=ut.y,q=ct.x,st=ct.y}else{var dt=F[this.previousDirection],mt=F[this.direction],Tt=this.easeDirectionProgress;G=Jn(dt.a.x,mt.a.x,Tt),V=Jn(dt.a.y,mt.a.y,Tt),$=Jn(dt.b.x,mt.b.x,Tt),_=Jn(dt.b.y,mt.b.y,Tt),q=Jn(dt.c.x,mt.c.x,Tt),st=Jn(dt.c.y,mt.c.y,Tt)}e.startAt(G,V).lineTo($,_).lineTo(q,st),this.arrowOnly?e.end():e.close()};const LO=Phaser.Math.DegToRad,Xh=LO(120);var bO=function(t){var t=this.getShape("triangle"),i=this.width/2,n=this.height/2,x=Math.min(i,n)*this.radius,S=this.verticeRotation;t.startAt(i+x*Math.cos(S+Xh),n+x*Math.sin(S+Xh)).lineTo(i+x*Math.cos(S),n+x*Math.sin(S)).lineTo(i+x*Math.cos(S-Xh),n+x*Math.sin(S-Xh)),this.arrowOnly?t.end():t.close()},OO={buildShapes(){this.addShape(new Je().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?AO.call(this):bO.call(this)}},FO={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new Yi(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}};const Qn=Phaser.Utils.Objects.GetValue,DO=Phaser.Utils.Objects.IsPlainObject,BO=Phaser.Math.DegToRad,IO=Phaser.Math.RadToDeg;class _a extends bs{constructor(t,i,n,x,S,M,L){var F,G,V,$,_,q,st,at;if(DO(i)){var nt=i;i=nt.x,n=nt.y,x=nt.width,S=nt.height,M=nt.color,L=nt.alpha,F=nt.strokeColor,G=nt.strokeAlpha,V=nt.strokeWidth,$=nt.arrowOnly,_=nt.direction,q=nt.easeDuration,st=nt.padding,at=nt.radius}i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=x),$===void 0&&($=!1),_===void 0&&(_=0),q===void 0&&(q=0),st===void 0&&(st=0),at===void 0&&(at=void 0),super(t,i,n,x,S),this.type="rexTriangle",this.setFillStyle(M,L),F!==void 0&&V===void 0&&(V=2),this.setStrokeStyle(V,F,G),this.setArrowOnly($),this.setDirection(_,q),this.setPadding(st),this.setRadius(at),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=kO(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,n,x){if(typeof t=="object"){var S=t,M=Qn(S,"x",null);M!==null?(t=M,n=M):(t=Qn(S,"left",0),n=Qn(S,"right",t));var L=Qn(S,"y",null);L!==null?(i=L,x=L):(i=Qn(S,"top",0),x=Qn(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=t),x===void 0&&(x=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=n||this.padding.bottom!=x,this.padding.left=t,this.padding.top=i,this.padding.right=n,this.padding.bottom=x,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return IO(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=BO(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const GO={right:0,down:1,left:2,up:3};var kO=function(e){return typeof e=="string"&&(e=GO[e]),e=e%4,e};Object.assign(_a.prototype,OO,FO),tt.register("triangle",function(e,t,i,n,x,S){var M=new _a(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),H(window,"RexPlugins.UI.Triangle",_a),Et();const zO=Phaser.GameObjects.Zone,NO=Phaser.Utils.Array.Add,VO=Phaser.Utils.Array.Remove;let to=class extends zO{constructor(t,i,n,x,S){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=1),S===void 0&&(S=1),super(t,i,n,x,S),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i,n=this.children.length-1;n>=0;n--)i=this.children[n],!i.parentContainer&&!i.displayList&&i.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var i=this;return NO(this.children,t,0,function(n){n.once("destroy",i.onChildDestroy,i)},this),this}remove(t,i){var n=this;return VO(this.children,t,function(x){x.off("destroy",n.onChildDestroy,n),i&&x.destroy()}),this}onChildDestroy(t,i){this.remove(t,!1)}clear(t){for(var i=this,n,x=0,S=this.children.length;x<S;x++)n=this.children[x],n.off("destroy",i.onChildDestroy,i),t&&n.destroy();return this.children.length=0,this}};const q0=Phaser.GameObjects.Components;Phaser.Class.mixin(to,[q0.Alpha,q0.Flip]);var xi=function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=xi(e);i&&i.name!==t;)i=xi(i);return i},_0=function(e){for(var t=xi(e);t;)e=t,t=xi(t);return e};const UO=Phaser.Math.DegToRad,WO=Phaser.Math.RadToDeg;var Zt=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return WO(this.rotation)},set:function(i){this.rotation=UO(i)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(i){this.scaleX=i/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(i){this.scaleY=i/e.height}}),e.rexContainer=t}return e.rexContainer},XO={setParent(e,t){t===void 0&&(t=this);var i=Zt(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),xi(e,t)},getTopmostParent(e){return e===void 0&&(e=this),_0(e)}};const jr=Phaser.Utils.Objects.GetValue,tm=to.prototype.add;var em=function(e,t){this.setParent(e);var i=Zt(e);return im(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),tm.call(this,e),sm.call(this,e,i),this},Xd=function(e,t){this.setParent(e);var i=Zt(e);return im(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),tm.call(this,e),sm.call(this,e,i),this},im=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=jr(t,"syncPosition",!0),e.syncRotation=jr(t,"syncRotation",!0),e.syncScale=jr(t,"syncScale",!0),e.syncAlpha=jr(t,"syncAlpha",!0),e.syncScrollFactor=jr(t,"syncScrollFactor",!0),e.syncCameraFilter=jr(t,"syncCameraFilter",!0),e.syncDisplayList=jr(t,"syncDisplayList",!0))},sm=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)},YO={add(e){return Array.isArray(e)?this.addMultiple(e):em.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):em.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),i=0,n=e.length;i<n;i++)t[0]=e[i],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):Xd.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):Xd.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)Xd.call(this,e[t]);return this}};const rm=to.prototype.remove,HO=to.prototype.clear;var $O={remove(e,t){return xi(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),rm.call(this,e,t),this)},unpin(e,t){return xi(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),rm.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,n=t.length;i<n;i++){var x=t[i];this.setParent(x,null),e||this.removeFromRenderLayer(x)}return HO.call(this,e),this}},KO={getLocalState(e){return Zt(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},ZO={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),i=Math.sin(-this.rotation),n=e.x,x=e.y;return e.x=n*t-x*i,e.y=n*i+x*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),i=Math.sin(this.rotation),n=e.x,x=e.y;return e.x=n*t-x*i,e.y=n*i+x*t,e.x+=this.x,e.y+=this.y,e}},eo=function(e,t){return e===t?1:e/t},JO={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=Zt(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=Zt(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=eo(e.scaleX,i.scaleX),t.scaleY=eo(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var n=Zt(e);return n.x=t,n.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=Zt(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=Zt(e);return t.x},getChildLocalY(e){var t=Zt(e);return t.y}};const QO=Phaser.Math.DegToRad;var jO={updateChildRotation(e){var t=Zt(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=Zt(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=Zt(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=Zt(e);return i.rotation=QO(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=Zt(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=Zt(e);return t.rotation}},qO={updateChildScale(e){var t=Zt(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=Zt(e),i=t.parent;return t.scaleX=eo(e.scaleX,i.scaleX),t.scaleY=eo(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var n=Zt(e);return n.scaleX=t,n.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=Zt(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=Zt(e);return t.scaleX},getChildLocalScaleY(e){var t=Zt(e);return t.scaleY}},_O={updateChildVisible(e){var t=Zt(e),i=t.parent,n=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,x=i?i.visible:!0;return e.visible=x&&t.visible&&n,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=Zt(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=Zt(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=Zt(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=Zt(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=Zt(e);return t.visible}},tF={updateChildAlpha(e){var t=Zt(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=Zt(e),i=t.parent;return t.alpha=eo(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=Zt(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=Zt(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=Zt(e);return t.alpha}},eF={updateChildActive(e){var t=Zt(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=Zt(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=Zt(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=Zt(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=Zt(e);return t.active}},iF={updateChildScrollFactor(e){var t=Zt(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},sF={updateCameraFilter(e){var t=Zt(e),i=t.parent;return t.syncCameraFilter&&(e.cameraFilter=i.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},rF={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}},Yh=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})},nF={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),n=0,x=i.length;n<x;n++)i[n].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,n=t.length;i<n;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);Ai(t,!1);for(var i=0,n=t.length;i<n;i++){var x=t[i];e.exists(x)&&e.bringToTop(x)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);Ai(t,!0);for(var i=0,n=t.length;i<n;i++){var x=t[i];e.exists(x)&&e.sendToBack(x)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);Ai(i,!1);for(var n=0,x=i.length;n<x;n++){var S=i[n];if(t.exists(S)){t.moveBelow(e,S);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);Ai(i,!0);for(var n=0,x=i.length;n<x;n++){var S=i[n];if(t.exists(S)){t.moveAbove(e,S);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=Yh(t),t=Ai(t,!1)):t=[e];var i=this.getAllChildren([this]);i=Yh(i),i=Ai(i,!1);for(var n=i[i.length-1],x=0,S=t.length;x<S;x++){var M=t[x];n!==M&&(M!==this&&n.displayList!==M.displayList||(n.displayList.moveAbove(M,n),n=M))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=Yh(t),t=Ai(t,!1)):t=[e];var i=this.getAllChildren([this]);i=Yh(i),i=Ai(i,!1);for(var n=i[0],x=t.length-1;x>=0;x--){var S=t[x];n!==S&&(S!==this&&n.displayList!==S.displayList||(n.displayList.moveBelow(S,n),n=S))}return this}},nm=function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var n=e.children,x=0,S=n.length;x<S;x++)nm(n[x],t)},Yd=function(e,t){for(var i=[e];i.length>0;){var n=i.shift(),x=t(n);!x&&n.isRexContainerLite&&i.push(...n.children)}};const qr=Phaser.Utils.Array;var aF={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return Yd(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return Yd(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),Yd(t,e),this},dfs(e,t){return t===void 0&&(t=this),nm(t,e),this},contains(e){var t=xi(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],n,x;i.length;){n=i.shift();for(var S=0,M=n.children.length;S<M;S++){if(x=n.children[S],x.name===e)return x;x.isRexContainerLite&&i.push(x)}}return null}else return qr.GetFirst(this.children,"name",e)},getRandom(e,t){return qr.GetRandom(this.children,e,t)},getFirst(e,t,i,n){return qr.GetFirstElement(this.children,e,t,i,n)},getAll(e,t,i,n){return qr.GetAll(this.children,e,t,i,n)},count(e,t,i,n){return qr.CountAllMatching(this.children,e,t,i,n)},swap(e,t){return qr.Swap(this.children,e,t),this},setAll(e,t,i,n){return qr.SetAll(this.children,e,t,i,n),this}},am=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var x=e[i];x.hasOwnProperty("rexContainer")&&t.push(x.rexContainer)}return t},oF=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t].scene;if(n)return n}return null},om=function(e,t,i){if(!i.parent){e.remove();return}var n=i.parent,x=i.self;switch(t){case"x":case"y":n.updateChildPosition(x);break;case"angle":case"rotation":n.updateChildRotation(x);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":n.updateChildScale(x);break;case"alpha":n.updateChildAlpha(x);break;default:n.updateChildPosition(x),n.updateChildRotation(x),n.updateChildScale(x),n.updateChildAlpha(x);break}},hF={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||oF(t);if(i){e.targets=am(t);var n=i.tweens.add(e);return n.on("update",om),n}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=am(t));var i=e.onUpdate;return e.onUpdate=function(n,x){i&&i(n,x),om(n,void 0,x)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}};const lF=Phaser.GameObjects.Container;var uF=function(e){return e instanceof lF},hm=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},lm=function(e){var t=hm(this);t.indexOf(this)===-1&&t.push(this),Ai(t),e.add(t)},um=function(e,t,i){if(this.scene){var n=hm(this);Ai(n,t),e.remove(n),i&&n.forEach(function(x){x.addToDisplayList()})}},dF={addToContainer(e){return uF(e)?(this._setParentContainerFlag=!0,lm.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return Ga(e)?(lm.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,um.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),Ga(this.displayList)?(um.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(Ga(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},fF={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=Zt(e);return i.layer=t,this},removeFromRenderLayer(e){var t=Zt(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}};const dm=Phaser.Geom.Rectangle,cF=Phaser.Geom.Rectangle.Union;var vF=function(e,t){t===void 0?t=new dm:t===!0&&(Hd===void 0&&(Hd=new dm),t=Hd),t.setTo(0,0,0,0);for(var i,n=!0,x=0,S=e.length;x<S;x++)if(i=e[x],!!i.getBounds){var M=ad(i,!0);n?(t.setTo(M.x,M.y,M.width,M.height),n=!1):cF(M,t,t)}return t},Hd,_r=Phaser.Utils.Objects.GetValue,$d=function(e){if(e){var t=e.gameObjects,i=e.renderTexture,n=e.saveTexture,x=_r(e,"x",void 0),S=_r(e,"y",void 0),M=_r(e,"width",void 0),L=_r(e,"height",void 0),F=_r(e,"originX",0),G=_r(e,"originY",0),V=_r(e,"padding",0),$,_;if(M===void 0||L===void 0||x===void 0||S===void 0){var q=vF(t,!0),st=x!==void 0&&S!==void 0;st?(M=Math.max(x-q.left,q.right-x)*2,L=Math.max(S-q.top,q.bottom-S)*2,F=.5,G=.5):(x=q.x,S=q.y,M=q.width,L=q.height,F=0,G=0),$=q.x,_=q.y}else $=x+(0-F)*M,_=S+(0-G)*L;$-=V,_-=V,M+=V*2,L+=V*2;var at=t[0].scene,nt=at.sys.textures;return n&&!i&&(i=nt.addDynamicTexture(n,M,L)),i||(i=at.add.renderTexture(0,0,M,L)),i.setPosition&&i.setPosition(x,S),(i.width!==M||i.height!==L)&&i.setSize(M,L),i.setOrigin&&i.setOrigin(F,G),i.camera.setScroll($,_),t=Ai(Xi(t)),i.draw(t),n&&(ci(i)?i.saveTexture(n):i.key!==n&&nt.renameTexture(i.key,key)),i}},pF={snapshot(e){var t=this.scaleX,i=this.scaleY,n=t===1&&i===1;n||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var x=$d(e),S=!!x.scene;return n||(this.setScale(t,i),S&&x.setScale(t,i)),S?x:this}};const fm=Phaser.Utils.Objects.GetValue;var gF=function(e,t){var i=fm(t,"drawContainer",!0),n=fm(t,"children");return n===void 0&&(n=this.getAllVisibleChildren([this])),i||(n=n.filter(function(x){return!x.isRexContainerLite})),fg(n,e,t),this};const mF=Phaser.Math.RotateAround;var xF=function(e,t,i){i===void 0&&(i=t);var n={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return mF(n,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+n.x,e.y=e.y+n.y,e},yF=function(e,t){this.syncChildrenEnable=!1,xF(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),n=0,x=i.length;n<x;n++)this.resetChildPositionState(i[n]);return this},cm={changeOrigin:yF,drawBounds:gF};Object.assign(cm,XO,YO,$O,KO,ZO,JO,jO,qO,_O,tF,eF,iF,sF,rF,nF,aF,hF,dF,fF,pF);class yi extends to{constructor(t,i,n,x,S,M){Array.isArray(x)&&(M=x,x=void 0,S=void 0),super(t,i,n,x,S),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,M&&this.add(M)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return xi(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=xi(this);return t?t.setParentContainerFlag:!1}}Object.assign(yi.prototype,cm);var Hh=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function CF(e){return e===void 0&&(e=this),Hh(e)}var SF=function(e){var t=Hh(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},TF=function(e){return e===void 0&&(e=kn(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const Ae=Phaser.Display.Align;var jn={center:Ae.CENTER,left:Ae.LEFT_CENTER,right:Ae.RIGHT_CENTER,top:Ae.TOP_CENTER,bottom:Ae.BOTTOM_CENTER,"left-top":Ae.TOP_LEFT,"top-left":Ae.TOP_LEFT,"left-center":Ae.LEFT_CENTER,"center-left":Ae.LEFT_CENTER,"left-bottom":Ae.BOTTOM_LEFT,"bottom-left":Ae.BOTTOM_LEFT,"center-top":Ae.TOP_CENTER,"top-center":Ae.TOP_CENTER,"center-center":Ae.CENTER,"center-bottom":Ae.BOTTOM_CENTER,"bottom-center":Ae.BOTTOM_CENTER,"right-top":Ae.TOP_RIGHT,"top-right":Ae.TOP_RIGHT,"right-center":Ae.RIGHT_CENTER,"center-right":Ae.RIGHT_CENTER,"right-bottom":Ae.BOTTOM_RIGHT,"bottom-right":Ae.BOTTOM_RIGHT},Kd=new Phaser.GameObjects.Zone({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1);Kd.setOrigin(0);var Fs={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_CENTER:4,CENTER:6,RIGHT_CENTER:8,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},Zd=function(e){var t=re(e);return e.y+t-t*e.originY},Jd=function(e){var t=se(e);return e.x-t*e.originX+t*.5},Qd=function(e,t){var i=re(e);return e.y=t-i+i*e.originY,e},jd=function(e,t){var i=se(e),n=i*e.originX;return e.x=t+n-i*.5,e},PF=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),jd(e,Jd(t)+i),Qd(e,Zd(t)+n),e},qd=function(e){var t=se(e);return e.x-t*e.originX},_d=function(e,t){var i=se(e);return e.x=t+i*e.originX,e},EF=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),_d(e,qd(t)-i),Qd(e,Zd(t)+n),e},tf=function(e){var t=se(e);return e.x+t-t*e.originX},ef=function(e,t){var i=se(e);return e.x=t-i+i*e.originX,e},MF=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),ef(e,tf(t)+i),Qd(e,Zd(t)+n),e},sf=function(e,t){var i=re(e),n=i*e.originY;return e.y=t+n-i*.5,e},wF=function(e,t,i){return jd(e,t),sf(e,i)},rf=function(e){var t=re(e);return e.y-t*e.originY+t*.5},RF=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),wF(e,Jd(t)+i,rf(t)+n),e},AF=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),_d(e,qd(t)-i),sf(e,rf(t)+n),e},LF=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),ef(e,tf(t)+i),sf(e,rf(t)+n),e},nf=function(e){var t=re(e);return e.y-t*e.originY},af=function(e,t){var i=re(e);return e.y=t+i*e.originY,e},bF=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),jd(e,Jd(t)+i),af(e,nf(t)-n),e},OF=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),_d(e,qd(t)-i),af(e,nf(t)-n),e},FF=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),ef(e,tf(t)+i),af(e,nf(t)-n),e},os=[];os[Fs.BOTTOM_CENTER]=PF,os[Fs.BOTTOM_LEFT]=EF,os[Fs.BOTTOM_RIGHT]=MF,os[Fs.CENTER]=RF,os[Fs.LEFT_CENTER]=AF,os[Fs.RIGHT_CENTER]=LF,os[Fs.TOP_CENTER]=bF,os[Fs.TOP_LEFT]=OF,os[Fs.TOP_RIGHT]=FF;var vm=function(e,t,i,n,x){return os[i](e,t,n,x)},io=function(e,t,i,n,x,S){Kd.setPosition(t,i).setSize(n,x),vm(e,Kd,S)};const qn=Phaser.Utils.Objects.GetValue,DF=Phaser.GameObjects.Group,BF=Phaser.GameObjects.Container;var IF=function(e,t){var i=e.scene,n,x,S,M,L;if(typeof t=="number")n=t;else{n=qn(t,"color"),x=qn(t,"lineWidth");var F=qn(t,"name",!1);F&&(S=qn(F,"createTextCallback",GF),M=qn(F,"createTextCallbackScope",void 0),L=qn(F,"align","left-top"),typeof L=="string"&&(L=jn[L]))}if(n===void 0&&(n=16777215),x===void 0&&(x=1),S&&!e.children){e.children=new DF(i),e.once("destroy",function(at,nt){at.children.destroy(!nt),at.children=void 0});var G=e.clear.bind(e);e.clear=function(){G(),e.children.clear(!1,!0)}}var V=this.getAllShownChildren([this]);pm(V,V);for(var $,_,q=0,st=V.length;q<st;q++){if($=V[q],$.getBounds||$.width!==void 0&&$.height!==void 0)tn=ad($,tn);else continue;n!=null&&e.lineStyle(x,n).strokeRectShape(tn),$.name&&S&&(M?_=S.call(M,i):_=S(i),_&&(_.setText($.name),e.children.add(_),io(_,tn.x,tn.y,tn.width,tn.height,L)))}return this},GF=function(e,t,i){return e.add.text(0,0,"")},pm=function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var i=0,n=e.length;i<n;i++){var x=e[i];x instanceof BF&&(t.push(...x.list),pm(x.list,t))}return t},tn=void 0;const $h=Phaser.Utils.Objects.GetValue;var en=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=$h(e,"left",0),t.right=$h(e,"right",0),t.top=$h(e,"top",0),t.bottom=$h(e,"bottom",0)),t};const kF=yi.prototype.add;var so=function(e){return kF.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this},zF={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),so.call(this,e),this.backgroundChildren.push(e);var n=this.getSizerConfig(e);return n.padding=en(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}},Tr=function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=Tr(i)):i=null);else for(i=Tr(e);i&&i.name!==t;)i=Tr(i);return i},NF=function(e){for(var t=Tr(e);t;)e=t,t=Tr(t);return e},_n={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Tr(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),NF(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=Tr(t);i;){if(i===e)return!0;i=Tr(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}};const VF=Phaser.Utils.Array.Remove,UF=yi.prototype.remove,gm=_n.getParentSizer;var ro=function(e,t){for(var i=gm(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=gm(i);return this.isBackground(e)&&VF(this.backgroundChildren,e),UF.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const WF=Phaser.Utils.Array.Remove,XF=_n.getParentSizer;var YF={removeFromParentSizer(){var e=XF(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(WF(this.backgroundChildren,e),ro.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}},mm=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},HF=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},$F=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var i=e.shift(),n=null;if(i.charAt(0)==="#")i=i.substring(1),n=this.getByName(i,t);else if(e.length===0&&t){var x=this.childrenMap;if(x)for(var S=[x],M;S.length;){x=S.shift();for(var L in x)if(M=x[L],L===i){n=M;break}else M&&typeof M=="object"&&M.childrenMap&&S.push(M.childrenMap);if(n)break}}else if(i.indexOf("[")===-1)this.childrenMap&&(n=this.childrenMap[i]);else{var F=i.match(KF);if(F!=null&&this.childrenMap){var G=this.childrenMap[F[1]];G&&(n=G[F[2]])}}return e.length===0?n:n&&n.childrenMap?n.getElement(e):null}};const KF=/(\S+)\[(\d+)\]/i;var ZF=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}},JF={getInnerPadding(e){return oh(this.space,e)},setInnerPadding(e,t){return vr(this.space,e,t),this},getOuterPadding(e){return oh(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return vr(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),oh(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),vr(this.getSizerConfig(e).padding,t,i),this}},of=function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},hf=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},QF=function(e){var t,i,n;for(var x in this.sizerChildren)t=this.sizerChildren[x],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),n=t.resolveWidth(i),n===void 0&&(n=i),t.resolveChildrenWidth(n))},lf=function(e){var t,i,n;for(var x in this.sizerChildren)t=this.sizerChildren[x],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(n=t.resolveWidth(i),n===void 0&&(n=i)):n=i,t.runWidthWrap(n));return this},uf=function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},df=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},jF=function(e){var t,i,n;for(var x in this.sizerChildren)t=this.sizerChildren[x],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),n=t.resolveHeight(i),n===void 0&&(n=i),t.resolveChildrenHeight(n))},ff=function(e){var t,i,n;for(var x in this.sizerChildren)t=this.sizerChildren[x],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(n=t.resolveHeight(i),n===void 0&&(n=i)):n=i,t.runHeightWrap(n));return this},qF=function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;var n=e.minWidth*e.scaleX;t=Math.max(n,i)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=se(e);return t},_F=function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;var n=e.minHeight*e.scaleY;t=Math.max(n,i)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=re(e);return t},tD=function(e,t){return t},eD=function(e,t){return t},iD=function(){return 0},sD=function(){return 0},rD=function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),n=e.length,x=t;x<n;x++)i[x].getAllChildrenSizers(e);return e},nD=function(e){return e===void 0&&(e=[]),e},aD={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,n=0,x=t.length;n<x;n++)i=t[n],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}},no=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,n=e.length;i<n;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},oD=function(){return this.runLayout(),this},hD=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=xm.length;t<i;t++){var n=xm[t];if(n&&e instanceof n)return!1}return!0},xm=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],lD=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=ym.length;t<i;t++){var n=ym[t];if(n&&e instanceof n)return!1}return!0},ym=[Phaser.GameObjects.BitmapText],qe=function(e,t,i){if(!(!e||t===void 0&&i===void 0))if(hD(e)){var n,x;t===void 0?n=e.width:n=t/e.scaleX,i===void 0?x=e.height:x=i/e.scaleY,e.resize?e.resize(n,x):e.setSize(n,x)}else{var S=lD(e);t!==void 0&&(S?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(S?e.displayHeight=i:e.scaleY=i/e.height)}},uD=function(e,t,i){if(this.ignoreLayout)return this;var n=!e;n&&this.preLayout();var x,S;n||e.runChildrenWrapFlag?(x=this.hasWidthWrap(),S=this.hasHeightWrap()):(x=!1,S=!1);var M=dD(this,t,i,x,S);M||console.error("Can't resolve size of ",this);var L=M.width,F=M.height;return qe(this,L,F),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,L,F),n&&this._anchor&&this._anchor.updatePosition(),this},dD=function(e,t,i,n,x){var S=Cm(e,t,n),M=fD(e,i,x);return S===void 0&&(S=Cm(e,t,n)),S!==void 0&&M!==void 0?{width:S,height:M}:!1},Cm=function(e,n,i){var n=e.resolveWidth(n);return n!==void 0&&i&&(e.resolveChildrenWidth(n),e.runWidthWrap(n)),n},fD=function(e,n,i){var n=e.resolveHeight(n);return n!==void 0&&i&&(e.resolveChildrenHeight(n),e.runHeightWrap(n)),n},cD=function(){},vD=function(e,t,i){return this},pD=function(e,t,i,n){qe(i,e,t)};const Kh=Phaser.Utils.Objects.GetValue;class cf extends ye{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,n;t.x!==void 0?(i=null,n=t.x):t.left!==void 0?(i=0,n=t.left):t.right!==void 0?(i=1,n=t.right):t.centerX!==void 0&&(i=.5,n=t.centerX);var x,S;t.y!==void 0?(x=null,S=t.y):t.top!==void 0?(x=0,S=t.top):t.bottom!==void 0?(x=1,S=t.bottom):t.centerY!==void 0&&(x=.5,S=t.centerY);var M,L;n!==void 0&&(n=n.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),M=parseFloat(n[0])/100,L=n[1]===""?0:parseFloat(n[1]));var F,G;S!==void 0&&(S=S.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),F=parseFloat(S[0])/100,G=S[1]===""?0:parseFloat(S[1]));var V=t.width,$,_;V!==void 0&&(V=V.split("%"),$=parseFloat(V[0])/100,_=V[1]===""?0:parseFloat(V[1]));var q=t.height,st,at;q!==void 0&&(q=q.split("%"),st=parseFloat(q[0])/100,at=q[1]===""?0:parseFloat(q[1])),this.setAlign(i,x),this.setPercentage(M,F),this.setOffset(L,G),this.setSizePercentage($,st),this.setSizePadding(_,at);var nt=Kh(t,"onResizeCallback",pD),ut=Kh(t,"onResizeCallbackScope");this.setResizeCallback(nt,ut);var ct=Kh(t,"onUpdateViewportCallback"),dt=Kh(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(ct,dt),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,n=this.anchorWidth,x=this.anchorHeight;if(!(n===void 0&&x===void 0||!t)){var S=this.parent;n===void 0&&(n=S.width),x===void 0&&(x=S.height),i?t.call(i,n,x,S,this):t(n,x,S,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=kn(this.scene,t,this.viewport);var i=this.viewport,n=this.onUpdateViewportCallback,x=this.onUpdateViewportCallbackScope;n&&(x?n.call(x,i,this.parent,this):n(i,this.parent,this))}}var gD=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),n=e.hasOwnProperty("onResizeCallback");return(t||i)&&!n&&(e.onResizeCallback=function(x,S,M){t&&M.setMinWidth(x),i&&M.setMinHeight(S),M.layout()}),this._anchor===void 0?this._anchor=new cf(this,e):this._anchor.resetFromJSON(e),this};const mD=Phaser.Utils.Objects.GetValue,ta=Phaser.Utils.Objects.GetAdvancedValue,Sm=Phaser.Math.Linear;class ao extends Kr{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(mD(t,"mode",0)),this.setScaleRange(ta(t,"start",void 0),ta(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=xD[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=ta(t,"x",this.parent.scaleX),this.startY=ta(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=ta(i,"x",void 0),this.endY=ta(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n),this.hasScaleX&&(t.scaleX=Sm(this.startX,this.endX,n)),this.hasScaleY&&(t.scaleY=Sm(this.startY,this.endY,n))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const xD={stop:0,destroy:1,yoyo:2};var vf=function(e,t,i,n,x){n===void 0&&(n="Cubic");var S,M;switch(i){case 0:case"x":S={x:0},M={x:e.scaleX};break;case 1:case"y":S={y:0},M={y:e.scaleY};break;default:S=0,M=e.scale;break}var L={mode:0,start:S,end:M,duration:t,ease:n};return x===void 0?x=new ao(e,L):x.resetFromJSON(L),x.restart(),x},Tm=function(e,t,i,n,x,S){n===void 0&&(n="Linear"),x instanceof ao&&(S=x,x=void 0),x===void 0&&(x=!0);var M={};switch(M.mode=x?1:0,i){case 0:case"x":M.end={x:0};break;case 1:case"y":M.end={y:0};break;default:M.end=0;break}return M.duration=t,M.ease=n,S===void 0?S=new ao(e,M):S.resetFromJSON(M),S.restart(),S},yD=function(e,t,i,n,x,S,M){i===void 0&&(i=1.2),n===void 0&&(n=0),S===void 0&&(S="Cubic");var L,F;switch(x){case 0:case"x":L={x:e.scaleX},F={x:i};break;case 1:case"y":L={y:e.scaleX},F={y:i};break;default:L=e.scaleX,F=i;break}var G={mode:2,start:L,end:F,duration:t/2,ease:S,repeat:n};return M===void 0?M=new ao(e,G):M.resetFromJSON(G),M.restart(),M};const pf=Phaser.Utils.Objects.IsPlainObject;var Pm={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,i){if(pf(e)){var n=e;e=n.duration,t=n.orientation,i=n.ease}var x=this._scaleBehavior===void 0;return this._scaleBehavior=vf(this,e,t,i,this._scaleBehavior),x&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),Ze(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,i,n){if(pf(e)){var x=e;e=x.duration,t=x.orientation,i=x.ease,n=x.destroy}var S=this._scaleBehavior===void 0;return this._scaleBehavior=Tm(this,e,t,i,n,this._scaleBehavior),S&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,n){return this.scaleDownDestroy(e,t,i,n),Ze(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),Ze(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,i,n,x){if(pf(e)){var S=e;e=S.duration,t=S.peakValue,i=S.repeat,n=S.orientation,x=S.ease}var M=this._scaleBehavior===void 0;return this._scaleBehavior=yD(this,e,t,i,n,x,this._scaleBehavior),M&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,n,x){return this.scaleYoyo(e,t,i,n,x),Ze(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}},Ds={};Object.assign(Ds,Pm),Ds.onInitScale=function(){Pm.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var i=_n.getParentSizer(e);i&&i.resetChildPositionState(e)})};const CD=Phaser.Utils.Objects.GetValue,Em=Phaser.Utils.Objects.GetAdvancedValue,SD=Phaser.Math.Linear;let gf=class extends Kr{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(CD(t,"mode",0)),this.setAlphaRange(Em(t,"start",this.parent.alpha),Em(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=TD[t]),this.mode=t,this}setAlphaRange(t,i){return this.alphaStart=t,this.alphaEnd=i,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),t.alpha=SD(this.alphaStart,this.alphaEnd,n)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const TD={stop:0,destroy:1,yoyo:2},PD=Phaser.Utils.Objects.IsPlainObject;var Zh=function(e,t,i,n){var x,S;PD(i)?(x=i.start,S=i.end):S=i,x===void 0&&(x=0),S===void 0&&(S=1);var M={mode:0,start:x,end:S,duration:t};return n===void 0?n=new gf(e,M):n.resetFromJSON(M),n.restart(),n},Jh=function(e,t,i,n){i instanceof gf&&(n=i,i=void 0),i===void 0&&(i=!0);var x={mode:i?1:0,end:0,duration:t};return n===void 0?n=new gf(e,x):n.resetFromJSON(x),n.restart(),n};const Mm=Phaser.Utils.Objects.IsPlainObject;var wm={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(Mm(e)){var i=e;e=i.duration,t=i.alpha}var n=this._fade===void 0;return this._fade=Zh(this,e,t,this._fade),n&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),Ze(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(Mm(e)){var i=e;e=i.duration,t=i.destroy}var n=this._fade===void 0;return this._fade=Jh(this,e,t,this._fade),n&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),Ze(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),Ze(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}},oo={};Object.assign(oo,wm),oo.onInitFade=function(){wm.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var i=_n.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const ED=Phaser.Utils.Objects.GetValue,ea=Phaser.Utils.Objects.GetAdvancedValue,Rm=Phaser.Math.Linear;class Qh extends Kr{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(ED(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=ea(t,"x",void 0),n=ea(t,"y",void 0);this.setTargetPosition(i,n)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=MD[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var n=t;this.startX=ea(n,"startX",void 0),this.startY=ea(n,"startY",void 0),this.endX=ea(n,"endX",void 0),this.endY=ea(n,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n),this.hasMoveX&&(t.x=Rm(this.startX,this.endX,n)),this.hasMoveY&&(t.y=Rm(this.startY,this.endY,n))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const MD={stop:0,destroy:1,yoyo:2};var jh=function(e,t){if(typeof e=="number")return e;var i=e[0],n=parseFloat(e.substr(2));switch(i){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n}},Am=function(e,t,i,n,x,S,M){S instanceof Qh&&(M=S,S=void 0),S===void 0&&(S=!1);var L={};return L.mode=S?1:0,i!==void 0&&(L.startX=e.x,L.endX=jh(i,e.x)),n!==void 0&&(L.startY=e.y,L.endY=jh(n,e.y)),L.duration=t,L.ease=x===void 0?"Linear":x,M===void 0?M=new Qh(e,L):M.resetFromJSON(L),M.restart(),M},Lm=function(e,t,i,n,x,S,M){S instanceof Qh&&(M=S,S=void 0),S===void 0&&(S=!1);var L={};return L.mode=S?1:0,i!==void 0&&(L.startX=jh(i,e.x),L.endX=e.x),n!==void 0&&(L.startY=jh(n,e.y),L.endY=e.y),L.duration=t,L.ease=x===void 0?"Linear":x,M===void 0?M=new Qh(e,L):M.resetFromJSON(L),M.restart(),M};const bm=Phaser.Utils.Objects.IsPlainObject,Om=Phaser.Math.Distance.Between;var Fm={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,i,n,x){if(bm(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=Om(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,n=S.ease}var M=this._easeMove===void 0;return this._easeMove=Lm(this,e,t,i,n,x,this._easeMove),M&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,n,x){return this.moveFrom(e,t,i,n,x),Ze(this._easeMove)},moveFromDestroy(e,t,i,n){return this.moveFrom(e,t,i,n,!0),this},moveFromDestroyPromise(e,t,i,n){return this.moveFromDestroy(e,t,i,n),Ze(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,i,n,x){if(bm(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=Om(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,n=S.ease}var M=this._easeMove===void 0;return this._easeMove=Am(this,e,t,i,n,x,this._easeMove),M&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,i,n,x){return this.moveTo(e,t,i,n,x),Ze(this._easeMove)},moveToDestroy(e,t,i,n){return this.moveTo(e,t,i,n,!0),this},moveToDestroyPromise(e,t,i,n){return this.moveToDestroy(e,t,i,n,!0),Ze(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}},qh={};Object.assign(qh,Fm),qh.onInitEaseMove=function(){Fm.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var i=_n.getParentSizer(e);i&&i.resetChildPositionState(e)})};const Oi=Phaser.Utils.Objects.GetValue;class mf extends mh{constructor(t,i){super(t,i),this.timer=new Tg,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Oi(t,"timer")),this.setEnable(Oi(t,"enable",!0)),this.setMode(Oi(t,"mode",1)),this.isRunning=Oi(t,"isRunning",!1),this.setMagnitudeMode(Oi(t,"magnitudeMode",1)),this.setAxisMode(Oi(t,"axis",0)),this.setDuration(Oi(t,"duration",500)),this.setMagnitude(Oi(t,"magnitude",10)),this.ox=Oi(t,"ox",void 0),this.oy=Oi(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=wD[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=AD[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=RD[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var n=t;i=Oi(n,"magnitude",void 0),t=Oi(n,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var n=this.parent;if(!n.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=n.x,this.oy=n.y);var x=this.magnitude;this.magnitudeMode===1&&(x*=1-this.timer.t);var S=Math.random()*Math.PI*2,M=this.ox+Math.cos(S)*x,L=this.oy+Math.sin(S)*x;switch(this.axisMode){case 1:n.x=M;break;case 2:n.y=L;break;default:n.x=M,n.y=L;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const wD={effect:0,behavior:1},RD={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},AD={constant:0,decay:1},LD=Phaser.Utils.Objects.IsPlainObject;var bD=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})},OD={shake(e,t,i){if(LD(e)){var n=e;e=n.duration,t=n.magnitude,i=n.magnitudeMode}return this._shake===void 0&&(this._shake=new mf(this,{mode:0,magnitudeMode:1}),bD(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),Ze(this._shake)}};const Dm=Phaser.Utils.Objects.IsPlainObject;class FD extends ye{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new Yi(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,n,x){if(Dm(t)){var S=t;t=S.key,i=S.value,n=S.duration,x=S.ease;var M=S.speed;n===void 0&&M!==void 0&&(n=Math.abs(i-this.parent.data.values[t])/M*1e3)}n===void 0&&(n=1e3),x===void 0&&(x="Linear");var L=this.getEaseTask(t);return L.restart({key:t,to:i,duration:n,ease:x}),this}easeFrom(t,i,n,x){if(Dm(t)){var S=t;t=S.key,i=S.value,n=S.duration,x=S.ease;var M=S.speed;n===void 0&&M!==void 0&&(n=Math.abs(i-this.parent.data.values[t])/M*1e3)}n===void 0&&(n=1e3),x===void 0&&(x="Linear");var L=this.getEaseTask(t);return L.restart({key:t,from:i,duration:n,ease:x}),this}stopEase(t,i){i===void 0&&(i=!0);var n=this.easeTasks[t];return n&&n.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}}var DD=function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})},BD={easeDataTo(e,t,i,n){return this._easeData||(this._easeData=new FD(this),DD(this,this._easeData)),this._easeData.easeTo(e,t,i,n),this},easeDataToPromise(e,t,i,n){return this.easeDataTo(e,t,i,n),Eh(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}},ID=Phaser.Utils.Array.Remove,GD=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,i=0,n=t.length;i<n;i++)t[i].remove();e._delayCallTimers=void 0})},Bm={delayCall(e,t,i){var n=this._delayCallTimers;n===void 0&&GD(this);var x,S=this,M=function(){ID(S._delayCallTimers,x),i?t.call(i):t()};return x=this.scene.time.delayedCall(e,M),this._delayCallTimers.push(x),this}},Pr=function(e){Im(e,!1)},Er=function(e){Im(e,!0)},xf=function(e){if(!e)return!1;var t=Hh(e);return!t.hidden},Im=function(e,t){if(e){var i=Hh(e);i.hidden=t;var n=xi(e);n?n.setChildVisible(e,!t):e.setVisible(!t)}},kD={show(e){return e===void 0&&(e=this),Pr(e),this},hide(e){return e===void 0&&(e=this),Er(e),this},isShow(e){return e===void 0&&(e=this),xf(e)}};const zD=["next","exit","enter"];let Gm=class{constructor(t){var i=Gt(t,"states",void 0);i&&this.addStates(i);var n=Gt(t,"extend",void 0);if(n)for(var x in n)(!this.hasOwnProperty(x)||this[x]===void 0)&&(this[x]=n[x]);var S=Gt(t,"eventEmitter",void 0),M=Gt(t,"EventEmitterClass",void 0);this.setEventEmitter(S,M),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Gt(t,"enable",!0)),this.start(Gt(t,"start",void 0));var i=Gt(t,"init",void 0);return i&&i.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var i="exit_"+this._prevState,n=this[i];n&&n.call(this),this.emit(i,this)}if(this._stateLock=!1,this._state!=null){var x="enter_"+this._state,S=this[x];S&&S.call(this),this.emit(x,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,i=this["next_"+this.state];return i&&(typeof i=="string"?t=i:t=i.call(this)),this.goto(t),this}get stateProperties(){return zD}addState(t,i){typeof t!="string"&&(i=t,t=i.name);for(var n=this.stateProperties,x=0,S=n.length;x<S;x++){var M=n[x],L=i[M];L&&(this[`${M}_${t}`]=L)}return this}addStates(t){if(Array.isArray(t))for(var i=0,n=t.length;i<n;i++)this.addState(t[i]);else for(var x in t)this.addState(x,t[x]);return this}runMethod(t,i,n,x,S,M){var L=this[t+"_"+this.state];if(L){var F=arguments.length;switch(F){case 1:return L.call(this);case 2:return L.call(this,i);case 3:return L.call(this,i,n);case 4:return L.call(this,i,n,x);case 5:return L.call(this,i,n,x,S);case 6:return L.call(this,i,n,x,S,M)}for(var G=new Array(F-1),V=1;V<F;V++)G[V-1]=arguments[V];return L.apply(this,G)}}};Object.assign(Gm.prototype,Vg);var yf=function(e,t,i,n,x){x===void 0&&(x=!1);var S=e._events[t];if(!S)return!1;for(var M=0,L=S.length;M<L;M++){var F=S[M];if(F.fn===i&&F.context===n&&F.once===x)return!0}return!1};const ND=["next","exit","enter","update","preupdate","postupdate"];class Bs extends Gm{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Gt(t,"scene",void 0),this}get stateProperties(){return ND}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return yf(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return yf(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return yf(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let VD=class extends Bs{constructor(t,i){super(i),this.parent=t;var n=i.initState||"IDLE";this.start(n)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var i=t.runTransitionInCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var i=t.runTransitionOutCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var UD=function(e,t,i,n,x){var S=Nn(e),M=S.time.delayedCall(t,function(){S.game.events.once("poststep",function(){i.call(n,x)})});return M},WD={delayCall(e,t,i){return this.delayCallTimer=UD(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},XD={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=a),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=a),this.transitOutCallback=e,this}},YD={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},HD={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}},km={};Object.assign(km,WD,XD,YD,HD);const ia=Phaser.Utils.Objects.GetValue;class _h extends ye{constructor(t,i){super(t,i),this.setTransitInTime(ia(i,"duration.in",200)),this.setTransitOutTime(ia(i,"duration.out",200)),this.setTransitInCallback(ia(i,"transitIn")),this.setTransitOutCallback(ia(i,"transitOut")),this.oneShotMode=ia(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new VD(this,{eventEmitter:!1,initState:ia(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(_h.prototype,km);const $D=Phaser.GameObjects.Rectangle;class Cf extends $D{constructor(t,i,n){super(t,0,0,2,2,i,1),this.fullWindow=new g0(this),this.setAlpha(n)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const Sf=Phaser.Utils.Objects.GetValue;class tl extends ye{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(Sf(t,"hitAreaMode",0)),this.setEnable(Sf(t,"enable",!0)),this.setStopMode(Sf(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,n,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointerup",function(t,i,n,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointermove",function(t,i,n,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointerover",function(t,i,n,x){this.stopAllLevels&&x.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=KD[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var KD={default:0,fullWindow:1};const zm=Phaser.Utils.Objects.GetValue;class Tf extends Cf{constructor(t,i){var n=zm(i,"color",0),x=zm(i,"alpha",.8);super(t,n,x),this.touchEventStop=new tl(this,{hitAreaMode:1})}}var ZD=function(e,t){var i=e.scene,n=new Tf(i,t);return i.add.existing(n),e.isRexContainerLite?(e.pin(n,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(n)):i.children.moveBelow(n,e),n},el={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,vf(e,t)},scaleDown(e,t){Tm(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Zh(e,t)},fadeOut(e,t){Jh(e,t,!1)}},JD=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Zh(e,t,e.alpha)},QD=function(e,t){Jh(e,t,!1)},il=function(e,t,i,n,x){if(!e||n&&!n(e,t,i))return!1;var S=ad(e,!0);return!(!S.contains(t,i)||x&&!x(e,t,i))};const hs=Phaser.Utils.Objects.GetValue;let jD=class extends _h{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=Mr.popUp),i.transitOut==null&&(i.transitOut=Mr.scaleDown),i.destroy=hs(i,"destroy",!0),super(t,i);var n=hs(i,"cover");this.cover=n!==!1?ZD(t,n):void 0,this.cover&&(this.setCoverTransitInCallback(hs(n,"transitIn",JD)),this.setCoverTransitOutCallback(hs(n,"transitOut",QD)));var x=hs(i,"touchOutsideClose",!1),S=hs(i,"duration.hold",-1),M=hs(i,"timeOutClose",S>=0),L=hs(i,"anyTouchClose",!1),F=hs(i,"manualClose",!1);F&&(x=!1,L=!1,M=!1),L&&(x=!1),M?this.setDisplayTime(S):this.setDisplayTime(-1),L?this.once("open",this.anyTouchClose,this):x&&this.once("open",this.touchOutsideClose,this),hs(i,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&il(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),i=this.cover;return i&&this.coverTransitInCallback&&this.coverTransitInCallback(i,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),i=this.cover;return i&&this.coverTransitOutCallback&&this.coverTransitOutCallback(i,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=Mr[t]),t){case Mr.popUp:t=el.popUp;break;case Mr.fadeIn:t=el.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=Mr[t]),t){case Mr.scaleDown:t=el.scaleDown;break;case Mr.fadeOut:t=el.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const Mr={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var Pf=function(e,t){var i=new jD(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(n){e.emit("modal.close",n,i)}),e.on("modal.requestClose",i.requestClose,i),i},qD=function(e,t){var i=Pf(e,t);return new Promise(function(n,x){i.once("close",function(S){n(S)})})},Nm=function(e,t){e.emit("modal.requestClose",t)},$i=function(e){return e&&typeof e=="function"},sl={modal(e,t){return $i(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=Pf(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,n){t.modal(e,i)})},modalClose(e){return Nm(this,e),this}},_D=function(e,t,i,n,x,S){return S===void 0&&(S=!1),t[S?"once":"on"](i,n,x),e.once("destroy",function(){t.off(i,n,x)}),e},Is=function(e,t,i,n,x){$i(t)&&(x=n,n=i,i=t,t=this);var S=this.scene.events;return this.bindEvent(t,S,e,i,n,x),this},t3={bindEvent(e,t,i,n,x,S){return typeof t=="string"&&(S=x,x=n,n=i,i=t,t=e,e=this),_D(e,t,i,n,x,S),this},bindScenePreupdateEvent(e,t,i,n){return Is.call(this,"preupdate",e,t,i,n),this},bindSceneUpdateEvent(e,t,i,n){return Is.call(this,"update",e,t,i,n),this},bindScenePostupdateEvent(e,t,i,n){return Is.call(this,"postupdate",e,t,i,n),this},bindSceneRenderEvent(e,t,i,n){return Is.call(this,"render",e,t,i,n),this},bindScenePauseEvent(e,t,i,n){return Is.call(this,"pause",e,t,i,n),this},bindSceneResumeEvent(e,t,i,n){return Is.call(this,"resume",e,t,i,n),this},bindSceneSleepEvent(e,t,i,n){return Is.call(this,"sleep",e,t,i,n),this},bindSceneWakeEvent(e,t,i,n){return Is.call(this,"wake",e,t,i,n),this},bindSceneShutdownEvent(e,t,i,n){return Is.call(this,"shutdown",e,t,i,n),this}},rl=function(e,t,i){var n=e.camera;return n?(i===void 0?i={}:i===!0&&(i=e3),n===t?(i.x=e.worldX,i.y=e.worldY):n.getWorldPoint(e.x,e.y,i),i):null},e3={},i3=function(e,t,i,n,x){var S=e.scene.sys.cameras.main,M,L=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return L?i(e,t.x,t.y,n,x):(M=rl(t,S,!0),M?i(e,M.x,M.y,n,x):!1);for(var F=e.scene.input.manager,G=F.pointersTotal,V=F.pointers,$=0;$<G;$++)if(t=V[$],L){if(i(e,t.x,t.y,n,x))return!0}else{if(M=rl(t,S,!0),!M)continue;if(i(e,M.x,M.y,n,x))return!0}return!1},ls=function(e,t,i,n){return i3(e,t,il,i,n)},s3=function(e,t){return(ci(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),ls(t,e)},Ki=function(e){return Object.prototype.toString.call(e)==="[object Array]"},sn=function(e,t,i,n,x){return il(e,t,i,r3(n),x)},Vm=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},r3=function(e){return e?function(t,i,n){return Vm(t)?(e(t,i,n),!0):!1}:Vm},Um=function(e,t,i,n,x){if($i(i)||(x=i,i=void 0,n=void 0),x===void 0&&(this.sizerChildren?x=this.sizerChildren:this.isRexContainerLite?x=this.children:x=this.list),Ki(x)){for(var S,M=0,L=x.length;M<L;M++)if(S=x[M],sn(S,e,t,i,n))return S}else{var S;for(var F in x)if(S=x[F],sn(S,e,t,i,n))return S}return null},n3=function(e,t){return t===void 0?t={}:t===!0&&(t=a3),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},a3={},ho=function(e){this.sizerEventsEnable&&(n3(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},lo=function(e,t,i,n,x,S,M,L){M===void 0&&(M=0),L===void 0&&(L=0),io(e,t,i,n,x,S),e.x+=M,e.y+=L,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const o3=Phaser.Display.Align.CENTER;var h3=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,n=this.width*this.scaleX,x=this.height*this.scaleY,S,M,L,F,G,V,$,_=0,q=e.length;_<q;_++)S=e[_],M=S.rexSizer,!M.hidden&&(L=M.padding,ho.call(this,S),F=t+L.left*this.scaleX,G=i+L.top*this.scaleY,V=n-(L.left+L.right)*this.scaleX,$=x-(L.top+L.bottom)*this.scaleY,qe(S,V,$),lo.call(this,S,F,G,V,$,o3,0,0))};const l3=Phaser.Utils.Objects.IsPlainObject;var u3=function(e,t,i){if(l3(e)){var n=e;e=n.sensor,i=n.target,t=n.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var x=typeof e;if(x==="string"){var S=e;if(e=this.getElement(S),!e)return console.error(`Can get element '${S}'`),this}else(e===void 0||x!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(M,L,F){var G=i===void 0?this.getTopmostSizer():i;G.x+=L-e.x,G.y+=F-e.y,G.emit("sizer.drag",M,L,F)},this).on("dragstart",function(M,L,F){var G=i===void 0?this.getTopmostSizer():i;G.emit("sizer.dragstart",M,L,F)},this).on("dragend",function(M,L,F,G){var V=i===void 0?this.getTopmostSizer():i;V.emit("sizer.dragend",M,L,F,G)},this).on("drop",function(M,L){var F=i===void 0?this.getTopmostSizer():i;F.emit("sizer.drop",M,L)}),e.input._rexUIDragSizer=!0),this},Ef={onClick(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new Os(e,n)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}};const uo=Phaser.Utils.Objects.GetValue;class Mf extends ye{constructor(t,i){super(t,i),this._enable=void 0;var n=uo(i,"inputConfig",void 0);n&&t.setInteractive(n),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(uo(t,"enable",!0)),this.setMode(uo(t,"mode",1)),this.setClickInterval(uo(t,"clickInterval",100)),this.setDragThreshold(uo(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=d3[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,n=i.input?pd:ls;return n(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,n,x){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var n=this.lastClickTime;return n!==void 0&&t-n<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}}const d3={press:0,pointerdown:0,release:1,pointerup:1};var f3={onClickOutside(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new Mf(e,n)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class c3 extends Bs{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const wf=Phaser.Utils.Objects.GetValue;class sa extends ye{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new c3,this.parent.setInteractive(wf(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(wf(t,"enable",!0)),this.setCooldown(wf(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,n){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}var v3={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?ls(e):!1},onTouching(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new sa(e,n)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new sa(e,n)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},p3={onOver(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerover",t,i),this):this},onOut(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerout",t,i),this):this}},Wm=function(e,t,i,n){if(e==="parent"){for(var x,S=0,M=t.length;S<M;S++)if(x=t[S],!!sn(x,i,n))return x.pointToChild?x.pointToChild(i,n):Um.call(x,i,n)}else for(var S=0,M=t.length;S<M;S++){var L=t[S];if(sn(L,i,n))return L}return null},Fi=function(e,t,i,n,x,S,M,L){var F;if(S===void 0)F=x;else{var G=i[0];if(!G)return;var V=M.camera,$=x+V.scrollX*(G.scrollFactorX-1),_=S+V.scrollY*(G.scrollFactorY-1);F=Wm(n,i,$,_)}F&&e.emit(t,F,M,L)};const g3=Phaser.Utils.Objects.GetValue;var m3=function(e){var t=g3(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",x3,this))},x3=function(e,t,i,n){var x=this._childrenInteractive;Fi(x.eventEmitter,`${x.eventNamePrefix}down`,x.targetSizers,x.targetMode,e.worldX,e.worldY,e,n)};const y3=Phaser.Utils.Objects.GetValue;var C3=function(e){var t=y3(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",S3,this))},S3=function(e,t,i,n){var x=this._childrenInteractive;Fi(x.eventEmitter,`${x.eventNamePrefix}up`,x.targetSizers,x.targetMode,e.worldX,e.worldY,e,n)};const T3=Phaser.Utils.Objects.GetValue;var P3=function(e){var t=T3(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",Xm,this).on("pointerover",Xm,this).on("pointerout",E3,this))},Xm=function(e,t,i,n){var x=this._childrenInteractive,S=x.targetSizers[0];if(S){var M=e.camera,L=e.worldX+M.scrollX*(S.scrollFactorX-1),F=e.worldY+M.scrollY*(S.scrollFactorY-1),G=Wm(x.targetMode,x.targetSizers,L,F),V=x.lastOverChild;G&&V&&G===V||(x.lastOverChild=G,Fi(x.eventEmitter,`${x.eventNamePrefix}out`,x.targetSizers,x.targetMode,V,void 0,e,n),Fi(x.eventEmitter,`${x.eventNamePrefix}over`,x.targetSizers,x.targetMode,G,void 0,e,n))}},E3=function(e,t){var i=this._childrenInteractive,n=i.lastOverChild;i.lastOverChild=null,Fi(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,n,void 0,e,t)};const M3=Phaser.Utils.Objects.GetValue;var w3=function(e){var t=M3(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new Os(this,t),this._click.on("click",function(n,x,S,M){Fi(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,S.worldX,S.worldY,S,M)},this)}};const Rf=Phaser.Utils.Objects.GetValue;class nl extends mh{constructor(t,i){var n=Nn(t);n===t&&(t=void 0),super(n,i),this.gameObject=t,t&&t.setInteractive(Rf(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(Rf(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(Rf(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=Af,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;n&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=Ym,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=Af,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,n=this.pointer===t;!n&&i||(n&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===Ym&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Af,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=R3,this}isPointerInGameObject(t,i,n){var x=this.lastPointer;return x?ls(t,x,i,n):!1}}const Af=0,Ym=1,R3="IDLE",rn=Phaser.Utils.Objects.GetValue,A3=Phaser.Math.Distance.Between;class al extends nl{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{enter:function(){n.stop(),n.tapsCount=0,n.x=0,n.y=0,n.worldX=0,n.worldY=0,n.lastPointer=void 0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.start(),n.tapsCount=0,n.emit("tappingstart",n,n.gameObject,n.lastPointer)}},RECOGNIZED:{enter:function(){n.start(),n.emit("tap",n,n.gameObject,n.lastPointer),n.emit(`${n.tapsCount}tap`,n,n.gameObject,n.lastPointer)}}},init:function(){this.state=nn},eventEmitter:!1};this.setRecongizedStateObject(new Bs(x))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(rn(t,"time",250)),this.setTapInterval(rn(t,"tapInterval",200)),this.setDragThreshold(rn(t,"threshold",9)),this.setTapOffset(rn(t,"tapOffset",10));var i=rn(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(rn(t,"maxTaps",void 0)),this.setMinTaps(rn(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case nn:this.state=ra;break;case ra:var t=this.lastPointer,i=A3(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=na,this.state=ra);break;case na:this.state=ra;break}}onDragEnd(){this.state===ra&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=na))}onDrag(){this.state!==nn&&this.pointer.getDistance()>this.dragThreshold&&(this.state=nn)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===ra){var n=this.lastPointer;if(n.isDown){var x=t-n.downTime;x>this.holdTime&&(this.state=nn)}else{var S=t-n.upTime;S>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=na:this.state=nn)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===na&&(this.state=nn)}get isTapping(){return this.state===na}get isTapped(){return this.isTapping}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}}const nn="IDLE",ra="BEGIN",na="RECOGNIZED",Hm=Phaser.Utils.Objects.GetValue;class ol extends nl{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{enter:function(){n.x=0,n.y=0,n.worldX=0,n.worldY=0,n.lastPointer=void 0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.start()},exit:function(){n.stop()}},RECOGNIZED:{enter:function(){n.emit("pressstart",n,n.gameObject,n.lastPointer)},exit:function(){n.emit("pressend",n,n.gameObject,n.lastPointer)}}},init:function(){this.state=hl},eventEmitter:!1};this.setRecongizedStateObject(new Bs(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Hm(t,"threshold",9)),this.setHoldTime(Hm(t,"time",251)),this}onDragStart(){this.state=$m,this.holdTime===0&&(this.state=Lf)}onDragEnd(){this.state=hl}onDrag(){this.state!==hl&&this.pointer.getDistance()>this.dragThreshold&&(this.state=hl)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===$m){var n=t-this.pointer.downTime;n>=this.holdTime&&(this.state=Lf)}}get isPressing(){return this.state===Lf}get isPressed(){return this.isPressing}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const hl="IDLE",$m="BEGIN",Lf="RECOGNIZED",L3=Phaser.Utils.Objects.GetValue;class Km extends nl{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{},BEGIN:{enter:function(){var S=n.pointer;n.startX=S.x,n.startY=S.y,n.startWorldX=S.worldX,n.startWorldY=S.worldY}},RECOGNIZED:{enter:function(){n.emit("panstart",n,n.gameObject,n.lastPointer)},exit:function(){var S=n.lastPointer;n.endX=S.x,n.endY=S.y;var M=rl(S,n.pointerCamera,!0);n.endWorldX=M.x,n.endWorldY=M.y,n.emit("panend",n,n.gameObject,n.lastPointer)}}},init:function(){this.state=Zm},eventEmitter:!1};this.setRecongizedStateObject(new Bs(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(L3(t,"threshold",10)),this}onDragStart(){this.state=Jm,this.dragThreshold===0&&(this.state=ll)}onDragEnd(){this.state=Zm}onDrag(){switch(this.state){case Jm:if(this.pointer.getDistance()>=this.dragThreshold){this.state=ll,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var x=this.pointer;this.x=x.x,this.y=x.y,this.worldX=x.worldX,this.worldY=x.worldY}break;case ll:var t=this.pointerCamera,i=this.pointer.position,n=this.pointer.prevPosition;this.dx=i.x-n.x,this.dy=i.y-n.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var x=this.pointer;this.x=x.x,this.y=x.y;var S=rl(x,t,!0);this.worldX=S.x,this.worldY=S.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanning(){return this.state===ll}get isPanned(){return this.isPanning}setDragThreshold(t){return this.dragThreshold=t,this}}const Zm="IDLE",Jm="BEGIN",ll="RECOGNIZED",b3=Phaser.Math.Distance.Between,O3=Phaser.Math.Angle.Between;var F3={getDt:function(){var e=Td(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=b3(t.x,t.y,e.x,e.y),n=i/(this.getDt()*.001);return n},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),n=i/(this.getDt()*.001);return n},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),n=i/(this.getDt()*.001);return n},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=O3(t.x,t.y,e.x,e.y);return i}},D3={"up&down":0,"left&right":1,"4dir":2,"8dir":3},B3=function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=I3),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},I3={};const bf=Phaser.Utils.Objects.GetValue,G3=Phaser.Math.RadToDeg;class fo extends nl{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{enter:function(){n.x=0,n.y=0,n.worldX=0,n.worldY=0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.validDrag=!1}},RECOGNIZED:{enter:function(){n.start(),n.updateDirectionStates(),n.emit("swipe",n,n.gameObject,n.lastPointer)},exit:function(){n.stop(),n.clearDirectionStates()}}},init:function(){this.state=Of},eventEmitter:!1};this.setRecongizedStateObject(new Bs(x)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(bf(t,"threshold",10)),this.setVelocityThreshold(bf(t,"velocityThreshold",1e3)),this.setDirectionMode(bf(t,"dir","8dir")),this}onDragStart(){this.state=Qm}onDragEnd(){this.state=Of}onDrag(){this.state===Qm&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=Ff))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===Ff&&(this.state=Of)}get isSwiping(){return this.state===Ff}get isSwiped(){return this.isSwiping}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=D3[t]),this.dirMode=t,this}updateDirectionStates(){var t=G3(this.getVelocityAngle());return B3(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(fo.prototype,F3);const Of="IDLE",Qm="BEGIN",Ff="RECOGNIZED",ul=Phaser.Utils.Objects.GetValue,k3=Phaser.Utils.Array.SpliceOne,z3=Phaser.Math.Distance.Between,N3=Phaser.Math.Angle.Between;class Df{constructor(t,i){var n=Nn(t);n===t&&(t=void 0);var x=n.input.manager.pointersTotal-1;x<2&&n.input.addPointer(2-x),this.scene=n,this.gameObject=t,t&&t.setInteractive(ul(i,"inputConfig",void 0)),this.setEventEmitter(ul(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(ul(t,"enable",!0)),this.bounds=ul(t,"bounds",void 0),this.tracerState=dl,this.pointers.length=0,pe(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,pe(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var n=this.pointers.indexOf(t);if(n===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case dl:this.tracerState=vo,this.onDrag1Start();break;case vo:this.tracerState=us,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var n=this.pointers.indexOf(t);if(n!==-1)switch(delete this.movedState[t.id],k3(this.pointers,n),this.tracerState){case vo:this.tracerState=dl,this.onDrag1End();break;case us:this.tracerState=vo,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,n=this.pointers.indexOf(t)!==-1;if(!(!n&&i)){if(n&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case vo:this.onDrag1();break;case us:this.onDrag2();break}}}}dragCancel(){return this.tracerState===us&&this.onDrag2End(),this.pointers.length=0,pe(this.movedState),this.tracerState=dl,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==us)return 0;var t=this.pointers[0],i=this.pointers[1];return z3(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==us)return 0;var t=this.pointers[0],i=this.pointers[1];return N3(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,n=t.prevPosition;co.x=i.x-n.x,co.y=i.y-n.y}else co.x=0,co.y=0;return co}get centerX(){if(this.tracerState!==us)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==us)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==us)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==us)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=V3,this}isPointer0InGameObject(t,i,n){var x=this.pointers[0];return x?ls(t,x,i,n):!1}isPointer1InGameObject(t,i,n){var x=this.pointers[1];return x?ls(t,x,i,n):!1}}Object.assign(Df.prototype,Ra);var co={};const dl=0,vo=1,us=2,V3="IDLE",U3=Phaser.Utils.Objects.GetValue;class jm extends Df{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{enter:function(){n.prevDistance=void 0,n.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){n.emit("pinchstart",n)},exit:function(){n.emit("pinchend",n)}}},init:function(){this.state=qm},eventEmitter:!1};this.setRecongizedStateObject(new Bs(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(U3(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=_m,this.dragThreshold===0&&(this.state=fl)}onDrag2End(){this.state=qm}onDrag2(){switch(this.state){case _m:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=fl}break;case fl:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinching(){return this.state===fl}get isPinched(){return this.isPinching}setDragThreshold(t){return this.dragThreshold=t,this}}const qm="IDLE",_m="BEGIN",fl="RECOGNIZED",W3=Phaser.Math.RotateAround;var tx=function(e,t,i,n){return W3(e,t,i,n),e.rotation+=n,e},X3=function(e,t,i,n){return n===void 0?n={}:n===!0&&(n=Y3),i.getWorldPoint(e,t,n),n},Y3={},H3=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,n=this.movementCenterY,x=X3(this.centerX,this.centerY,t,!0),S=x.x,M=x.y,L=this.rotation;if(Array.isArray(e))for(var F=e,G=0,V=F.length;G<V;G++)e=F[G],e.x+=i,e.y+=n,tx(e,S,M,L);else e.x+=i,e.y+=n,tx(e,S,M,L);return this};const $3=Phaser.Utils.Objects.GetValue,Bf=Phaser.Math.Angle.WrapDegrees,ex=Phaser.Math.Angle.ShortestBetween,If=Phaser.Math.RadToDeg,K3=Phaser.Math.DegToRad;class Gf extends Df{constructor(t,i){super(t,i);var n=this,x={states:{IDLE:{enter:function(){n.prevAngle=void 0,n.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){n.emit("rotatestart",n)},exit:function(){n.emit("rotateend",n)}}},init:function(){this.state=ix},eventEmitter:!1};this.setRecongizedStateObject(new Bs(x))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold($3(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=Bf(If(this.angleBetween)),this.state=sx,this.dragThreshold===0&&(this.state=cl)}onDrag2End(){this.state=ix}onDrag2(){switch(this.state){case sx:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=Bf(If(this.angleBetween));this.angle=ex(this.prevAngle,t),this.prevAngle=t,this.state=cl}break;case cl:var t=Bf(If(this.angleBetween));this.angle=ex(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotating(){return this.state===cl}get isRotated(){return this.isRotating}get rotation(){return K3(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var Z3={spinObject:H3};Object.assign(Gf.prototype,Z3);const ix="IDLE",sx="BEGIN",cl="RECOGNIZED",J3=Phaser.Utils.Objects.GetValue;var Q3=function(e){var t=J3(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new al(this,t),this._tap.on("tap",function(n,x,S){Fi(i.eventEmitter,`${i.eventNamePrefix}${n.tapsCount}tap`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n),Fi(i.eventEmitter,`${i.eventNamePrefix}tap`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this)}};const j3=Phaser.Utils.Objects.GetValue;var q3=function(e){var t=j3(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new ol(this,t),this._press.on("pressstart",function(n,x,S){Fi(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this).on("pressend",function(n,x,S){Fi(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this)}};const _3=Phaser.Utils.Objects.GetValue;var tB=function(e){var t=_3(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new fo(this,t),this._swipe.on("swipe",function(n,x,S){var M=n.left?"left":n.right?"right":n.up?"up":"down";Fi(i.eventEmitter,`${i.eventNamePrefix}swipe${M}`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n),Fi(i.eventEmitter,`${i.eventNamePrefix}swipe`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this)}};const po=Phaser.Utils.Objects.GetValue;var vl=function(e,t){return e.setInteractive(),po(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:po(t,"targets",[e]),targetMode:po(t,"targetMode","parent"),eventEmitter:po(t,"eventEmitter",e),eventNamePrefix:po(t,"inputEventPrefix","child.")},m3.call(e,t),C3.call(e,t),P3.call(e,t),w3.call(e,t),Q3.call(e,t),q3.call(e,t),tB.call(e,t),e},eB=function(e){return vl(this,e),this},iB=function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var n=e[t];n.emit.apply(n,arguments)}return this},rx={getSizerConfig:CF,getChildPrevState:SF,pushIntoBounds:TF,drawBounds:IF,resolveWidth:of,hasWidthWrap:hf,resolveChildrenWidth:QF,runWidthWrap:lf,resolveHeight:uf,hasHeightWrap:df,resolveChildrenHeight:jF,runHeightWrap:ff,getChildWidth:qF,getChildHeight:_F,getExpandedChildWidth:tD,getExpandedChildHeight:eD,getChildrenWidth:iD,getChildrenHeight:sD,addChildrenMap:mm,addElement:mm,removeChildrenMap:HF,getElement:$F,getChildIndex:ZF,getAllChildrenSizers:rD,getChildrenSizers:nD,preLayout:no,layout:oD,runLayout:uD,layoutChildren:cD,layoutBackgrounds:h3,postLayout:vD,setAnchor:gD,isInTouching:s3,pointToChild:Um,setDraggable:u3,setChildrenInteractive:eB,broadcastEvent:iB};Object.assign(rx,JF,zF,YF,_n,Ds,oo,qh,OD,BD,Bm,Ef,f3,v3,p3,kD,sl,aD,t3);const Gs=Phaser.Utils.Objects.GetValue;let an=class extends yi{constructor(t,i,n,x,S,M){super(t,i,n,1,1),this.isRexSizer=!0;var L=Gs(M,"origin",.5),F=Gs(M,"originX",L),G=Gs(M,"originY",L);this.setOrigin(F,G),this.setMinSize(x,S),this.setName(Gs(M,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var V=Gs(M,"anchor",void 0);V&&this.setAnchor(V),this.setInnerPadding(Gs(M,"space",0));var $=Gs(M,"draggable",!1);$&&this.setDraggable($),this.setSizerEventsEnable(Gs(M,"sizerEvents",!1)),this.setDirty(!0),Gs(M,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i=this.getAllChildrenSizers([this]),n=0,x=i.length;n<x;n++)i[n].sizerEventsEnable=!1;super.destroy(t),pe(this.backgroundChildren),pe(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,i){return this.setMinWidth(t).setMinHeight(i),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-se(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+se(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+se(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-re(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+re(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+re(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}};Object.assign(an.prototype,rx);var sB=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,n,x,S=!1;for(var M in t)i=t[M],x=this.getChildWidth(i),x===void 0&&(S=!0),!S&&(n=i.rexSizer.padding,x+=(n.left+n.right)*this.scaleX,e=Math.max(x,e));if(!S)return e+(this.space.left+this.space.right)*this.scaleX},rB=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,n,x,S=!1;for(var M in t)i=t[M],x=this.getChildHeight(i),x===void 0&&(S=!0),!S&&(n=i.rexSizer.padding,x+=(n.top+n.bottom)*this.scaleY,e=Math.max(x,e));if(!S)return e+(this.space.top+this.space.bottom)*this.scaleY},nB=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,n=e.rexSizer;if(n.expandWidth){var x=t-(this.space.left+this.space.right)*this.scaleX,S=n.padding;i=x-(S.left+S.right)*this.scaleX}return i},aB=function(e,t){t===void 0&&(t=this.height);var i,n=e.rexSizer;if(n.expandHeight){var x=t-(this.space.top+this.space.bottom)*this.scaleY,S=n.padding;i=x-(S.top+S.bottom)*this.scaleY}return i},oB=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var n in t)i=t[n],i.isRexSizer&&e.push(i);return e},kf=function(e,t,i,n){if(i===void 0)i=0;else{var x=typeof i;x==="boolean"?(n=i,i=0):x==="string"&&(i=hB[i])}n===void 0?n={}:n===!0&&(n=lB);var S=t.width/e.width,M=t.height/e.height,L=i?Math.max(S,M):Math.min(S,M);return n.width=e.width*L,n.height=e.height*L,n};const hB={fit:0,FIT:0,envelop:1,ENVELOP:1};var lB={},zf=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},uB=function(){var e,t,i,n=this.innerLeft,x=this.innerTop,S=this.innerWidth,M=this.innerHeight,L,F,G,V,$,_,q,st,at,nt=this.sizerChildren;for(var ut in nt)e=nt[ut],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,ho.call(this,e),q=this.getExpandedChildWidth(e),st=this.getExpandedChildHeight(e),t.aspectRatio>0&&(Nf.width=t.aspectRatio,Nf.height=1,Vf.width=q,Vf.height=st,at=kf(Nf,Vf,"FIT",!0),q=at.width,st=at.height),e.isRexSizer?(e.runLayout(this,q,st),zf(e,this)):qe(e,q,st),L=n+i.left*this.scaleX,G=S-(i.left+i.right)*this.scaleX,F=x+i.top*this.scaleY,V=M-(i.top+i.bottom)*this.scaleY,q===void 0&&(q=se(e)),st===void 0&&(st=re(e)),$=(t.alignOffsetX+t.alignOffsetOriginX*q)*this.scaleX,_=(t.alignOffsetY+t.alignOffsetOriginY*st)*this.scaleY,lo.call(this,e,L,F,G,V,t.align,$,_))},Nf={},Vf={};const nx=Phaser.Utils.Objects.IsPlainObject,Ci=Phaser.Utils.Objects.GetValue,ax=Phaser.Display.Align.CENTER,dB=Phaser.Utils.String.UUID;var fB=function(e,t,i,n,x,S,M,L,F,G){var V,$;if(so.call(this,e),nx(t)){var q=t;t=Ci(q,"key",void 0),i=Ci(q,"align",ax),n=Ci(q,"padding",0),x=Ci(q,"expand",!0),e.isRexSizer||(S=Ci(q,"minWidth",e._minWidth),M=Ci(q,"minHeight",e._minHeighted)),L=Ci(q,"offsetX",0),F=Ci(q,"offsetY",0),V=Ci(q,"offsetOriginX",0),$=Ci(q,"offsetOriginY",0),G=Ci(q,"aspectRatio",0)}var _=t!==void 0;_||(t=dB()),typeof i=="string"&&(i=jn[i]),i===void 0&&(i=ax),n===void 0&&(n=0),x===void 0&&(x=!0),e.isRexSizer||(S===void 0&&(S=e._minWidth),M===void 0&&(M=e._minHeight)),L===void 0&&(L=0),F===void 0&&(F=0),V===void 0&&(V=0),$===void 0&&($=0),G===void 0?G=0:G===!0&&(G=se(e)/re(e)),G>0&&(x=!0,S===void 0&&(S=0),M===void 0&&(M=0));var q=this.getSizerConfig(e);return q.align=i,q.padding=en(n),nx(x)?(q.expandWidth=Ci(x,"width",!1),q.expandHeight=Ci(x,"height",!1)):(q.expandWidth=x,q.expandHeight=x),e.isRexSizer||(q.expandWidth&&(e.minWidth=S===void 0?se(e):S),q.expandHeight&&(e.minHeight=M===void 0?re(e):M)),q.alignOffsetX=L,q.alignOffsetY=F,q.alignOffsetOriginX=V,q.alignOffsetOriginY=$,q.aspectRatio=G,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,_&&this.addChildrenMap(t,e),this},cB={add:fB};const vB=yi.prototype.clear;var pl=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),vB.call(this,e),t)for(var n,x=0,S=i.length;x<S;x++)n=i[x],n.emit("sizer.remove",n,this),this.emit("remove",n,this);return this},pB={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),ro.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return pl.call(this,e),this}},ox={getChildrenWidth:sB,getChildrenHeight:rB,getExpandedChildWidth:nB,getExpandedChildHeight:aB,getChildrenSizers:oB,layoutChildren:uB};Object.assign(ox,cB,pB);var gl=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null};const hx=Phaser.Utils.Objects.IsPlainObject,aa=Phaser.Utils.Objects.GetValue;class Di extends an{constructor(t,i,n,x,S,M){hx(i)?(M=i,i=aa(M,"x",0),n=aa(M,"y",0),x=aa(M,"width",void 0),S=aa(M,"height",void 0)):hx(x)&&(M=x,x=aa(M,"width",void 0),S=aa(M,"height",void 0)),super(t,i,n,x,S,M),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return gl(this.sizerChildren,t);return null}}Object.assign(Di.prototype,ox);var gB=Phaser.Math.Distance.Between,ml=function(e,t,i){var n=e.width/2;return gB(n,n,t,i)<=n};const mB=Phaser.Math.Angle.Between,xB=Phaser.Math.Angle.Normalize;var lx=function(e,t,i){if(this.enable&&e.isDown){var n=this.sizerChildren.knob;if(ml(n,t,i)){var x=n.width/2,S=n.startAngle,M=mB(x,x,t,i),L=n.anticlockwise?S-M:M-S,F=xB(L)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-F)<.1?this.value=F:this.easeValueTo(F)}}},yB=function(){var e=this.sizerChildren.knob;e.on("pointerdown",lx,this).on("pointermove",lx,this).setInteractive()};const ux=Phaser.Math.Angle.Between,CB=Phaser.Math.Angle.Wrap;var SB=function(e,t,i){if(!(!this.enable||this.panPointer)){var n=this.sizerChildren.knob;ml(n,t,i)&&dx.call(this,e)}},TB=function(e,t,i){if(this.enable&&e.isDown){var n=this.sizerChildren.knob;switch(this.panState){case Uf:ml(n,t,i)&&dx.call(this,e);break;case cx:ml(n,t,i)?EB.call(this):fx.call(this);break}}},PB=function(e,t,i){!this.enable||this.panPointer!==e||fx.call(this)},dx=function(e){this.panPointer=e,this.panState=cx},fx=function(){this.panPointer=void 0,this.panState=Uf},EB=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,n=ux(i.x,i.y,e.x,e.y),x=ux(i.x,i.y,t.x,t.y),S=i.anticlockwise?n-x:x-n,M=CB(S)/(Math.PI*2);this.stopEaseValue(),this.value+=M};const Uf=0,cx=1;var MB=function(){var e=this.sizerChildren.knob;e.on("pointerdown",SB,this).on("pointermove",TB,this).on("pointerup",PB,this).setInteractive(),this.panPointer=void 0,this.panState=Uf},wB=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},vx=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},RB=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(vx.call(this,e)),t.layout&&t.layout()),this},AB={setTextFormatCallback:wB,getFormatText:vx,updateText:RB};const Zi=Phaser.Utils.Objects.GetValue,LB=Phaser.Math.Snap.To;class Wf extends Sr(Di){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var n=Zi(i,"background",void 0),x=Zi(i,"text",void 0);n&&this.addBackground(n),x&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(Zi(i,"textFormatCallback",void 0),Zi(i,"textFormatCallbackScope",void 0)),i.textFormatCallback=void 0,i.textFormatCallbackScope=void 0);var S=new kh(t,i);S.setDepth(Zi(i,"knobDepth",0)),S._value=-1,t.add.existing(S),this.add(S,"knob"),x&&(this.add(x,"text","center",0,!1),t.children.moveBelow(S,x)),this.addChildrenMap("background",n),this.addChildrenMap("knob",S),this.addChildrenMap("text",x),this.setEnable(Zi(i,"enable",void 0)),this.setGap(Zi(i,"gap",void 0)),this.setValue(Zi(i,"value",0),Zi(i,"min",void 0),Zi(i,"max",void 0));var M=Zi(i,"input",0);switch(typeof M=="string"&&(M=bB[M]),M){case 0:MB.call(this);break;case 1:yB.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=LB(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var n=this.value;i!==n&&(this.updateText(),this.eventEmitter.emit("valuechange",n,i,this.eventEmitter))}}const bB={pan:0,drag:0,click:1,none:-1};Object.assign(Wf.prototype,AB),tt.register("knob",function(e){var t=new Wf(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Knob",Wf);const OB={arc:$n,circle:bi,curve:ub,ellipse:db,line:xr,lines:Je,rectangle:Fb,roundRectangle:Bh,triangle:Bb},px=Phaser.Utils.Objects.GetValue,FB=Phaser.Utils.Objects.IsPlainObject,DB=function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()};var BB={createShape(e,t){var i=OB[e],n=new i;return t&&n.setName(t),n},buildShapes(e){var t=px(e,"create",void 0);if(FB(t)){var i=t;for(var n in i){var x=i[n];switch(typeof x){case"number":for(var S=0;S<x;S++)this.addShape(this.createShape(n));break;case"string":this.addShape(this.createShape(n,x));break;default:for(var M=x,S=0,L=M.length;S<L;S++)this.addShape(this.createShape(n,M[S]));break}}}else if(Array.isArray(t))for(var i=t,S=0,L=i.length;S<L;S++){var F=i[S];this.addShape(this.createShape(F.type,F.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(px(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=DB),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}};const go=Phaser.Utils.Objects.GetValue,IB=Phaser.Utils.Objects.IsPlainObject;class xl extends bs{constructor(t,i,n,x,S,M){IB(i)&&(M=i,i=go(M,"x",0),n=go(M,"y",0),x=go(M,"width",2),S=go(M,"height",2)),super(t,i,n,x,S),this.type=go(M,"type","rexCustomShapes"),this.buildShapes(M)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,n,x){return typeof n=="boolean"&&(x=n,n=void 0),gp(this,t,i,n,x)}}Object.assign(xl.prototype,BB),tt.register("customShapes",function(e,t,i,n,x){var S=new xl(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.CustomShapes",xl);const mo=Phaser.Utils.Objects.GetValue,GB=Phaser.Utils.Objects.IsPlainObject;class ds extends Sr(xl){constructor(t,i,n,x,S,M){GB(i)&&(M=i,i=mo(M,"x",0),n=mo(M,"y",0),x=mo(M,"width",2),S=mo(M,"height",2)),M===void 0&&(M={}),M.type||(M.type="rexCustomProgress"),super(t,i,n,x,S,M),this.bootProgressBase(M),this.setValue(mo(M,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}tt.register("customProgress",function(e,t,i,n,x){var S=new ds(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.CustomProgress",ds);var kB=function(e){return this.easeValueTask||(this.easeValueTask=new Yi(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},zB=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},NB=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},VB=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},UB={start:kB,stop:zB,pause:NB,resume:VB};const Ji=Phaser.Utils.Objects.GetValue;class gx extends bs{constructor(t,i){var n=Ji(i,"x",0),x=Ji(i,"y",0),S=Ji(i,"width",64),M=Ji(i,"height",64);super(t,n,x,S,M),this.resetFromConfig(i,!0),this.buildShapes(i),Ji(i,"start",!0)&&this.start()}resetFromConfig(t,i){i===void 0&&(i=!1);var n;return n=i?1e3:this.duration,this.setDuration(Ji(t,"duration",n)),n=i?"Linear":this.ease,this.setEase(Ji(t,"ease",n)),n=i?0:this.delay,this.setDelay(Ji(t,"delay",n)),n=i?0:this.repeatDelay,this.setRepeatDelay(Ji(t,"repeatDelay",n)),n=i?16777215:this.color,this.setColor(Ji(t,"color",n)),n=i?0:this.value,this.setValue(Ji(t,"value",n)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(gx.prototype,UB);const wr=Phaser.Math.DegToRad,WB=Phaser.Math.Linear,XB=Phaser.Math.Easing.Expo.In,YB={right:0,down:1,left:2,up:3};var HB=function(e,t,i,n,x,S,M,L,F,G,V){var $=oa(t,0,n,x,S,M,L,F,G,V);e.startAt($.x,$.y);var _=oa(i,0,n,x,S,M,L,F,G,V);e.lineTo(_.x,_.y);var q=oa(i,i,n,x,S,M,L,F,G,V);e.lineTo(q.x,q.y);var st=oa(0,i,n,x,S,M,L,F,G,V);e.lineTo(st.x,st.y);var at=oa(0,t,n,x,S,M,L,F,G,V);e.lineTo(at.x,at.y);var nt=oa(t,t,n,x,S,M,L,F,G,V);e.lineTo(nt.x,nt.y),e.close()},Xf={},oa=function(e,t,i,n,x,S,M,L,F,G){var V=e*i,$=t*n;return Xf.x=M*V+L*$+x,Xf.y=F*V+G*$+S,Xf},yl={setDirection(e){return typeof e=="string"&&(e=YB[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new Je)},updateShapes(){var e,t,i,n,x,S;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var M=wr(315);i=Math.cos(M),n=Math.sin(M);var L=wr(45);x=Math.cos(L),S=Math.sin(L);break;case 3:e=this.centerX,t=this.centerY+this.radius;var M=wr(135);i=Math.cos(M),n=Math.sin(M);var L=wr(225);x=Math.cos(L),S=Math.sin(L);break;case 2:e=this.centerX+this.radius,t=this.centerY;var M=wr(225);i=Math.cos(M),n=Math.sin(M);var L=wr(315);x=Math.cos(L),S=Math.sin(L);break;default:e=this.centerX-this.radius,t=this.centerY;var M=wr(45);i=Math.cos(M),n=Math.sin(M);var L=wr(135);x=Math.cos(L),S=Math.sin(L);break}for(var F=this.radius/7,G=this.getShapes(),V=0,$=G.length;V<$;V++){var _=G[V],q=(this.value+($-V)*.1)%1;q=XB(ue(q));var st=WB(.25,1,q);_.fillStyle(this.color,st);var at=V*3+1,nt=at+2;HB(_,at,nt,F,F,e,t,i,n,x,S)}}};const $B=Phaser.Math.Linear;var KB={buildShapes(){for(var e=0;e<4;e++)this.addShape(new xr);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,x=t+i,S=i*2,M=this.getShapes(),L=M.length,F=i*2/L,G=F*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var V=0;V<L;V++){var $=M[V],_=this.prevValue===void 0?Math.random():$.getData("to");$.setData("from",_).setData("to",Math.random())}this.prevValue=this.value;for(var V=0;V<L;V++){var $=M[V],_=$.getData("from"),q=$.getData("to"),st=$B(_,q,this.value),at=st*S,nt=n+F*(V+.5);$.lineStyle(G,this.color,1).setP0(nt,x).setP1(nt,x-at)}}};const ZB=Phaser.Math.Linear;var JB={buildShapes(){for(var e=0;e<3;e++)this.addShape(new bi)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=i*.1,x=Math.ceil(n*.25),S=1-ue(this.value),M=ZB(.3,.9,S)*i,L=this.getShapes(),F=0,G=L.length;F<G;F++){var V=L[F],S=(this.value+F/G)%1,$=Math.PI*2*S;V.lineStyle(x,this.color).setRadius(n).setCenterPosition(e+Math.cos($)*M,t+Math.sin($)*M)}}};const QB=Phaser.Math.Linear,jB=Phaser.Math.Easing.Expo.In;var qB={buildShapes(){for(var e=5,t=0;t<e;t++){var i=new xr;this.addShape(i);var n=ue(t/(e-1))/2;i.setData("offset",n)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,x=i*2,S=this.getShapes(),M=S.length,L=i*2/M,F=L*.7,G=0;G<M;G++){var V=S[G],$=(this.value+V.getData("offset"))%1;$=jB(ue($));var _=QB(.4,1,$)*x,q=n+L*(G+.5);V.lineStyle(F,this.color,1).setP0(q,t-_/2).setP1(q,t+_/2)}}},_B={buildShapes(){this.addShape(new Je().setName("border")),this.addShape(new Je().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*.7,x=e-n,S=t-n,M=n*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(x,S).lineTo(M,0,!0).lineTo(0,M,!0).lineTo(-M,0,!0).lineTo(0,-M,!0).close(),this.value<.5){var L=(.5-this.value)*2,F=M*L;this.getShape("fill").fillStyle(this.color,1).startAt(x,S).lineTo(M,0,!0).lineTo(0,F,!0).lineTo(-M,0,!0).lineTo(0,-F,!0).close()}else{var L=(this.value-.5)*2,G=180*L;this.getShape("border").rotateAround(e,t,G),this.getShape("fill").fillStyle().lineStyle()}}};const mx=Phaser.Math.RadToDeg,xx=Phaser.Math.Angle.WrapDegrees,t5=Phaser.Math.Angle.Wrap,e5=Phaser.Math.Angle.ShortestBetween,i5=Phaser.Math.DegToRad,yx=Phaser.Math.DegToRad(270);var s5={buildShapes(){this.addShape(new bi().setName("border")),this.addShape(new xr().setName("minuteHand")),this.addShape(new xr().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),x=i-n/2,S=i*.8,M=i*.5,L=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var F=xx(mx(L)),G=xx(mx(this.minuteHandAngle)),V=e5(F,G);this.hourHandAngle=t5(this.hourHandAngle+i5(V)/12),this.getShape("border").lineStyle(n,this.color).setRadius(x).setCenterPosition(e,t);var $=this.minuteHandAngle+yx;this.getShape("minuteHand").lineStyle(n,this.color).setP0(e,t).setP1(e+Math.cos($)*S,t+Math.sin($)*S);var $=this.hourHandAngle+yx;this.getShape("hourHand").lineStyle(n,this.color).setP0(e,t).setP1(e+Math.cos($)*M,t+Math.sin($)*M)}};const Cx=Phaser.Math.Linear,r5=Phaser.Math.Easing.Expo.In,Yf=2,Hf=2;var n5={buildShapes(){for(var e=Yf*Hf,t=0;t<e;t++){var i=new xr;this.addShape(i)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,x=t-i,S=i*2/Hf,M=i*2/Yf,L=this.getShapes(),F=L.length,G=0;G<F;G++){var V=G%Hf,$=Math.floor(G/Yf),_=n+S*(V+.5),q=x+M*($+.5),st=L[G],at=(this.value+(F-G)*.1)%1;at=r5(ue(at));var nt=(F-G)/F,ut=Cx(.7,1,at)*M,ct=Cx(.7,1,at)*S;st.lineStyle(ct,this.color,nt).setP0(_-ut/2,q).setP1(_+ut/2,q)}}};const Sx=Phaser.Math.Linear;var a5={buildShapes(){for(var e=3,t=0;t<e;t++){var i=new bi;this.addShape(i);var n=ue(t/(e-1))/2;i.setData("offset",n)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,x=this.getShapes(),S=x.length,M=i*2/S,L=M/2,F=0;F<S;F++){var G=x[F],V=(this.value+G.getData("offset"))%1;V=ue(V);var $=Sx(.25,1,V),_=Sx(.5,1,V)*L;G.fillStyle(this.color,$).setRadius(_).setCenterPosition(n+M*(F+.5),t)}}};const Tx=Phaser.Math.Linear,o5=Phaser.Math.Easing.Expo.In;var h5={buildShapes(){for(var e=0;e<3;e++){var t=new xr;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,x=this.getShapes(),S=x.length,M=i*2/S,L=i*2,F=0;F<S;F++){var G=x[F],V=(this.value+(S-F)*.1)%1;V=o5(ue(V));var $=(F+1)/S,_=Tx(.7,1,V)*L,q=Tx(.7,1,V)*M,st=n+M*(F+.5);G.lineStyle(q,this.color,$).setP0(st,t-_/2).setP1(st,t+_/2)}}};const l5=Phaser.Math.Linear,$f=3,Kf=3;var u5={buildShapes(){for(var e=$f*Kf,t=0;t<e;t++){var i=new bi;this.addShape(i),i.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=this.isInitialize||this.isSizeChanged,x=e-i,S=t-i,M=i*2/Kf,L=i*2/$f,F=Math.min(M,L)/2*.8,G=this.getShapes(),V=0,$=G.length;V<$;V++){var _=V%Kf,q=Math.floor(V/$f),st=x+M*(_+.5),at=S+L*(q+.5),nt=G[V],ut=(this.value+nt.getData("offset"))%1;ut=ue(ut),nt.fillStyle(this.color,l5(.25,1,ut)),n&&nt.setRadius(F).setCenterPosition(st,at)}this.isInitialize=!1}},d5={buildShapes(){for(var e=0;e<2;e++)this.addShape(new Je)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),x=i-n,S=x*.6,M=x*.7,L=x*1.2,F=this.getShapes(),G=0,V=F.length;G<V;G++){var $=F[G],_=(this.value+G/V)%1,q=ue(_),st=e,at=t-15*_,nt=x*_,ut=S*_,ct=M*_,dt=L*_;$.lineStyle(n,this.color,q).startAt(st,at).cubicBezierTo(st,at-ut,st-nt,at-ut,st-nt,at).cubicBezierTo(st-nt,at+ut,st,at+ct,st,at+dt).cubicBezierTo(st,at+ct,st+nt,at+ut,st+nt,at).cubicBezierTo(st+nt,at-ut,st,at-ut,st,at).close()}}};const f5=Phaser.Math.Linear;var c5={buildShapes(){for(var e=0;e<12;e++)this.addShape(new xr);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.isInitialize||this.isSizeChanged,n=this.radius,x=n/2,S=Math.ceil(n/20),M=this.getShapes(),L=0,F=M.length;L<F;L++){var G=M[L],V=L/F,$=Math.PI*2*V,_=f5(.25,1,(1-this.value+V)%1);G.lineStyle(S,this.color,_),i&&G.setP0(e+Math.cos($)*x,t+Math.sin($)*x).setP1(e+Math.cos($)*n,t+Math.sin($)*n)}this.isInitialize=!1}},v5={buildShapes(){this.addShape(new bi().setName("track")),this.addShape(new bi().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*.9,x=Math.ceil(n/25),S=i*.1,M=Math.PI*2*this.value;this.getShape("track").lineStyle(x,this.color,.7).setRadius(n).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(S).setCenterPosition(e+Math.cos(M)*n,t+Math.sin(M)*n)}},p5={buildShapes(){this.addShape(new bi().setName("track")),this.addShape(new $n().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),x=i-n/2;this.getShape("track").lineStyle(n,this.color,.5).setRadius(x).setCenterPosition(e,t);var S=this.value*360,M=S+60;this.getShape("arc").lineStyle(n,this.color,1).setRadius(x).setCenterPosition(e,t).setAngle(S,M)}};const g5=Phaser.Math.Linear;var m5={buildShapes(){for(var e=0;e<4;e++){var t=new $n().setPie();this.addShape(t),t.setData("speed",g5(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n;this.prevValue!==void 0&&(n=this.value-this.prevValue,this.prevValue>this.value&&(n+=1));for(var x=this.getShapes(),S=0,M=x.length;S<M;S++){var L=x[S],F=(S+1)/M;if(this.prevValue===void 0){var G=S/M*360,V=G+90;L.fillStyle(this.color,F).setRadius(i).setCenterPosition(e,t).setAngle(G,V).setData("angle",G)}else{var G=L.getData("angle")+L.getData("speed")*n;G=G%360;var V=G+90;L.fillStyle(this.color,F).setRadius(i).setCenterPosition(e,t).setAngle(G,V).setData("angle",G)}}this.prevValue=this.value}},x5={buildShapes(){this.addShape(new bi)},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*this.value,x=Math.ceil(i/25),S=ue(this.value);this.getShapes()[0].lineStyle(x,this.color,S).setRadius(n).setCenterPosition(e,t)}};const y5=Phaser.Math.Linear,C5=Phaser.Math.Easing.Expo.In;var S5={buildShapes(){this.addShape(new bi().setName("center")),this.addShape(new Je().setName("arc0")),this.addShape(new Je().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=this.isInitialize||this.isSizeChanged,x=i*2/6,S=e-i+x,M=t+i-x,L=this.getShapes(),F=0,G=L.length;F<G;F++){var V=L[F],$=(this.value+(G-F)*.1)%1;$=C5(ue($));var _=y5(.25,1,$);switch(V.name){case"center":V.fillStyle(this.color,_),n&&V.setRadius(x).setCenterPosition(S,M);break;case"arc0":if(V.fillStyle(this.color,_),n){var q=x*2,st=x*3;V.startAt(S,M-q).lineTo(S,M-st).setIterations(8).arc(S,M,st,270,360).lineTo(S+q,M).setIterations(6).arc(S,M,q,360,270,!0).close()}break;case"arc1":if(V.fillStyle(this.color,_),n){var q=x*4,st=x*5;V.startAt(S,M-q).lineTo(S,M-st).setIterations(8).arc(S,M,st,270,360).lineTo(S+q,M).setIterations(6).arc(S,M,q,360,270,!0).close()}break}}this.isInitialize=!1}},T5={buildShapes(){for(var e=0;e<2;e++)this.addShape(new bi)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),x=i-n,S=this.getShapes(),M=0,L=S.length;M<L;M++){var F=S[M],G=(this.value+M/L)%1,V=ue(G);F.lineStyle(n,this.color,V).setRadius(G*x).setCenterPosition(e,t)}}},P5={buildShapes(){this.addShape(new $n().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/10),x=i-n,S=this.value*720,M=ue(this.value)*180,L=S-M;this.getShape("arc").lineStyle(n,this.color,1).setRadius(x).setCenterPosition(e,t).setAngle(L+315,S+315)}};Phaser.Utils.Objects.GetValue;const Zf={leftArrow:yl,rightArrow:yl,upArrow:yl,downArrow:yl,audio:KB,ball:JB,bars:qB,box:_B,clock:s5,cube:n5,dots:a5,facebook:h5,grid:u5,hearts:d5,ios:c5,oribit:v5,oval:p5,pie:m5,puff:x5,radio:S5,rings:T5,spinner:P5},Jf=[];for(var E5 in Zf)Jf.push(E5);const Px=Phaser.Utils.Array.GetRandom;var M5={setAnimationMode(e,t){Zf.hasOwnProperty(e)||(e=Px(Jf)),this.animationMode=e;var i=Zf[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":i.setDirection.call(this,"left");break;case"rightArrow":i.setDirection.call(this,"right");break;case"upArrow":i.setDirection.call(this,"up");break;case"downArrow":i.setDirection.call(this,"down");break}return this.clear(),i.buildShapes.call(this),this.updateShapes=i.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=Px(Jf);return this.setAnimationMode(t,e),this}};const w5=Phaser.Utils.Objects.GetValue;class Qf extends gx{constructor(t,i){super(t,i),this.type="rexSpinnerAIO",this.setAnimationMode(w5(i,"animationMode"))}}Object.assign(Qf.prototype,M5),tt.register("aioSpinner",function(e){var t=new Qf(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.AIOSpinner",Qf);var R5={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}},Ex=function(){for(var e=this.scaleMode-1,t=0,i=this.images.length;t<i;t++){var n=this.images[t],x=kf(n,this,e,!0),S=x.width/n.width;this.setChildLocalScale(n,S),n.biasScale=S}},Cl=function(e){this.scaleMode===0?this.resize(e.width,e.height):Ex.call(this)};const Mx=Phaser.Utils.Objects.IsPlainObject,jf=Phaser.Utils.Objects.GetValue,A5=Phaser.Utils.Array.GetRandom;var L5={out:0,in:1},fs=function(e,t,...i){for(var n=0,x=i.length;n<x;n++){var S=i[n];if(S&&S.hasOwnProperty(e))return S[e]}return t},b5={setTransitionDirection(e){return typeof e=="string"&&(e=L5[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),Cl.call(this,this.nextImage),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,Mx(e)){var n=e;e=jf(n,"key",void 0),t=jf(n,"frame",void 0),i=jf(n,"mode"),Array.isArray(i)&&(i=A5(i));var x;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(x=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(fs("duration",this.duration,n,x)).setEaseFunction(fs("ease",this.easeFunction,n,x)).setTransitionDirection(fs("dir",this.dir,n,x));var S=fs("mask",void 0,n,x);S&&this.setMaskGameObject(S),this.setMaskEnable(S===!0);var M=fs("onStart",void 0,n,x),L=fs("onProgress",void 0,n,x),F=fs("onComplete",void 0,n,x);(M!==void 0||L!==void 0||F!==void 0)&&this.setTransitionStartCallback(M,fs("onStartScope",void 0,n,x)).setTransitionProgressCallback(L,fs("onProgressScope",void 0,n,x)).setTransitionCompleteCallback(F,fs("onCompleteScope",void 0,n,x))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),Mx(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new Yi(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};const O5=Phaser.GameObjects.Graphics.prototype.setPosition;var F5=function(e,t){var i=this.parent;return e===void 0&&(e=i.x),t===void 0&&(t=i.y),O5.call(this,e,t),this};const wx=Phaser.Geom.Rectangle,Rx=Phaser.Geom.Circle;var D5=function(e,t,i,n,x,S,M){switch(e){case 1:n=n.left;var L=-t*(x-.5),F=-i*(S-.5),G=Math.min(t,i)/2+n;(M===void 0||!(M instanceof Rx))&&(M=new Rx),M.setTo(L,F,G);break;default:var V=-(t*x)-n.left,$=-(i*S)-n.top,_=t+n.left+n.right,q=i+n.top+n.bottom;(M===void 0||!(M instanceof wx))&&(M=new wx),M.setTo(V,$,_,q);break}return M},Ax=function(e,t,i,n,x){switch(this.geom=D5(this.shapeType,e,t,i,n,x,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},B5=function(e,t,i){var n=this.parent;e===void 0&&(e=n.width),t===void 0&&(t=n.height),i===void 0?i=this.padding:typeof i=="number"&&(i=GetBoundsConfig(i));var x=this.width!==e||this.height!==t,S=this.padding!==i&&!Wa(this.padding,i);return!x&&!S?this:(this.width=e,this.height=t,S&&Xi(i,this.padding),this.originX=n.originX,this.originY=n.originY,Ax.call(this,e,t,i,n.originX,n.originY),this)},I5=function(e,t){t===void 0&&(t=e);var i=this.parent;return e===void 0&&(e=i.originX),t===void 0&&(t=i.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,Ax.call(this,this.width,this.height,this.padding,e,t),this)},G5=function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},k5={setPosition:F5,resize:B5,setOrigin:I5,contains:G5};const z5=Phaser.GameObjects.Graphics;class Sl extends z5{constructor(t,i,n){i===void 0&&(i=0),typeof i=="string"&&(i=N5[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=en(n),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}}const N5={rectangle:0,circle:1};Object.assign(Sl.prototype,k5);var V5={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof Sl)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new Sl(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),n=0,x=i.length;n<x;n++)this.setImageMaskEnable(i[n],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}},U5=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=function(n,x){return`${n}${t}${x}`}:i=function(n,x){return`${e}_${n}${t}${x}`},i},W5=function(e,t,i,n,x,S){i==null&&(i="__BASE"),S||(S=U5(i,S));for(var M=e.sys.textures.get(t),L=typeof i=="object"?i:M.get(i),F=L.width,G=L.height,V,$,_,q=F/n,st=G/x,at=L.cutX,nt=L.cutY,ut=0,ct=0,dt=0;dt<x;dt++){ut=0;for(var mt=0;mt<n;mt++)_=S(mt,dt),V=ut+at,$=ct+nt,M.add(_,0,V,$,q,st),ut+=q;ct+=st}return{getFrameNameCallback:S,cellWidth:q,cellHeight:st,columns:n,rows:x}};const ks=Phaser.Utils.Objects.GetValue,X5=Phaser.GameObjects.Image,Y5=Phaser.Utils.Objects.IsPlainObject,H5=Phaser.Math.RotateAround;var $5=function(e,t,i,n){Y5(t)&&(n=t,t=ks(n,"columns",1),i=ks(n,"rows",1));var x=ks(n,"createImageCallback");if(!x){var S=ks(n,"ImageClass",X5);x=function(Pe,Ve,Ge){return new S(Pe,0,0,Ve,Ge)}}for(var M=ks(n,"originX",.5),L=ks(n,"originY",.5),F=ks(n,"add",!0),G=ks(n,"align",F),V=ks(n,"objectPool",void 0),$=e.scene,_=e.texture,q=e.frame,st=W5($,_,q,t,i),at=st.getFrameNameCallback,nt=e.scaleX,ut=e.scaleY,ct=e.rotation,dt=e.getTopLeft(),mt=dt.x,Tt=dt.y,Pt=[],Rt=st.cellWidth*nt,Dt=st.cellHeight*ut,Ft=0;Ft<i;Ft++)for(var zt=0;zt<t;zt++){var kt,qt=at(zt,Ft);if(V&&V.length>0?kt=V.pop().setTexture(_,qt):kt=x($,_,qt),F&&$.add.existing(kt),G){var _t=mt+Rt*zt,It=Tt+Dt*Ft,de=_t+M*Rt,ge=It+L*Dt;kt.setOrigin(M,L).setPosition(de,ge).setScale(nt,ut).setRotation(ct),H5(kt,mt,Tt,ct)}Pt.push(kt)}return Pt},K5={gridCutImage(e,t,i,n){n===void 0&&(n={}),n.objectPool=this.imagesPool;for(var x=$5(e,t,i,n),S,M=0,L=x.length;M<L;M++)S=x[M],S.setVisible(!0),this.add(S);return this.cellImages=x,this.setChildLocalVisible(e,!1),x},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,n,x=0,S=t.length;x<S;x++)i=t[x],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),n=i.frame.name,i.setTexture(),e.remove(n);return this.imagesPool.push(...t),t.length=0,this}},Lx={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}},bx={};Object.assign(bx,R5,b5,V5,K5,Lx);var Z5=function(e,t,i,n){},J5=function(e,t,i,n){e.setChildLocalAlpha(t,1-n).setChildLocalAlpha(i,n)},Q5=function(e,t,i,n){e.setChildLocalAlpha(t,1)};const Ox=Phaser.Utils.Objects.IsPlainObject,ze=Phaser.Utils.Objects.GetValue,j5=Phaser.Math.Clamp;class Tl extends yi{constructor(t,i,n,x,S,M){Ox(i)?(M=i,i=ze(M,"x",0),n=ze(M,"y",0),x=ze(M,"key",void 0),S=ze(M,"frame",void 0)):Ox(S)&&(M=S,S=void 0);var L=ze(M,"back",void 0),F=ze(M,"front",void 0);L||(L=t.add.image(i,n,x,S)),F||(F=t.add.image(i,n,x,S));var G=ze(M,"width",void 0),V=ze(M,"height",void 0),$=G!==void 0&&V!==void 0?1:0;G===void 0&&(G=F.width),V===void 0&&(V=F.height),super(t,i,n,G,V),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,$=ze(M,"scaleMode",$),typeof $=="string"&&($=q5[$]),this.scaleMode=$,L.setVisible(!1),this.addMultiple([L,F]),this.backImage=L,this.frontImage=F,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var _=ze(M,"onStart",void 0),q=ze(M,"onProgress",void 0),st=ze(M,"onComplete",void 0),at=ze(M,"dir",0);_===void 0&&q===void 0&&st===void 0&&(_=Z5,q=J5,st=Q5,at=0),this.setTransitionStartCallback(_,ze(M,"onStartScope",void 0)).setTransitionProgressCallback(q,ze(M,"onProgressScope",void 0)).setTransitionCompleteCallback(st,ze(M,"onCompleteScope",void 0)).setTransitionDirection(at).setDuration(ze(M,"duration",1e3)).setEaseFunction(ze(M,"ease","Linear"));var nt=ze(M,"mask",void 0);nt&&this.setMaskGameObject(nt),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,Cl.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,i){return this.flipX=t,this.flipY=i,this}get t(){return this._t}set t(t){if(t=j5(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,n=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),qf.call(this,this.onStartCallback,this.onStartCallbackScope,this,i,n,t)),qf.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,i,n,t),t===1){qf.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,i,n,t);var x=n.texture.key,S=n.frame.name;this.frontImage.setTexture(x,S),this.backImage.setTexture(x,S),Cl.call(this,n),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),Cl.call(this,this.frontImage),this}setSize(t,i){return super.setSize(t,i),this.scaleMode&&Ex.call(this),this}}var qf=function(e,t,i,n,x,S){if(e){if(this.scaleMode){var M;n.biasScale>0&&(M=this.getChildLocalScaleX(n),M=M/n.biasScale,this.setChildLocalScale(n,M)),x.biasScale&&(M=this.getChildLocalScaleX(x),M=M/x.biasScale,this.setChildLocalScale(x,M))}if(t?e.call(t,i,n,x,S):e(i,n,x,S),this.scaleMode){var M;n.biasScale>0&&(M=this.getChildLocalScaleX(n),M=M*n.biasScale,this.setChildLocalScale(n,M)),x.biasScale&&(M=this.getChildLocalScaleX(x),M=M*x.biasScale,this.setChildLocalScale(x,M))}}};Object.assign(Tl.prototype,bx);const q5={fit:1,FIT:1,envelop:2,ENVELOP:2};tt.register("transitionImage",function(e,t,i,n,x){var S=new Tl(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.TransitionImage",Tl);const _5="slideLeft",tI="slideRight",eI="slideUp",iI="slideDown",sI="slideAwayLeft",rI="slideAwayRight",nI="slideAwayUp",aI="slideAwayDown",oI="pushLeft",hI="pushRight",lI="pushUp",uI="pushDown",dI="zoomOut",fI="zoomIn",cI="zoomInOut",vI="fade",pI="crossFade",gI="wipeLeft",mI="wipeRight",xI="wipeUp",yI="wipeDown",CI="irisOut",SI="irisIn",TI="irisInOut",PI="pieOut",EI="pieIn",MI="pieInOut",wI="blinds",RI="squares",AI="diamonds",LI="circles",bI="curtain",OI="pixellate",FI="dissolve",DI="revealLeft",BI="revealRight",II="revealUp",GI="revealDown";var kI=function(e){e.addTransitionMode(rI,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.width*x;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(sI,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.width*-x;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(aI,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.height*x;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(nI,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.height*-x;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0)}})},zI=function(e){e.addTransitionMode(tI,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=n.width*(x-1);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(_5,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=n.width*(1-x);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(iI,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=n.height*(x-1);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(eI,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=n.height*(1-x);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(n,0,0)}})},NI=function(e){e.addTransitionMode(hI,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.width*x;t.setChildLocalPosition(i,S,0);var S=n.width*(x-1);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(oI,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.width*-x;t.setChildLocalPosition(i,S,0);var S=n.width*(1-x);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(uI,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.height*x;t.setChildLocalPosition(i,0,S);var S=n.height*(x-1);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(lI,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=i.height*-x;t.setChildLocalPosition(i,0,S);var S=n.height*(1-x);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,x){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}})},VI=function(e){e.addTransitionMode(dI,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=1-x;t.setChildLocalScale(i,S,S)},onComplete:function(t,i,n,x){t.setChildLocalScale(i,1,1)}}).addTransitionMode(fI,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){var S=x;t.setChildLocalScale(n,S,S)},onComplete:function(t,i,n,x){t.setChildLocalScale(n,1,1)}}).addTransitionMode(cI,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,x){n.tint=0},onProgress:function(t,i,n,x){var S;x<.5?(S=1-ue(x),t.setChildLocalScale(i,S,S)):(i.visible&&t.setChildVisible(i,!1),S=1-ue(x),t.setChildLocalScale(n,S,S))},onComplete:function(t,i,n,x){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(n,1,1),t.setChildVisible(n,!0),n.tint=16777215}})},UI=function(e){e.addTransitionMode(vI,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,x){n.tint=0},onProgress:function(t,i,n,x){var S;x<.5?(x=ue(x),S=Math.floor(255*(1-x)),i.tint=(S<<16)+(S<<8)+S):(i.visible&&t.setChildVisible(i,!1),x=ue(x),S=Math.floor(255*(1-x)),n.tint=(S<<16)+(S<<8)+S)},onComplete:function(t,i,n,x){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(n,!0),n.tint=16777215}}).addTransitionMode(pI,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,x){},onProgress:function(t,i,n,x){t.setChildLocalAlpha(i,1-x),t.setChildLocalAlpha(n,x)},onComplete:function(t,i,n,x){t.setChildLocalAlpha(i,1)}})},WI=function(e){var t=new ds(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var i=this.getShape("rect").fillStyle(16777215),n=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*n,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*n,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*n).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*n).setTopLeftPosition(0,0);break}}});return t},XI=function(e){var t=WI(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(mI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(gI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(yI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(xI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}})},YI=function(e){var t=new ds(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},HI=function(e){var t=YI(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(CI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(SI,{ease:"Linear",dir:"in",mask:t,onStart:function(i,n,x,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(TI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){x.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,n,x,S){var M;S<.5?(S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),n.tint=(M<<16)+(M<<8)+M):(n.visible&&i.setChildVisible(n,!1),S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),x.tint=(M<<16)+(M<<8)+M)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(x,!0),x.tint=16777215}})},$I=function(e){var t=new ds(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var i=Math.max(this.width,this.height)*2,n=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-n,90+n).setPie()}});return t},KI=function(e){var t=$I(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(PI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(EI,{ease:"Linear",dir:"in",mask:t,onStart:function(i,n,x,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}}).addTransitionMode(MI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){x.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,n,x,S){var M;S<.5?(S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),n.tint=(M<<16)+(M<<8)+M):(n.visible&&i.setChildVisible(n,!1),S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),x.tint=(M<<16)+(M<<8)+M)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(x,!0),x.tint=16777215}})},ZI=function(e,t){var i=new ds(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var n=this.getShapes(),x=this.width/t,S=0;S<t;S++)n[S].fillStyle(16777215).setSize(x*this.value,this.height).setTopLeftPosition(x*S,0)}});return i},JI=function(e){var t=ZI(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(wI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}})},QI=function(e,t,i){var n=new ds(e,{type:"Graphics",create:{rectangle:t*i},update:function(){for(var x=this.getShapes(),S=this.width/t,M=this.height/i,L=0;L<i;L++)for(var F=0;F<t;F++)x[F*i+L].fillStyle(16777215).setSize(S*this.value,M*this.value).setCenterPosition(S*(F+.5),M*(L+.5))}});return n},jI=function(e){var t=QI(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(RI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}})},qI=function(e,t,i){var n=new ds(e,{type:"Graphics",create:{lines:t*i},update:function(){for(var x=this.getShapes(),S=this.width/(t-1),M=this.height/i,L=M*2,F=S*this.value,G=M*this.value,V=0;V<i;V++)for(var $=0;$<t;$++){var _=$*S,q=V*L+$%2*M;x[$*i+V].fillStyle(16777215).start(_+F,q).lineTo(_,q+G).lineTo(_-F,q).lineTo(_,q-G).lineTo(_+F,q).close()}}});return n},_I=function(e){var t=qI(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(AI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}})},t4=function(e,t,i){var n=new ds(e,{type:"Graphics",create:{circle:t*i},update:function(){for(var x=this.getShapes(),S=this.width/(t-1),M=this.height/i,L=M*2,F=Math.max(S,M)*this.value,G=0;G<i;G++)for(var V=0;V<t;V++){var $=V*S,_=G*L+V%2*M;x[V*i+G].fillStyle(16777215).setCenterPosition($,_).setRadius(F)}}});return n},e4=function(e){var t=t4(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(LI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1)}})},i4=function(e,t){var i=new ds(e,{type:"Graphics",create:{lines:t},update:function(){for(var n=this.getShapes(),x=this.width/t,S=x/2,M=0;M<t;M++){var L=x*M,F=this.height*this.value,G=L+S;n[M].fillStyle(16777215).start(L,0).horizontalLineTo(F).arc(G,F,S,180,0,!0).horizontalLineTo(-F).lineTo(L,0).close()}}});return i},s4=function(e){var t=i4(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(bI,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,x,S){x.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,x,S){var M;S<.5?(S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),n.tint=(M<<16)+(M<<8)+M):(n.visible&&i.setChildVisible(n,!1),S=ue(S),M=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),x.tint=(M<<16)+(M<<8)+M)},onComplete:function(i,n,x,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(x,!0),x.tint=16777215}})},r4=function(e){e.addTransitionMode(OI,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,x){t.setChildVisible(n,!1),i.effect=i.preFX.addPixelate(0),n.effect=n.preFX.addPixelate(0)},onProgress:function(t,i,n,x){if(x<.5){x=ue(x);var S=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(S*x)}else{i.visible&&t.setChildVisible(i,!1),n.visible||t.setChildVisible(n,!0),x=ue(x);var S=Math.min(n.width,n.height)/5;n.effect.amount=Math.ceil(S*x)}},onComplete:function(t,i,n,x){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),n.preFX.remove(n.effect),delete n.effect}})};const n4=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }


vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,a4=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,Qi=Phaser.Utils.Objects.GetValue,o4=Phaser.Math.Clamp;class _f extends a4{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:n4}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(Qi(t,"progress",0)),this.setTransitionTargetTexture(Qi(t,"toTexture","__DEFAULT"),Qi(t,"toFrame",void 0),Qi(t,"resizeMode",1)),this.setNoise(Qi(t,"noiseX",void 0),Qi(t,"noiseY",void 0),Qi(t,"noiseZ",void 0)),this.setFromEdge(Qi(t,"fromEdgeStart",.01),Qi(t,"fromEdgeWidth",.05)),this.setToEdge(Qi(t,"toEdgeStart",.01),Qi(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=o4(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,n){t===void 0&&(t="__DEFAULT");var x=this.game.textures.getFrame(t,i);return x||(x=this.game.textures.getFrame("__DEFAULT")),this.toRatio=x.width/x.height,this.toFrame=x,this.targetTexture=x.glTexture,n!==void 0&&(this.resizeMode=n),this}setResizeMode(t){return typeof t=="string"&&(t=h4[t]),this.resizeMode=t,this}setNoise(t,i,n){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),n===void 0&&(n=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=n,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}}var h4={stretch:0,contain:1,cover:2},l4=function(e,t,i){w(e).renderer.pipelines.addPostPipeline(t,i)},u4=function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var n=e.postPipelines[e.postPipelines.length-1];return n.resetFromJSON(i),i.name&&(n.name=i.name),n};const d4=Phaser.Utils.Array.SpliceOne;var f4=function(e,t,i){for(var n,x,S,n=e.postPipelines,x=n.length-1;x>=0;x--){var S=n[x];S instanceof t&&(S.destroy(),d4(n,x))}e.hasPostPipeline=e.postPipelines.length>0},c4=function(e){l4(e.scene.game,"rexDissolvePostFx",_f),e.addTransitionMode(FI,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,x){i.effect=u4(i,_f)},onProgress:function(t,i,n,x){i.effect.setProgress(x)},onComplete:function(t,i,n,x){f4(i,_f),delete i.effect}})};const Pl=.1,v4=0,p4=0,g4=1,m4=1,Fx=0,Dx=1;var x4=function(e){e.addTransitionMode(BI,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,x){n.effect=n.preFX.addReveal(Pl,v4,Fx)},onProgress:function(t,i,n,x){n.effect.progress=x},onComplete:function(t,i,n,x){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(DI,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,x){n.effect=n.preFX.addReveal(Pl,g4,Fx)},onProgress:function(t,i,n,x){n.effect.progress=x},onComplete:function(t,i,n,x){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(GI,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,x){n.effect=n.preFX.addReveal(Pl,p4,Dx)},onProgress:function(t,i,n,x){n.effect.progress=x},onComplete:function(t,i,n,x){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(II,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,x){n.effect=n.preFX.addReveal(Pl,m4,Dx)},onProgress:function(t,i,n,x){n.effect.progress=x},onComplete:function(t,i,n,x){n.preFX.remove(n.effect),delete n.effect}})};const Bx=[kI,zI,NI,VI,UI,HI,KI,XI,JI,jI,_I,e4,s4,r4,c4,x4];class Ix extends Tl{constructor(t,i,n,x,S,M){super(t,i,n,x,S,M);for(var L=0,F=Bx.length;L<F;L++)Bx[L](this)}}tt.register("transitionImagePack",function(e,t,i,n,x){var S=new Ix(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.TransitionImagePack",Ix);var y4=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=kf(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},Gx={scaleImage:y4};Object.assign(Gx,Lx);var C4=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),qe(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const kx=Phaser.Utils.Objects.IsPlainObject,zs=Phaser.Utils.Objects.GetValue;class El extends yi{constructor(t,i,n,x,S,M){kx(i)?(M=i,i=zs(M,"x",0),n=zs(M,"y",0),x=zs(M,"key",void 0),S=zs(M,"frame",void 0)):kx(S)&&(M=S,S=void 0);var L=zs(M,"image");L?L.setPosition(i,n).setOrigin(.5):(L=t.add.image(i,n,x,S),x===void 0&&L.setVisible(!1)),super(t,i,n,1,1),this.type="rexImageBox";var F=zs(M,"background");F&&this.add(F),this.background=F,this.add(L),this.image=L,this.scaleUp=zs(M,"scaleUp",!1);var G=zs(M,"width",L.width),V=zs(M,"height",L.height);this.resize(G,V)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),C4.call(this),this.scaleImage(),this}setTexture(t,i){var n=this.image;return n.setTexture(t,i),t!==null?(this.setChildVisible(n,!0),this.scaleImage()):this.setChildVisible(n,!1),this}}Object.assign(El.prototype,Gx),tt.register("imageBox",function(e,t,i,n,x){var S=new El(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.ImageBox",El),tt.register("fullWindowRectangle",function(e,t){var i=new Cf(this.scene,e,t);return this.scene.add.existing(i),i}),H(window,"RexPlugins.UI.FullWindowRectangle",Cf),tt.register("fullWindowZone",function(){var e=new yd(this.scene);return this.scene.add.existing(e),e}),H(window,"RexPlugins.UI.FullWindowZone",yd),tt.register("cover",function(e){var t=new Tf(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Cover",Tf);var tc=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this};const zx={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},Nx={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},S4={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},Vx=Phaser.Utils.Objects.GetValue;var Ux=function(e,t,i,n){var x=Vx(n,"preventDefault",!1),S=Vx(n,"preTest");for(let M in i)t.addEventListener(M,function(L){(!S||S(e,M))&&e.emit(i[M],e,L),x&&L.preventDefault()})};const T4=Phaser.GameObjects.DOMElement,Wx=Phaser.Utils.Objects.IsPlainObject,cs=Phaser.Utils.Objects.GetValue;class Ml extends T4{constructor(t,i,n,x,S,M){Wx(i)?(M=i,i=cs(M,"x",0),n=cs(M,"y",0),x=cs(M,"width",0),S=cs(M,"height",0)):Wx(x)&&(M=x,x=cs(M,"width",0),S=cs(M,"height",0)),M===void 0&&(M={});var L,F=cs(M,"inputType",void 0);F===void 0&&(F=cs(M,"type","text")),F==="textarea"?(L=document.createElement("textarea"),L.style.resize="none"):(L=document.createElement("input"),L.type=F),wh(zx,M,L);var G=cs(M,"style",void 0);G=wh(Nx,M,G);var V=L.style;for(var $ in M)if(!($ in zx||$ in Nx)){if($ in V)G[$]=M[$];else if($ in L){if($==="type")continue;L[$]=M[$]}}G["box-sizing"]="border-box",super(t,i,n,L,G),this.type="rexInputText",this.resize(x,S),Ux(this,L,S4),d0(L),cs(M,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var P4={resize:tc};Object.assign(Ml.prototype,P4),tt.register("inputText",function(e){var t=new Ml(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.InputText",Ml);const Xx=Phaser.Utils.Objects.GetValue;var E4=function(e,t){var i=document.createElement("input");i.type="file";var n=Xx(t,"accept",""),x=Xx(t,"multiple",!1);return i.setAttribute("accept",n),x?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},Yx=function(e,t){return e===void 0&&(e=0),new Promise(function(i,n){setTimeout(function(){i(t)},e)})},Hx=function({game:e,fileInput:t,closeDelay:i}){return Eh(w(e).events,"focus").then(function(){return Yx(i)}).then(function(){var n={files:t.files};return Promise.resolve(n)})};const M4=Phaser.Utils.Objects.GetValue,w4=Phaser.DOM.RemoveFromDOM;var $x=function(e,t){var i=M4(t,"closeDelay",200),n=E4(e,t);return n.click(),Hx({game:e,fileInput:n,closeDelay:i}).then(function(x){return w4(n),n.remove(),Promise.resolve(x)})},Kx=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},R4=function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=w(e);var n;return i==="textures"?n=e.textures:n=e.cache[i],n},Zx=function(e,t,i,n,x,S){if(!(x===null||x===!1))if($i(x))x();else{var M=R4(e,i,x);M.exists(n)&&M.remove(n)}var L=e.load;if(S&&L.once(`filecomplete-${i}-${n}`,function(G,V,$){S($)}),$i(t))t();else{var F=window.URL.createObjectURL(t);L[i](n,F)}L.start()},A4=function(e,t,i,n,x){var S=this.scene;return Zx(S,e,t,i,n,x),this},L4=function(e,t,i,n){var x=this.scene;return new Promise(function(S,M){var L=function(F){S(F)};Zx(x,e,t,i,n,L)})},Jx={loadFile:A4,loadFilePromise:L4};const b4=Phaser.GameObjects.DOMElement,Qx=Phaser.Utils.Objects.IsPlainObject,vs=Phaser.Utils.Objects.GetValue;class xo extends b4{constructor(t,i,n,x,S,M){Qx(i)?(M=i,i=vs(M,"x",0),n=vs(M,"y",0),x=vs(M,"width",0),S=vs(M,"height",0)):Qx(x)&&(M=x,x=vs(M,"width",0),S=vs(M,"height",0));var L=document.createElement("input");L.type="file";var F=L.style;F.display="none";var G=document.createElement("label");G.appendChild(L);var V=vs(M,"style",void 0);super(t,i,n,G,V),this.type="rexFileChooser",this.resetFromJSON(M),this.resize(x,S);var $=this;L.onchange=function(){$.emit("change",$)},this.setCloseDelay(vs(M,"closeDelay",200)),L.onclick=function(){Hx({game:t,fileInput:L,closeDelay:$.closeDelay}).then(function(){$.emit("select",$)})}}resetFromJSON(t){return this.setAccept(vs(t,"accept","")),this.setMultiple(vs(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var O4={resize:tc,syncTo:Kx};Object.assign(xo.prototype,O4,Jx),tt.register("fileChooser",function(e){var t=new xo(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.FileChooser",xo);var F4={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},D4={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}},jx={resize:tc,syncTo:Kx};Object.assign(jx,F4,D4,Jx);const B4={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},I4=Phaser.GameObjects.DOMElement,qx=Phaser.Utils.Objects.IsPlainObject,Ns=Phaser.Utils.Objects.GetValue;class ec extends I4{constructor(t,i,n,x,S,M){qx(i)?(M=i,i=Ns(M,"x",0),n=Ns(M,"y",0),x=Ns(M,"width",0),S=Ns(M,"height",0)):qx(x)&&(M=x,x=Ns(M,"width",0),S=Ns(M,"height",0)),M===void 0&&(M={});var L=document.createElement("div"),F=Ns(M,"style",void 0);super(t,i,n,L,F),this.type="rexFileDropZone",this.resize(x,S),this._files=[],this.setDropEnable(Ns(M,"dropEnable",!0));var G=Ns(M,"filters");G&&this.addFilters(G),Ux(this,L,B4,{preventDefault:!0,preTest(V){return V.dropEnable}}),this.on("drop",function(V,$){this._files=$.dataTransfer.files;var _=this._files;if(_&&this.filters)for(var q in this.filters){for(var st=this.filters[q],at=[],nt=0,ut=_.length;nt<ut;nt++){var ct=_[nt];st(ct,_)&&at.push(ct)}at.length>0&&this.emit(`drop.${q}`,at)}},this)}get files(){return this._files}}Object.assign(ec.prototype,jx),tt.register("fileDropZone",function(e){var t=new ec(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.FileDropZone",ec);var G4=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,n,x,S,M,L,F=!1;if(this.childrenProportion,this.orientation===0)for(var G=!0,V=0,$=i.length;V<$;V++)n=i[V],n.hasOwnProperty("rexSizer")&&(x=n.rexSizer,!x.hidden&&(S=x.proportion,S===0||e?(L=this.getChildWidth(n),x.fitRatio>0&&!x.resolved&&(L=void 0),L===void 0&&(S!==0&&!this.hasProportion0Child?L=0:F=!0)):L=0,!F&&(M=n.rexSizer.padding,L+=(M.left+M.right)*this.scaleX,G?G=!1:L+=this.space.item*this.scaleX,t+=L)));else for(var V=0,$=i.length;V<$;V++)n=i[V],n.hasOwnProperty("rexSizer")&&(x=n.rexSizer,!x.hidden&&(L=this.getChildWidth(n),L===void 0&&(F=!0),!F&&(M=x.padding,L+=(M.left+M.right)*this.scaleX,t=Math.max(L,t))));if(!F)return t+(this.space.left+this.space.right)*this.scaleX},k4=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,n,x,S,M,L,F=!1;if(this.childrenProportion,this.orientation===0)for(var G=0,V=i.length;G<V;G++)n=i[G],n.hasOwnProperty("rexSizer")&&(x=n.rexSizer,!x.hidden&&(L=this.getChildHeight(n),L===void 0&&(F=!0),!F&&(M=x.padding,L+=(M.top+M.bottom)*this.scaleY,t=Math.max(L,t))));else for(var $=!0,G=0,V=i.length;G<V;G++)n=i[G],n.hasOwnProperty("rexSizer")&&(x=n.rexSizer,!x.hidden&&(S=x.proportion,S===0||e?(L=this.getChildHeight(n),x.fitRatio>0&&!x.resolved&&(L=void 0),L===void 0&&(S!==0&&!this.hasProportion0Child?L=0:F=!0)):L=0,!F&&(M=x.padding,L+=(M.top+M.bottom)*this.scaleY,$?$=!1:L+=this.space.item*this.scaleY,t+=L)));if(!F)return t+(this.space.top+this.space.bottom)*this.scaleY},z4=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,n=e.rexSizer;if(this.orientation===0)n.proportion>0&&this.proportionLength>0&&(i=n.proportion*this.proportionLength);else if(n.expand){var x=this.space,S=t-(x.left+x.right)*this.scaleX,M=n.padding;i=S-(M.left+M.right)*this.scaleX}return i},N4=function(e,t){t===void 0&&(t=this.height);var i,n=e.rexSizer;if(this.orientation===0){if(n.expand){var x=this.space,S=t-(x.top+x.bottom)*this.scaleY,M=n.padding;i=S-(M.top+M.bottom)*this.scaleY}}else n.proportion>0&&this.proportionLength>0&&(i=n.proportion*this.proportionLength);return i},V4=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,x=t.length;n<x;n++)i=t[n],i.isRexSizer&&e.push(i);return e},U4=function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,n=0,x=i.length;n<x;n++)e=i[n],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(qe(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,no.call(this),this};const W4=Phaser.Math.Wrap;var X4=function(){for(var e=this.sizerChildren,t,i,n,x=this.innerLeft,S=this.innerTop,M=this.innerWidth,L=this.innerHeight,F=x,G=S,V,$,_,q,st,at,nt,ut,ct,dt=this.startChildIndex,mt=0,Tt=e.length;mt<Tt;mt++)dt===0?ct=mt:ct=W4(mt+dt,0,Tt),this.rtl&&(ct=Tt-ct-1),t=e[ct],!t.rexSizer.hidden&&(i=t.rexSizer,n=i.padding,ho.call(this,t),t.isRexSpace?(nt=0,ut=0):(nt=this.getExpandedChildWidth(t),ut=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,nt,ut),zf(t,this)):qe(t,nt,ut),nt===void 0&&(nt=se(t)),ut===void 0&&(ut=re(t)),this.orientation===0?(V=F+n.left*this.scaleX,i.proportion===0||this.proportionLength===0?_=nt:_=i.proportion*this.proportionLength,$=G+n.top*this.scaleY,q=L-(n.top+n.bottom)*this.scaleY):(V=F+n.left*this.scaleX,_=M-(n.left+n.right)*this.scaleX,$=G+n.top*this.scaleY,i.proportion===0||this.proportionLength===0?q=ut:q=i.proportion*this.proportionLength),nt===void 0&&(nt=se(t)),ut===void 0&&(ut=re(t)),st=(i.alignOffsetX+i.alignOffsetOriginX*nt)*this.scaleX,at=(i.alignOffsetY+i.alignOffsetOriginY*ut)*this.scaleY,lo.call(this,t,V,$,_,q,i.align,st,at),this.orientation===0?F+=_+(n.left+n.right)*this.scaleX+this.space.item*this.scaleX:G+=q+(n.top+n.bottom)*this.scaleY+this.space.item*this.scaleY)},Y4=function(t){var t=of.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},H4=function(t){var t=uf.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},$4=function(){return this.hasRatioFitChild&&this.orientation===1?!0:hf.call(this)},_x=function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var n,x,S,M,L=this.sizerChildren,F=0,G=L.length;F<G;F++){var n=L[F],x=n.rexSizer;if(!x.hidden){var V=x.fitRatio;V&&(this.orientation===0?(M=i-(this.getChildOuterPadding(n,"top")+this.getChildOuterPadding(n,"bottom"))*this.scaleY,S=M*V):(S=i-(this.getChildOuterPadding(n,"top")+this.getChildOuterPadding(n,"bottom"))*this.scaleX,M=S/V),qe(n,S,M),n.isRexSizer&&n.setMinSize(S,M),x.resolved=!0)}}}},K4=function(e){this.wrapResult||(this.orientation===1&&_x.call(this,e,void 0),lf.call(this,e))},Z4=function(){return this.hasRatioFitChild&&this.orientation===0?!0:df.call(this)},J4=function(e){this.wrapResult||(this.orientation===0&&_x.call(this,void 0,e),ff.call(this,e))};const Q4=Phaser.GameObjects.Zone;class ic extends Q4{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var j4=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var n=-1,x=1/0,S=0,M=i.length;S<M;S++){var L=i[S],F;this.orientation===0?F=Math.abs(L.left-e):F=Math.abs(L.top-t),x>F&&(x=F,n=S)}var L=i[i.length-1],F;return this.orientation===0?F=Math.abs(L.right-e):F=Math.abs(L.bottom-t),x>F&&(x=F,n=S+1),n};const ty=Phaser.Utils.Objects.IsPlainObject,Si=Phaser.Utils.Objects.GetValue,ey=Phaser.Display.Align.CENTER,q4={min:0,full:-1};var sc=function(e,t,i,n,x,S,M,L,F,G){var V,$,_,q;so.call(this,e);var st=e.isRexSpace,at=typeof t;if(t===null)return this;if(at!=="number"){if(at==="string")t=q4[t];else if(ty(t)){var nt=t;t=Si(nt,"proportion",void 0),i=Si(nt,"align",ey),n=Si(nt,"padding",0),x=Si(nt,"expand",!1),S=Si(nt,"key",void 0),M=Si(nt,"index",void 0),e.isRexSizer||(L=Si(nt,"minWidth",void 0),F=Si(nt,"minHeight",void 0)),G=Si(nt,"fitRatio",0),V=Si(nt,"offsetX",0),$=Si(nt,"offsetY",0),_=Si(nt,"offsetOriginX",0),q=Si(nt,"offsetOriginY",0)}}typeof i=="string"&&(i=jn[i]),t===void 0&&(t=st?1:0),i===void 0&&(i=ey),n===void 0&&(n=0),x===void 0&&(x=!1),L===void 0&&(st?L=0:e.isRexSizer||(L=e._minWidth)),F===void 0&&(st?F=0:e.isRexSizer||(F=e._minHeight)),G===void 0||G===!1?G=0:G===!0&&(G=se(e)/re(e)),V===void 0&&(V=0),$===void 0&&($=0),_===void 0&&(_=0),q===void 0&&(q=0);var nt=this.getSizerConfig(e);return nt.proportion=t,nt.align=i,nt.padding=en(n),nt.expand=x,nt.fitRatio=t===0?G:0,nt.alignOffsetX=V,nt.alignOffsetY=$,nt.alignOffsetOriginX=_,nt.alignOffsetOriginY=q,M===void 0||M>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(M,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=L===void 0?se(e):L:e.minHeight=F===void 0?re(e):F),x&&(this.orientation===0?e.minHeight=F:e.minWidth=L)),S!==void 0&&this.addChildrenMap(S,e),this},_4={add:sc,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),sc.call(this,new ic(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,n,x,S,M,L){return ty(i)&&(i.index=e),sc.call(this,t,i,n,x,S,M,e,L),this},insertAtPosition(e,t,i,n,x,S,M,L,F){var G=j4.call(this,e,t);return G===-1&&(G=void 0),this.insert(G,i,n,x,S,M,L,F),this}};const t9=Phaser.Utils.Array.Remove;var e9={remove(e,t){return this.getParentSizer(e)!==this?this:(t9(this.sizerChildren,e),ro.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,pl.call(this,e),this}},i9={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=jn[t]),this.getSizerConfig(e).align=t,this}},s9={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},r9={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}},n9=function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],n=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?n||this.insertSpace(0):n&&this.remove(i,!0);var x=t.length-1,S=t[x],M=S&&S.isRexSpace;return e==="center"?M||this.insertSpace(x+1):M&&this.remove(S,!0),this},rc={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(i,n){var x=i.getData(e),S=n.getData(e);return t?S-x:x-S}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(i,n){var x=i[e],S=n[e];return t?S-x:x-S}),this}},iy={getChildrenWidth:G4,getChildrenHeight:k4,getExpandedChildWidth:z4,getExpandedChildHeight:N4,getChildrenSizers:V4,preLayout:U4,layoutChildren:X4,resolveWidth:Y4,resolveHeight:H4,hasWidthWrap:$4,runWidthWrap:K4,hasHeightWrap:Z4,runHeightWrap:J4,setChildrenAlignMode:n9};Object.assign(iy,_4,e9,i9,s9,r9,rc);var a9=function(){for(var e=0,t=this.sizerChildren,i,n,x=0,S=t.length;x<S;x++)i=t[x],!i.rexSizer.hidden&&(n=i.rexSizer.proportion,n>0?e+=n:n===0&&(this.hasProportion0Child=!0));return e};const nc=Phaser.Utils.Objects.IsPlainObject,Bi=Phaser.Utils.Objects.GetValue;class jt extends an{constructor(t,i,n,x,S,M,L){nc(i)?(L=i,i=Bi(L,"x",0),n=Bi(L,"y",0),x=Bi(L,"width",void 0),S=Bi(L,"height",void 0),M=Bi(L,"orientation",0)):nc(x)?(L=x,x=Bi(L,"width",void 0),S=Bi(L,"height",void 0),M=Bi(L,"orientation",0)):nc(M)&&(L=M,M=Bi(L,"orientation",0)),M===void 0&&(M=0),super(t,i,n,x,S,L),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(M),this.setItemSpacing(Bi(L,"space.item",0)),this.setStartChildIndex(Bi(L,"startChildIndex",0)),this.setRTL(Bi(L,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Qr(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=a9.call(this)),this._childrenProportion}}Object.assign(jt.prototype,iy);var wl=function(e,t,i){if(e){var n=t==null,x=i==null;return n&&x||(n||(e.displayWidth=t),x||(e.displayHeight=i),n&&(e.scaleX=e.scaleY),x&&(e.scaleY=e.scaleX)),e}},o9=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var n=e.iconSize;n&&(this.setChildDisplaySize(i,n,n),this.iconWidth!==void 0&&this.setIconSize(n)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var x=this.childrenMap.action;if(x){e.action?this.show(x):this.hide(x);var S=e.actionSize;S&&(this.setChildDisplaySize(x,S,S),this.actionWidth!==void 0&&this.setActionSize(S)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},h9={appendText:wp,resetDisplayContent:o9};class ac extends jt{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var n=this.childrenMap.icon;return!n||!n.setTexture?this:(n.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(wl(n,this.iconWidth,this.iconHeight),this.resetChildScaleState(n)),this)}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var n=this.childrenMap.action;return!n||!n.setTexture?this:(n.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(wl(n,this.actionWidth,this.actionHeight),this.resetChildScaleState(n)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&wl(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&wl(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,n){var x=this.childrenMap.iconMask;x&&(x.setPosition(),this.resetChildPositionState(x));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,i,n),this}resize(t,i){super.resize(t,i);var n=this.childrenMap.iconMask;n&&n.resize();var x=this.childrenMap.actionMask;return x&&x.resize(),this}}Object.assign(ac.prototype,h9);var ji=function(e,t,i,n){var x=new Sl(t,i,n);if(e&&!e.isRexSizer){var S=x.createGeometryMask();e.setMask(S),this.once("destroy",function(){e.setMask(),S.destroy()})}return this.pin(x),x};const l9=Phaser.GameObjects.Text;var oc=function(e){return e instanceof l9};const u9=Phaser.GameObjects.BitmapText;var sy=function(e){return e instanceof u9};const _e=0,ti=1,Ti=2;var Rr=function(e){var t;return sy(e)?t=Ti:oc(e)?t=_e:t=ti,t},d9=function(e,t){for(var i=[],n=e.split(`
`),x=t.style,S=x.wordWrapWidth,M=x.hasOwnProperty("wrapMode")?x.wrapMode:3,L=t.context,F=0,G=n.length;F<G;F++)c9(L,n[F],S,M,i);return i},f9=function(e,t){var i;if(t===2)i=e.split("");else{i=[];for(var n=e.split(" "),x,S=0,M=n.length;S<M;S++)x=n[S],S<M-1?Ea(x)?i.push(x+" "):(i.push(...x.split("")),i.push(" ")):x!==""&&(Ea(x)?i.push(x):i.push(...x.split("")))}return i},c9=function(e,t,i,n,x){if(t.length<=100){var S=e.measureText(t).width;if(S<=i)return x.push(t),x}for(var M=f9(t,n),L,F,G=[],V=i,$=0,_=M.length;$<_;$++)L=M[$],F=e.measureText(L).width,V-=F,V<0&&(x.push(G.join("")),G.length=0,V=i-F),G.push(L);return G.length>0&&x.push(G.join("")),x},hc=function(e,t){var i=Rr(e);switch(i){case _e:switch(typeof t=="string"&&(t=rh[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=d9;break;case 1:default:e.style.wordWrapCallback=null;break}break;case ti:typeof t=="string"&&(t=rh[t]||0),e.style.wrapMode=t;break}},v9=function(e){var t=function(i){var n=e.padding,x=i-(n.left+n.right)*e.scaleX,S=e.style;return oc(e)?(S.wordWrapWidth=x,S.maxLines=0):(S.wrapMode===0&&(S.wrapMode=1),S.wrapWidth=x,S.maxLines=0),S.fixedWidth=i,S.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},p9=function(e){var t=function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e};return t},g9=function(e){var t=function(i){return e.setMaxWidth(i),e.minHeight=e.height,e};return t},m9=function(e){return e instanceof Bn},Rl=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=m9(e)?p9(e):sy(e)?g9(e):v9(e),e};const lc=65535;var Al=function(e,t,i){if(t==null)return e;if(t===0)return uc(e,0,i),e;var n=e.text.length;if(n===0)return uc(e,t,i),e;var x=Math.floor(t*1.5/n);i!==void 0&&x>i&&(x=Math.floor(i));for(var S={},M=ny(e,x,t,i,S),L=0;L<=lc&&M!==0;L++){if(x+=M,x<0){x=0;break}M=ny(e,x,t,i,S)}return L===lc&&console.warn(`FontSizeFit: Test count exceeds ${lc}`),e.setFontSize(x),uc(e,t,i),e},ry=function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},ny=function(e,t,i,n,x){var S=ry(e,t,x),M=ry(e,t+1,x),L;if(n!==void 0)if(S.height<=n&&M.height>n)L=0;else{if(S.height>n)return-1;L=Math.floor(n-S.height)}var F;if(S.width<=i&&M.width>i)return 0;if(S.width>i)return-1;var F=Math.floor(i-S.width);return L===void 0?F:Math.min(F,L)},uc=function(e,t,i){var n=e.style;n&&(n.fixedWidth=t,n.parent.width=t,i!==void 0&&(n.fixedHeight=i,n.parent.height=i),n.update(!1))};const dc=Phaser.Utils.Objects.GetValue;var Ll=function(e,t){typeof t=="number"&&(t={minWidth:t});var i=dc(t,"minWidth",0),n=dc(t,"minHeight",0),x=dc(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=n,x?(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(S,M){return Al(e,S,M),e}):(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),Al(e,S,void 0),e},e.resize=function(S,M){return e.width===S&&e.height===M||e.setFixedSize(S,M),e}),e};const te=Phaser.Utils.Objects.GetValue;class Vs extends ac{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexLabel";var n=te(i,"background",void 0),x=te(i,"icon",void 0),S=te(i,"iconMask",void 0),M=te(i,"text",void 0),L=te(i,"action",void 0),F=te(i,"actionMask",void 0),G=te(i,"align",void 0);if(n&&this.addBackground(n),x){var V;this.orientation===0?(M||L)&&(V={right:te(i,"space.icon",0),top:te(i,"space.iconTop",0),bottom:te(i,"space.iconBottom",0),left:te(i,"space.iconLeft",0)}):(M||L)&&(V={bottom:te(i,"space.icon",0),left:te(i,"space.iconLeft",0),right:te(i,"space.iconRight",0),top:te(i,"space.iconTop",0)});var $=te(i,"squareFitIcon",!1)?1:0;if(this.add(x,{proportion:0,padding:V,fitRatio:$}),S&&(S=ji.call(this,x,x,1)),!$){var _=te(i,"iconSize",void 0);this.setIconSize(te(i,"iconWidth",_),te(i,"iconHeight",_))}}if(M){var q=te(i,"wrapText",!1),st=te(i,"adjustTextFontSize",!1);q?(q===!0&&(q="word"),hc(M,q),i.expandTextWidth=!0,Rl(M)):st&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Ll(M,{fitHeight:!0}));var at=te(i,"space.text",0),nt=te(i,"expandTextWidth",!1),ut=te(i,"expandTextHeight",!1),ct,V,dt;this.orientation===0?(ct=nt?1:0,L&&(V={right:at}),dt=ut):(ct=ut?1:0,L&&(V={bottom:at}),dt=nt),this.add(M,{proportion:ct,expand:dt,padding:V})}if(L){var V;this.orientation===0?V={top:te(i,"space.actionTop",0),bottom:te(i,"space.actionBottom",0),right:te(i,"space.actionRight",0)}:V={left:te(i,"space.actionLeft",0),right:te(i,"space.actionRight",0),bottom:te(i,"space.actionBottom",0)};var $=te(i,"squareFitAction",!1)?1:0;if(this.add(L,{proportion:0,padding:V,fitRatio:$}),F&&(F=ji.call(this,L,L,1)),!$){var mt=te(i,"actionSize");this.setActionSize(te(i,"actionWidth",mt),te(i,"actionHeight",mt))}}this.setChildrenAlignMode(G),this.addChildrenMap("background",n),this.addChildrenMap("icon",x),this.addChildrenMap("iconMask",S),this.addChildrenMap("text",M),this.addChildrenMap("action",L),this.addChildrenMap("actionMask",F)}}const Ar=Phaser.Utils.Objects.GetValue;var x9=function(e,t){var i=Ar(t,"canvas"),n=Ar(i,"width",128),x=Ar(i,"height",128),S=new Jr(e,0,0,n,x);e.add.existing(S);var M=Ar(i,"key"),L=Ar(i,"frame"),F=Ar(i,"fill");return F!==void 0?S.fill(F):M!==void 0&&S.loadTexture(M,L),S.setTexture=S.loadTexture.bind(S),S},y9=function(e,t){var i=new El(e,{scaleUp:Ar(t,"scaleUpIcon",!1),background:Ar(t,"iconBackground"),image:x9(e,t)});return e.add.existing(i),i};const C9=Phaser.Utils.Objects.GetValue;var ay=function(e,t){var i=C9(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i};const S9=Phaser.Utils.Objects.GetValue;var T9=function(e,t){var i=ay(e,t);if(i){var n=S9(t,"click"),x=new Os(i,n);return x.on("click",e.open,e),x}};const oy={accept:"image/*",multiple:!1};var hy=function(e,t){if(t.length!==0){var i=e.childrenMap.icon,n=i.image,x=t[0];return n.loadFromFilePromise(x).then(function(){return i.scaleImage(),e.emit("select",x,e),Promise.resolve(x)})}},P9=function(e,t){var i=e.scene,n=new xo(i,oy);return i.add.existing(n),e.pin(n),n.on("change",function(){hy(e,n.files)}),n},E9={async openPromise(){var e=this;return $x(this.scene.game,oy).then(function(t){return hy(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}},M9=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},w9=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},ly={getFileName:M9,saveTexture:w9};Object.assign(ly,E9);const R9=Phaser.Utils.Objects.GetValue;class fc extends Vs{constructor(t,i){var n=y9(t,i);i.icon=n,super(t,i),this.type="rexImageFileInputLabel";var x=this.iconWidth,S=this.iconWidth;x!==void 0&&S!==void 0&&n.resize(x,S),this.clickTarget=ay(this,i),this.clickTarget&&(R9(i,"domButton",!0)?this.fileChooser=P9(this):this.clickBehavior=T9(this,i)),this.addChildrenMap("canvas",n.image),this.addChildrenMap("iconBackground",n.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,i,n){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,i,n)}}Object.assign(fc.prototype,ly),tt.register("imageInputLabel",function(e){var t=new fc(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.ImageInputLabel",fc);let A9=class extends ye{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(ie(t,i))return t[i];var n=t.parent;if(ie(n,i))return n[i]}set(t,i,n){return ie(t,i)?t[i]=n:ie(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const cc=Phaser.Utils.Objects.GetValue;class L9 extends ye{constructor(t,i){super(t,i),this.style=cc(i,"style",this);var n=cc(i,"propertiesMap");this.activeStyle=vc(i,"active",n),this.hoverStyle=vc(i,"hover",n),this.disableStyle=vc(i,"disable",n),this.onModifyStyle=cc(i,"onModifyStyle")}getStyle(t){return Ah(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!Wa(i,t))return this.modifyStyle(t),i}}setActiveState(t){return pc.call(this,"active",t),this}setHoverState(t){return pc.call(this,"hover",t),this}setDisableState(t){return pc.call(this,"disable",t),this}}var vc=function(e,t,i){var n=Rh(e,t);if(i)for(var x in n)i.hasOwnProperty(x)&&(n[i[x]]=n[x],delete n[x]);return n},pc=function(e,t){t===void 0&&(t=!0);var i=`${e}State`,n=`${e}Style`,x=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[x]=this.applyStyle(this[n]):(this.applyStyle(this[x]),this[x]=void 0))},on={addStyleManager(e){return this.styleManager=new L9(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}};const b9=Phaser.GameObjects.Image,yo=Phaser.Utils.Objects.GetValue;class Co extends b9{constructor(t,i){i===void 0&&(i={});var n=yo(i,"x",0),x=yo(i,"y",0),S=yo(i,"key",""),M=yo(i,"frame",void 0);super(t,n,x,S,M),this.type="rexStatesImage";var L=yo(i,"effects",!0);L&&In(this,L),this.style=new A9(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Co.prototype,on),tt.register("statesImage",function(e){var t=new Co(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.StatesImage",Co);class So extends Nr{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=O9,this.addStyleManager(i),delete i.style,delete i.propertiesMap}}const O9={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(So.prototype,on),tt.register("statesRoundRectangle",function(e){var t=new So(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.StatesRoundRectangle",So);let F9=class extends ye{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(ie(t,i))return t[i];var n=t.parent;if(ie(n,i))return n[i]}set(t,i,n){return ie(t,i)?t[i]=n:ie(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}};const D9=Phaser.GameObjects.NineSlice,qi=Phaser.Utils.Objects.GetValue;class To extends D9{constructor(t,i){i===void 0&&(i={});var n=qi(i,"x",0),x=qi(i,"y",0),S=qi(i,"key",null),M=qi(i,"frame",null),L=qi(i,"width",0),F=qi(i,"height",0),G=qi(i,"leftWidth",0),V=qi(i,"rightWidth",0),$=qi(i,"topHeight",0),_=qi(i,"bottomHeight",0);super(t,n,x,S,M,L,F,G,V,$,_),this.type="rexStatesNineSlice";var q=qi(i,"effects",!0);q&&In(this,q),this.style=new F9(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(To.prototype,on),tt.register("statesNineSlice",function(e){var t=new To(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.StatesNineSlice",To);let B9=class extends ye{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(ie(t,i))return t[i];var n=t.parent;if(ie(n,i))return n[i]}set(t,i,n){return ie(t,i)?t[i]=n:ie(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}};const I9=Phaser.Utils.Objects.GetValue;class Po extends k{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesNinePatch";var n=I9(i,"effects",!0);n&&In(this,n),this.style=new B9(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Po.prototype,on),tt.register("statesNinePatch",function(e){var t=new Po(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.StatesNinePatch",Po);const G9=Phaser.GameObjects.Text,gc=Phaser.Utils.Objects.GetValue;class bl extends G9{constructor(t,i){i===void 0&&(i={});var n=gc(i,"x",0),x=gc(i,"y",0),S=gc(i,"text","");super(t,n,x,S,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(M,L){var F=L.hasOwnProperty("fontStyle")||L.hasOwnProperty("fontSize")||L.hasOwnProperty("fontFamily");M.style.update(F)},this.addStyleManager(i),delete i.style}}Object.assign(bl.prototype,on),tt.register("statesText",function(e){var t=new bl(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.StatesText",bl);class k9 extends ye{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(ie(t,i))return t[i];var n=t.parent;if(ie(n,i))return n[i]}set(t,i,n){return ie(t,i)?t[i]=n:ie(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const z9=Phaser.GameObjects.BitmapText,hn=Phaser.Utils.Objects.GetValue;class Ol extends z9{constructor(t,i){i===void 0&&(i={});var n=hn(i,"x",0),x=hn(i,"y",0),S=hn(i,"font",""),M=hn(i,"fontSize",!1),L=hn(i,"align",0),F=hn(i,"tint");super(t,n,x,S,"",M,L),this.type="rexStatesBitmapText",F!==void 0&&this.setTint(F);var G=hn(i,"effects",!0);G&&In(this,G),this.style=new k9(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Ol.prototype,on),tt.register("statesBitmapText",function(e){var t=new Ol(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.StatesBitmapText",Ol);class Fl extends zh{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("value")||(i.value=0),i.hasOwnProperty("hover.bar")||(i["hover.bar"]=!0),i.hasOwnProperty("easeDuration")||(i.easeDuration=200),i.hasOwnProperty("ease")||(i.ease="Quad"),H(i,"easeValue.duration",i.easeDuration),H(i,"easeValue.ease",i.ease),super(t,i),this.type="rexStatesBarRectangleShape",this.barState=!1,i.style=this,i.propertiesMap=N9,this.addStyleManager(i),delete i.style,delete i.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}}const N9={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(Fl.prototype,on),tt.register("statesBarRectangle",function(e){var t=new Fl(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.StatesBarRectangle",Fl);var V9=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,U9(this,e)),this},U9=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var n=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(n=!0,i.animation={});var x=i.animation;n&&(x.duration=0);var S=x.onProgress;x.onProgress=function(L){S&&S(L),e.needRedraw()};var M=x.onComplete;return x.onComplete=function(L){M&&M(L),e.needRedraw()},t},W9=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,n=0,x=t.length;n<x;n++)if(i=t[n],i.label===e)return i}else return this.chart.data.datasets[e]},X9=function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var n=this.chart.data.labels;if(t=n.indexOf(t),t===-1)return}return i.data[t]}},Y9=function(e,t,i){if(this.chart===void 0)return this;var n=this.getChartDataset(e);if(typeof t=="string"){var x=this.chart.data.labels;if(t=x.indexOf(t),t===-1)return this}return n.data[t]=i,this},H9=function(){return this.chart===void 0?this:(this.chart.update(),this)};let mc=class extends Jr{constructor(t,i,n,x,S,M){super(t,i,n,x,S),this.type="rexChart",this.chart=void 0,M!==void 0&&this.setChart(M)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,i){if(t===this.width&&i===this.height)return this;if(super.resize(t,i),this.chart){var n=this.chart;n.height=this.canvas.height,n.width=this.canvas.width,n.aspectRatio=n.height?n.width/n.height:null,n.update()}return this}};var $9={setChart:V9,getChartDataset:W9,getChartData:X9,setChartData:Y9,updateChart:H9};Object.assign(mc.prototype,$9),tt.register("chart",function(e,t,i,n,x){var S=new mc(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.Chart",mc),tt.register("container",function(e,t,i,n,x){var S=new yi(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.Container",yi),tt.register("sizer",function(e,t,i,n,x,S){var M=new jt(this.scene,e,t,i,n,x,S);return this.scene.add.existing(M),M}),H(window,"RexPlugins.UI.Sizer",jt);var uy=function(){return Array.prototype.reduce.call(arguments,K9,0)},K9=function(e,t){return e+t},Z9=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,n=this.sizerChildren,x,S,M,L,F=!1;this.totalColumnProportions;for(var G=0;G<this.columnCount;G++){if(L=this.columnProportions[G],i=0,L===0||e){for(var V=0;V<this.rowCount;V++)x=n[V*this.columnCount+G],x&&(x.rexSizer.hidden||(M=this.getChildWidth(x),M===void 0&&(L!==0&&!this.hasColumnProportion0Child?M=0:F=!0),!F&&(S=x.rexSizer.padding,M+=(S.left+S.right)*this.scaleX,i=Math.max(i,M))));F||(t+=i)}F||e&&(this.columnWidth[G]=i)}if(!F){var $=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),_=uy(this.space.left,$,...this.space.column,this.space.right);return t+_*this.scaleX}},J9=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,n=this.sizerChildren,x,S,M,L,F=!1;this.totalRowProportions;for(var G=0;G<this.rowCount;G++){if(L=this.rowProportions[G],i=0,L===0||e){for(var V=0;V<this.columnCount;V++)x=n[G*this.columnCount+V],x&&(x.rexSizer.hidden||(M=this.getChildHeight(x),M===void 0&&(L!==0&&!this.hasRowProportion0Child?M=0:F=!0),!F&&(S=x.rexSizer.padding,M+=(S.top+S.bottom)*this.scaleY,i=Math.max(i,M))));F||(t+=i)}F||e&&(this.rowHeight[G]=i)}if(!F){var $=Math.max(this.space.indentTopOdd,this.space.indentTopEven),_=uy(this.space.top,$,...this.space.row,this.space.bottom);return t+_*this.scaleY}},Q9=function(e,t){var i,n=e.rexSizer;if(n.expandWidth){var x=n.padding;i=t-(x.left+x.right)*this.scaleX}return i},j9=function(e,t){var i,n=e.rexSizer;if(n.expandHeight){var x=n.padding;i=t-(x.top+x.bottom)*this.scaleY}return i},q9=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,x=t.length;n<x;n++)i=t[n],i&&i.isRexSizer&&e.push(i);return e},_9=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,no.call(this),this},tG=function(){for(var e,t,i,n=this.innerLeft,x=this.innerTop,S,M=x,L,F,G,V,$,_,q,st,at,nt,ut,ct,dt=0;dt<this.rowCount;dt++){nt=this.getRowHeight(dt),ut=dt%2?this.space.indentLeftEven:this.space.indentLeftOdd,S=n+ut*this.scaleX;for(var mt=0;mt<this.columnCount;mt++){if(at=this.getColumnWidth(mt),e=this.getChildAt(mt,dt),!e||e.rexSizer.hidden){S+=at+this.space.column[mt]*this.scaleX;continue}ho.call(this,e),q=this.getExpandedChildWidth(e,at),st=this.getExpandedChildHeight(e,nt),e.isRexSizer?(e.runLayout(this,q,st),zf(e,this)):qe(e,q,st),t=e.rexSizer,i=t.padding,L=S+i.left*this.scaleX,G=at-(i.left+i.right)*this.scaleX,ct=mt%2?this.space.indentTopEven:this.space.indentTopOdd,F=M+ct*this.scaleY+i.top*this.scaleY,V=nt-(i.top+i.bottom)*this.scaleY,q===void 0&&(q=se(e)),st===void 0&&(st=re(e)),$=(t.alignOffsetX+t.alignOffsetOriginX*q)*this.scaleX,_=(t.alignOffsetY+t.alignOffsetOriginY*st)*this.scaleY,lo.call(this,e,L,F,G,V,t.align,$,_),S+=at+this.space.column[mt]*this.scaleX}M+=nt+this.space.row[dt]*this.scaleY}},eG=function(t){var t=of.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var n=t-this.getChildrenWidth(!1);n>=0&&(this.proportionWidthLength=n/i)}else this.proportionWidthLength=0}return t},iG=function(t){var t=uf.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var n=t-this.getChildrenHeight(!1);n>=0&&(this.proportionHeightLength=n/i)}else this.proportionHeightLength=0}return t},sG=function(e){var t,i,n,x;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(x=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,x),n=t.resolveWidth(i),n===void 0&&(n=i),t.resolveChildrenWidth(n))},rG=function(e){var t,i,n,x;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(x=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,x),n=t.resolveHeight(i),n===void 0&&(n=i),t.resolveChildrenHeight(n))},nG=function(e){var t,i,n,x;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(x=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,x),t.isRexSizer&&(n=t.resolveWidth(i),n===void 0&&(n=i)),t.runWidthWrap(n));return this},aG=function(e){var t,i,n,x;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(x=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,x),t.isRexSizer&&(n=t.resolveHeight(i),n===void 0&&(n=i)),t.runHeightWrap(n));return this};const dy=Phaser.Utils.Objects.IsPlainObject,Ii=Phaser.Utils.Objects.GetValue,fy=Phaser.Display.Align.CENTER;var cy=function(e,t,i,n,x){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var S,M=0;M<n;M++)if(S=t*n+M,!i[S])return S}else if(t===void 0){for(var S,M=0;M<x;M++)if(S=M*n+e,!i[S])return S}else{var S=t*n+e;if(!i[S])return S}else if(t===!0){for(var S,M=0;M<n;M++)for(var L=0;L<x;L++)if(S=L*n+M,!i[S])return S}else for(var M=0,F=i.length;M<F;M++)if(!i[M])return M;return null},oG=function(e,t,i,n,x,S,M){var L,F,G,V;if(so.call(this,e),dy(t)){var _=t;t=Ii(_,"column",void 0),i=Ii(_,"row",void 0),n=Ii(_,"align",fy),x=Ii(_,"padding",0),S=Ii(_,"expand",!1),M=Ii(_,"key",void 0),L=Ii(_,"offsetX",0),F=Ii(_,"offsetY",0),G=Ii(_,"offsetOriginX",0),V=Ii(_,"offsetOriginY",0)}var $=cy(t,i,this.sizerChildren,this.columnCount,this.rowCount);if($===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),$=cy(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof n=="string"&&(n=jn[n]),n===void 0&&(n=fy),x===void 0&&(x=0),S===void 0&&(S=!0),L===void 0&&(L=0),F===void 0&&(F=0),G===void 0&&(G=0),V===void 0&&(V=0);var _=this.getSizerConfig(e);return _.align=n,_.padding=en(x),dy(S)?(_.expandWidth=Ii(S,"width",!1),_.expandHeight=Ii(S,"height",!1)):(_.expandWidth=S,_.expandHeight=S),_.alignOffsetX=L,_.alignOffsetY=F,_.alignOffsetOriginX=G,_.alignOffsetOriginY=V,this.sizerChildren[$]=e,M!==void 0&&this.addChildrenMap(M,e),this},hG={add:oG},ha=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=e.length-1);for(var x=i;x<=n;x++)e[x]=t;return e},lG={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),ro.call(this,e,t),this},removeAt(e,t,i){var n=this.getChildAt(e,t);return n&&this.remove(n,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return ha(this.sizerChildren,null),pl.call(this,e),this}},uG={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,ha(this.space.column,e);else{this.space.column0=e[0];for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,ha(this.space.row,e);else{this.space.row0=e[t];for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}};const vy=Phaser.Utils.Objects.GetValue;var dG=function(e,t,i,n,x){if(e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,ha(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")ha(this.columnProportions,i);else for(var S=0;S<e;S++)this.columnProportions[S]=i[S]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof n=="number")ha(this.rowProportions,n);else for(var S=0;S<t;S++)this.rowProportions[S]=n[S]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(vy(x,"column",0)),this.setRowSpace(vy(x,"row",0));var M=this.scene,L=this.createCellContainerCallback;if(L)for(var F=0,G=this.rowCount;F<G;F++)for(var V=0,$=this.columnCount;V<$;V++){var _={column:V,row:F},q=L(M,V,F,_);q&&this.add(q,_)}return this},py=function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var n=[e*this.columnCount,0],x=0;x<this.columnCount;x++)n.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,n),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},fG=function(e,t){return py.call(this,this.rowCount,e,t),this},gy=function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var n=this.rowCount-1;n>=0;n--){var x=n*this.columnCount+e;this.sizerChildren.splice(x,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},cG=function(e,t){return gy.call(this,this.columnCount,e,t),this},my={getChildrenWidth:Z9,getChildrenHeight:J9,getExpandedChildWidth:Q9,getExpandedChildHeight:j9,getChildrenSizers:q9,preLayout:_9,layoutChildren:tG,resolveWidth:eG,resolveHeight:iG,resolveChildrenWidth:sG,resolveChildrenHeight:rG,runWidthWrap:nG,runHeightWrap:aG,resetGrid:dG,insertEmptyRow:py,addEmptyRow:fG,insertEmptyColumn:gy,addEmptyColumn:cG};Object.assign(my,hG,lG,uG,rc);var vG=function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},pG=function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const Dl=Phaser.Utils.Objects.IsPlainObject,ve=Phaser.Utils.Objects.GetValue;class _i extends an{constructor(t,i,n,x,S,M,L,F,G,V){Dl(i)?(V=i,i=ve(V,"x",0),n=ve(V,"y",0),x=ve(V,"width",void 0),S=ve(V,"height",void 0),M=ve(V,"column",V.col||0),L=ve(V,"row",0),F=ve(V,"columnProportions",0),G=ve(V,"rowProportions",0)):Dl(x)?(V=x,x=ve(V,"width",void 0),S=ve(V,"height",void 0),M=ve(V,"column",V.col||0),L=ve(V,"row",0),F=ve(V,"columnProportions",0),G=ve(V,"rowProportions",0)):Dl(M)?(V=M,M=ve(V,"column",V.col||0),L=ve(V,"row",0),F=ve(V,"columnProportions",0),G=ve(V,"rowProportions",0)):Dl(F)&&(V=F,F=ve(V,"columnProportions",0),G=ve(V,"rowProportions",0)),super(t,i,n,x,S,V),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(ve(V,"createCellContainerCallback")),this.setIndentLeft(ve(V,"space.indentLeftOdd",0),ve(V,"space.indentLeftEven",0)),this.setIndentTop(ve(V,"space.indentTopOdd",0),ve(V,"space.indentTopEven",0)),this.resetGrid(M,L,F,G,ve(V,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=vG.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=pG.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var n=this.sizerChildren.indexOf(t);return n===-1?null:(i===void 0&&(i={}),i.x=n%this.columnCount,i.y=Math.floor(n/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],n=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return n}getRowHeight(t){var i=this.rowProportions[t],n=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return n}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(_i.prototype,my),tt.register("gridSizer",function(e,t,i,n,x,S,M,L,F){var G=new _i(this.scene,e,t,i,n,x,S,M,L,F);return this.scene.add.existing(G),G}),H(window,"RexPlugins.UI.GridSizer",_i);var gG=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},mG=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},xG=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,x=t.length;n<x;n++)i=t[n],i!==`
`&&i.isRexSizer&&e.push(i);return e},yG=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,no.call(this),this},CG=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i,n,x,S=0,M,L,F=this.innerLeft,G=this.innerTop,V,$,_,q,st,at,nt=this.wrapResult.lines,ut,ct,dt,mt=F,Tt=G,Pt=0,Rt=nt.length;Pt<Rt;Pt++){switch(ut=nt[Pt],ct=ut.children,this.rtl&&ct.reverse(),e?(M=Pt%2?this.space.indentLeftEven:this.space.indentLeftOdd,mt=F+M*this.scaleX):(L=Pt%2?this.space.indentTopEven:this.space.indentTopOdd,Tt=G+L*this.scaleY),dt=t-(e?ut.width:ut.height),this.align){case 0:break;case 1:e?mt+=dt:Tt+=dt;break;case 2:e?mt+=dt/2:Tt+=dt/2;break;case 3:S=xc(t,dt,this.justifyPercentage,ct.length);break;case 4:S=xc(t,dt,this.justifyPercentage,ct.length),S===0&&(e?mt+=dt:Tt+=dt);break;case 5:S=xc(t,dt,this.justifyPercentage,ct.length),S===0&&(e?mt+=dt/2:Tt+=dt/2);break}for(var Dt=!0,Ft=0,zt=ct.length;Ft<zt;Ft++)i=ct[Ft],!i.rexSizer.hidden&&(n=i.rexSizer,x=n.padding,ho.call(this,i),e?V=mt+x.left*this.scaleX:$=Tt+x.top*this.scaleY,Dt?Dt=!1:e?V+=this.space.item*this.scaleX:$+=this.space.item*this.scaleY,_=se(i),q=re(i),e?(L=Ft%2?this.space.indentTopEven:this.space.indentTopOdd,$=Tt+L*this.scaleY+x.top*this.scaleY,mt=V+_+x.right*this.scaleX+S):(M=Ft%2?this.space.indentLeftEven:this.space.indentLeftOdd,V=mt+M*this.scaleX+x.left*this.scaleX,Tt=$+q+x.top*this.scaleY+S),st=(n.alignOffsetX+n.alignOffsetOriginX*_)*this.scaleX,at=(n.alignOffsetY+n.alignOffsetOriginY*q)*this.scaleY,lo.call(this,i,V,$,_,q,n.align,st,at));e?Tt+=ut.height+this.space.line*this.scaleY:mt+=ut.width+this.space.line*this.scaleX}},xc=function(e,t,i,n){return t/e<=i?t/(n-1):0},SG=function(){return this.orientation===0?!0:hf.call(this)},xy=function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,n,x,S,M,L=0,F,G,V=t.lines,$=void 0,_;if(this.orientation===0){for(var q=0,st=i.length;q<st;q++){if(n=i[q],n===`
`)n=void 0,S=0,_=!0;else{if(n.rexSizer.hidden)continue;n.isRexSizer&&n.runLayout(this),S=this.getChildWidth(n),x=n.rexSizer.padding,S+=(x.left+x.right)*this.scaleX,_=L<S||$===void 0}_&&($&&($.width=e-(L+this.space.item*this.scaleX),t.width=Math.max(t.width,$.width),t.height+=$.height+this.space.line*this.scaleY),$={children:[],width:0,height:0},V.push($),F=V.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,L=e-F*this.scaleX),L-=S+this.space.item*this.scaleX,n&&($.children.push(n),M=this.getChildHeight(n),x=n.rexSizer.padding,M+=(x.top+x.bottom)*this.scaleY,$.height=Math.max($.height,M))}$&&($.width=e-(L+this.space.item*this.scaleX),t.width=Math.max(t.width,$.width),t.height+=$.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var at=e,q=0,st=i.length;q<st;q++){if(n=i[q],n===`
`)n=void 0,S=0,_=!0;else{if(n.rexSizer.hidden)continue;n.isRexSizer&&n.layout(),M=this.getChildHeight(n),x=n.rexSizer.padding,M+=(x.top+x.bottom)*this.scaleY,_=L<M||$===void 0}_&&($&&($.height=at-(L+this.space.item*this.scaleY),t.height=Math.max(t.height,$.height),t.width+=$.width+this.space.line*this.scaleX),$={children:[],width:0,height:0},V.push($),G=V.length%2?this.space.indentTopOdd:this.space.indentTopEven,L=at-G*this.scaleY),L-=M+this.space.item*this.scaleY,n&&($.children.push(n),S=this.getChildWidth(n),x=n.rexSizer.padding,S+=(x.left+x.right)*this.scaleX,$.width=Math.max($.width,S))}$&&($.height=at-(L+this.space.item*this.scaleY),t.height=Math.max(t.height,$.height),t.width+=$.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},TG=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=xy.call(this,t),this.rexSizer.resolved=!0,lf.call(this,e)}},PG=function(){return this.orientation===1?!0:df.call(this)},EG=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=xy.call(this,t),this.rexSizer.resolved=!0,ff.call(this,e)}},MG=function(e,t){},wG=function(e,t){};const yy=Phaser.Math.Distance.Between;var RG=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var n=-1,x=1/0,S=0,M=i.length;S<M;S++){var L=i[S];if(!(Math.abs(L.centerY-t)>L.height/2)){var G=yy(L.left,L.centerY,e,t);x>G&&(x=G,n=S);var F=i[S+1];if(!(F&&F.y===L.y)){var G=yy(L.right,L.centerY,e,t);x>G&&(x=G,n=S+1)}}}return n};const AG=Phaser.Utils.Objects.IsPlainObject,ln=Phaser.Utils.Objects.GetValue,LG=Phaser.Display.Align.CENTER;var yc=function(e,t,i,n){if(e===`
`)return this.addNewLine(),this;var x,S,M,L;if(so.call(this,e),AG(t)){var F=t;t=ln(F,"padding",0),i=ln(F,"key",void 0),n=ln(F,"index",void 0),x=ln(F,"offsetX",0),S=ln(F,"offsetY",0),M=ln(F,"offsetOriginX",0),L=ln(F,"offsetOriginY",0)}t===void 0&&(t=0),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=0),L===void 0&&(L=0);var F=this.getSizerConfig(e);return F.align=LG,F.padding=en(t),F.alignOffsetX=x,F.alignOffsetY=S,F.alignOffsetOriginX=M,F.alignOffsetOriginY=L,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),i!==void 0&&this.addChildrenMap(i,e),this},bG={add(e,t,i){if(Ki(e))for(var n=e,x=0,S=n.length;x<S;x++)yc.call(this,n[x],t);else yc.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,n){return yc.call(this,t,i,n,e),this},insertAtPosition(e,t,i,n,x){var S=RG.call(this,e,t);return S===-1&&(S=void 0),this.insert(S,i,n,x),this}};const OG=Phaser.Utils.Array.Remove;var FG={remove(e,t){return this.getParentSizer(e)!==this?this:(OG(this.sizerChildren,e),ro.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,pl.call(this,e),this}},Cy={getChildrenWidth:gG,getChildrenHeight:mG,getChildrenSizers:xG,preLayout:yG,layoutChildren:CG,hasWidthWrap:SG,runWidthWrap:TG,hasHeightWrap:PG,runHeightWrap:EG,getExpandedChildWidth:MG,getExpandedChildHeight:wG};Object.assign(Cy,bG,FG,rc);var DG=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,n,x=!1,S=0,M=e.length;S<M;S++)i=e[S],i!==`
`&&(n=this.getChildWidth(i),n===void 0&&(x=!0),!x&&(t=Math.max(n,t)));if(!x)return t},BG=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,n,x=!1,S=0,M=e.length;S<M;S++)i=e[S],i!==`
`&&(n=this.getChildHeight(i),n===void 0&&(x=!0),!x&&(t=Math.max(n,t)));if(!x)return t};const Sy=Phaser.Utils.Objects.IsPlainObject,ei=Phaser.Utils.Objects.GetValue;class Lr extends an{constructor(t,i,n,x,S,M){Sy(i)?(M=i,i=ei(M,"x",0),n=ei(M,"y",0),x=ei(M,"width",void 0),S=ei(M,"height",void 0)):Sy(x)&&(M=x,x=ei(M,"width",void 0),S=ei(M,"height",void 0)),super(t,i,n,x,S,M),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(ei(M,"orientation",0)),this.setItemSpacing(ei(M,"space.item",0)),this.setLineSpacing(ei(M,"space.line",0)),this.setIntentLeft(ei(M,"space.indentLeftOdd",0),ei(M,"space.indentLeftEven",0)),this.setIntentTop(ei(M,"space.indentTopOdd",0),ei(M,"space.indentTopEven",0)),this.setAlign(ei(M,"align",0)),this.setJustifyPercentage(ei(M,"justifyPercentage",.25)),this.setRTL(ei(M,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Qr(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=IG[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=DG.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=BG.call(this)),this._maxChildHeight}}const IG={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(Lr.prototype,Cy),tt.register("fixWidthSizer",function(e,t,i,n,x){var S=new Lr(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.FixWidthSizer",Lr),tt.register("overlapSizer",function(e,t,i,n,x){var S=new Di(this.scene,e,t,i,n,x);return this.scene.add.existing(S),S}),H(window,"RexPlugins.UI.OverlapSizer",Di),tt.register("space",function(){var e=new ic(this.scene);return e}),H(window,"RexPlugins.UI.Space",ic),tt.register("label",function(e){var t=new Vs(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Label",Vs);const Ty=["alpha","tint","flipX","flipY"];var Cc=function(e,t){if(!t)return e;for(var i=0,n=Ty.length;i<n;i++){var x=Ty[i];x in t&&x in e&&(e[x]=t[x])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var S,M;"originX"in t&&"originX"in e&&(S=t.originX),"originY"in t&&"originY"in e&&(M=t.originY),S!==void 0&&M!==void 0&&e.setOrigin(S,M)}return e},Ne=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("barColor")?i="bar":t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var n;switch(i){case"bar":n=new Fl(e,t);break;case"image":n=new Co(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?n=new Po(e,t):n=new To(e,t);break;default:n=new So(e,t);break}return Cc(n,t),e.add.existing(n),n},GG=function(){switch(this.scrollMode){case 0:case 1:Sc.call(this),this.updateController(),Tc.call(this),Pc.call(this);break;default:Sc.call(this,"y"),Sc.call(this,"x"),this.updateController(),Tc.call(this,"y"),Tc.call(this,"x"),Pc.call(this,"y"),Pc.call(this,"x");break}return this},Sc=function(e){var t,i,n,x;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,n=this.childrenMap.scroller,x=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),n=this.childrenMap[`scroller${e}`],x=this.childrenMap[`slider${e}`]}var S=e==="Y"?this.scaleY:this.scaleX;i*=S,n&&n.setBounds(t,i),x&&(x.setEnable(t!==i),x.tickLength&&x.setTick(x.tickLength,t,i))},Tc=function(e){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.slider;i&&this.hideUnscrollableSlider&&this.setChildVisible(i,this.isOverflow);var x=this.childrenMap.scroller;x&&this.disableUnscrollableDrag&&x.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],i=this.childrenMap[`slider${e}`],n=this[`hideUnscrollableSlider${e}`];i&&n&&this.setChildVisible(i,t);var x=this.childrenMap.scroller,S=this[`disableUnscrollableDrag${e}`];x&&S&&x.setEnable(t);break}},Pc=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var S=this.childrenMap.slider;if(!S)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),M=S.childrenMap.track,L=S.childrenMap.thumb,F=this.minThumbSize;if(this.scrollMode===0){var i=M.displayHeight*t;F!==void 0&&i<F&&(i=F),qe(L,void 0,i)}else{var n=M.displayWidth*t;F!==void 0&&n<F&&(n=F),qe(L,n,void 0)}Py(S);break;default:e=e.toUpperCase();var x=this[`adaptThumb${e}SizeMode`];if(!x)return;var S=this.childrenMap[`slider${e}`];if(!S)return;var M=S.childrenMap.track,L=S.childrenMap.thumb,F=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=M.displayHeight*t;F!==void 0&&i<F&&(i=F),qe(L,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),n=M.displayWidth*t;F!==void 0&&n<F&&(n=F),qe(L,n,void 0)}Py(S);break}},Py=function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},kG=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,n=this.childrenMap.sliderY,x=this.childrenMap.scrollerX,S=this.childrenMap.sliderX;i&&i.setValue(this.childOY),n&&n.setValue(this.t),x&&x.setValue(this.childOX),S&&S.setValue(this.s);break}};const Bl=Phaser.Math.Clamp;var zG={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=Bl(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=Bl(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=Bl(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=Bl(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}},Ey={resizeController:GG,updateController:kG};Object.assign(Ey,zG);var My={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2},Ec=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=NG(e));var i=e[t];return typeof i=="string"&&(i=My[i]),i},NG=function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,n;return t&&i?n=2:t?n=0:i?n=1:n=0,n};const Xe=Phaser.Utils.Objects.GetValue;var VG=function(e,t,i){var n=Xe(i,"child"),x=Xe(n,"gameObject",void 0);if(x){var S=Xe(i,"space.child",0);e.childMargin={};var M=e.childMargin,L={};if(typeof S=="number")switch(e.scrollMode){case 0:case 1:M.top=0,M.bottom=0,M.left=0,M.right=0;break;default:M.top=S,M.bottom=S,M.left=S,M.right=S;break}else switch(e.scrollMode){case 0:M.top=Xe(S,"top",0),M.bottom=Xe(S,"bottom",0),L.left=Xe(S,"left",0),L.right=Xe(S,"right",0);break;case 1:M.top=Xe(S,"left",0),M.bottom=Xe(S,"right",0),L.top=Xe(S,"top",0),L.bottom=Xe(S,"bottom",0);break;default:M.top=Xe(S,"top",0),M.bottom=Xe(S,"bottom",0),M.left=Xe(S,"left",0),M.right=Xe(S,"right",0);break}t.add(x,{column:1,row:1,align:Xe(n,"align","center"),padding:L,expand:{width:Xe(n,"expandWidth",!0),height:Xe(n,"expandHeight",!0)}})}e.addChildrenMap("child",x)};const wy=Phaser.Math.Percent;var UG=function(e,t,i){var n;return e.y===t.y?n=wy(i.x,e.x,t.x):e.x===t.x&&(n=wy(i.y,e.y,t.y)),n},Ry=function(e,t){Mc.x=e,Mc.y=t;var i,n;this.reverseAxis?(i=this.getEndPoint(),n=this.getStartPoint()):(i=this.getStartPoint(),n=this.getEndPoint());var x=UG(i,n,Mc);return x},Mc={},WG=function(e,t,i){!this.enable||!this.inputActive||(this.value=Ry.call(this,t,i))},wc=function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=Ry.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}};const XG=Phaser.Utils.Objects.GetValue;var YG=function(e){this.inputActive=!1;var t=XG(e,"input",0);typeof t=="string"&&(t=HG[t]);var i=this.childrenMap.thumb;switch(t){case 0:i&&(i.setInteractive(),this.scene.input.setDraggable(i),i.on("dragstart",function(x){this.inputActive=!0,this.eventEmitter.emit("inputstart",x)},this).on("dragend",function(x){this.inputActive=!1,this.eventEmitter.emit("inputend",x)},this).on("drag",WG,this));break;case 1:this.setInteractive().on("pointerdown",function(x){this.inputActive=!0,this.eventEmitter.emit("inputstart",x)},this).on("pointerdown",wc,this);var n=function(x){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",x))};this.scene.input.on("pointerup",n,this).on("pointermove",wc,this),this.once("destroy",function(){this.scene.input.on("pointerup",n,this).off("pointermove",wc,this)},this);break}};const HG={pan:0,drag:0,click:1,none:-1};var Ay=function(e,t){t===void 0&&(t=$G);var i=this.childrenMap.thumb,n=i.x,x=i.y;return io(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=n,i.y=x,t},$G={};const KG=Phaser.Display.Align.LEFT_CENTER,ZG=Phaser.Display.Align.TOP_CENTER;var JG=function(e){if(e===void 0&&(e=QG),this.childrenMap.thumb){var t=this.orientation===0?KG:ZG;Ay.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},QG={};const jG=Phaser.Display.Align.RIGHT_CENTER,qG=Phaser.Display.Align.BOTTOM_CENTER;var _G=function(e){if(e===void 0&&(e=t8),this.childrenMap.thumb){var t=this.orientation===0?jG:qG;Ay.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},t8={};const Ly=Phaser.Math.Linear;var e8=function(e,t,i,n){return n===void 0&&(n=i8),n.x=Ly(t.x,i.x,e),n.y=Ly(t.y,i.y,e),n},i8={},s8=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,n;return this.reverseAxis?(i=this.getEndPoint(),n=this.getStartPoint()):(i=this.getStartPoint(),n=this.getEndPoint()),e8(e,i,n,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const r8=Phaser.Display.Align.LEFT_CENTER,n8=Phaser.Display.Align.TOP_CENTER,a8=Phaser.Display.Align.RIGHT_CENTER,o8=Phaser.Display.Align.BOTTOM_CENTER;var h8=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,n,x,S=this.childrenMap.thumb;if(S)if(this.orientation===0){var M=se(S);if(i){var L=S.x-M*S.originX;n=this.right-L}else{var L=S.x-M*S.originX,F=L+M;n=F-this.left}}else{var G=re(S);if(i){var V=S.y-G*S.originY;x=this.bottom-V}else{var V=S.y-G*S.originY,$=V+G;x=$-this.top}}else this.orientation===0?n=this.width*e:x=this.height*e;qe(t,n,x);var _;i?_=this.orientation===0?a8:o8:_=this.orientation===0?r8:n8,vm(t,this,_),this.resetChildPositionState(t)};const Pi=Phaser.Utils.Objects.GetValue,Il=Phaser.Utils.Objects.IsPlainObject,l8=Phaser.Math.Clamp,u8=Phaser.Math.Snap.To;class la extends Sr(jt){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=Pi(i,"reverseAxis",!1);var n=Pi(i,"background",void 0),x=Pi(i,"track",void 0),S=Pi(i,"indicator",void 0),M=Pi(i,"thumb",void 0);if(n&&(Il(n)&&(n=Ne(t,n)),this.addBackground(n)),x&&(Il(x)&&(x=Ne(t,x)),this.add(x,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),S&&(Il(S)&&(S=Ne(t,S)),this.pin(S)),M){Il(M)&&(M=Ne(t,M)),this.pin(M);var L=Pi(i,"thumbOffsetX",0),F=Pi(i,"thumbOffsetY",0);this.setThumbOffset(L,F)}this.addChildrenMap("background",n),this.addChildrenMap("track",x),this.addChildrenMap("indicator",S),this.addChildrenMap("thumb",M),this.setEnable(Pi(i,"enable",void 0));var G=Pi(i,"tick",void 0);G===void 0&&(G=Pi(i,"gap",void 0)),this.setGap(G),YG.call(this,i),this.setValue(Pi(i,"value",0),Pi(i,"min",void 0),Pi(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,n){return t&&i!==void 0&&(t=t/(n-i)),this.gap=t,this}setTick(t,i,n){return this.setGap(t,i,n),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,i){return this.thumbOffsetX=t,this.thumbOffsetY=i,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=u8(t,this.gap));var i=this._value;this._value=l8(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,n){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,i,n),this}}var d8={getStartPoint:JG,getEndPoint:_G,updateThumb:s8,updateIndicator:h8};Object.assign(la.prototype,d8);const vi=Phaser.Utils.Objects.GetValue;class Rc extends jt{constructor(t,i){super(t,i),this.type="rexScrollBar";var n=vi(i,"background",void 0),x=vi(i,"buttons",void 0),S=vi(x,"top",vi(x,"left",void 0)),M=vi(x,"bottom",vi(x,"right",void 0)),L,F=vi(i,"slider",void 0);if(n&&this.addBackground(n),S){this.add(S);var G=new sa(S);G.on("intouch",function(){if(this.enable){var nt=L.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=nt}},this)}if(F){F.orientation=this.orientation,F.eventEmitter=this,F.value=null;var V;if(this.orientation===0){var $=vi(F,"width",void 0);V=$===void 0?1:0}else{var _=vi(F,"height",void 0);V=_===void 0?1:0}L=new la(t,F),t.add.existing(L),this.add(L,{proportion:V})}if(M){this.add(M);var G=new sa(M);G.on("intouch",function(){if(this.enable){var ut=L.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=ut}},this)}var q=[S,M];this.addChildrenMap("background",n),this.addChildrenMap("slider",L),this.addChildrenMap("buttons",q);var st=vi(i,"valuechangeCallback",null);if(st!==null){var at=vi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",st,at)}this.setEnable(vi(i,"enable",void 0)),this.setValue(vi(i,"value",0)),this.setScrollStep(vi(x,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,n),this}addValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,n),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,n),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,i,n),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,i,n){return this.setGap(t,i,n),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}}var f8=function(e,t){t===void 0&&(t={});var i=Xi(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var n=new Rc(e,t);e.add.existing(n);var x=n.childrenMap.slider;return n.addChildrenMap("track",x.childrenMap.track),n.addChildrenMap("indicator",x.childrenMap.indicator),n.addChildrenMap("thumb",x.childrenMap.thumb),n};const c8=Phaser.Math.Snap.To;Phaser.Math.Clamp;var v8=function(){this.emit("dragstart")},p8=function(){this.emit("dragend")},g8=function(){this.value+=this.dragDelta},m8=function(){var e=this.value,t=this.dragSpeed,i=this.snapStep,n=!!i;if(n){var S=e,M=t===0?0:t*t/(2*this.slidingDeceleration);if(S+=t>0?M:-M,S=c8(S,i,this.minValue),M=Math.abs(S-e),M>0){var x;t===0?(x=this.backDeceleration,t=Math.sqrt(2*x*M)):(x=t*t/(2*M),x*=.99),this._slowDown.init(e,void 0,t,x,S)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var x=this.slidingDeceleration;this._slowDown.init(e,t>0,t,x)}},x8=function(e,t){t*=.001;var i=this._slowDown.update(t).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i},y8=function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(t-e),n=this.backDeceleration,x=Math.sqrt(2*n*i);this._slowDown.init(e,void 0,x,n,t)},C8=function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},by=function(){this._slowDown.stop()};class S8 extends Bs{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,n=i.dragState;return n.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,n=i.dragState;return n.isDown?t=n.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,n=i.dragState;return n.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var n=this.parent,x=n.dragState;x.justMoved&&g8.call(n),this.next()}enter_DRAG(){v8.call(this.parent)}exit_DRAG(){p8.call(this.parent)}next_SLIDE(){var t,i=this.parent,n=i.dragState;return n.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){m8.call(this.parent)}exit_SLIDE(){by.call(this.parent)}update_SLIDE(t,i){x8.call(this.parent,t,i),this.next()}next_BACK(){var t,i=this.parent,n=i.dragState;return n.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){y8.call(this.parent)}exit_BACK(){by.call(this.parent)}update_BACK(t,i){C8.call(this.parent,t,i),this.next()}}const Eo=Phaser.Utils.Objects.GetValue,T8=Phaser.Math.Distance.Between;class P8 extends ye{constructor(t,i){super(t,i),this._enable=void 0,this.rectBoundsInteractive=Eo(i,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(Eo(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(Eo(t,"enable",!0)),this.holdThreshold=Eo(t,"holdThreshold",50),this.pointerOutReleaseEnable=Eo(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,i=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(i.on("pointerdown",this.onPointIn,this),i.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&i.on("pointerout",this.onPointOut,this),i.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var i=this.scene;this.parent,this.rectBoundsInteractive&&(i.input.off("pointerdown",this.onPointIn,this),i.input.off("pointerup",this.onPointOut,this),i.input.off("pointermove",this.onPointerMove,this)),i.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=Td(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=T8(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,n){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!ls(this.parent,t)||(this.pointer=t,this.localX=i,this.localY=n)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,n){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!ls(this.parent,t)){this.onPointOut(t);return}this.localX=i,this.localY=n}}preupdate(t,i){if(this.enable){var n=this.pointer;this.justMoved=!1,n&&!this.isInTouched?(this.x=n.worldX,this.y=n.worldY,this.preX=n.worldX,this.preY=n.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",n,this.localX,this.localY)):n&&this.isInTouched?this.x===n.x&&this.y===n.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=n.worldX,this.y=n.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",n,this.localX,this.localY)):!n&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",n))}}}const Ac=Phaser.Utils.Objects.GetValue;class E8{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(Ac(t,"value",0)),this.setSpeed(Ac(t,"speed",0)),this.setAcceleration(Ac(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class M8{constructor(){this.value,this.dir,this.movement=new E8}init(t,i,n,x,S){return this.value=t,this.end=S,S!==void 0?this.dir=t<S:this.dir=i,n=Math.abs(n),this.movement.setSpeed(n).setAcceleration(-x),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const Le=Phaser.Utils.Objects.GetValue,w8=Phaser.Math.Clamp;class R8 extends ye{constructor(t,i){super(t,i);var n=Le(i,"enable",!0);this._state=new S8(this,{enable:n,eventEmitter:!1});var x={rectBoundsInteractive:Le(i,"rectBoundsInteractive",!1),inputConfig:Le(i,"inputConfig",void 0),enable:n,pointerOutRelease:Le(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new P8(t,x),this._enable=void 0,this._value=void 0,this._slowDown=new M8,this.setSnapStep(Le(i,"snapStep",void 0));var S=Le(i,"valuechangeCallback",null);if(S!==null){var M=Le(i,"valuechangeCallbackScope",void 0);this.on("valuechange",S,M)}if(S=Le(i,"overmaxCallback",null),S!==null){var M=Le(i,"overmaxCallbackScope",void 0);this.on("overmax",S,M)}if(S=Le(i,"overminCallback",null),S!==null){var M=Le(i,"overminCallbackScope",void 0);this.on("overmin",S,M)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(Le(t,"orientation",0)),this.setDragThreshold(Le(t,"threshold",10)),this.setSlidingDeceleration(Le(t,"slidingDeceleration",5e3)),this.setBackDeceleration(Le(t,"backDeceleration",2e3));var i=Le(t,"dragRate",1);i=i*(Le(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var n=Le(t,"bounds",void 0);return n?this.setBounds(n):this.setBounds(Le(t,"max",0),Le(t,"min",0)),this.setValue(Le(t,"value",this.maxValue||0)),this.setEnable(Le(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=A8[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var n=t;t=n[0],i=n[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,n=this.overMax(t),x=this.overMin(t);n&&this.emit("overmax",t,i),x&&this.emit("overmin",t,i),this.backEnable||(n&&(t=this.maxValue),x&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=w8(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}}const A8={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Gl=Phaser.Utils.Objects.GetValue;class L8 extends ye{constructor(t,i){switch(super(t,i),this.parent!==this.scene?this.focusMode=Gl(i,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(Gl(i,"speed",.1)),this.setEnable(Gl(i,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(Gl(i,"inputConfig",void 0)).on("wheel",function(n,x,S,M,L){this.tryScroll(S)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,i,n,x,S,M){this.focusMode===2&&!ls(this.parent,t)||this.tryScroll(x)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}}const Te=Phaser.Utils.Objects.GetValue,b8=Phaser.Math.Snap.To;var kl=function(e,t,i,n){i=i.toUpperCase();var x=i==="Y",S=e.scrollMode===2,M=e.childrenMap.child,L,F=`snapStep${i}`;if(S)L=Te(n,F,void 0);else{var L=Te(n,"snapStep",void 0);L===void 0&&(L=Te(n,F,void 0))}e[F]=L;var G,V,$=`slider${i}`;if(S||n.hasOwnProperty($)?G=Te(n,$,void 0):G=Te(n,"slider",void 0),G){G===!0&&(G={}),G.orientation=x?1:0,V=f8(e.scene,G);var _,q,st,at=Te(G,"position",0);typeof at=="string"&&(at=O8[at]);var nt=Te(n,`space.slider${i}`,void 0),ut;nt===void 0&&(nt=Te(n,"space.slider",void 0),nt===void 0&&(S?nt=0:ut=Te(n,"space.child",0)));var ct;ut===void 0?ct=typeof nt=="number":ct=typeof ut=="number",x?at===0?(_=2,q=1,ut===void 0?st=ct?{left:nt}:nt:st={left:Te(ut,"right",ut)}):(_=0,q=1,ut===void 0?st=ct?{right:nt}:nt:st={right:Te(ut,"left",ut)}):at===0?(_=1,q=2,ut===void 0?st=ct?{top:nt}:nt:st={top:Te(ut,"bottom",ut)}):(_=1,q=0,ut===void 0?st=ct?{bottom:nt}:nt:st={bottom:Te(ut,"top",ut)}),t.add(V,{column:_,row:q,align:"center",padding:st,expand:!0}),e[`hideUnscrollableSlider${i}`]=Te(G,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${i}`]=Te(G,"disableUnscrollableDrag",!1),e[`adaptThumb${i}SizeMode`]=Te(G,"adaptThumbSize",!1),e[`minThumb${i}Size`]=Te(G,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`disableUnscrollableDrag${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var dt=Te(n,"scrollDetectionMode");typeof dt=="string"&&(dt=F8[dt]);var mt,Tt,Pt=`scroller${i}`;S||n.hasOwnProperty(Pt)?mt=Te(n,Pt,!0):mt=Te(n,"scroller",!0),mt&&M&&(mt===!0&&(mt={}),mt.orientation=x?0:1,dt!==void 0&&(mt.rectBoundsInteractive=dt===1),mt.snapStep=L,Tt=new R8(M,mt),M.isRexContainerLite&&M.sendChildToBack(M));var Rt=Te(n,S?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),Dt;if(Rt&&M&&(dt!==void 0&&(Rt.focus=dt===1?2:0),Dt=new L8(M,Rt)),e.addChildrenMap(`slider${i}`,V),e.addChildrenMap(`scroller${i}`,Tt),e.addChildrenMap(`mouseWheelScroller${i}`,Dt),(!S||x)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",V),e.addChildrenMap("scroller",Tt),e.addChildrenMap("mouseWheelScroller",Dt)),V){var Ft,zt;S?(Ft=x?"t":"s",zt=`scroll${i}`):(Ft="t",zt="scroll"),V.on("valuechange",function(_t){e[Ft]=_t,e.emit(zt,e)}).on("inputend",function(){var _t=e[`snapStep${i}`];if(_t){var It=e[x?"topChildOY":"leftChildOX"],de=e[x?"bottomChildOY":"rightChildOX"],ge=e[`childO${i}`],Pe=b8(ge,_t,It),Ve=500*(Math.abs(Pe-ge)/_t);V.setEaseValueDuration(Ve).easeValueTo(Pe,It,de)}})}if(Tt){var kt,zt;S?(kt=`childO${i}`,zt=`scroll${i}`):(kt="childOY",zt="scroll"),Tt.on("valuechange",function(It){e[kt]=It,e.emit(zt,e)})}if(Dt){var qt;S?qt=`addChildO${i}`:qt="addChildOY",Dt.on("scroll",function(_t){var It=e[F];It&&(_t=It),e[qt](-_t,!0)})}};const O8={right:0,left:1,bottom:0,top:1},F8={gameObject:0,rectBounds:1},zl=Phaser.Utils.Objects.GetValue;var D8=function(e,t){var i=e.scene,n=[0,1,0],x=[0,1,0],S=zl(t,"width"),M=zl(t,"height");if(!S){var L=zl(t,"child.expandWidth",!0);L||(n[1]=0)}if(!M){var F=zl(t,"child.expandHeight",!0);F||(x[1]=0)}var G=new _i(i,{column:3,row:3,columnProportions:n,rowProportions:x});switch(VG(e,G,t),e.scrollMode){case 0:kl(e,G,"y",t);break;case 1:kl(e,G,"x",t);break;default:kl(e,G,"y",t),kl(e,G,"x",t);break}return G};const ps=Phaser.Utils.Objects.GetValue;let Mo=class extends jt{constructor(t,i){i===void 0&&(i={});var n=Ec(i),x=n===1;i.orientation=x?0:1,super(t,i),this.type=ps(i,"type","rexScrollable"),this.scrollMode=n;var S=ps(i,"background",void 0);S&&this.addBackground(S);var M=ps(i,"header",void 0);if(M){var L=ps(i,"align.header","center"),F=ps(i,"space.header",0),G;x?G={right:F}:G={bottom:F},this.add(M,{proportion:0,align:L,padding:G,expand:ps(i,"expand.header",!0)})}var V=D8(this,i);V&&this.add(V,{proportion:1,align:"center",padding:0,expand:!0});var $=ps(i,"footer",void 0);if($){var L=ps(i,"align.footer","center"),_=ps(i,"space.footer",0),G;x?G={left:_}:G={top:_},this.add($,{proportion:0,align:L,padding:G,expand:ps(i,"expand.footer",!0)})}this.addChildrenMap("background",S),this.addChildrenMap("header",M),this.addChildrenMap("footer",$),this.runLayoutFlag=!1}postLayout(t,i,n){var x=0,S=0;return this.runLayoutFlag?(S=this.t,this.scrollMode===2&&(x=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(S),this.scrollMode===2&&this.setS(x),super.postLayout(t,i,n),this}set t(t){var i=this.childMargin;if(i.top!==0||i.bottom!==0){var n=this.childrenMap.child,x=n.topChildOY-n.bottomChildOY,S=x+i.top+i.bottom,M=S*t-i.top;t=x!==0?M/x:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,i=this.childMargin;if(i.top!==0||i.bottom!==0){var n=this.childrenMap.child,x=n.topChildOY-n.bottomChildOY,S=x+i.top+i.bottom,M=x*t+i.top;t=S!==0?M/S:0}return t}set s(t){var i=this.childMargin;if(i.left!==0||i.right!==0){var n=this.childrenMap.child,x=n.leftChildOX-n.rightChildOX,S=x+i.left+i.right,M=S*t-i.left;t=x!==0?M/x:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,i=this.childMargin;if(i.left!==0||i.right!==0){var n=this.childrenMap.child,x=n.leftChildOX-n.rightChildOX,S=x+i.left+i.right,M=x*t+i.left;t=S!==0?M/S:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var i=this.childrenMap.slider;i&&i.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var i=this.childrenMap.sliderX;i&&i.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var i=this.childrenMap.scroller;i&&i.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var i=this.childrenMap.mouseWheelScroller;i&&i.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var i=this.childrenMap.mouseWheelScrollerX;i&&i.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setInteractive(),i.input.dropZone=t,this}};Object.assign(Mo.prototype,Ey);var Lc=function(e,t,i){var n=Rr(e);switch(n){case _e:i=e.getWrappedText(t);break;case ti:i=e.getPenManager(t,i);break;case Ti:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},B8=function(e){return e!==void 0&&(this.text=e),this.lines=Lc(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},Oy=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},Fy=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},I8=function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case _e:i=this.lines.slice(e,t).join(`
`);break;case ti:var n=this.lines.getLineStartIndex(e),x=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(n,x,!0);break;case Ti:i=this.lines.slice(e,t).join(`
`);break}return i},Nl=function(e,t){var i=Rr(e);switch(i){case _e:var S=e.style,n=S.wordWrapWidth,x=S.wordWrapCallback;S.wordWrapWidth=0,S.wordWrapCallback=void 0,e.setText(t),S.wordWrapWidth=n,S.wordWrapCallback=x;break;case ti:var S=e.style,M=S.wrapMode;S.wrapMode=0,e.setText(t),S.wrapMode=M;break;case Ti:var L=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=L;break}},Dy=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&G8.call(this)},G8=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},k8=function(){var e=Math.max(Math.floor(Oy.call(this,-this.textOY)),0),t=Fy.call(this,e)+this.textOY,i=I8.call(this,e);return Nl(this.textObject,i),this.textObject.rexSizer.offsetY=t,Dy.call(this),this},z8=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,no.call(this),this},N8=function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case _e:case ti:e.setFixedSize(t,i);var n=e.style,x=Math.max(t,0);this.textObjectType===_e?n.wordWrapWidth=x:(n.wrapMode===0&&(n.wrapMode=1),n.wrapWidth=x);break;case Ti:e.setMaxWidth(t);break}this.setText()}},V8=function(){var e,t,i,n=this.left,x=this.top,S,M,L,F;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,S=n+i.left*this.scaleX,M=x+i.top*this.scaleY,L=this.width*this.scaleX-(i.left+i.right)*this.scaleX,F=this.height*this.scaleY-(i.top+i.bottom)*this.scaleY,N8.call(this,e,L,F),io(e,S,M,L,F,t.align),t.preOffsetY=0,Dy.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))},U8={setText:B8,updateTextObject:k8,preLayout:z8,layoutChildren:V8};const By=Phaser.Utils.Objects.IsPlainObject,Ei=Phaser.Utils.Objects.GetValue,W8=Phaser.Display.Align.TOP_LEFT;class Iy extends an{constructor(t,i,n,x,S,M){By(i)?(M=i,i=Ei(M,"x",0),n=Ei(M,"y",0),x=Ei(M,"width",void 0),S=Ei(M,"height",void 0)):By(x)&&(M=x,x=Ei(M,"width",void 0),S=Ei(M,"height",void 0)),super(t,i,n,x,S,M),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=Ei(M,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(Ei(M,"clampTextOY",!0)),this.alwaysScrollable=Ei(M,"alwaysScrollable",!1);var L=Ei(M,"background",void 0),F=Ei(M,"text",void 0);F===void 0&&(F=X8(t)),this.textCropEnable=Ei(M,"textCrop",!!F.setCrop);var G=Ei(M,"textMask",!this.textCropEnable);L&&this.addBackground(L),this.add(F),this.sizerChildren=[F];var V=this.getSizerConfig(F);V.align=W8,V.padding=en(0),V.expand=!0,this.textObject=F,this.textObjectType=Rr(F),V.preOffsetY=0,V.offsetY=0,G&&(this.textMask=ji.call(this,this.textObject,this)),this.addChildrenMap("background",L),this.addChildrenMap("text",F)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case _e:this.lines.length=0;break;case ti:this.lines.destroy();break;case Ti:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case _e:case ti:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case Ti:var n=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*n;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case _e:case ti:t=this.textObject.lineSpacing;break;case Ti:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(Oy.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=Fy.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,n=this.bottomTextOY,x=this.textOYExceedTop(t),S=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:x?t=i:S&&(t=n)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),x&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=x,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=S}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var X8=function(e){return e.add.text(0,0,"")};Object.assign(Iy.prototype,U8);var Y8=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})},H8={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},$8={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}};const gs=Phaser.Utils.Objects.GetValue;class wo extends Mo{constructor(t,i){i===void 0&&(i={});var n=gs(i,"text",void 0),x=gs(i,"textWidth",void 0),S=gs(i,"textHeight",void 0),M=gs(i,"textCrop",!!n.setCrop),L=gs(i,"textMask",!M),F=gs(i,"content",""),G=new Iy(t,{width:x,height:S,text:n,textMask:L,textCrop:M&&!L,content:F,clampTextOY:gs(i,"clampChildOY",!1),alwaysScrollable:gs(i,"alwaysScrollable",!1)});t.add.existing(G),Y8(G),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:G,expandWidth:x===void 0,expandHeight:S===void 0};var V=gs(i,"space",void 0);V&&(V.child=gs(V,"text",0)),super(t,i),this.addChildrenMap("text",n)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(wo.prototype,H8,$8);const Vl=Phaser.Utils.Objects.GetValue;var Gy=function(e,t,i){t=t?gt(t):{};var n=Vl(i,"background",Ne),x=Vl(i,"text",bc),S=Vl(i,"track",Ne),M=Vl(i,"thumb",Ne);n?t.background=n(e,t.background):delete t.background,x?t.text=x(e,t.text):delete t.text;var L=t.slider;L!==!1&&L!==null&&(L===void 0&&(L={}),S?L.track=S(e,L.track):delete L.track,M?L.thumb=M(e,L.thumb):delete L.thumb,t.slider=L);var F=new wo(e,t);return e.add.existing(F),F},bc=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("key")&&(i="bitmaptext",t.font=t.key));var n;switch(i){case"bitmaptext":case"bitmap":n=new Ol(e,t);break;case"bbcodetext":case"bbcode":n=new Ku(e,0,0,"",t);break;case"label":n=new Ro(e,t);break;case"textarea":n=Gy(e,t);break;default:n=new bl(e,t);break}return Cc(n,t),e.add.existing(n),n},ky=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(i="roundRectangle"));var n;switch(i){case"nineSlice":t.hasOwnProperty("stretchMode")?n=new Po(e,t):n=new To(e,t);break;case"roundRectangle":n=new So(e,t);break;default:n=new Co(e,t);break}return Cc(n,t),e.add.existing(n),n};const Ul=Phaser.Utils.Objects.GetValue;var Wl=function(e,t,i){t=t?gt(t):{};var n=Ul(i,"background",Ne),x=Ul(i,"text",bc),S=Ul(i,"icon",ky),M=Ul(i,"action",ky);return t.background!==null&&n?t.background=n(e,t.background):delete t.background,t.text!==null&&x?t.text=x(e,t.text):delete t.text,t.icon!==null&&S?t.icon=S(e,t.icon):delete t.icon,t.action!==null&&M?t.action=M(e,t.action):delete t.action,t};class Ro extends Vs{constructor(t,i,n){i=Wl(t,i,n),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return Oc(this.getChildren(),"setActiveState",t),this}setHoverState(t){return Oc(this.getChildren(),"setHoverState",t),this}setDisableState(t){return Oc(this.getChildren(),"setDisableState",t),this}}var Oc=function(e,t,i){for(var n=0,x=e.length;n<x;n++){var S=e[n];S&&S[t]&&S[t](i)}};tt.register("simpleLabel",function(e,t){var i=new Ro(this.scene,e,t);return this.scene.add.existing(i),i}),H(window,"RexPlugins.UI.SimpleLabel",Ro);const Ut=Phaser.Utils.Objects.GetValue;var K8=function(e){var t=this.scene,i=Ut(e,"orientation",0);this.setOrientation(i);var n=Ut(e,"icon",void 0),x=Ut(e,"iconMask",void 0),S=Ut(e,"innerBackground",void 0),M=Ut(e,"title",void 0),L=Ut(e,"separator",void 0),F=Ut(e,"text",void 0),G=Ut(e,"action",void 0),V=Ut(e,"actionMask",void 0);if(n){var $=Ut(e,"align.icon","center"),Pt;this.orientation===0?Pt={right:Ut(e,"space.icon",0),top:Ut(e,"space.iconTop",0),bottom:Ut(e,"space.iconBottom",0),left:Ut(e,"space.iconLeft",0)}:Pt={bottom:Ut(e,"space.icon",0),left:Ut(e,"space.iconLeft",0),right:Ut(e,"space.iconRight",0),top:Ut(e,"space.iconTop",0)};var _=Ut(e,"squareFitIcon",!1)?1:0;if(this.add(n,{proportion:0,align:$,padding:Pt,fitRatio:_}),x&&(x=ji.call(this,n,n,1)),!_){var q=Ut(e,"iconSize",void 0);this.setIconSize(Ut(e,"iconWidth",q),Ut(e,"iconHeight",q))}}var st=new jt(t,{orientation:1});S&&st.addBackground(S);var at=Ut(e,"space.separator",0);if(M){var $=Ut(e,"align.title","left"),nt=Ut(e,"expandTitleWidth",!1),ut=Ut(e,"expandTitleHeight",!1),ct,Pt,dt;ct=ut?1:0,dt=nt,Pt={bottom:!L&&F?Ut(e,"space.title",at):0,left:Ut(e,"space.titleLeft",0),right:Ut(e,"space.titleRight",0)},st.add(M,{proportion:ct,expand:dt,align:$,padding:Pt})}if(L){var Pt={top:M?at:0,bottom:F?at:0,left:Ut(e,"space.separatorLeft",0),right:Ut(e,"space.separatorRight",0)};st.add(L,{expand:!0,padding:Pt})}if(F){var $=Ut(e,"align.text","left"),mt=Ut(e,"expandTextWidth",!1),Tt=Ut(e,"expandTextHeight",!1),ct,Pt,dt;ct=Tt?1:0,dt=mt,Pt={left:Ut(e,"space.textLeft",0),right:Ut(e,"space.textRight",0)},st.add(F,{proportion:ct,expand:dt,align:$,padding:Pt})}var Pt=void 0;if(G&&(Pt={right:Ut(e,"space.text",0)}),this.add(st,{proportion:1,padding:Pt}),G){var $=Ut(e,"align.action","center"),Pt;this.orientation===0?Pt={top:Ut(e,"space.actionTop",0),bottom:Ut(e,"space.actionBottom",0),right:Ut(e,"space.actionRight",0)}:Pt={left:Ut(e,"space.actionLeft",0),right:Ut(e,"space.actionRight",0),bottom:Ut(e,"space.actionBottom",0)};var _=Ut(e,"squareFitAction",!1)?1:0;if(this.add(G,{proportion:0,align:$,padding:Pt,fitRatio:_}),V&&(V=ji.call(this,G,G,1)),!_){var Rt=Ut(e,"actionSize");this.setActionSize(Ut(e,"actionWidth",Rt),Ut(e,"actionHeight",Rt))}}this.addChildrenMap("icon",n),this.addChildrenMap("iconMask",x),this.addChildrenMap("innerSizer",st),this.addChildrenMap("innerBackground",S),this.addChildrenMap("title",M),this.addChildrenMap("separator",L),this.addChildrenMap("text",F),this.addChildrenMap("action",G),this.addChildrenMap("actionMask",V)};const Nt=Phaser.Utils.Objects.GetValue;var Z8=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=Nt(e,"title",void 0),n=Nt(e,"separator",void 0),x=Nt(e,"innerBackground",void 0),S=Nt(e,"icon",void 0),M=Nt(e,"iconMask",void 0),L=Nt(e,"text",void 0),F=Nt(e,"action",void 0),G=Nt(e,"actionMask",void 0);if(i){var V=Nt(e,"align.title","left"),$=Nt(e,"expandTitleWidth",!1),_=Nt(e,"expandTitleHeight",!1),q,st,at;q=_?1:0,at=$,st={bottom:Nt(e,"space.title",0),left:Nt(e,"space.titleLeft",0),right:Nt(e,"space.titleRight",0)},this.add(i,{proportion:q,expand:at,align:V,padding:st})}if(n){var nt=Nt(e,"space.separator",0),st={top:i?nt:0,bottom:L?nt:0,left:Nt(e,"space.separatorLeft",0),right:Nt(e,"space.separatorRight",0)};this.add(n,{proportion:0,expand:!0,padding:st})}var ut=Nt(e,"orientation",0),ct=new jt(t,{orientation:ut,rtl:Nt(e,"rtl",!1),space:{left:Nt(e,"space.innerLeft",0),right:Nt(e,"space.innerRight",0),top:Nt(e,"space.innerTop",0),bottom:Nt(e,"space.innerBottom",0)}});if(x&&ct.addBackground(x),this.add(ct,{proportion:1,expand:!0}),S){var V=Nt(e,"align.icon","center"),st;ct.orientation===0?st={right:Nt(e,"space.icon",0),top:Nt(e,"space.iconTop",0),bottom:Nt(e,"space.iconBottom",0),left:Nt(e,"space.iconLeft",0)}:st={bottom:Nt(e,"space.icon",0),left:Nt(e,"space.iconLeft",0),right:Nt(e,"space.iconRight",0),top:Nt(e,"space.iconTop",0)};var dt=Nt(e,"squareFitIcon",!1)?1:0;if(ct.add(S,{proportion:0,align:V,padding:st,fitRatio:dt}),M&&(M=ji.call(this,S,S,1)),!dt){var mt=Nt(e,"iconSize",void 0);this.setIconSize(Nt(e,"iconWidth",mt),Nt(e,"iconHeight",mt))}}if(L){var V=Nt(e,"align.text","left"),Tt=Nt(e,"space.text",0),Pt=Nt(e,"expandTextWidth",!1),Rt=Nt(e,"expandTextHeight",!1),q,st,at;ct.orientation===0?(q=Pt?1:0,F&&(st={right:Tt}),at=Rt):(q=Rt?1:0,F&&(st={bottom:Tt}),at=Pt),ct.add(L,{proportion:q,expand:at,align:V,padding:st})}if(F){var V=Nt(e,"align.action","center"),st;ct.orientation===0?st={top:Nt(e,"space.actionTop",0),bottom:Nt(e,"space.actionBottom",0),right:Nt(e,"space.actionRight",0)}:st={left:Nt(e,"space.actionLeft",0),right:Nt(e,"space.actionRight",0),bottom:Nt(e,"space.actionBottom",0)};var dt=Nt(e,"squareFitAction",!1)?1:0;if(ct.add(F,{proportion:0,align:V,padding:st,fitRatio:dt}),G&&(G=ji.call(this,F,F,1)),!dt){var Dt=Nt(e,"actionSize");this.setActionSize(Nt(e,"actionWidth",Dt),Nt(e,"actionHeight",Dt))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",n),this.addChildrenMap("innerSizer",ct),this.addChildrenMap("innerBackground",x),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",M),this.addChildrenMap("text",L),this.addChildrenMap("action",F),this.addChildrenMap("actionMask",G)};const br=Phaser.Utils.Objects.GetValue,zy=[K8,Z8];class Xl extends ac{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTitleLabel";var n=br(i,"background",void 0);n&&this.addBackground(n);var x=br(i,"title",void 0),S=br(i,"text",void 0);if(x){var M=br(i,"wrapTitle",!1),L=br(i,"adjustTitleFontSize",!1);M?(M===!0&&(M="word"),hc(x,M),i.expandTitleWidth=!0,Rl(x)):L&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Ll(x,{fitHeight:!0}))}if(S){var F=br(i,"wrapText",!1),G=br(i,"adjustTextFontSize",!1);F?(F===!0&&(F="word"),hc(S,F),i.expandTextWidth=!0,Rl(S)):G&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Ll(S,{fitHeight:!0}))}var V=br(i,"layoutMode",0),$=zy[V]||zy[0];$.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}}tt.register("titleLabel",function(e){var t=new Xl(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.TitleLabel",Xl);const Fc=Phaser.Utils.Objects.GetValue;var Ny=function(e,t,i){var n=Fc(i,"innerBackground",Ne),x=Fc(i,"separator",Ne),S=Fc(i,"title",bc),M,L;t.innerBackground!==null&&n&&(M=n(e,t.innerBackground)),t.separator!==null&&x&&(L=x(e,t.separator)),t=Wl(e,t,i),M?t.innerBackground=M:delete t.innerBackground,L?t.separator=L:delete t.separator,t.title!==null&&S?t.title=S(e,t.title):delete t.title;var F=t.background;return F&&(M?e.children.moveBelow(F,M):L&&e.children.moveBelow(F,L)),t};class Vy extends Xl{constructor(t,i,n){i=Ny(t,i,n),super(t,i),this.type="rexSimpleTitleLabel"}setActiveState(t){return Dc(this.getChildren(),"setActiveState",t),this}setHoverState(t){return Dc(this.getChildren(),"setHoverState",t),this}setDisableState(t){return Dc(this.getChildren(),"setDisableState",t),this}}var Dc=function(e,t,i){for(var n=0,x=e.length;n<x;n++){var S=e[n];S&&S[t]&&S[t](i)}};tt.register("simpleTitleLabel",function(e,t){var i=new Vy(this.scene,e,t);return this.scene.add.existing(i),i}),H(window,"RexPlugins.UI.SimpleTitleLabel",Vy);const ee=Phaser.Utils.Objects.GetValue,J8=Phaser.Utils.Objects.IsPlainObject;var Q8=function(e,t){var i=ee(t,"background",void 0),n=ee(t,"icon",void 0),x=ee(t,"iconMask",void 0),S=ee(t,"nameText",void 0),M=ee(t,"valueText",void 0),L=ee(t,"bar",void 0),F=ee(t,"action",void 0),G=ee(t,"actionMask",void 0),V=ee(t,"barShape","line")==="line";if(J8(L)){var $=V?Wd:kh;L=new $(e,L),e.add.existing(L),S&&e.children.moveBelow(L,S),M&&e.children.moveBelow(L,M)}var _=S||M||L;if(i&&this.addBackground(i),n){var q=void 0;this.orientation===0?(_||F)&&(q={right:ee(t,"space.icon",0),top:ee(t,"space.iconTop",0),bottom:ee(t,"space.iconBottom",0)}):(_||F)&&(q={bottom:ee(t,"space.icon",0),left:ee(t,"space.iconLeft",0),right:ee(t,"space.iconRight",0)}),this.add(n,{proportion:0,padding:q}),x&&(x=ji.call(this,n,n,1))}if(_){var st=new jt(e,{orientation:1}),at;if(S||M){if(at=new jt(e,{orientation:0}),S){S.text===""&&S.setText(" "),S.setOrigin(0,S.originY);var q={left:ee(t,"space.name",0)};at.add(S,{padding:q})}if(M){M.text===""&&M.setText(" "),M.setOrigin(1,M.originY),at.addSpace();var q={right:ee(t,"space.value",0)};at.add(M,{padding:q}),this.setValueTextFormatCallback(ee(t,"valueTextFormatCallback",j8),ee(t,"valueTextFormatCallbackScope",void 0))}st.add(at,{expand:!0})}if(L)if(V){var nt=at?ee(t,"space.bar"):0;nt===void 0&&(nt=ee(t,"space.barTop",0));var q={top:nt,bottom:ee(t,"space.barBottom",0),left:ee(t,"space.barLeft",0),right:ee(t,"space.barRight",0)};st.add(L,{expand:!0,padding:q})}else{var q={top:ee(t,"space.barTop",0),bottom:ee(t,"space.barBottom",0),left:ee(t,"space.barLeft",0),right:ee(t,"space.barRight",0)};this.addBackground(L,q)}var q=void 0;F&&(q={right:ee(t,"space.text",0)});var ut=ee(t,"align.text","bottom");this.add(st,{proportion:1,align:ut,padding:q})}if(F){var q;this.orientation===0?q={top:ee(t,"space.actionTop",0),bottom:ee(t,"space.actionBottom",0)}:q={left:ee(t,"space.actionLeft",0),right:ee(t,"space.actionRight",0)},this.add(F,{proportion:0,padding:q}),G&&(G=ji.call(this,F,F,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",n),this.addChildrenMap("iconMask",x),this.addChildrenMap("name",S),this.addChildrenMap("value",M),this.addChildrenMap("bar",L),this.addChildrenMap("action",F),this.addChildrenMap("actionMask",G)},j8=function(e,t,i){return e.toString()};const q8=Phaser.Math.Clamp;var _8={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var n;return this.valueTextFormatCallbackScope?n=this.valueTextFormatCallback(e,t,i):n=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),n},updateValueText(e,t,i){var n=this.childrenMap.value;return n&&this.valueTextFormatCallback&&(n.setText(this.getFormatValueText(e,t,i)),n.layout&&n.layout()),this},setValue(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,e=q8(e,t,i),this.value=e,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new Yi(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class Yl extends jt{constructor(t,i){super(t,i),this.type="rexNameValueLabel",Q8.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,n){var x=this.childrenMap.bar;return x===void 0?this:(x.setValue(t,i,n),this)}easeBarValueTo(t,i,n){var x=this.childrenMap.bar;return x===void 0?this:(x.easeValueTo(t,i,n),this)}setTexture(t,i){var n=this.childrenMap.icon;if(n!==void 0)return n.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,n){var x=this.childrenMap.iconMask;x&&(x.setPosition(),this.resetChildPositionState(x));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,i,n),this}resize(t,i){super.resize(t,i);var n=this.childrenMap.iconMask;n&&n.resize();var x=this.childrenMap.actionMask;return x&&x.resize(),this}}Object.assign(Yl.prototype,_8),tt.register("nameValueLabel",function(e){var t=new Yl(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.NameValueLabel",Yl);class tk extends Ng{constructor(t){super(),this.setTable(Gt(t,"table")),this.setMaxLevel(Gt(t,"maxLevel"));var i=Gt(t,"exp",0),n=Gt(t,"level",void 0);n!==void 0&&!this.checkLevel(n,i)&&(console.error(`Level ${n} and Exp ${i} are mismatch`),n=void 0),this.resetExp(i,n)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=$i(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),n=this._level,x=this._exp,S;;){var M=this.getExp(n),L=this.getExp(n+1);if(S=Math.min(L,t),this.emit("levelup",n,x,S,M,L),n===i&&S===t)break;n++,x=L}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var n=this.getExp(i+1);if(n>t||(i++,this.hasMaxLevel&&n===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,n){return i&&this.on("levelup",i,n),this.exp+=t,i&&this.off("levelup",i,n),this}setExp(t,i,n){return i&&this.on("levelup",i,n),this.exp=t,i&&this.off("levelup",i,n),this}setLevel(t,i,n){return i&&this.on("levelup",i,n),this.level=t,i&&this.off("levelup",i,n),this}}var Bc=function(e,t,i){var n=Gt(i,"reverse",!1),x;if(Ki(e[0]))if(n)for(var M=e.length,S=M-1;S>=0;S--)x=Bc(e[S],t,i);else for(var S=0,M=e.length;S<M;S++)x=Bc(e[S],t,i);else x=ek(e,t,i);return x},ek=function(e,t,i){var n=Gt(i,"argsConvert",void 0),x=Gt(i,"argsConvertScope",void 0),S=e[0];if(Or=Oh(Or,e,1),n){n===!0&&(n=dd,x=void 0);for(var M=0,L=Or.length;M<L;M++)x?Or[M]=n.call(x,Or[M],e):Or[M]=n(Or[M],e)}var F;typeof S=="string"?(F=t[S],F==null&&(F=Gt(t,S,null))):F=S;var G=F.apply(t,Or);return G},Or=[];const ts=Phaser.Utils.Objects.GetValue;class Uy extends ye{constructor(t,i){super(t,i);var n=ts(i,"clock",void 0);n||(n=new Fg(t)),this.clock=n,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON(ts(t,"clock",void 0)),this.state=ts(t,"state",0),this.commands=ts(t,"commands",[]),this.scope=ts(t,"scope",void 0),this.setTimeUnit(ts(t,"timeUnit",0)),this.setDtMode(ts(t,"dtMode",0)),this.index=ts(t,"index",0),this.nextTime=ts(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,n){this.stop();var x=ts(n,"timeUnit",void 0);x!==void 0&&this.setTimeUnit(x);var S=ts(n,"dtMode",void 0);return S!==void 0&&this.setDtMode(S),t=t.filter(function(M){var L=M[0];return!isNaN(L)}).map(function(M){var L=M[0];return typeof L=="string"&&(M[0]=parseFloat(M[0])),M}),this.dtMode===0&&t.sort(function(M,L){var F=M[0],G=L[0];return F>G?1:F<G?-1:0}),Oh(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...n){var x;return Array.isArray(i)?x=i:x=[i,...n],this.commands.push([t,x]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var n=i[this.index],x=n[1];if(Ki(x)||(x=Oh(ik,n,1)),Bc(x,this.scope),this.emit("runcommand",x,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=rk[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=sk[t]),this.timeUnit=t,this}}var ik=[];const sk={ms:0,s:1,sec:1},rk={abs:0,absolute:0,inc:1,increment:1};var nk=function(e,t,i,n,x){var S=(i-t)/(x-n)*this.totalEaseDuration,M=i===x?e+1:e;this.player.append(0,this.setEaseValueDuration,S).append(0,this.easeValueTo,i,n,x).append(0,this.emit,"levelup.start",e,t,i,this).append(S,a).append(0,this.emit,"levelup.end",M,t,i,this),this.player.isPlaying||this.player.start()},ak={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}};const Wy=Phaser.Utils.Objects.GetValue;class Ic extends Yl{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration(Wy(i,"easeDuration",1e3)),this.levelCounter=new tk(Wy(i,"levelCounter")),this.player=new Uy(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",nk,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(Ic.prototype,ak),tt.register("expBar",function(e){var t=new Ic(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.ExpBar",Ic);const Hl=jt.prototype.add,Xy=jt.prototype.addSpace;var Gc=function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var n=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");n&&Xy.call(this),Hl.call(this,e,{proportion:i,expand:!0});var x=!this.buttonsExpand&&this.buttonsAlign==="center";x&&Xy.call(this),this.hasTailSpace=x}else Hl.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var S=this.sizerChildren.length-1;Hl.call(this,e,{index:S,proportion:i,expand:!0})}else Hl.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this},ok={addButton(e){if(Ki(e))for(var t=e,i=0,n=t.length;i<n;i++)Gc.call(this,t[i]);else Gc.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)Gc.call(this,e[t]);return this}};const hk=jt.prototype.remove,lk=jt.prototype.clear;var kc=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),hk.call(this,e,t),this)},uk={remove(e,t){if(Ki(e))for(var i=e,n=0,x=i.length;n<x;n++)kc.call(this,i[n],t);else kc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,lk.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)kc.call(this,t[i],e);return this}},dk=function(e,t,i){if(e){var n=this.setValueCallback,x=this.setValueCallbackScope;n&&(x?n.call(x,e,t,i):n(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},fk=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(i){if(e._selected!==i){var n=e._selected;e._selected=i,dk.call(t,e,i,n)}},enumerable:!0,configurable:!0}),e.selected=!1},ck={add(e){return this.buttons.push(e),e._click||(e._click=new Os(e,this.clickConfig),e._click.on("click",function(t,i,n,x){this.fireEvent("button.click",i,n,x)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,n,x){this.fireEvent("button.over",i,n,x)},this).on("out",function(t,i,n,x){this.fireEvent("button.out",i,n,x)},this).on("down",function(t,i,n,x){this.fireEvent("button.down",i,n,x)},this).on("up",function(t,i,n,x){this.fireEvent("button.up",i,n,x)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),fk.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}};const vk=Phaser.Utils.Array.Remove;var pk={remove(e){return this.buttonsType&&delete e.selected,vk(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}},gk=function(e,t,...i){if(this.buttons){var n;if(typeof t=="number"){if(n=t,t=this.buttons[n],!t)return}else if(n=this.buttons.indexOf(t),n===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,n,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,n,...i):this.eventEmitter.emit(e,t,n,...i)}};const Ao=Phaser.Utils.Objects.GetValue;var mk={setButtonsType(e){e===void 0&&(e={});var t=Ao(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,n;switch(i=Ao(e,"setValueCallback",void 0),n=Ao(e,"setValueCallbackScope",void 0),i===void 0&&(i=Ao(e,"setButtonStateCallback",void 0),n=Ao(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=n,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(n){if(e._value!==n){e._value=n;for(var x=0,S=t.length;x<S;x++){var M=t[x];M.rexSizer.hidden||(i===void 0?M.name===n?M.selected=!0:M.selected=!1:i===x?M.selected=!0:M.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(n){i=this.buttons.indexOf(n),e.value=n.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var n=e[t];n.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,n=t.length;i<n;i++){var x=t[i];x.rexSizer.hidden||(e[x.name]=x.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,n=0,x=i.length;n<x;n++){var S=i[n];if(!S.rexSizer.hidden&&S.name===e){S.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,n=t.length;i<n;i++){var x=t[i];if(!x.rexSizer.hidden&&x.name===e)return x.selected}}},xk=function(e,t){if(e)if(Ki(e)){for(var i,n=0,x=e.length;n<x;n++)if(i=Yy(e[n],t),i)return i}else{var i;for(var S in e)if(i=Yy(e[S],t),i)return i}else return null},Yy=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null},$l={getButton(e){var t=this.buttons,i,n=typeof e;switch(n){case"number":i=t[e];break;case"string":i=xk(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var n=0,x=i.length;n<x;n++)i[n]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,n=t.length;i<n;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,n=0,x=i.length;n<x;n++){var S=i[n];S._click.isOver&&(S._click.isOver=!1,t.fireEvent("button.out",S))}var S=this.getButton(e);return S&&(S._click.isOver=!0,t.fireEvent("button.over",S)),this},showButton(e){return Pr(this.getButton(e)),this},hideButton(e){return Er(this.getButton(e)),this},isButtonShown(e){return xf(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,n=0,x=i.length;n<x;n++)t?e.call(t,i[n],n,i):e(i[n],n,i);return this}};class Kl{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var yk={fireEvent:gk};Object.assign(Kl.prototype,ck,pk,mk,$l,yk);var zc={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}};const un=Phaser.Utils.Objects.GetValue;let Ye=class extends jt{constructor(t,i){i===void 0&&(i={});var n=i.space;typeof n=="number"&&(i.space={item:n}),super(t,i),this.type="rexButtons",this.buttonGroup=new Kl({parent:this,eventEmitter:un(i,"eventEmitter",this),groupName:un(i,"groupName",void 0),clickConfig:un(i,"click",void 0)}).setButtonsType(i);var x=un(i,"background",void 0),S=un(i,"buttons",void 0);this.buttonsExpand=un(i,"expand",!1),this.buttonsAlign=un(i,"align",void 0),x&&this.addBackground(x),S&&this.addButtons(S),this.addChildrenMap("background",x),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Ye.prototype,ok,uk,$l,zc),tt.register("buttons",function(e){var t=new Ye(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Buttons",Ye);const Ck=_i.prototype.add;var Sk={addButton(e,t,i){return Ck.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,n=e;i<n;i++)this.addButton(e[i],void 0,t);return this}};const Tk=_i.prototype.remove,Pk=_i.prototype.clear;var Nc=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),Tk.call(this,i,t),this):this},Ek={remove(e,t){if(Ki(e))for(var i=e,n=0,x=i.length;n<x;n++)Nc.call(this,i[n],t);else Nc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Pk.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)Nc.call(this,t[i],e);return this}};const ms=Phaser.Utils.Objects.GetValue;class Zl extends _i{constructor(t,i){i===void 0&&(i={});var n=ms(i,"row",0),x=ms(i,"column",i.col||0),S=ms(i,"createCellContainerCallback"),M=ms(i,"buttons",void 0),L=ms(i,"expand",!0),F=L?1:0;if(S&&(i.createCellContainerCallback=void 0),M!==void 0){n=Math.max(n,M.length);for(var G=0,V=M.length;G<V;G++)x=Math.max(x,M[G].length)}i.row=n,i.column=x,i.columnProportions=F,i.rowProportions=F,super(t,i),this.type="rexGridButtons",this.buttonGroup=new Kl({parent:this,eventEmitter:ms(i,"eventEmitter",this),groupName:ms(i,"groupName",void 0),clickConfig:ms(i,"click",void 0)}).setButtonsType(i);var $=ms(i,"background",void 0);if(this.buttonsExpand=L,ms(i,"space",void 0),$&&this.addBackground($),M)for(var _,q,st=0,at=M.length;st<at;st++){_=M[st];for(var nt=0,ut=_.length;nt<ut;nt++)q=_[nt],q&&this.addButton(q,nt,st)}else if(S)for(var ct=0;ct<n;ct++)for(var dt=0;dt<x;dt++){var q=S(t,dt,ct);q&&this.addButton(q,dt,ct)}this.addChildrenMap("background",$),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Zl.prototype,Sk,Ek,$l,zc),tt.register("gridButtons",function(e){var t=new Zl(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.GridButtons",Zl);const Hy=Lr.prototype.add;var Jl=function(e){return Hy.call(this,e),this.buttonGroup.add(e),this},Mk={addButton(e){if(Ki(e))for(var t=e,i=0,n=t.length;i<n;i++)Jl.call(this,t[i]);else Jl.call(this,e);return this},addButtons(e){if(Ki(e[0]))for(var t=e,i,n=0,x=t.length-1;n<=x;n++){i=t[n];for(var S=0,M=i.length;S<M;S++)Jl.call(this,i[S]);n>x&&Hy.addNewLine(this)}else for(var S=0,M=e.length;S<M;S++)Jl.call(this,e[S]);return this}};const wk=Lr.prototype.remove,Rk=Lr.prototype.clear;var Vc=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),wk.call(this,i,t),this):this},Ak={remove(e,t){if(Ki(e))for(var i=e,n=0,x=i.length;n<x;n++)Vc.call(this,i[n],t);else Vc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Rk.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)Vc.call(this,t[i],e);return this}};const ua=Phaser.Utils.Objects.GetValue;class Fr extends Lr{constructor(t,i){i===void 0&&(i={});var n=i.space;typeof n=="number"&&(i.space={item:n,line:n}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new Kl({parent:this,eventEmitter:ua(i,"eventEmitter",this),groupName:ua(i,"groupName",void 0),clickConfig:ua(i,"click",void 0)}).setButtonsType(i);var x=ua(i,"background",void 0),S=ua(i,"buttons",void 0);this.buttonsAlign=ua(i,"align",void 0),x&&this.addBackground(x),S&&this.addButtons(S),this.addChildrenMap("background",x),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Fr.prototype,Mk,Ak,$l,zc),tt.register("fixWidthButtons",function(e){var t=new Fr(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.FixWidthButtons",Fr);var Lk={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,n,x){return this.childrenMap.fileChooser.loadFile(e,t,i,n,x),this},loadFilePromise(e,t,i,n){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,n)}};const $y=Phaser.Utils.Objects.GetValue;class Uc extends Vs{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var n=new xo(t);t.add.existing(n),this.addBackground(n),this.addChildrenMap("fileChooser",n),this.setAccept($y(i,"accept","")),this.setMultiple($y(i,"multiple",!1)),n.on("change",function(x){var S=x.files;S.length!==0&&(S=Array.from(S),this.emit("select",S,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(Uc.prototype,Lk),tt.register("fileSelectorButton",function(e){var t=new Uc(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.FileSelectorButton",Uc);var bk={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},Ok={onCreateModalBehavior(e){e.on("button.click",function(t,i,n,x,S){var M=!1;switch(i){case"actions":M=!0;break;case"choices":e.hasAnyAction()||(M=!0);break}if(M){var L={index:n,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":L.value=e.getChoicesSelectedButtonName();break;case"checkboxes":L.value=e.getChoicesButtonStates();break;default:L.value=void 0}e.modalClose(L)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,sl.modal.call(this,e,t),this}},Ky={};Object.assign(Ky,bk,Ok);const Ot=Phaser.Utils.Objects.GetValue;class Lo extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=Ot(i,"eventEmitter",this);var n=Ot(i,"background",void 0),x=Ot(i,"title",void 0),S=Ot(i,"toolbar",void 0),M=Ot(i,"toolbarBackground",void 0),L=Ot(i,"leftToolbar",void 0),F=Ot(i,"leftToolbarBackground",void 0),G=Ot(i,"content",void 0),V=Ot(i,"description",void 0),$,_=Ot(i,"choices",void 0),q=Ot(i,"choicesBackground",void 0),st,at=Ot(i,"actions",void 0),nt=Ot(i,"actionsBackground",void 0),ut=Ot(i,"click",void 0);n&&this.addBackground(n);var ct;S&&(ct=new Ye(t,{groupName:"toolbar",background:M,buttons:S,orientation:0,space:{item:Ot(i,"space.toolbarItem",0)},click:ut,eventEmitter:this.eventEmitter}),t.add.existing(ct));var dt;if(L&&(dt=new Ye(t,{groupName:"leftToolbar",background:F,buttons:L,orientation:0,space:{item:Ot(i,"space.leftToolbarItem",0)},click:ut,eventEmitter:this.eventEmitter}),t.add.existing(dt)),x||S||L){var mt=!!x&&Ot(i,"expand.title",!0),Tt=Ot(i,"align.title","center"),Pt=x&&!mt&&Tt==="center"||!x&&(S||L),Rt=!Pt,Dt;Rt?Dt=new jt(t,{orientation:0}):Dt=new Di(t),t.add.existing(Dt);var Ft=Rt?!0:{height:!0};if(dt&&Dt.add(dt,{align:"left",expand:Ft}),x){Rt&&!mt&&Tt==="right"&&Dt.addSpace();var zt={left:Ot(i,"space.titleLeft",0),right:Ot(i,"space.titleRight",0)},kt=mt?1:0;Dt.add(x,{align:Tt,proportion:kt,expand:Ft,padding:zt}),Rt&&!mt&&Tt==="left"&&Dt.addSpace()}ct&&(Rt&&!x&&Dt.addSpace(),Dt.add(ct,{align:"right",expand:Ft}));var zt;(G||V||_||at)&&(zt={bottom:Ot(i,"space.title",0),top:Ot(i,"space.titleTop",0)});var kt=Ot(i,"proportion.title",0);this.add(Dt,{padding:zt,proportion:kt,expand:!0})}if(G){var qt=Ot(i,"align.content","center"),_t=Ot(i,"space.content",0),zt={left:Ot(i,"space.contentLeft",0),right:Ot(i,"space.contentRight",0),bottom:V||_||at?_t:0},kt=Ot(i,"proportion.content",0),It=Ot(i,"expand.content",!0);this.add(G,{align:qt,padding:zt,proportion:kt,expand:It})}if(V){var qt=Ot(i,"align.description","center"),de=Ot(i,"space.description",0),zt={left:Ot(i,"space.descriptionLeft",0),right:Ot(i,"space.descriptionRight",0),bottom:_||at?de:0},kt=Ot(i,"proportion.description",0),It=Ot(i,"expand.description",!0);this.add(V,{align:qt,padding:zt,proportion:kt,expand:It})}if(_){var ge=Ot(i,"choicesType","").split("-"),Pe=bo(ge,"wrap")?Fr:bo(ge,"grid")?Zl:Ye,Ve=bo(ge,"radio")?"radio":bo(ge,"checkboxes")?"checkboxes":void 0,Ge={left:Ot(i,"space.choicesBackgroundLeft",0),right:Ot(i,"space.choicesBackgroundRight",0),top:Ot(i,"space.choicesBackgroundTop",0),bottom:Ot(i,"space.choicesBackgroundBottom",0)},oi=Ot(i,"space.choice",0);Pe===Ye?Ge.item=oi:Pe===Fr?(Ge.item=oi,Ge.line=Ot(i,"space.choiceLine",oi)):(Ge.column=Ot(i,"space.choiceColumn",oi),Ge.row=Ot(i,"space.choiceRow",oi));var Vi={width:Ot(i,"choicesWidth",void 0),height:Ot(i,"choicesHeight",void 0),groupName:"choices",buttonsType:Ve,background:q,buttons:_,space:Ge,click:ut,eventEmitter:this.eventEmitter,setValueCallback:Ot(i,"choicesSetValueCallback",void 0),setValueCallbackScope:Ot(i,"choicesSetValueCallbackScope",void 0)};Pe===Ye&&(Vi.orientation=bo(ge,"x")?0:1),$=new Pe(t,Vi),t.add.existing($);var Ui=Ot(i,"space.choices",0),zt={left:Ot(i,"space.choicesLeft",0),right:Ot(i,"space.choicesRight",0),bottom:at?Ui:0},qt=Ot(i,"align.choices","center"),kt=Ot(i,"proportion.choices",0),It=Ot(i,"expand.choices",!0);this.add($,{align:qt,padding:zt,proportion:kt,expand:It}),this.buttonsType=Ve}if(at){st=new Ye(t,{groupName:"actions",background:nt,buttons:at,orientation:0,space:{item:Ot(i,"space.action",0)},expand:Ot(i,"expand.actions",!1),align:Ot(i,"align.actions","center"),click:ut,eventEmitter:this.eventEmitter}),t.add.existing(st);var zt={left:Ot(i,"space.actionsLeft",0),right:Ot(i,"space.actionsRight",0),bottom:Ot(i,"space.actionsBottom",0)},kt=Ot(i,"proportion.action",0);this.add(st,{align:"center",padding:zt,proportion:kt,expand:!0})}Oo(this,"click"),Oo(this,"over"),Oo(this,"out"),Oo(this,"enable"),Oo(this,"disable"),this.addChildrenMap("background",n),this.addChildrenMap("title",x),this.addChildrenMap("toolbar",S),this.addChildrenMap("leftToolbar",L),this.addChildrenMap("content",G),this.addChildrenMap("description",V),this.addChildrenMap("choices",$?$.buttons:void 0),this.addChildrenMap("actions",st?st.buttons:void 0),this.addChildrenMap("choicesSizer",$),this.addChildrenMap("actionsSizer",st),this.addChildrenMap("toolbarSizer",ct),this.addChildrenMap("leftToolbarSizer",dt)}}var bo=function(e,t){return e.indexOf(t)!==-1},Zy={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},Oo=function(e,t){e.on(`button.${t}`,function(i,n,x,S,M){Zy.hasOwnProperty(n)&&e.emit(`${Zy[n]}.${t}`,i,x,S,M)})};Object.assign(Lo.prototype,Ky),tt.register("dialog",function(e){var t=new Lo(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Dialog",Lo);var He=function(e,t,i){var n=new Ro(e,t,i);return e.add.existing(n),n},Fk=function(e){return e===void 0&&(e={}),Dk.call(this,e),Bk.call(this,e),Ik.call(this,e),Gk.call(this,e),this},Dk=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},Bk=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var i=e||"";t.setText(i)}},Ik=function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var S=this.scene,M=this.defaultActionConfig,L=this.defaultActionButtonCreator,F=0,G=i.length;F<G;F++){var V=i[F],$=t[F];$||($=He(S,M,L),this.addAction($)),$.show().resetDisplayContent(V)}this.buttonMode=i.length;for(var F=i.length,G=t.length;F<G;F++)t[F].hide()}else{var n=t[0];n&&(e.buttonA===null?n.hide():(n.show(),n.resetDisplayContent(e.buttonA)));var x=t[1];x&&(e.buttonB===null?x.hide():(x.show(),x.resetDisplayContent(e.buttonB)))}}},Gk=function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var n=this.scene,x=this.defaultChoiceConfig,S=this.defaultActionButtonCreator,M=0,L=i.length;M<L;M++){var F=i[M];typeof F=="string"&&(F={text:F});var G=t[M];G||(G=He(n,x,S),this.addChoice(G)),G.show().resetDisplayContent(F);var V;F.hasOwnProperty("value")?V=F.value:V=F.text,G.setName(V)}for(var M=i.length,L=t.length;M<L;M++)t[M].hide()}};const kk=Phaser.Utils.Objects.Merge;var zk=function(e,t){$i(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=kk(e,this.modalStyle);var i;this.buttonMode===0?this.hasAnyChoice()?i=!1:i=!0:i=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var n=this,x=function(S){var M=S.index;M===n.confirmButtonIndex?n.emit("confirm",S):M===n.cancelButtonIndex&&n.emit("cancel",S),t&&t(S)};return sl.modal.call(this,e,x),this},Nk={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}},Jy={resetDisplayContent:Fk,modal:zk};Object.assign(Jy,Nk);var Vk=function(e){e.setHoverState&&e.setHoverState(!0)},Uk=function(e){e.setHoverState&&e.setHoverState(!1)},Wk=function(e,t,i,n){e.setActiveState&&e.setActiveState(n)},Xk=function(e){e.setDisableState&&e.setDisableState(!1)},Yk=function(e){e.setDisableState&&e.setDisableState(!0)},Qy=function(){this.on("button.over",Vk).on("button.out",Uk).on("button.enable",Xk).on("button.disable",Yk).on("button.statechange",Wk)};const Hk=Phaser.Utils.Objects.GetValue;var $k=function(e,t,i){var n=Hk(t,"$type");n===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(n="textarea");var x;switch(n){case"textarea":x=new Gy(e,t,i);break;default:x=new He(e,t,i);break}return e.add.existing(x),x};const Wc=Phaser.Utils.Objects.GetValue;class Ql extends Lo{constructor(t,i,n){i=i?gt(i):{},n===void 0&&(n={});var x=Wc(n,"background",Ne);i.background=x(t,i.background),i.title=He(t,i.title,n.title),i.content=$k(t,i.content,n.content),i.content instanceof wo&&As(i,"height")&&!As(i,"proportion.content")&&H(i,"proportion.content",1);var S=i.button,M=i.buttonA||S,L=i.buttonB||S,F=i.buttonMode;F===void 0&&(F=M&&L?2:M?1:0);var G=n.button,V=n.buttonA||G,$=n.buttonB||G;switch(F){case 2:i.actions=[He(t,M,V),He(t,L,$)];break;case 1:i.actions=[He(t,M,V)];break;case 0:break;default:i.actions=[];break}var _=i.choice;_&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=F,this.defaultActionConfig=S,this.defaultActionButtonCreator=G,this.defaultChoiceConfig=_,this.defaultChoiceCreator=n.choice;var q=this.childrenMap.actions;this.addChildrenMap("buttonA",q?q[0]:null),this.addChildrenMap("buttonB",q?q[1]:null),Qy.call(this),this.setConfirmButtonIndex(Wc(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(Wc(i,"cancelButtonIndex",1)),this.modalStyle=i.modal||{}}}Object.assign(Ql.prototype,Jy),tt.register("confirmDialog",function(e,t){var i=new Ql(this.scene,e,t);return this.scene.add.existing(i),i}),H(window,"RexPlugins.UI.ConfirmDialog",Ql);const jy=Phaser.Utils.Objects.GetValue;var qy=function(e,t){var i=t.dialog,n=!i;if(n){var x=t.style;x.buttonMode=2,i=new Ql(e,x,t.creators),e.add.existing(i)}i.setConfirmButtonIndex(jy(t,"confirmButtonIndex",0)).setCancelButtonIndex(jy(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),n&&t.onCreateDialog&&t.onCreateDialog(i);var S=t.modal;S&&!S.hasOwnProperty("destroy")&&(S.destroy=n);var M=t.confirm,L=t.cancel,F=t.confirmScope,G=t.cancelScope;M&&i.once("confirm",M,F),L&&i.once("cancel",L,G);var V=function($){i.off("confirm",M,F),i.off("cancel",L,G)};return i.modal(S,V),i};class _y extends Vs{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Xi(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=qy(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}}tt.register("confirmActionButton",function(e){var t=new _y(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.ConfirmActionButton",_y);var Kk=function(e){return e===void 0&&(e={}),Zk.call(this,e),Jk.call(this,e),Qk.call(this,e),this},Zk=function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},Jk=function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var i=e.firstNameTitle||"";t.resetDisplayContent(i)}var n=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(n);else{this.show(n);var x=e.firstName||"";n.setText(x)}var S=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(S);else{this.show(S);var M=e.lastNameTitle||"";S.resetDisplayContent(M)}var L=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(L);else{this.show(L);var F=e.lastName||"";L.setText(F)}},Qk=function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))};const jk=Phaser.Utils.Objects.Merge;var qk=function(e,t){$i(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=jk(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var i=this,n=function(x){x.firstName=i.firstName,x.lastName=i.lastName,i.emit("confirm",x),t&&t(x)};return sl.modal.call(this,e,n),this},_k={resetDisplayContent:Kk,modal:qk},Dr=function(e,t,i){i===void 0&&(i=!0),i?t=t?gt(t):{}:t||(t={});var n=new Ya(e,t);return e.add.existing(n),n};const Gi=Phaser.Utils.Objects.GetValue;var t6=function(e,t,i){var n=Qr(Gi(t,"layoutMode",0)),x=n===0,S=new jt(e,{orientation:n,space:{item:Gi(t,"space.firstName",0)}});e.add.existing(S);var M=new jt(e,{orientation:"x"});e.add.existing(M);var L=Gi(t,"firstNameTitle",t.nameTitle),F=He(e,L,i.firstNameTitle||i.nameTitle);M.add(F,{expand:!0,proportion:Gi(t,"proportion.firstNameTitle",0),padding:{right:Gi(t,"space.firstNameTitle",0)}});var G=t.nameInput||{},V=Gi(t,"firstNameInput",G),$=Dr(e,V,i.firstNameInput||i.nameInput),_=!V.hasOwnProperty("width");M.add($,{expand:!0,proportion:_?1:0});var q=new jt(e,{orientation:"x"});e.add.existing(q);var st=Gi(t,"lastNameTitle",t.nameTitle),at=He(e,st,i.lastNameTitle||i.nameTitle);q.add(at,{expand:!0,proportion:Gi(t,"proportion.lastNameTitle",0),padding:{right:Gi(t,"space.lastNameTitle",0)}});var nt=Gi(t,"firstNameInput",G),ut=Dr(e,nt,i.lastNameInput||i.nameInput),ct=!nt.hasOwnProperty("width");if(q.add(ut,{expand:!0,proportion:ct?1:0}),x){var dt=_?1:0,mt=Gi(t,"proportion.firstName",dt);S.add(M,{expand:!0,proportion:mt});var Tt=ct?1:0,Pt=Gi(t,"proportion.lastName",Tt);S.add(q,{expand:!0,proportion:Pt})}else S.add(M,{expand:_,proportion:0}),S.add(q,{expand:ct,proportion:0});return S.addChildrenMap("firstNameTitle",F),S.addChildrenMap("firstNameInput",$),S.addChildrenMap("lastNameTitle",at),S.addChildrenMap("lastNameInput",ut),S};const e6=Phaser.Utils.Objects.GetValue;class Xc extends Lo{constructor(t,i,n){i===void 0&&(i={}),n===void 0&&(n={}),i.orientation="y";var x=i.space;x&&(x.hasOwnProperty("names")&&(x.content=x.names),x.hasOwnProperty("namesLeft")&&(x.contentLeft=x.namesLeft),x.hasOwnProperty("namesRight")&&(x.contentRight=x.namesRight));var S=e6(n,"background",Ne);i.background=S(t,i.background),i.title=He(t,i.title,n.title),i.content=t6(t,i,n),i.actions=[He(t,i.button,n.button)],super(t,i),this.type="rexNameInputDialog";var M=i.content.childrenMap;this.addChildrenMap("firstNameTitle",M.firstNameTitle),this.addChildrenMap("firstNameInput",M.firstNameInput),this.addChildrenMap("lastNameTitle",M.lastNameTitle),this.addChildrenMap("lastNameInput",M.lastNameInput),this.addChildrenMap("button",i.actions[0]),Qy.call(this),this.modalStyle=i.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}}Object.assign(Xc.prototype,_k),tt.register("nameInputDialog",function(e,t){var i=new Xc(this.scene,e,t);return this.scene.add.existing(i),i}),H(window,"RexPlugins.UI.NameInputDialog",Xc);var dn=function(e,t){if(e){var i=xi(e);i&&i.remove(e,t)}};const jl=Phaser.Utils.Objects.GetValue;var Fo=function(e,t,i){var n=jl(e,`proportion.${t}`,i.proportion),x=jl(e,`align.${t}`,"center"),S=jl(e,`space.${t}`,void 0);if(typeof S=="number"&&i.paddingKey){var M=S;S={},S[i.paddingKey]=M}var L=jl(e,`expand.${t}`,!0);return{proportion:n,align:x,padding:S,expand:L}},ql=function(e){return Fo(e,"header",{proportion:0,paddingKey:"bottom"})},_l=function(e){return Fo(e,"leftSide",{proportion:0,paddingKey:"right"})},tu=function(e){return Fo(e,"content",{proportion:1})},eu=function(e){return Fo(e,"rightSide",{proportion:0,paddingKey:"left"})},iu=function(e){return Fo(e,"footer",{proportion:0,paddingKey:"top"})},Us=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},Ws=function(e,t){var i=new jt(e,{orientation:t});return e.add.existing(i),i},i6=function(e){var t=this.scene,i=e.header;i&&this.add(i,ql(e));var n=Ws(t,0);this.add(n,Us());var x=e.leftSide;x&&n.add(x,_l(e));var S=e.content;S&&n.add(S,tu(e));var M=e.rightSide;M&&n.add(M,eu(e));var L=e.footer;L&&this.add(L,iu(e))},s6=function(e){var t=this.scene,i=e.header;i&&this.add(i,ql(e));var n=Ws(t,0);this.add(n,Us());var x=e.leftSide;x&&n.add(x,_l(e));var S=Ws(t,1);n.add(S,Us());var M=Ws(t,0);S.add(M,Us());var L=e.content;L&&M.add(L,tu(e));var F=e.rightSide;F&&M.add(F,eu(e));var G=e.footer;G&&S.add(G,iu(e))},r6=function(e){var t=this.scene,i=e.header;i&&this.add(i,ql(e));var n=Ws(t,0);this.add(n,Us());var x=Ws(t,1);n.add(x,Us());var S=Ws(t,0);x.add(S,Us());var M=e.leftSide;M&&S.add(M,_l(e));var L=e.content;L&&S.add(L,tu(e));var F=e.footer;F&&x.add(F,iu(e));var G=e.rightSide;G&&n.add(G,eu(e))},n6=function(e){var t=this.scene,i=e.header;i&&this.add(i,ql(e));var n=Ws(t,0);this.add(n,Us());var x=e.leftSide;x&&n.add(x,_l(e));var S=Ws(t,1);n.add(S,Us());var M=e.content;M&&S.add(M,tu(e));var L=e.footer;L&&S.add(L,iu(e));var F=e.rightSide;F&&n.add(F,eu(e))};const a6=Phaser.Utils.Objects.GetValue,tC=[i6,s6,r6,n6];var o6=function(e){e===void 0&&(e={});var t=e.background,i=e.header,n=e.leftSide,x=e.content,S=e.rightSide,M=e.footer;dn(t),dn(i),dn(n),dn(x),dn(S),dn(M),this.clear(!0),t&&this.addBackground(t);var L=a6(e,"layoutMode",0);typeof L=="string"&&(L=h6[L.toUpperCase()]);var F=tC[L]||tC[0];return F.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",n),this.addChildrenMap("content",x),this.addChildrenMap("rightSide",S),this.addChildrenMap("footer",M),this};const h6={FFF:0,LFF:1,FFR:2,LFR:3};class Yc extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}}var l6={build:o6};Object.assign(Yc.prototype,l6),tt.register("holyGrail",function(e){var t=new Yc(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.HolyGrail",Yc);var u6={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return Pr(this.getButton(e,t)),this},showLeftButton(e){return Pr(this.getLeftButton(e)),this},showRightButton(e){return Pr(this.getRightButton(e)),this},showTopButton(e){return Pr(this.getTopButton(e)),this},showBottomButton(e){return Pr(this.getBottomButton(e)),this},hideButton(e,t){return Er(this.getButton(e,t)),this},hideLeftButton(e){return Er(this.getLeftButton(e)),this},hideRightButton(e){return Er(this.getRightButton(e)),this},hideTopButton(e){return Er(this.getTopButton(e)),this},hideBottomButton(e){return Er(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}};const ne=Phaser.Utils.Objects.GetValue;class Hc extends _i{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var n=ne(i,"expand.panel",!1);n&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=ne(i,"eventEmitter",this);var x=ne(i,"background",void 0),S=ne(i,"panel",void 0),M=ne(i,"leftButtons",void 0),L=ne(i,"leftButtonsBackground",void 0),F,G=ne(i,"rightButtons",void 0),V=ne(i,"rightButtonsBackground",void 0),$,_=ne(i,"topButtons",void 0),q=ne(i,"topButtonsBackground",void 0),st,at=ne(i,"bottomButtons",void 0),nt=ne(i,"bottomButtonsBackground",void 0),ut,ct=ne(i,"click",void 0);if(x&&this.addBackground(x),S&&this.add(S,{column:1,row:1,expand:n}),M){var dt=ne(i,"space.leftButtonsOffset",0),mt=ne(i,"space.leftButton",0),Tt=ne(i,"expand.leftButtons",!1),Pt=ne(i,"align.leftButtons","top");F=new Ye(t,{groupName:"left",background:L,buttons:M,orientation:"y",space:{item:mt},expand:Tt,click:ct,eventEmitter:this.eventEmitter}),this.add(F,{column:0,row:1,align:Pt,padding:{top:dt},expand:Tt})}if(G){var Rt=ne(i,"space.rightButtonsOffset",0),Dt=ne(i,"space.rightButton",0),Ft=ne(i,"expand.rightButtons",!1),zt=ne(i,"align.rightButtons","top");$=new Ye(t,{groupName:"right",background:V,buttons:G,orientation:"y",space:{item:Dt},expand:Ft,click:ct,eventEmitter:this.eventEmitter}),this.add($,{column:2,row:1,align:zt,padding:{top:Rt},expand:Ft})}if(_){var kt=ne(i,"space.topButtonsOffset",0),qt=ne(i,"space.topButton",0),_t=ne(i,"expand.topButtons",!1),It=ne(i,"align.topButtons","left");st=new Ye(t,{groupName:"top",background:q,buttons:_,orientation:"x",space:{item:qt},expand:_t,align:ne(i,"align.topButtons",void 0),click:ct,eventEmitter:this.eventEmitter}),this.add(st,{column:1,row:0,align:It,padding:{left:kt},expand:_t})}if(at){var de=ne(i,"space.bottomButtonsOffset",0),ge=ne(i,"space.bottomButton",0),Pe=ne(i,"expand.bottomButtons",!1),Ve=ne(i,"align.bottomButtons","left");ut=new Ye(t,{groupName:"bottom",background:nt,buttons:at,orientation:"x",space:{item:ge},expand:Pe,align:ne(i,"align.bottomButtons",void 0),click:ct,eventEmitter:this.eventEmitter}),this.add(ut,{column:1,row:2,align:Ve,padding:{left:de},expand:Pe})}this.addChildrenMap("background",x),this.addChildrenMap("panel",S),this.addChildrenMap("leftButtons",M),this.addChildrenMap("rightButtons",G),this.addChildrenMap("topButtons",_),this.addChildrenMap("bottomButtons",at),this.addChildrenMap("leftButtonsSizer",F),this.addChildrenMap("rightButtonsSizer",$),this.addChildrenMap("topButtonsSizer",st),this.addChildrenMap("bottomButtonsSizer",ut)}}Object.assign(Hc.prototype,u6),tt.register("tabs",function(e){var t=new Hc(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Tabs",Hc),tt.register("slider",function(e){var t=new la(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Slider",la);class eC{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=jn[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var n=this._deltaHeight!==t;if(this._deltaHeight=t,n){i.resetTotalRowsHeight();var x=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(x,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(eC.prototype,wi);const iC=Phaser.Utils.Objects.GetValue,d6=Phaser.Utils.Array.SpliceOne;class f6{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new yt,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=60);var n=t.cellWidth;return n===void 0&&(n=60),this.setDefaultCellHeight(i),this.setDefaultCellWidth(n),this.initCells(iC(t,"cellsCount",0)),this.setColumnCount(iC(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var n=0;n<t;n++)i[n]=null;return this}insertNewCells(t,i){var n=this.cells;if(t===n.length){var x=t+i;n.legth=x;for(var S=t;S<x;S++)n[S]=null}else{var M=[];M.length=i;for(var S=0;S<i;S++)M[S]=null;this.cells.splice(t,0,...M)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var n=t+i,x=t;x<n;x++)this.freeCell(x);return n===this.cells.length?this.cells.length=t:(i===1?d6(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var i=this.parent;if(i.expandCellSize){var n=i.scrollMode===0?i.width:i.height,x=n/t;this.setDefaultCellWidth(x)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var L=t/this.defaultCellHeight;switch(i){case 1:L=Math.ceil(L);break;default:L=Math.floor(L);break}return L}for(var n=this.rowCount,x=t,S,M,L=0;;)if(M=this.getRowHeight(L),x-=M,S=L>=0&&L<n,x>0&&S)L+=1;else{if(x===0)return i===2&&(L+=1),L;if(i===1){var F=L;L+=1,S=L>=0&&L<n,S||(L=F)}return L}}widthToColIndex(t,i){if(t===0)return 0;var n=t/this.defaultCellWidth;return i?n=Math.ceil(n):n=Math.floor(n),n}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var n,x=0,S=t;S<=i;S++)n=this.getRowHeight(S),x+=n;return x}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var n=0,x,S=0;S<i;S++)x=this.getCellHeight(this.colRowToCellIndex(S,t)),n<x&&(n=x);return n}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var n=this.getCell(t,!1),x=n?n.deltaHeight:0;i=this.defaultCellHeight+x}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var n=this.newCell(t);this.cells[t]=n}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new eC(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,n,x=t,S=i.length;x<S;x++)n=i[x],n&&(n.index=x);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var c6=function(e){var t=this.table,i=this.topTableOY,n=this.bottomTableOY,x=e>i,S=e<n;if(this.clampTableOXY){var M=t.rowCount,L=t.heightToRowIndex(this.instHeight,1);M<L?e=0:x?e=i:S&&(e=n)}return this._tableOY!==e&&(this._tableOY=e),x&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=x,S&&(this.execeedBottomState||this.emit("execeedbottom",this,e,n)),this.execeedBottomState=S,this},v6=function(e){var t=this.table,i=this.leftTableOX,n=this.rightTableOX,x=e>this.leftTableOX,S=e<this.rightTableOX;if(this.clampTableOXY){var M=t.colCount,L=t.widthToColIndex(this.instWidth,!0);M<L?e=0:x?e=i:S&&(e=n)}return this._tableOX!==e&&(this._tableOX=e),x&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=x,S&&(this.execeedRightState||this.emit("execeedright",this,e,n)),this.execeedRightState=S,this},$c=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const p6=Phaser.Geom.Intersects.RectangleToRectangle,g6=Phaser.Geom.Rectangle.Overlaps;var m6=function({parent:e,mask:t,children:i,onVisible:n,onInvisible:x,scope:S}){if(t){i===void 0&&(i=e.getAllChildren());for(var M=!!n||!!x,L=e.getBounds(),F=$c(t),G,V,$,_,q=0,st=i.length;q<st;q++)if(G=i[q],G!==F&&x6(G)){if(_=G.visible,G.getBounds)switch(V=G.getBounds(V),$=y6(L,V),$){case 4:C6(e,G);break;case 0:p6(L,V)||g6(L,V)?Kc(e,G,t):S6(e,G);break;default:Kc(e,G,t);break}else Kc(e,G,t);if(M&&G.visible!==_){var at=G.visible?n:x;at&&(S?at.call(S,G,e):at(G,e))}}}},x6=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},y6=function(e,t){var i=t.top,n=t.bottom,x=t.left,S=t.right,M=0;return M+=e.contains(x,i)?1:0,M+=e.contains(x,n)?1:0,M+=e.contains(S,i)?1:0,M+=e.contains(S,n)?1:0,M},C6=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},Kc=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},S6=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const da=Phaser.Utils.Objects.GetValue,T6={update:0,everyTick:1};var sC={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(da(e,"updateMode",0)),this.enableChildrenMask(da(e,"padding",0)),this.setMaskLayer(da(e,"layer",void 0)),this.onMaskGameObjectVisible=da(e,"onVisible"),this.onMaskGameObjectInvisible=da(e,"onInvisible"),this.maskGameObjectCallbackScope=da(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=T6[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=ji.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):m6({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=$c(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}},P6=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;i||this.setScale(1);var n=this.table,x=this.tableOYOffset,S=this.tableOY+x,M=this.tableOX;this.startRowIndex=Math.max(n.heightToRowIndex(-S,2),0);for(var L=this.startRowIndex,F=Math.max(n.widthToColIndex(-M),0),G=F,V=n.colRowToCellIndex(G,L),$=this.bottomBound,_=this.rightBound,q=n.cellsCount-1,st=n.colCount-1,at=this.getCellTLX(G),nt=at,ut=this.getCellTLY(L)+x,ct=ut;ct<$&&V<=q;){if(this.table.isValidCellIdx(V)){var dt=n.getCell(V,!0);this.visibleCells.set(dt),this.preVisibleCells.contains(dt)||this.showCell(dt);var mt,Tt;if(this.scrollMode===0?(mt=nt,Tt=ct):(mt=ct,Tt=nt),dt.cellContainerAlign==null)dt.setXY(mt,Tt);else{var Pt=dt.getContainer();io(Pt,mt,Tt,dt.width,dt.height,dt.cellContainerAlign),dt.setXY(Pt.x,Pt.y)}}nt<_&&G<st?(nt+=n.getColWidth(G),G+=1):(nt=at,ct+=n.getRowHeight(L),G=F,L+=1),V=n.colRowToCellIndex(G,L)}i||this.setScale(e,t)}},rC=function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},E6=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},M6=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},w6=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},nC=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},R6=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(aC.call(this),this.hideCells()),aC.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},aC=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},A6=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},oC=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),n=this.tableOX-(this.scrollMode===0?e:t),x=this.table,S=x.heightToRowIndex(-i,0),M=x.widthToColIndex(-n),L=x.colRowToCellIndex(M,S);return L===null||!this.isCellVisible(L)?null:L},L6=function(e,t){var i=oC.call(this,e,t);if(i!==null)return this.getCellContainer(i)},b6=function(e,t){return this.visibleCells.each(e,t),this},O6=function(e,t){return this.visibleCells.iterate(e,t),this},F6=function(e,t){return this.table.cells.slice().forEach(e,t),this},D6=function(e,t){return this.table.cells.forEach(e,t),this},B6=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const I6=Phaser.Math.Clamp;var G6=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=I6(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},k6=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,n=e,x=e+t;n<x;n++)i=this.getCell(n,!1),i&&(this.visibleCells.contains(i)&&(nC.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},z6=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},N6=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},V6=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(rC.call(this,t),this)},hC={setTableOY:c6,setTableOX:v6,showCells:P6,showCell:rC,getCellTLX:E6,getCellTLY:M6,hideCells:w6,hideCell:nC,updateTable:R6,isCellVisible:A6,pointToCellIndex:oC,pointToCellContainer:L6,eachVisibleCell:b6,iterateVisibleCell:O6,eachCell:F6,iterateCell:D6,setCellsCount:B6,insertNewCells:G6,removeCells:k6,setColumnCount:z6,setGridSize:N6,updateVisibleCell:V6};Object.assign(hC,sC);const U6=Phaser.GameObjects.Group,lC=Phaser.Structs.Set,ki=Phaser.Utils.Objects.GetValue;let uC=class extends yi{constructor(t,i,n,x,S,M){M===void 0&&(M={}),super(t,i,n,x,S),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new lC,this.preVisibleCells=new lC,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var L=ki(M,"reuseCellContainer",!1);L&&(this.cellContainersPool=new U6(t));var F=ki(M,"cellVisibleCallback",null);if(F!==null){var G=ki(M,"cellVisibleCallbackScope",void 0);this.on("cellvisible",F,G)}if(F=ki(M,"cellInvisibleCallback",null),F!==null){var G=ki(M,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",F,G)}ki(M,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(ki(M,"mask",void 0)),this.setScrollMode(ki(M,"scrollMode",0)),this.setClampMode(ki(M,"clampTableOXY",!0)),this.setStartFromBottomEnable(ki(M,"startFromBottom",!1));var V,$,_,q=this.scrollMode===0;if(q?(V=M.cellWidth,$=M.cellHeight,_=M.columns):(V=M.cellHeight,$=M.cellWidth,_=ki(M,"rows",M.columns)),this.fixedCellSize=ki(M,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&V===void 0,_||(_=1),this.fixedCellSize)_=Math.max(Math.floor(this.instWidth/V),1);else if(this.expandCellSize){var x=q?this.width:this.height;V=x/_}M.cellWidth=V,M.cellHeight=$,M.columns=_,this.table=new f6(this,M),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=W6[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,i){return this.setTableOY(i).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,i){return this.addTableOY(i).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var i=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-i).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var i=this.table.getCell(t,!1),n;return i&&(n=i.getContainer()),n}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,i){var n;return typeof t=="number"?n=this.table.getCell(t,!0):n=t,n.height=i,this}setCellWidth(t,i){var n;return typeof t=="number"?n=this.table.getCell(t,!0):n=t,n.width=i,this}resetAllCellsSize(t,i){if(this.scrollMode===1){var n=t;t=i,i=n}this.table.setDefaultCellHeight(i).setDefaultCellWidth(t);for(var x=this.table.cells,S=0,M=x.length;S<M;S++){var L=x[S];L&&(L.deltaHeight=0)}if(this.fixedCellSize){var F=Math.floor(this.instWidth/t);this.table.setColumnCount(F)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,i){if(this.width===t&&this.height===i)return this;if(super.resize(t,i),this.fixedCellSize){var n=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(n)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}};Object.assign(uC.prototype,hC);const W6={v:0,vertical:0,h:1,horizontal:1};var X6=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},Y6=function(e){e.on("cellvisible",function(t,M,n){var x=this.createCellContainerCallback,S=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var M;S?M=x.call(S,t,M,n):M=x(t,M,n),M&&(t.cellContainerAlign==null&&M.setOrigin&&M.setOrigin(0),M.isRexSizer&&M.layout()),t.item=void 0,t.items=void 0,t.setContainer(M)},this)},xs=function(e,t,i,n,x,S,M){var L;if(x===void 0)L=n;else{var F=S.camera,G=n+F.scrollX*(i.scrollFactorX-1),V=x+F.scrollY*(i.scrollFactorY-1);L=i.pointToCellIndex(G,V)}if(L!=null){var $=i.getCellContainer(L);$&&e.emit(t,$,L,S,M)}},H6=function(e,t){e.on("pointerdown",function(i,n,x,S){xs(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,S)},this).on("pointerup",function(i,n,x,S){xs(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,S)},this)},$6=function(e,t){e.on("pointermove",dC,this).on("pointerover",dC,this).on("pointerout",K6,this)},dC=function(e,t,i,n){var x=this.childrenMap.child,S=e.camera,M=e.worldX+S.scrollX*(x.scrollFactorX-1),L=e.worldY+S.scrollY*(x.scrollFactorY-1),F=x.pointToCellIndex(M,L);if(F!==x.input.lastOverCellIndex){var G=x.input.lastOverCellIndex;x.input.lastOverCellIndex=F,xs(this.eventEmitter,"cell.out",x,G,void 0,e,n),xs(this.eventEmitter,"cell.over",x,F,void 0,e,n)}},K6=function(e,t){var i=this.childrenMap.child,n=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,xs(this.eventEmitter,"cell.out",i,n,void 0,e,t)};const Z6=Phaser.Utils.Objects.GetValue;var J6=function(e,t){var i=Z6(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new Os(e,i),e._click.on("click",function(n,x,S,M){xs(this.eventEmitter,"cell.click",x,S.worldX,S.worldY,S,M)},this))};const Q6=Phaser.Utils.Objects.GetValue;var j6=function(e,t){var i=Q6(t,"tap",void 0);i!==!1&&(e._tap=new al(e,i),e._tap.on("tap",function(n,x,S){var M=`cell.${n.tapsCount}tap`;xs(this.eventEmitter,M,n.gameObject,n.worldX,n.worldY,S)},this))};const q6=Phaser.Utils.Objects.GetValue;var _6=function(e,t){var i=q6(t,"press",void 0);i!==!1&&(e._press=new ol(e,i),e._press.on("pressstart",function(n,x,S){xs(this.eventEmitter,"cell.pressstart",e,n.worldX,n.worldY,S)},this).on("pressend",function(n,x,S){xs(this.eventEmitter,"cell.pressend",e,n.worldX,n.worldY,S)},this))};const t7=Phaser.Utils.Objects.GetValue;var e7=function(e,t){var i=t7(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new fo(e,i),e._swipe.on("swipe",function(n,x,S){var M=n.left?"left":n.right?"right":n.up?"up":"down";xs(this.eventEmitter,`cell.swipe${M}`,e,n.worldX,n.worldY,S)},this))},i7=function(e,t){e.setInteractive(),H6.call(this,e,t),$6.call(this,e,t),J6.call(this,e,t),j6.call(this,e,t),_6.call(this,e,t),e7.call(this,e,t)},s7=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this},r7={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}};const es=Phaser.Utils.Objects.GetValue;class Zc extends Mo{constructor(t,i){i===void 0&&(i={});var n=Ec(i),x=es(i,"table",void 0);x===void 0&&(x={}),x.scrollMode=n===2?0:n,x.clampTableOXY=es(i,"clampChildOY",!1);var S=es(x,"width",void 0),M=es(x,"height",void 0),L=new uC(t,0,0,S,M,x);t.add.existing(L);var F,G;x.scrollMode===0?(F=S===void 0,G=M===void 0):(F=M===void 0,G=S===void 0),X6(L),L._minWidth=S===void 0?0:void 0,L._minHeight=M===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:L,expandWidth:F,expandHeight:G};var V=es(i,"space",void 0);V&&(V.child=es(V,"table",0)),super(t,i),this.addChildrenMap("table",L),this.addChildrenMap("tableLayer",L.maskLayer),this.eventEmitter=es(i,"eventEmitter",this);var $=es(i,"createCellContainerCallback",a),_=es(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback($,_),Y6.call(this,L),this.resizeControllerFlag=!1;var q=n===0?"cellheightchange":"cellwidthchange";L.on(q,function(){this.resizeControllerFlag=!0},this),es(x,"interactive",!0)&&i7.call(this,L,x),this.setItems(es(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}resetAllCellsSize(t,i){var n=this.childrenMap.child;return n.resetAllCellsSize(t,i),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var n7={setItems:s7};Object.assign(Zc.prototype,r7,n7),tt.register("gridTable",function(e){var t=new Zc(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.GridTable",Zc);var Jc=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},a7=function(e,t){e.popUp(Jc(e.root.easeIn,e))},o7=function(e,t){e.scaleDown(Jc(e.root.easeOut,e))},h7={setTransitInCallback(e){return e===void 0&&(e=a7),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=o7),this.transitOutCallback=e,this}},l7=function(e,t,i,n,x){var S=Nn(e),M=S.time.delayedCall(t,function(){S.sys.events.once("postupdate",function(){i.call(n,x)})});return M},u7={delayCall(e,t,i){return this.timer=l7(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}},d7=function(e,t){var n=this.childrenMap.subMenu;if(n&&n.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var n=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(n),this.childrenMap.subMenu=n,this.root.emit("expand",n,e,this),this},f7=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},c7=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},fC={expandSubMenu:d7,collapse:f7,collapseSubMenu:c7};Object.assign(fC,h7,u7);var v7=function(e,t,i,n){var x;return i&&(t.scene=e,n?x=i.call(n,t):x=i(t),t.scene=void 0),x},p7=function(e,t,i,n){var x,S=[],M;if(t&&i)for(var L=0,F=t.length;L<F;L++)x=t[L],x.scene=e,n?M=i.call(n,x,L,t):M=i(x,L,t),x.scene=void 0,S.push(M);return S},g7=function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var n=this.root.childrenKey,x=this.items[i][n];x&&this.expandSubMenu(t,x)}},e).on("button.click",function(t,i,n,x){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,n,x),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,n,x){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,n,x),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,n,x){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,n,x),this.root._isPassedEvent=!1)},e)},cC=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Qr(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},m7=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const ai=Phaser.Utils.Objects.GetValue;class Qc extends Ye{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var n=i._rootMenu,x=i._parentMenu,S=i._parentButton,M=ai(i,"popup",!0),L=ai(i,"items",void 0),F=ai(i,"createBackgroundCallback",void 0),G=ai(i,"createBackgroundCallbackScope",void 0);i.background=v7(t,L,F,G);var V=ai(i,"createButtonCallback",void 0),$=ai(i,"createButtonCallbackScope",void 0);if(i.buttons=p7(t,L,V,$),super(t,i),this.type="rexMenu",this.items=L,this.root=n===void 0?this:n,this.isRoot=this.root===this,this.parentMenu=x,this.parentButton=S,this.timer=void 0,this.isRoot){this.isPopUpMode=M;var _=i.bounds;_===void 0&&(_=kn(t)),this.bounds=_,this.subMenuSide=[this.y<_.centerY?qc:ru,this.x<_.centerX?jc:su];var q=ai(i,"subMenuSide",void 0);q!==void 0&&(typeof q=="string"&&(q=x7[q]),this.subMenuSide[this.orientation]=q),this.toggleOrientation=ai(i,"toggleOrientation",!1),this.expandEventName=ai(i,"expandEvent","button.click"),this.easeIn=cC(this,ai(i,"easeIn",0)),this.easeOut=cC(this,ai(i,"easeOut",0)),this.setTransitInCallback(ai(i,"transitIn")),this.setTransitOutCallback(ai(i,"transitOut")),this.createBackgroundCallback=F,this.createBackgroundCallbackScope=G,this.createButtonCallback=V,this.createButtonCallbackScope=$,this.childrenKey=ai(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=ai(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var st=0,at=0;if(!this.root.easeIn.sameOrientation){var nt=Jc(this.root.easeIn,this).orientation,ut=x?x.orientation:this.orientation,q=this.root.subMenuSide[ut];nt===0&&q===su&&(st=1),nt===1&&q===ru&&(at=1)}if(M&&this.setOrigin(st,at).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var q=this.root.subMenuSide[x.orientation];switch(q){case su:this.alignTop(S.top).alignRight(S.left);break;case jc:this.alignTop(S.top).alignLeft(S.right);break;case ru:this.alignLeft(S.left).alignBottom(S.top);break;case qc:this.alignLeft(S.left).alignTop(S.bottom);break}}g7(this),M&&(this.pushIntoBounds(this.root.bounds),m7.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const su=2,jc=0,ru=3,qc=1,x7={up:ru,down:qc,left:su,right:jc};Object.assign(Qc.prototype,fC),tt.register("menu",function(e){var t=new Qc(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Menu",Qc);var y7={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=C7[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const C7={down:0,up:1};var S7=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,n=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(n=!0);break;case 1:e=0;break;default:e=0;break}if(!n)return e},T7=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,n=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(n=!0);break;default:e=0;break}if(!n)return e},P7=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},E7=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},M7=function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:i=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,i):qe(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},w7=function(e,t){t||e.clearMask&&e.clearMask(!1)},vC={getChildrenWidth:S7,getChildrenHeight:T7,getChildrenSizers:P7,resetChildPosition:E7,layoutChildren:M7,removeChildCallback:w7};Object.assign(vC,sC);const pC=Phaser.Utils.Objects.IsPlainObject,zi=Phaser.Utils.Objects.GetValue,R7=Phaser.Display.Align.TOP_LEFT;class gC extends an{constructor(t,i,n,x,S,M){pC(i)?(M=i,i=zi(M,"x",0),n=zi(M,"y",0),x=zi(M,"width",void 0),S=zi(M,"height",void 0)):pC(x)&&(M=x,x=zi(M,"width",void 0),S=zi(M,"height",void 0)),super(t,i,n,x,S,M),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(zi(M,"scrollMode",0));var L=zi(M,"clampChildOY",!0),F=zi(M,"clampChildOX",L);this.setClampMode(L,F);var G=zi(M,"child",void 0),V=zi(M,"expand",!0);G.setOrigin&&G.setOrigin(0),this.add(G),this.sizerChildren=[G];var $=this.getSizerConfig(G);$.align=R7,$.expand=V,this.child=G;var _=zi(M,"mask");this.setupChildrenMask(_),this.childrenMask&&(this.maskGameObject=$c(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=My[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?re(this.child):se(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?se(this.child):re(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,n=this.bottomChildOY,x=this.childOYExceedTop(t),S=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:x?t=i:S&&(t=n)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),x&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=x,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=S}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,n=this.rightChildOX,x=this.childOXExceedLeft(t),S=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:x?t=i:S&&(t=n)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),x&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=x,S&&(this.execeedRightState||this.emit("execeedright",this,t,n)),this.execeedRightState=S}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(gC.prototype,vC);var A7=function(e,t,i,n){if(!this.hasChild(e))return this;var x,S;switch(this.scrollMode){case 0:x=this.childOY+nu.call(this,e,"y",t);break;case 1:x=this.childOY+nu.call(this,e,"x",t);break;default:x=this.childOY+nu.call(this,e,"y",t),S=this.childOX+nu.call(this,e,"x",t);break}return i===void 0||i<=0?(this.childOY=x,this.scrollMode===2&&(this.childOX=S)):(this._easeScrollChildOY===void 0&&(this._easeScrollChildOY=new Yi(this)),this._easeScrollChildOY.restart({key:"childOY",to:x,duration:i,ease:n}),this.scrollMode===2&&(this._easeScrollChildOX===void 0&&(this._easeScrollChildOX=new Yi(this)),this._easeScrollChildOX.restart({key:"childOX",to:S,duration:i,ease:n}))),this};const mC=["top","bottom","centerY","center"],xC=["left","right","centerX","center"];var nu=function(e,t,i){t=t.toUpperCase();var n=t==="Y",x=this.childrenMap.child,S;if(n){if(i)for(var M=0,L=mC.length;M<L;M++){var F=mC[M];if(i.indexOf(F)!==-1){i=F;break}}switch(i){case"top":S=x.top-$r(e).y;break;case"bottom":S=x.bottom-Da(e).y;break;case"centerY":case"center":S=x.centerY-dg(e).y;break;default:var G=x.top-$r(e).y,V=x.bottom-Da(e).y;G<=0&&V>=0?S=0:S=Math.abs(G)<=Math.abs(V)?G:V;break}}else{if(i)for(var M=0,L=xC.length;M<L;M++){var F=xC[M];if(i.indexOf(F)!==-1){i=F;break}}switch(i){case"left":S=x.left-$r(e).x;break;case"right":S=x.right-Fa(e).x;break;case"centerX":case"center":S=x.centerX-dg(e).x;break;default:var $=x.left-$r(e).x,_=x.right-Fa(e).x;$<=0&&_>=0?S=0:S=Math.abs($)<=Math.abs(_)?$:_;break}}return S};const Br=Phaser.Utils.Objects.GetValue;class Do extends Mo{constructor(t,i){i===void 0&&(i={});var n=Ec(i),x=Br(i,"panel",void 0);x===void 0&&(x={}),x.scrollMode=n,x.clampChildOY=Br(i,"clampChildOY",!1),x.clampChildOX=Br(i,"clampChildOX",!1);var S=new gC(t,x);t.add.existing(S);var M,L;switch(n){case 0:M=Br(i,"expand.panel",!0),L=!0;break;case 1:M=!0,L=Br(i,"expand.panel",!0);break;default:M=!0,L=!0}i.type="rexScrollablePanel",i.child={gameObject:S,expandWidth:M,expandHeight:L,align:Br(i,"align.panel","center")};var F=Br(i,"space",void 0);F&&(F.child=Br(F,"panel",0)),super(t,i),this.addChildrenMap("panel",S.child),this.addChildrenMap("panelLayer",S.maskLayer),this.addChildrenMap("mask",S.maskGameObject),this.addChildrenMap("scrollableBlock",S)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),vl(this.childrenMap.child,t),this}}var L7={scrollToChild:A7};Object.assign(Do.prototype,L7);const b7=Phaser.Utils.Objects.GetValue;var O7=function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var $=[],n=this.listCreateButtonCallback;if(n)for(var x=this.options,S=0,M=x.length;S<M;S++){var L=n.call(this,e,x[S],S,x);L&&(e.add.existing(L),$.push(L))}var F=this.listWidth;F===void 0&&(this.listAlignMode==="text"?F=this.getElement("text").width:F=this.width);var G=this.listHeight,V={width:F,buttons:$,space:this.listSpace},$,_,q;if(this.listCreateSliderThumbCallback?q=G>0||this.listMaxHeight>0:q=!1,!q)V.height=G,$=yC(e,V,this.listWrapEnable),_=$;else{var $=yC(e,V,this.listWrapEnable);if(this.listMaxHeight>0&&($.layout(),$.height<=this.listMaxHeight&&(_=$)),!_){G===0&&(G=this.listMaxHeight);var st=CC(e,this.listCreateSliderTrackCallback),at=CC(e,this.listCreateSliderThumbCallback);_=new Do(e,{height:G,scrollMode:0,panel:{child:$,mask:{padding:1}},slider:{track:st,thumb:at,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:b7(this.listSpace,"panel",0)}}),e.add.existing(_)}}return t&&_.addBackground(t,"background"),this.listDraggable&&_.setDraggable(!0),_!==$&&$.on("button.over",function(nt,ut,ct,dt){_.emit("button.over",nt,ut,ct,dt)}).on("button.out",function(nt,ut,ct,dt){_.emit("button.out",nt,ut,ct,dt)}).on("button.click",function(nt,ut,ct,dt){_.emit("button.click",nt,ut,ct,dt)}),_},yC=function(e,t,i){var n;return i?(t.orientation="x",n=new Fr(e,t)):(t.orientation="y",n=new Ye(e,t)),e.add.existing(n),n},CC=function(e,t,i){var n;return t&&(n=t.call(i,e),e.add.existing(n)),n},F7=function(e,t,i,n,x){var S={};switch(S.mode=0,i){case 0:case"x":S.end={x:0};break;case 1:case"y":S.end={y:0};break;default:S.end=0;break}return S.duration=t,S.ease=n,x===void 0?x=new ao(e,S):x.resetFromJSON(S),x.restart(),x},D7=function(e,t,i,n,x){return As(e,t)?Gt(e,t):As(e,i)?Gt(e,i):x};const fa=Phaser.Utils.Objects.GetValue;var B7=function(e,t){var i=fa(t,"expandDirection",void 0);typeof i=="string"&&(i=I7[i]);var n=D7(t,"alignTarget","alignTargetX"),x=fa(t,"alignTargetY",n),S=fa(t,"alignOffsetX",0),M=fa(t,"alignOffsetY",0),L=fa(t,"alignSide",""),F=L.includes("right"),G=fa(t,"bounds"),V=i===0,$=i===1,_=!V&&!$,q=F?1:0,st=V||_?0:1;e.setOrigin(q,st);var at,nt;F?at=n.getTopRight().x:at=n.getTopLeft().x,nt=x.getBottomLeft().y,e.setPosition(at+S,nt+M);var ut=G;ut||(ut=kn(e.scene)),_&&e.getBottomLeft().y>ut.bottom&&(nt=x.getTopLeft().y,e.setOrigin(0,1).setPosition(at+S,nt+M))};const I7={down:0,up:1},SC=Phaser.Utils.Objects.GetValue;class TC extends _h{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(S,M){vf(S,M,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(S,M){F7(S,M,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),B7(t,i),t.isRexSizer&&t.layout();var n=SC(i,"touchOutsideClose",!1),x=SC(i,"anyTouchClose",!1);x&&(n=!1),x?this.once("open",this.anyTouchClose,this):n&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&il(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var G7=function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=O7.call(this);e.on("button.over",function(n,x,S,M){this.currentOverIndex=x,this.listOnButtonOver&&this.listOnButtonOver.call(this,n,x,S,M),this.emit("button.over",this,e,n,x,S,M)},this).on("button.out",function(n,x,S,M){this.currentOverIndex===x&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,n,x,S,M),this.emit("button.out",this,e,n,x,S,M)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new TC(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(n,x,S,M){this.listOnButtonClick&&this.listOnButtonClick.call(this,n,x,S,M),this.emit("button.click",this,e,n,x,S,M),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){i.requestClose()}),this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},k7=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},z7=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},N7=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},V7=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this},U7={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}},PC={openListPanel:G7,closeListPanel:k7,toggleListPanel:z7,emitButtonClick:N7,emitButtonOver:V7};Object.assign(PC,y7,U7);const ae=Phaser.Utils.Objects.GetValue;class Bo extends Vs{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(ae(i,"options"));var n=ae(i,"list");this.setWrapEnable(ae(n,"wrap",!1)),this.setCreateButtonCallback(ae(n,"createButtonCallback")),this.setCreateListBackgroundCallback(ae(n,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(ae(n,"createTrackCallback")),this.setCreateListSliderThumbCallback(ae(n,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(ae(n,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(ae(n,"scroller")),this.setListMouseWheelScrollerConfig(ae(n,"mouseWheelScroller")),this.setButtonClickCallback(ae(n,"onButtonClick")),this.setButtonOverCallback(ae(n,"onButtonOver")),this.setButtonOutCallback(ae(n,"onButtonOut")),this.setListExpandDirection(ae(n,"expandDirection")),this.setListEaseInDuration(ae(n,"easeIn",500)),this.setListEaseOutDuration(ae(n,"easeOut",100)),this.setListTransitInCallback(ae(n,"transitIn")),this.settListTransitOutCallback(ae(n,"transitOut")),this.setListMaxHeight(ae(n,"maxHeight",0)),this.setListSize(ae(n,"width"),ae(n,"height",0)),this.setListAlignmentMode(ae(n,"alignParent","text")),this.setListAlignmentSide(ae(n,"alignSide","")),this.setListBounds(ae(n,"bounds")),this.setListSpace(ae(n,"space")),this.setListDraggable(ae(n,"draggable",!1)),this.setValueChangeCallback(ae(i,"setValueCallback"),ae(i,"setValueCallbackScope")),this.setValue(ae(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var n=this.valueChangeCallback,x=this.valueChangeCallbackScope;n&&(x?n.call(x,this,t,i):n(this,t,i)),this.emit("valuechange",this,t,i)}}}Object.assign(Bo.prototype,PC),tt.register("dropDownList",function(e){var t=new Bo(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.DropDownList",Bo);var EC=function(e,t,i){t=t?gt(t):{},i===void 0&&(i={});var n=t.label||t.button,x=t.button||t.label;delete t.label,delete t.button;var S=i.label||i.button||i,M=i.button||i.label||i,L=Wl(e,n,S);L.list=t.list||{},L.list.createButtonCallback=function(V,$){var _=He(V,x,M).resetDisplayContent($);return $.hasOwnProperty("value")&&(_.value=$.value),_};var F=t.track;F&&(L.list.createTrackCallback=function(V){return Ne(V,F)},delete t.track);var G=t.thumb;return G&&(L.list.createThumbCallback=function(V){return Ne(V,G)},delete t.thumb),L.list.onButtonOver=function(V,$,_,q){V.setHoverState&&V.setHoverState(!0)},L.list.onButtonOut=function(V,$,_,q){V.setHoverState&&V.setHoverState(!1)},L};class MC extends Bo{constructor(t,i,n){i=EC(t,i,n),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,n=t.length;i<n;i++){var x=t[i];typeof x=="string"&&(t[i]={text:x,value:x})}return super.setOptions(t),this}}tt.register("simpleDropDownList",function(e,t){var i=new MC(this.scene,e,t);return this.scene.add.existing(i),i}),H(window,"RexPlugins.UI.SimpleDropDownList",MC);var W7=function(e){var t=Rr(e),i,n,x;switch(t){case _e:case ti:i=e.height-e.padding.top-e.padding.bottom,n=e.lineSpacing,x=e.style.metrics.fontSize+e.style.strokeThickness;break;case Ti:i=e.height,n=0;var S=e.fontSize/e.fontData.size;x=e.fontData.lineHeight*S;break}return(i-n)/(x+n)},X7=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var i=this.pageLinesCount;i>0?t=e+i:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var n;switch(this.textObjectType){case _e:case Ti:n=this.lines.slice(e,t).join(`
`);break;case ti:var x=this.lines.getLineStartIndex(e),S=this.lines.getLineEndIndex(t-1);n=this.lines.getSliceTagText(x,S,!0);var M=(n.match(/\n/g)||[]).length;M>t-e-1&&(n=n.substring(0,n.length-1));break}return n},Y7={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(An(i));var i=this.sections.join(`
`);this.lines=Lc(this.parent,i,this.lines);var n=this.totalLinesCount-t,x=this.pageLinesCount,S;x>0?S=Math.ceil(n/this.pageLinesCount):S=1;for(var M=0;M<S;M++)this.pageStartIndexes.push(t+M*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var i=An(e).split(this.pageBreak),n=0,x=i.length;n<x;n++)this.appendPage(i[n]);return this},appendText(e){var t=this.content+An(e);return this.setText(t,!1),this}};const wC=Phaser.Math.Clamp;var H7={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=wC(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=wC(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},$7={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){Nl(this.parent,e)}},RC={getLines:X7};Object.assign(RC,Y7,H7,$7);const ca=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class au extends ye{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=Rr(this.parent),this.pageStartIndexes=[],this.lines=Lc(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){this.setMaxLines(ca(t,"maxLines",void 0)),this.setPageBreak(ca(t,"pageBreak",`\f
`)),this.setText(ca(t,"text","")),this.startLineIndex=ca(t,"start",-1),this.endLineIndex=ca(t,"end",void 0);var i=ca(t,"page");return i===void 0?this.resetIndex():this.setPageIndex(i),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case _e:this.lines.length=0;break;case ti:this.lines.destroy();break;case Ti:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case _e:case ti:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(W7(this.parent));break;case Ti:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(au.prototype,RC);var K7={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?Nl(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(An(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}},Z7=function(e,t,i,n){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),i===void 0&&(i=0),this.typingIndex=i+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(n)),this},AC=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},J7=function(e,t,i,n,x){var S;if(t>0){n===void 0&&(n=0);var M=AC(this.parent,e);S=Q7(M,t)+n}return this.start(e,i,S,x)},Q7=function(e,t){for(var i=void 0,n=0;n<t&&(i=e.indexOf(`
`,i+1),i!==-1);n++);return i},Io=function(e,t,i,n){var x;return e.getSubString?x=e.getSubString(t,i,n):x=t.slice(i,n),x},LC=function(e,t,i,n){var x=this.parent,S;if(n===0){var M=0,L=t;this.insertIndex=L,S=Io(x,e,M,L)}else if(n===1){var L=i,M=L-t;this.insertIndex=0,S=Io(x,e,M,L)}else if(n===2){var F=i/2,M=Math.floor(F-t/2),L=M+t;this.insertIndex=t%2?t:0,S=Io(x,e,M,L)}else if(n===3){var G=Math.floor(t/2),V;if(G>0){var L=i,M=L-G;V=Io(x,e,M,L)}else V="";var $=t-G,_;if($>0){var M=0,L=M+$;this.insertIndex=L,_=Io(x,e,M,L)}else _="",this.insertIndex=0;S=_+V}return this.insertChar=S.charAt(this.insertIndex-1),S},j7=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)LC.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},q7=function(){var e=this.getTimer();return e&&(e.paused=!0),this},_7=function(){var e=this.getTimer();return e&&(e.paused=!1),this},bC={start:Z7,startFromLine:J7,stop:j7,pause:q7,resumeTyping:_7};Object.assign(bC,K7);var tz=function(e,t){var i=Rr(e);switch(i){case _e:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case ti:t=e.getText(t,void 0,void 0,!0);break;case Ti:t=e.setText(t).getTextBounds().wrappedText;break}return t};const Go=Phaser.Utils.Objects.GetFastValue,_c=Phaser.Utils.Objects.GetValue;class ou extends ye{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(_c(t,"wrap",!1)),this.setTypeMode(_c(t,"typeMode",0)),this.setTypingSpeed(_c(t,"speed",333)),this.setTextCallback=Go(t,"setTextCallback",null),this.setTextCallbackScope=Go(t,"setTextCallbackScope",null),this.setTypingContent(Go(t,"text","")),this.typingIndex=Go(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var i=Go(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIndex,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=ez[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=An(t);this.textWrapEnable&&(i=tz(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=AC(this.parent,this.text).length,this}onTyping(){var t=LC.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?Nl(this.parent,t):this.parent.setText(t)}}const ez={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(ou.prototype,bC);const ko=Phaser.Utils.Objects.GetValue;var iz=function(e,t){t===void 0&&(t="rexTextBox");class i extends e{constructor(x,S){super(x,S),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var M=this.childrenMap.text,L=ko(S,"expandTextWidth",!1),F=ko(S,"expandTextHeight",!1);if(L||F){var G=Rr(M);switch(G){case _e:case ti:if(M.resize=function($,_){var q=L?$:0,st=F?_:0;M.setFixedSize(q,st),q>0&&M.setWordWrapWidth(q)},G===ti){var V=M.style;V.wrapMode===0&&(V.wrapMode=1)}break}L&&(M._minWidth=0),F&&(M._minHeight=0)}this.setTypingMode(ko(S,"typingMode","page")),this.page=new au(M,ko(S,"page",void 0)),this.typing=new ou(M,ko(S,"typing",S.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=M.width,this.textHeightSave=M.height}setTypingMode(x){return typeof x=="string"&&(x=sz[x]),this.typingMode=x,this}start(x,S){return S!==void 0&&this.setTypingSpeed(S),this.isRunning=!0,this.page.setText(x),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(x,S){if(S!==void 0&&this.setTypingSpeed(S),this.isRunning)this.page.appendText(x),this.typing.appendText(x);else{if(this.isRunning=!0,this.page.appendText(x),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var M=this.page.getPage(),L=this.typing.textLength;this.typing.start(M,void 0,L)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var x=this.page.getNextPage();this.typing.start(x)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var x=this.page.getPageOfNextLine(),S;this.isFirstLine?S=0:S=this.page.pageLinesCount-1,this.typing.startFromLine(x,S)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(x){return this.isRunning?(this.typing.stop(x),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(x){return this.typing.setTypingSpeed(x),this}setTypingSpeed(x){return this.typing.setTypingSpeed(x),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var x=this.childrenMap.text;(this.textWidthSave!==x.width||this.textHeightSave!==x.height)&&(this.textWidthSave=x.width,this.textHeightSave=x.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(x){this.emit("typechar",x)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var x=this.isLastPage;this.isRunning=!x,this.emit("pageend"),x&&this.emit("complete")}else this.typeNextLine()}}return i};const sz={page:0,line:1};class tv extends iz(Xl){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}}tt.register("textBox",function(e){var t=new tv(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.TextBox",tv);class OC extends tv{constructor(t,i,n){i=Ny(t,i,n),super(t,i)}}tt.register("simpleTextBox",function(e){var t=new OC(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.SimpleTextBox",OC);const Mi=Phaser.Utils.Objects.GetValue;class FC extends jt{constructor(t,i){super(t,i),this.type="rexNumberBar";var n=Mi(i,"background",void 0),x=Mi(i,"icon",void 0),S=Mi(i,"iconMask",void 0),M=Mi(i,"slider",void 0),L=Mi(i,"text",void 0),F=Mi(i,"space.icon",0),G=Mi(i,"space.slider",0);if(n&&this.addBackground(n),x){var V;this.orientation===0?(M||L)&&(V={right:F}):(M||L)&&(V={bottom:F}),this.add(x,{proportion:0,align:"center",padding:V}),S&&(S=ji.call(this,x,x,1))}var $;if(M){M.orientation=this.orientation,M.eventEmitter=this,M.value=null,M.hasOwnProperty("input")||(M.input=-1),$=new la(t,M),t.add.existing($);var V;this.orientation===0?L&&(V={right:G}):L&&(V={bottom:G});var _;if(this.orientation===0){var q=Mi(M,"width",void 0);_=q===void 0?1:0}else{var st=Mi(M,"height",void 0);_=st===void 0?1:0}this.add($,{proportion:_,align:"center",padding:V})}L&&this.add(L),this.addChildrenMap("background",n),this.addChildrenMap("icon",x),this.addChildrenMap("iconMask",S),this.addChildrenMap("slider",$),this.addChildrenMap("text",L);var at=Mi(i,"valuechangeCallback",null);if(at!==null){var nt=Mi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",at,nt)}this.setEnable(Mi(i,"enable",void 0)),this.setValue(Mi(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,n),this}addValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,n),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,n),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}}tt.register("numberBar",function(e){var t=new FC(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.NumberBar",FC),tt.register("scrollBar",function(e){var t=new Rc(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.ScrollBar",Rc);const ev=Phaser.Utils.Objects.GetValue,DC={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class BC extends Di{constructor(t,i){super(t,i),this.type="rexBadge";var n=ev(i,"background",void 0);n&&this.addBackground(n),this.addChildrenMap("background",n);var x=ev(i,"main",void 0);x&&this.add(x,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",x);for(var S in DC){var M=ev(i,S,void 0);M&&(this.add(M,{key:S,align:DC[S],expand:!1}),this.addChildrenMap(S,M))}}}tt.register("badgeLabel",function(e){var t=new BC(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.BadgeLabel",BC);const rz=Di.prototype.add;var IC=function(e,t,i,n,x,S,M,L,F){return e.setVisible(!1),rz.call(this,e,t,i,n,x,S,M,L,F),this},nz={add:IC,addPage:IC},az=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const GC=yi.prototype.setChildVisible;var oz=function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?(GC.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var n=this.currentPage;return n&&(GC.call(this,n,!0),this.emit("pagevisible",n,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&n.setAlpha(0).fadeIn(t,1)),this},hz=function(e){return this.sizerChildren.hasOwnProperty(e)},kC={getPage:az,swapPage:oz,hasPage:hz};Object.assign(kC,nz);const zC=Phaser.Utils.Objects.GetValue;class hu extends Di{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(zC(i,"swapMode",0)),this.setFadeInDuration(zC(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=lz[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(hu.prototype,kC);const lz={invisible:0,destroy:1};tt.register("pages",function(e){var t=new hu(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Pages",hu);const uz=Phaser.GameObjects.Mesh;class NC extends uz{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const VC=Phaser.Math.Vector3,dz=Phaser.Math.Matrix4;var UC=new VC,WC=new VC,XC=new dz,fz=function(e,t,i,n,x,S,M){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=0),UC.set(t,i,n),WC.set(x,S,M),XC.fromRotationXYTranslation(WC,UC,!0);for(var L=0,F=e.vertices.length;L<F;L++)e.vertices[L].transformMat4(XC)};const cz=Phaser.Utils.Objects.IsPlainObject,fn=Phaser.Utils.Objects.GetValue,vz=Phaser.Geom.Mesh.GenerateGridVerts,iv=Phaser.Math.RadToDeg,lu=Phaser.Math.DegToRad,YC=45,pz=1+1/Math.sin(lu(YC));let HC=class extends NC{constructor(t,i,n,x,S,M){cz(i)&&(M=i,i=fn(M,"x",0),n=fn(M,"y",0),x=fn(M,"key",null),S=fn(M,"frame",null)),super(t,i,n,x,S),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(pz),this.hideCCW=fn(M,"hideCCW",!0);var L=fn(M,"gridWidth",0),F=fn(M,"gridHeight",L);this.resetVerts(L,F),this.prevFrame=this.frame}preUpdate(t,i){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,YC),this}resetVerts(S,M){if(S!==void 0&&(this.gridWidth=S),M!==void 0&&(this.gridHeight=M),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var n=this.frame.cutWidth,x=this.frame.cutHeight,S,M;this.gridWidth===0?S=Math.max(n/8,32):M=this.gridWidth,this.gridHeight===0?M=Math.max(x/8,32):M=this.gridHeight,vz({mesh:this,width:n/this.height,height:x/this.height,widthSegments:Math.ceil(n/S),heightSegments:Math.ceil(x/M)});var L=this.transformInfo;return L&&this.transformVerts(L.x,L.y,L.z,L.rotateX,L.rotateY,L.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return iv(this.rotationX)}set angleX(t){this.rotationX=lu(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return iv(this.rotationY)}set angleY(t){this.rotationY=lu(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return iv(this.rotationZ)}set angleZ(t){this.rotationZ=lu(t)}transformVerts(t,i,n,x,S,M){return t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=0),S===void 0&&(S=0),M===void 0&&(M=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=i,this.transformInfo.rotateX=x,this.transformInfo.rotateY=S,this.transformInfo.rotateZ=M,fz(this,t,i,n,x,S,M),this}};const gz=Phaser.Textures.DynamicTexture;var $C=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var n=new gz(e.sys.textures,null,t,i);return n};const mz=Phaser.Utils.Objects.IsPlainObject,uu=Phaser.Utils.Objects.GetValue;class KC extends HC{constructor(t,i,n,x,S,M){mz(i)&&(M=i,i=uu(M,"x",0),n=uu(M,"y",0),x=uu(M,"width",32),S=uu(M,"height",32));var L=$C(t,x,S);super(t,i,n,L,null,M),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,$d(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState,Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue;var is=function(e,t,i,n){if(Array.isArray(e))for(var x=!1,S=0,M=e.length;S<M;S++){var L=e[S];if(!(n&&!L)&&(i?x=t.call(i,L,S,e):x=t(L,S,e),x))return}else{var x=!1;for(var F in e){var L=e[F];if(!(n&&!L)&&(i?x=t.call(i,L,F,e):x=t(L,F,e),x))return}}};const va=Phaser.Math.RadToDeg,pa=Phaser.Math.DegToRad;class xz extends yi{constructor(t,i,n,x,S,M){super(t,i,n,x,S),this.faces=M,is(M,function(L){L.setPosition(i,n),this.add(L)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return va(this.rotationX)}set angleX(t){this.rotationX=pa(t)}get rotateX(){return va(this.rotationX)}set rotateX(t){this.rotationX=pa(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return va(this.rotationY)}set angleY(t){this.rotationY=pa(t)}get rotateY(){return va(this.rotationY)}set rotateY(t){this.rotationY=pa(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return va(this.rotationZ)}set angleZ(t){this.rotationZ=pa(t)}get rotateZ(){return va(this.rotationZ)}set rotateZ(t){this.rotationZ=pa(t)}setDebug(t,i){return is(this.faces,function(n){n.setDebug(t,i)},null,!0),this}panX(t){return is(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return is(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return is(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,n,x,S,M){return is(this.faces,function(L){L.transformVerts(t,i,n,x,S,M)},null,!0),this}forEachFace(t,i,n){return is(this.faces,t,i,n),this}}const yz=Phaser.Utils.Objects.IsPlainObject,Cz={key:"__WHITE"},Sz={image:HC,rendertexture:KC};var ZC=function(e,t){t===void 0&&(t=Cz);var i;return yz(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new Sz[t.type](e,t),e.add.existing(i)):i=t,i},Tz=function(e,t,i){var n;if(i===void 0){n=[];for(var x,S,M=0,L=t.length;M<L;M++)S=t[M],S?x=ZC(e,S):x=null,n.push(x)}else{n={};for(var x,F,M=0,L=i.length;M<L;M++)F=i[M],t.hasOwnProperty(F)?x=ZC(e,t[F]):x=null,n[F]=x}return n};const Pz=Phaser.Math.DegToRad,JC=Pz(180);var Ez=function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,JC,0):i.transformVerts(0,0,0,JC,0,0))};const sv=Phaser.Utils.Objects.GetValue,Mz=Phaser.Math.Linear;let wz=class extends Kr{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(sv(t,"ease","Cubic")),this.setFrontToBackDirection(sv(t,"frontToBack",0)),this.setBackToFrontDirection(sv(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=QC[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=QC[t]),this.endAngleBF=t===0?-180:180,this}start(t,i){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var n=i+1,x=this.parent;return x.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*n):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*n),super.start(),this}flip(t,i){return this.isRunning?this:(t===void 0&&(t=this.duration),i===void 0&&(i=0),this.start(t,i),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+i+1)%2,this)}flipRight(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,i),this}flipLeft(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,i),this}updateTarget(t,i){var n=this.easeFn(i.t),x=Mz(this.startAngle,this.endAngle,n);t.orientation===0?t.angleY=x:t.angleX=x}};const QC={right:0,"left-to-right":0,left:1,"right-to-left":1},Rz=Phaser.Utils.Objects.IsPlainObject,cn=Phaser.Utils.Objects.GetValue,Az=["back","front"];class Lz extends xz{constructor(t,i,n,x){Rz(i)&&(x=i,i=cn(x,"x",0),n=cn(x,"y",0));var S=Tz(t,x,Az),M=S.back,L=S.front,F=cn(x,"width"),G=cn(x,"height");if(F===void 0||G===void 0){if(F===void 0){var V=L?L.width:0,$=M?M.width:0;F=Math.max(V,$)}if(G===void 0){var _=L?L.height:0,q=M?M.height:0;G=Math.max(_,q)}}super(t,i,n,F,G,S),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,is(S,function(at,nt){this[`${nt}Face`]=at},this);var st=cn(x,"flip",void 0);st!==!1&&(this.flip=new wz(this,st)),this.setOrientation(cn(x,"orientation",0)),Ez(this,S),this.setFace(cn(x,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,is(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,is(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,is(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=bz[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=Oz[t]),this.currentFaceIndex=t;var i=t===1,n=i?180:0;this.orientation===0?this.angleY=n:this.angleX=n}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const bz={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},Oz={front:0,back:1};Phaser.Utils.Objects.GetValue,Phaser.Math.RadToDeg,Phaser.Math.DegToRad,Phaser.Math.Angle.WrapDegrees,Phaser.Math.Angle.ShortestBetween,Phaser.Math.Wrap,Phaser.Math.Linear,Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue,Phaser.Math.DegToRad,Phaser.Math.RadToDeg,Phaser.Math.Angle.WrapDegrees,Phaser.Math.Linear,Phaser.Math.Wrap,Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue,Phaser.Math.Wrap;const Fz=Phaser.Utils.Objects.GetValue;var Dz=function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=Fz(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},jC=function(e,t){if(!e)return!1;for(var i=t.visibleSibling,n=0,x=i.length;n<x;n++)e.setChildVisible(i[n],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},Bz=function(e,t){if(!e)return!1;jC(e,t);var i=t.useParentBounds;$d({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var n=t.visibleSibling,x=e.children,S=0,M=x.length;S<M;S++){var L=x[S];L.visible&&L!==t&&(e.setChildVisible(L,!1),n.push(L))}return t.isRunning=!0,!0},qC=function(e){return class extends e{constructor(i,n){var x=i.scene;super(x,0,0,1,1,n),x.add.existing(this),Dz(i,this,n)}destroy(i){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(i))}enter(){var i=Bz(this.rexContainer.parent,this);return i&&this.syncSize(),this}exit(){return jC(this.rexContainer.parent,this),this}}};class _C extends qC(KC){get perspectiveState(){return this.isRunning}}const Iz=Phaser.Utils.Objects.GetValue;var Gz=function(e){var t=this.scene;this.setSnapshotPadding(Iz(e,"snapshotPadding",0)),e=Xi(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new Lz(t,e);t.add.existing(i);var n=i.flip;if(n){var x=this;n.on("start",function(){x.enterPerspectiveMode()}).on("complete",function(){x.exitPerspectiveMode()})}return i};const kz=["front","back"];var zz={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=kz[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var n=i.visible;i.visible=!0;var x=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(x,{padding:this.snapshotPadding}),i.visible=n,this}};const tS=Phaser.Utils.Objects.GetValue;class rv extends Di{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var n=i.back,x=tS(i,"expand.back",!0);this.add(n,{key:"back",expand:x});var S=i.front,M=tS(i,"expand.front",!0);this.add(S,{key:"front",expand:M}),this.perspectiveCard=Gz.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,n=this.childrenMap.front,x=this.childrenMap.back;this.setChildVisible(n,i),this.setChildVisible(x,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,n,x,S,M){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,n,x,S,M),this}forEachFace(t,i,n){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,n),this}}Object.assign(rv.prototype,zz),tt.register("perspectiveCard",function(e){var t=new rv(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.PerspectiveCard",rv);var Nz=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},Vz=function(e){for(var t=this.getElement("tabs.buttons"),i=0,n=t.length;i<n;i++)if(t[i].name===e)return i};const Uz=Phaser.Utils.Objects.IsPlainObject,nv=Phaser.Utils.Objects.GetValue,Wz=Phaser.Utils.String.UUID;var Xz=function(e,t,i){if(Uz(e)){var n=e;e=nv(n,"key"),t=nv(n,"tab"),i=nv(n,"page")}return e||(e=Wz()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},Yz=function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var n;t!==void 0&&(n=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),n!==void 0&&(this.childrenMap.pages.fadeInDuration=n)}return this},Hz=function(e){return this.swapPage(0,e),this},$z=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this},Kz={swapPage:Yz,swapFirstPage:Hz,swapLastPage:$z},Zz={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,n=i.getByName(e),x=this.childrenMap.pages,S=x.getElement(e);return!n||!S?this:(x.removeChildrenMap(e),i.removeButton(n,t),x.remove(S,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}},Jz=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},Qz=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},jz={top:1,left:3,right:5,bottom:7},eS={top:"bottom",left:"right",right:"left",bottom:"top"},qz=function(e){var t=jz[e];if(t===void 0)return this;var i=this.childrenMap.tabs,n=this.sizerChildren.indexOf(i);if(n===t)return this;this.sizerChildren[n]=null,this.sizerChildren[t]=i;var x=this.getSizerConfig(i).padding,S=eS[this.tabsPosition],M=eS[e];return x[M]=x[S],x[S]=0,this.tabsPosition=e,this},_z={setTabsPadding(e,t){var i=this.childrenMap.tabs;return i.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}},iS={getPageKey:Nz,getPageIndex:Vz,addPage:Xz,getPage:Jz,getTab:Qz,setTabPosition:qz};Object.assign(iS,Kz,Zz,_z);const ss=Phaser.Utils.Objects.GetValue,sS=_i.prototype.add;let du=class extends _i{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var n=ss(i,"expand.pages",!0);n&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabPages";var x=ss(i,"background",void 0);x&&this.addBackground(x);var S=ss(i,"pages"),M=new hu(t,S);t.add.existing(M);var L=ss(i,"tabsPosition",void 0);L===void 0&&(L=ss(i,"tabPosition","top"));var F=ss(i,"wrapTabs",!1),G=F?Fr:Ye,V=ss(i,"tabs",void 0);V===void 0&&(V={}),V.orientation=L==="top"||L==="bottom"?"x":"y",V.buttonsType="radio",!F&&!V.hasOwnProperty("expand")&&(V.expand=ss(i,"expand.tabs",!1));var $=new G(t,V);t.add.existing($),sS.call(this,M,{column:1,row:1,expand:n});var _,q,st=ss(i,"space.item",0);switch(L){case"top":_=1,q=0,st={bottom:st};break;case"bottom":_=1,q=2,st={top:st};break;case"left":_=0,q=1,st={right:st};break;case"right":_=2,q=1,st={left:st};break}sS.call(this,$,{column:_,row:q,padding:st,expand:F?!0:ss(i,"expand.tabs",!1),align:ss(i,"align.tabs","left")}),this.addChildrenMap("background",x),this.addChildrenMap("tabs",$),this.addChildrenMap("pages",M),this.tabsPosition=L,$.on("button.click",function(at){var nt=at.name;M.hasPage(nt)&&M.swapPage(nt)}),$.on("button.statechange",function(at,nt,ut,ct){var dt=ut?"tab.focus":"tab.blur";this.emit(dt,at,at.name)},this),M.on("pagevisible",function(at,nt,ut){this.emit("page.focus",at,nt)}),M.on("pageinvisible",function(at,nt,ut){this.emit("page.blur",at,nt)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(du.prototype,iS),tt.register("tabPages",function(e){var t=new du(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.TabPages",du);class tN extends _h{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var eN={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var n=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();n.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var n=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();n.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}},iN=function(e,t){Ds.popUp.call(e,t,this.expandDirection)},sN=function(e,t){Ds.scaleDown.call(e,t,this.expandDirection)},rN={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=iN.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=sN.bind(this)),this.childTransition.setTransitOutCallback(e),this}};const De=Phaser.Utils.Objects.GetValue;let zo=class extends jt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var n=i.background,x=i.title,S=i.child;n&&this.addBackground(n);var M=De(i,"space"),L=this.orientation===1?"left":"top",_=De(i,"align.title",L),q=De(i,"expand.title",!0);this.add(x,{proportion:0,align:_,expand:q,padding:{left:De(M,"titleLeft",0),right:De(M,"titleRight",0),top:De(M,"titleTop",0),bottom:De(M,"titleBottom",0)}});var F=De(i,"toggleByTarget",void 0),G=De(i,"toggleClickConfig");F===void 0&&(F=x),F&&Ef.onClick.call(F,function(){this.toggle()},this,G),this.childTransition=new tN(S);var V=De(i,"customChildOrigin",!1);if(!V){var $=this.rtl?1:0;S.setOrigin($)}var _=De(i,"align.child","left"),q=De(i,"expand.child",!0),st=q?1:0;this.add(S,{proportion:st,align:_,expand:q,padding:{left:De(M,"childLeft",0),right:De(M,"childRight",0),top:De(M,"childTop",0),bottom:De(M,"childBottom",0)}}),this.addChildrenMap("title",x),this.addChildrenMap("child",S),this.addChildrenMap("background",n);var at=i.transition;this.setTransitionDuration(De(at,"duration",200)),this.setExpandCallback(De(at,"expandCallback",void 0)),this.setCollapseCallback(De(at,"collapseCallback",void 0)),this.reLayoutTarget=De(i,"reLayoutTarget",void 0);var nt=i.onExpandStart;nt&&this.on("expand.start",nt);var ut=i.onExpandComplete;ut&&this.on("expand.complete",ut);var ct=i.onCollapseStart;ct&&this.on("collapse.start",ct);var dt=i.onCollapseComplete;dt&&this.on("collapse.complete",dt);var mt=De(i,"expanded",void 0);mt!==void 0&&this.setExpandedState(mt)}};Object.assign(zo.prototype,eN,rN),tt.register("folder",function(e){var t=new zo(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Folder",zo);var nN=function(e,t,i,n){for(var x in this.treesMap){var S=this.treesMap[x];if(sn(S.nodeBody,e,t,i,n))return S;var M=S.pointToChild(e,t,i,n);if(M)return M}return null},aN=function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],vl(this,e),this},rS=function(e){return class extends e{get isTree(){return!1}get isNode(){return!1}setText(i){return this.text=i,this}get text(){var i=this.nodeBody;return i.text}set text(i){var n=this.nodeBody;n.setText&&n.setText(i)}setTexture(i,n){var x=this.nodeBody;return x.setTexture&&x.setTexture(i,n),this}get texture(){var i=this.nodeBody;if(i)return i.texture}get frame(){var i=this.nodeBody;if(i)return i.frame}}},oN=function(e,t,i,n){for(var x in this.nodesMap){var S=this.nodesMap[x];if(this.isTreeObject(S)){var M=S;if(sn(M.nodeBody,e,t,i,n))return M;var L=M.pointToChild(e,t,i,n);if(L)return L}else if(sn(S,e,t,i,n))return S}return null},hN={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}},No=function(e,t,i,n,x=!1){var S;if(ci(t))S=t,delete t[key];else if($i(t)){var M=t;S=M(e,i),S&&e.add.existing(S)}else(x||t)&&n&&(S=n(e,t,i));return S},av=function(e,t,i){var n=Ne(e,t);return n},lN=function(e,t,i){var n=new Ro(e,t);return e.add.existing(n),n.resetDisplayContent(""),n};const ga=Phaser.Utils.Objects.GetValue;class nS extends rS(jt){constructor(t,i,n){var x=i.space;super(t,{orientation:"x",space:{left:ga(x,"nodeLeft",0),right:ga(x,"nodeRight",0),top:ga(x,"nodeTop",0),bottom:ga(x,"nodeBottom",0)}}),this.type="rexTreeNode";var S=No(t,ga(i,"nodeBackground"),n,av,!1),M=No(t,ga(i,"nodeBody"),n,lN,!0);S&&this.addBackground(S),this.add(M,{proportion:1}),this.nodeBody=M,this.addChildrenMap("background",S),this.addChildrenMap("nodeBody",M)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}}var aS=function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var n=e.displayList;if(Ga(n)){t.isRexContainerLite?t.addToLayer(n):n.add(t);return}e.scene.add.existing(t)};const oS=Phaser.Utils.String.UUID;var uN={addTree(e,t){if(ci(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=oS());var n=this.createTree(t);return aS(this,n),this.insertNode(e,n,{expand:!0}),n._postAddCallback(),n},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var n;ci(t)||(i=t,t=new nS(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(n=i,i=void 0):i&&(n=i.nodeKey,delete i.nodeKey),n===void 0&&(n=oS()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(n)&&(console.error(`[Trees] Duplicate nodeKey '${n}'`),this.removeNode(this.nodesMap[n],!0)),t.nodeKey=n,this.nodesMap[n]=t;var x=this.childrenMap.child;return x.insert(e,t,i),t}},dN={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var n=i.childrenMap.child;return n.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},fN={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTreeObject(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}},hS={pointToChild:oN};Object.assign(hS,hN,uN,dN,fN);var cN=function(e,t,i){var n=new _a(e,t);return e.add.existing(n),n.on("expand.start",function(x){x.setDirection("down")}).on("collapse.complete",function(x){x.setDirection("right")}),n};const lS=Phaser.Utils.Objects.GetValue;var vN=function(e,t){var i=new nS(e,t,{isLeaf:!1});e.add.existing(i);var n=No(e,lS(t,"toggleButton"),{isLeaf:!1},cN,!0);return i.insert(0,n,{padding:{right:lS(t,"space.toggleButton",0)},fitRatio:1}),i.addChildrenMap("toggleButton",n),i};const uS=Phaser.Utils.Objects.GetValue;var pN=function(e,t){var i=new jt(e,{orientation:uS(t,"childrenOrientation","y")});e.add.existing(i);var n=No(e,uS(t,"childrenBackground"),{isLeaf:!1},av,!1);return n&&i.addBackground(n),i};const gN=Phaser.Utils.Objects.Clone;var mN=function(e,t){var i=e?gN(e):{};if(!t)return i;for(var n in t)i[n]=t[n];return i};const Ir=Phaser.Utils.Objects.GetValue;class vn extends rS(zo){constructor(t,i){i===void 0&&(i={});var n=No(t,Ir(i,"background"),{isLeaf:!1},av,!1),x=pN(t,i),S=x.childrenMap.items,M=vN(t,i),L=M.childrenMap.toggleButton,F=M.childrenMap.nodeBody,G=Qr(Ir(i,"orientation","y")),V=i.space;if(V){var $=Ir(V,"indent",0);V.childLeft=Ir(V,"indentLeft",G===1?$:0),V.childRight=Ir(V,"indentRight",0),V.childTop=Ir(V,"indentTop",G===0?$:0),V.childBottom=Ir(V,"indentBottom",0)}var _={background:n,title:M,child:x,toggleByTarget:L,transition:i.transition,orientation:G,space:V,align:i.align,expand:i.expand};super(t,_),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.nodeBody=F,this.addChildrenMap("toggleButton",L),this.addChildrenMap("nodeBody",F),this.addChildrenMap("childrenNodes",S),this.on("expand.start",function(){L.emit("expand.start",L),fu(this,"expand.start")},this).on("expand.complete",function(){L.emit("expand.complete",L),fu(this,"expand.complete")}).on("collapse.start",function(){L.emit("collapse.start",L),fu(this,"collapse.start")}).on("collapse.complete",function(){L.emit("collapse.complete",L),fu(this,"collapse.complete")});var q=this;q._postAddCallback=function(){var st=Ir(i,"expanded",!0);st!==void 0&&q.setExpandedState(st),delete q._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return vn.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof vn}}vn.CreateTree=function(e,t,i){return new vn(e,mN(t,i))};var fu=function(e,t){var i=e.getTreesSizer();i&&i.emit(t,e)};Object.assign(vn.prototype,hS);const xN=Phaser.Utils.String.UUID;var yN={addTree(e){if(ci(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=xN());var n=vn.CreateTree(this.scene,this.treeConfig,t);return aS(this,n),n.nodeKey=i,this.treesMap[i]=n,this.insert(e,n,{expand:!0}),n._postAddCallback(),n}},CN={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},SN={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}},dS={pointToChild:nN,setChildrenInteractive:aN};Object.assign(dS,yN,CN,SN);const TN=Phaser.Utils.Objects.GetValue;class ov extends jt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=TN(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(ov.prototype,dS),tt.register("trees",function(e){var t=new ov(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Trees",ov),tt.register("textArea",function(e){var t=new wo(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.TextArea",wo);var PN=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})},EN={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},MN={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}};const cu=Phaser.Utils.Objects.GetValue;class vu extends Mo{constructor(t,i){i===void 0&&(i={});var n=cu(i,"text"),x;ci(n)?x=n:(n===void 0&&(n={}),n.textArea=!0,x=new Ya(t,n),t.add.existing(x)),PN(x);var S=n.width===void 0,M=n.height===void 0;S&&(x.minWidth=0),M&&(x.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:x,expandWidth:S,expandHeight:M};var L=cu(i,"space",void 0);L&&(L.child=cu(L,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",x);var F,G;x.on("cursorin",function(){var $=x.textOY,_=x.contentHeight,q=F!==$,st=G!==_;F=$,G=_,st&&this.resizeController(),(q||st)&&(this.t=x.t)},this),x.on("textchange",function($){this.emit("textchange",$,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var V=cu(i,"content",void 0);V&&this.setText(V)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(vu.prototype,EN,MN),tt.register("textAreaInput",function(e){var t=new vu(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.TextAreaInput",vu),tt.register("scrollablePanel",function(e){var t=new Do(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.ScrollablePanel",Do);var pu={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}};const Gr={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var wN={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=Gr[e]),e){case Gr.popUp:e=pu.popUp;break;case Gr.fadeIn:e=pu.fadeIn;break}return e||(e=a),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=Gr[e]),e){case Gr.scaleDown:e=pu.scaleDown;break;case Gr.fadeOut:e=pu.fadeOut;break}return e||(e=a),this.transitOutCallback=e,this}},RN={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[a]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[a]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}};const Vo=Phaser.Utils.Objects.GetValue;class hv extends Vs{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(Vo(i,"duration.in",200)),this.setDisplayTime(Vo(i,"duration.hold",1200)),this.setTransitOutTime(Vo(i,"duration.out",200)),this.setTransitInCallback(Vo(i,"transitIn",Gr.popUp)),this.setTransitOutCallback(Vo(i,"transitOut",Gr.scaleDown)),this.player=new Uy(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}get isShowingMessage(){return this.player.isPlaying}}Object.assign(hv.prototype,wN,RN),tt.register("toast",function(e){var t=new hv(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Toast",hv);var AN={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0},LN={setQueueDirection(e){return typeof e=="string"&&(e=AN[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=a),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=a),this.transitOutCallback=e,this}};const bN=Ef.onClick,fS=Bm.delayCall,ON=qh.moveTo;var FN=function(e,t,i){var n=t(e.scene,i,e);if(bN.call(n,function(){e.removeMessage(n)}),e.displayTime){var x=e.transitInTime+e.displayTime+10;fS.call(n,x,function(){e.removeMessage(n)})}return n},cS=function(e){for(var t=e.childrenMap.items,i,n=[],x=0,S=t.length;x<S;x++)i=t[x],n.push({x:i.x,y:i.y});return n},DN=function(e){for(var t=e.childrenMap.items,i,n=[],x=0,S=t.length;x<S;x++)i=t[x],n.push({x:i.scaleX,y:i.scaleY}),i.setScale(1);e.layout();for(var M=cS(e),x=0,S=t.length;x<S;x++){var L=n[x];t[x].setScale(L.x,L.y)}return M},BN=function(e,t,i,n){for(var x=e.childrenMap.items,S=Math.min(t.length,i.length,x.length),M,L,F,G=e.queueDirection,V=0;V<S;V++){switch(M=x[V],L=t[V],F=i[V],M.setPosition(L.x,L.y),G){case 0:if(L.y<=F.y)continue;break;case 1:if(L.y>=F.y)continue;break;case 2:if(L.x<=F.x)continue;break;case 3:if(L.x>=F.x)continue;break}ON.call(M,n,F.x,F.y)}},IN=function(e,t,i){var n=cS(e);e.add(t);var x=DN(e);BN(e,n,x,i),e.transitInCallback(t,i,e)},GN={showMessage(e){var t=FN(this,this.createMessageLabelCallback,e);return IN(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),fS.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,i=e.length;t<i;t++)this.removeMessage(e[t]);return this}},vS={};Object.assign(vS,LN,GN);var pS={transitIn(e,t,i){switch(i.queueDirection){case 0:e.setOrigin(.5,1),Ds.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),Ds.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),Ds.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),Ds.popUp.call(e,t,"x");break}oo.fadeIn.call(e,t)},transitOut(e,t,i){oo.fadeOut.call(e,t)}};const pn=Phaser.Utils.Objects.GetValue;class lv extends jt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexToastQueue",this.setCreateMessageLabelCallback(pn(i,"createMessageLabelCallback")),this.setQueueDirection(pn(i,"queueDirection",1)),this.setTransitInTime(pn(i,"duration.in",200)),this.setDisplayTime(pn(i,"duration.hold",2e3)),this.setTransitOutTime(pn(i,"duration.out",200)),this.setTransitInCallback(pn(i,"transitIn",pS.transitIn)),this.setTransitOutCallback(pn(i,"transitOut",pS.transitOut))}}Object.assign(lv.prototype,vS),tt.register("toastQueue",function(e){var t=new lv(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.ToastQueue",lv);var kN=function(e,t){if(t===!1)return null;if(ci(t))return t;var i=new Nr(e,t);return e.add.existing(i),i};const zN=Phaser.Utils.String.Pad;var gS=function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=zN(i,6,0,1),i=t+i,i},NN=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const Ni=Phaser.Utils.Objects.GetValue,VN=Phaser.Utils.Objects.IsPlainObject,UN=Phaser.Math.Clamp;let uv=class extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorInputLite";var n=Ni(i,"background",void 0),x=Ni(i,"swatch"),S;VN(x)&&(S=Ni(x,"size"));var M=kN(t,Ni(i,"swatch")),L=Ni(i,"inputText",{}),F;if(L&&(F=Dr(t,L)),n&&this.addBackground(n),M){S=Ni(i,"swatchSize",S);var G;S!==void 0?(qe(M,S,S),G=!1):G=Ni(i,"squareExpandSwatch",!0);var V=G?1:0;this.add(M,{proportion:0,expand:!0,fitRatio:V})}if(F){var $=Ni(L,"width")===void 0?1:0,_=Ni(L,"height")===void 0;this.add(F,{proportion:$,expand:_})}this.addChildrenMap("background",n),this.addChildrenMap("swatch",M),this.addChildrenMap("inputText",F),F&&F.on("close",function(){this.setValue(F.value)},this);var q=Ni(i,"valuechangeCallback",null);if(q!==null){var st=Ni(i,"valuechangeCallbackScope",void 0);this.on("valuechange",q,st)}this.setValue(Ni(i,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=Od(t),t==null){var n=this.childrenMap.inputText;n&&n.setText(gS(this._value));return}}else t=UN(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var i=this.childrenMap.swatch;i&&NN(i,t);var n=this.childrenMap.inputText;n&&n.setText(gS(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var WN={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=XN[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const XN={down:0,up:1},mS=Phaser.Display.Color,gu=Phaser.Math.Percent;var YN=function(e,t,i){i===void 0&&(i=!1);var n=e.width,x=e.height,S=new mS;if(i)for(var M=0;M<x;M++){var L=gu(M,0,x);S.setFromHSV(L,1,1),t.fillStyle=S.rgba,t.fillRect(0,M,n,1)}else for(var F=0;F<n;F++){var L=gu(F,0,n);S.setFromHSV(L,1,1),t.fillStyle=S.rgba,t.fillRect(F,0,1,x)}},HN=function(e,t,i){for(var n=e.width,x=e.height,S=t.getImageData(0,0,n,x),M=S.data,L=new mS,F=0;F<x;F++)for(var G=0;G<n;G++){var V=gu(G,0,n),$=1-gu(F,0,x);L.setFromHSV(i,V,$);var _=(F*n+G)*4;M[_]=L.red,M[_+1]=L.green,M[_+2]=L.blue,M[_+3]=255}t.putImageData(S,0,0)};const $N=Phaser.Display.Color,xS=Phaser.Math.Percent,KN=Phaser.Display.Color.ColorToRGBA,ZN=Phaser.Display.Color.HSVToRGB;class JN extends Jr{constructor(t,i,n,x,S,M){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=2),S===void 0&&(S=2),super(t,i,n,x,S),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new $N,this.setOrientation(M),this.setSize(x,S)}setOrientation(t){return this.orientation=Qr(t),this}updateTexture(){return YN(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=xS(t,0,this.width):this.hue=xS(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var n=this.getHue(t,i);return this.colorObject.setFromRGB(ZN(n,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(dv===void 0&&(dv={}),i=dv),this.colorObject.setFromRGB(KN(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}}var dv=void 0,QN=Phaser.Math.RotateAround,yS=function(e,t,i,n){n===void 0?n={}:n===!0&&(fv===void 0&&(fv={}),n=fv),t-=e.width*e.originX,i-=e.height*e.originY;var x={x:t*e.scaleX,y:i*e.scaleY};return QN(x,0,0,-e.rotation),n.x=e.x+t,n.y=e.y+i,n},fv;class jN extends Di{constructor(t,i){i===void 0&&(i={}),super(t,i);var n=i.width!=null?1:0,x=new JN(t).setOrientation(n);t.add.existing(x),this.type="rexColorPicker.HPalette",x.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var S=new Nr(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(S),this.add(x,{key:"paletteCanvas",expand:!0}).add(S,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var n=Math.min(t,i);return this.childrenMap.marker.setSize(n,n),this}onPaletteCanvasPointerDown(t,i,n,x){if(t.isDown){var S=this.childrenMap.paletteCanvas,M=S.getColor(i,n);this.setMarkerPosition(M),this.emit("input",M)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,n=this.childrenMap.marker,x=i.colorToLocalPosition(t,!0);return yS(i,x.x,x.y,n),this.resetChildPositionState(n),this}getHue(t,i){var n=this.childrenMap.paletteCanvas;return n.getHue(t,i)}}const qN=Phaser.Display.Color,CS=Phaser.Math.Percent,SS=Phaser.Display.Color.ColorToRGBA,_N=Phaser.Display.Color.HSVToRGB;class tV extends Jr{constructor(t,i,n,x,S,M){i===void 0&&(i=0),n===void 0&&(n=0),x===void 0&&(x=2),S===void 0&&(S=2),super(t,i,n,x,S),this.type="rexColorPicker.SVPaletteCanvas",M===void 0&&(M=1),this.colorObject=new qN,this.setHue(M),this.setSize(x,S)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return HN(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var n=CS(t,0,this.width),x=1-CS(i,0,this.height);return this.colorObject.setFromRGB(_N(this.hue,n,x)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(SS(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(cv===void 0&&(cv={}),i=cv),this.colorObject.setFromRGB(SS(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}}var cv=void 0;class eV extends Di{constructor(t,i){super(t,i);var n=new tV(t);t.add.existing(n),this.type="rexColorPicker.SVPalette",n.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var x=new Nr(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(x),this.add(n,{key:"paletteCanvas",expand:!0}).add(x,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,n,x){if(t.isDown){var S=this.childrenMap.paletteCanvas,M=S.getColor(i,n);this.setMarkerPosition(M),this.emit("input",M)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,n=this.childrenMap.marker,x=i.colorToLocalPosition(t,!0);return yS(i,x.x,x.y,n),this.resetChildPositionState(n),this}}const rs=Phaser.Utils.Objects.GetValue;class vv extends jt{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var n=rs(i,"hPalette.position",0);typeof n=="string"&&(n=iV[n]);var x=n===0||n===2?1:0;this.setOrientation(x);var S=rs(i,"background",void 0),M,L;if(this.orientation===0){var M=rs(i,"hPalette.width",void 0);M===void 0&&(M=rs(i,"hPalette.size",10))}else L=rs(i,"hPalette.height",void 0),L===void 0&&(L=rs(i,"hPalette.size",10));var F=new jN(t,{width:M,height:L});t.add.existing(F);var G=rs(i,"svPalette.width",void 0),V=rs(i,"svPalette.height",void 0),$=new eV(t,{width:G,height:V});t.add.existing($),S&&this.addBackground(S);var _={proportion:0,expand:!0},q,st;this.orientation===0?(q=G===void 0?1:0,st=V===void 0):(q=V===void 0?1:0,st=G===void 0);var at={proportion:q,expand:st};n===0||n===3?this.add($,at).add(F,_):this.add(F,_).add($,at),F.on("input",function(){$.setHue(F.getHue()),this.setValue($.color,!0)},this),$.on("input",function(){this.setValue($.color,!0)},this),this.addChildrenMap("background",S),this.addChildrenMap("hPalette",F),this.addChildrenMap("svPalette",$);var nt=rs(i,"valuechangeCallback",null);if(nt!==null){var ut=rs(i,"valuechangeCallbackScope",void 0);this.on("valuechange",nt,ut)}this.setValue(rs(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,n){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,i,n),this}}var iV={bottom:0,left:1,top:2,right:3};const ys=Phaser.Utils.Objects.GetValue,sV=Phaser.Display.Color,rV=Phaser.Display.Color.ColorToRGBA,nV=Phaser.Display.Color.HSVToRGB,gn=Phaser.Math.Clamp;class pv extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new sV;var n=ys(i,"background",void 0),x=ys(i,"formatLabel",void 0);ci(x)||(x=He(t,x).resetDisplayContent());var S=[];if(i.inputText0&&i.inputText1&&i.inputText2)S.push(i.inputText0),S.push(i.inputText1),S.push(i.inputText2);else for(var M=ys(i,"inputText"),L=0;L<3;L++){var F=Dr(t,M).setMaxLength(3).setNumberInput();S.push(F)}n&&this.addBackground(n);var V=ys(i,"proportion.formatLabel",0),G=!!x.isRexContainerLite,$=ys(i,"expand.formatLabel",G);this.add(x,{proportion:V,expand:$});for(var V=ys(M,"width")===void 0?1:0,$=ys(M,"height")===void 0,L=0,_=S.length;L<_;L++)this.add(S[L],{proportion:V,expand:$});this.addChildrenMap("background",n),this.addChildrenMap("formatLabel",x),this.addChildrenMap("components",S),this.onClick(x,this.toggleColorFormat,this);for(var L=0,_=S.length;L<_;L++)S[L].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var q=ys(i,"valuechangeCallback",null);if(q!==null){var st=ys(i,"valuechangeCallbackScope",void 0);this.on("valuechange",q,st)}x.setText("RGB"),this.setValue(ys(i,"value",16777215))}get value(){return this._value}set value(t){t=gn(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(rV(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,n,x;return this.colorFormat==="RGB"?(i=this.colorObject.red,n=this.colorObject.green,x=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),n=Math.floor(this.colorObject.s*100),x=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(n),t[2].setValue(x),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=gn(t[0].value,0,255),n=gn(t[1].value,0,255),x=gn(t[2].value,0,255);this.colorObject.setTo(i,n,x)}else{var S=gn(t[0].value,0,359)/360,M=gn(t[1].value,0,100)/100,L=gn(t[2].value,0,100)/100;this.colorObject.setFromRGB(nV(S,M,L))}return this}}const gv=Phaser.Utils.Objects.GetValue;class aV extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var n=gv(i,"background",void 0),x=new vv(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:gv(i,"space.hPalette",8)}});t.add.existing(x);var S;i.colorComponents&&(S=new pv(t,i.colorComponents),t.add.existing(S)),n&&(this.addBackground(n),new tl(n,{stopAllLevels:!1})),this.add(x,{proportion:1,expand:!0}),S&&this.add(S,{proportion:0,expand:!0}),this.addChildrenMap("background",n),this.addChildrenMap("colorPicker",x),this.addChildrenMap("colorComponents",S),x.on("valuechange",function(M){this.setValue(M)},this),S&&S.on("valuechange",function(M){this.setValue(M)},this),this.setValue(gv(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var n=this.childrenMap.colorComponents;n&&n.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var oV=function(t){var t=this.scene,i,n=this.colorPickerCreateBackgroundCallback;n&&(i=n.call(this,t),t.add.existing(i));var x=this.colorPickerWidth;x===void 0&&(x=this.width);var S=this.colorPickerHeight;S===void 0&&(S=x);var M;this.colorComponentsHeight>0?M={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:M=!1;var L=new aV(t,{width:x,height:S,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:M,value:this.value});return t.add.existing(L),L},hV=function(){if(!this.colorPicker){var e=oV.call(this).layout(),t=new TC(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},TS={openColorPicker:hV};Object.assign(TS,WN);const Qe=Phaser.Utils.Objects.GetValue;class mu extends uv{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var n=i.colorPicker,x=n!==!1&&n!==null;if(x){this.setColorPickerSize(Qe(n,"width",160),Qe(n,"height",170));var S,M=Qe(n,"background");M?S=function(q){return Ne(q,M)}:S=Qe(n,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(S),this.setColorPickerHPalettePosition(Qe(n,"hPalettePosition",0)),this.setColorPickerExpandDirection(Qe(n,"expandDirection")),this.setColorPickerEaseInDuration(Qe(n,"easeIn",200)),this.setColorPickerEaseOutDuration(Qe(n,"easeOut",200)),this.setColorPickerTransitInCallback(Qe(n,"transitIn")),this.setColorPickerTransitOutCallback(Qe(n,"transitOut")),this.setColorPickerBounds(Qe(n,"bounds"));var L=Qe(n,"space");L===void 0&&(L={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(L)}var F=i.colorComponents,G=F!==!1&&F!==null;if(x&&G){this.setColorComponentsHeight(Qe(F,"height",30)),this.setColorComponentsFormatLabelConfig(Qe(F,"formatLabel"));var V=Qe(F,"inputText");V||(V=Qe(i,"inputText")),this.setColorComponentsInputTextConfig(V);var $=Qe(F,"space");$===void 0&&($={item:8}),this.setColorComponentsSpace($)}var _=this.childrenMap.swatch;_&&x&&this.onClick(_,this.openColorPicker,this)}}Object.assign(mu.prototype,TS),tt.register("colorInput",function(e){var t=new mu(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.ColorInput",mu),tt.register("colorInputLite",function(e){var t=new uv(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.ColorInputBase",uv),tt.register("colorPicker",function(e){var t=new vv(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.ColorPicker",vv),tt.register("colorComponents",function(e){var t=new pv(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.ColorComponents",pv);var PS=function(e){for(var t=e.scene.input,i=t.manager,n=i.pointersTotal,x=i.pointers,S,M=0;M<n;M++)if(S=x[M],!(!S.primaryDown||t.getDragState(S)!==0||!pd(e,S)))return t.setDragState(S,1),t._drag[S.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(S,3),t.processDragStartList(S)):t.setDragState(S,2),!0;return!1};const xu=Phaser.Utils.Objects.GetValue,ES=Phaser.Math.Distance.Between,MS=Phaser.Math.RotateAroundDistance;class mv extends ye{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(xu(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(xu(t,"enable",!0)),this.setAxisMode(xu(t,"axis",0)),this.setAxisRotation(xu(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=lV[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return PS(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,n){this.isDragging||(this.pointer=t)}onDrag(t,i,n){if(this.pointer===t){var x=this.parent;if(this.axisMode===0)x.x=i,x.y=n;else if(this.axisRotation===0)this.axisMode===1?x.x=i:this.axisMode===2&&(x.y=n);else{var S,M={x:i,y:n};S=ES(M.x,M.y,x.x,x.y),M=MS(M,x.x,x.y,-this.axisRotation,S),this.axisMode===1?M.y=x.y:this.axisMode===2&&(M.x=x.x),S=ES(M.x,M.y,x.x,x.y),M=MS(M,x.x,x.y,this.axisRotation,S),x.x=M.x,x.y=M.y}}}onDragEnd(t,i,n,x){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const lV={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var uV=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],n=this.getSizerConfig(e).padding,x=this.getSizerConfig(t).padding,S=this.getSizerConfig(i).padding;if(this.orientation===0){var M=this.innerLeft+n.left,L=this.innerRight-S.right,F=se(t),G=t.x+F*(0-t.originX),V=t.x+F*(1-t.originX),$=G-x.left-this.space.item-n.right,_=V+x.right+this.space.item+S.left,q=$-M,st=L-_,at=q+st;this.minFirstChildSize>0&&q<this.minFirstChildSize&&(q=this.minFirstChildSize,st=at-q),this.minSecondChildSize>0&&st<this.minSecondChildSize&&(st=this.minSecondChildSize,q=at-st),this.setSplitRatio(q/at)}else{var nt=this.innerTop+n.top,ut=this.innerBottom-S.bottom,ct=re(t),dt=t.y+ct*(0-t.originY),mt=t.y+ct*(1-t.originY),Tt=dt-x.top-this.space.item-n.bottom,Pt=mt+x.bottom+this.space.item+S.top,Rt=Tt-nt,Dt=ut-Pt,Ft=Rt+Dt;this.minFirstChildSize>0&&Rt<this.minFirstChildSize&&(Rt=this.minFirstChildSize,Dt=Ft-Rt),this.minSecondChildSize>0&&Dt<this.minSecondChildSize&&(Dt=this.minSecondChildSize,Rt=Ft-Dt),this.setSplitRatio(Rt/Ft)}var zt=this.minWidth,kt=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(zt,kt)};const Ie=Phaser.Utils.Objects.GetValue,dV=Phaser.Math.Clamp;class wS extends jt{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var n=Ie(i,"background",void 0),x,S,M,L;this.orientation===0?(x="leftPanel",S="rightPanel",M="minLeftPanelWidth",L="minRightPanelWidth"):(x="topPanel",S="bottomPanel",M="minTopPanelHeight",L="minBottomPanelHeight");var F=Ie(i,x,void 0),G=Ie(i,"splitter",void 0),V=Ie(i,S,void 0);n&&this.addBackground(n);var $=Ie(i,"space",void 0);this.add(F,{proportion:1,expand:!0,padding:{left:Ie($,`${x}Left`,0),right:Ie($,`${x}Right`,0),top:Ie($,`${x}Top`,0),bottom:Ie($,`${x}Bottom`,0)}}),this.add(G,{proportion:0,expand:!0,padding:{left:Ie($,"splitterLeft",0),right:Ie($,"splitterRight",0),top:Ie($,"splitterTop",0),bottom:Ie($,"splitterBottom",0)}}),this.add(V,{proportion:1,expand:!0,padding:{left:Ie($,`${S}Left`,0),right:Ie($,`${S}Right`,0),top:Ie($,`${S}Top`,0),bottom:Ie($,`${S}Bottom`,0)}}),this.addChildrenMap("background",n),this.addChildrenMap(x,F),this.addChildrenMap("splitter",G),this.addChildrenMap(S,V),this.minFirstChildSize=Ie(i,M,0),this.minSecondChildSize=Ie(i,L,0),this.setSplitRatio(Ie(i,"splitRatio",.5)),this.splitterDragBehavior=new mv(G,{axis:this.orientation===0?1:2}),G.on("dragstart",function(){this.emit("splitter.dragstart",G,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",G,this.splitRatio)},this).on("drag",function(){uV.call(this),this.emit("splitter.drag",G,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",G,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",G,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=dV(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}tt.register("splitPanels",function(e){var t=new wS(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.SplitPanels",wS);var fV=function(){return function(e,t,i,n){t!=="panel"&&i.setChildVisible(e,!0)}},cV=function(){return function(e,t,i,n){t!=="panel"&&i.setChildVisible(e,!1)}},vV={show:fV,hide:cV},pV=function(e,t){return t===void 0&&(t=1),function(i,n,x,S){n!=="panel"&&x.fadeChild(i,S?0:e,t)}},gV=function(e,t){return t===void 0&&(t=0),function(i,n,x,S){n!=="panel"&&x.fadeChild(i,S?0:e,t)}},mV={show:pV,hide:gV},RS=function(e,t){return function(i,n,x,S){n!=="panel"&&x.moveChild(i,S?0:e,t)}},xV={show:RS,hide:RS},AS=function(e,t){return function(i,n,x,S){n==="panel"&&x.moveChild(i,S?0:e,t)}},yV={show:AS,hide:AS};const xv={visible:vV,fade:mV,move:xV,"move-panel":yV};var CV=function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var n,x;return xv.hasOwnProperty(t)?(n=xv[t].show.apply(null,i),x=xv[t].hide.apply(null,i)):(n=a,x=a),{show:n,hide:x}},SV={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}};const TV=yi.prototype.setChildVisible;var PV={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=gl(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),TV.call(this,e,t),this}},EV={fadeChild(e,t,i){var n;return typeof e=="string"?(n=e,e=this.sizerChildren[n]):n=gl(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===n?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?Ze(e._fade):Promise.resolve()}},MV={moveChild(e,t,i,n){var x;typeof e=="string"?(x=e,e=this.sizerChildren[x]):x=gl(this.sizerChildren,e),t===void 0&&(t=500);var S=this.currentChildKey===x;if(n===void 0)switch(x){case"leftSide":case"rightSide":n=se(e);break;case"topSide":case"bottomSide":n=re(e);break;default:if(S)switch(this.previousChildKey){case"leftSide":case"rightSide":n=se(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":n=re(this.sizerChildren[this.previousChildKey]);break;default:n=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":n=se(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":n=re(this.sizerChildren[this.currentChildKey]);break;default:n=0;break}break}var M,L,F,G;if(S)switch(x){case"panel":switch(this.previousChildKey){case"leftSide":M=!0;break;case"rightSide":L=!0;break;case"topSide":F=!0;break;case"bottomSide":G=!0;break}break;case"leftSide":L=!0;break;case"rightSide":M=!0;break;case"topSide":G=!0;break;case"bottomSide":F=!0;break}else switch(x){case"panel":switch(this.currentChildKey){case"leftSide":L=!0;break;case"rightSide":M=!0;break;case"topSide":G=!0;break;case"bottomSide":F=!0;break}break;case"leftSide":M=!0;break;case"rightSide":L=!0;break;case"topSide":F=!0;break;case"bottomSide":G=!0;break}return M?e.moveTo(t,`-=${n}`,void 0,i):L?e.moveTo(t,`+=${n}`,void 0,i):F?e.moveTo(t,void 0,`-=${n}`,i):G?e.moveTo(t,void 0,`+=${n}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,n){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,n),e._easeMove?Ze(e._easeMove):Promise.resolve()}},LS={};Object.assign(LS,PV,EV,MV);const pi=Phaser.Utils.Objects.GetValue;class yv extends Di{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var n=pi(i,"showChildCallback",void 0);if(n)if($i(n)){var x=pi(i,"showChildCallbackScope",void 0);this.on("showchild",n,x);var S=pi(i,"hideChildCallback",void 0),M=pi(i,"hideChildCallbackScope",void 0);this.on("hidechild",S,M)}else{var L=CV(n);this.on("showchild",L.show),this.on("hidechild",L.hide)}var F=pi(i,"background",void 0),G=pi(i,"panel",void 0),V=pi(i,"leftSide",void 0),$=pi(i,"rightSide",void 0),_=pi(i,"topSide",void 0),q=pi(i,"bottomSide",void 0);if(F&&this.addBackground(F),G&&this.add(G,"panel","center",0,!0),V){var st=pi(i,"expand.left",!0);this.add(V,"leftSide","left-top",0,{height:st})}if($){var st=pi(i,"expand.right",!0);this.add($,"rightSide","right-top",0,{height:st})}if(_){var st=pi(i,"expand.top",!0);this.add(_,"topSide","left-top",0,{width:st})}if(q){var st=pi(i,"expand.bottom",!0);this.add(q,"bottomSide","left-bottom",0,{width:st})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(yv.prototype,SV,LS),tt.register("sides",function(e){var t=new yv(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Sides",yv);var wV=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const RV=Phaser.Utils.Array.GetFirst,AV=Phaser.Utils.Array.Remove;var LV=function(e){var t=RV(this.inputHandlers,"name",e);return t&&AV(this.inputHandlers,t),this};class Uo extends Vs{constructor(t,i){i=Wl(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?gt(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class bV extends Uo{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var n=new _a(t,i.expandedIcon);t.add.existing(n),this.addSpace().add(n,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",n)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",n=this.childrenMap.expandedIcon;return n.setDirection(i),this}}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var bS=function(e,t){var i=Xi(e);for(var n in t)i.hasOwnProperty(n)||(i[n]=t[n]);return i},Wo=function(e,t,i){return Ne(e,bS(t,i))},OV={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},FV={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class OS extends zo{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}}Object.assign(OS.prototype,OV,FV);const ma=Phaser.Utils.Objects.GetValue;var DV=function(e,t,i){var n=e.scene,x=ma(i,"title")||{},S=new bV(n,x);n.add.existing(S),S.on("folder.expand",function(){S.setExpandedState(!0)}).on("folder.collapse",function(){S.setExpandedState(!1)});var M={root:ma(i,"root"),styles:ma(i,"tweaker"),space:ma(i,"space")||{}},L=e.createTweaker(M),F=ma(i,"background"),G=Wo(n,t,F),V=new OS(n,{title:S,child:L,background:G,transition:{duration:ma(i,"transition.duration",200)}});return n.add.existing(V),V};const FS=Phaser.Utils.Objects.GetValue;var BV=function(e){e===void 0&&(e={});var t=FS(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var i=DV(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=FS(e,"expanded",!0);n!==void 0&&i.setExpandedState(n);var x=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,x),x},IV={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},GV={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)t[i].setInputRowTitleWidth(e);return this}};class DS extends du{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}}Object.assign(DS.prototype,IV,GV);const yu=Phaser.Utils.Objects.GetValue;var kV=function(e,t,i){var n=e.scene,x=new DS(n,i);n.add.existing(x);for(var S=yu(i,"tab"),M={root:yu(i,"root"),styles:yu(i,"tweaker")},L=yu(t,"pages")||[],F=0,G=L.length;F<G;F++){var V=L[F];x.addPage({key:V.title,tab:He(n,S).setActiveState(!1).resetDisplayContent({text:V.title}),page:e.createTweaker(M)})}return x.on("tab.focus",function($,_){$.setActiveState(!0)}).on("tab.blur",function($,_){$.setActiveState(!1)}),x};const BS=Phaser.Utils.Objects.GetValue;var zV=function(e){e===void 0&&(e={});var t=BS(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var i=kV(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0});for(var n=BS(e,"pages")||[],x=[],S=0,M=0,L=n.length;M<L;M++){var F=i.getPage(M),G=n[M].show;G&&(S=M);var V=n[M].key;V&&this.root.addChildrenMap(V,F),x.push(F)}return i.swapPage(S,0),x},NV={setBindingTarget(e){for(var t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},VV={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)t[i].setInputRowTitleWidth(e);return this}};const xa=Phaser.Utils.Objects.GetValue;class IS extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Columns";var n=xa(i,"background",void 0),x=xa(i,"title",void 0);n&&this.addBackground(n),x&&this.add(x,{expand:!0,space:{bottom:xa(i,"space.title",0)}});var S=new jt(t,{orientation:"x",space:{item:xa(i,"space.column",0)}});t.add.existing(S);for(var M=xa(i,"columns",void 0),L,F,G=0,V=M.length;G<V;G++)L=M[G],F=L.child,S.add(L.child,{proportion:F.minWidth===0?1:0,expand:xa(L,"expand",!0)});this.add(S,{expand:!0}),this.addChildrenMap("title",x),this.addChildrenMap("columnsSizer",S),this.addChildrenMap("columns",S.childrenMap.items)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}}Object.assign(IS.prototype,NV,VV);const mn=Phaser.Utils.Objects.GetValue;var UV=function(e,t,i){var n=e.scene,x=mn(i,"title")||{},S=new Uo(n,x);n.add.existing(S);var M={root:mn(i,"root"),styles:mn(i,"tweaker")},L=mn(i,"background");L&&!Array.isArray(L)&&(L=[L]);var F=mn(t,"columns",2);if(typeof F=="number"){var G=F;F=[];for(var V=0,$=G;V<$;V++)F.push({})}for(var V=0,$=F.length;V<$;V++){var _=F[V];L&&(M.background=L[V%L.length]),M.width=mn(_,"width",0);var q=e.createTweaker(M);_.child=q}var st=new IS(n,{title:S,columns:F,space:mn(i,"space")});return n.add.existing(st),st};const GS=Phaser.Utils.Objects.GetValue;var WV=function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=GS(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var i=UV(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=GS(e,"columns",void 0);if(n&&Array.isArray(n))for(var x=0,S=n.length;x<S;x++){var M=n[x].key;M&&this.root.addChildrenMap(M,i.getColumn(x))}return i.getColumns()},XV={setBindingTarget(e){for(var t=this.childrenMap.child,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},YV={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}};const Cu=Phaser.Utils.Objects.GetValue;class kS extends jt{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Wrap";var n=Cu(i,"background",void 0),x=Cu(i,"title",void 0);n&&this.addBackground(n),x&&this.add(x,{expand:!0,space:{bottom:Cu(i,"space.title",0)}});var S=Cu(i,"child",void 0);this.add(S,{expand:!0}),this.addChildrenMap("title",x),this.addChildrenMap("child",S)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(kS.prototype,XV,YV);const Cs=Phaser.Utils.Objects.GetValue;var HV=function(e,t,i){var n=e.scene,x=Cs(i,"title")||{},S=new Uo(n,x);n.add.existing(S);var M=Cs(i,"itemWidth",0),L=Cs(i,"itemHeight",0),F={root:Cs(i,"root"),styles:Cs(i,"tweaker"),space:Cs(i,"space"),align:Cs(i,"align",5),wrap:!0,itemWidth:Cs(t,"itemWidth",M),itemHeight:Cs(t,"itemHeight",L)};Cs(i,"background");var G=e.createTweaker(F),V=new kS(n,{title:S,child:G});return n.add.existing(V),V};const $V=Phaser.Utils.Objects.GetValue;var KV=function(e){e===void 0&&(e={});var t=$V(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var i=HV(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,n),n},ZV={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},JV={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}};class zS extends Do{constructor(t,i){super(t,i),this.type="rexTweaker.Scrollable"}setTitle(t){var i=this.childrenMap.header;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(zS.prototype,ZV,JV);const kr=Phaser.Utils.Objects.GetValue;var QV=function(e,t,i){var n=e.scene,x=kr(i,"title")||{},S=new Uo(n,x);n.add.existing(S);var M={root:kr(i,"root"),styles:kr(i,"tweaker"),space:kr(i,"space")||{}},L=e.createTweaker(M),F=kr(i,"slider");if(F){F=gt(F);var G=F.track;G&&(F.track=Wo(n,t,G));var V=F.thumb;V&&(F.thumb=Wo(n,t,V))}var $=kr(i,"background"),_=Wo(n,t,$),q=new zS(n,{scrollMode:0,header:S,panel:{child:L,mask:{padding:1}},slider:F,background:_,height:kr(t,"height",0),space:kr(i,"space",void 0)});return n.add.existing(q),q};const jV=Phaser.Utils.Objects.GetValue;var qV=function(e){e===void 0&&(e={});var t=jV(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var i=QV(this,e,t);delete t.tweaker,delete t.root,this.add(i,{proportion:i.minWidth===0?1:0,expand:!0}),i.setTitle(e);var n=i.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,n),n};const NS=Phaser.Utils.Objects.GetValue;var _V={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var i=this.childrenMap.inputField;return i.onBindTarget&&i.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=NS(e,"onGetValue"),this.onSetValue=NS(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},tU={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},eU={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=(i.left+i.right)*t.scaleX,t.minWidth=e,this}};const Cv=Phaser.Utils.Objects.GetValue;class Sv extends jt{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var n=i.inputTitle,x=i.inputField,S=i.background,G=Cv(i,"proportion.title",0),M=Cv(i,"space.title",0),L;this.orientation===0?L={right:M}:L={bottom:M},this.add(n,{proportion:G,expand:!0,padding:L});var F=x.defaultProportion;F===void 0&&(F=i.defaultExpandWidth?1:0);var G=Cv(i,"proportion.inputField",F);this.add(x,{proportion:G,expand:!0}),S&&this.addBackground(S),this.addChildrenMap("title",n),this.addChildrenMap("inputField",x),this.addChildrenMap("background",S),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(Sv.prototype,_V,tU,eU);var VS=function(e,t,i){var n=new Uo(e,i);return e.add.existing(n),n},iU=function(e){e===void 0&&(e=jt);class t extends e{get bindingTarget(){var n=this.getParentSizer();return n.bindingTarget}get bindingKey(){var n=this.getParentSizer();return n.bindTargetKey}get value(){return this._value}get root(){var n=this.getParentSizer(),x=n.getParentSizer();return x.root}onBindTarget(n,x){this.onBindTargetCallback&&this.onBindTargetCallback(this,n,x)}validate(n){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(n,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(n){return this.textFormatCallback?n=this.textFormatCallback(n):n=n.toString(),n}set value(n){if(this._value!==n&&(this.validate(n)||(n=this._value),this.filterValueCallback&&(n=this.filterValueCallback(this,n)),this.displayValueCallback&&this.displayValueCallback(this,n),this._value!==n)){var x=this._value;if(this._value=n,!this.syncValueFlag){var S=this.bindingTarget,M=this.bindingKey;this.emit("valuechange",n,x,S,M),this.root.emit("valuechange",n,x,S,M)}}}getValue(){return this.value}setValue(n){return this.value=n,this}syncValue(n){return this.syncValueFlag=!0,this.value=n,this.syncValueFlag=!1,this}setup(n,x){return x===void 0&&(x=!1),(x||n.hasOwnProperty("format"))&&this.setTextFormatCallback(n.format),(x||n.hasOwnProperty("onValidate"))&&this.setValidateCallback(n.onValidate),this.setupCallback&&this.setupCallback(this,n,x),this}setSetupCallback(n){return this.setupCallback=n,this}setFilterValueCallback(n){return this.filterValueCallback=n,this}setDisplayValueCallback(n){return this.displayValueCallback=n,this}setOnBindTargetCallback(n){return this.onBindTargetCallback=n,this}setTextFormatCallback(n){return this.textFormatCallback=n,this}setValidateCallback(n){return this.validateCallback=n,this}}return t},sU=function(e,t,i){for(var n,x=this.inputHandlers,S=0,M=x.length;S<M;S++){var L=x[S];if(L.accept(t)){var F=iU(L.baseClass);n=new F(e),e.add.existing(n),n.setSetupCallback(L.setup).setFilterValueCallback(L.filterValue).setDisplayValueCallback(L.displayValue).setOnBindTargetCallback(L.onBindTarget),L.build(n,i);break}}return n&&n.setup(t,!0),n};const US=Phaser.Utils.Objects.GetValue;var rU=function(e,t,i){var n=sU.call(this,e,t,i);if(!n)return null;var x=US(i,"title")||{},S=VS(e,t,x),M=US(i,"background")||{},L=Ne(e,M),F=new Sv(e,{...i,...t,inputTitle:S,inputField:n,background:L});return e.add.existing(F),F.setTitle(t),F.setValueCallbacks(t),F},nU=function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var n=this.styles.inputRow||{};this.isWrapMode?n.defaultExpandWidth=!0:n.defaultExpandWidth=this.styles.orientation===1;var x=rU.call(this,this.scene,i,n);if(!x)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;if(this.isWrapMode)x.setMinWidth(this.itemWidth),x.setMinHeight(this.itemHeight),this.add(x);else{var S;this.orientation===1?S=0:(S=this.itemWidth>0?0:1,x.minWidth===0&&x.setMinWidth(this.itemWidth)),x.minHeight===0&&x.setMinHeight(this.itemHeight),this.add(x,{proportion:S,expand:!0})}if(i.onValueChange){var M=x.childrenMap.inputField;M.on("valuechange",i.onValueChange)}return x.setAutoUpdateEnable(i.autoUpdate),x.setBindingTarget(e,t),i.monitor&&x.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,x),this},aU=function(e,t){var i=new Nr(e,t);return e.add.existing(i),i};const oU=Phaser.Utils.Objects.GetValue;var hU=function(e,t){var i=oU(t,"wrap",!1),n=i?Fr:Ye,x=new n(e,t);return e.add.existing(x),x};const Su=Phaser.Utils.Objects.GetValue;var lU=function(e,t,i){for(var n=Su(i,"title")||{},x=VS(e,t,n),S=t.buttons,M=Su(i,"button")||{},L=[],F=0,G=S.length;F<G;F++){var V=He(e,M);L.push(V);var $=S[F];V.resetDisplayContent($.label),V.callback=$.callback}var _=hU(e,{buttons:L,expand:!0,wrap:Su(t,"wrap",!1)});_.defaultProportion=1;var q=Su(i,"background")||{},st=aU(e,q),at=new Sv(e,{...i,inputTitle:x,inputField:_,background:st});return e.add.existing(at),at.setTitle(t),_.on("button.click",function(nt){nt.callback(at.bindingTarget)}),at};const uU=Phaser.Utils.Objects.GetValue;var dU=function(e){e===void 0&&(e={});var t=this.scene,i=e.bindingTarget;delete e.bindingTarget;var n=uU(this.styles,"inputRow")||{},x=lU(t,e,n);return this.add(x,{expand:!0}),i&&x.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,x),this},fU=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},cU=function(e,t,i){return Ne(e,bS(t,i))};const vU=Phaser.Utils.Objects.GetValue;var pU=function(e){e===void 0&&(e={});var t=this.scene,i=vU(this.styles,"separator"),n=cU(t,e,i);return this.add(n,{expand:!0}),this},gU=function(e,t,i){return typeof t=="boolean"&&(i=t,t=void 0),i===void 0&&(i=!0),Xo(this,gt(e),t,i),this},Xo=function(e,t,i,n){if(t)for(var x=0,S=t.length;x<S;x++){var M=t[x];M.hasOwnProperty("$target")&&(i=M.$target,delete M.$target);var L=M.$type;switch(delete M.$type,L){case"folder":var F=e.addFolder(M);Xo(F,M.$properties,i,n);break;case"tab":for(var G=e.addTab(M),V=0,$=G.length;V<$;V++)Xo(G[V],M.pages[V].$properties,i,n);break;case"columns":for(var _=e.addColumns(M),V=0,$=_.length;V<$;V++)Xo(_[V],M.columns[V].$properties,i,n);break;case"scrollable":var q=e.addScrollable(M);Xo(q,M.$properties,i,n);break;case"separator":e.addSeparator();break;case"button":M.bindingTarget=i,e.addButton(M);break;case"buttons":M.bindingTarget=i,e.addButtons(M);break;default:var st=M.$key;if(delete M.$key,st.indexOf(".")===-1)M.bindingTarget=i,M.bindingKey=st;else{var at=st.split(".");M.bindingKey=at.pop();for(var nt=i,ut=0,ct=at.length;ut<ct;ut++)if(nt=nt[at[ut]],!i){console.warn(`[Monitor] Key path '${st}' is invalid`);continue}M.bindingTarget=nt}M.hasOwnProperty("monitor")||(M.monitor=n),e.addInput(M);break}}},mU=function(e){for(var t=this.sizerChildren,i=0,n=t.length;i<n;i++){var x=t[i];x.setBindingTarget&&x.setBindingTarget(e)}return this},xU=function(){for(var e=0,t=this.sizerChildren,i=0,n=t.length;i<n;i++){var x=t[i];x.rexSizer.hidden||(x.getMinTitleWidth?e=Math.max(e,x.getMinTitleWidth()):x.getMaxInputRowTitleWidth&&(e=Math.max(e,x.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},yU=function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,i=0,n=t.length;i<n;i++){var x=t[i];x.rexSizer.hidden||(x.setMinTitleWidth?x.setMinTitleWidth(e):x.setInputRowTitleWidth&&x.setInputRowTitleWidth(e))}return this},CU={registerInputHandler:wV,removeInputHandler:LV,addFolder:BV,addTab:zV,addColumns:WV,addWrap:KV,addScrollable:qV,addInput:nU,addButtons:dU,addButton:fU,addSeparator:pU,addRows:gU,setBindingTarget:mU,getMaxInputRowTitleWidth:xU,setInputRowTitleWidth:yU};const zr=Phaser.Utils.Objects.GetValue;var WS=function(e){var t=zr(e,"wrap",!1),i=t?Lr:jt;class n extends i{constructor(S,M){M===void 0&&(M={}),M.orientation===void 0&&(M.orientation=t?0:1),super(S,M),this.type="rexTweakerShell",this.isWrapMode=t,M.root?(this.root=M.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=zr(M,"styles")||{},this.styles.orientation=this.orientation;var L=zr(M,"itemWidth");L===void 0&&(L=zr(this.styles,"itemWidth",0)),this.itemWidth=L;var F=zr(M,"itemHeight");if(F===void 0&&(F=zr(this.styles,"itemHeight",0)),this.itemHeight=F,t||this.root===this&&this.orientation===1){var G=zr(M,"inputRow.alignTitle");if(G===void 0){var V=zr(this.styles,"inputRow.proportion.title");G=!V}else G&&H(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=G}else this.alignInputRowTitleStartFlag=!1;var $=Wo(S,void 0,M.background);$&&this.addBackground($)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(S,M){M===void 0&&(M=!0);var L=WS(S),F=new L(this.scene,S);return M&&this.scene.add.existing(F),F}}return Object.assign(n.prototype,CU),n},SU=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},TU={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var n=t.inputText,x=Dr(i,n);e.add(x,{proportion:1,expand:!0,key:"inputText"}),x.on("close",function(){e.setValue(x.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&SU(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}},PU=function(e,t,i){i===void 0&&(i=!0),i?t=t?gt(t):{}:t||(t={});var n=new vu(e,t);return e.add.existing(n),n},EU=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},MU={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var n=t.inputTextArea;n===void 0&&(n={}),n.hasOwnProperty("text")||(n.text=t.inputText),n.hasOwnProperty("slider")||(n.slider=t.slider);var x=PU(i,n);e.add(x,{proportion:1,expand:!0,key:"inputText"}),x.on("close",function(){e.setValue(x.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&EU(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}},wU=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},RU={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var n=t.inputNumber||t.inputText,x=Dr(i,n).setNumberInput();e.add(x,{proportion:1,expand:!0,key:"inputText"}),x.on("close",function(){e.setValue(x.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&wU(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}},AU=function(e,t){var i=new la(e,t);return e.add.existing(i),i};const Tv=Phaser.Utils.Objects.GetValue,LU=Phaser.Math.Linear,bU=Phaser.Math.Snap.Floor;var OU=function(e,t,i,n){e.minValue=t,e.maxValue=i,e.step=n;var x=e.childrenMap.slider;x.setGap(n,t,i)},FU=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},DU={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var n=t.slider,x=e.orientation===0?"track.height":"track.width",S=Tv(n,x),M=AU(i,n),V=t.defaultExpandWidth?2:0,$=Tv(t,"proportion.range.slider",V),L=S===void 0;e.add(M,{proportion:$,expand:L,key:"slider"});var F=t.inputNumber||t.inputText,G=Dr(i,F).setNumberInput(),V=t.defaultExpandWidth?1:0,$=Tv(t,"proportion.range.inputText",V);e.add(G,{proportion:$,expand:!0,key:"inputText"}),G.on("close",function(){e.setValue(G.value)}),M.on("valuechange",function(){var _=LU(e.minValue,e.maxValue,M.value);e.step&&(_=bU(_,e.step,e.minValue)),e.setValue(_)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&OU(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&FU(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.slider;i.setValue(t,e.minValue,e.maxValue);var n=e.childrenMap.inputText;n.setText("").setText(e.getFotmatText(t))}},XS=function(e,t){var i=new Ye(e,t);return e.add.existing(i),i};const BU=Phaser.Utils.Objects.GetValue;var IU=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},GU={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var i=e.scene;e.type="rexTweaker.IncDecInput";var n=BU(t,"incDec")||{},x={text:null,action:null},S=XS(i,{expand:!1}),M=t.defaultExpandWidth?1:0;e.add(S,{proportion:M,expand:!0});var L=t.inputNumber||t.inputText,F=Dr(i,L).setNumberInput();F.on("close",function(){e.setValue(F.value)});var G=Object.assign(gt(x),n.incButton||{}),V=He(i,G),$=Object.assign(gt(x),n.decButton||{}),_=He(i,$);S.addButton(V),S.addButton(_);var q=n.inputTextIndex||0;S.insert(q,F,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,S.on("button.click",function(st,at,nt,ut){var ct=e.value;at===0?ct+=e.step:ct-=e.step,e.maxValue!==void 0&&ct>e.maxValue&&(ct=e.maxValue),e.minValue!==void 0&&ct<e.minValue&&(ct=e.minValue),e.setValue(ct)}),e.addChildrenMap("incButton",V),e.addChildrenMap("decButton",_),e.addChildrenMap("inputText",F)},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&IU(e,!!t.inputTextReadOnly),(i||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(i||t.hasOwnProperty("min"))&&(e.minValue=t.min),(i||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText("").setText(e.getFotmatText(t))}},kU=function(e,t,i){i===void 0&&(i=!0),i?t=t?gt(t):{}:t||(t={});var n=new mu(e,t);return e.add.existing(n),n},zU={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var n=t.colorInput;n===void 0&&(n={}),n.hasOwnProperty("inputText")||(n.inputText=t.inputText);var x=kU(i,n);e.add(x,{proportion:1,expand:!0,key:"colorInput"}),x.on("valuechange",function(S){e.setValue(S)})},displayValue(e,t){var i=e.childrenMap.colorInput;i.setValue(t)}},NU=function(e,t){var i=new Ed(e,t);return e.add.existing(i),i},VU={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var n=t.checkbox,x=NU(i,n),S=n.size;S!==void 0&&x.setSize(S,S);var M=S!==void 0?0:1;e.add(x,{proportion:0,expand:!1,fitRatio:M,key:"checkbox"}),x.on("valuechange",function(L){e.setValue(L)})},displayValue(e,t){var i=e.childrenMap.checkbox;i.setValue(t)}},UU=function(e,t){var i=new Rd(e,t);return e.add.existing(i),i},WU={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var n=t.toggleSwitch,x=UU(i,n),S=n.size;S!==void 0&&x.setSize(S,S);var M=S!==void 0?0:1;e.addSpace().add(x,{proportion:0,expand:!1,fitRatio:M,key:"toggleSwitch"}),x.on("valuechange",function(L){e.setValue(L)})},displayValue(e,t){var i=e.childrenMap.toggleSwitch;i.setValue(t)}},XU=function(e,t){t=EC(e,t);var i=new Bo(e,t);return e.add.existing(i),i},YS=function(e,t){for(var i=0,n=e.length;i<n;i++){var x=e[i];if(x.value===t)return i}},YU=function(e,t){var i=YS(e,t);if(i!=null)return e[i]},HU=function(e,t){var i=e.childrenMap.list;i.setOptions(t)},$U={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var n=XU(i,t.list);e.add(n,{proportion:1,expand:!0,key:"list"}),n.on("button.click",function(x,S,M,L,F,G){e.setValue(M.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&HU(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,n=YU(i.options,t);i.resetDisplayContent(n).setMinSize(i.width,i.height).layout().setMinSize(0,0)}},KU=function(e,t){for(var i=0,n=e.length;i<n;i++){var x=e[i];x&&x.setActiveState(i===t)}};const ZU=Phaser.Utils.Objects.GetValue;var JU=function(e,t){var i=e.childrenMap.list;i.options=t;var n=e.scene,x=i.buttonConfig;i.clearButtons(!0);for(var S=0,M=t.length;S<M;S++){var L=t[S],F=He(n,x).setActiveState(!1).resetDisplayContent({text:L.text});i.addButton(F)}},QU={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var n=t.button?gt(t.button):{},x=ZU(n,"expand",!0);x&&(n.align="center"),delete n.expand;var S=XS(i,{expand:x});S.buttonConfig=n,e.add(S,{proportion:1,expand:!0,key:"list"}),S.on("button.click",function(M,L,F,G){var V=S.options[L];V&&(e._selectedIndex=L,e.setValue(V.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&JU(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,n=e._selectedIndex;n===void 0&&(n=YS(i.options,t)),KU(i.childrenMap.buttons,n)}},jU=function(){this.registerInputHandler(TU).registerInputHandler(MU).registerInputHandler(RU).registerInputHandler(DU).registerInputHandler(GU).registerInputHandler(zU).registerInputHandler(VU).registerInputHandler(WU).registerInputHandler($U).registerInputHandler(QU)};class HS extends WS(){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",jU.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}tt.register("tweaker",function(e){var t=new HS(this.scene,e);return this.scene.add.existing(t),t}),H(window,"RexPlugins.UI.Tweaker",HS),tt.register("click",function(e,t){return new Os(e,t)}),H(window,"RexPlugins.UI.Click",Os),tt.register("clickOutside",function(e,t){return new Mf(e,t)}),H(window,"RexPlugins.UI.ClickOutside",Mf),tt.register("inTouching",function(e,t){return new sa(e,t)}),H(window,"RexPlugins.UI.InTouching",sa),tt.register("tap",function(e,t){return ci(e)||(t=e,e=this.scene),new al(e,t)}),H(window,"RexPlugins.UI.Tap",al),tt.register("press",function(e,t){return ci(e)||(t=e,e=this.scene),new ol(e,t)}),H(window,"RexPlugins.UI.Press",ol),tt.register("swipe",function(e,t){return ci(e)||(t=e,e=this.scene),new fo(e,t)}),H(window,"RexPlugins.UI.Swipe",fo),tt.register("pan",function(e,t){return ci(e)||(t=e,e=this.scene),new Km(e,t)}),H(window,"RexPlugins.UI.Pan",Km),tt.register("drag",function(e,t){return new mv(e,t)}),H(window,"RexPlugins.UI.Drag",mv),tt.register("pinch",function(e){return new jm(this.scene,e)}),H(window,"RexPlugins.UI.Pinch",jm),tt.register("rotate",function(e){return new Gf(this.scene,e)}),H(window,"RexPlugins.UI.Rotate",Gf);const qU=Phaser.Utils.Objects.IsPlainObject,$S=Phaser.Utils.Objects.GetValue;var KS=function(e,t,i){var n;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(qU(e)){var x=e;e=$S(x,"key",i.texture.key),t=$S(x,"frame",i.frame.name)}else typeof e=="string"||(n=e);return n===void 0&&(n=function(S){S.setTexture(e,t)}),n};const Yo=Phaser.Utils.Objects.GetValue,_U=Phaser.Utils.Objects.GetAdvancedValue,tW=Phaser.Math.Linear;class ZS extends Kr{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(_U(t,"duration",500)),this.setEase(Yo(t,"ease","Sine")),this.setOrientation(Yo(t,"orientation",0)),this.setFrontFace(Yo(t,"front",void 0)),this.setBackFace(Yo(t,"back",void 0)),this.setFace(Yo(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=eW[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=iW[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=KS(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=KS(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,i){i.justRestart&&this.toggleFace();var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n);var x=tW(this.scale0,0,n);this.orientation===0?t.scaleX=x:t.scaleY=x}}const eW={x:0,horizontal:0,y:1,vertical:1},iW={front:0,back:1};tt.register("flip",function(e,t){return new ZS(e,t)}),H(window,"RexPlugins.UI.Flip",ZS),tt.register("shake",function(e,t){return new mf(e,t)}),H(window,"RexPlugins.UI.Shake",mf),tt.register("touchEventStop",function(e,t){return new tl(e,t)}),H(window,"RexPlugins.UI.TouchEventStop",tl),tt.register("perspective",function(e,t){return new _C(e,t)}),H(window,"RexPlugins.UI.Perspective",_C);const JS=Phaser.Math.RotateAround;var Pv=function(e,t,i){var n=e.width/2,x=e.height/2;return ii.x=t-n,ii.y=i-x,JS(ii,0,0,e.rotation),ii.x*=e.scaleX,ii.y*=e.scaleY,ii.x+=e.x,ii.y+=e.y,ii},sW=function(e,t,i){var n=e.width/2,x=e.height/2;return ii.x=t-e.x,ii.y=i-e.y,ii.x/=e.scaleX,ii.y/=e.scaleY,JS(ii,0,0,-e.rotation),ii.x+=n,ii.y+=x,ii},ii={x:0,y:0};class rW{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var n=this.parent,x=n.height,S=n.frame.cutWidth/x/2,M=n.frame.cutHeight/x/2,L=t/x-S,F=i/x-M,G=this.vertex;return G.x=L,G.y=-F,n.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,n){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,n||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var n=sW(this.parent,t,i);return this.setLocalXY(n.x,n.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return Pv(this.parent,this._localX,this._localY)}get x(){var t=Pv(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=Pv(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const nW=Phaser.Geom.Mesh.Vertex,aW=Phaser.Geom.Mesh.Face;var oW=function(e){for(var t=e.isNinePointMode,i=t?9:4,n=e.vertices,x=e.faces,S=e.controlPoints,M=0;M<i;M++){var L=new nW;n.push(L),S.push(new rW(e,L))}var F;t?F=uW:e.fourPointsModeRTL?F=lW:F=hW;for(var M=0,G=F.length;M<G;M+=3){var V=n[F[M+0]],$=n[F[M+1]],_=n[F[M+2]];x.push(new aW(V,$,_))}t?(e.topLeft=S[0],e.topCenter=S[1],e.topRight=S[2],e.centerLeft=S[3],e.center=S[4],e.centerRight=S[5],e.bottomLeft=S[6],e.bottomCenter=S[7],e.bottomRight=S[8]):(e.topLeft=S[0],e.topRight=S[1],e.bottomLeft=S[2],e.bottomRight=S[3])};const hW=[0,2,3,0,3,1],lW=[1,3,2,1,2,0],uW=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var dW=function(e){var t,i=0,n=e.height,x=0,S=e.width;if(e.isNinePointMode){var M=(x+S)/2,L=(i+n)/2;t=[x,i,M,i,S,i,x,L,M,L,S,L,x,n,M,n,S,n]}else t=[x,i,S,i,x,n,S,n];return t};const fW=Phaser.Utils.Objects.IsPlainObject,ya=Phaser.Utils.Objects.GetValue;let cW=class extends NC{constructor(t,i,n,x,S,M){fW(i)&&(M=i,i=ya(M,"x",0),n=ya(M,"y",0),x=ya(M,"key",null),S=ya(M,"frame",null)),super(t,i,n,x,S),this.type="rexQuadImage",this.isNinePointMode=ya(M,"ninePointMode",!1),this.fourPointsModeRTL=ya(M,"rtl",!1),this.controlPoints=[],oW(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var i=0,n=this.controlPoints.length;i<n;i++)this.controlPoints[i].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=dW(this),i=this.width,n=this.height,x=this.frame.cutWidth/n/2,S=this.frame.cutHeight/n/2,M=this.frame.u0,L=this.frame.u1,F=this.frame.v0,G=this.frame.v1,V=L-M,$=G-F,_=this.controlPoints,q=0,st=t.length;q<st;q+=2){var at=t[q+0],nt=t[q+1],ut=q/2,ct=at/n-x,dt=nt/n-S,mt=M+V*(at/i),Tt=F+$*(nt/n);this.vertices[ut].set(ct,-dt,0).setUVs(mt,Tt),_[ut].resetLocalXY(at,nt)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue;var QS=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var n=e.width,x=e.height,S=n*.5,M=x*.5,L=Math.tan(t)*M,F=Math.tan(i)*S,G=e.controlPoints,V=0,$=G.length;V<$;V++){var _=G[V],q=_.localXOrigin,st=_.localYOrigin;_.localX=q+(st>M?L:-L),_.localY=st+(q>S?F:-F)}};const vW=Phaser.Utils.Objects.IsPlainObject,Tu=Phaser.Utils.Objects.GetValue,jS=Phaser.Math.DegToRad,qS=Phaser.Math.RadToDeg;class pW extends cW{constructor(t,i,n,x,S){if(vW(i)){var M=i;i=Tu(M,"x",0),n=Tu(M,"y",0),x=Tu(M,"key",null),S=Tu(M,"frame",null)}super(t,i,n,x,S),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,QS(this,this._skewX,this._skewY)}get skewXDeg(){return qS(this._skewX)}set skewXDeg(t){this.skewX=jS(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,QS(this,this._skewX,this._skewY)}get skewYDeg(){return qS(this._skewY)}set skewYDeg(t){this.skewY=jS(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}}const gW=Phaser.Utils.Objects.IsPlainObject,Pu=Phaser.Utils.Objects.GetValue;class mW extends pW{constructor(t,i,n,x,S){if(gW(i)){var M=i;i=Pu(M,"x",0),n=Pu(M,"y",0),x=Pu(M,"width",32),S=Pu(M,"height",32)}var L=$C(t,x,S);super(t,i,n,L,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class _S extends qC(mW){get skewState(){return this.isRunning}}tt.register("skew",function(e,t){return new _S(e,t)}),H(window,"RexPlugins.UI.Skew",_S),tt.register("anchor",function(e,t){return new cf(e,t)}),H(window,"RexPlugins.UI.Anchor",cf),tt.register("textTyping",function(e,t){return new ou(e,t)}),H(window,"RexPlugins.UI.TextTyping",ou),tt.register("textPage",function(e,t){return new au(e,t)}),H(window,"RexPlugins.UI.TextPage",au);var Ca=void 0,xW=function(e){e!==Ca&&(Ca!==void 0&&Ca.close(),Ca=e)},yW=function(e){e===Ca&&(Ca=void 0)};const Ss=Phaser.Utils.Objects.GetValue,CW=Phaser.Utils.Objects.Clone;var SW=function(e,t){t===void 0&&(t={}),t=CW(t);var i=e.scene,n=e.style,x=Ss(t,"backgroundColor",n.backgroundColor);x===null&&(x="transparent"),t.text=Ss(t,"text",e.text),t.fontFamily=Ss(t,"fontFamily",n.fontFamily),t.fontSize=Ss(t,"fontSize",n.fontSize),t.color=Ss(t,"color",n.color),t.backgroundColor=x,t.direction=Ss(t,"rtl",n.rtl)?"rtl":"ltr",t.align=Ss(t,"align",TW(n)),t.direction==="rtl"&&oc(e)&&(t.align="right");var S=e.padding;S.left>0&&(t.paddingLeft=`${S.left}px`),S.right>0&&(t.paddingRight=`${S.right}px`),n.backgroundCornerRadius&&(t.borderRadius=Ss(t,"borderRadius",`${n.backgroundCornerRadius}px`));var M=new Ml(i,e.x,e.y,Ss(t,"width",e.width),Ss(t,"height",e.height),t);M.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var L=e.parentContainer;return L?L.add(M):i.add.existing(M),M},TW=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},PW=function(e,t,i){return e.time.delayedCall(0,t,[],i)};const xn=Phaser.Utils.Objects.GetValue,EW=Phaser.Utils.Objects.Merge;var MW=function(e,t){e===void 0&&(e={}),e=EW(e,this.openConfig),xW(this),$i(e)&&(t=e,e=void 0);var i=xn(e,"inputType",void 0);i===void 0&&(i=xn(e,"type","text")),t===void 0&&(t=xn(e,"onClose",void 0));var n=xn(e,"onCreate",void 0),x=xn(e,"onOpen",void 0),S=xn(e,"onTextChanged",void 0);return this.inputText=SW(this.parent,e),n&&n(this.parent,this.inputText),this.inputText.on("textchange",function(M){var L=M.text;S?S(this.parent,L):this.parent.text=L},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,xn(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=PW(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),x&&x(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},wW=function(){return yW(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},RW={open:MW,close:wW};const AW=Phaser.Utils.Objects.GetValue;class Eu extends ye{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var n=AW(i,"clickEnable",!0);n&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(Eu.prototype,RW);var LW=function(e,t,i){return e._edit||(e._edit=new Eu(e,{clickEnable:!1})),e._edit.open(t,i),e._edit};tt.register("textEdit",function(e,t){return new Eu(e,t)}),H(window,"RexPlugins.UI.TextEdit",Eu),tt.register("layerManager",function(e){return new gh(this.scene,e)}),H(window,"RexPlugins.UI.LayerManager",gh);class tT extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new tt(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,i,n,x){return t.visible?ls(t,i,n,x):!1}get viewport(){return kn(this.scene,this.scene.cameras.main,!0)}}var bW={getParentSizer:xi,getTopmostSizer:_0,removeFromParent:dn,hide:Er,show:Pr,isShown:xf,confirmAction:qy,edit:LW,wrapExpandText:Rl,fontSizeExpandText:Ll,fontSizeResize:Al,setFontSizeToFitWidth:Al,waitEvent:Eh,waitComplete:Ze,delayPromise:Yx,setChildrenInteractive:vl,fadeIn:Zh,fadeOutDestroy:Jh,easeMoveTo:Am,easeMoveFrom:Lm,modal:Pf,modalPromise:qD,modalClose:Nm,requestDrag:PS,openFileChooser:$x};return Object.assign(tT.prototype,bW),tT})})(RT);var BW=RT.exports;const IW=MT(BW),GW=[{key:"anemo-fragment",path:"assets/images/cards/coin/anemo-fragment.webp"},{key:"anemo-resonance",path:"assets/images/cards/coin/anemo-resonance.webp"},{key:"cryo-fragment",path:"assets/images/cards/coin/cryo-fragment.webp"},{key:"cryo-resonance",path:"assets/images/cards/coin/cryo-resonance.webp"},{key:"dendro-fragment",path:"assets/images/cards/coin/dendro-fragment.webp"},{key:"dendro-resonance",path:"assets/images/cards/coin/dendro-resonance.webp"},{key:"electro-fragment",path:"assets/images/cards/coin/electro-fragment.webp"},{key:"electro-resonance",path:"assets/images/cards/coin/electro-resonance.webp"},{key:"geo-fragment",path:"assets/images/cards/coin/geo-fragment.webp"},{key:"geo-resonance",path:"assets/images/cards/coin/geo-resonance.webp"},{key:"hydro-fragment",path:"assets/images/cards/coin/hydro-fragment.webp"},{key:"hydro-resonance",path:"assets/images/cards/coin/hydro-resonance.webp"},{key:"pyro-fragment",path:"assets/images/cards/coin/pyro-fragment.webp"},{key:"pyro-resonance",path:"assets/images/cards/coin/pyro-resonance.webp"}],Ev=[{key:"eula-sprite",path:"assets/images/cards/character/eula-sprite.webp"},{key:"furina-sprite",path:"assets/images/cards/character/furina-sprite.webp"},{key:"mavuika-sprite",path:"assets/images/cards/character/mavuika-sprite.webp"},{key:"nahida-sprite",path:"assets/images/cards/character/nahida-sprite.webp"},{key:"raiden-sprite",path:"assets/images/cards/character/raiden-sprite.webp"},{key:"venti-sprite",path:"assets/images/cards/character/venti-sprite.webp"},{key:"zhongli-sprite",path:"assets/images/cards/character/zhongli-sprite.webp"},{key:"eula",path:"assets/images/cards/character/eula.webp"},{key:"furina",path:"assets/images/cards/character/furina.webp"},{key:"mavuika",path:"assets/images/cards/character/mavuika.webp"},{key:"nahida",path:"assets/images/cards/character/nahida.webp"},{key:"raiden",path:"assets/images/cards/character/raiden.webp"},{key:"venti",path:"assets/images/cards/character/venti.webp"},{key:"zhongli",path:"assets/images/cards/character/zhongli.webp"}],kW=[{key:"sword-steampunk",path:"assets/images/cards/weapon/sword/steampunk.webp"},{key:"sword-forest",path:"assets/images/cards/weapon/sword/forest.webp"},{key:"sword-skyward",path:"assets/images/cards/weapon/sword/skyward.webp"},{key:"sword-sacrificial",path:"assets/images/cards/weapon/sword/sacrificial.webp"},{key:"sword-traveler",path:"assets/images/cards/weapon/sword/traveler.webp"},{key:"sword-splendor",path:"assets/images/cards/weapon/sword/splendor.webp"}],zW=[{key:"catalyst-steampunk",path:"assets/images/cards/weapon/catalyst/steampunk.webp"},{key:"catalyst-forest",path:"assets/images/cards/weapon/catalyst/forest.webp"},{key:"catalyst-skyward",path:"assets/images/cards/weapon/catalyst/skyward.webp"},{key:"catalyst-sacrificial",path:"assets/images/cards/weapon/catalyst/sacrificial.webp"},{key:"catalyst-dreams",path:"assets/images/cards/weapon/catalyst/dreams.webp"},{key:"catalyst-magic-guide",path:"assets/images/cards/weapon/catalyst/magic-guide.webp"}],NW=[{key:"anemo-samachurl",path:"assets/images/cards/enemy/hilichurl/anemo-samachurl.webp"},{key:"electro-samachurl",path:"assets/images/cards/enemy/hilichurl/electro-samachurl.webp"},{key:"hydro-samachurl",path:"assets/images/cards/enemy/hilichurl/hydro-samachurl.webp"},{key:"dendro-samachurl",path:"assets/images/cards/enemy/hilichurl/dendro-samachurl.webp"},{key:"geo-samachurl",path:"assets/images/cards/enemy/hilichurl/geo-samachurl.webp"},{key:"shooter",path:"assets/images/cards/enemy/hilichurl/shooter.webp"},{key:"electro-shooter",path:"assets/images/cards/enemy/hilichurl/electro-shooter.webp"},{key:"cryo-shooter",path:"assets/images/cards/enemy/hilichurl/cryo-shooter.webp"},{key:"crackling",path:"assets/images/cards/enemy/hilichurl/crackling.webp"},{key:"blazing",path:"assets/images/cards/enemy/hilichurl/blazing.webp"},{key:"berserker",path:"assets/images/cards/enemy/hilichurl/berserker.webp"},{key:"fighter",path:"assets/images/cards/enemy/hilichurl/fighter.webp"},{key:"ice-shieldwall",path:"assets/images/cards/enemy/hilichurl/ice-shieldwall.webp"},{key:"rock-shieldwall",path:"assets/images/cards/enemy/hilichurl/rock-shieldwall.webp"},{key:"wooden-shieldwall",path:"assets/images/cards/enemy/hilichurl/wooden-shieldwall.webp"},{key:"lawachurl",path:"assets/images/cards/enemy/hilichurl/lawachurl.webp"},{key:"hilistray-water",path:"assets/images/cards/enemy/hilichurl/hilistray-water.webp"}],VW=[{key:"slime-electro",path:"assets/images/cards/enemy/slime/electro.webp"},{key:"slime-cryo",path:"assets/images/cards/enemy/slime/cryo.webp"},{key:"slime-hydro",path:"assets/images/cards/enemy/slime/hydro.webp"},{key:"slime-large-hydro",path:"assets/images/cards/enemy/slime/large-hydro.webp"},{key:"slime-large-cryo",path:"assets/images/cards/enemy/slime/large-cryo.webp"},{key:"hydro-phantasm",path:"assets/images/cards/enemy/slime/hydro-phantasm.webp"}],UW=[{key:"macarons",path:"assets/images/cards/food/macarons.webp"},{key:"mystique-soup",path:"assets/images/cards/food/mystique-soup.webp"},{key:"pizza",path:"assets/images/cards/food/pizza.webp"},{key:"roast-chicken",path:"assets/images/cards/food/roast-chicken.webp"},{key:"life-essence",path:"assets/images/cards/food/life-essence.webp"}],WW=[{key:"breathe-fire",path:"assets/images/cards/trap/breathe-fire.webp"},{key:"quicksand",path:"assets/images/cards/trap/quicksand.webp"},{key:"abyss-call",path:"assets/images/cards/trap/abyss-call.webp"}],XW=[{key:"bribery",path:"assets/images/cards/treasure/bribery.webp"},{key:"gold-mine",path:"assets/images/cards/treasure/gold-mine.webp"},{key:"chest",path:"assets/images/cards/treasure/chest.webp"}],YW=[{key:"explosive",path:"assets/images/cards/bomb/explosive.webp"}],yT=[{key:"empty",path:"assets/images/cards/empty.webp"}],CT=[{key:"equipment-slot",path:"assets/images/ui/equipment-slot.webp"},{key:"black-hole",path:"assets/images/item/black-hole.webp"},{key:"catalyst",path:"assets/images/item/catalyst.webp"},{key:"claw",path:"assets/images/item/claw.webp"},{key:"cooldown",path:"assets/images/item/cooldown.webp"},{key:"corruption",path:"assets/images/item/corruption.webp"},{key:"healing-potion",path:"assets/images/item/healing-potion.webp"},{key:"refinement",path:"assets/images/item/refinement.webp"},{key:"repair",path:"assets/images/item/repair.webp"},{key:"seasoning",path:"assets/images/item/seasoning.webp"},{key:"sword",path:"assets/images/item/sword.webp"},{key:"tax-waiver",path:"assets/images/item/tax-waiver.webp"},{key:"toxic",path:"assets/images/item/toxic.webp"}],ST=[{key:"element-pyro",path:"assets/images/element/pyro.webp"},{key:"element-hydro",path:"assets/images/element/hydro.webp"},{key:"element-electro",path:"assets/images/element/electro.webp"},{key:"element-cryo",path:"assets/images/element/cryo.webp"},{key:"element-dendro",path:"assets/images/element/dendro.webp"},{key:"element-anemo",path:"assets/images/element/anemo.webp"},{key:"element-geo",path:"assets/images/element/geo.webp"}],HW=[{key:"background",path:"assets/images/ui/background.webp"},{key:"compass",path:"assets/images/ui/compass.webp"},{key:"library",path:"assets/images/ui/library.webp"},{key:"equip",path:"assets/images/ui/equip.webp"}];class Ko{constructor(){if(Ko.instance)return Ko.instance;Ko.instance=this,this.scene=null}setScene(J){this.scene=J}preloadSceneAssets(J,tt){if(!this.scene){console.warn("AssetManager: Scene chưa được set"),tt&&tt();return}switch(this.scene.load.on("complete",tt),J){case"MenuScene":this.loadImages([...HW,...Ev]);break;case"GameScene":this.loadImages(this.getLoadImagesListGameScene());break;case"EquipScene":this.loadImages(CT);break;case"LibraryScene":case"MapScenes":this.loadImages([...Ev,...ST,...yT]);break;case"SelectCharacterScene":this.loadImages(ST);break;default:console.warn(`AssetManager: Không tìm thấy scene "${J}"`),tt&&tt();return}this.scene.load.start()}loadImage(J,tt){this.scene.textures.exists(J)?console.log(`AssetManager: ${J} đã tồn tại`):J.endsWith("sprite")?(this.scene.load.spritesheet(J,tt,{frameWidth:350,frameHeight:590}),console.log(`AssetManager: Đã load sprite sheet ${J} từ ${tt}`)):(this.scene.load.image(J,tt),console.log(`AssetManager: Đã load image ${J} từ ${tt}`))}loadImages(J){J.forEach(tt=>this.loadImage(tt.key,tt.path))}loadAudio(J,tt){this.scene.cache.audio.exists(J)||(this.scene.load.audio(J,tt),console.log(`AssetManager: Đã load audio ${J} từ ${tt}`))}loadAudios(J){J.forEach(tt=>this.loadAudio(tt.key,tt.path))}getLoadImagesListGameScene(){let J=[];return J.push(...CT),J.push(...GW),J.push(...Ev),J.push(...kW),J.push(...zW),J.push(...NW),J.push(...VW),J.push(...UW),J.push(...WW),J.push(...XW),J.push(...YW),J.push(...yT),J}}const TT=new Ko;class $W extends oe.Scene{constructor(){super({key:"LoadingScene"})}init(J){const{targetScene:tt,dataTargetScene:ot}=J||{};this.targetScene=tt||"MenuScene",this.dataTargetScene=ot||{}}preload(){}create(){const{width:J,height:tt}=this.scale;this.add.rectangle(J/2,tt/2,J,tt,9852778);const ot=this.add.text(J/2-120,tt*.5,"⏳",{fontSize:"64px",fontFamily:"Arial, sans-serif"}).setOrigin(.5),ht=this.add.text(J/2-60,tt*.5-28,"loading . . .",{fontSize:"48px",fontWeight:"bold",stroke:"#000000ff",fill:"#ecf0f1",fontFamily:"Arial, sans-serif"}).setOrigin(0),gt=this.add.text(J/2,tt*.6,"▱▱▱▱▱▱▱▱▱▱",{fontSize:"48px",fontFamily:"Arial, sans-serif",fill:"#622945"}).setOrigin(.5);this.tweens.add({targets:ot,rotation:Math.PI*2,duration:1500,repeat:-1,repeatDelay:1500,ease:"Linear"});let C=0,A=0;this.time.addEvent({delay:1e3,callback:()=>{if(A<9){A++;const g="▰".repeat(A),y="▱".repeat(10-A);gt.setText(g+y)}C=(C+1)%4;const s=".".repeat(C);ht.setText(`loading ${s}`)},loop:!0}),TT.setScene(this),TT.preloadSceneAssets(this.targetScene,()=>{this.scene.start(this.targetScene,this.dataTargetScene)})}}class KW{constructor(){fe(this,"MOVEMENT_TABLE",{0:{3:{first:1,second:2},1:{first:3,second:6}},2:{5:{first:1,second:0},1:{first:5,second:8}},6:{3:{first:7,second:8},7:{first:3,second:0}},8:{5:{first:7,second:6},7:{first:5,second:2}},4:{1:{first:7,second:null},3:{first:5,second:null},5:{first:3,second:null},7:{first:1,second:null}},5:{2:{first:8,second:null},8:{first:2,second:null},4:{first:2,second:null}},3:{0:{first:6,second:null},4:{first:6,second:null},6:{first:0,second:null}},1:{0:{first:2,second:null},2:{first:0,second:null},4:{first:0,second:null}},7:{6:{first:8,second:null},4:{first:8,second:null},8:{first:6,second:null}}})}isValidMove(J,tt){if(J===tt)return!1;const ot={row:Math.floor(J/3),col:J%3},ht={row:Math.floor(tt/3),col:tt%3},gt=Math.abs(ot.row-ht.row),C=Math.abs(ot.col-ht.col);return gt===1&&C===0||gt===0&&C===1}calculateMovement(J,tt){const{first:ot,second:ht}=this.MOVEMENT_TABLE[J][tt]||{first:null,second:null},gt=[];return gt.push({from:J,to:tt}),gt.push({from:ot,to:J}),ht!==null&&gt.push({from:ht,to:ot}),gt}}const ZW={addDisplayHUD(){this.hpDisplay=this.createDisplay({fillColor:16711680,text:this.hp.toString()},"rightTop")},takeDamage(At){const J=Math.max(1,At-this.defense);return this.updateHealth(this.health-J),console.log(`Anemo Samachurl nhận ${J} damage, máu còn lại: ${this.health}`),J},CardEffect(){return console.log(this.name+" đang chạy hiệu ứng..."),!1}},JW={coinBehavior(){return console.log("Coin card behavior activated"),{value:10,type:"coin"}}},QW={foodBehavior(){return console.log("Food card behavior activated"),console.log("TODO: Implement food consumption logic"),console.log("TODO: Add healing effects"),console.log("TODO: Add buff effects"),console.log("TODO: Add food animation"),{healing:20,type:"food"}},consumeFood(){return console.log("TODO: Food consumed - implement healing logic"),{consumed:!0,healing:20}}},jW={weaponBehavior(){return console.log("Weapon card behavior activated"),{type:"weapon",canEquip:!0,damage:15,durability:100}},equipWeapon(){return console.log("TODO: Weapon equipped - implement equipment logic"),{equipped:!0,damage:15,durability:100}},repairWeapon(){return console.log("TODO: Weapon repaired - implement repair logic"),{repaired:!0,durability:100}}},qW={trapBehavior(){return console.log("Trap card behavior activated"),{type:"trap",isActive:!0,damage:25,effect:"damage"}},activateTrap(){return console.log("TODO: Trap activated - implement trap logic"),{activated:!0,damage:25,effect:"damage"}},disarmTrap(){return console.log("TODO: Trap disarmed - implement disarm logic"),{disarmed:!0,safe:!0}}},_W={treasureBehavior(){return console.log("Treasure card behavior activated"),{type:"treasure",value:50,rarity:"common"}},openTreasure(){return console.log("TODO: Treasure opened - implement treasure logic"),{opened:!0,value:50,items:[]}},getTreasureValue(){return console.log("TODO: Get treasure value - implement value calculation"),{value:50,currency:"gold"}}};class Jv{static create(J,tt,ot,ht,gt=null,C=null,A=76){const s=J.add.sprite(tt,ot,ht);gt&&C&&s.setDisplaySize(gt,C);const g=`${ht}-animation`;return J.anims.exists(g)||J.anims.create({key:g,frames:J.anims.generateFrameNumbers(ht,{start:0,end:A-1}),frameRate:12,repeat:-1}),s.play(g),s}static changeTexture(J,tt,ot=76){if(!J||!J.scene){console.warn("SpritesheetCharacter: Sprite không hợp lệ");return}const ht=J.anims.currentAnim?J.anims.currentAnim.key:null;J.anims.isPlaying&&J.anims.stop(),J.setTexture(tt);const gt=`${tt}-animation`;if(J.scene.anims.exists(gt)?console.log(`SpritesheetCharacter: Sử dụng animation có sẵn ${gt}`):(J.scene.anims.create({key:gt,frames:J.scene.anims.generateFrameNumbers(tt,{start:0,end:ot-1}),frameRate:12,repeat:-1}),console.log(`SpritesheetCharacter: Đã tạo animation mới ${gt}`)),J.play(gt),ht&&ht!==gt){const C=J.scene.children.list.filter(A=>A.type==="Sprite"&&A.anims&&A.anims.currentAnim&&A.anims.currentAnim.key===ht);C.length===0?(J.scene.anims.remove(ht),console.log(`SpritesheetCharacter: Đã xóa animation cũ ${ht}`)):console.log(`SpritesheetCharacter: Giữ animation cũ ${ht} vì còn ${C.length} sprite đang sử dụng`)}return J}}const tX={createCard(){this.level>2?(this.cardImage=Jv.create(this.scene,0,0,this.nameId+"-sprite",160,274.3),this.border=this.scene.add.graphics(),this.border.fillStyle(14467183,1),this.border.lineStyle(2,14467183,1),this.border.fillRoundedRect(-82,-139,164,278.3,20),this.border.strokeRoundedRect(-82,-139,164,278.3,20),this.add([this.border,this.cardImage]),this.addDisplayHUD(),this.setInteractive(new Phaser.Geom.Rectangle(-80,-137,160,274.3),Phaser.Geom.Rectangle.Contains),this.on("pointerdown",()=>this.onCardPointerDown()),this.on("pointerup",()=>this.onCardPointerUp()),this.on("pointerover",()=>this.onCardHover()),this.on("pointerout",()=>this.onCardOut())):Yt.prototype.createCard.call(this)},addDisplayHUD(){this.hpDisplay=this.createDisplay({fillColor:16711680,text:this.hp.toString()},"rightTop")},takeDamage(At){this.hp=Math.max(0,this.hp-At),this.hpDisplay.setText(this.hp.toString()),this.hp<=0&&console.log(this.name+" is defeated!")},heal(At){this.hp=Math.min(this.maxHP,this.hp+At),this.hpDisplay.setText(this.hp.toString())},getMaxHP(){return console.log("maxHP",this.constructor.DEFAULT.hp),this.constructor.DEFAULT.hp+this.level-1},getLevel(){const At=localStorage.getItem("CharacterLevel");return At&&JSON.parse(At)[this.nameId]||1}},eX={bombBehavior(){return console.log("Bomb card behavior activated"),{type:"bomb",isExplosive:!0,damage:40,radius:2}},explode(){return console.log("TODO: Bomb exploded - implement explosion logic"),{exploded:!0,damage:40,radius:2,affected:[]}},defuse(){return console.log("TODO: Bomb defused - implement defuse logic"),{defused:!0,safe:!0}},getTimer(){return console.log("TODO: Get bomb timer - implement timer logic"),{timer:3,ticking:!0}}};class Yt extends oe.GameObjects.Container{constructor(J,tt,ot,ht,gt,C,A){super(J,tt,ot),this.index=ht,this.name=gt,this.nameId=C,this.type=A,this.pressStartTime=0,this.cardInfoDialog=null,A==="enemy"?Object.assign(this,ZW):A==="coin"?Object.assign(this,JW):A==="food"?Object.assign(this,QW):A==="weapon"?Object.assign(this,jW):A==="trap"?Object.assign(this,qW):A==="treasure"?Object.assign(this,_W):A==="character"?Object.assign(this,tX):A==="bomb"&&Object.assign(this,eX)}createCard(){this.cardImage=this.scene.add.image(0,0,this.nameId),this.cardImage.setDisplaySize(160,274.3),this.border=this.scene.add.graphics(),this.border.fillStyle(16777215,1),this.border.lineStyle(2,16777215,1),this.border.fillRoundedRect(-82,-139,164,278.3,20),this.border.strokeRoundedRect(-82,-139,164,278.3,20),this.add([this.border,this.cardImage]),this.addDisplayHUD(),this.setInteractive(new oe.Geom.Rectangle(-80,-137,160,274.3),oe.Geom.Rectangle.Contains),this.on("pointerdown",()=>this.onCardPointerDown()),this.on("pointerup",()=>this.onCardPointerUp()),this.on("pointerover",()=>this.onCardHover()),this.on("pointerout",()=>this.onCardOut())}addDisplayHUD(){}onCardPointerDown(){this.scene.gameManager.animationManager.isProcessing||(this.pressStartTime=Date.now(),this.isLongPressed=!1)}onCardPointerUp(){if(this.scene.gameManager.animationManager.isProcessing){this.pressStartTime=0,this.isLongPressed=!1;return}if(this.pressStartTime===0)return;const J=Date.now()-this.pressStartTime;!this.isLongPressed&&J>0&&(J<1500?this.onCardClick():(this.isLongPressed=!0,this.onLongPress())),this.pressStartTime=0}onLongPress(){this.showCardInfoDialog()}showCardInfoDialog(){this.cardInfoDialog&&this.cardInfoDialog.destroy();const{width:J,height:tt}=this.scene.scale;this.cardInfoDialog=this.scene.add.container(J/2,tt/2),this.cardInfoDialog.setDepth(120);const ot=this.scene.add.rectangle(-J/2,-tt/2,J,tt,0,.7).setOrigin(0,0).setInteractive(),ht=this.scene.add.graphics();ht.fillStyle(8388736,.95),ht.lineStyle(3,16724838),ht.fillRoundedRect(-200,-150,400,300,20),ht.strokeRoundedRect(-200,-150,400,300,20);const gt=this.scene.add.image(0,0,this.nameId);gt.setDisplaySize(80,137.14);const C=this.scene.add.text(0,-120,this.name,{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial"});C.setOrigin(.5);const A=this.scene.add.text(0,-100,`Type: ${this.type}`,{fontSize:"16px",fill:"#ffb3d9",fontFamily:"Arial"});A.setOrigin(.5);const s=this.getDescription(),g=this.scene.add.text(0,100,s,{fontSize:"14px",fill:"#ecf0f1",fontFamily:"Arial",wordWrap:{width:300},align:"center"});g.setOrigin(.5);const y=this.scene.add.graphics();y.fillStyle(16724838),y.fillRoundedRect(-30,-25,60,50,8),y.setPosition(0,190);const f=this.scene.add.text(0,190,"X",{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial"});f.setOrigin(.5),y.setInteractive(new oe.Geom.Rectangle(-30,-25,60,50),oe.Geom.Rectangle.Contains),y.on("pointerover",()=>{y.clear(),y.setScale(1.2),y.fillStyle(16739229),y.fillRoundedRect(-30,-25,60,50,8)}),y.on("pointerout",()=>{y.clear(),y.setScale(1),y.fillStyle(16724838),y.fillRoundedRect(-30,-25,60,50,8)}),y.on("pointerdown",()=>{this.hideCardInfoDialog()}),this.cardInfoDialog.add([ot,ht,gt,C,A,g,y,f]),this.scene.add.existing(this.cardInfoDialog),this.escKey=this.scene.input.keyboard.addKey("ESC"),this.escKey.on("down",()=>{this.hideCardInfoDialog()})}hideCardInfoDialog(){this.cardInfoDialog&&(this.cardInfoDialog.destroy(),this.cardInfoDialog=null),this.escKey&&(this.escKey.off("down"),this.escKey=null),this.isLongPressed=!1,this.pressStartTime=0,console.log("Card: Dialog đã đóng, reset trạng thái long press")}getDescription(){return this.description||"Không có mô tả cho thẻ này."}onCardClick(){this.scene.gameManager.moveCharacter(this.index)}onCardHover(){this.setScale(1.05)}onCardOut(){this.setScale(1)}createDisplay(J,tt){const{fillColor:ot=65280,text:ht="0"}=J||{},gt=this.scene.add.graphics();gt.fillStyle(ot),gt.fillCircle(0,0,18);const C=this.scene.add.text(0,0,ht.toString(),{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"});C.setOrigin(.5);const A=this.scene.add.container(0,0,[gt,C]);return tt==="leftTop"?A.setPosition(-57,-113):tt==="rightTop"?A.setPosition(57,-113):tt==="rightBottom"?A.setPosition(57,113):tt==="leftBottom"&&A.setPosition(-57,113),this.add(A),{container:A,text:C,updateText:s=>{C&&C.setText&&C.setText(s.toString())},updateColor:s=>{gt&&gt.fillStyle&&gt.fillStyle(s)},destroy:()=>{A&&A.destroy&&A.destroy()}}}GetRandom(J,tt){return Math.floor(Math.random()*(tt-J+1))+J}CardEffect(){console.log(`Card ${this.name} (${this.nameId}) đang chạy hiệu ứng...`)}ProgressDestroy(){this.scene.tweens.add({targets:this,alpha:0,scaleX:.5,scaleY:.5,duration:300,ease:"Power2",onComplete:()=>{this.destroy()}})}processCreation(){this.setAlpha(0),this.setScale(.5),this.scene.tweens.add({targets:this,alpha:1,scaleX:1,scaleY:1,duration:400,ease:"Back.easeOut",onComplete:()=>{}})}}const Au=class Au extends Yt{constructor(J,tt,ot,ht,gt){super(J,tt,ot,ht,`Mảnh Vỡ Nguyên Tố ${gt.charAt(0).toUpperCase()+gt.slice(1).toLowerCase()}`,`${gt}-fragment`,"coin"),this.score=this.GetRandom(1,9),this.rarity=Au.DEFAULT.rarity,this.description=`Mảnh Vỡ Nguyên Tố ${gt.charAt(0).toUpperCase()+gt.slice(1).toLowerCase()} nhặt có thể đổi Xu.`,this.createCard(),J.add.existing(this)}addDisplayHUD(){this.coinDisplay=this.createDisplay({fillColor:16737792,text:this.score.toString()},"rightBottom")}createScoreDisplay(){this.scoreBackground=this.scene.add.graphics(),this.scoreBackground.fillStyle(11897600),this.scoreBackground.fillCircle(0,0,18),this.scoreText=this.scene.add.text(0,0,this.score.toString(),{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.scoreText.setOrigin(.5),this.scoreDisplay=this.scene.add.container(0,0,[this.scoreBackground,this.scoreText]),this.scoreDisplay.setPosition(57,113),this.add(this.scoreDisplay)}updateScore(J){this.score=J,this.scoreText&&this.scoreText.setText(this.score.toString())}CardEffect(){return console.log("Coin ---------------------- đang chạy hiệu ứng..."),this.scene.gameManager.addCoin(this.score),!1}onLongPress(){console.log("=== COIN ITEM INFO ==="),console.log("Score:",this.score),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=========================="),super.onLongPress()}};fe(Au,"DEFAULT",{rarity:2});let Ru=Au;const Sa=[{stageId:"dungeon_abyss_chamber",name:"Abyss Chamber",typeRatios:{enemies:35,food:8,weapons:18,coins:22,traps:12,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","HilichurlFighter","Shooter"],food:["LifeEssence","MystiqueSoup","Pizza"],weapons:["SwordSteampunk","SwordForest","SwordSkyward"],coins:["Coin"],traps:["AbyssCall","BreatheFire"],treasures:["Chest","GoldMine"]}},{stageId:"dungeon_crystal_cave",name:"Crystal Cave",typeRatios:{enemies:30,food:10,weapons:20,coins:25,traps:10,treasures:50},availableCards:{enemies:["AnemoSamachurl"],food:["LifeEssence","Macarons","Pizza"],weapons:["SwordSteampunk","SwordForest"],coins:["Coin"],traps:["BreatheFire"],treasures:["Chest","GoldMine"]}},{stageId:"dungeon_fire_temple",name:"Fire Temple",typeRatios:{enemies:40,food:5,weapons:15,coins:20,traps:15,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","HilistrayWater","WoodenShieldwall","Lawachurl","RockShieldwall","Berserker","Blazing","IceShieldwall","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_ice_palace",name:"Ice Palace",typeRatios:{enemies:32,food:12,weapons:18,coins:23,traps:10,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","Shooter","Crackling","CryoShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordTraveler"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_thunder_peak",name:"Thunder Peak",typeRatios:{enemies:38,food:7,weapons:16,coins:21,traps:13,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","HilistrayWater","WoodenShieldwall","Lawachurl","RockShieldwall","Berserker","Blazing","IceShieldwall","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_wind_valley",name:"Wind Valley",typeRatios:{enemies:28,food:15,weapons:22,coins:20,traps:10,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","Shooter","Crackling"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_earth_fortress",name:"Earth Fortress",typeRatios:{enemies:42,food:6,weapons:14,coins:18,traps:15,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","HilistrayWater","WoodenShieldwall","Lawachurl","RockShieldwall","Berserker","Blazing","IceShieldwall","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_water_sanctuary",name:"Water Sanctuary",typeRatios:{enemies:33,food:11,weapons:19,coins:22,traps:10,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_shadow_realm",name:"Shadow Realm",typeRatios:{enemies:45,food:4,weapons:12,coins:16,traps:18,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","HilistrayWater","WoodenShieldwall","Lawachurl","RockShieldwall","Berserker","Blazing","IceShieldwall","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_light_tower",name:"Light Tower",typeRatios:{enemies:25,food:18,weapons:25,coins:17,traps:10,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","Shooter","Crackling"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_dark_forest",name:"Dark Forest",typeRatios:{enemies:36,food:9,weapons:17,coins:21,traps:12,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","HilistrayWater","WoodenShieldwall","Lawachurl","RockShieldwall","Berserker","Blazing","IceShieldwall","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_golden_mine",name:"Golden Mine",typeRatios:{enemies:20,food:20,weapons:30,coins:15,traps:10,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","Shooter","Crackling"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_silver_castle",name:"Silver Castle",typeRatios:{enemies:37,food:8,weapons:16,coins:20,traps:14,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","HilistrayWater","WoodenShieldwall","Lawachurl","RockShieldwall","Berserker","Blazing","IceShieldwall","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_bronze_dungeon",name:"Bronze Dungeon",typeRatios:{enemies:30,food:10,weapons:20,coins:25,traps:10,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","HilichurlFighter"],food:["LifeEssence","Macarons","Pizza"],weapons:["SwordSteampunk","SwordForest"],coins:["Coin"],traps:["BreatheFire"],treasures:["Chest","GoldMine"]}},{stageId:"dungeon_emerald_cave",name:"Emerald Cave",typeRatios:{enemies:34,food:9,weapons:18,coins:22,traps:12,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","Shooter","Crackling","CryoShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordTraveler"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_ruby_mountain",name:"Ruby Mountain",typeRatios:{enemies:39,food:6,weapons:15,coins:19,traps:16,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","HilistrayWater","WoodenShieldwall","Lawachurl","RockShieldwall","Berserker","Blazing","IceShieldwall","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_sapphire_lake",name:"Sapphire Lake",typeRatios:{enemies:31,food:13,weapons:21,coins:20,traps:10,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}},{stageId:"dungeon_diamond_peak",name:"Diamond Peak",typeRatios:{enemies:43,food:5,weapons:13,coins:17,traps:17,treasures:5},availableCards:{enemies:["AnemoSamachurl","ElectroSamachurl","DendroSamachurl","GeoSamachurl","HydroSamachurl","HilichurlFighter","HilistrayWater","WoodenShieldwall","Lawachurl","RockShieldwall","Berserker","Blazing","IceShieldwall","Shooter","Crackling","CryoShooter","ElectroShooter"],food:["LifeEssence","MystiqueSoup","Pizza","RoastChicken","Macarons"],weapons:["SwordSteampunk","SwordForest","SwordSkyward","SwordSplendor","SwordTraveler","SwordSacrificial"],coins:["Coin"],traps:["AbyssCall","BreatheFire","Quicksand"],treasures:["Chest","Bribery","GoldMine"]}}],Sn=class Sn extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,Sn.DEFAULT.name,Sn.DEFAULT.id,"character"),this.level=this.getLevel(),this.hp=this.getMaxHP(),this.element=Sn.DEFAULT.element,this.description=Sn.DEFAULT.description,this.weapon=null,this.createCard(),J.add.existing(this)}};fe(Sn,"DEFAULT",{id:"eula",name:"Eula",description:"Eula – nữ thần của thủy quyền, đại diện cho sự cân bằng giữa lực lượng và tình cảm. Bên ngoài là vị thần đầy sức mạnh, nhưng bên trong là người phụ nữ đầy tình cảm và nhạy cảm.",hp:10,element:"cryo"});let Cn=Sn;const Tn=class Tn extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,Tn.DEFAULT.name,Tn.DEFAULT.id,"character"),this.level=this.getLevel(),this.hp=this.getMaxHP(),this.element=Tn.DEFAULT.element,this.description=Tn.DEFAULT.description,this.weapon=null,this.createCard(),J.add.existing(this)}};fe(Tn,"DEFAULT",{id:"furina",name:"Furina",description:"Furina – nữ thần của thủy quyền, đại diện cho sự cân bằng giữa lực lượng và tình cảm. Bên ngoài là vị thần đầy sức mạnh, nhưng bên trong là người phụ nữ đầy tình cảm và nhạy cảm.",hp:12,element:"hydro"});let Mv=Tn;const Pn=class Pn extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,Pn.DEFAULT.name,Pn.DEFAULT.id,"character"),this.level=this.getLevel(),this.hp=this.getMaxHP(),this.element=Pn.DEFAULT.element,this.description=Pn.DEFAULT.description,this.weapon=null,this.createCard(),J.add.existing(this)}};fe(Pn,"DEFAULT",{id:"mavuika",name:"Mavuika",description:"Mavuika – Hỏa Thần Natlan, biểu tượng của sức mạnh và ý chí bất khuất. Ngọn lửa trong nàng cháy rực như tinh thần chiến binh, soi sáng con đường tự do và khát vọng vĩnh cửu.",hp:11,element:"pyro"});let wv=Pn;const En=class En extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,En.DEFAULT.name,En.DEFAULT.id,"character"),this.level=this.getLevel(),this.hp=this.getMaxHP(),this.element=En.DEFAULT.element,this.description=En.DEFAULT.description,this.weapon=null,this.createCard(),J.add.existing(this)}};fe(En,"DEFAULT",{id:"nahida",name:"Nahida",description:"Nahida – Tiểu Vương Kusanali, vị Thảo Thần bé nhỏ của Sumeru. Với trái tim thuần khiết và trí tuệ hiền hòa, nàng mang khát vọng dẫn dắt nhân loại đến sự khai sáng và tự do.",hp:9,element:"dendro"});let Rv=En;const Mn=class Mn extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,Mn.DEFAULT.name,Mn.DEFAULT.id,"character"),this.level=this.getLevel(),this.hp=this.getMaxHP(),this.element=Mn.DEFAULT.element,this.description=Mn.DEFAULT.description,this.weapon=null,this.createCard(),J.add.existing(this)}};fe(Mn,"DEFAULT",{id:"raiden",name:"Raiden",description:"Raiden Shogun – vĩnh hằng thống trị Inazuma, kiếm thần uy nghiêm với quyết tâm bất diệt. Bên ngoài lạnh lùng nhưng ẩn sâu là khát vọng giữ trọn lời hứa và bảo vệ thần dân.",hp:10,element:"electro"});let Av=Mn;const wn=class wn extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,wn.DEFAULT.name,wn.DEFAULT.id,"character"),this.level=this.getLevel(),this.hp=this.getMaxHP(),this.element=wn.DEFAULT.element,this.description=wn.DEFAULT.description,this.weapon=null,this.createCard(),J.add.existing(this)}};fe(wn,"DEFAULT",{id:"venti",name:"Venti",description:"Venti – nhà thơ du ca tự do, chính là Phong Thần Mondstadt. Dáng vẻ nghịch ngợm và phóng khoáng, nhưng bên trong là vị thần nhân từ luôn dùng âm nhạc để xoa dịu lòng người.",hp:8,element:"anemo"});let Lv=wn;const Rn=class Rn extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,Rn.DEFAULT.name,Rn.DEFAULT.id,"character"),this.level=this.getLevel(),this.hp=this.getMaxHP(),this.element=Rn.DEFAULT.element,this.description=Rn.DEFAULT.description,this.weapon=null,this.createCard(),J.add.existing(this)}};fe(Rn,"DEFAULT",{id:"zhongli",name:"Zhongli",description:"Zhongli – hiền giả tao nhã, thực chất là Nham Thần Liyue. Với trí tuệ hàng ngàn năm và phong thái điềm tĩnh, ông là hiện thân của vững bền, mang gánh nặng lịch sử nặng nề.",hp:10,element:"geo"});let bv=Rn;class iX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Sword Steampunk","sword-steampunk","weapon"),this.attackBoost=this.GetRandom(8,15),this.durability=this.GetRandom(50,80),this.rarity=3,this.description="Sword Steampunk - Kiếm công nghệ Steampunk tăng sức mạnh tấn công.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(26316),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(J){this.attackBoost=J,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateDurability(J){this.durability=Math.max(0,J),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=20&&(this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Steampunk đã bị vỡ!"),this.destroy()}CardEffect(){return console.log("Sword Steampunk ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Steampunk được trang bị, tăng ${this.attackBoost} tấn công!`)),!1}onLongPress(){console.log("=== SWORD STEAMPUNK INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("===================================="),super.onLongPress()}}class sX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Sword Forest","sword-forest","weapon"),this.attackBoost=this.GetRandom(6,12),this.defenseBoost=this.GetRandom(3,8),this.durability=this.GetRandom(60,90),this.rarity=2,this.description="Sword Forest - Kiếm rừng tự nhiên tăng sức mạnh và khả năng phòng thủ.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createDefenseBoostDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createDefenseBoostDisplay(){this.defenseBoostBackground=this.scene.add.graphics(),this.defenseBoostBackground.fillStyle(65280),this.defenseBoostBackground.fillCircle(0,0,15),this.defenseBoostText=this.scene.add.text(0,0,this.defenseBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.defenseBoostText.setOrigin(.5),this.defenseBoostDisplay=this.scene.add.container(0,0,[this.defenseBoostBackground,this.defenseBoostText]),this.defenseBoostDisplay.setPosition(0,113),this.add(this.defenseBoostDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(26316),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(J){this.attackBoost=J,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateDefenseBoost(J){this.defenseBoost=J,this.defenseBoostText&&this.defenseBoostText.setText(this.defenseBoost.toString())}updateDurability(J){this.durability=Math.max(0,J),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=20&&(this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Forest đã bị vỡ!"),this.destroy()}CardEffect(){return console.log("Sword Forest ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Forest được trang bị, tăng ${this.attackBoost} tấn công và ${this.defenseBoost} phòng thủ!`)),!1}onLongPress(){console.log("=== SWORD FOREST INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Defense Boost:",this.defenseBoost),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class rX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Sword Skyward","sword-skyward","weapon"),this.attackBoost=this.GetRandom(10,18),this.speedBoost=this.GetRandom(5,12),this.durability=this.GetRandom(70,100),this.rarity=4,this.description="Sword Skyward - Kiếm bầu trời thiêng liêng tăng sức mạnh và tốc độ.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createSpeedBoostDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createSpeedBoostDisplay(){this.speedBoostBackground=this.scene.add.graphics(),this.speedBoostBackground.fillStyle(10040319),this.speedBoostBackground.fillCircle(0,0,15),this.speedBoostText=this.scene.add.text(0,0,this.speedBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.speedBoostText.setOrigin(.5),this.speedBoostDisplay=this.scene.add.container(0,0,[this.speedBoostBackground,this.speedBoostText]),this.speedBoostDisplay.setPosition(0,113),this.add(this.speedBoostDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(26316),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(J){this.attackBoost=J,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateSpeedBoost(J){this.speedBoost=J,this.speedBoostText&&this.speedBoostText.setText(this.speedBoost.toString())}updateDurability(J){this.durability=Math.max(0,J),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=20&&(this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Skyward đã bị vỡ!"),this.destroy()}CardEffect(){return console.log("Sword Skyward ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Skyward được trang bị, tăng ${this.attackBoost} tấn công và ${this.speedBoost} tốc độ!`)),!1}onLongPress(){console.log("=== SWORD SKYWARD INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Speed Boost:",this.speedBoost),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("================================"),super.onLongPress()}}class nX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Sword Splendor","sword-splendor","weapon"),this.attackBoost=this.GetRandom(12,20),this.luckBoost=this.GetRandom(8,15),this.durability=this.GetRandom(80,120),this.rarity=4,this.description="Sword Splendor - Kiếm huy hoàng quý giá tăng sức mạnh và may mắn.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createLuckBoostDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createLuckBoostDisplay(){this.luckBoostBackground=this.scene.add.graphics(),this.luckBoostBackground.fillStyle(16766720),this.luckBoostBackground.fillCircle(0,0,15),this.luckBoostText=this.scene.add.text(0,0,this.luckBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.luckBoostText.setOrigin(.5),this.luckBoostDisplay=this.scene.add.container(0,0,[this.luckBoostBackground,this.luckBoostText]),this.luckBoostDisplay.setPosition(0,113),this.add(this.luckBoostDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(26316),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(J){this.attackBoost=J,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateLuckBoost(J){this.luckBoost=J,this.luckBoostText&&this.luckBoostText.setText(this.luckBoost.toString())}updateDurability(J){this.durability=Math.max(0,J),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=20&&(this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Splendor đã bị vỡ!"),this.destroy()}CardEffect(){return console.log("Sword Splendor ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Splendor được trang bị, tăng ${this.attackBoost} tấn công và ${this.luckBoost} may mắn!`)),!1}onLongPress(){console.log("=== SWORD SPLENDOR INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Luck Boost:",this.luckBoost),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=================================="),super.onLongPress()}}class aX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Sword Traveler","sword-traveler","weapon"),this.attackBoost=this.GetRandom(5,10),this.adaptability=this.GetRandom(10,20),this.durability=this.GetRandom(40,70),this.rarity=2,this.description="Sword Traveler - Kiếm lữ khách đa năng tăng sức mạnh và khả năng thích ứng.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createAdaptabilityDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createAdaptabilityDisplay(){this.adaptabilityBackground=this.scene.add.graphics(),this.adaptabilityBackground.fillStyle(52479),this.adaptabilityBackground.fillCircle(0,0,15),this.adaptabilityText=this.scene.add.text(0,0,this.adaptability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.adaptabilityText.setOrigin(.5),this.adaptabilityDisplay=this.scene.add.container(0,0,[this.adaptabilityBackground,this.adaptabilityText]),this.adaptabilityDisplay.setPosition(0,113),this.add(this.adaptabilityDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(26316),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(J){this.attackBoost=J,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateAdaptability(J){this.adaptability=J,this.adaptabilityText&&this.adaptabilityText.setText(this.adaptability.toString())}updateDurability(J){this.durability=Math.max(0,J),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=20&&(this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Traveler đã bị vỡ!"),this.destroy()}CardEffect(){return console.log("Sword Traveler ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Traveler được trang bị, tăng ${this.attackBoost} tấn công và ${this.adaptability} khả năng thích ứng!`)),!1}onLongPress(){console.log("=== SWORD TRAVELER INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Adaptability:",this.adaptability),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=================================="),super.onLongPress()}}class oX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Sword Sacrificial","sword-sacrificial","weapon"),this.attackBoost=this.GetRandom(15,25),this.durability=this.GetRandom(20,40),this.sacrificeBonus=this.GetRandom(5,10),this.rarity=3,this.description="Sword Sacrificial - Kiếm hy sinh mạnh mẽ nhưng độ bền thấp.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createAttackBoostDisplay(),this.createSacrificeBonusDisplay(),this.createDurabilityDisplay()}createAttackBoostDisplay(){this.attackBoostBackground=this.scene.add.graphics(),this.attackBoostBackground.fillStyle(16737792),this.attackBoostBackground.fillCircle(0,0,18),this.attackBoostText=this.scene.add.text(0,0,this.attackBoost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.attackBoostText.setOrigin(.5),this.attackBoostDisplay=this.scene.add.container(0,0,[this.attackBoostBackground,this.attackBoostText]),this.attackBoostDisplay.setPosition(57,113),this.add(this.attackBoostDisplay)}createSacrificeBonusDisplay(){this.sacrificeBonusBackground=this.scene.add.graphics(),this.sacrificeBonusBackground.fillStyle(16711782),this.sacrificeBonusBackground.fillCircle(0,0,15),this.sacrificeBonusText=this.scene.add.text(0,0,this.sacrificeBonus.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.sacrificeBonusText.setOrigin(.5),this.sacrificeBonusDisplay=this.scene.add.container(0,0,[this.sacrificeBonusBackground,this.sacrificeBonusText]),this.sacrificeBonusDisplay.setPosition(0,113),this.add(this.sacrificeBonusDisplay)}createDurabilityDisplay(){this.durabilityBackground=this.scene.add.graphics(),this.durabilityBackground.fillStyle(16711680),this.durabilityBackground.fillCircle(0,0,15),this.durabilityText=this.scene.add.text(0,0,this.durability.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.durabilityText.setOrigin(.5),this.durabilityDisplay=this.scene.add.container(0,0,[this.durabilityBackground,this.durabilityText]),this.durabilityDisplay.setPosition(-57,113),this.add(this.durabilityDisplay)}updateAttackBoost(J){this.attackBoost=J,this.attackBoostText&&this.attackBoostText.setText(this.attackBoost.toString())}updateSacrificeBonus(J){this.sacrificeBonus=J,this.sacrificeBonusText&&this.sacrificeBonusText.setText(this.sacrificeBonus.toString())}updateDurability(J){this.durability=Math.max(0,J),this.durabilityText&&this.durabilityText.setText(this.durability.toString()),this.durability<=0?this.break():this.durability<=10&&(this.durabilityBackground.fillStyle(10027008),this.durabilityBackground.fillCircle(0,0,15))}break(){console.log("Sword Sacrificial đã bị vỡ!"),this.destroy()}activateSacrifice(){this.durability>0&&(this.updateDurability(this.durability-this.sacrificeBonus),this.attackBoost+=this.sacrificeBonus,this.updateAttackBoost(this.attackBoost),console.log(`Sword Sacrificial kích hoạt hy sinh, tăng ${this.sacrificeBonus} tấn công!`))}CardEffect(){return console.log("Sword Sacrificial ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.equipWeapon(this),console.log(`Sword Sacrificial được trang bị, tăng ${this.attackBoost} tấn công!`),this.activateSacrifice()),!1}onLongPress(){console.log("=== SWORD SACRIFICIAL INFO ==="),console.log("Attack Boost:",this.attackBoost),console.log("Sacrifice Bonus:",this.sacrificeBonus),console.log("Durability:",this.durability),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("====================================="),super.onLongPress()}}const $s=class $s extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,$s.DEFAULT.name,$s.DEFAULT.id,$s.DEFAULT.type),this.element=$s.DEFAULT.element,this.description=$s.DEFAULT.description,this.rarity=$s.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe($s,"DEFAULT",{id:"anemo-samachurl",name:"Anemo Samachurl",element:"anemo",type:"enemy",description:"Anemo Samachurl - Kẻ địch caster gió có thể tạo gió và làm chậm người chơi.",rarity:3});let Ov=$s;const Ks=class Ks extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,Ks.DEFAULT.name,Ks.DEFAULT.id,Ks.DEFAULT.type),this.element=Ks.DEFAULT.element,this.description=Ks.DEFAULT.description,this.rarity=Ks.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(Ks,"DEFAULT",{id:"electro-samachurl",name:"Electro Samachurl",element:"electro",type:"enemy",description:"Electro Samachurl - Kẻ địch caster điện có thể gây shock và làm chậm người chơi.",rarity:3});let Fv=Ks;const Zs=class Zs extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,Zs.DEFAULT.name,Zs.DEFAULT.id,Zs.DEFAULT.type),this.element=Zs.DEFAULT.element,this.description=Zs.DEFAULT.description,this.rarity=Zs.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(Zs,"DEFAULT",{id:"dendro-samachurl",name:"Dendro Samachurl",element:"dendro",type:"enemy",description:"Dendro Samachurl - Kẻ địch caster thảo có thể tạo cây và gây poison.",rarity:3});let Dv=Zs;const Js=class Js extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,Js.DEFAULT.name,Js.DEFAULT.id,Js.DEFAULT.type),this.element=Js.DEFAULT.element,this.description=Js.DEFAULT.description,this.rarity=Js.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(Js,"DEFAULT",{id:"geo-samachurl",name:"Geo Samachurl",element:"geo",type:"enemy",description:"Geo Samachurl - Kẻ địch caster địa có thể tạo tường và gây stun.",rarity:3});let Bv=Js;const Qs=class Qs extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,Qs.DEFAULT.name,Qs.DEFAULT.id,Qs.DEFAULT.type),this.element=Qs.DEFAULT.element,this.description=Qs.DEFAULT.description,this.rarity=Qs.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(Qs,"DEFAULT",{id:"hydro-samachurl",name:"Hydro Samachurl",element:"hydro",type:"enemy",description:"Hydro Samachurl - Kẻ địch caster thủy có thể tạo nước và gây wet effect.",rarity:3});let Iv=Qs;const js=class js extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,js.DEFAULT.name,js.DEFAULT.id,js.DEFAULT.type),this.element=js.DEFAULT.element,this.description=js.DEFAULT.description,this.rarity=js.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(js,"DEFAULT",{id:"hilichurl-fighter",name:"Hilichurl Fighter",element:"physical",type:"enemy",description:"Hilichurl Fighter - Kẻ địch cơ bản có thể tấn công người chơi.",rarity:4});let Gv=js;const qs=class qs extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,qs.DEFAULT.name,qs.DEFAULT.id,qs.DEFAULT.type),this.element=qs.DEFAULT.element,this.description=qs.DEFAULT.description,this.rarity=qs.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(qs,"DEFAULT",{id:"hilistray-water",name:"Hilistray Water",element:"hydro",type:"enemy",description:"Hilistray Water - Kẻ địch nước, có khả năng chữa lành và tạo hiệu ứng ẩm ướt.",rarity:2});let kv=qs;const _s=class _s extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,_s.DEFAULT.name,_s.DEFAULT.id,_s.DEFAULT.type),this.element=_s.DEFAULT.element,this.description=_s.DEFAULT.description,this.rarity=_s.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(_s,"DEFAULT",{id:"wooden-shieldwall",name:"Wooden Shieldwall",element:"dendro",type:"enemy",description:"Wooden Shieldwall - Kẻ địch tường gỗ, có khả năng phòng thủ trung bình và dễ bị cháy.",rarity:3});let zv=_s;const tr=class tr extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,tr.DEFAULT.name,tr.DEFAULT.id,tr.DEFAULT.type),this.element=tr.DEFAULT.element,this.description=tr.DEFAULT.description,this.rarity=tr.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(tr,"DEFAULT",{id:"lawachurl",name:"Lawachurl",element:"geo",type:"enemy",description:"Lawachurl - Boss Hilichurl mạnh mẽ, có khả năng tấn công và phòng thủ cao.",rarity:5});let Nv=tr;const er=class er extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,er.DEFAULT.name,er.DEFAULT.id,er.DEFAULT.type),this.element=er.DEFAULT.element,this.description=er.DEFAULT.description,this.rarity=er.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(er,"DEFAULT",{id:"rock-shieldwall",name:"Rock Shieldwall",element:"geo",type:"enemy",description:"Rock Shieldwall - Kẻ địch tường đá, có khả năng phòng thủ rất cao và chống đỡ tốt.",rarity:4});let Vv=er;const ir=class ir extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,ir.DEFAULT.name,ir.DEFAULT.id,ir.DEFAULT.type),this.element=ir.DEFAULT.element,this.description=ir.DEFAULT.description,this.rarity=ir.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(ir,"DEFAULT",{id:"berserker",name:"Berserker",element:"pyro",type:"enemy",description:"Berserker - Kẻ địch điên cuồng, tấn công mạnh hơn khi máu thấp.",rarity:4});let Uv=ir;const sr=class sr extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,sr.DEFAULT.name,sr.DEFAULT.id,sr.DEFAULT.type),this.element=sr.DEFAULT.element,this.description=sr.DEFAULT.description,this.rarity=sr.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(sr,"DEFAULT",{id:"blazing",name:"Blazing",element:"pyro",type:"enemy",description:"Blazing - Kẻ địch cháy liên tục, gây damage theo thời gian cho người chơi gần đó.",rarity:3});let Wv=sr;const rr=class rr extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,rr.DEFAULT.name,rr.DEFAULT.id,rr.DEFAULT.type),this.element=rr.DEFAULT.element,this.description=rr.DEFAULT.description,this.rarity=rr.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(rr,"DEFAULT",{id:"ice-shieldwall",name:"Ice Shieldwall",element:"cryo",type:"enemy",description:"Ice Shieldwall - Kẻ địch tường băng, có khả năng phòng thủ cao và làm chậm người chơi.",rarity:4});let Xv=rr;const nr=class nr extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,nr.DEFAULT.name,nr.DEFAULT.id,nr.DEFAULT.type),this.element=nr.DEFAULT.element,this.description=nr.DEFAULT.description,this.rarity=nr.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(nr,"DEFAULT",{id:"shooter",name:"Shooter",element:"physical",type:"enemy",description:"Shooter - Kẻ địch bắn cung từ xa, tấn công cơ bản.",rarity:2});let Yv=nr;const ar=class ar extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,ar.DEFAULT.name,ar.DEFAULT.id,ar.DEFAULT.type),this.element=ar.DEFAULT.element,this.description=ar.DEFAULT.description,this.rarity=ar.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(ar,"DEFAULT",{id:"crackling",name:"Crackling",element:"electro",type:"enemy",description:"Crackling - Kẻ địch nổ khi chết, gây damage cho người chơi gần đó.",rarity:3});let Hv=ar;const or=class or extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,or.DEFAULT.name,or.DEFAULT.id,or.DEFAULT.type),this.element=or.DEFAULT.element,this.description=or.DEFAULT.description,this.rarity=or.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(or,"DEFAULT",{id:"cryo-shooter",name:"Cryo Shooter",element:"cryo",type:"enemy",description:"Cryo Shooter - Kẻ địch bắn băng từ xa, có thể làm chậm và đóng băng người chơi.",rarity:2});let $v=or;const hr=class hr extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,hr.DEFAULT.name,hr.DEFAULT.id,hr.DEFAULT.type),this.element=hr.DEFAULT.element,this.description=hr.DEFAULT.description,this.rarity=hr.DEFAULT.rarity,this.health=this.GetRandom(3,10),this.createCard(),J.add.existing(this)}};fe(hr,"DEFAULT",{id:"electro-shooter",name:"Electro Shooter",element:"electro",type:"enemy",description:"Electro Shooter - Kẻ địch bắn điện từ xa, có thể gây shock và làm chậm người chơi.",rarity:2});let Kv=hr;class hX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Life Essence","life-essence","food"),this.healing=this.GetRandom(50,100),this.allStatsBoost=this.GetRandom(5,10),this.rarity=5,this.description="Life Essence - Tinh hoa sự sống hồi phục sức khỏe tối đa và tăng tất cả chỉ số.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createHealingDisplay(),this.createStatsBoostDisplay()}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(65280),this.healingBackground.fillCircle(0,0,18),this.healingText=this.scene.add.text(0,0,this.healing.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,113),this.add(this.healingDisplay)}createStatsBoostDisplay(){this.statsBoostBackground=this.scene.add.graphics(),this.statsBoostBackground.fillStyle(16711935),this.statsBoostBackground.fillCircle(0,0,15),this.statsBoostText=this.scene.add.text(0,0,this.allStatsBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.statsBoostText.setOrigin(.5),this.statsBoostDisplay=this.scene.add.container(0,0,[this.statsBoostBackground,this.statsBoostText]),this.statsBoostDisplay.setPosition(-57,113),this.add(this.statsBoostDisplay)}updateHealing(J){this.healing=J,this.healingText&&this.healingText.setText(this.healing.toString())}updateAllStatsBoost(J){this.allStatsBoost=J,this.statsBoostText&&this.statsBoostText.setText(this.allStatsBoost.toString())}CardEffect(){return console.log("LifeEssence ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.heal(this.healing),this.scene.player.addAllStatsBoost(this.allStatsBoost),console.log(`LifeEssence hồi phục ${this.healing} máu và tăng tất cả chỉ số ${this.allStatsBoost} cho người chơi!`)),!1}onLongPress(){console.log("=== LIFE ESSENCE INFO ==="),console.log("Healing:",this.healing),console.log("All Stats Boost:",this.allStatsBoost),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}}class lX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Mystique Soup","mystique-soup","food"),this.healing=this.GetRandom(20,35),this.buffDuration=this.GetRandom(3,6),this.rarity=3,this.description="Mystique Soup - Súp bí ẩn hồi phục sức khỏe và tăng sức mạnh tạm thời.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createHealingDisplay(),this.createBuffDisplay()}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(65280),this.healingBackground.fillCircle(0,0,18),this.healingText=this.scene.add.text(0,0,this.healing.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,113),this.add(this.healingDisplay)}createBuffDisplay(){this.buffBackground=this.scene.add.graphics(),this.buffBackground.fillStyle(10040319),this.buffBackground.fillCircle(0,0,15),this.buffText=this.scene.add.text(0,0,this.buffDuration.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.buffText.setOrigin(.5),this.buffDisplay=this.scene.add.container(0,0,[this.buffBackground,this.buffText]),this.buffDisplay.setPosition(-57,113),this.add(this.buffDisplay)}updateHealing(J){this.healing=J,this.healingText&&this.healingText.setText(this.healing.toString())}updateBuffDuration(J){this.buffDuration=J,this.buffText&&this.buffText.setText(this.buffDuration.toString())}CardEffect(){return console.log("MystiqueSoup ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.heal(this.healing),this.scene.player.addBuff("mystique",this.buffDuration),console.log(`MystiqueSoup hồi phục ${this.healing} máu và tăng buff ${this.buffDuration} lượt cho người chơi!`)),!1}onLongPress(){console.log("=== MYSTIQUE SOUP INFO ==="),console.log("Healing:",this.healing),console.log("Buff Duration:",this.buffDuration),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=============================="),super.onLongPress()}}class uX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Pizza","pizza","food"),this.healing=this.GetRandom(25,40),this.strengthBoost=this.GetRandom(2,5),this.rarity=2,this.description="Pizza - Bánh pizza Ý hồi phục sức khỏe và tăng sức mạnh tấn công.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createHealingDisplay(),this.createStrengthDisplay()}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(65280),this.healingBackground.fillCircle(0,0,18),this.healingText=this.scene.add.text(0,0,this.healing.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,113),this.add(this.healingDisplay)}createStrengthDisplay(){this.strengthBackground=this.scene.add.graphics(),this.strengthBackground.fillStyle(16737792),this.strengthBackground.fillCircle(0,0,15),this.strengthText=this.scene.add.text(0,0,this.strengthBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.strengthText.setOrigin(.5),this.strengthDisplay=this.scene.add.container(0,0,[this.strengthBackground,this.strengthText]),this.strengthDisplay.setPosition(-57,113),this.add(this.strengthDisplay)}updateHealing(J){this.healing=J,this.healingText&&this.healingText.setText(this.healing.toString())}updateStrengthBoost(J){this.strengthBoost=J,this.strengthText&&this.strengthText.setText(this.strengthBoost.toString())}CardEffect(){return console.log("Pizza ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.heal(this.healing),this.scene.player.addStrengthBoost(this.strengthBoost),console.log(`Pizza hồi phục ${this.healing} máu và tăng sức mạnh ${this.strengthBoost} cho người chơi!`)),!1}onLongPress(){console.log("=== PIZZA INFO ==="),console.log("Healing:",this.healing),console.log("Strength Boost:",this.strengthBoost),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("========================"),super.onLongPress()}}class dX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Roast Chicken","roast-chicken","food"),this.healing=this.GetRandom(30,45),this.defenseBoost=this.GetRandom(3,6),this.rarity=2,this.description="Roast Chicken - Gà nướng thơm ngon hồi phục sức khỏe và tăng khả năng phòng thủ.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createHealingDisplay(),this.createDefenseDisplay()}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(65280),this.healingBackground.fillCircle(0,0,18),this.healingText=this.scene.add.text(0,0,this.healing.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,113),this.add(this.healingDisplay)}createDefenseDisplay(){this.defenseBackground=this.scene.add.graphics(),this.defenseBackground.fillStyle(26316),this.defenseBackground.fillCircle(0,0,15),this.defenseText=this.scene.add.text(0,0,this.defenseBoost.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.defenseText.setOrigin(.5),this.defenseDisplay=this.scene.add.container(0,0,[this.defenseBackground,this.defenseText]),this.defenseDisplay.setPosition(-57,113),this.add(this.defenseDisplay)}updateHealing(J){this.healing=J,this.healingText&&this.healingText.setText(this.healing.toString())}updateDefenseBoost(J){this.defenseBoost=J,this.defenseText&&this.defenseText.setText(this.defenseBoost.toString())}CardEffect(){return console.log("RoastChicken ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.heal(this.healing),this.scene.player.addDefenseBoost(this.defenseBoost),console.log(`RoastChicken hồi phục ${this.healing} máu và tăng phòng thủ ${this.defenseBoost} cho người chơi!`)),!1}onLongPress(){console.log("=== ROAST CHICKEN INFO ==="),console.log("Healing:",this.healing),console.log("Defense Boost:",this.defenseBoost),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}}class fX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Macarons","macarons","food"),this.healing=this.GetRandom(15,25),this.rarity=2,this.description="Macarons - Bánh ngọt Pháp hồi phục sức khỏe và tăng tinh thần.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createHealingDisplay()}createHealingDisplay(){this.healingBackground=this.scene.add.graphics(),this.healingBackground.fillStyle(65280),this.healingBackground.fillCircle(0,0,18),this.healingText=this.scene.add.text(0,0,this.healing.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.healingText.setOrigin(.5),this.healingDisplay=this.scene.add.container(0,0,[this.healingBackground,this.healingText]),this.healingDisplay.setPosition(57,113),this.add(this.healingDisplay)}updateHealing(J){this.healing=J,this.healingText&&this.healingText.setText(this.healing.toString())}CardEffect(){return console.log("Macarons ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.heal(this.healing),console.log(`Macarons hồi phục ${this.healing} máu cho người chơi!`)),!1}onLongPress(){console.log("=== MACARONS INFO ==="),console.log("Healing:",this.healing),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=========================="),super.onLongPress()}}class cX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"AbyssCall","abyss-call","trap"),this.enemyCount=this.GetRandom(1,3),this.enemyLevel=this.GetRandom(1,3),this.rarity=3,this.description="AbyssCall - Bẫy gọi thêm enemy vào trận đấu khi kích hoạt.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createEnemyCountDisplay(),this.createEnemyLevelDisplay()}createEnemyCountDisplay(){this.enemyCountBackground=this.scene.add.graphics(),this.enemyCountBackground.fillStyle(8388736),this.enemyCountBackground.fillCircle(0,0,18),this.enemyCountText=this.scene.add.text(0,0,this.enemyCount.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.enemyCountText.setOrigin(.5),this.enemyCountDisplay=this.scene.add.container(0,0,[this.enemyCountBackground,this.enemyCountText]),this.enemyCountDisplay.setPosition(57,113),this.add(this.enemyCountDisplay)}createEnemyLevelDisplay(){this.enemyLevelBackground=this.scene.add.graphics(),this.enemyLevelBackground.fillStyle(16737792),this.enemyLevelBackground.fillCircle(0,0,15),this.enemyLevelText=this.scene.add.text(0,0,this.enemyLevel.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.enemyLevelText.setOrigin(.5),this.enemyLevelDisplay=this.scene.add.container(0,0,[this.enemyLevelBackground,this.enemyLevelText]),this.enemyLevelDisplay.setPosition(-57,113),this.add(this.enemyLevelDisplay)}updateEnemyCount(J){this.enemyCount=J,this.enemyCountText&&this.enemyCountText.setText(this.enemyCount.toString())}updateEnemyLevel(J){this.enemyLevel=J,this.enemyLevelText&&this.enemyLevelText.setText(this.enemyLevel.toString())}CardEffect(){return console.log("AbyssCall ---------------------- đang chạy hiệu ứng..."),!1}onLongPress(){console.log("=== ABYSS CALL INFO ==="),console.log("Enemy Count:",this.enemyCount),console.log("Enemy Level:",this.enemyLevel),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("========================"),super.onLongPress()}}class vX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Quicksand","quicksand","trap"),this.damage=this.GetRandom(5,12),this.slowDuration=this.GetRandom(2,4),this.rarity=2,this.description="Quicksand - Bẫy cát lún gây damage và làm chậm người chơi khi kích hoạt.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createDamageDisplay(),this.createSlowDisplay()}createDamageDisplay(){this.damageBackground=this.scene.add.graphics(),this.damageBackground.fillStyle(16711680),this.damageBackground.fillCircle(0,0,18),this.damageText=this.scene.add.text(0,0,this.damage.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.damageText.setOrigin(.5),this.damageDisplay=this.scene.add.container(0,0,[this.damageBackground,this.damageText]),this.damageDisplay.setPosition(57,113),this.add(this.damageDisplay)}createSlowDisplay(){this.slowBackground=this.scene.add.graphics(),this.slowBackground.fillStyle(10053171),this.slowBackground.fillCircle(0,0,15),this.slowText=this.scene.add.text(0,0,this.slowDuration.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.slowText.setOrigin(.5),this.slowDisplay=this.scene.add.container(0,0,[this.slowBackground,this.slowText]),this.slowDisplay.setPosition(-57,113),this.add(this.slowDisplay)}updateDamage(J){this.damage=J,this.damageText&&this.damageText.setText(this.damage.toString())}updateSlowDuration(J){this.slowDuration=J,this.slowText&&this.slowText.setText(this.slowDuration.toString())}CardEffect(){return console.log("Quicksand ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.takeDamage(this.damage),this.scene.player.addSlowEffect(this.slowDuration),console.log(`Quicksand gây ${this.damage} damage và làm chậm ${this.slowDuration} lượt cho người chơi!`)),!1}onLongPress(){console.log("=== QUICKSAND INFO ==="),console.log("Damage:",this.damage),console.log("Slow Duration:",this.slowDuration),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=========================="),super.onLongPress()}}class pX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Breathe Fire","breathe-fire","trap"),this.damage=this.GetRandom(8,15),this.rarity=2,this.description="Breathe Fire - Bẫy thở lửa gây damage cho người chơi khi kích hoạt.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createDamageDisplay()}createDamageDisplay(){this.damageBackground=this.scene.add.graphics(),this.damageBackground.fillStyle(16711680),this.damageBackground.fillCircle(0,0,18),this.damageText=this.scene.add.text(0,0,this.damage.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.damageText.setOrigin(.5),this.damageDisplay=this.scene.add.container(0,0,[this.damageBackground,this.damageText]),this.damageDisplay.setPosition(57,113),this.add(this.damageDisplay)}updateDamage(J){this.damage=J,this.damageText&&this.damageText.setText(this.damage.toString())}CardEffect(){return console.log("BreatheFire ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.takeDamage(this.damage),console.log(`BreatheFire gây ${this.damage} damage cho người chơi!`)),!1}onLongPress(){console.log("=== BREATHE FIRE INFO ==="),console.log("Damage:",this.damage),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}}class gX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Chest","chest","treasure"),this.coinReward=this.GetRandom(25,50),this.gemReward=this.GetRandom(5,15),this.rarity=4,this.description="Chest - Kho báu chính chứa nhiều loại phần thưởng quý giá.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createCoinRewardDisplay(),this.createGemRewardDisplay()}createCoinRewardDisplay(){this.coinRewardBackground=this.scene.add.graphics(),this.coinRewardBackground.fillStyle(16766720),this.coinRewardBackground.fillCircle(0,0,18),this.coinRewardText=this.scene.add.text(0,0,this.coinReward.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.coinRewardText.setOrigin(.5),this.coinRewardDisplay=this.scene.add.container(0,0,[this.coinRewardBackground,this.coinRewardText]),this.coinRewardDisplay.setPosition(57,113),this.add(this.coinRewardDisplay)}createGemRewardDisplay(){this.gemRewardBackground=this.scene.add.graphics(),this.gemRewardBackground.fillStyle(10040319),this.gemRewardBackground.fillCircle(0,0,15),this.gemRewardText=this.scene.add.text(0,0,this.gemReward.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.gemRewardText.setOrigin(.5),this.gemRewardDisplay=this.scene.add.container(0,0,[this.gemRewardBackground,this.gemRewardText]),this.gemRewardDisplay.setPosition(-57,113),this.add(this.gemRewardDisplay)}updateCoinReward(J){this.coinReward=J,this.coinRewardText&&this.coinRewardText.setText(this.coinReward.toString())}updateGemReward(J){this.gemReward=J,this.gemRewardText&&this.gemRewardText.setText(this.gemReward.toString())}CardEffect(){return console.log("Chest ---------------------- đang chạy hiệu ứng..."),this.scene.player&&(this.scene.player.addCoins(this.coinReward),this.scene.player.addGems(this.gemReward),this.scene.player.addTreasureBonus(),console.log(`Chest: Mở kho báu nhận được ${this.coinReward} coins và ${this.gemReward} gems!`)),!1}onLongPress(){console.log("=== CHEST INFO ==="),console.log("Coin Reward:",this.coinReward),console.log("Gem Reward:",this.gemReward),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}}class mX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Bribery","bribery","treasure"),this.cost=this.GetRandom(10,25),this.reward=this.GetRandom(20,50),this.rarity=3,this.description="Bribery - Hối lộ để nhận phần thưởng lớn hơn chi phí.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createCostDisplay(),this.createRewardDisplay()}createCostDisplay(){this.costBackground=this.scene.add.graphics(),this.costBackground.fillStyle(16711680),this.costBackground.fillCircle(0,0,18),this.costText=this.scene.add.text(0,0,this.cost.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.costText.setOrigin(.5),this.costDisplay=this.scene.add.container(0,0,[this.costBackground,this.costText]),this.costDisplay.setPosition(57,113),this.add(this.costDisplay)}createRewardDisplay(){this.rewardBackground=this.scene.add.graphics(),this.rewardBackground.fillStyle(16766720),this.rewardBackground.fillCircle(0,0,15),this.rewardText=this.scene.add.text(0,0,this.reward.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.rewardText.setOrigin(.5),this.rewardDisplay=this.scene.add.container(0,0,[this.rewardBackground,this.rewardText]),this.rewardDisplay.setPosition(-57,113),this.add(this.rewardDisplay)}updateCost(J){this.cost=J,this.costText&&this.costText.setText(this.cost.toString())}updateReward(J){this.reward=J,this.rewardText&&this.rewardText.setText(this.reward.toString())}CardEffect(){return console.log("Bribery ---------------------- đang chạy hiệu ứng..."),this.scene.player&&this.scene.player.coins>=this.cost?(this.scene.player.spendCoins(this.cost),this.scene.player.addCoins(this.reward),console.log(`Bribery: Chi ${this.cost} coins để nhận ${this.reward} coins!`)):console.log("Bribery: Không đủ coins để hối lộ!"),!1}onLongPress(){console.log("=== BRIBERY INFO ==="),console.log("Cost:",this.cost),console.log("Reward:",this.reward),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("=========================="),super.onLongPress()}}class xX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"GoldMine","gold-mine","treasure"),this.resourceType=this.getRandomResourceType(),this.resourceAmount=this.GetRandom(15,35),this.rarity=2,this.description=`GoldMine - Mỏ khai thác ${this.resourceType} để nhận tài nguyên.`,this.createCard(),J.add.existing(this)}getRandomResourceType(){const J=["coins","gems","materials"];return J[Math.floor(Math.random()*J.length)]}addDisplayHUD(){this.createResourceTypeDisplay(),this.createResourceAmountDisplay()}createResourceTypeDisplay(){this.resourceTypeBackground=this.scene.add.graphics();let J;switch(this.resourceType){case"coins":J=16766720;break;case"gems":J=10040319;break;case"materials":J=10053171;break;default:J=8421504}this.resourceTypeBackground.fillStyle(J),this.resourceTypeBackground.fillCircle(0,0,18);const tt=this.resourceType.charAt(0).toUpperCase();this.resourceTypeText=this.scene.add.text(0,0,tt,{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.resourceTypeText.setOrigin(.5),this.resourceTypeDisplay=this.scene.add.container(0,0,[this.resourceTypeBackground,this.resourceTypeText]),this.resourceTypeDisplay.setPosition(57,113),this.add(this.resourceTypeDisplay)}createResourceAmountDisplay(){this.resourceAmountBackground=this.scene.add.graphics(),this.resourceAmountBackground.fillStyle(65280),this.resourceAmountBackground.fillCircle(0,0,15),this.resourceAmountText=this.scene.add.text(0,0,this.resourceAmount.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.resourceAmountText.setOrigin(.5),this.resourceAmountDisplay=this.scene.add.container(0,0,[this.resourceAmountBackground,this.resourceAmountText]),this.resourceAmountDisplay.setPosition(-57,113),this.add(this.resourceAmountDisplay)}updateResourceType(J){if(this.resourceType=J,this.description=`GoldMine - Mỏ khai thác ${this.resourceType} để nhận tài nguyên.`,this.resourceTypeText&&this.resourceTypeText.setText(this.resourceType.charAt(0).toUpperCase()),this.resourceTypeBackground){let tt;switch(this.resourceType){case"coins":tt=16766720;break;case"gems":tt=10040319;break;case"materials":tt=10053171;break;default:tt=8421504}this.resourceTypeBackground.fillStyle(tt),this.resourceTypeBackground.fillCircle(0,0,18)}}updateResourceAmount(J){this.resourceAmount=J,this.resourceAmountText&&this.resourceAmountText.setText(this.resourceAmount.toString())}CardEffect(){if(console.log("GoldMine ---------------------- đang chạy hiệu ứng..."),this.scene.player)switch(this.resourceType){case"coins":this.scene.player.addCoins(this.resourceAmount),console.log(`GoldMine: Khai thác được ${this.resourceAmount} coins!`);break;case"gems":this.scene.player.addGems(this.resourceAmount),console.log(`GoldMine: Khai thác được ${this.resourceAmount} gems!`);break;case"materials":this.scene.player.addMaterials(this.resourceAmount),console.log(`GoldMine: Khai thác được ${this.resourceAmount} materials!`);break}return!1}onLongPress(){console.log("=== GOLD MINE INFO ==="),console.log("Resource Type:",this.resourceType),console.log("Resource Amount:",this.resourceAmount),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("========================"),super.onLongPress()}}class yX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Explosive","explosive","bomb"),this.damage=this.GetRandom(20,40),this.radius=this.GetRandom(2,4),this.rarity=3,this.description="Explosive - Bom nổ gây damage cho tất cả trong bán kính.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createDamageDisplay(),this.createRadiusDisplay()}createDamageDisplay(){this.damageBackground=this.scene.add.graphics(),this.damageBackground.fillStyle(16711680),this.damageBackground.fillCircle(0,0,18),this.damageText=this.scene.add.text(0,0,this.damage.toString(),{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.damageText.setOrigin(.5),this.damageDisplay=this.scene.add.container(0,0,[this.damageBackground,this.damageText]),this.damageDisplay.setPosition(57,113),this.add(this.damageDisplay)}createRadiusDisplay(){this.radiusBackground=this.scene.add.graphics(),this.radiusBackground.fillStyle(16737792),this.radiusBackground.fillCircle(0,0,15),this.radiusText=this.scene.add.text(0,0,this.radius.toString(),{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.radiusText.setOrigin(.5),this.radiusDisplay=this.scene.add.container(0,0,[this.radiusBackground,this.radiusText]),this.radiusDisplay.setPosition(-57,113),this.add(this.radiusDisplay)}updateDamage(J){this.damage=J,this.damageText&&this.damageText.setText(this.damage.toString())}updateRadius(J){this.radius=J,this.radiusText&&this.radiusText.setText(this.radius.toString())}CardEffect(){return console.log("Explosive ---------------------- đang chạy hiệu ứng..."),this.explode(),!1}explode(){console.log(`Explosive nổ với damage ${this.damage} và bán kính ${this.radius}!`),this.scene.player&&this.getDistanceToPlayer()<=this.radius&&(this.scene.player.takeDamage(this.damage),console.log(`Explosive gây ${this.damage} damage cho người chơi!`)),this.scene.enemies&&this.scene.enemies.forEach(J=>{this.getDistanceToEnemy(J)<=this.radius&&(J.takeDamage(this.damage),console.log(`Explosive gây ${this.damage} damage cho enemy!`))}),this.destroy()}getDistanceToPlayer(){if(!this.scene.player)return 1/0;const J=this.x-this.scene.player.x,tt=this.y-this.scene.player.y;return Math.sqrt(J*J+tt*tt)}getDistanceToEnemy(J){const tt=this.x-J.x,ot=this.y-J.y;return Math.sqrt(tt*tt+ot*ot)}onLongPress(){console.log("=== EXPLOSIVE INFO ==="),console.log("Damage:",this.damage),console.log("Radius:",this.radius),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("============================"),super.onLongPress()}}class CX extends Yt{constructor(J,tt,ot,ht){super(J,tt,ot,ht,"Empty","empty","empty"),this.isEmpty=!0,this.rarity=1,this.description="Empty - Thẻ trống không có tác dụng, dùng để lấp chỗ trống.",this.createCard(),J.add.existing(this)}addDisplayHUD(){this.createEmptyIndicator()}createEmptyIndicator(){this.emptyIndicatorBackground=this.scene.add.graphics(),this.emptyIndicatorBackground.fillStyle(8421504),this.emptyIndicatorBackground.fillCircle(0,0,15),this.emptyIndicatorText=this.scene.add.text(0,0,"E",{fontSize:"16px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}),this.emptyIndicatorText.setOrigin(.5),this.emptyIndicator=this.scene.add.container(0,0,[this.emptyIndicatorBackground,this.emptyIndicatorText]),this.emptyIndicator.setPosition(0,113),this.add(this.emptyIndicator)}updateEmptyStatus(J){this.isEmpty=J,this.emptyIndicatorText&&this.emptyIndicatorText.setText(this.isEmpty?"E":"F")}CardEffect(){return console.log("Empty ---------------------- đang chạy hiệu ứng..."),console.log("Empty: Thẻ trống không có tác dụng!"),!1}isCardEmpty(){return this.isEmpty}markAsOccupied(){this.isEmpty=!1,this.updateEmptyStatus(!1),console.log("Empty: Thẻ đã được đánh dấu là không còn trống!")}markAsEmpty(){this.isEmpty=!0,this.updateEmptyStatus(!0),console.log("Empty: Thẻ đã được đánh dấu là trống!")}onLongPress(){console.log("=== EMPTY INFO ==="),console.log("Is Empty:",this.isEmpty),console.log("Position:",{x:this.x,y:this.y}),console.log("Grid Index:",this.index),console.log("========================"),super.onLongPress()}}class Ys{constructor(){if(Ys.instance)return Ys.instance;this.characterClasses={eula:Cn,furina:Mv,mavuika:wv,nahida:Rv,raiden:Av,venti:Lv,zhongli:bv},this.cardClasses={Coin:Ru,SwordSteampunk:iX,SwordForest:sX,SwordSkyward:rX,SwordSplendor:nX,SwordTraveler:aX,SwordSacrificial:oX,AnemoSamachurl:Ov,ElectroSamachurl:Fv,DendroSamachurl:Dv,GeoSamachurl:Bv,HydroSamachurl:Iv,HilichurlFighter:Gv,HilistrayWater:kv,WoodenShieldwall:zv,Lawachurl:Nv,RockShieldwall:Vv,Berserker:Uv,Blazing:Wv,IceShieldwall:Xv,Shooter:Yv,Crackling:Hv,CryoShooter:$v,ElectroShooter:Kv,LifeEssence:hX,MystiqueSoup:lX,Pizza:uX,RoastChicken:dX,Macarons:fX,AbyssCall:cX,BreatheFire:pX,Quicksand:vX,Chest:gX,Bribery:mX,GoldMine:xX,Explosive:yX,Empty:CX},this.stageCardPools={},Sa.forEach(J=>{this.stageCardPools[J.stageId]={name:J.name,typeRatios:J.typeRatios,availableCards:J.availableCards}}),this.currentStage="dungeon_abyss_chamber",this.element="cryo",this._cachedCardWeights=null,Ys.instance=this}static getInstance(){return Ys.instance||(Ys.instance=new Ys),Ys.instance}_calculateCardWeights(){var C,A;if(this._cachedCardWeights)return this._cachedCardWeights;const J={},tt=this.stageCardPools[this.currentStage],ot=tt.typeRatios,ht=tt.availableCards,gt={};for(const[s,g]of Object.entries(ot))if(ht[s]){let y=0;for(const f of ht[s])if(this.cardClasses[f]){const h=(((C=this.cardClasses[f].DEFAULT)==null?void 0:C.rarity)||3)*10;y+=h}gt[s]=y}for(const[s,g]of Object.entries(ot))if(ht[s]&&gt[s]){for(const y of ht[s])if(this.cardClasses[y]){const h=(((A=this.cardClasses[y].DEFAULT)==null?void 0:A.rarity)||3)*10/gt[s]*g;J[y]=h}}return this._cachedCardWeights=J,J}createRandomCard(J,tt,ot,ht){const gt=this._calculateCardWeights(),C=Object.values(gt).reduce((y,f)=>y+f,0);if(C===0)return console.warn("CardFactory: Không có thẻ nào có sẵn trong màn chơi hiện tại"),null;const A=Math.random()*C;let s=0;for(const[y,f]of Object.entries(gt))if(s+=f,A<=s){if(y==="Coin")return this.createCoin(J,tt,ot,ht);const l=new this.cardClasses[y](J,tt,ot,ht);return console.log("card",l),l}const g=Object.keys(gt)[Object.keys(gt).length-1];return g==="Coin"?(console.warn("Fallback lỗi : ",g),this.createCoin(J,tt,ot,ht)):new this.cardClasses[g](J,tt,ot,ht)}createCard(J,tt,ot,ht,gt){if(this.cardClasses[J])return new this.cardClasses[J](tt,ot,ht,gt);throw new Error(`Unknown card type: ${J}`)}createCoin(J,tt,ot,ht){return new Ru(J,tt,ot,ht,this.element)}createCharacter(J,tt,ot,ht){const gt=localStorage.getItem("selectedCharacter");if(!gt)return this.element=Cn.DEFAULT.element,new Cn(J,tt,ot,ht);const C=this.characterClasses[gt];return C?(this.element=C.DEFAULT.element,new C(J,tt,ot,ht)):(this.element=Cn.DEFAULT.element,new Cn(J,tt,ot,ht))}getAllCardDefault(){return Object.values(this.cardClasses).map(J=>J.DEFAULT)}addCardToStage(J,tt,ot){if(!this.stageCardPools[J])throw new Error(`Màn chơi '${J}' không tồn tại`);if(!this.stageCardPools[J].availableCards[tt])throw new Error(`Type '${tt}' không tồn tại trong màn chơi '${J}'`);this.stageCardPools[J].availableCards[tt].includes(ot)||(this.stageCardPools[J].availableCards[tt].push(ot),this._cachedCardWeights=null)}removeCardFromStage(J,tt,ot){if(!this.stageCardPools[J])throw new Error(`Màn chơi '${J}' không tồn tại`);if(!this.stageCardPools[J].availableCards[tt])throw new Error(`Type '${tt}' không tồn tại trong màn chơi '${J}'`);const ht=this.stageCardPools[J].availableCards[tt].indexOf(ot);ht>-1&&(this.stageCardPools[J].availableCards[tt].splice(ht,1),this._cachedCardWeights=null)}updateStageTypeRatio(J,tt,ot){if(!this.stageCardPools[J])throw new Error(`Màn chơi '${J}' không tồn tại`);if(!this.stageCardPools[J].typeRatios[tt])throw new Error(`Type '${tt}' không tồn tại trong màn chơi '${J}'`);this.stageCardPools[J].typeRatios[tt]=ot,this._cachedCardWeights=null}getStageInfo(){return this.stageCardPools}getCurrentStageTotalWeight(){const J=this.stageCardPools[this.currentStage];return Object.values(J.typeRatios).reduce((tt,ot)=>tt+ot,0)}getCurrentStageCardWeights(){const J=this._calculateCardWeights(),tt=this.stageCardPools[this.currentStage];return{stage:tt.name,typeRatios:tt.typeRatios,cardWeights:J,totalWeight:this.getCurrentStageTotalWeight()}}setCurrentStage(J){this.stageCardPools[J]?(this.currentStage=J,this._cachedCardWeights=null,console.log(`Đã chuyển sang màn chơi: ${this.stageCardPools[J].name}`)):console.warn(`Màn chơi '${J}' không tồn tại, giữ nguyên màn hiện tại`)}}const SX=Ys.getInstance();class TX{constructor(J){this.scene=J,this.gridSize=3,this.cards=new Array(9).fill(null),this.cardWidth=160,this.cardHeight=274.3,this.spacing=16,this.gridStartX=0,this.gridStartY=0,this.cardFactory=SX,this.cardFactory.setCurrentStage(J.stageId)}initializeGridCoordinates(){if(this.scene&&this.scene.scale){const{width:J,height:tt}=this.scene.scale;this.gridStartX=(J-(3*this.cardWidth+2*this.spacing))/2,this.gridStartY=tt*.23}else console.warn("CardManager: Scene or scale not available, using default coordinates")}addCard(J,tt){tt>=0&&tt<9?this.cards[tt]=J:console.warn(`CardManager: Invalid grid index ${tt}`)}getCard(J){return J>=0&&J<9?this.cards[J]:null}getAllCards(){return this.cards.filter(J=>J!==null)}getGridPositionCoordinates(J){if(J<0||J>=9)return null;const tt=Math.floor(J/this.gridSize),ot=J%this.gridSize,ht=this.gridStartX+ot*(this.cardWidth+this.spacing)+this.cardWidth/2,gt=this.gridStartY+tt*(this.cardHeight+this.spacing)+this.cardHeight/2;return{x:ht,y:gt}}initializeCreateDeck(){this.initializeGridCoordinates();const J=this.getGridPositionCoordinates(4),tt=this.cardFactory.createCharacter(this.scene,J.x,J.y,4);this.addCard(tt,4),console.log(`CardManager: Created character card at position (${J.x}, ${J.y})`);for(let ot=0;ot<9;ot++){const ht=this.getGridPositionCoordinates(ot);if(ht){if(ot===4)continue;const gt=this.cardFactory.createRandomCard(this.scene,ht.x,ht.y,ot);this.addCard(gt,ot),console.log(`CardManager: Created random card ${ot} at position (${ht.x}, ${ht.y})`)}}console.log("CardManager: Deck initialized with 9 random cards")}getCharacterIndex(){for(let J=0;J<this.cards.length;J++)if(this.cards[J]&&this.cards[J].type==="character")return J;return console.warn("CardManager: Không tìm thấy character card"),-1}moveCard(J,tt){if(J<0||J>=9||tt<0||tt>=9)return console.warn(`CardManager: Invalid indices for move: ${J} -> ${tt}`),!1;const ot=this.cards[J];return ot?(ot.index=tt,this.cards[J]=null,this.addCard(ot,tt),!0):(console.warn(`CardManager: No card at position ${J}`),!1)}disableAllCards(){this.getAllCards().forEach(tt=>{tt&&tt.disableInteractive&&tt.disableInteractive()})}enableAllCards(){this.getAllCards().forEach(tt=>{tt&&tt.setInteractive&&tt.setInteractive()})}}class PX{constructor(J){this.scene=J,this.animationQueue=[],this.isProcessing=!1,this.currentAnimation=null}addToQueue(J){this.animationQueue.push(J),this.isProcessing||this.processQueue()}processQueue(){if(this.animationQueue.length===0||this.isProcessing)return;this.isProcessing=!0;const J=this.animationQueue.shift();this.currentAnimation=J,this.executeAnimation(J)}executeAnimation(J){const{type:tt,target:ot,config:ht,onComplete:gt}=J;switch(tt){case"move":this.executeMoveAnimation(ot,ht,gt);break;case"fade":this.executeFadeAnimation(ot,ht,gt);break;case"scale":this.executeScaleAnimation(ot,ht,gt);break;case"rotate":this.executeRotateAnimation(ot,ht,gt);break;default:console.warn(`AnimationManager: Không hỗ trợ animation type "${tt}"`),this.completeAnimation(gt);break}}executeMoveAnimation(J,tt){const ot=Array.isArray(J)?J:[J];let ht=0;const gt=ot.length;ot.forEach(C=>{const A=this.scene.gameManager.cardManager.getCard(C.from),s=this.scene.gameManager.cardManager.getGridPositionCoordinates(C.to),g=A.depth||0;A.setDepth(100),this.scene.tweens.add({targets:A,x:s.x,y:s.y,duration:500,ease:"Power2",onComplete:()=>{A.setDepth(g),ht++,ht>=gt&&this.completeAnimation(tt)}})})}executeFadeAnimation(J,tt,ot){const{alpha:ht,duration:gt=300,ease:C="Power2"}=tt;this.scene.tweens.add({targets:J,alpha:ht,duration:gt,ease:C,onComplete:()=>{this.completeAnimation(ot)}})}executeScaleAnimation(J,tt,ot){const{scaleX:ht,scaleY:gt,duration:C=300,ease:A="Back.easeOut"}=tt;this.scene.tweens.add({targets:J,scaleX:ht,scaleY:gt,duration:C,ease:A,onComplete:()=>{this.completeAnimation(ot)}})}executeRotateAnimation(J,tt,ot){const{angle:ht,duration:gt=500,ease:C="Power2"}=tt;this.scene.tweens.add({targets:J,angle:ht,duration:gt,ease:C,onComplete:()=>{this.completeAnimation(ot)}})}completeAnimation(J){if(J&&typeof J=="function")try{J()}catch(tt){console.error("AnimationManager: Error in callback:",tt)}this.currentAnimation=null,this.isProcessing=!1,this.animationQueue.length>0&&this.processQueue()}clearQueue(){this.animationQueue=[]}stopCurrentAnimation(){this.currentAnimation&&this.currentAnimation.target&&this.scene.tweens.killTweensOf(this.currentAnimation.target)}getStatus(){return{queueLength:this.animationQueue.length,isProcessing:this.isProcessing,currentAnimation:this.currentAnimation?this.currentAnimation.type:null}}destroy(){console.log("AnimationManager: Đang dọn dẹp..."),this.clearQueue(),this.stopCurrentAnimation(),this.scene=null}}class EX{constructor(J){this.scene=J,this.coin=0,this.highScore=this.getHighScore(),this.cardManager=new TX(J),this.moveCardManager=new KW,this.animationManager=new PX(J)}moveCharacter(J){if(this.animationManager.isProcessing)return;this.cardManager.disableAllCards();const tt=this.cardManager.getCharacterIndex();if(this.moveCardManager.isValidMove(tt,J)){const ot=this.moveCardManager.calculateMovement(tt,J);if(this.cardManager.getCard(J).CardEffect())return;this.cardManager.getCard(J).ProgressDestroy(),this.animationManager.executeMoveAnimation(ot,()=>{if(console.log("moveCharacter completed"),ot.forEach(ht=>{this.cardManager.moveCard(ht.from,ht.to)}),ot.length>0){const gt=ot[ot.length-1].from,C=this.cardManager.getGridPositionCoordinates(gt);if(C){const A=this.cardManager.cardFactory.createRandomCard(this.scene,C.x,C.y,gt);this.cardManager.addCard(A,gt),A.processCreation&&A.processCreation()}}this.cardManager.enableAllCards()})}else this.cardManager.enableAllCards()}getHighScore(){const J=this.scene.stageId;let tt=localStorage.getItem("highScores");if(tt===null){const gt=JSON.stringify({});localStorage.setItem("highScores",gt),tt=gt}return(JSON.parse(tt)||{})[J]||0}setHighScore(J){const tt=this.scene.stageId;let ot=localStorage.getItem("highScores"),ht={};ot===null?ht={}:ht=JSON.parse(ot)||{},ht[tt]=J,localStorage.setItem("highScores",JSON.stringify(ht)),console.log(`GameManager: High score set for ${tt}: ${J}`)}addCoin(J){var tt;this.coin+=J,this.coin>this.highScore&&(this.setHighScore(this.coin),this.highScore=this.coin,console.log(`GameManager: New high score for ${this.scene.stageId}: ${this.coin}`)),this.scene&&this.scene.coinText?(this.scene.coinText.setText(`🪙${this.coin}`),console.log(`GameManager: UI coin updated to ${this.coin}`)):console.warn(`GameManager: Cannot update coin UI - scene: ${!!this.scene}, coinText: ${!!((tt=this.scene)!=null&&tt.coinText)}`),console.log(`GameManager: Added ${J} coins, total: ${this.coin}`)}getCardManager(){return this.cardManager}}class Wi{constructor(J,tt,ot,ht,gt,C,A=5){this.name=J,this.nameId=tt,this.image=ot,this._power=ht,this._cooldown=gt,this.description=C,this.level=0,this.maxLevel=A}get power(){return this._power*(1+this.level*.2)}get cooldown(){return Math.max(0,this._cooldown-this.level*.5)}isUpgrade(){return this.level<this.maxLevel}upgrade(){return this.isUpgrade()?(this.level++,!0):!1}getPrice(){return this.level===0?1e3:this.level*100}getInfo(){return{name:this.name,nameId:this.nameId,image:this.image,power:this.power,cooldown:this.cooldown,description:this.description,level:this.level,maxLevel:this.maxLevel}}}class MX extends Wi{constructor(){super("Black Hole","black-hole","black-hole",100,5,"Tạo hố đen hút tất cả enemy",8)}get power(){return this._power*(1+this.level*.3)}get cooldown(){return Math.max(1,this._cooldown-this.level*.8)}}class wX extends Wi{constructor(){super("Catalyst","catalyst","catalyst",25,0,"Tăng sức mạnh phép thuật",6)}get power(){return this._power*(1+this.level*.25)}}class RX extends Wi{constructor(){super("Claw","claw","claw",40,1,"Tấn công với 40 damage",5)}get power(){return this._power*(1+this.level*.2)}get cooldown(){return Math.max(0,this._cooldown-this.level*.2)}}class AX extends Wi{constructor(){super("Cooldown","cooldown","cooldown",0,0,"Giảm cooldown của skill",7)}get power(){return this._power+this.level*5}}class LX extends Wi{constructor(){super("Corruption","corruption","corruption",80,3,"Gây corruption 80 damage",6)}get power(){return this._power*(1+this.level*.25)}get cooldown(){return Math.max(1,this._cooldown-this.level*.5)}}class bX extends Wi{constructor(){super("Healing Potion","healing-potion","healing-potion",50,0,"Hồi phục 50 HP",5)}get power(){return this._power*(1+this.level*.15)}}class OX extends Wi{constructor(){super("Refinement","refinement","refinement",0,0,"Tinh chế item để tăng sức mạnh",6)}get power(){return this._power+this.level*10}}class FX extends Wi{constructor(){super("Repair","repair","repair",0,0,"Sửa chữa item bị hỏng",5)}get power(){return this._power+this.level*20}}class DX extends Wi{constructor(){super("Seasoning","seasoning","seasoning",0,0,"Gia vị để tăng hiệu quả item",6)}get power(){return this._power+this.level*15}}class BX extends Wi{constructor(){super("Sword","sword","sword",60,1,"Vũ khí mạnh với 60 damage",5)}get power(){return this._power*(1+this.level*.25)}get cooldown(){return Math.max(0,this._cooldown-this.level*.3)}}class IX extends Wi{constructor(){super("Tax Waiver","tax-waiver","tax-waiver",0,0,"Miễn thuế cho item",5)}get power(){return this._power+this.level*25}}class GX extends Wi{constructor(){super("Toxic","toxic","toxic",30,2,"Gây độc 30 damage mỗi turn trong 2 turn",5)}get power(){return this._power*(1+this.level*.2)}get cooldown(){return Math.max(1,this._cooldown-this.level*.2)}}class Hs{constructor(){if(Hs.instance)return Hs.instance;this.items=new Map,this.initializeItems(),Hs.instance=this}static getInstance(){return Hs.instance||(Hs.instance=new Hs),Hs.instance}initializeItems(){this.items.set("healing-potion",bX),this.items.set("toxic",GX),this.items.set("claw",RX),this.items.set("cooldown",AX),this.items.set("sword",BX),this.items.set("catalyst",wX),this.items.set("refinement",OX),this.items.set("seasoning",DX),this.items.set("repair",FX),this.items.set("black-hole",MX),this.items.set("tax-waiver",IX),this.items.set("corruption",LX)}createItem(J){const tt=this.items.get(J);return tt?new tt:null}getItemKeys(){return Array.from(this.items.keys())}}const Zv=Hs.getInstance();class kX extends oe.Scene{constructor(){super({key:"GameScene"})}init(J){const{stageId:tt}=J||{};this.stageId=tt||"dungeon_abyss_chamber",this.dungeonStageName=Sa.find(ot=>ot.stageId===this.stageId).name,console.log("GameScene: Dungeon data:",this.dungeonStageName),this.gameManager=new EX(this)}preload(){}create(){const{width:J,height:tt}=this.scale;this.add.image(J/2,tt/2,"background"),this.add.rectangle(J/2,tt/2,J,tt,0).setAlpha(.5),this.createUI(),this.createDeck()}createUI(){const{width:J,height:tt}=this.scale,ot=this.add.text(J*.95,tt*.05,"☰",{fontSize:"32px",fill:"#ffffff",stroke:"#2d0d21",strokeThickness:2});ot.setInteractive({useHandCursor:!0}),ot.setOrigin(.5),ot.on("pointerover",()=>{ot.setScale(1.1),ot.setTint(13750737)}),ot.on("pointerout",()=>{ot.setScale(1),ot.clearTint()}),ot.on("pointerdown",()=>{this.scene.start("MenuScene")}),this.stageText=this.add.text(J*.5,tt*.035,this.dungeonStageName,{fontSize:"30px",fill:"#FFD700",fontFamily:"Arial, sans-serif",fontWeight:"bold",stroke:"#E69500",strokeThickness:2}).setOrigin(.5),this.highScoreText=this.add.text(J*.5,tt*.07,`High Score: ${this.gameManager.highScore}`,{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif"}).setOrigin(.5).setAlpha(.8),this.coinText=this.add.text(J*.75,tt*.13,`🪙${this.gameManager.coin}`,{fontSize:"32px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",strokeThickness:2});const ht=this.createItemButtonsFromStorage(),gt=90,C=J*.18;ht.forEach((A,s)=>{this.createItemButton(C+s*gt,tt*.15,A)})}createDeck(){this.gameManager.getCardManager().initializeCreateDeck(this)}useItem(J){console.log(`Sử dụng item: ${J}`);const{width:tt,height:ot}=this.scale,ht=this.add.text(tt/2,ot*.8,`Đã sử dụng ${J}!`,{fontSize:"18px",fill:"#f39c12",stroke:"#2c3e50",strokeThickness:2}).setOrigin(.5);this.time.delayedCall(2e3,()=>{ht.destroy()})}createItemButton(J,tt,ot){const ht=this.add.container(J,tt),gt=68,C=this.add.graphics();C.fillStyle(7171437,1),C.fillRoundedRect(-gt/2,-gt/2,gt,gt,20),C.setAlpha(.5);const A=this.add.image(0,0,ot.image);A.setDisplaySize(80,80);const s=this.add.text(gt/2,-gt/2,ot.cooldown.toString(),{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",stroke:"#000000",strokeThickness:5});return s.setOrigin(.5),ht.add([C,A,s]),ht.setSize(gt,gt),ht.setInteractive(),ht.on("pointerover",()=>{ht.setScale(1.1)}),ht.on("pointerout",()=>{ht.setScale(1)}),ht.on("pointerdown",()=>{this.useItem(ot.name)}),ht}createItemButtonsFromStorage(){try{const J=localStorage.getItem("equipment");if(J&&J!=="null"){const tt=JSON.parse(J);if(Array.isArray(tt)&&tt.length>0){const ot=tt.map(ht=>Zv.createItem(ht));return console.log("Item buttons created from equipment:",ot),ot}}return console.log("No equipment data found, returning empty item buttons"),[]}catch(J){return console.error("Error creating item buttons from storage:",J),[]}}}class Zo{static createGradientText(J,tt){const{text:ot="text default",x:ht=0,y:gt=0,width:C,height:A,fontSize:s,fontFamily:g="Arial",gradientColors:y=["#cbbd1bff","#c57826ff","#8c3c0eff"],strokeColor:f="#1f0612ff",strokeWidth:l}=tt,h=C||J.scale.width,r=A||J.scale.height,o=Math.max(100,Math.floor(h*.8)),u=Math.max(50,Math.floor(r*.15)),a=s||Math.max(32,Math.min(64,Math.floor(o/10))),d=l||Math.max(2,Math.floor(a/18)),c=`gradientText_${ot}`;if(!J.textures.exists(c)){const v=J.textures.createCanvas(c,o,u),m=v.getContext("2d");m.clearRect(0,0,o,u);const T=m.createLinearGradient(0,0,0,u);T.addColorStop(0,y[0]),T.addColorStop(.5,y[1]),T.addColorStop(1,y[2]),m.font=`bold ${a}px ${g}`,m.textAlign="center",m.textBaseline="middle",m.lineWidth=d,m.strokeStyle=f,m.strokeText(ot,o/2,u/2),m.fillStyle=T,m.fillText(ot,o/2,u/2),v.refresh()}return J.add.image(ht,gt,c).setOrigin(.5)}static createGameTitle(J,tt,ot,ht){return this.createGradientText(J,{text:tt,x:ot,y:ht,gradientColors:["#cbbd1bff","#c57826ff","#8c3c0eff"],strokeColor:"#1f0612ff"})}}class Lu{static createHeaderUI(J,tt,ot){const ht=localStorage.getItem("totalCoin")||"0",gt=J.add.text(tt*.05,ot*.05,`🪙 : ${ht}`,{fontSize:"32px",fill:"#ffffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",stroke:"#000000ff",strokeThickness:2}),C=J.add.text(tt*.935,ot*.065,"⚙️",{fontSize:"32px",fontFamily:"Arial, sans-serif"}).setOrigin(.5,.5);return C.setInteractive({useHandCursor:!0}),C.on("pointerover",()=>{J.tweens.add({targets:C,rotation:Math.PI*2,duration:500,ease:"Power2"})}),C.on("pointerdown",()=>{console.log("Settings button được click!")}),{updateCoinDisplay:A=>{gt.setText(`🪙 : ${A}`)}}}}const AT=[{id:"eula",name:"Eula",description:"Eula – nữ thần của thủy quyền, đại diện cho sự cân bằng giữa lực lượng và tình cảm. Bên ngoài là vị thần đầy sức mạnh, nhưng bên trong là người phụ nữ đầy tình cảm và nhạy cảm.",hp:10,element:"cryo"},{id:"furina",name:"Furina",description:"Furina – nữ thần của thủy quyền, đại diện cho sự cân bằng giữa lực lượng và tình cảm. Bên ngoài là vị thần đầy sức mạnh, nhưng bên trong là người phụ nữ đầy tình cảm và nhạy cảm.",hp:12,element:"hydro"},{id:"mavuika",name:"Mavuika",description:"Mavuika – Hỏa Thần Natlan, biểu tượng của sức mạnh và ý chí bất khuất. Ngọn lửa trong nàng cháy rực như tinh thần chiến binh, soi sáng con đường tự do và khát vọng vĩnh cửu.",hp:11,element:"pyro"},{id:"nahida",name:"Nahida",description:"Nahida – Tiểu Vương Kusanali, vị Thảo Thần bé nhỏ của Sumeru. Với trái tim thuần khiết và trí tuệ hiền hòa, nàng mang khát vọng dẫn dắt nhân loại đến sự khai sáng và tự do.",hp:9,element:"dendro"},{id:"raiden",name:"Raiden",description:"Raiden Shogun – vĩnh hằng thống trị Inazuma, kiếm thần uy nghiêm với quyết tâm bất diệt. Bên ngoài lạnh lùng nhưng ẩn sâu là khát vọng giữ trọn lời hứa và bảo vệ thần dân.",hp:10,element:"electro"},{id:"venti",name:"Venti",description:"Venti – nhà thơ du ca tự do, chính là Phong Thần Mondstadt. Dáng vẻ nghịch ngợm và phóng khoáng, nhưng bên trong là vị thần nhân từ luôn dùng âm nhạc để xoa dịu lòng người.",hp:8,element:"anemo"},{id:"zhongli",name:"Zhongli",description:"Zhongli – hiền giả tao nhã, thực chất là Nham Thần Liyue. Với trí tuệ hàng ngàn năm và phong thái điềm tĩnh, ông là hiện thân của vững bền, mang gánh nặng lịch sử nặng nề.",hp:10,element:"geo"}];class zX extends oe.Scene{constructor(){super({key:"MenuScene"}),this.cards=AT}preload(){}create(){const{width:J,height:tt}=this.scale;this.add.image(J/2,tt/2,"background").setDisplaySize(J,tt),this.textures.exists("background")||this.add.rectangle(J/2,tt/2,J,tt,9852778),Lu.createHeaderUI(this,J,tt),Zo.createGameTitle(this,"DUNGEON CARD",J/2,tt*.18),this.createCardSpreadContainer(J/2,tt*.5),this.createButton(J/2-J*.3,tt*.8,"library","Thư viện","LibraryScene"),this.createButton(J/2,tt*.8,"compass","Thám hiểm","MapScenes"),this.createButton(J/2+J*.3,tt*.8,"equip","Trang bị","EquipScene");const ht=this.add.text(J/2,tt*.95,"OPTIONS",{fontSize:"24px",fill:"#95a5a6",fontFamily:"Arial",stroke:"#2c3e50",strokeThickness:1}).setOrigin(.5);ht.on("pointerdown",()=>{this.scene.stop("GameScene"),this.scene.start("LoadingScene",{targetScene:"GameScene"})}),ht.setInteractive({useHandCursor:!0}),ht.on("pointerover",()=>{ht.setStyle({fill:"#7f8c8d"})}),ht.on("pointerout",()=>{ht.setStyle({fill:"#95a5a6"})})}createButton(J,tt,ot,ht,gt){const C=this.add.container(J,tt),A=this.add.image(0,20,ot);A.setDisplaySize(180,180);const s=this.add.text(0,-80,ht,{fontSize:"28px",fill:"#ffffffff",fontFamily:"Arial",stroke:"#000000ff",strokeThickness:2}).setOrigin(.5);s.setAlpha(0),C.add([A,s]),C.setInteractive(new oe.Geom.Rectangle(-90,-90,180,180),oe.Geom.Rectangle.Contains),C.on("pointerdown",()=>{this.scene.start("LoadingScene",{targetScene:gt})}),C.on("pointerover",()=>{this.tweens.add({targets:s,alpha:1,duration:200,ease:"Power2"}),C.setScale(1.1)}),C.on("pointerout",()=>{this.tweens.add({targets:s,alpha:0,duration:200,ease:"Power2"}),C.setScale(1)})}createIndividualCard(J,tt,ot,ht,gt,C){const A=(J-1)*(ot+gt),s=Math.abs(J-1)*10,g=tt.endsWith("-sprite"),y=this.add.graphics();y.lineStyle(4,g?14467183:16777215,1),y.strokeRoundedRect(-(ot+2)/2,-(ht+2)/2,ot+2,ht+2,20);let f;g?f=Jv.create(this,0,0,tt,ot,ht):f=this.add.image(0,0,tt).setDisplaySize(ot,ht);const l=this.add.container(A,s);return J===1&&(l.setScale(1.02),l.setPosition(A,s-10)),l.add([y,f]),l.setRotation(oe.Math.DegToRad(C[J])),l}createCardSpreadContainer(J,tt){const ot=this.add.container(J,tt),ht=260,gt=445.7142,C=-180;let A=[this.cards[this.cards.length-1].id,this.cards[0].id,this.cards[1].id],s=localStorage.getItem("selectedCharacter");if(s!==null)try{const l=s,h=this.cards.findIndex(r=>r.id===l);if(h!==-1){A=[this.cards[(h-1+this.cards.length)%this.cards.length].id,this.cards[h].id,this.cards[(h+1)%this.cards.length].id];let r=localStorage.getItem("CharacterLevel");if(r!==null)try{const o=JSON.parse(r);A=A.map(u=>{const a=o[u];return a&&a>2?u+"-sprite":u})}catch(o){console.warn("Không thể parse CharacterLevel:",o)}}else console.warn("Không tìm thấy card")}catch{console.warn("Không tìm thấy card")}else console.warn("Không tìm thấy card");const g=[-15,0,15],y=[0,2,1],f=[];y.forEach(l=>{const h=this.createIndividualCard(l,A[l],ht,gt,C,g);ot.add(h),f.push(h)}),ot.setInteractive(new oe.Geom.Rectangle(-200,-200,400,400),oe.Geom.Rectangle.Contains),ot.on("pointerover",()=>{const l=[-18,18,0],h=[-120,120,0],r=[0,0,-30],o=[1.02,1.02,1.02];f.forEach((u,a)=>{const d=oe.Math.DegToRad(l[a]);this.tweens.add({targets:u,x:h[a],y:r[a],rotation:d,scale:o[a],duration:300,ease:"Power2"})})}),ot.on("pointerout",()=>{const l=[-15,15,0],h=[-80,80,0],r=[0,0,-20],o=[1,1,1.02];f.forEach((u,a)=>{const d=oe.Math.DegToRad(l[a]);this.tweens.add({targets:u,rotation:d,x:h[a],y:r[a],scale:o[a],duration:300,ease:"Power2"})})}),ot.on("pointerdown",()=>{this.scene.start("LoadingScene",{targetScene:"SelectCharacterScene"})})}}class NX extends oe.Scene{constructor(){super({key:"EquipScene"}),this.equipmentSlots=new Array(3).fill(null)}preload(){}create(){const{width:J,height:tt}=this.scale;this.add.image(J/2,tt/2,"background"),this.headerUI=Lu.createHeaderUI(this,J,tt),Zo.createGameTitle(this,"TRANG BỊ",J/2,tt*.18),this.createItemGrid(J,tt),this.createEquipmentSlots(J,tt),this.createBackButton(J,tt),this.initializeEquipmentSlots()}wake(){console.log("EquipScene woke up - reinitializing equipment slots"),this.initializeEquipmentSlots()}createItemGrid(J,tt){const A=Zv.getItemKeys();this.listItems=new Map,A.forEach(o=>{const u=Zv.createItem(o);u&&this.listItems.set(o,{item:u,container:null})});const s=tt*.25,g=4*120+3*20+40,y=3*120+2*20+40,f=J/2,l=s+(3*140-20)/2,h=this.add.graphics();h.fillStyle(0,.5),h.fillRoundedRect(-g/2,-y/2,g,y,20),h.strokeRoundedRect(-g/2,-y/2,g,y,20);const r=this.add.container(f,l);r.add(h);for(let o=0;o<3;o++)for(let u=0;u<4;u++){const a=o*4+u,d=A[a],c=(u-3/2)*140,p=(o-2/2)*140,v=this.add.container(c,p),m=this.add.graphics();m.fillStyle(8421504,.3),m.fillRoundedRect(-120/2,-120/2,120,120,15),m.strokeRoundedRect(-120/2,-120/2,120,120,15);const T=this.add.image(0,0,d);T.setDisplaySize(120,120),T.setOrigin(.5),v.add([m,T]),r.add(v),this.listItems.get(d).container=v,v.setInteractive(new oe.Geom.Rectangle(-120/2,-120/2,120,120),oe.Geom.Rectangle.Contains),v.on("pointerover",()=>{v.setScale(1.1)}),v.on("pointerout",()=>{v.setScale(1)}),v.on("pointerdown",()=>{console.log(`Item clicked: ${d} at Row ${o}, Col ${u}`);const E=this.listItems.get(d);E&&E.item&&this.showItemDialog(E.item,!1)})}}createEquipmentSlots(J,tt){const C=tt*.7,A=J/2,s=C,g=this.add.container(A,s);for(let y=0;y<3;y++){const f=(y-1)*150,l=this.add.container(f,0),h=this.add.graphics();h.fillStyle(8421504,.5),h.lineStyle(2,0,.5),h.fillRoundedRect(-120/2,-120/2,120,120,10),h.strokeRoundedRect(-120/2,-120/2,120,120,10);let r;this.equipmentSlots[y]&&this.equipmentSlots[y].item?(r=this.add.image(0,0,this.equipmentSlots[y].item.image),r.setDisplaySize(120,120)):(r=this.add.image(0,0,"equipment-slot"),r.setDisplaySize(120*.8,120*.8),r.setAlpha(.3)),r.setOrigin(.5),l.add([h,r]),g.add(l),this.equipmentSlots[y]={item:null,image:r},l.setInteractive(new oe.Geom.Rectangle(-120/2,-120/2,120,120),oe.Geom.Rectangle.Contains),l.on("pointerover",()=>{this.equipmentSlots[y]&&this.equipmentSlots[y].item&&l.setScale(1.1)}),l.on("pointerout",()=>{this.equipmentSlots[y]&&this.equipmentSlots[y].item&&l.setScale(1)}),l.on("pointerdown",()=>{console.log(`Equipment slot clicked: Column ${y}`),this.equipmentSlots[y]&&this.equipmentSlots[y].item&&this.showItemDialog(this.equipmentSlots[y].item,!0)})}}addEquipmentSlot(J){const tt=this.equipmentSlots.findIndex(ot=>ot.item===null);if(tt!==-1){this.equipmentSlots[tt].item=J;const ot=this.equipmentSlots[tt];return ot.image&&(ot.image.setTexture(J.image),ot.image.setDisplaySize(120,120),ot.image.setAlpha(1)),tt}return null}getEquipmentSlot(J){return J>=0&&J<3?this.equipmentSlots[J]:(console.warn("Equipment slot index out of bounds"),null)}clearEquipmentSlot(J){const tt=this.equipmentSlots.findIndex(ot=>ot&&ot.item&&ot.item.nameId===J);if(tt!==-1){const ot=this.equipmentSlots[tt];ot&&(ot.item=null,ot.image&&(ot.image.setTexture("equipment-slot"),ot.image.setDisplaySize(120*.8,120*.8),ot.image.setAlpha(.3)))}else console.warn(`Item with nameId '${J}' not found in equipment slots`)}isFullEquipmentSlot(){return this.equipmentSlots.every(J=>J&&J.item!==null)}showItemDialog(J,tt=!1){const{width:ot,height:ht}=this.scale,gt=this.add.graphics();gt.fillStyle(0,.8),gt.fillRect(0,0,ot,ht);const C=Math.floor(ot*.9),A=500,s=ot/2,g=ht/2,y=this.add.container(s,g),f=this.add.graphics();f.fillStyle(2952481,.98),f.lineStyle(3,9852778,1),f.fillRoundedRect(-C/2,-A/2,C,A,20),f.strokeRoundedRect(-C/2,-A/2,C,A,20);const l=this.add.text(0,-A/2+30,`${J.name}`,{fontSize:"32px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}).setOrigin(.5),h=this.add.image(0,-120,J.image);h.setDisplaySize(180,180),h.setOrigin(.5);const r=this.add.text(0,0,J.description,{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",lineSpacing:10}).setOrigin(.5),o=this.add.graphics(),u=180,a=40,d=-120,c=80;o.fillStyle(9852778,.9),o.lineStyle(2,2033172,1),o.fillRoundedRect(d-u/2,c-a/2,u,a,10),o.strokeRoundedRect(d-u/2,c-a/2,u,a,10);const p=this.add.text(d,c,`Power⚔️ : ${J.power}`,{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}).setOrigin(.5),v=this.add.graphics(),m=180,T=40,E=120,P=80;v.fillStyle(9852778,.9),v.lineStyle(2,2033172,1),v.fillRoundedRect(E-m/2,P-T/2,m,T,10),v.strokeRoundedRect(E-m/2,P-T/2,m,T,10);const w=this.add.text(E,P,`Cooldown⏱️ : ${J.cooldown}`,{fontSize:"18px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}).setOrigin(.5),R=this.add.container(0,A/2-50),b=this.add.text(-200,-42,`🪙${J.getPrice()}`,{fontSize:"20px",fill:"#ffffff",fontWeight:"bold",fontFamily:"Arial, sans-serif"}).setOrigin(.5);b.setAlpha(0);const O=this.add.text(-200,0,J.level===0?"UNLOCK":J.isUpgrade()?"UPGRADE":"LEVEL MAX",{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:J.isUpgrade()?"#622945":"#45162c",padding:{x:25,y:12}}).setOrigin(.5);O.setStroke("#45162c",2),J.isUpgrade()?(O.setInteractive({useHandCursor:!0}),O.on("pointerover",()=>{O.setScale(1.1),b.setAlpha(1)}),O.on("pointerout",()=>{O.setScale(1),b.setAlpha(0)}),O.on("pointerdown",()=>{J.upgrade()&&(r.setText(J.description),p.setText(`Power⚔️ : ${J.power}`),w.setText(`Cooldown⏱️ : ${J.cooldown}`),b.setText(`🪙${J.getPrice()}`),J.isUpgrade()?J.level>0&&O.setText("UPGRADE"):(O.setText("LEVEL MAX"),O.setStyle({backgroundColor:"#45162c"}),O.disableInteractive(),O.off("pointerover"),O.off("pointerout"),O.off("pointerdown"),b.setAlpha(0)))})):O.disableInteractive();const I=this.add.text(0,0,tt?"DESELECT":"SELECT",{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#622945",padding:{x:25,y:12}}).setOrigin(.5);I.setStroke("#45162c",2),!tt&&this.isFullEquipmentSlot()?I.setVisible(!1):(I.setInteractive({useHandCursor:!0}),I.on("pointerover",()=>I.setScale(1.1)),I.on("pointerout",()=>I.setScale(1)),I.on("pointerdown",()=>{console.log(`Select item: ${J.name}`),tt?(this.clearEquipmentSlot(J.nameId),this.listItems.get(J.nameId).container.setVisible(!0),gt.destroy(),y.destroy(),this.input.keyboard.off("keydown-ESC")):(this.addEquipmentSlot(J),this.listItems.get(J.nameId).container.setVisible(!1),gt.destroy(),y.destroy(),this.input.keyboard.off("keydown-ESC"))}));const D=this.add.text(200,0,"CLOSE",{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#622945",padding:{x:25,y:12}}).setOrigin(.5);D.setStroke("#45162c",2),D.setInteractive({useHandCursor:!0}),D.on("pointerover",()=>D.setScale(1.1)),D.on("pointerout",()=>D.setScale(1)),D.on("pointerdown",()=>{gt.destroy(),y.destroy(),this.input.keyboard.off("keydown-ESC")}),O&&(R.add(O),R.add(b)),R.add(I),R.add(D);const B=[f,l,h,r,o,p,v,w,R];y.add(B),gt.setInteractive(new oe.Geom.Rectangle(0,0,ot,ht),oe.Geom.Rectangle.Contains),this.input.keyboard.on("keydown-ESC",()=>{gt.destroy(),y.destroy(),this.input.keyboard.off("keydown-ESC")})}createBackButton(J,tt){const ot=this.add.text(J*.5,tt*.9,"SELECT",{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#622945",padding:{x:25,y:12}}).setOrigin(.5);ot.setInteractive({useHandCursor:!0}),ot.on("pointerover",()=>{ot.setScale(1.1),ot.setTint(13750737)}),ot.on("pointerout",()=>{ot.setScale(1),ot.clearTint()}),ot.on("pointerdown",()=>{const ht=this.equipmentSlots.filter(C=>C&&C.item&&C.item.nameId).map(C=>C.item.nameId),gt=ht.length>0?ht:null;localStorage.setItem("equipment",JSON.stringify(gt)),this.scene.start("MenuScene")})}initializeEquipmentSlots(){try{const J=localStorage.getItem("equipment");if(J&&J!=="null"){const tt=JSON.parse(J);Array.isArray(tt)&&tt.length>0?(this.resetEquipmentSlots(),tt.forEach(ot=>{if(ot&&this.listItems.has(ot)){const ht=this.listItems.get(ot);ht&&ht.item&&(this.addEquipmentSlot(ht.item),ht.container&&ht.container.setVisible(!1))}}),console.log("Equipment slots initialized from localStorage:",tt)):this.resetEquipmentSlots()}else this.resetEquipmentSlots()}catch(J){console.error("Error initializing equipment slots:",J),this.resetEquipmentSlots()}}resetEquipmentSlots(){this.listItems.forEach(J=>{J.container&&J.container.setVisible(!0)});for(let J=0;J<this.equipmentSlots.length;J++)this.equipmentSlots[J]&&this.equipmentSlots[J].image&&(this.equipmentSlots[J].item=null,this.equipmentSlots[J].image.setTexture("equipment-slot"),this.equipmentSlots[J].image.setDisplaySize(120*.8,120*.8),this.equipmentSlots[J].image.setAlpha(.3))}}const PT=9852778,VX=2033172;class UX extends oe.Scene{constructor(){super({key:"LibraryScene"})}preload(){this.load.image("empty","assets/images/cards/empty.webp")}create(){const{width:J,height:tt}=this.scale;this.add.image(J/2,tt/2,"background"),this.add.rectangle(J/2,tt/2,J,tt,0).setAlpha(.5),Zo.createGameTitle(this,"Library Cards",J/2,tt*.12),Lu.createHeaderUI(this,J,tt);var ot=this.createCardPanel();this.rexUI.add.scrollablePanel({x:J/2,y:tt*.52,height:tt*.7,width:J*.9,scrollMode:"y",background:this.rexUI.add.roundRectangle({strokeColor:PT,radius:10}),panel:{child:ot,mask:{padding:10}},slider:{track:this.rexUI.add.roundRectangle({width:20,radius:10,color:VX}),thumb:this.rexUI.add.roundRectangle({radius:13,color:PT})},mouseWheelScroller:{focus:!1,speed:.1},touchScroll:!0,touchScrollBehavior:"pan",space:{left:20,right:20,top:20,bottom:20,panel:5}}).layout().setChildrenInteractive({targets:ot.children}).on("child.click",ht=>{console.log("LibraryScene: Card clicked!"),console.log("Child object:",ht),console.log(`Card Index: ${ht.cardIndex}`),console.log(`Card Name: ${ht.name}`)}),this.createBackButton(J,tt)}createBackButton(J,tt){const ot=this.add.text(J*.5,tt*.9,"BACK",{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#622945",padding:{x:25,y:12}}).setOrigin(.5);ot.setInteractive({useHandCursor:!0}),ot.on("pointerover",()=>{ot.setScale(1.1),ot.setTint(13750737)}),ot.on("pointerout",()=>{ot.setScale(1),ot.clearTint()}),ot.on("pointerdown",()=>{this.scene.start("MenuScene")})}createCardPanel(){var J=this.rexUI.add.sizer({orientation:"y",space:{item:30}});for(let ot=0;ot<12;ot++){var tt=this.rexUI.add.sizer({orientation:"x",space:{item:30}});for(let ht=0;ht<3;ht++){let gt=ot*3+ht,C=this.createCard(gt+1);tt.add(C)}J.add(tt)}return J}createCard(J,tt=160,ot=274.3){let ht=this.rexUI.add.roundRectangle({x:0,y:0,width:tt+4,height:ot+4,strokeColor:16777215,strokeThickness:2,radius:Math.min(tt,ot)*.08}),gt=this.add.image(0,0,"eula").setDisplaySize(tt,ot),C=this.add.text(0,ot*.35,`Card ${J}`,{fontSize:Math.max(8,tt*.15),fill:"#ffffff",fontFamily:"Arial",stroke:"#000000",strokeThickness:Math.max(1,tt*.02)}).setOrigin(.5),A=this.add.container().setSize(tt,ot).add([ht,gt,C]);return A.cardIndex=J,A.name=`card_${J}`,A}}class WX extends oe.Scene{constructor(){super({key:"MapScenes"}),this.currentPage=0,this.itemsPerPage=5,this.dungeonButtons=[]}preload(){}create(){const{width:J,height:tt}=this.scale;this.add.image(J/2,tt/2,"background"),this.add.rectangle(J/2,tt/2,J,tt,0).setAlpha(.5),Zo.createGameTitle(this,"DUNGEON MAP",J/2,tt*.18),this.dungeonContainer=this.add.container(J/2,tt*.5),this.createInitialDungeonButtons(J,tt),this.createPaginationButtons(J,tt),this.showCurrentPage()}createInitialDungeonButtons(J,tt){const ot=J*.7,ht=tt*.08,gt=20;for(let C=0;C<5;C++){const A=(C-2)*(ht+gt),s=this.add.rectangle(0,A,ot,ht,6433093);s.setAlpha(.5),s.setStrokeStyle(3,9852778),s.setInteractive();const g=this.add.text(0,A,"",{fontSize:"32px",fill:"#ffffff",fontFamily:"Arial",stroke:"#000000",strokeThickness:2}).setOrigin(.5);s.on("pointerover",()=>{s.setFillStyle(9774171),s.setStrokeStyle(3,16777215)}),s.on("pointerout",()=>{s.setFillStyle(6433093),s.setStrokeStyle(3,9852778)}),s.dungeonData=null,s.on("pointerdown",()=>{if(s.dungeonData){const{name:f,stageId:l}=s.dungeonData;console.log("MapScenes: Dungeon clicked!"),console.log(`stageId: ${l}`),console.log(`name: ${f}`),console.log("TODO: Implement dungeon logic"),this.scene.stop("GameScene"),this.scene.start("LoadingScene",{targetScene:"GameScene",dataTargetScene:{stageId:l}})}});const y=this.add.container(0,0);y.add([s,g]),this.dungeonButtons[C]=y,y.setVisible(!1),this.dungeonContainer.add(y)}console.log("MapScenes: Initial 5 dungeon buttons created and hidden")}updateDungeonButton(J,tt,ot){J.getAt(1).setText(tt);const gt=J.getAt(0);gt.dungeonData={name:tt,stageId:ot},console.log(`MapScenes: Button updated - "${tt}"`)}createPaginationButtons(J,tt){const ot=tt*.8,ht=this.add.text(J*.3,ot,"‹",{fontSize:"40px",fill:"#ffffff",fontFamily:"Arial",stroke:"#000000",strokeThickness:2}).setOrigin(.5);ht.setInteractive({useHandCursor:!0}),ht.on("pointerdown",()=>{ht.text==="«"?this.scene.start("MenuScene"):this.previousPage()});const gt=this.add.text(J*.7,ot,"›",{fontSize:"40px",fill:"#ffffff",fontFamily:"Arial",stroke:"#000000",strokeThickness:2}).setOrigin(.5);gt.setInteractive({useHandCursor:!0}),gt.on("pointerdown",()=>{this.nextPage()}),[ht,gt].forEach(C=>{C.on("pointerover",()=>{C.setStyle({fill:"#ffd700"})}),C.on("pointerout",()=>{C.setStyle({fill:"#ffffff"})})}),this.prevButton=ht,this.nextButton=gt}showCurrentPage(){const J=this.currentPage*this.itemsPerPage,tt=Math.min(J+this.itemsPerPage,Sa.length),ot=Sa.slice(J,tt);console.log(`MapScenes: Showing page ${this.currentPage+1}, items ${J+1}-${tt}`);for(let ht=0;ht<5;ht++)if(ht<ot.length){const gt=ot[ht];this.updateDungeonButton(this.dungeonButtons[ht],gt.name,gt.stageId),this.dungeonButtons[ht].setVisible(!0),console.log(`MapScenes: Button ${ht} updated with "${gt.name}" (baseIndex: ${J+ht})`)}else this.dungeonButtons[ht].setVisible(!1),console.log(`MapScenes: Button ${ht} hidden (no data)`);this.updatePaginationButtons()}previousPage(){this.currentPage>0&&(this.currentPage--,this.showCurrentPage())}nextPage(){const J=Math.ceil(Sa.length/this.itemsPerPage)-1;this.currentPage<J&&(this.currentPage++,this.showCurrentPage())}updatePaginationButtons(){this.currentPage>0?(this.prevButton.setText("‹"),this.prevButton.setStyle({fill:"#ffffff"}),this.prevButton.setInteractive()):(this.prevButton.setText("«"),this.prevButton.setInteractive());const J=Math.ceil(Sa.length/this.itemsPerPage)-1;this.currentPage<J?(this.nextButton.setStyle({fill:"#ffffff"}),this.nextButton.setInteractive()):(this.nextButton.setStyle({fill:"#666666"}),this.nextButton.disableInteractive())}}class XX extends oe.Scene{constructor(){super({key:"SelectCharacterScene"}),this.cards=AT,this.currentCardIndex=this.initializeCurrentCardIndex()}preload(){}create(){const{width:J,height:tt}=this.scale;this.add.image(J/2,tt/2,"background").setDisplaySize(J,tt),this.textures.exists("background")||this.add.rectangle(J/2,tt/2,J,tt,2899536),this.headerUI=Lu.createHeaderUI(this,J,tt),Zo.createGameTitle(this,"CHARACTER",J/2,tt*.12),this.createInfoPanel(J,tt),this.createCurrentCardDisplay(J,tt),this.createNavigationButtons(J,tt),this.createBackButton(J,tt),this.updateCardDisplay()}createInfoPanel(J,tt){const ot=this.add.graphics();ot.fillStyle(9852778,.8),ot.fillRoundedRect(J*.1,tt*.15,J*.8,tt*.25,20),ot.lineStyle(3,2033172,1),ot.strokeRoundedRect(J*.1,tt*.15,J*.8,tt*.25,20),this.cardNameText=this.add.text(J*.5,tt*.18,"",{fontSize:"32px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold"}).setOrigin(.5),this.cardLevelText=this.add.text(J*.82,tt*.18,"level 1",{fontSize:"20px",fill:"#FFD700",fontFamily:"Arial, sans-serif",fontWeight:"bold"}).setOrigin(.5),this.cardElementImage=this.add.image(J*.1+32,tt*.15+32,"element-cryo"),this.cardElementImage.setDisplaySize(32,32),this.cardDescriptionText=this.add.text(J*.5,tt*.26,"",{fontSize:"20px",fill:"#ffffff",fontFamily:"Arial, sans-serif",wordWrap:{width:J*.75},align:"center"}).setOrigin(.5),this.cardHPText=this.add.text(J*.5,tt*.32,"❤️ 7",{fontSize:"32px",fill:"#ffffff",fontFamily:"Arial, sans-serif",wordWrap:{width:J*.75},align:"center"}).setOrigin(.5),this.cardHPText.hp=7,this.upgradeButton=this.add.text(J*.5,tt*.36,"UPGRADE",{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#95245b",padding:{x:20,y:10}}).setOrigin(.5),this.upgradeButton.setInteractive({useHandCursor:!0}),this.upgradeButton.on("pointerover",()=>{this.cards[this.currentCardIndex].level<9&&(this.upgradeButton.setTint(13750737),this.upgradeButton.setScale(1.1),this.upgradeButton.setStyle({fill:"#ffee8dff"}),this.cardHPText.setText(`🪙${this.upgradeCharacterPrice()}`))}),this.upgradeButton.on("pointerout",()=>{this.upgradeButton.clearTint(),this.upgradeButton.setScale(1),this.upgradeButton.setStyle({fill:"#ffffff"}),this.cardHPText.setText(`❤️ ${this.cardHPText.hp}`)}),this.upgradeButton.on("pointerdown",()=>{this.cards[this.currentCardIndex].level<9&&(console.log("Upgrade button clicked!"),this.upgradeCharacter())})}createCurrentCardDisplay(J,tt){this.currentCardContainer=this.add.container(J/2,tt*.65),this.currentCardImage=this.add.image(0,0,"eula"),this.currentCardImage.setDisplaySize(300,514),this.cardBorder=this.add.graphics(),this.cardBorder.lineStyle(4,16777215,1),this.cardBorder.fillStyle(16777215,1),this.cardBorder.fillRoundedRect(-152,-259,304,518,28),this.cardBorder.strokeRoundedRect(-152,-259,304,518,28),this.currentCardContainer.add(this.cardBorder),this.currentCardContainer.add(this.currentCardImage)}createNavigationButtons(J,tt){this.prevButton=this.add.text(J*.2,tt*.65,"◀",{fontSize:"28px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",padding:{x:20,y:15}}).setOrigin(.5),this.prevButton.setInteractive({useHandCursor:!0}),this.prevButton.on("pointerover",()=>{}),this.prevButton.on("pointerout",()=>{}),this.prevButton.on("pointerdown",()=>{this.previousCard()}),this.nextButton=this.add.text(J*.8,tt*.65,"▶",{fontSize:"28px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",padding:{x:20,y:15}}).setOrigin(.5),this.nextButton.setInteractive({useHandCursor:!0}),this.nextButton.on("pointerover",()=>{this.nextButton.setScale(1.1)}),this.nextButton.on("pointerout",()=>{this.nextButton.setScale(1)}),this.nextButton.on("pointerdown",()=>{this.nextCard()})}createBackButton(J,tt){this.backButton=this.add.text(J*.5,tt*.9,"SELECT",{fontSize:"24px",fill:"#ffffff",fontFamily:"Arial, sans-serif",fontWeight:"bold",backgroundColor:"#622945",padding:{x:25,y:12}}).setOrigin(.5),this.backButton.setInteractive({useHandCursor:!0}),this.backButton.on("pointerover",()=>{this.backButton.setScale(1.1),this.backButton.setTint(13750737)}),this.backButton.on("pointerout",()=>{this.backButton.setScale(1),this.backButton.clearTint()}),this.backButton.on("pointerdown",()=>{localStorage.setItem("selectedCharacter",this.cards[this.currentCardIndex].id),this.scene.start("MenuScene")})}updateCardDisplay(){const J=this.cards[this.currentCardIndex];let tt=localStorage.getItem("CharacterLevel");if(tt)try{tt=JSON.parse(tt),tt[J.id]?J.level=tt[J.id]:J.level=1}catch(ot){console.warn("Error parsing CharacterLevel from localStorage:",ot),J.level=1}else J.level=1;this.cardNameText.setText(J.name),this.cardElementImage.setTexture(`element-${J.element.toLowerCase()}`),this.cardDescriptionText.setText(J.description),this.cardHPText.setText(`❤️ ${J.hp+J.level-1}`),this.cardLevelText.setText(`level ${J.level}`),J.level>=9?(this.upgradeButton.setText("MAX LEVEL"),this.upgradeButton.setStyle({fill:"#FFFFFF"}),this.upgradeButton.setScale(1)):this.upgradeButton.setText("UPGRADE"),this.cardHPText.hp=J.hp+J.level-1,J.level>2?(this.currentCardContainer.remove(this.currentCardImage,!0),this.currentCardImage=Jv.create(this,0,0,J.id+"-sprite",300,514),this.currentCardContainer.add(this.currentCardImage),this.cardBorder.clear(),this.cardBorder.lineStyle(4,14467183,1),this.cardBorder.fillStyle(14467183,1),this.cardBorder.fillRoundedRect(-152,-259,304,518,28),this.cardBorder.strokeRoundedRect(-152,-259,304,518,28)):(this.currentCardContainer.remove(this.currentCardImage,!0),this.currentCardImage=this.add.image(0,0,J.id),this.currentCardImage.setDisplaySize(300,514),this.currentCardContainer.add(this.currentCardImage),this.cardBorder.clear(),this.cardBorder.lineStyle(4,16777215,1),this.cardBorder.fillStyle(16777215,1),this.cardBorder.fillRoundedRect(-152,-259,304,518,28),this.cardBorder.strokeRoundedRect(-152,-259,304,518,28)),this.prevButton.setAlpha(this.currentCardIndex===0?.5:1),this.nextButton.setAlpha(this.currentCardIndex===this.cards.length-1?.5:1)}previousCard(){this.currentCardIndex>0&&(this.currentCardIndex--,this.updateCardDisplay())}nextCard(){this.currentCardIndex<this.cards.length-1&&(this.currentCardIndex++,this.updateCardDisplay())}upgradeCharacterPrice(){return this.cards[this.currentCardIndex].level*100}upgradeCharacter(){const J=this.cards[this.currentCardIndex];if(J.level>=9){console.log(`Character ${J.name} is already at max level!`);return}let tt=localStorage.getItem("CharacterLevel");if(!tt)tt={};else try{tt=JSON.parse(tt)}catch(ot){console.warn("Error parsing CharacterLevel from localStorage:",ot),tt={}}J.level+=1,tt[J.id]=J.level,localStorage.setItem("CharacterLevel",JSON.stringify(tt)),this.updateCardDisplay(),console.log(`Character ${J.name} upgraded to level ${J.level}`)}initializeCurrentCardIndex(){let J=0;const tt=localStorage.getItem("selectedCharacter");if(tt!==null)try{const ot=tt,ht=this.cards.findIndex(gt=>gt.id===ot);return ht!==-1?(console.log(`SelectCharacterScene: Đã tìm thấy selectedCharacter "${ot}" tại index ${ht}`),ht):(console.warn(`SelectCharacterScene: Không tìm thấy selectedCharacter "${ot}" trong mảng cards, sử dụng index mặc định ${J}`),J)}catch(ot){return console.warn(`SelectCharacterScene: Lỗi parse selectedCharacter, sử dụng index mặc định ${J}`,ot),J}else return console.log(`SelectCharacterScene: Không có selectedCharacter, sử dụng index mặc định ${J}`),J}}const YX={type:oe.AUTO,width:720,height:1280,parent:"game-container",backgroundColor:"#96576a",scale:{mode:oe.Scale.FIT,autoCenter:oe.Scale.CENTER_BOTH},plugins:{scene:[{key:"rexUI",plugin:IW,mapping:"rexUI"}]},scene:[$W,zX,XX,NX,UX,WX,kX]},HX=new oe.Game(YX);window.game=HX;
